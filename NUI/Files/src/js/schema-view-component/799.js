(self.webpackChunkterrasoft=self.webpackChunkterrasoft||[]).push([[799],{68592:(e,t,n)=>{var i={"./copy-row-action.svg":63898,"./delete-row-action.svg":4942,"./edit-row-action.svg":64939};function r(e){var t=a(e);return n(t)}function a(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}r.keys=function(){return Object.keys(i)},r.resolve=a,e.exports=r,r.id=68592},49735:(e,t,n)=>{var i={"./binary-icon.svg":48941,"./boolean-icon.svg":13742,"./date-icon.svg":17129,"./date-time-icon.svg":46684,"./float-icon.svg":53073,"./guid-icon.svg":3465,"./image-icon.svg":99104,"./integer-icon.svg":41337,"./lookup-icon.svg":250,"./string-icon.svg":84764,"./time-icon.svg":85443};function r(e){var t=a(e);return n(t)}function a(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}r.keys=function(){return Object.keys(i)},r.resolve=a,e.exports=r,r.id=49735},35106:(e,t,n)=>{var i={"./add-data-source-icon.svg":66259,"./cell-icon.svg":80159,"./copy-icon.svg":92595,"./delete-icon.svg":73972,"./gauge-tile-icon.svg":51119,"./gears-icon.svg":63691,"./metric-tile-icon.svg":27890,"./padding.svg":87885,"./reset.svg":25006,"./settings.svg":66576,"./source-code.svg":63893,"./tab-action-add-icon.svg":70494,"./tab-action-remove-icon.svg":42702,"./undo.svg":1781};function r(e){var t=a(e);return n(t)}function a(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}r.keys=function(){return Object.keys(i)},r.resolve=a,e.exports=r,r.id=35106},20470:(e,t,n)=>{var i={"./flex-column-icon.svg":80805,"./flex-row-icon.svg":15335};function r(e){var t=a(e);return n(t)}function a(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}r.keys=function(){return Object.keys(i)},r.resolve=a,e.exports=r,r.id=20470},83028:(e,t,n)=>{var i={"./grid-area-1-icon.svg":85482,"./grid-column-1-icon.svg":96153,"./grid-column-2-icon.svg":61399,"./grid-column-3-icon.svg":73953,"./grid-column-4-icon.svg":39079};function r(e){var t=a(e);return n(t)}function a(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}r.keys=function(){return Object.keys(i)},r.resolve=a,e.exports=r,r.id=83028},38280:(e,t,n)=>{var i={"./datetime-picker-calendar-icon.svg":54422};function r(e){var t=a(e);return n(t)}function a(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}r.keys=function(){return Object.keys(i)},r.resolve=a,e.exports=r,r.id=38280},86634:(e,t,n)=>{var i={"./datetime-picker-toggle-date-icon.svg":21695,"./datetime-picker-toggle-time-icon.svg":89854};function r(e){var t=a(e);return n(t)}function a(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}r.keys=function(){return Object.keys(i)},r.resolve=a,e.exports=r,r.id=86634},71477:(e,t,n)=>{var i={"./error-icon.svg":58796,"./warning-icon.svg":11342};function r(e){var t=a(e);return n(t)}function a(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}r.keys=function(){return Object.keys(i)},r.resolve=a,e.exports=r,r.id=71477},88395:(e,t,n)=>{var i={"./collapse.svg":67525};function r(e){var t=a(e);return n(t)}function a(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}r.keys=function(){return Object.keys(i)},r.resolve=a,e.exports=r,r.id=88395},46377:(e,t,n)=>{var i={"./arrow-down.svg":36141,"./full-screen-close.svg":15894,"./full-screen-open.svg":30360,"./info.svg":75741,"./settings.svg":22574,"./show-more-icon.svg":80507};function r(e){var t=a(e);return n(t)}function a(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}r.keys=function(){return Object.keys(i)},r.resolve=a,e.exports=r,r.id=46377},98781:(e,t,n)=>{var i={"./actions-button-icon.svg":53937,"./add-button-icon.svg":69319,"./back-button-icon.svg":2180,"./bars-button-icon.svg":25465,"./calculator-button-icon.svg":55796,"./close-button-icon.svg":7686,"./delete-button-icon.svg":78337,"./disk-warn-button-icon.svg":75694,"./document-button-icon.svg":13472,"./document-new-button-icon.svg":51462,"./email-button-icon.svg":20569,"./flag-button-icon.svg":76244,"./gear-button-icon.svg":61076,"./import-button-icon.svg":96054,"./lock-button-icon.svg":28242,"./message-warn-button-icon.svg":57028,"./more-button-icon.svg":62378,"./open-button-icon.svg":63958,"./pencil-button-icon.svg":54939,"./print-button-icon.svg":61760,"./process-button-icon.svg":8057,"./reload-button-icon.svg":92407,"./save-button-icon.svg":80892,"./settings-button-icon.svg":39259,"./social-button-icon.svg":58345};function r(e){var t=a(e);return n(t)}function a(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}r.keys=function(){return Object.keys(i)},r.resolve=a,e.exports=r,r.id=98781},74002:(e,t,n)=>{var i={"./bag-tab-icon.svg":79111,"./bell-tab-icon.svg":50633,"./calendar-tab-icon.svg":74335,"./campaign-tab-icon.svg":86518,"./case-tab-icon.svg":72987,"./chat-tab-icon.svg":83560,"./checkbox-tab-icon.svg":44262,"./clock-tab-icon.svg":3303,"./coins-tab-icon.svg":19368,"./complete-document-tab-icon.svg":21712,"./default-tab-icon.svg":46076,"./diagram-tab-icon.svg":57484,"./document-editing-tab-icon.svg":11430,"./email-tab-icon.svg":81989,"./employee-tab-icon.svg":54305,"./empty-document-tab-icon.svg":61098,"./flowchart-tab-icon.svg":11404,"./folder-tab-icon.svg":36296,"./gantt-chart-tab-icon.svg":40195,"./gift-tab-icon.svg":98020,"./goal-tab-icon.svg":81058,"./group-of-people-tab-icon.svg":23219,"./home-tab-icon.svg":4853,"./information-tab-icon.svg":25051,"./lock-tab-icon.svg":28362,"./log-tab-icon.svg":43198,"./magnifying-glass-tab-icon.svg":77862,"./money-tab-icon.svg":30697,"./open-book-tab-icon.svg":84776,"./organizational-structure-tab-icon.svg":95329,"./pen-tab-icon.svg":46554,"./phone-tab-icon.svg":10308,"./problem-tab-icon.svg":8307,"./settings-tab-icon.svg":45010,"./star-tab-icon.svg":9940,"./support-tab-icon.svg":57180,"./task-tab-icon.svg":24444,"./tiles-tab-icon.svg":65038,"./trolley-tab-icon.svg":76078,"./work-tab-icon.svg":86343};function r(e){var t=a(e);return n(t)}function a(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}r.keys=function(){return Object.keys(i)},r.resolve=a,e.exports=r,r.id=74002},19270:(e,t,n)=>{var i={"./action-dashboard-before-actions.svg":97790,"./action-dashboard-call.svg":16066,"./action-dashboard-dcm-arrow-end.svg":70283,"./action-dashboard-dcm-arrow-gray-end.svg":21741,"./action-dashboard-dcm-arrow-gray-start.svg":84520,"./action-dashboard-dcm-arrow-green-end.svg":82681,"./action-dashboard-dcm-arrow-start.svg":67971,"./action-dashboard-email.svg":17815,"./action-dashboard-feed.svg":74367,"./action-dashboard-item-flag.svg":59042,"./action-dashboard-item-text.svg":12096,"./action-dashboard-task.svg":85514,"./action-dashboard.svg":90164,"./arrow.svg":48988,"./button.svg":13474,"./button/actions-button-icon.svg":53937,"./button/add-button-icon.svg":69319,"./button/back-button-icon.svg":2180,"./button/bars-button-icon.svg":25465,"./button/calculator-button-icon.svg":55796,"./button/close-button-icon.svg":7686,"./button/delete-button-icon.svg":78337,"./button/disk-warn-button-icon.svg":75694,"./button/document-button-icon.svg":13472,"./button/document-new-button-icon.svg":51462,"./button/email-button-icon.svg":20569,"./button/flag-button-icon.svg":76244,"./button/gear-button-icon.svg":61076,"./button/import-button-icon.svg":96054,"./button/lock-button-icon.svg":28242,"./button/message-warn-button-icon.svg":57028,"./button/more-button-icon.svg":62378,"./button/open-button-icon.svg":63958,"./button/pencil-button-icon.svg":54939,"./button/print-button-icon.svg":61760,"./button/process-button-icon.svg":8057,"./button/reload-button-icon.svg":92407,"./button/save-button-icon.svg":80892,"./button/settings-button-icon.svg":39259,"./button/social-button-icon.svg":58345,"./checkbox.svg":89567,"./color-picker-arrow.svg":75588,"./color-picker.svg":75413,"./combobox-add-new.svg":68874,"./combobox-arrow.svg":95264,"./combobox-go-to-source.svg":21942,"./combobox-input.svg":26208,"./cross_default_state.svg":6342,"./data-grid-detail.svg":12787,"./data-grid.svg":56068,"./date-time.svg":18031,"./date.svg":69884,"./datetime-input.svg":26497,"./default-tab-icon.svg":92661,"./error-icon.svg":91348,"./esn-feed.svg":39060,"./expansion-panel-arrow-down-mat.svg":4381,"./expansion-panel-arrow-down.svg":70170,"./expansion-panel-arrow-up-mat.svg":70626,"./expansion-panel-arrow-up.svg":60309,"./expansion-panel.svg":65518,"./eye-blue.svg":72373,"./eye-crossed.svg":64889,"./eye.svg":8266,"./filter-icon.svg":67065,"./folder-tree-actions-filter-close.svg":28283,"./folder-tree-actions-menu-arrow.svg":29265,"./folder-tree-actions-menu-eye.svg":75567,"./folder-tree-actions-menu-filter.svg":16044,"./folder-tree-actions.svg":32935,"./folder-tree-add-new-folder.svg":77797,"./folder-tree-change-folder-rights.svg":42957,"./folder-tree-close-icon.svg":54159,"./folder-tree-copy-folder.svg":25066,"./folder-tree-favorite-filled-icon.svg":75137,"./folder-tree-favorite-outlined-icon.svg":90703,"./folder-tree-folder-icon.svg":78111,"./folder-tree-new-filter-icon.svg":18590,"./folder-tree-opened-parent-icon.svg":23613,"./folder-tree-parent-icon.svg":66520,"./folder-tree-remove-folder.svg":64788,"./folder-tree-rename-folder.svg":49115,"./folder-tree.svg":11377,"./freeze.svg":30574,"./gallery-default-item-image.svg":52934,"./gallery.svg":3692,"./gallery/kebab.svg":6694,"./kebab.svg":8655,"./label.svg":47747,"./lock.svg":47056,"./menu-arrow.svg":40899,"./number-input.svg":64620,"./pin.svg":91912,"./plus.svg":44298,"./rename.svg":84517,"./reset.svg":28006,"./save.svg":53781,"./slider.svg":43289,"./snowflake.svg":52606,"./tab-panel/bag-tab-icon.svg":79111,"./tab-panel/bell-tab-icon.svg":50633,"./tab-panel/calendar-tab-icon.svg":74335,"./tab-panel/campaign-tab-icon.svg":86518,"./tab-panel/case-tab-icon.svg":72987,"./tab-panel/chat-tab-icon.svg":83560,"./tab-panel/checkbox-tab-icon.svg":44262,"./tab-panel/clock-tab-icon.svg":3303,"./tab-panel/coins-tab-icon.svg":19368,"./tab-panel/complete-document-tab-icon.svg":21712,"./tab-panel/default-tab-icon.svg":46076,"./tab-panel/diagram-tab-icon.svg":57484,"./tab-panel/document-editing-tab-icon.svg":11430,"./tab-panel/email-tab-icon.svg":81989,"./tab-panel/employee-tab-icon.svg":54305,"./tab-panel/empty-document-tab-icon.svg":61098,"./tab-panel/flowchart-tab-icon.svg":11404,"./tab-panel/folder-tab-icon.svg":36296,"./tab-panel/gantt-chart-tab-icon.svg":40195,"./tab-panel/gift-tab-icon.svg":98020,"./tab-panel/goal-tab-icon.svg":81058,"./tab-panel/group-of-people-tab-icon.svg":23219,"./tab-panel/home-tab-icon.svg":4853,"./tab-panel/information-tab-icon.svg":25051,"./tab-panel/lock-tab-icon.svg":28362,"./tab-panel/log-tab-icon.svg":43198,"./tab-panel/magnifying-glass-tab-icon.svg":77862,"./tab-panel/money-tab-icon.svg":30697,"./tab-panel/open-book-tab-icon.svg":84776,"./tab-panel/organizational-structure-tab-icon.svg":95329,"./tab-panel/pen-tab-icon.svg":46554,"./tab-panel/phone-tab-icon.svg":10308,"./tab-panel/problem-tab-icon.svg":8307,"./tab-panel/settings-tab-icon.svg":45010,"./tab-panel/star-tab-icon.svg":9940,"./tab-panel/support-tab-icon.svg":57180,"./tab-panel/task-tab-icon.svg":24444,"./tab-panel/tiles-tab-icon.svg":65038,"./tab-panel/trolley-tab-icon.svg":76078,"./tab-panel/work-tab-icon.svg":86343,"./tabs-panel.svg":14800,"./text-input.svg":65834,"./time.svg":63090,"./tooltip-icon.svg":87726};function r(e){var t=a(e);return n(t)}function a(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}r.keys=function(){return Object.keys(i)},r.resolve=a,e.exports=r,r.id=19270},9596:(e,t,n)=>{var i={"./arrow-down.svg":80431,"./blue-background.svg":59076,"./bright-red-background.svg":37515,"./celestial-blue-background.svg":33365,"./change-layout-icon.svg":66514,"./chart-show-data.icon.svg":99084,"./chart-widget-area-menu.icon.svg":14992,"./chart-widget-area.icon.svg":39417,"./chart-widget-bar-menu.icon.svg":10007,"./chart-widget-bar.icon.svg":13009,"./chart-widget-doughnut-menu.icon.svg":35974,"./chart-widget-doughnut.icon.svg":21542,"./chart-widget-horizontal-bar-menu.icon.svg":31942,"./chart-widget-horizontal-bar.icon.svg":31332,"./chart-widget-line-menu.icon.svg":44442,"./chart-widget-line.icon.svg":63112,"./chart-widget-scatter-menu.icon.svg":61822,"./chart-widget-scatter.icon.svg":32331,"./chart-widget-spline-menu.icon.svg":26215,"./chart-widget-spline.icon.svg":23708,"./chart-widget-tsfunnel-menu.icon.svg":37078,"./chart-widget-tsfunnel.icon.svg":90566,"./coral-background.svg":91258,"./dark-green-background.svg":27859,"./dark-turquoise-background.svg":46523,"./dot.icon.svg":78067,"./full-pipeline-widget.icon.svg":39582,"./funnel-widget.icon.svg":17185,"./gauge-widget-icon.svg":79743,"./gear-icon.svg":44086,"./green-background.svg":83491,"./indicator-widget.icon.svg":27146,"./layout-position-column.svg":24678,"./layout-position-row-reverse.svg":16678,"./layout-position-row.svg":35603,"./light-blue-background.svg":86849,"./light-green-background.svg":9311,"./maximize-icon.svg":72144,"./menu.svg":44776,"./minimize-icon.svg":60482,"./navy-blue-background.svg":29192,"./orange-background.svg":1819,"./orange-red-background.svg":5658,"./purple-background.svg":31157,"./red-background.svg":8201,"./switch-chart-type.svg":89447,"./turquoise-background.svg":15924,"./violet-background.svg":41113,"./widget-header-arrow.svg":36979};function r(e){var t=a(e);return n(t)}function a(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}r.keys=function(){return Object.keys(i)},r.resolve=a,e.exports=r,r.id=9596},63045:(e,t,n)=>{var i={"./chart-widget-area-menu.icon.svg":14992,"./chart-widget-area.icon.svg":39417,"./chart-widget-bar-menu.icon.svg":10007,"./chart-widget-bar.icon.svg":13009,"./chart-widget-doughnut-menu.icon.svg":35974,"./chart-widget-doughnut.icon.svg":21542,"./chart-widget-horizontal-bar-menu.icon.svg":31942,"./chart-widget-horizontal-bar.icon.svg":31332,"./chart-widget-line-menu.icon.svg":44442,"./chart-widget-line.icon.svg":63112,"./chart-widget-scatter-menu.icon.svg":61822,"./chart-widget-scatter.icon.svg":32331,"./chart-widget-spline-menu.icon.svg":26215,"./chart-widget-spline.icon.svg":23708,"./chart-widget-tsfunnel-menu.icon.svg":37078,"./chart-widget-tsfunnel.icon.svg":90566};function r(e){var t=a(e);return n(t)}function a(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}r.keys=function(){return Object.keys(i)},r.resolve=a,e.exports=r,r.id=63045},50416:(e,t,n)=>{var i={"./blue-background.svg":16370,"./bright-red-background.svg":6766,"./celestial-blue-background.svg":46567,"./coral-background.svg":67403,"./dark-green-background.svg":83514,"./dark-turquoise-background.svg":67118,"./green-background.svg":85549,"./light-blue-background.svg":48668,"./light-green-background.svg":82182,"./navy-blue-background.svg":87572,"./orange-background.svg":24582,"./orange-red-background.svg":8744,"./purple-background.svg":83054,"./red-background.svg":56066,"./turquoise-background.svg":55990,"./violet-background.svg":87405};function r(e){var t=a(e);return n(t)}function a(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}r.keys=function(){return Object.keys(i)},r.resolve=a,e.exports=r,r.id=50416},79577:(e,t,n)=>{"use strict";n.r(t);var i=n(6036),r=(n(31066),n(43738)),a=n(64762),o=n(61900),s=n(10756),l=n(46662),c=n(24751),d=n(54141),u=n(75629),p=n(93555),m=n(39490),h=n(14435),g=n(88002),f=n(45435),v=n(11593),b=n(46782),C=n(3263),y=n(32371);const w=["input"];let _=(()=>{class e{constructor(e,t,n){this.ngControl=e,this.autofillMonitor=t,this.focusMonitor=n,this._disabled=!1,this._placeholder="",this._required=!1,this._focused=!1,this.destroy=new h.Subject,this.autofilled=!1,this.stateChanges=new h.Subject,this.onTouched=()=>{},e&&(this.ngControl.valueAccessor=this)}set elementRef(e){e&&(this._elementRef=e)}get elementRef(){return this._elementRef}get disabled(){return this._disabled}set disabled(e){this._disabled=(0,m.Ig)(e),this.stateChanges.next()}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get required(){return this._required}set required(e){this._required=(0,m.Ig)(e),this.stateChanges.next()}get value(){return this.innerValue}set value(e){this.writeValue(e)}get innerValue(){return this._innerValue}set innerValue(e){this.setInnerValueSilent(e),this.callChangeHandler()}get empty(){return!this.autofilled&&!this.value}get focused(){return this._focused}set focused(e){this._focused=e,this.stateChanges.next()}get shouldLabelFloat(){return this.focused||!this.empty}setInnerValueSilent(e){this._innerValue=e}callChangeHandler(){this.onChange?this.onChange(this._innerValue):this.stateChanges.next()}focusElementViaMouse(){this.focusMonitor.focusVia(this.elementRef.nativeElement,"mouse")}initMonitors(){this.focusMonitor.monitor(this.elementRef.nativeElement,!0).subscribe((e=>{this.focused=Boolean(e)})),this.autofillMonitor.monitor(this.elementRef).pipe((0,g.U)((e=>e.isAutofilled)),(0,f.h)((e=>e)),(0,v.O)(!1),(0,b.R)(this.destroy)).subscribe((e=>this.autofilled=e))}onContainerClick(e){"input"!==e.target.tagName.toLowerCase()&&this.focusElementViaMouse()}setDescribedByIds(){}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}writeValue(e){this._innerValue=e,this.stateChanges.next()}setDisabledState(e){this._disabled=e}ngDoCheck(){this.ngControl&&(this.errorState=this.ngControl.invalid&&this.ngControl.touched,this.stateChanges.next())}ngAfterViewInit(){this.initMonitors()}ngOnDestroy(){this.destroy.next(),this.destroy.complete()}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](c.a5),l["ɵɵdirectiveInject"](C.Lq),l["ɵɵdirectiveInject"](y.tE))},e.ɵdir=l["ɵɵdefineDirective"]({type:e,viewQuery:function(e,t){if(1&e&&l["ɵɵviewQuery"](w,5,l.ElementRef),2&e){let e;l["ɵɵqueryRefresh"](e=l["ɵɵloadQuery"]())&&(t.elementRef=e.first)}},hostVars:2,hostBindings:function(e,t){1&e&&l["ɵɵlistener"]("focusout",(function(){return t.onTouched()})),2&e&&l["ɵɵclassProp"]("floating",t.shouldLabelFloat)},inputs:{disabled:"disabled",placeholder:"placeholder",required:"required",value:"value"}}),e})();var x=n(46833),I=(()=>(function(e){e[e.CHECKING=0]="CHECKING",e[e.CONNECTED=1]="CONNECTED",e[e.WARNING=2]="WARNING",e[e.DISCONNECTED=3]="DISCONNECTED"}(I||(I={})),I))();let S=(()=>{class e{constructor(){this._statusMap={},this.status=I.CHECKING,this.description="",this._statusMap[I.CHECKING]="checking",this._statusMap[I.CONNECTED]="connected",this._statusMap[I.DISCONNECTED]="disconnected",this._statusMap[I.WARNING]="warning"}get statusCssClassName(){const e=this._statusMap[this.status];if(void 0===e)throw new Error("Invalid indicator status");return e}}return e.ɵfac=function(t){return new(t||e)},e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["ts-connection-indicator"]],inputs:{status:"status",description:"description"},decls:4,vars:3,consts:[[1,"connection-indicator-wrap"],[1,"indicator-desc"]],template:function(e,t){1&e&&(l["ɵɵelementStart"](0,"div",0),l["ɵɵelement"](1,"div"),l["ɵɵelementStart"](2,"mat-label",1),l["ɵɵtext"](3),l["ɵɵelementEnd"](),l["ɵɵelementEnd"]()),2&e&&(l["ɵɵadvance"](1),l["ɵɵclassMap"]("indicator  indicator-status-"+t.statusCssClassName),l["ɵɵadvance"](2),l["ɵɵtextInterpolate"](t.description))},directives:[x.hX],styles:[".connection-indicator-wrap[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-start;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}.indicator-desc[_ngcontent-%COMP%]{height:1.5em;margin:.5em .25em;color:#999}.indicator[_ngcontent-%COMP%]{width:1em;height:1em;border-radius:.5em;margin:.7em .25em .5em}.indicator-status-checking[_ngcontent-%COMP%]{background-color:#afacac}.indicator-status-connected[_ngcontent-%COMP%]{background-color:#0dc700}.indicator-status-warning[_ngcontent-%COMP%]{background-color:#ff8f00}.indicator-status-disconnected[_ngcontent-%COMP%]{background-color:#ed1b34}"]}),e})(),M=(()=>{class e{}return e.ɵfac=function(t){return new(t||e)},e.ɵmod=l["ɵɵdefineNgModule"]({type:e}),e.ɵinj=l["ɵɵdefineInjector"]({providers:[],imports:[[x.lN]]}),e})();function D(e,t){if(1&e&&(l["ɵɵelementContainerStart"](0),l["ɵɵelement"](1,"img",3),l["ɵɵelementContainerEnd"]()),2&e){const e=l["ɵɵnextContext"]();l["ɵɵadvance"](1),l["ɵɵpropertyInterpolate"]("src",null==e.contact?null:e.contact.photo,l["ɵɵsanitizeUrl"])}}function P(e,t){if(1&e&&(l["ɵɵelementStart"](0,"span",4),l["ɵɵtext"](1),l["ɵɵelementEnd"]()),2&e){const e=l["ɵɵnextContext"]();l["ɵɵstyleProp"]("background-color",e.contactColor),l["ɵɵadvance"](1),l["ɵɵtextInterpolate"](e.getInitials())}}("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](M,{declarations:[S],imports:[x.lN],exports:[S]});const T=["*"];let k=(()=>{class e{constructor(){this.contactClick=new l.EventEmitter}ngOnInit(){}getInitials(){if(!this.contact||!this.contact.name)return"";return this.contact.name.replace(/\s+/g," ").trim().split(" ",2).map((function(e){return e.substr(0,1).toUpperCase()})).join("")}contactClicked(){return this.contactClick.emit({contactId:this.contact.id}),!1}}return e.ɵfac=function(t){return new(t||e)},e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["ts-contact-photo"]],inputs:{contact:"contact",contactColor:"contactColor"},outputs:{contactClick:"contactClick"},ngContentSelectors:T,decls:5,vars:2,consts:[[3,"click"],[4,"ngIf","ngIfElse"],["noPhoto",""],["alt","Contact photo",1,"contact-photo",3,"src"],[1,"contact-photo","no-photo"]],template:function(e,t){if(1&e&&(l["ɵɵprojectionDef"](),l["ɵɵelementStart"](0,"div",0),l["ɵɵlistener"]("click",(function(){return t.contactClicked()})),l["ɵɵtemplate"](1,D,2,1,"ng-container",1),l["ɵɵtemplate"](2,P,2,3,"ng-template",null,2,l["ɵɵtemplateRefExtractor"]),l["ɵɵprojection"](4),l["ɵɵelementEnd"]()),2&e){const e=l["ɵɵreference"](3);l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",t.contact.photo)("ngIfElse",e)}},directives:[o.NgIf],styles:[".contact-photo[_ngcontent-%COMP%]{border-radius:50%;width:32px;height:32px;cursor:pointer}.contact-photo.no-photo[_ngcontent-%COMP%]{text-align:center;line-height:2.2em;font-size:14px;display:inline-block;min-width:32px;min-height:32px;color:#fff}"]}),e})(),E=(()=>{class e{constructor(e){this.element=e}_getHash(e){let t=0;for(let n=0;n<e.length;n++)t=e.charCodeAt(n)+((t<<5)-t);return t}_getColor(e){if(!e)return this.defaultColor||"orange";return"hsl("+2*(this._getHash(e)%180)+",50%,50%)"}ngOnInit(){this.element.nativeElement.style.backgroundColor=this._getColor(this.value)}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](l.ElementRef))},e.ɵdir=l["ɵɵdefineDirective"]({type:e,selectors:[["","tsBackgroundColor",""]],inputs:{value:["tsBackgroundColor","value"],defaultColor:"defaultColor"}}),e})(),N=(()=>{class e{}return e.ɵfac=function(t){return new(t||e)},e.ɵmod=l["ɵɵdefineNgModule"]({type:e}),e.ɵinj=l["ɵɵdefineInjector"]({imports:[[o.CommonModule]]}),e})();("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](N,{declarations:[k,E],imports:[o.CommonModule],exports:[k]});var O=n(50296),j=n(64372),A=n(28049),R=n(17935);const F=["country"];function V(e,t){if(1&e&&(l["ɵɵelementStart"](0,"mat-option",5),l["ɵɵelementStart"](1,"span"),l["ɵɵtext"](2),l["ɵɵelementEnd"](),l["ɵɵelementEnd"]()),2&e){const e=t.$implicit;l["ɵɵproperty"]("value",e.name),l["ɵɵadvance"](2),l["ɵɵtextInterpolate"](e.name)}}let L=(()=>{class e{constructor(e,t,n){this.ngControl=e,this.autofillMonitor=t,this.focusMonitor=n,this.countryValue=new h.BehaviorSubject(""),this.destroy=new h.Subject,this.countrySelected=new l.EventEmitter,this.stateChanges=new h.Subject,this.autofilled=!1,this.countries=[],this.countries$=new h.BehaviorSubject([]),this.onTouched=()=>{},e&&(this.ngControl.valueAccessor=this)}set countriesInfo(e){this.countriesInfoValue=Object.assign({},e),e&&e.countries&&this.initCountryControl()}get countriesInfo(){return this.countriesInfoValue}get disabled(){return this.disabledValue}set disabled(e){this.disabledValue=(0,m.Ig)(e),this.stateChanges.next()}get placeholder(){return this.placeholderValue}set placeholder(e){this.placeholderValue=this.originalPlaceholder=e,this.stateChanges.next()}get required(){return this.requiredValue}set required(e){this.requiredValue=(0,m.Ig)(e),this.stateChanges.next()}get value(){return this.countryActually}set value(e){switch(this.countryValue.next(e),this.stateChanges.next(),!0){case this.countries.some((t=>t.name===e)):this.countryActually=e,this.onCountrySelected();break;case""===e:this.placeholderValue=this.originalPlaceholder;break;default:this.placeholderValue=""}}get empty(){return!(this.autofilled||this.value&&0!==this.value.length)}get focused(){return this.focusedValue}set focused(e){this.focusedValue=e,this.stateChanges.next()}filterCountryValues(e){e?this.countries$.next(this.countries.filter((t=>t.name.toLowerCase().startsWith(e.toLowerCase())))):this.countries$.next(this.countries.slice())}initCountryControl(){this.countriesInfoValue.countries=Object.entries(this.countriesInfoValue.countries).map((([e,t])=>({id:e,name:t}))),this.prepareCountryList(this.countriesInfoValue),this.countries=this.countriesInfoValue.countries,this.countryValue.pipe((0,v.O)("")).subscribe((e=>{this.filterCountryValues(e)}))}prepareCountryList(e){if(e.countries.sort(((e,t)=>e.name.localeCompare(t.name))),e.defaultCountryId){const t=e.countries.find((t=>t.id===e.defaultCountryId));e.countries.splice(e.countries.indexOf(t),1),e.countries.unshift(t)}}ngDoCheck(){this.ngControl&&(this.errorState=this.ngControl.invalid&&this.ngControl.touched,this.stateChanges.next())}writeValue(e){this.countryValue.next(e)}registerOnChange(e){this.countryValue.pipe((0,b.R)(this.destroy)).subscribe((t=>{e(t)}))}registerOnTouched(e){this.onTouched=e}setDescribedByIds(e){}onContainerClick(e){"input"!==e.target.tagName.toLowerCase()&&this.focusMonitor.focusVia(this.countryElementRef.nativeElement,"mouse")}ngAfterViewInit(){this.focusMonitor.monitor(this.countryElementRef.nativeElement,!0).subscribe((e=>{this.focused=!!e,!this.focused&&this.countryValue.value&&this.onCountrySelected()})),this.autofillMonitor.monitor(this.countryElementRef).pipe((0,g.U)((e=>e.isAutofilled)),(0,A.P)((e=>e)),(0,v.O)(!1),(0,b.R)(this.destroy)).subscribe((e=>this.autofilled=e))}ngOnDestroy(){this.destroy.next(),this.destroy.complete()}onCountrySelected(){this.ngControl.control.markAsTouched();const e=this.countries.find((e=>e.name===this.countryValue.value));e?this.countrySelected.emit(e.id):this.countrySelected.emit("")}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](c.a5,10),l["ɵɵdirectiveInject"](C.Lq),l["ɵɵdirectiveInject"](y.tE))},e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["ts-country-picker"]],viewQuery:function(e,t){if(1&e&&l["ɵɵviewQuery"](F,5,l.ElementRef),2&e){let e;l["ɵɵqueryRefresh"](e=l["ɵɵloadQuery"]())&&(t.countryElementRef=e.first)}},hostBindings:function(e,t){1&e&&l["ɵɵlistener"]("focusout",(function(){return t.onTouched()}))},inputs:{countriesInfo:"countriesInfo",disabled:"disabled",placeholder:"placeholder",required:"required",value:"value"},outputs:{countrySelected:"countrySelected"},features:[l["ɵɵProvidersFeature"]([{provide:x.Eo,useExisting:e}])],decls:6,vars:6,consts:[["matInput","","data-qa","input-country","name","new-country","id","country","autocomplete","new-country",3,"ngModel","placeholder","matAutocomplete","ngModelChange"],["country",""],["autoActiveFirstOption","",3,"closed"],["countryAutocomplete","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,t){if(1&e&&(l["ɵɵelementStart"](0,"input",0,1),l["ɵɵlistener"]("ngModelChange",(function(e){return t.value=e})),l["ɵɵelementEnd"](),l["ɵɵelementStart"](2,"mat-autocomplete",2,3),l["ɵɵlistener"]("closed",(function(){return t.onCountrySelected()})),l["ɵɵtemplate"](4,V,3,2,"mat-option",4),l["ɵɵpipe"](5,"async"),l["ɵɵelementEnd"]()),2&e){const e=l["ɵɵreference"](3);l["ɵɵproperty"]("ngModel",t.value)("placeholder",t.placeholder)("matAutocomplete",e),l["ɵɵadvance"](4),l["ɵɵproperty"]("ngForOf",l["ɵɵpipeBind1"](5,4,t.countries$))}},directives:[j.Nt,c.Fj,O.ZL,c.JJ,c.On,O.XC,o.NgForOf,R.ey],pipes:[o.AsyncPipe],styles:[".mat-input-element[_ngcontent-%COMP%], .mat-option[_ngcontent-%COMP%]{font-family:Open Sans,Regular,sans-serif;font-size:13px}.component-wrap[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%}.component-wrap[_ngcontent-%COMP%]   .country-picker-element[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;margin-left:-115px;margin-top:-16px}"]}),e})(),z=(()=>{class e{}return e.ɵfac=function(t){return new(t||e)},e.ɵmod=l["ɵɵdefineNgModule"]({type:e}),e.ɵinj=l["ɵɵdefineInjector"]({imports:[[o.CommonModule,c.u5,j.c,O.Bb]]}),e})();("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](z,{declarations:[L],imports:[o.CommonModule,c.u5,j.c,O.Bb],exports:[L]});var B=n(2895),G=n(20592),H=(()=>(function(e){e[e.Primary=0]="Primary",e[e.Secondary=1]="Secondary",e[e.Cancel=2]="Cancel",e[e.Delete=3]="Delete"}(H||(H={})),H))();const U={caption:"ConfirmationDialog.YES",result:H.Secondary},Z={caption:"ConfirmationDialog.NO",result:H.Primary},$={caption:"ConfirmationDialog.CANCEL",result:H.Cancel},W={caption:"ConfirmationDialog.DELETE",result:H.Delete};function q(e,t){if(1&e&&(l["ɵɵelementStart"](0,"button",6),l["ɵɵtext"](1),l["ɵɵpipe"](2,"translate"),l["ɵɵelementEnd"]()),2&e){const e=l["ɵɵnextContext"]();l["ɵɵproperty"]("mat-dialog-close",e.secondaryButton.result),l["ɵɵadvance"](1),l["ɵɵtextInterpolate1"](" ",l["ɵɵpipeBind1"](2,2,e.secondaryButton.caption)," ")}}function Y(e,t){if(1&e&&(l["ɵɵelementStart"](0,"button",6),l["ɵɵtext"](1),l["ɵɵpipe"](2,"translate"),l["ɵɵelementEnd"]()),2&e){const e=t.$implicit;l["ɵɵproperty"]("mat-dialog-close",e.result),l["ɵɵadvance"](1),l["ɵɵtextInterpolate1"](" ",l["ɵɵpipeBind1"](2,2,e.caption)," ")}}let J=(()=>{class e{constructor(e){var t,n,i;this.data=e,this.buttons=[],e&&(this.primaryButton=e.primaryButton,this.secondaryButton=e.secondaryButton,this.message=e.message,this.buttons=e.buttons),(null===(t=this.buttons)||void 0===t?void 0:t.length)||(null!==(n=this.primaryButton)&&void 0!==n||(this.primaryButton=Z),null!==(i=this.secondaryButton)&&void 0!==i||(this.secondaryButton=U))}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](G.WI))},e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["ts-confirmation-dialog"]],decls:9,vars:7,consts:[["mat-dialog-content",""],[1,"message"],["mat-dialog-actions",""],["mat-flat-button","","color","primary","cdkFocusInitial","",1,"action-button",3,"mat-dialog-close"],["class","action-button","mat-button","",3,"mat-dialog-close",4,"ngIf"],["class","action-button","mat-button","",3,"mat-dialog-close",4,"ngFor","ngForOf"],["mat-button","",1,"action-button",3,"mat-dialog-close"]],template:function(e,t){1&e&&(l["ɵɵelementStart"](0,"div",0),l["ɵɵelementStart"](1,"span",1),l["ɵɵtext"](2),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵelementStart"](3,"div",2),l["ɵɵelementStart"](4,"button",3),l["ɵɵtext"](5),l["ɵɵpipe"](6,"translate"),l["ɵɵelementEnd"](),l["ɵɵtemplate"](7,q,3,4,"button",4),l["ɵɵtemplate"](8,Y,3,4,"button",5),l["ɵɵelementEnd"]()),2&e&&(l["ɵɵadvance"](2),l["ɵɵtextInterpolate"](null==t.data?null:t.data.message),l["ɵɵadvance"](2),l["ɵɵproperty"]("mat-dialog-close",t.primaryButton.result),l["ɵɵadvance"](1),l["ɵɵtextInterpolate1"](" ",l["ɵɵpipeBind1"](6,5,t.primaryButton.caption)," "),l["ɵɵadvance"](2),l["ɵɵproperty"]("ngIf",t.secondaryButton),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngForOf",t.buttons))},directives:[G.xY,G.H8,B.lW,G.ZT,o.NgIf,o.NgForOf],pipes:[u.X$],styles:["[mat-dialog-actions][_ngcontent-%COMP%]{margin:27px 0 0!important}"]}),e})(),Q=(()=>{class e{constructor(e){this.data=e}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](G.WI))},e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["ts-info-dialog"]],decls:7,vars:4,consts:[["mat-dialog-content",""],[1,"message"],["mat-dialog-actions",""],["mat-flat-button","","color","primary","cdkFocusInitial","",1,"action-button",3,"mat-dialog-close"]],template:function(e,t){1&e&&(l["ɵɵelementStart"](0,"div",0),l["ɵɵelementStart"](1,"span",1),l["ɵɵtext"](2),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵelementStart"](3,"div",2),l["ɵɵelementStart"](4,"button",3),l["ɵɵtext"](5),l["ɵɵpipe"](6,"translate"),l["ɵɵelementEnd"](),l["ɵɵelementEnd"]()),2&e&&(l["ɵɵadvance"](2),l["ɵɵtextInterpolate"](null==t.data?null:t.data.message),l["ɵɵadvance"](3),l["ɵɵtextInterpolate1"](" ",l["ɵɵpipeBind1"](6,2,"InfoDialog.OK")," "))},directives:[G.xY,G.H8,B.lW,G.ZT],pipes:[u.X$],styles:["[mat-dialog-content][_ngcontent-%COMP%]{max-height:450px;overflow-y:auto!important}[mat-dialog-content][_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{white-space:pre-line;word-break:break-word}[mat-dialog-actions][_ngcontent-%COMP%]{margin:27px 0 0!important}"]}),e})(),K=(()=>{class e{constructor(e){this.data=e}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](G.WI))},e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["ts-info-with-header-dialog"]],decls:9,vars:10,consts:[[1,"header-message"],[1,"message"],[1,"action-button",3,"mat-dialog-close"]],template:function(e,t){1&e&&(l["ɵɵelementStart"](0,"div",0),l["ɵɵtext"](1),l["ɵɵpipe"](2,"translate"),l["ɵɵelementEnd"](),l["ɵɵelementStart"](3,"div",1),l["ɵɵtext"](4),l["ɵɵpipe"](5,"translate"),l["ɵɵelementEnd"](),l["ɵɵelementStart"](6,"button",2),l["ɵɵtext"](7),l["ɵɵpipe"](8,"translate"),l["ɵɵelementEnd"]()),2&e&&(l["ɵɵadvance"](1),l["ɵɵtextInterpolate"](l["ɵɵpipeBind1"](2,4,null==t.data?null:t.data.headerMessage)),l["ɵɵadvance"](3),l["ɵɵtextInterpolate"](l["ɵɵpipeBind1"](5,6,null==t.data?null:t.data.message)),l["ɵɵadvance"](2),l["ɵɵproperty"]("mat-dialog-close",null==t.data||null==t.data.button?null:t.data.button.result),l["ɵɵadvance"](1),l["ɵɵtextInterpolate1"](" ",l["ɵɵpipeBind1"](8,8,null==t.data||null==t.data.button?null:t.data.button.caption),"\n"))},directives:[G.ZT],pipes:[u.X$],styles:[".header-message[_ngcontent-%COMP%]{margin-bottom:24px}.message[_ngcontent-%COMP%]{margin-bottom:40px;white-space:pre-wrap}.action-button[_ngcontent-%COMP%]{float:right;text-transform:none;border-radius:16px;padding:0 16px}"]}),e})(),X=(()=>{class e{constructor(e,t){this.document=e,this.dialog=t}_stopEventPropagation(e,t){e.afterOpened().pipe((0,b.R)(t)).subscribe((e=>{const t=this.document.getElementsByClassName("cdk-overlay-container")[0];t&&t.addEventListener("click",(function(e){e.stopImmediatePropagation()}))}))}getMessageDialogConfig(e){const t={width:"450px",panelClass:"dialog-top-border",data:{}};if("string"==typeof e)return t.data.message=e,t;const n=e;return n.primaryButton&&(t.data.primaryButton=n.primaryButton),n.secondaryButton&&(t.data.secondaryButton=n.secondaryButton),n.buttons&&(t.data.buttons=n.buttons),t.data.message=n.message,t}open(e,t){const n=this.dialog.open(e,t),i=n.afterClosed();return this._stopEventPropagation(n,i),i}openInfoDialog(e){return this.open(Q,this.getMessageDialogConfig(e))}openConfirmationDialog(e){return this.open(J,this.getMessageDialogConfig(e))}closeAll(){this.dialog.closeAll()}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](o.DOCUMENT),l["ɵɵinject"](G.uw))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})(),ee=(()=>{class e{}return e.ɵfac=function(t){return new(t||e)},e.ɵmod=l["ɵɵdefineNgModule"]({type:e}),e.ɵinj=l["ɵɵdefineInjector"]({providers:[X],imports:[[o.CommonModule,B.ot,G.Is,u.aw]]}),e})();("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](ee,{declarations:[J,Q,K],imports:[o.CommonModule,B.ot,G.Is,u.aw],exports:[J,Q,K]});let te=(()=>{class e{constructor(e){this.viewContainerRef=e}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](l.ViewContainerRef))},e.ɵdir=l["ɵɵdefineDirective"]({type:e,selectors:[["","tsViewContainerRef",""]]}),e})(),ne=(()=>{class e{}return e.ɵfac=function(t){return new(t||e)},e.ɵmod=l["ɵɵdefineNgModule"]({type:e}),e.ɵinj=l["ɵɵdefineInjector"]({}),e})();("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](ne,{declarations:[te],exports:[te]});var ie=n(85490);const re=[[["","expansion-panel-header",""]],[["","expansion-panel-content",""]]],ae=["[expansion-panel-header]","[expansion-panel-content]"];let oe=(()=>{class e{constructor(){this.DEFAULT_HEADER_HEIGHT="40px",this.disabled=!1,this.hideToggle=!1,this.expanded=!0,this.onExpanded=new l.EventEmitter}set headerHeight(e){this._headerHeight=e}get headerHeight(){return this._headerHeight||this.DEFAULT_HEADER_HEIGHT}}return e.ɵfac=function(t){return new(t||e)},e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["ts-expansion-panel"]],inputs:{disabled:"disabled",hideToggle:"hideToggle",expanded:"expanded",headerHeight:"headerHeight"},outputs:{onExpanded:"onExpanded"},ngContentSelectors:ae,decls:4,vars:5,consts:[["togglePosition","before",1,"expansion-panel",3,"hideToggle","expanded","disabled"],[3,"collapsedHeight","expandedHeight","click"]],template:function(e,t){1&e&&(l["ɵɵprojectionDef"](re),l["ɵɵelementStart"](0,"mat-expansion-panel",0),l["ɵɵelementStart"](1,"mat-expansion-panel-header",1),l["ɵɵlistener"]("click",(function(){return t.onExpanded.emit(t.expanded)})),l["ɵɵprojection"](2),l["ɵɵelementEnd"](),l["ɵɵprojection"](3,1),l["ɵɵelementEnd"]()),2&e&&(l["ɵɵproperty"]("hideToggle",t.hideToggle)("expanded",t.expanded)("disabled",t.disabled),l["ɵɵadvance"](1),l["ɵɵproperty"]("collapsedHeight",t.headerHeight)("expandedHeight",t.headerHeight))},directives:[ie.ib,ie.yz],styles:[".expansion-panel.mat-expansion-panel{box-shadow:none}.expansion-panel.mat-expansion-panel :hover{background-color:transparent!important}.expansion-panel.mat-expansion-panel .mat-expansion-panel-header{font-size:14px}"],encapsulation:2}),e})(),se=(()=>{class e{}return e.ɵfac=function(t){return new(t||e)},e.ɵmod=l["ɵɵdefineNgModule"]({type:e}),e.ɵinj=l["ɵɵdefineInjector"]({imports:[[ie.To]]}),e})();("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](se,{declarations:[oe],imports:[ie.To],exports:[oe]});var le=n(7639),ce=n(89713),de=n(81197),ue=n(45363),pe=n(72742),me=n(40859),he=n(56083);let ge=(()=>{class e{constructor(){this._selectedItems=new h.BehaviorSubject([])}get selectedItems(){return this._selectedItems.asObservable()}getSelectedItems(){return this._selectedItems.getValue()}toggleSelectedItem(e){this._selectedItems.getValue().find((t=>e.id===t.id))?this.clear():this._selectedItems.next([e])}setSelectedItem(e){this._selectedItems.next([e])}clear(){this._selectedItems.next([])}}return e.ɵfac=function(t){return new(t||e)},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})(),fe=(()=>{class e{constructor(e,t){this.dataStore=e,this.cdr=t,this.itemPicked=new l.EventEmitter}isItemSelected(e){return-1!==this.dataStore.getSelectedItems().indexOf(e)}ngOnInit(){this.selectedItemsSubscription=this.dataStore.selectedItems.subscribe((e=>{this.cdr.destroyed||this.cdr.detectChanges()}))}ngOnDestroy(){this.selectedItemsSubscription.unsubscribe()}onClick(e){this.dataStore.toggleSelectedItem(e)}onDblClick(e){this.dataStore.setSelectedItem(e),this.itemPicked.emit()}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](ge),l["ɵɵdirectiveInject"](l.ChangeDetectorRef))},e.ɵdir=l["ɵɵdefineDirective"]({type:e,inputs:{searchValue:"searchValue",items:"items",previewVisible:"previewVisible"},outputs:{itemPicked:"itemPicked"}}),e})();var ve=n(39426);const be={leading:!1,trailing:!0};let Ce=(()=>{class e{constructor(e){this._element=e,this.tsClick=new l.EventEmitter,this.tsDblClick=new l.EventEmitter}_elementClickHandler(e){switch(e.detail){case 1:this.tsClick.emit(e);break;case 2:default:this.tsDblClick.emit(e)}}ngAfterViewInit(){const e=(0,h.fromEvent)(this._element.nativeElement,"click").pipe((0,ve.p)(250,h.asyncScheduler,be));this._subscription=e.subscribe((e=>{this._elementClickHandler(e)}))}ngOnDestroy(){this._subscription.unsubscribe()}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](l.ElementRef))},e.ɵdir=l["ɵɵdefineDirective"]({type:e,selectors:[["","tsClickController",""]],outputs:{tsClick:"tsClick",tsDblClick:"tsDblClick"}}),e})(),ye=(()=>{class e{constructor(e){this._element=e,this.elementVisible=new l.EventEmitter,this.callbackForIntersection=e=>{e.forEach((e=>{this.isIntersection(e)&&(this.elementVisible.emit(),this._intersectionObserver.unobserve(this._element.nativeElement),this._intersectionObserver.disconnect())}))}}isIntersection(e){return e.isIntersecting&&e.target===this._element.nativeElement}ngAfterViewInit(){this._intersectionObserver=new IntersectionObserver((e=>{this.callbackForIntersection(e)}),{}),this._intersectionObserver.observe(this._element.nativeElement)}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](l.ElementRef))},e.ɵdir=l["ɵɵdefineDirective"]({type:e,selectors:[["","tsLazyLoad",""]],outputs:{elementVisible:"elementVisible"}}),e})();const we=["previewImageWrapper"],_e=function(e){return{"default-image":e}};let xe=(()=>{class e{constructor(e,t){this.dataStore=e,this.cdr=t}scrollToTop(){var e;const t=(null===(e=this.previewImageWrapper)||void 0===e?void 0:e.nativeElement)||null;t&&(t.scrollTop=0)}hasImage(){return null!=this.item&&null!=this.item.imgUrl&&""!==this.item.imgUrl}ngOnInit(){this.selectedItemsSubscription=this.dataStore.selectedItems.subscribe((e=>{this.scrollToTop(),this.item=e[0],this.cdr.detectChanges()}))}ngOnDestroy(){this.selectedItemsSubscription.unsubscribe()}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](ge),l["ɵɵdirectiveInject"](l.ChangeDetectorRef))},e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["ts-preview-pane"]],viewQuery:function(e,t){if(1&e&&l["ɵɵviewQuery"](we,5),2&e){let e;l["ɵɵqueryRefresh"](e=l["ɵɵloadQuery"]())&&(t.previewImageWrapper=e.first)}},decls:8,vars:5,consts:[[1,"preview-container"],[1,"preview-image-wrapper",3,"ngClass"],["previewImageWrapper",""],[3,"src"],[1,"preview-label-wrapper"]],template:function(e,t){1&e&&(l["ɵɵelementStart"](0,"div",0),l["ɵɵelementStart"](1,"div",1,2),l["ɵɵelement"](3,"img",3),l["ɵɵelementEnd"](),l["ɵɵelementStart"](4,"div",4),l["ɵɵelementStart"](5,"p"),l["ɵɵtext"](6),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵelement"](7,"div"),l["ɵɵelementEnd"]()),2&e&&(l["ɵɵadvance"](1),l["ɵɵproperty"]("ngClass",l["ɵɵpureFunction1"](3,_e,!t.hasImage())),l["ɵɵadvance"](2),l["ɵɵpropertyInterpolate"]("src",null==t.item?null:t.item.imgUrl,l["ɵɵsanitizeUrl"]),l["ɵɵadvance"](3),l["ɵɵtextInterpolate"](null==t.item?null:t.item.name))},directives:[o.NgClass],styles:[".preview-container[_ngcontent-%COMP%]{height:100%;width:calc(100% - 10px);margin-inline-start:10px;display:flex;flex-direction:column;justify-content:flex-start;align-items:flex-start;position:absolute}.preview-container[_ngcontent-%COMP%]   .default-image[_ngcontent-%COMP%]{background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='64.781' height='33.636' viewBox='0 0 64.781 33.636'%3E%3Cdefs%3E%3Cstyle%3E.a%7Bfill:%23006ce0;%7D%3C/style%3E%3C/defs%3E%3Ccircle class='a' cx='5.606' cy='5.606' r='5.606' transform='translate(38.619)'/%3E%3Cpath class='a' d='M2579.792,595l19.932-29.9,26.161,29.9h-46.094Z' transform='translate(-2579.792 -561.367)'/%3E%3Cpath class='a' d='M2629.623,595l-7.475-11.212,7.475-3.737L2644.572,595h-14.949Z' transform='translate(-2579.792 -561.367)'/%3E%3C/svg%3E\");background-position:50%;background-repeat:no-repeat}.preview-container[_ngcontent-%COMP%]   .default-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:none}.preview-container[_ngcontent-%COMP%]   .preview-image-wrapper[_ngcontent-%COMP%]{overflow-y:auto;overflow-x:hidden;align-self:stretch;height:100%;border:1px solid #e2e2e2}.preview-container[_ngcontent-%COMP%]   .preview-image-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;position:relative;box-shadow:none!important;margin:0;padding:0}.preview-container[_ngcontent-%COMP%]   .preview-label-wrapper[_ngcontent-%COMP%]{width:100%}.preview-container[_ngcontent-%COMP%]   .preview-label-wrapper[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{align-self:stretch;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;min-height:2.8em;font-size:1.4em;line-height:1.4em;text-align:center;margin-block-start:.2em;margin-block-end:.2em;padding:2px;direction:ltr}"],changeDetection:0}),e})(),Ie=(()=>{class e{transform(e,t,n){return n?(n=n.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1"),(e||[]).filter((e=>t.split(",").some((t=>e.hasOwnProperty(t)&&new RegExp(n,"gi").test(e[t])))))):e}}return e.ɵfac=function(t){return new(t||e)},e.ɵpipe=l["ɵɵdefinePipe"]({name:"filter",type:e,pure:!0}),e})();const Se=function(e){return{"list-cell-preview-container-selected":e}},Me=function(e,t){return{"image-container-selected":e,"default-image":t}};function De(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵelementStart"](0,"div",12),l["ɵɵlistener"]("click",(function(){l["ɵɵrestoreView"](e);return l["ɵɵnextContext"](2).changeItemClickAnimationState()})),l["ɵɵelementStart"](1,"div",13),l["ɵɵelement"](2,"img",14),l["ɵɵelementEnd"](),l["ɵɵelementEnd"]()}if(2&e){const e=l["ɵɵnextContext"]().$implicit,t=l["ɵɵnextContext"]();l["ɵɵproperty"]("@tsItemAppearAnimationTrigger",void 0)("ngClass",l["ɵɵpureFunction1"](4,Se,t.isItemSelected(e))),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngClass",l["ɵɵpureFunction2"](6,Me,t.isItemSelected(e),null===e.imgUrl)),l["ɵɵadvance"](1),l["ɵɵpropertyInterpolate"]("src",null==e?null:e.imgUrl,l["ɵɵsanitizeUrl"])}}function Pe(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵelementContainerStart"](0,7),l["ɵɵelementStart"](1,"div",8),l["ɵɵlistener"]("tsClick",(function(){const t=l["ɵɵrestoreView"](e).$implicit;return l["ɵɵnextContext"]().onClick(t)}))("tsDblClick",(function(){const t=l["ɵɵrestoreView"](e).$implicit;return l["ɵɵnextContext"]().onDblClick(t)})),l["ɵɵelementStart"](2,"mat-grid-tile"),l["ɵɵelementStart"](3,"div",9),l["ɵɵlistener"]("elementVisible",(function(){const t=l["ɵɵrestoreView"](e).$implicit;return l["ɵɵnextContext"]().setItemVisible(t)})),l["ɵɵtemplate"](4,De,3,9,"div",10),l["ɵɵelementStart"](5,"p",11),l["ɵɵtext"](6),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵelementContainerEnd"]()}if(2&e){const e=t.$implicit,n=l["ɵɵnextContext"]();l["ɵɵadvance"](2),l["ɵɵproperty"]("@tsItemClickAnimationTrigger",n.itemClickAnimationState),l["ɵɵadvance"](2),l["ɵɵproperty"]("ngIf",n.isItemVisible(e)),l["ɵɵadvance"](2),l["ɵɵtextInterpolate"](null==e?null:e.name)}}function Te(e,t){1&e&&(l["ɵɵelementStart"](0,"div",15),l["ɵɵelement"](1,"ts-preview-pane"),l["ɵɵelementEnd"]())}let ke=(()=>{class e extends fe{constructor(e,t){super(e,t),this.visibleItems=[],this.itemClickAnimationState="normal"}changeItemClickAnimationState(){this.itemClickAnimationState="normal"===this.itemClickAnimationState?"click":"normal"}setItemVisible(e){-1===this.visibleItems.indexOf(e)&&this.visibleItems.push(e)}isItemVisible(e){return-1!==this.visibleItems.indexOf(e)}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](ge),l["ɵɵdirectiveInject"](l.ChangeDetectorRef))},e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["ts-icon-list"]],inputs:{previewItemsPerRow:"previewItemsPerRow"},features:[l["ɵɵInheritDefinitionFeature"]],decls:8,vars:7,consts:[[1,"preview-list-container"],["data-item-marker","grid-column",1,"grid-column"],[1,"mat-grid-list-container"],["rowHeight","1:1.25",3,"cols"],["templatesGridListView",""],["class","preview-cell",4,"ngFor","ngForOf"],["class","preview-column",4,"ngIf"],[1,"preview-cell"],["tsClickController","",3,"tsClick","tsDblClick"],["tsLazyLoad","",1,"list-cell",3,"elementVisible"],["class","list-cell-preview-container",3,"ngClass","click",4,"ngIf"],[1,"preview-text"],[1,"list-cell-preview-container",3,"ngClass","click"],[1,"image-container",3,"ngClass"],[1,"image",3,"src"],[1,"preview-column"]],template:function(e,t){1&e&&(l["ɵɵelementStart"](0,"div",0),l["ɵɵelementStart"](1,"div",1),l["ɵɵelementStart"](2,"div",2),l["ɵɵelementStart"](3,"mat-grid-list",3,4),l["ɵɵtemplate"](5,Pe,7,3,"ng-container",5),l["ɵɵpipe"](6,"filter"),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵtemplate"](7,Te,2,0,"div",6),l["ɵɵelementEnd"]()),2&e&&(l["ɵɵadvance"](3),l["ɵɵpropertyInterpolate"]("cols",t.previewItemsPerRow),l["ɵɵadvance"](2),l["ɵɵproperty"]("ngForOf",l["ɵɵpipeBind3"](6,3,t.items,"name",t.searchValue)),l["ɵɵadvance"](2),l["ɵɵproperty"]("ngIf",t.previewVisible))},directives:[de.Il,o.NgForOf,o.NgIf,Ce,de.DX,ye,o.NgClass,xe],pipes:[Ie],styles:[".preview-list-container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-direction:row;justify-content:flex-start;align-content:stretch}.preview-list-container[_ngcontent-%COMP%]   .grid-column[_ngcontent-%COMP%]{flex-grow:2.5;height:100%;position:relative}.preview-list-container[_ngcontent-%COMP%]   .grid-column[_ngcontent-%COMP%]   .mat-grid-list-container[_ngcontent-%COMP%]{position:absolute;height:100%;width:100%;overflow:auto}.preview-list-container[_ngcontent-%COMP%]   .grid-column[_ngcontent-%COMP%]   .mat-list-base[_ngcontent-%COMP%]{padding-top:0!important}.preview-list-container[_ngcontent-%COMP%]   .grid-column[_ngcontent-%COMP%]   .list-cell[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column;justify-content:flex-start;align-items:stretch}.preview-list-container[_ngcontent-%COMP%]   .grid-column[_ngcontent-%COMP%]   .list-cell[_ngcontent-%COMP%]   .list-cell-preview-container[_ngcontent-%COMP%]{align-self:stretch;overflow:hidden;height:100%;border-radius:unset;background:#f6f6f6;margin:5px;border:1px solid #e2e2e2}.preview-list-container[_ngcontent-%COMP%]   .grid-column[_ngcontent-%COMP%]   .list-cell[_ngcontent-%COMP%]   .list-cell-preview-container[_ngcontent-%COMP%]:hover{border:1px solid #006ce0}.preview-list-container[_ngcontent-%COMP%]   .grid-column[_ngcontent-%COMP%]   .list-cell[_ngcontent-%COMP%]   .list-cell-preview-container[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{overflow:hidden;height:100%;padding:0 25px;box-shadow:none}.preview-list-container[_ngcontent-%COMP%]   .grid-column[_ngcontent-%COMP%]   .list-cell[_ngcontent-%COMP%]   .list-cell-preview-container[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{max-width:100%}.preview-list-container[_ngcontent-%COMP%]   .grid-column[_ngcontent-%COMP%]   .list-cell[_ngcontent-%COMP%]   .list-cell-preview-container[_ngcontent-%COMP%]   .default-image[_ngcontent-%COMP%]{background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='64.781' height='33.636' viewBox='0 0 64.781 33.636'%3E%3Cdefs%3E%3Cstyle%3E.a%7Bfill:%23006ce0;%7D%3C/style%3E%3C/defs%3E%3Ccircle class='a' cx='5.606' cy='5.606' r='5.606' transform='translate(38.619)'/%3E%3Cpath class='a' d='M2579.792,595l19.932-29.9,26.161,29.9h-46.094Z' transform='translate(-2579.792 -561.367)'/%3E%3Cpath class='a' d='M2629.623,595l-7.475-11.212,7.475-3.737L2644.572,595h-14.949Z' transform='translate(-2579.792 -561.367)'/%3E%3C/svg%3E\");background-position:50%;background-repeat:no-repeat}.preview-list-container[_ngcontent-%COMP%]   .grid-column[_ngcontent-%COMP%]   .list-cell[_ngcontent-%COMP%]   .list-cell-preview-container-selected[_ngcontent-%COMP%]{border:2px solid #006ce0;transition-property:background;transition-duration:.25s;transition-timing-function:linear;background-color:#004cff24}.preview-list-container[_ngcontent-%COMP%]   .grid-column[_ngcontent-%COMP%]   .list-cell[_ngcontent-%COMP%]   .list-cell-preview-container-selected[_ngcontent-%COMP%]:hover{border:2px solid #006ce0}.preview-list-container[_ngcontent-%COMP%]   .grid-column[_ngcontent-%COMP%]   .list-cell[_ngcontent-%COMP%]   .preview-text[_ngcontent-%COMP%]{align-self:stretch;overflow:hidden;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;min-height:2.8em;font-size:1.4em;line-height:1.4em;text-align:center;text-overflow:ellipsis;margin-block-start:.2em;margin-block-end:.2em;padding:2px;direction:ltr}.preview-list-container[_ngcontent-%COMP%]   .preview-column[_ngcontent-%COMP%]{flex-grow:1;height:100%;position:relative}"],data:{animation:[(0,he.X$)("tsItemAppearAnimationTrigger",[(0,he.eR)(":enter",[(0,he.oB)({opacity:0}),(0,he.jt)("0.3s ease-in",(0,he.oB)({opacity:1}))])]),(0,he.X$)("tsItemClickAnimationTrigger",[(0,he.eR)("click => normal",[(0,he.IO)(".list-cell-preview-container:hover",(0,he.jt)(250,(0,he.oB)({border:"1px solid #006ce0",transform:"scale(1.025)"})),{optional:!0})]),(0,he.eR)("normal => click",[(0,he.IO)(".list-cell-preview-container:hover",(0,he.jt)(250,(0,he.oB)({border:"2px solid #006ce0",transform:"scale(1.025)"})),{optional:!0})])])]},changeDetection:0}),e})();var Ee=n(29114),Ne=n(12671);class Oe{}var je=(()=>(function(e){e[e.PREVIEW=0]="PREVIEW",e[e.LIST=1]="LIST"}(je||(je={})),je))();function Ae(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵelementStart"](0,"mat-list-option",5),l["ɵɵlistener"]("tsClick",(function(){const t=l["ɵɵrestoreView"](e).$implicit;return l["ɵɵnextContext"]().onClick(t)}))("tsDblClick",(function(){const t=l["ɵɵrestoreView"](e).$implicit;return l["ɵɵnextContext"]().onDblClick(t)})),l["ɵɵelementStart"](1,"p",6),l["ɵɵtext"](2),l["ɵɵelementEnd"](),l["ɵɵelementEnd"]()}if(2&e){const e=t.$implicit,n=l["ɵɵnextContext"]();l["ɵɵproperty"]("value",e)("selected",n.isItemSelected(e)),l["ɵɵadvance"](2),l["ɵɵtextInterpolate1"](" ",e.name," ")}}function Re(e,t){1&e&&(l["ɵɵelementStart"](0,"div",7),l["ɵɵelement"](1,"ts-preview-pane"),l["ɵɵelementEnd"]())}let Fe=(()=>{class e extends fe{constructor(e,t){super(e,t)}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](ge),l["ɵɵdirectiveInject"](l.ChangeDetectorRef))},e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["ts-table-list"]],features:[l["ɵɵInheritDefinitionFeature"]],decls:6,vars:7,consts:[[1,"table-list-container"],[1,"grid-column"],[3,"ngClass"],["tsClickController","",3,"value","selected","tsClick","tsDblClick",4,"ngFor","ngForOf"],["class","preview-column",4,"ngIf"],["tsClickController","",3,"value","selected","tsClick","tsDblClick"],[1,"preview-text"],[1,"preview-column"]],template:function(e,t){1&e&&(l["ɵɵelementStart"](0,"div",0),l["ɵɵelementStart"](1,"div",1),l["ɵɵelementStart"](2,"mat-selection-list",2),l["ɵɵtemplate"](3,Ae,3,3,"mat-list-option",3),l["ɵɵpipe"](4,"filter"),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵtemplate"](5,Re,2,0,"div",4),l["ɵɵelementEnd"]()),2&e&&(l["ɵɵadvance"](2),l["ɵɵproperty"]("ngClass","checkbox-hidden"),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngForOf",l["ɵɵpipeBind3"](4,3,t.items,"name",t.searchValue)),l["ɵɵadvance"](2),l["ɵɵproperty"]("ngIf",t.previewVisible))},directives:[ue.Ub,o.NgClass,o.NgForOf,o.NgIf,ue.vS,Ce,xe],pipes:[Ie],styles:[".mat-list-base{font-size:1.2em!important;font-family:inherit}  .mat-list-base .mat-list-option{font-size:1.2em!important;font-family:inherit}  .mat-list-base .mat-list-item{border-top:1px solid #e0e0e0}  .mat-list-base .mat-list-item:last-child{border-bottom:1px solid #e0e0e0}  .mat-list-base .mat-list-item:hover{background-color:#f6f6f6!important}  .mat-list-base .mat-list-item:focus{background-color:transparent!important}  .mat-list-base .mat-pseudo-checkbox-checked{background:#006ce0!important}.table-list-container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-direction:row;justify-content:flex-start;align-content:stretch}.table-list-container[_ngcontent-%COMP%]   .grid-column[_ngcontent-%COMP%]{flex-grow:2.5;height:100%;position:relative}.table-list-container[_ngcontent-%COMP%]   .grid-column[_ngcontent-%COMP%]   .mat-selection-list[_ngcontent-%COMP%]{position:absolute;height:100%;width:100%;overflow:auto;padding-top:0!important}.table-list-container[_ngcontent-%COMP%]   .grid-column[_ngcontent-%COMP%]   .checkbox-hidden[_ngcontent-%COMP%]  .mat-list-item[aria-selected=true]{background-color:#e4ebfa!important}.table-list-container[_ngcontent-%COMP%]   .grid-column[_ngcontent-%COMP%]   .checkbox-hidden[_ngcontent-%COMP%]  .mat-list-item .mat-list-item-content .mat-pseudo-checkbox{display:none!important}.table-list-container[_ngcontent-%COMP%]   .grid-column[_ngcontent-%COMP%]   .checkbox-hidden[_ngcontent-%COMP%]  .mat-list-item .mat-list-item-content .mat-list-text{padding-inline-start:0!important}.table-list-container[_ngcontent-%COMP%]   .grid-column[_ngcontent-%COMP%]   .preview-text[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical;margin-block-start:.2em;margin-block-end:.2em;padding:2px}.table-list-container[_ngcontent-%COMP%]   .preview-column[_ngcontent-%COMP%]{flex-grow:1;height:100%;position:relative}"],changeDetection:0}),e})(),Ve=(()=>{class e{constructor(e){this.dataStore=e,this.activeViewMode=je.PREVIEW,this.previewItemsPerRow=4,this.previewVisible=!0,this.Canceled=new l.EventEmitter,this.Selected=new l.EventEmitter}_getDefaultResources(){return{localizableStrings:{Header:"Поиск: Шаблоны email",SearchPlaceholder:"Поиск",CancelButtonCaption:"Отмена",SelectButtonCaption:"Выбрать"},localizableImages:{}}}buildEventData(){const e=new Oe;return e.recordIds=[],(0,Ee.Z)(this.dataStore.getSelectedItems(),(t=>{e.recordIds.push(t.id)})),e}fireSelectEvent(){const e=this.buildEventData();this.Selected.emit(e)}mergeResources(){this.resources=(0,Ne.Z)(this._getDefaultResources(),this.resources)}ngOnInit(){this.mergeResources()}ngOnDestroy(){this.dataStore.clear()}onItemPicked(){this.fireSelectEvent()}onOkClick(){this.fireSelectEvent()}onCancelClick(){this.Canceled.emit()}onCloseClick(){this.Canceled.emit()}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](ge))},e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["ts-list-selection-dialog"]],inputs:{items:"items",resources:"resources",searchValue:"searchValue",activeViewMode:"activeViewMode",previewItemsPerRow:"previewItemsPerRow",previewVisible:"previewVisible"},outputs:{Canceled:"Canceled",Selected:"Selected"},decls:26,vars:17,consts:[[1,"list-selection-dialog-container"],[1,"header-container"],[1,"label-container"],[1,"close-button",3,"click"],[1,"actions-container"],[1,"search-container"],["matInput","","type","text",1,"search-field",3,"ngModel","placeholder","ngModelChange"],[1,"search-icon"],[1,"tab-actions-container"],["aria-label","",3,"ngModel","ngModelChange"],[3,"value"],[1,"preview-list","tab-radio"],[1,"table-list","tab-radio"],[1,"tab-container"],[3,"selectedIndex"],[3,"items","previewItemsPerRow","searchValue","previewVisible","itemPicked"],[3,"items","searchValue","previewVisible","itemPicked"],[1,"button-container"],["mat-button","",1,"button","cancel-button",3,"click"],["mat-button","",1,"button","submit-button",3,"disabled","click"]],template:function(e,t){1&e&&(l["ɵɵelementStart"](0,"div",0),l["ɵɵelementStart"](1,"div",1),l["ɵɵelementStart"](2,"span",2),l["ɵɵtext"](3),l["ɵɵelementEnd"](),l["ɵɵelementStart"](4,"div",3),l["ɵɵlistener"]("click",(function(){return t.onCloseClick()})),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵelementStart"](5,"div",4),l["ɵɵelementStart"](6,"div",5),l["ɵɵelementStart"](7,"input",6),l["ɵɵlistener"]("ngModelChange",(function(e){return t.searchValue=e})),l["ɵɵelementEnd"](),l["ɵɵelement"](8,"div",7),l["ɵɵelementEnd"](),l["ɵɵelementStart"](9,"div",8),l["ɵɵelementStart"](10,"mat-radio-group",9),l["ɵɵlistener"]("ngModelChange",(function(e){return t.activeViewMode=e})),l["ɵɵelementStart"](11,"mat-radio-button",10),l["ɵɵelement"](12,"div",11),l["ɵɵelementEnd"](),l["ɵɵelementStart"](13,"mat-radio-button",10),l["ɵɵelement"](14,"div",12),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵelementStart"](15,"div",13),l["ɵɵelementStart"](16,"mat-tab-group",14),l["ɵɵelementStart"](17,"mat-tab"),l["ɵɵelementStart"](18,"ts-icon-list",15),l["ɵɵlistener"]("itemPicked",(function(){return t.onItemPicked()})),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵelementStart"](19,"mat-tab"),l["ɵɵelementStart"](20,"ts-table-list",16),l["ɵɵlistener"]("itemPicked",(function(){return t.onItemPicked()})),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵelementStart"](21,"div",17),l["ɵɵelementStart"](22,"button",18),l["ɵɵlistener"]("click",(function(){return t.onCancelClick()})),l["ɵɵtext"](23),l["ɵɵelementEnd"](),l["ɵɵelementStart"](24,"button",19),l["ɵɵlistener"]("click",(function(){return t.onOkClick()})),l["ɵɵtext"](25),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵelementEnd"]()),2&e&&(l["ɵɵadvance"](3),l["ɵɵtextInterpolate1"](" ",t.resources.localizableStrings.Header," "),l["ɵɵadvance"](4),l["ɵɵpropertyInterpolate"]("placeholder",t.resources.localizableStrings.SearchPlaceholder),l["ɵɵproperty"]("ngModel",t.searchValue),l["ɵɵadvance"](3),l["ɵɵproperty"]("ngModel",t.activeViewMode),l["ɵɵadvance"](1),l["ɵɵproperty"]("value",0),l["ɵɵadvance"](2),l["ɵɵproperty"]("value",1),l["ɵɵadvance"](3),l["ɵɵproperty"]("selectedIndex",t.activeViewMode),l["ɵɵadvance"](2),l["ɵɵproperty"]("items",t.items)("previewItemsPerRow",t.previewItemsPerRow)("searchValue",t.searchValue)("previewVisible",t.previewVisible),l["ɵɵadvance"](2),l["ɵɵproperty"]("items",t.items)("searchValue",t.searchValue)("previewVisible",t.previewVisible),l["ɵɵadvance"](3),l["ɵɵtextInterpolate1"](" ",t.resources.localizableStrings.CancelButtonCaption," "),l["ɵɵadvance"](1),l["ɵɵproperty"]("disabled",0===t.dataStore.getSelectedItems().length),l["ɵɵadvance"](1),l["ɵɵtextInterpolate1"](" ",t.resources.localizableStrings.SelectButtonCaption," "))},directives:[j.Nt,c.Fj,c.JJ,c.On,pe.VQ,pe.U0,me.SP,me.uX,ke,Fe],styles:[".mat-tab-group{width:100%;height:100%;font-family:inherit}  .mat-tab-group .mat-tab-header{border:none!important}  .mat-tab-group .mat-tab-labels{height:0;display:none!important}  .mat-tab-group .mat-tab-labels .mat-ink-bar{display:none}  .mat-tab-group .mat-tab-body-wrapper{height:100%}  .mat-radio-container{display:none!important}.list-selection-dialog-container[_ngcontent-%COMP%]{padding-inline-start:1em;padding-inline-end:1em;display:flex;flex-direction:column;justify-content:flex-start;height:100%}.header-container[_ngcontent-%COMP%]{height:3em;margin-top:1em;display:flex;flex-direction:row;justify-content:space-between;align-content:stretch}.header-container[_ngcontent-%COMP%]   .label-container[_ngcontent-%COMP%]{color:#64b8df;font-size:2.2em}.header-container[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{align-self:auto;background:transparent url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12.071' height='12.071' viewBox='0 0 12.071 12.071'%3E%3Cdefs%3E%3Cstyle%3E.a%7Bfill:none;stroke:%23c8c8c8;stroke-linecap:round;%7D%3C/style%3E%3C/defs%3E%3Cg transform='translate(-742.755 -385.174)'%3E%3Cline class='a' x2='10.657' y2='10.657' transform='translate(743.462 385.881)'/%3E%3Cline class='a' x1='10.657' y2='10.657' transform='translate(743.462 385.881)'/%3E%3C/g%3E%3C/svg%3E\") 0 0 no-repeat padding-box;width:15px;height:15px;cursor:pointer}.actions-container[_ngcontent-%COMP%]{margin-top:24px;height:30px;display:flex;flex-direction:row;justify-content:space-between;align-content:stretch}.actions-container[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]{height:30px;position:relative;display:flex;border-bottom:1px dotted #e2e2e2;padding-block-end:5px}.actions-container[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-field[_ngcontent-%COMP%]{height:27px;width:427px;padding-inline-start:5px;padding-inline-end:5px;border:0;outline:0;position:relative;font-size:1.4em}.actions-container[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-field[_ngcontent-%COMP%]::placeholder{opacity:1!important}.actions-container[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-field[_ngcontent-%COMP%]:-ms-input-placeholder{opacity:1!important}.actions-container[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-field[_ngcontent-%COMP%]::-ms-input-placeholder{opacity:1!important}.actions-container[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-field[_ngcontent-%COMP%]:focus::-webkit-input-placeholder{opacity:0!important}.actions-container[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-field[_ngcontent-%COMP%]:focus:-moz-placeholder, .actions-container[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-field[_ngcontent-%COMP%]:focus::-moz-placeholder{opacity:0!important}.actions-container[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-field[_ngcontent-%COMP%]:focus:-ms-input-placeholder{opacity:0!important}.actions-container[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%]{background:transparent url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='30' height='30' viewBox='0 0 30 30'%3E%3Cdefs%3E%3Cstyle%3E.a,.d%7Bfill:none;%7D.b%7Bclip-path:url(%23a);%7D.c%7Bclip-path:url(%23b);%7D.d%7Bstroke:%238095b3;stroke-miterlimit:10;stroke-width:1.2px;%7D%3C/style%3E%3CclipPath id='a'%3E%3Crect class='a' width='30' height='30'/%3E%3C/clipPath%3E%3CclipPath id='b'%3E%3Crect class='a' width='16' height='16'/%3E%3C/clipPath%3E%3C/defs%3E%3Cg class='b'%3E%3Ccircle class='a' cx='15' cy='15' r='15'/%3E%3Cg class='c' transform='translate(7 7)'%3E%3Cg transform='translate(1 1)'%3E%3Ccircle class='d' cx='5.042' cy='5.042' r='5.042'/%3E%3Cline class='d' x2='5.042' y2='5.042' transform='translate(8.958 8.958)'/%3E%3C/g%3E%3Crect class='a' width='16' height='16'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E\") 0 0 no-repeat padding-box;height:25px;width:25px;position:relative;align-self:flex-end}.actions-container[_ngcontent-%COMP%]   .tab-actions-container[_ngcontent-%COMP%]   .table-list[_ngcontent-%COMP%]{background:transparent url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3E%3Cdefs%3E%3Cstyle%3E.a%7Bfill:%238395b4;%7D.b%7Bfill:none;%7D%3C/style%3E%3C/defs%3E%3Cg transform='translate(0 0)'%3E%3Cg transform='translate(391.186 -504.034)'%3E%3Crect class='a' width='5' height='1' transform='translate(-389.186 507.534)'/%3E%3Crect class='a' width='5' height='1' transform='translate(-389.186 509.534)'/%3E%3Crect class='a' width='5' height='1' transform='translate(-389.186 511.534)'/%3E%3Crect class='a' width='5' height='1' transform='translate(-389.186 513.534)'/%3E%3Crect class='a' width='5' height='1' transform='translate(-389.186 515.534)'/%3E%3Crect class='a' width='5' height='1' transform='translate(-382.186 507.534)'/%3E%3Crect class='a' width='5' height='1' transform='translate(-382.186 509.534)'/%3E%3Crect class='a' width='5' height='1' transform='translate(-382.186 511.534)'/%3E%3Crect class='a' width='5' height='1' transform='translate(-382.186 513.534)'/%3E%3Crect class='a' width='5' height='1' transform='translate(-382.186 515.534)'/%3E%3C/g%3E%3Crect class='b' width='16' height='16'/%3E%3C/g%3E%3C/svg%3E\") 0 0 no-repeat padding-box}.actions-container[_ngcontent-%COMP%]   .tab-actions-container[_ngcontent-%COMP%]   .preview-list[_ngcontent-%COMP%]{background:transparent url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3E%3Cdefs%3E%3Cstyle%3E.a%7Bfill:%238095b3;%7D.b%7Bfill:none;%7D%3C/style%3E%3C/defs%3E%3Cg transform='translate(0 0)'%3E%3Cg transform='translate(2314.701 27.803)'%3E%3Cpath class='a' d='M-2308.7-24.8v3h-4v-3h4m1-1h-6v5h6v-5Z'/%3E%3Cpath class='a' d='M-2300.7-24.8v3h-4v-3h4m1-1h-6v5h6v-5Z'/%3E%3Cpath class='a' d='M-2300.7-17.8v3h-4v-3h4m1-1h-6v5h6v-5Z'/%3E%3Cpath class='a' d='M-2308.7-17.8v3h-4v-3h4m1-1h-6v5h6v-5Z'/%3E%3C/g%3E%3Crect class='b' width='16' height='16'/%3E%3C/g%3E%3C/svg%3E\") 0 0 no-repeat padding-box}.actions-container[_ngcontent-%COMP%]   .tab-actions-container[_ngcontent-%COMP%]   .tab-radio[_ngcontent-%COMP%]{border-radius:3px;background-position:50%;width:30px;height:30px}.actions-container[_ngcontent-%COMP%]   .tab-actions-container[_ngcontent-%COMP%]   .mat-radio-button[_ngcontent-%COMP%]:hover   .tab-radio[_ngcontent-%COMP%]{background-color:#f2f5ff}.actions-container[_ngcontent-%COMP%]   .tab-actions-container[_ngcontent-%COMP%]   .mat-radio-button[_ngcontent-%COMP%]:active   .tab-radio[_ngcontent-%COMP%]{background-color:#e3e9f9}.actions-container[_ngcontent-%COMP%]   .tab-actions-container[_ngcontent-%COMP%]   .mat-radio-checked[_ngcontent-%COMP%]   .tab-radio[_ngcontent-%COMP%]{border:1px solid #8395b4}.tab-container[_ngcontent-%COMP%]{margin-top:1em;margin-bottom:1em;display:flex;flex-direction:column;justify-content:flex-start;height:100%}.button-container[_ngcontent-%COMP%]{margin-bottom:1em;display:flex;flex-direction:row;justify-content:flex-end}.button-container[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{font-family:inherit;border:1px solid transparent;border-radius:2px;font-size:1.4em;text-transform:uppercase;padding-inline-end:.4em;padding-inline-start:.4em;padding-block-start:.4em;padding-block-end:.4em;margin-inline-start:5px;margin-inline-end:5px}.button-container[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:disabled{background:#ccc}.button-container[_ngcontent-%COMP%]   .submit-button[_ngcontent-%COMP%]{align-self:flex-end;background:#1c9110;color:#fff}.button-container[_ngcontent-%COMP%]   .cancel-button[_ngcontent-%COMP%]{align-self:flex-end;background:#fff;color:#006ce0}"]}),e})(),Le=(()=>{class e{}return e.ɵfac=function(t){return new(t||e)},e.ɵmod=l["ɵɵdefineNgModule"]({type:e}),e.ɵinj=l["ɵɵdefineInjector"]({providers:[ge],imports:[[c.u5,i.BrowserModule,me.Nh,ue.ie,de.N6,ce.p9,le.QW,x.lN,j.c,pe.Fk,d.PW]]}),e})();("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](Le,{declarations:[Ve,xe,Fe,ke,Ie,ye,Ce],imports:[c.u5,i.BrowserModule,me.Nh,ue.ie,de.N6,ce.p9,le.QW,x.lN,j.c,pe.Fk,d.PW],exports:[Ve]});var ze=n(49453);function Be(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵelementStart"](0,"div",1),l["ɵɵlistener"]("click",(function(t){l["ɵɵrestoreView"](e);return l["ɵɵnextContext"]().onClick(t)})),l["ɵɵelement"](1,"mat-spinner",2),l["ɵɵelementEnd"]()}}let Ge=(()=>{class e{constructor(e){this._cdr=e,this._isVisible=!0}get isVisible(){return this._isVisible}set isVisible(e){this._isVisible=e,this._cdr.detectChanges()}onClick(e){e.stopImmediatePropagation()}hideBodyMask(){this.isVisible=!1}showBodyMask(){this.isVisible=!0}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](l.ChangeDetectorRef))},e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["ts-mask"]],inputs:{isVisible:"isVisible"},decls:1,vars:1,consts:[["class","mask-wrap",3,"click",4,"ngIf"],[1,"mask-wrap",3,"click"],["mode","indeterminate","diameter","32",1,"mask-element"]],template:function(e,t){1&e&&l["ɵɵtemplate"](0,Be,2,0,"div",0),2&e&&l["ɵɵproperty"]("ngIf",t.isVisible)},directives:[o.NgIf,ze.$g],styles:[".component-mask[_nghost-%COMP%]   .mask-wrap[_ngcontent-%COMP%], .component-mask   [_nghost-%COMP%]   .mask-wrap[_ngcontent-%COMP%]{position:absolute}.component-mask[_nghost-%COMP%]   .mask-wrap[_ngcontent-%COMP%]   .mask-element[_ngcontent-%COMP%], .component-mask   [_nghost-%COMP%]   .mask-wrap[_ngcontent-%COMP%]   .mask-element[_ngcontent-%COMP%]{position:absolute}.mask-wrap[_ngcontent-%COMP%]{position:fixed;top:0;left:0;z-index:2011;width:100%;height:100%;opacity:.6;background-color:#fff}.mask-wrap[_ngcontent-%COMP%]   .mask-element[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;margin-top:-16px;margin-left:-16px;z-index:999}"],changeDetection:0}),e})(),He=(()=>{class e{}return e.ɵfac=function(t){return new(t||e)},e.ɵmod=l["ɵɵdefineNgModule"]({type:e}),e.ɵinj=l["ɵɵdefineInjector"]({imports:[[o.CommonModule,ze.Cq,u.aw]]}),e})();("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](He,{declarations:[Ge],imports:[o.CommonModule,ze.Cq,u.aw],exports:[Ge]});const Ue=new l.InjectionToken("CustomEventApplicationIdToken");let Ze=(()=>{class e{constructor(e,t=null){this.document=e,this.appId=t,this.customEventName="TSCustomEventChannel",this.appId=t||Math.random().toString()}subscribe(e){return this.customEventObserver$=this.customEventObserver$||(0,h.fromEvent)(document,this.customEventName),this.customEventObserver$.pipe((0,f.h)((t=>t.detail.eventName===e&&t.detail.sender!==this.appId)),(0,g.U)((e=>e.detail.payload)))}createOutboundChannel(e){const t=new h.Subject;return t.asObservable().subscribe((t=>{const n=new CustomEvent(this.customEventName,{detail:{eventName:e,sender:this.appId,payload:t}});this.document.dispatchEvent(n)})),t}getDataViaEvent(e,t={}){return new h.Observable((n=>{this.subscribe(e).pipe((0,A.P)()).subscribe((e=>{n.next(e),n.complete()})),this.createOutboundChannel(e).next(t)}))}getDataStreamViaEvent(e,t={}){return new h.Observable((n=>{const i=this.subscribe(e).subscribe((e=>{n.next(e)}),h.noop,(()=>n.complete()));return this.createOutboundChannel(e).next(t),()=>{i.unsubscribe()}}))}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](o.DOCUMENT),l["ɵɵinject"](Ue,8))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})();var $e=n(23358),We=n.n($e);function qe(e){return new RegExp("^[а-яА-Яa-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[а-яА-Яa-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[а-яА-Яa-zA-Z0-9](?:[а-яА-Яa-zA-Z0-9-]*[а-яА-Яa-zA-Z0-9])?\\.)+[а-яА-Яa-zA-Z0-9](?:[а-яА-Яa-zA-Z0-9-]*[а-яА-Яa-zA-Z0-9])?$","g").test(e)}const Ye="uponSanitizeElement",Je=(e,t)=>{const n=t.tagName;qe(n)&&e.insertAdjacentText("afterbegin",`<${n}>`)},Qe=new l.InjectionToken("Represents a DOM purifier",{factory:()=>(We().addHook(Ye,Je),We()),providedIn:"platform"});function Ke(e){return null===e||"object"!=typeof e?[]:Object.keys(e).filter((t=>e[t]instanceof Object)).map((t=>Ke(e[t]).map((e=>[t,...e])))).reduce(((e,t)=>[...e,...t]),Object.keys(e).map((e=>[e])))}function Xe(e,t){const n={};for(const i in e)if(Object.prototype.hasOwnProperty.call(e,i))if("object"==typeof e[i]&&null!==e[i]){const r=Xe(e[i],t);for(const e in r)Object.prototype.hasOwnProperty.call(r,e)&&(n[i+t+e]=r[e])}else n[i]=e[i];return n}let et=(()=>{class e{constructor(){this.speechResult=new h.Subject,this.speechEnd=new h.Subject}static _getInternalApiClass(){return window.SpeechRecognition||window.webkitSpeechRecognition}static isSupported(){return void 0!==e._getInternalApiClass()}_subscribeEvents(){this._internalApi.addEventListener("result",this.onResult.bind(this)),this._internalApi.addEventListener("speechend",this.onSpeechEnd.bind(this))}_unsubscribeEvents(){this._internalApi.removeEventListener("result",this.onResult),this._internalApi.removeEventListener("speechend",this.onSpeechEnd)}init(t){const n=e._getInternalApiClass();this._internalApi=class{static create(e){return new e}}.create(n),this._internalApi.continuous=!0,this._internalApi.lang=t.lang||"en-US",this._subscribeEvents()}onResult(e){const{resultIndex:t,results:n}=e,i=n[t][0];if(!i)throw new Error("No results to transcript");this.speechResult.next(i.transcript)}onSpeechEnd(){this.speechEnd.next()}destroy(){this._unsubscribeEvents(),this._internalApi=null}startRecognition(){this._internalApi.start()}stopRecognition(){this._internalApi.stop()}}return e.ɵfac=function(t){return new(t||e)},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})();var tt=n(30452);class nt{constructor(e,t){this._ngZone=t;const n=new h.Subject;this._messages$=n.pipe(this._runInZone(this._ngZone)),this._broadcastChannel=new tt.g0(e),this._broadcastChannel.onmessage=e=>n.next(e)}get messages$(){return this._messages$}_runInZone(e){return t=>new h.Observable((n=>{t.subscribe((t=>e.run((()=>n.next(t)))))}))}publish(e){this._broadcastChannel.postMessage(e)}}let it=(()=>{class e{constructor(e){this._ngZone=e}createInstance(e){return new nt(e,this._ngZone)}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](l.NgZone))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"root"}),e})();const rt=new l.InjectionToken("Represents a default registration instance"),at=new l.InjectionToken("Represents the factories registration map");let ot=(()=>{class e{constructor(e,t,n=null){this._injector=e,this._registrationMap=t,this._defaultInstanceType=n}_getInstanceByType(e){if(this._registrationMap.has(e)){const t=this._registrationMap.get(e);return this._injector.get(t)}}_getInstanceByPredicate(e){for(const[t,n]of this._registrationMap)if("function"==typeof t&&t(e))return this._injector.get(n)}create(e=null){var t,n;return e&&null!==(n=null!==(t=this._getInstanceByType(e))&&void 0!==t?t:this._getInstanceByPredicate(e))&&void 0!==n?n:this._injector.get(this._defaultInstanceType)}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](l.Injector),l["ɵɵinject"](at),l["ɵɵinject"](rt,8))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"root"}),e})();class st{static _createMappings(e){const t=new Map;return(e=null!=e?e:[]).forEach((({predicate:e,injectable:n})=>{t.set(e,n)})),t}static create(e){const{mappings:t,default:n,token:i}=null!=e?e:{};return{provide:i,useFactory:e=>{const i=this._createMappings(t);return new ot(e,i,n)},deps:[l.Injector]}}}class lt{setNext(e){return this.nextHandler=e,e}handle(e){if(this.nextHandler)return this.nextHandler.handle(e)}}const ct=new l.InjectionToken("I18nTranslatesToken");var dt=n(28149);let ut=(()=>{class e{constructor(e,t){this._translateService=e,this._i18nTranslates=t,this._destroyed$=new h.Subject,this._init()}_init(){this._subscribe(),this._initDefaultLanguage()}_initDefaultLanguage(){const e=this._translateService.currentLang,t=this._translateService.defaultLang,n=e||t;n&&this._addTranslates(n)}_subscribe(){(0,h.merge)(this._translateService.onLangChange,this._translateService.onDefaultLangChange).pipe((0,b.R)(this._destroyed$)).subscribe((e=>this._addTranslates(e.lang)))}_addTranslates(e){const t=(0,dt.Z)(this._i18nTranslates),n=this._translateService.defaultLang;t.forEach((t=>{const i=t[e],r=t[n];this._translateService.setTranslation(e,i,!0),this._translateService.setTranslation(n,r,!0)}))}ngOnDestroy(){this._destroyed$.next(),this._destroyed$.complete()}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](u.sK),l["ɵɵinject"](ct))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})(),pt=(()=>{class e{constructor(e){this._crtLibTranslateService=e}static forRoot(t){return{ngModule:e,providers:[{multi:!0,provide:ct,useValue:t.i18n},ut]}}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](ut))},e.ɵmod=l["ɵɵdefineNgModule"]({type:e}),e.ɵinj=l["ɵɵdefineInjector"]({imports:[u.aw]}),e})();("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](pt,{exports:[u.aw]});var mt=n(32759);function ht(e){return Array.isArray(e)?e:[e]}function gt(e,t){if(!e)return"";if(!t)return e;let n=[e];return n=ft(n,t=ht(t)),n=function(e,t){return t.forEach((({replaceMacros:t,replaceValue:n})=>{e=e.map((e=>e===t?null!=n?n:"":e))})),e}(n,t),n.join("")}function ft(e,t){if(!e)return[];let n=ht(e);if(!t)return n;const i=ht(t),r=i.map((({replaceMacros:e})=>e));return i.forEach((({searchValue:e,replaceMacros:t})=>{if(e&&t){const i=new RegExp(`(${t})`,"g"),a=n.map((n=>r.includes(n)?n:n.split(e).join(t).split(i)));n=(0,mt.Z)(a)}})),n}const vt=new Map;function bt(e){return function(t){vt.set(e.requestType,t)}}function Ct(e){return t=>new h.Observable((n=>t.subscribe((t=>e.run((()=>n.next(t)))),(t=>e.run((()=>n.error(t)))),(()=>e.run((()=>n.complete()))))))}var yt=n(89387);class wt{static initialize(){yt.config({disableDefaultAlphabetLength:!0,disableDefaultIdLength:!0,idLength:7}),yt.characters("0123456789abcdefghijklmnopqrstuvwxyz")}static generateUnique(e,t=""){const n=new RegExp(`^${t}`);return t+e.replace(n,"")+"_"+yt.generate()}}wt.initialize();const _t=new l.InjectionToken("An abstraction over window.navigator object",{factory:()=>window.navigator,providedIn:"root"});var xt;let It=xt=class{constructor(e,t,n,i){this._componentFactoryResolver=e,this._appRef=t,this._injector=n,this._document=i,this._defaultMaskDelayMilliseconds=300,this._defaultMinimumMaskDuration=500,this._maskShouldBeShown=!1,this._maskShownTimestamp=0,this._createMaskComponentRef(),this._appendMaskComponentToBody(),this.hideBodyMask()}get _maskComponent(){return this._maskComponentRef.instance}get isVisible(){return this._maskComponent.isVisible}static _getHtmlElement(e){const t=e;if(!t||0===t.rootNodes.length)throw new Error("Not found HTMLElement Mask");return t.rootNodes[0]}_createMaskComponentRef(){const e=this._componentFactoryResolver.resolveComponentFactory(Ge);this._maskComponentRef=e.create(this._injector)}_appendMaskComponentToBody(){const e=this._maskComponentRef.hostView;this._appRef.attachView(e);const t=xt._getHtmlElement(e);this._document.body.appendChild(t)}showBodyMask(e){this._maskShouldBeShown=!0,0===(null==e?void 0:e.delay)?(this._maskComponent.showBodyMask(),this._maskShownTimestamp=Date.now()):setTimeout((()=>{this._maskShouldBeShown&&(this._maskComponent.showBodyMask(),this._maskShownTimestamp=Date.now())}),(null==e?void 0:e.delay)||this._defaultMaskDelayMilliseconds)}hideBodyMask(){this._maskShouldBeShown=!1;const e=Date.now()-this._maskShownTimestamp;e>=this._defaultMinimumMaskDuration?this._maskComponent.hideBodyMask():setTimeout((()=>{this._maskShouldBeShown||this._maskComponent.hideBodyMask()}),this._defaultMinimumMaskDuration-e)}};It.ɵfac=function(e){return new(e||It)(l["ɵɵinject"](l.ComponentFactoryResolver),l["ɵɵinject"](l.ApplicationRef),l["ɵɵinject"](l.Injector),l["ɵɵinject"](o.DOCUMENT))},It.ɵprov=l["ɵɵdefineInjectable"]({token:It,factory:It.ɵfac,providedIn:"root"}),It=xt=(0,a.gn)([bt({requestType:"crt.MaskService"}),(0,a.w6)("design:paramtypes",[l.ComponentFactoryResolver,l.ApplicationRef,l.Injector,HTMLDocument])],It);var St=n(49356),Mt=n(3069),Dt=n(64855);let Pt=(()=>{class e{constructor(e,t,i,r){var a,o;this.snackBarRef=e,this.data=t,this.matIconRegistry=i,this.domSanitizer=r,this.closeOnClickOutside=!1,this.message=t.message,this.closeOnClickOutside=!!t.closeOnClickOutside,null===(a=this.matIconRegistry)||void 0===a||a.addSvgIconLiteral("icon_close_24",null===(o=this.domSanitizer)||void 0===o?void 0:o.bypassSecurityTrustHtml(n(37433)))}onClickOutside(){this.closeOnClickOutside&&this.snackBarRef.dismiss()}onCloseClick(){this.snackBarRef.dismiss()}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](Mt.OX),l["ɵɵdirectiveInject"](Mt.qD),l["ɵɵdirectiveInject"](St.jv),l["ɵɵdirectiveInject"](i.DomSanitizer))},e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["ts-notify"]],hostBindings:function(e,t){1&e&&l["ɵɵlistener"]("click",(function(){return t.onClickOutside()}),!1,l["ɵɵresolveDocument"])},decls:5,vars:1,consts:[[1,"notify-container"],["data-qa","notificationPopup",1,"notify-popup"],["mat-button","",1,"close-button",3,"click"],["svgIcon","icon_close_24"]],template:function(e,t){1&e&&(l["ɵɵelementStart"](0,"div",0),l["ɵɵelementStart"](1,"span",1),l["ɵɵtext"](2),l["ɵɵelementEnd"](),l["ɵɵelementStart"](3,"button",2),l["ɵɵlistener"]("click",(function(){return t.onCloseClick()})),l["ɵɵelement"](4,"mat-icon",3),l["ɵɵelementEnd"](),l["ɵɵelementEnd"]()),2&e&&(l["ɵɵadvance"](2),l["ɵɵtextInterpolate1"](" ",t.message," "))},directives:[B.lW,St.Hw],styles:[".notify-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:center}.notify-container[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{padding:0;margin-left:auto;min-width:auto}"]}),e})(),Tt=(()=>{class e{constructor(e,t,n){var i;this._snackBar=e,this._translateService=t,this._environment=n,this._defaultDuration=(null===(i=this._environment)||void 0===i?void 0:i.defaultNotifyPopupDuration)||5e3,this._verticalPosition="bottom"}show({message:e,translate:t=!0,duration:n,panelClass:i,interpolateParams:r,closeOnClickOutside:o}){return(0,a.mG)(this,void 0,void 0,(function*(){return t&&(e=yield this._translateService.get(e,r).pipe((0,A.P)()).toPromise()),this._snackBar.openFromComponent(Pt,{data:{message:e,closeOnClickOutside:o},duration:void 0===n?this._defaultDuration:n,verticalPosition:this._verticalPosition,panelClass:i})}))}showPermanently({message:e,translate:t,closeOnClickOutside:n}){return(0,a.mG)(this,void 0,void 0,(function*(){const i=yield this.show({message:e,translate:t,duration:0,closeOnClickOutside:n}),r=new h.Subject;return r.subscribe((()=>i.dismiss())),r}))}error({message:e,translate:t,duration:n}){return(0,a.mG)(this,void 0,void 0,(function*(){return this.show({message:e,translate:t,duration:n,panelClass:"notify-service-error"})}))}warn({message:e,translate:t,duration:n}){return(0,a.mG)(this,void 0,void 0,(function*(){return this.show({message:e,translate:t,duration:n,panelClass:"notify-service-warn"})}))}info({message:e,translate:t,duration:n}){return(0,a.mG)(this,void 0,void 0,(function*(){return this.show({message:e,translate:t,duration:n,panelClass:"notify-service-info"})}))}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](Mt.ux),l["ɵɵinject"](u.sK),l["ɵɵinject"]("environment",8))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})(),kt=(()=>{class e{}return e.ɵfac=function(t){return new(t||e)},e.ɵmod=l["ɵɵdefineNgModule"]({type:e}),e.ɵinj=l["ɵɵdefineInjector"]({providers:[Tt],imports:[[o.CommonModule,B.ot,x.lN,j.c,c.u5,c.UX,St.Ps,ce.p9,Dt.AV,Mt.ZX,c.u5,c.UX]]}),e})();("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](kt,{declarations:[Pt],imports:[o.CommonModule,B.ot,x.lN,j.c,c.u5,c.UX,St.Ps,ce.p9,Dt.AV,Mt.ZX,c.u5,c.UX],exports:[Pt]});let Et=(()=>{class e{constructor(e){this._elementRef=e,this.elementStateChange=new l.EventEmitter}set observationConfig(e){this._config=e,this._startObserve()}_startObserve(){var e;this._stopObserve(),this._observableElement=null===(e=this._elementRef)||void 0===e?void 0:e.nativeElement,this._observableElement&&(this._observer=new IntersectionObserver((e=>this._emitElementStateChange(e)),this._config),this._observer.observe(this._observableElement))}_emitElementStateChange(e){e.filter((e=>this._isObservableElement(e))).forEach((e=>{this.elementStateChange.emit({visible:e.isIntersecting})}))}_isObservableElement(e){return e.target===this._observableElement}_stopObserve(){this._observer&&this._observableElement&&this._observer.unobserve(this._observableElement)}ngOnInit(){this._startObserve()}ngOnDestroy(){this._stopObserve()}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](l.ElementRef))},e.ɵdir=l["ɵɵdefineDirective"]({type:e,selectors:[["","crtObserveElementInViewport",""]],inputs:{observationConfig:"observationConfig"},outputs:{elementStateChange:"elementStateChange"}}),e})(),Nt=(()=>{class e{}return e.ɵfac=function(t){return new(t||e)},e.ɵmod=l["ɵɵdefineNgModule"]({type:e}),e.ɵinj=l["ɵɵdefineInjector"]({}),e})();("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](Nt,{declarations:[Et],exports:[Et]});const Ot=function(e){return{"password-icon":!0,"opacity-icon":e}};let jt=(()=>{class e extends _{constructor(e,t,n){super(e,t,n),this.hideIcon=!0,this.iconHint="",this.icon="visibility"}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](c.a5,10),l["ɵɵdirectiveInject"](C.Lq),l["ɵɵdirectiveInject"](y.tE))},e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["ts-password-input"]],inputs:{iconHint:"iconHint",icon:"icon"},features:[l["ɵɵProvidersFeature"]([{provide:x.Eo,useExisting:e}]),l["ɵɵInheritDefinitionFeature"]],decls:4,vars:8,consts:[["matInput","","spellcheck","false","data-qa","input-password","type","password","name","pass","id","pass",3,"ngModel","placeholder","type","ngModelChange"],["input",""],[3,"ngClass","title","click"]],template:function(e,t){1&e&&(l["ɵɵelementStart"](0,"input",0,1),l["ɵɵlistener"]("ngModelChange",(function(e){return t.innerValue=e})),l["ɵɵelementEnd"](),l["ɵɵelementStart"](2,"mat-icon",2),l["ɵɵlistener"]("click",(function(){return t.hideIcon=!t.hideIcon})),l["ɵɵtext"](3),l["ɵɵelementEnd"]()),2&e&&(l["ɵɵproperty"]("ngModel",t.innerValue)("placeholder",t.placeholder)("type",t.hideIcon?"password":"text"),l["ɵɵadvance"](2),l["ɵɵproperty"]("ngClass",l["ɵɵpureFunction1"](6,Ot,t.hideIcon))("title",t.iconHint),l["ɵɵadvance"](1),l["ɵɵtextInterpolate1"]("",t.icon,"\n"))},directives:[j.Nt,c.Fj,c.JJ,c.On,St.Hw,o.NgClass],styles:["input[_ngcontent-%COMP%]{width:calc(100% - 24px)}.password-icon[_ngcontent-%COMP%]{position:absolute;top:4px;color:#006ce0;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.password-icon.opacity-icon[_ngcontent-%COMP%]{color:#757575}.password-icon[_ngcontent-%COMP%]:hover{cursor:pointer}"]}),e})(),At=(()=>{class e{}return e.ɵfac=function(t){return new(t||e)},e.ɵmod=l["ɵɵdefineNgModule"]({type:e}),e.ɵinj=l["ɵɵdefineInjector"]({imports:[[x.lN,j.c,St.Ps,o.CommonModule,c.UX,c.u5,d.PW],x.lN,j.c,St.Ps,o.CommonModule,c.UX,c.u5,d.PW]}),e})();("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](At,{declarations:[jt],imports:[x.lN,j.c,St.Ps,o.CommonModule,c.UX,c.u5,d.PW],exports:[x.lN,j.c,St.Ps,o.CommonModule,c.UX,c.u5,d.PW,jt]});const Rt=["*"];let Ft=(()=>{class e{constructor(){this.checked=!1}}return e.ɵfac=function(t){return new(t||e)},e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["ts-radio-button"]],inputs:{value:"value",checked:"checked"},ngContentSelectors:Rt,decls:3,vars:2,consts:[[1,"ts-radio-button"],["color","primary","data-qa","radio-btn",3,"value","checked"]],template:function(e,t){1&e&&(l["ɵɵprojectionDef"](),l["ɵɵelementStart"](0,"div",0),l["ɵɵelementStart"](1,"mat-radio-button",1),l["ɵɵprojection"](2),l["ɵɵelementEnd"](),l["ɵɵelementEnd"]()),2&e&&(l["ɵɵadvance"](1),l["ɵɵproperty"]("value",t.value)("checked",t.checked))},directives:[pe.U0],styles:[".ts-radio-button{margin-bottom:7px;height:26px}.ts-radio-button mat-radio-button{color:#444;font-family:Bpmonline Open Sans,Roboto,Helvetica Neue,sans-serif}.ts-radio-button mat-radio-button .mat-ripple-element{display:none}.ts-radio-button .mat-radio-button.mat-radio-checked .mat-radio-outer-circle{border-color:#006ce0}.ts-radio-button .mat-radio-button.mat-radio-checked .mat-radio-inner-circle{background-color:#006ce0}"],encapsulation:2}),e})(),Vt=(()=>{class e{}return e.ɵfac=function(t){return new(t||e)},e.ɵmod=l["ɵɵdefineNgModule"]({type:e}),e.ɵinj=l["ɵɵdefineInjector"]({imports:[[pe.Fk]]}),e})();("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](Vt,{declarations:[Ft],imports:[pe.Fk],exports:[Ft]});var Lt=n(50591),zt=n(61260);function Bt(e,t){if(1&e&&l["ɵɵelement"](0,"mat-icon",7),2&e){const e=t.$implicit;l["ɵɵproperty"]("svgIcon",e)}}function Gt(e,t){if(1&e&&(l["ɵɵelementStart"](0,"span",8),l["ɵɵtext"](1),l["ɵɵelementEnd"]()),2&e){const e=l["ɵɵnextContext"]();l["ɵɵadvance"](1),l["ɵɵtextInterpolate"](e.getTriggerCaption())}}function Ht(e,t){if(1&e&&l["ɵɵelement"](0,"mat-icon",13),2&e){const e=l["ɵɵnextContext"](2);l["ɵɵproperty"]("svgIcon",null==e.config.emptyOption?null:e.config.emptyOption.svgIconName)}}function Ut(e,t){1&e&&l["ɵɵelement"](0,"div",15)}function Zt(e,t){if(1&e&&l["ɵɵtemplate"](0,Ut,1,0,"div",14),2&e){const e=l["ɵɵnextContext"](2);l["ɵɵproperty"]("ngIf",e.needDisplayOptionIcons())}}function $t(e,t){1&e&&l["ɵɵelement"](0,"mat-divider")}function Wt(e,t){if(1&e&&(l["ɵɵelementContainerStart"](0),l["ɵɵelementStart"](1,"mat-option",9),l["ɵɵelementStart"](2,"div",10),l["ɵɵtemplate"](3,Ht,1,1,"mat-icon",11),l["ɵɵtemplate"](4,Zt,1,1,"ng-template",null,12,l["ɵɵtemplateRefExtractor"]),l["ɵɵelementStart"](6,"span"),l["ɵɵtext"](7),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵtemplate"](8,$t,1,0,"mat-divider",5),l["ɵɵelementContainerEnd"]()),2&e){const e=l["ɵɵreference"](5),t=l["ɵɵnextContext"]();l["ɵɵadvance"](1),l["ɵɵstyleProp"]("display",t.config.emptyOption?"":"none"),l["ɵɵproperty"]("value",t.emptyValue),l["ɵɵadvance"](2),l["ɵɵproperty"]("ngIf",null==t.config.emptyOption?null:t.config.emptyOption.svgIconName)("ngIfElse",e),l["ɵɵadvance"](4),l["ɵɵtextInterpolate"](null==t.config.emptyOption?null:t.config.emptyOption.caption),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",t.config.emptyOption)}}function qt(e,t){if(1&e&&l["ɵɵelement"](0,"mat-icon",13),2&e){const e=l["ɵɵnextContext"]().$implicit;l["ɵɵproperty"]("svgIcon",e.svgIconName)}}function Yt(e,t){1&e&&l["ɵɵelement"](0,"div",15)}function Jt(e,t){if(1&e&&l["ɵɵtemplate"](0,Yt,1,0,"div",14),2&e){const e=l["ɵɵnextContext"](2);l["ɵɵproperty"]("ngIf",e.needDisplayOptionIcons())}}function Qt(e,t){if(1&e&&(l["ɵɵelementStart"](0,"mat-option",16),l["ɵɵelementStart"](1,"div",10),l["ɵɵtemplate"](2,qt,1,1,"mat-icon",11),l["ɵɵtemplate"](3,Jt,1,1,"ng-template",null,17,l["ɵɵtemplateRefExtractor"]),l["ɵɵelementStart"](5,"span"),l["ɵɵtext"](6),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵelementEnd"]()),2&e){const e=t.$implicit,n=l["ɵɵreference"](4);l["ɵɵproperty"]("value",e.value),l["ɵɵadvance"](2),l["ɵɵproperty"]("ngIf",e.svgIconName)("ngIfElse",n),l["ɵɵadvance"](4),l["ɵɵtextInterpolate"](e.caption)}}let Kt=(()=>{class e{constructor(){this._panelClass=[],this.emptyValue={},this.innerValue=this.emptyValue,this.valueChange=new l.EventEmitter,this.disabled=!1}set config(e){this._config=e,this._validateConfig()}get config(){return this._config}set value(e){this.innerValue=null==e?this.emptyValue:e}get value(){return this.isEmptyValueSelected()?null:this.innerValue}set panelClass(e){(null==e?void 0:e.length)>0&&(this._panelClass=[...e])}get panelClass(){return[...this._panelClass,"select-menu-panel"]}_validateValue(){if(this.isEmptyValueSelected()||this._getSelectedOption())return;const e=this.value,t="object"==typeof e?JSON.stringify(e):e;throw new Error(`Value "${t}" is not specified in select menu configuration.`)}_validateConfig(){var e;if(!(null===(e=this.config)||void 0===e?void 0:e.options))throw new Error(`Property "config" must be specified and contain valid options. Actual config is "${JSON.stringify(this.config)}".`)}_resetToFirstOptionIfNeeded(){this.config&&this.config.options.length>0&&!this.config.placeholder&&this.isEmptyValueSelected()&&(this.value=this.config.options[0].value,setTimeout((()=>{this.emitValueChange()}),0))}_getSelectedOption(){const e=this.innerValue;return this.config.options.find((t=>t.value===e))}ngDoCheck(){this._validateValue(),this._resetToFirstOptionIfNeeded()}emitValueChange(){this.valueChange.emit(this.value)}trackByValue(e,t){return t.value}getTriggerCaption(){var e;return this.isEmptyValueSelected()?null===(e=this.config.placeholder)||void 0===e?void 0:e.caption:this._getSelectedOption().caption}getTriggerSvgIconName(){var e,t,n,i,r;const a=null!==(t=null===(e=this.config.placeholder)||void 0===e?void 0:e.svgIconName)&&void 0!==t?t:null===(n=this.config.emptyOption)||void 0===n?void 0:n.svgIconName;return this.isEmptyValueSelected()?a:null!==(r=null===(i=this._getSelectedOption())||void 0===i?void 0:i.svgIconName)&&void 0!==r?r:a}isEmptyValueSelected(){return this.innerValue===this.emptyValue}needDisplayOptionIcons(){var e;return Boolean(null===(e=this.config.emptyOption)||void 0===e?void 0:e.svgIconName)||this.config.options.some((e=>e.svgIconName))}needDisplaySelectedCaption(){return!0!==this._config.hideSelectedCaption}}return e.ɵfac=function(t){return new(t||e)},e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["ts-select-menu"]],inputs:{config:"config",value:"value",disabled:"disabled",panelClass:"panelClass"},outputs:{valueChange:"valueChange"},decls:8,vars:9,consts:[["floatLabel","never"],["disableOptionCentering","",3,"value","disabled","matTooltip","panelClass","valueChange","selectionChange"],[1,"select-menu-trigger"],["class","select-menu-trigger-icon",3,"svgIcon",4,"ngIf"],["class","select-menu-trigger-caption",4,"ngIf"],[4,"ngIf"],["class","select-menu-option",3,"value",4,"ngFor","ngForOf","ngForTrackBy"],[1,"select-menu-trigger-icon",3,"svgIcon"],[1,"select-menu-trigger-caption"],[1,"select-menu-option","select-menu-empty-option",3,"value"],[1,"select-menu-option-content"],[3,"svgIcon",4,"ngIf","ngIfElse"],["emptyOptionIconPlaceholder",""],[3,"svgIcon"],["class","select-menu-option-icon-placeholder",4,"ngIf"],[1,"select-menu-option-icon-placeholder"],[1,"select-menu-option",3,"value"],["optionIconPlaceholder",""]],template:function(e,t){1&e&&(l["ɵɵelementStart"](0,"mat-form-field",0),l["ɵɵelementStart"](1,"mat-select",1),l["ɵɵlistener"]("valueChange",(function(e){return t.innerValue=e}))("selectionChange",(function(){return t.emitValueChange()})),l["ɵɵelementStart"](2,"mat-select-trigger"),l["ɵɵelementStart"](3,"span",2),l["ɵɵtemplate"](4,Bt,1,1,"mat-icon",3),l["ɵɵtemplate"](5,Gt,2,1,"span",4),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵtemplate"](6,Wt,9,7,"ng-container",5),l["ɵɵtemplate"](7,Qt,7,4,"mat-option",6),l["ɵɵelementEnd"](),l["ɵɵelementEnd"]()),2&e&&(l["ɵɵadvance"](1),l["ɵɵproperty"]("value",t.innerValue)("disabled",t.disabled)("matTooltip",t.needDisplaySelectedCaption()?null:t.getTriggerCaption())("panelClass",t.panelClass),l["ɵɵadvance"](3),l["ɵɵproperty"]("ngIf",t.getTriggerSvgIconName()),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",t.needDisplaySelectedCaption()),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",t.config.placeholder),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngForOf",t.config.options)("ngForTrackBy",t.trackByValue))},directives:[x.KE,zt.gD,Dt.gM,zt.$L,o.NgIf,o.NgForOf,St.Hw,R.ey,Lt.d],styles:["ts-select-menu .mat-form-field-type-mat-select .mat-form-field-wrapper{padding-bottom:0!important}ts-select-menu .mat-form-field-type-mat-select .mat-form-field-wrapper .mat-form-field-infix{width:auto;padding:0!important}ts-select-menu .mat-form-field-type-mat-select .mat-form-field-wrapper .mat-form-field-infix mat-select{width:auto;height:26px;display:flex;align-items:center;border-radius:2px}ts-select-menu .mat-form-field-type-mat-select .mat-form-field-wrapper .mat-form-field-infix mat-select:not(.mat-select-disabled):focus,ts-select-menu .mat-form-field-type-mat-select .mat-form-field-wrapper .mat-form-field-infix mat-select:not(.mat-select-disabled):hover{background-color:#f2f5ff}ts-select-menu .mat-form-field-type-mat-select .mat-form-field-wrapper .mat-form-field-infix mat-select .mat-select-trigger{padding:0 4px 0 8px}ts-select-menu .mat-form-field-type-mat-select .mat-form-field-wrapper .mat-form-field-infix mat-select .mat-select-trigger .mat-select-value{max-width:100%;width:auto;color:#444;font-size:14px}ts-select-menu .mat-form-field-type-mat-select .mat-form-field-wrapper .mat-form-field-infix mat-select .mat-select-trigger .mat-select-value .select-menu-trigger{display:flex;align-items:center;height:18px;line-height:18px;position:relative}ts-select-menu .mat-form-field-type-mat-select .mat-form-field-wrapper .mat-form-field-infix mat-select .mat-select-trigger .mat-select-value .select-menu-trigger .select-menu-trigger-icon{height:16px;width:16px;margin:0 8px 0 0!important}ts-select-menu .mat-form-field-type-mat-select .mat-form-field-wrapper .mat-form-field-infix mat-select .mat-select-trigger .mat-select-value .select-menu-trigger .select-menu-trigger-caption{position:relative;bottom:1px}ts-select-menu .mat-form-field-type-mat-select .mat-form-field-wrapper .mat-form-field-underline{display:none}.mat-select-panel.select-menu-panel{max-height:500px!important;position:absolute;top:22px;left:15px;padding:1px}.mat-select-panel.select-menu-panel mat-option.select-menu-option{padding:0 18px;height:33px!important;line-height:33px!important}.mat-select-panel.select-menu-panel mat-option.select-menu-option.select-menu-empty-option{margin-top:4px}.mat-select-panel.select-menu-panel mat-option.select-menu-option.select-menu-empty-option.select-menu-empty-option-hidden{display:none}.mat-select-panel.select-menu-panel mat-option.select-menu-option .select-menu-option-content{display:flex;align-items:center;font-size:14px;line-height:18px;padding-right:15px}.mat-select-panel.select-menu-panel mat-option.select-menu-option .select-menu-option-icon-placeholder,.mat-select-panel.select-menu-panel mat-option.select-menu-option mat-icon{height:16px;width:16px;margin:0 8px 0 0!important}.mat-select-panel.select-menu-panel mat-divider{margin:5px 12px}"],encapsulation:2}),e})(),Xt=(()=>{class e{}return e.ɵfac=function(t){return new(t||e)},e.ɵmod=l["ɵɵdefineNgModule"]({type:e}),e.ɵinj=l["ɵɵdefineInjector"]({imports:[[o.CommonModule,x.lN,Lt.t,St.Ps,R.Ng,zt.LD,Dt.AV]]}),e})();("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](Xt,{declarations:[Kt],imports:[o.CommonModule,x.lN,Lt.t,St.Ps,R.Ng,zt.LD,Dt.AV],exports:[Kt]});var en=n(46794);const tn=["tooltipEl"],nn=function(e){return{rtl:e}};let rn=(()=>{class e{constructor(e,t){this._directionality=e,this._sanitizer=t,this._defaultCssClass="base-tooltip"}setInnerHTML(){var e;this.tooltipEl.nativeElement.innerHTML=this._sanitizer.sanitize(l.SecurityContext.HTML,null===(e=this._tooltipConfig)||void 0===e?void 0:e.value)}set tooltipConfig(e){this._tooltipConfig!==e&&(this._tooltipConfig=e)}get tooltipConfig(){return this._tooltipConfig}get cssClasses(){var e;return(null===(e=this._tooltipConfig)||void 0===e?void 0:e.cssClasses)||this._defaultCssClass}isRtl(){return"rtl"===this._directionality.value}ngAfterViewInit(){this.setInnerHTML()}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](en.Is),l["ɵɵdirectiveInject"](i.DomSanitizer))},e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["crt-base-tooltip"]],viewQuery:function(e,t){if(1&e&&l["ɵɵviewQuery"](tn,5,l.ElementRef),2&e){let e;l["ɵɵqueryRefresh"](e=l["ɵɵloadQuery"]())&&(t.tooltipEl=e.first)}},inputs:{tooltipConfig:"tooltipConfig"},decls:3,vars:6,consts:[[1,"tooltip-value",3,"ngClass"],["tooltipEl",""]],template:function(e,t){1&e&&(l["ɵɵelementStart"](0,"div"),l["ɵɵelement"](1,"span",0,1),l["ɵɵelementEnd"]()),2&e&&(l["ɵɵclassMap"](t.cssClasses),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngClass",l["ɵɵpureFunction1"](4,nn,t.isRtl())))},directives:[o.NgClass],styles:[".base-tooltip[_ngcontent-%COMP%]{max-width:300px;margin:10px;padding:8px;border:1px solid #e6e6e6;opacity:1}.base-tooltip[_ngcontent-%COMP%]   .rtl[_ngcontent-%COMP%]{direction:rtl;text-align:right}"]}),e})(),an=(()=>{class e{constructor(){this.showDelay=100,this.hideDelay=100,this.tooltipPosition="above"}}return e.ɵfac=function(t){return new(t||e)},e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["ts-info-tooltip-icon"]],inputs:{message:"message",showDelay:"showDelay",hideDelay:"hideDelay",tooltipPosition:"tooltipPosition"},decls:1,vars:4,consts:[["svgIcon","info-tooltip",3,"matTooltip","matTooltipShowDelay","matTooltipHideDelay","matTooltipPosition"]],template:function(e,t){1&e&&l["ɵɵelement"](0,"mat-icon",0),2&e&&l["ɵɵproperty"]("matTooltip",t.message)("matTooltipShowDelay",t.showDelay)("matTooltipHideDelay",t.hideDelay)("matTooltipPosition",t.tooltipPosition)},directives:[St.Hw,Dt.gM],styles:["[_nghost-%COMP%]{height:22px;width:22px}mat-icon[_ngcontent-%COMP%]{width:22px!important;height:22px!important;cursor:pointer}"]}),e})();function on(e,t){if(1&e&&(l["ɵɵelementStart"](0,"div"),l["ɵɵtext"](1),l["ɵɵelementEnd"]()),2&e){const e=t.$implicit,n=l["ɵɵnextContext"]();l["ɵɵclassMapInterpolate1"]("rule ",n.getValidationClass(e.valid),""),l["ɵɵadvance"](1),l["ɵɵtextInterpolate1"](" ",e.caption," ")}}let sn=(()=>{class e extends rn{constructor(e,t){super(e,t),this.directionality=e}set tooltipConfig(e){this.validationTooltipConfig=e.value}getValidationClass(e){return e?"valid":"boolean"==typeof e?"invalid":"not-validated"}setInnerHTML(){}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](en.Is),l["ɵɵdirectiveInject"](i.DomSanitizer))},e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["crt-validation-result-tooltip"]],features:[l["ɵɵInheritDefinitionFeature"]],decls:5,vars:5,consts:[[1,"header"],[1,"rules"],[3,"class",4,"ngFor","ngForOf"]],template:function(e,t){1&e&&(l["ɵɵelementStart"](0,"div"),l["ɵɵelementStart"](1,"div",0),l["ɵɵtext"](2),l["ɵɵelementEnd"](),l["ɵɵelementStart"](3,"div",1),l["ɵɵtemplate"](4,on,2,4,"div",2),l["ɵɵelementEnd"](),l["ɵɵelementEnd"]()),2&e&&(l["ɵɵclassMapInterpolate1"]("component-container ",t.cssClasses,""),l["ɵɵadvance"](2),l["ɵɵtextInterpolate1"]("",null==t.validationTooltipConfig?null:t.validationTooltipConfig.header,":"),l["ɵɵadvance"](2),l["ɵɵproperty"]("ngForOf",null==t.validationTooltipConfig?null:t.validationTooltipConfig.validations))},directives:[o.NgForOf],styles:[".component-container[_ngcontent-%COMP%]{max-width:400px;display:flex;flex-direction:column;padding:16px;border-width:1px;border-style:solid}.component-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{text-align:left;font-weight:700;padding-bottom:6px}.component-container[_ngcontent-%COMP%]   .rules[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.component-container[_ngcontent-%COMP%]   .rules[_ngcontent-%COMP%]   .rule[_ngcontent-%COMP%]{width:50%;position:relative;left:24px;text-indent:-24px;padding-right:30px;box-sizing:border-box;margin-bottom:9px}.component-container[_ngcontent-%COMP%]   .rules[_ngcontent-%COMP%]   .rule[_ngcontent-%COMP%]:before{padding-right:8px;top:3px;position:relative}.component-container[_ngcontent-%COMP%]   .rules[_ngcontent-%COMP%]   .rule.valid[_ngcontent-%COMP%]:before{content:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDE2IDE2Ij4KICA8ZyBpZD0iR3JvdXBfMTY1OTUiIGRhdGEtbmFtZT0iR3JvdXAgMTY1OTUiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC00ODYgLTU3MikiPgogICAgPHJlY3QgaWQ9IlJlY3RhbmdsZV80MjUxMyIgZGF0YS1uYW1lPSJSZWN0YW5nbGUgNDI1MTMiIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNDg2IDU3MikiIGZpbGw9Im5vbmUiLz4KICAgIDxnIGlkPSJFbGxpcHNlXzMwODciIGRhdGEtbmFtZT0iRWxsaXBzZSAzMDg3IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg0ODcgNTczKSIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjM2M4MjIzIiBzdHJva2Utd2lkdGg9IjIiPgogICAgICA8Y2lyY2xlIGN4PSI3IiBjeT0iNyIgcj0iNyIgc3Ryb2tlPSJub25lIi8+CiAgICAgIDxjaXJjbGUgY3g9IjciIGN5PSI3IiByPSI2IiBmaWxsPSJub25lIi8+CiAgICA8L2c+CiAgICA8cGF0aCBpZD0iUGF0aF8xMTg3OSIgZGF0YS1uYW1lPSJQYXRoIDExODc5IiBkPSJNMTcuMDkzLDI4LjE4bDIuNSwzLDQuNS01IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg0NzMuNDA3IDU1MS4zMikiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzNjODIyMyIgc3Ryb2tlLXdpZHRoPSIyIi8+CiAgPC9nPgo8L3N2Zz4K)}.component-container[_ngcontent-%COMP%]   .rules[_ngcontent-%COMP%]   .rule.invalid[_ngcontent-%COMP%]:before{content:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDE2IDE2Ij4KICA8ZyBpZD0iR3JvdXBfMTY1OTQiIGRhdGEtbmFtZT0iR3JvdXAgMTY1OTQiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC00ODYgLTU3MikiPgogICAgPHJlY3QgaWQ9IlJlY3RhbmdsZV80MjUxMyIgZGF0YS1uYW1lPSJSZWN0YW5nbGUgNDI1MTMiIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNDg2IDU3MikiIGZpbGw9Im5vbmUiLz4KICAgIDxnIGlkPSJFbGxpcHNlXzMwODciIGRhdGEtbmFtZT0iRWxsaXBzZSAzMDg3IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg0ODcgNTczKSIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjYzIzZjIzIiBzdHJva2Utd2lkdGg9IjIiPgogICAgICA8Y2lyY2xlIGN4PSI3IiBjeT0iNyIgcj0iNyIgc3Ryb2tlPSJub25lIi8+CiAgICAgIDxjaXJjbGUgY3g9IjciIGN5PSI3IiByPSI2IiBmaWxsPSJub25lIi8+CiAgICA8L2c+CiAgICA8cGF0aCBpZD0iUGF0aF8xMTg3NyIgZGF0YS1uYW1lPSJQYXRoIDExODc3IiBkPSJNMTQyOCw0ODF2NiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTE3My41MDkgLTc3MS45ODgpIHJvdGF0ZSg0NSkiIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2MyM2YyMyIgc3Ryb2tlLXdpZHRoPSIyIi8+CiAgICA8cGF0aCBpZD0iUGF0aF8xMTg3OCIgZGF0YS1uYW1lPSJQYXRoIDExODc4IiBkPSJNMTQyOCw0ODF2NiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTg0NS45ODggLTg3LjUwOSkgcm90YXRlKDEzNSkiIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2MyM2YyMyIgc3Ryb2tlLXdpZHRoPSIyIi8+CiAgPC9nPgo8L3N2Zz4K)}.component-container[_ngcontent-%COMP%]   .rules[_ngcontent-%COMP%]   .rule.not-validated[_ngcontent-%COMP%]:before{content:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDE2IDE2Ij4KICA8ZyBpZD0iR3JvdXBfMTY1OTMiIGRhdGEtbmFtZT0iR3JvdXAgMTY1OTMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC00ODYgLTU3MikiPgogICAgPHJlY3QgaWQ9IlJlY3RhbmdsZV80MjUxMyIgZGF0YS1uYW1lPSJSZWN0YW5nbGUgNDI1MTMiIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNDg2IDU3MikiIGZpbGw9Im5vbmUiLz4KICAgIDxnIGlkPSJFbGxpcHNlXzMwODciIGRhdGEtbmFtZT0iRWxsaXBzZSAzMDg3IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg0ODcgNTczKSIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjNzU3NTc1IiBzdHJva2Utd2lkdGg9IjIiPgogICAgICA8Y2lyY2xlIGN4PSI3IiBjeT0iNyIgcj0iNyIgc3Ryb2tlPSJub25lIi8+CiAgICAgIDxjaXJjbGUgY3g9IjciIGN5PSI3IiByPSI2IiBmaWxsPSJub25lIi8+CiAgICA8L2c+CiAgPC9nPgo8L3N2Zz4K)}"]}),e})();var ln=n(2414),cn=n(25124),dn=n(92035);let un=(()=>{class e{constructor(e,t,n,i){this._overlay=e,this._overlayPositionBuilder=t,this._elementRef=n,this._ngZone=i,this._delayTime=100}set tooltipConfig(e){this._tooltipConfig=e,this._tooltipRef&&(this._tooltipRef.instance.tooltipConfig=this._tooltipConfig.tooltipConfig)}_createShowEventStream(e){return this._ngZone.runOutsideAngular((()=>{var t,n;return(0,h.fromEvent)(this._elementRef.nativeElement,null===(t=this._tooltipConfig)||void 0===t?void 0:t.showEvent,{capture:null===(n=this._tooltipConfig)||void 0===n?void 0:n.capture}).pipe((0,cn.e)(this._delayTime),(0,b.R)(e))}))}_createHideEventStream(e){return this._ngZone.runOutsideAngular((()=>{var t,n;return(0,h.fromEvent)(e,null===(t=this._tooltipConfig)||void 0===t?void 0:t.hideEvent,{capture:null===(n=this._tooltipConfig)||void 0===n?void 0:n.capture})}))}_createEventsStream(e,t){this._subscription=t.subscribe(),this._subscription.add(e.subscribe());const n=(0,h.merge)(e,t);n.pipe((0,b.R)(t));const i=n.subscribe((e=>{if(e.type===this._tooltipConfig.showEvent&&this.show(),e.type===this._tooltipConfig.hideEvent){let t=e.relatedTarget;this._overlayRef.overlayElement.contains(t)||(t=this._elementRef.nativeElement,this.hide(),this._subscription.unsubscribe());const n=this._createHideEventStream(t),i=this._createShowEventStream(n);this._createEventsStream(i,n)}}));this._subscription.add(i)}_getPreferredPositions(){var e,t;return[{originX:"end",originY:"center",overlayX:"start",overlayY:"center",offsetX:0,offsetY:0,panelClass:null===(e=this._tooltipConfig)||void 0===e?void 0:e.panelClass},{originX:"end",originY:"bottom",overlayX:"center",overlayY:"top",offsetX:0,offsetY:0,panelClass:null===(t=this._tooltipConfig)||void 0===t?void 0:t.panelClass}]}hide(){this._overlayRef.hasAttached()&&this._overlayRef.detach()}show(){this._tooltipConfig&&(this._overlayRef.hasAttached()||(this._tooltipRef=this._overlayRef.attach(new ln.C5(this._tooltipConfig.componentType))),this._tooltipRef&&(this._tooltipRef.instance.tooltipConfig=this._tooltipConfig.tooltipConfig))}ngOnInit(){var e,t,n,i,r,a;const o=null!==(t=null===(e=this._tooltipConfig)||void 0===e?void 0:e.preferredPositions)&&void 0!==t?t:this._getPreferredPositions(),s=this._overlayPositionBuilder.flexibleConnectedTo(this._elementRef).withPositions(o),l={scrollStrategy:this._overlay.scrollStrategies.close(),positionStrategy:s};(null===(n=this._tooltipConfig)||void 0===n?void 0:n.width)&&Object.assign(l,{width:null===(i=this._tooltipConfig)||void 0===i?void 0:i.width}),(null===(r=this._tooltipConfig)||void 0===r?void 0:r.height)&&Object.assign(l,{height:null===(a=this._tooltipConfig)||void 0===a?void 0:a.height}),this._overlayRef=this._overlay.create(l)}ngAfterViewInit(){const e=this._createHideEventStream(this._elementRef.nativeElement),t=this._createShowEventStream(e);this._createEventsStream(t,e)}ngOnDestroy(){var e;this.hide(),null===(e=this._subscription)||void 0===e||e.unsubscribe()}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](dn.aV),l["ɵɵdirectiveInject"](dn.wJ),l["ɵɵdirectiveInject"](l.ElementRef),l["ɵɵdirectiveInject"](l.NgZone))},e.ɵdir=l["ɵɵdefineDirective"]({type:e,selectors:[["","crtTooltip",""]],inputs:{tooltipConfig:"tooltipConfig"}}),e})(),pn=(()=>{class e{}return e.ɵfac=function(t){return new(t||e)},e.ɵmod=l["ɵɵdefineNgModule"]({type:e}),e.ɵinj=l["ɵɵdefineInjector"]({imports:[[o.CommonModule,St.Ps,Dt.AV,u.aw]]}),e})();("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](pn,{declarations:[an,rn,un,sn],imports:[o.CommonModule,St.Ps,Dt.AV,u.aw],exports:[an,rn,un,sn]});class mn{constructor(e){this.showEvent="mouseenter",this.hideEvent="mouseleave",this.capture=!1,Object.assign(this,e)}}var hn=n(75919);class gn{constructor(e){this.data={nodes:new hn.qg(e.nodes),edges:new hn.qg(e.edges)},this.options=e.options}}const fn=["visNetworkContainer"];let vn=(()=>{class e{constructor(){this._networkDataSubject=new h.ReplaySubject,this.nodeDoubleClick=new l.EventEmitter}set networkData(e){e&&this._networkDataSubject.next(e)}_renderVisNetwork(e){const t=this.visNetworkContainer.nativeElement;this.visNetworkInstance=new hn.Zc(t,e.data,e.options),this.visNetworkInstance.on("doubleClick",this.onNodeDoubleClick.bind(this))}onNodeDoubleClick(e){const t=this.visNetworkInstance.getNodeAt(e.pointer.DOM);t&&this.nodeDoubleClick.emit(t)}_reRenderVisNetwork(e){this.visNetworkInstance.setData(e.data),this.visNetworkInstance.setOptions(e.options),this.visNetworkInstance.redraw()}ngOnInit(){this._networkDataSubject.pipe((0,g.U)((e=>new gn(e)))).subscribe((e=>{this.visNetworkInstance?this._reRenderVisNetwork(e):this._renderVisNetwork(e)}))}}return e.ɵfac=function(t){return new(t||e)},e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["ts-vis-network"]],viewQuery:function(e,t){if(1&e&&l["ɵɵviewQuery"](fn,7),2&e){let e;l["ɵɵqueryRefresh"](e=l["ɵɵloadQuery"]())&&(t.visNetworkContainer=e.first)}},inputs:{networkData:"networkData"},outputs:{nodeDoubleClick:"nodeDoubleClick"},decls:2,vars:0,consts:[[1,"vis-network-container"],["visNetworkContainer",""]],template:function(e,t){1&e&&l["ɵɵelement"](0,"div",0,1)},styles:[".vis-network-container[_ngcontent-%COMP%]{height:100%}"]}),e})(),bn=(()=>{class e{}return e.ɵfac=function(t){return new(t||e)},e.ɵmod=l["ɵɵdefineNgModule"]({type:e}),e.ɵinj=l["ɵɵdefineInjector"]({imports:[[o.CommonModule]]}),e})();("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](bn,{declarations:[vn],imports:[o.CommonModule],exports:[vn]});const Cn=function(e){return{"voice-to-text-container__icon-microphone":!0,"voice-to-text-container__icon-microphone-active":e}};function yn(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵelementStart"](0,"button",2),l["ɵɵlistener"]("click",(function(){l["ɵɵrestoreView"](e);return l["ɵɵnextContext"]().clicked()})),l["ɵɵelement"](1,"span",3),l["ɵɵelementEnd"]()}if(2&e){const e=l["ɵɵnextContext"]();l["ɵɵproperty"]("disableRipple",!0),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngClass",l["ɵɵpureFunction1"](2,Cn,e.isActive))}}let wn=(()=>{class e{constructor(e,t){this._injector=e,this._cdr=t,this._unsubscribe$=new h.Subject,this._isActive=!1,this.speechRecognitionFinished=new l.EventEmitter,this.recognitionStateChanged=new l.EventEmitter,this.language="en-US",this.isVisible=et.isSupported()}get voiceToTextApi(){return this._voiceToTextApi||(this._voiceToTextApi=this._initializeVoiceToTextApi()),this._voiceToTextApi}set isActive(e){this._isActive=e,this.recognitionStateChanged.emit(e)}get isActive(){return this._isActive}_initializeVoiceToTextApi(){const e=this._injector.get(et);return e.init({lang:this.language}),this._subscribeEvents(e),e}_subscribeEvents(e){e.speechResult.pipe((0,b.R)(this._unsubscribe$)).subscribe((e=>this.onSpeechResultHandler(e))),e.speechEnd.pipe((0,b.R)(this._unsubscribe$)).subscribe((()=>this.onSpeechEndHandler()))}ngOnDestroy(){this._unsubscribe$.next(),this._unsubscribe$.complete(),this._voiceToTextApi&&(this._voiceToTextApi.destroy(),this._voiceToTextApi=null)}onSpeechResultHandler(e){this.speechRecognitionFinished.emit(e)}onSpeechEndHandler(){this.isActive=!1,this._cdr.detectChanges()}clicked(){this.isActive?this.voiceToTextApi.stopRecognition():this.voiceToTextApi.startRecognition(),this.isActive=!this.isActive,this._cdr.detectChanges()}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](l.Injector),l["ɵɵdirectiveInject"](l.ChangeDetectorRef))},e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["ts-voice-to-text-button"]],inputs:{language:"language"},outputs:{speechRecognitionFinished:"speechRecognitionFinished",recognitionStateChanged:"recognitionStateChanged"},features:[l["ɵɵProvidersFeature"]([et])],decls:2,vars:1,consts:[[1,"voice-to-text-container"],["mat-icon-button","",3,"disableRipple","click",4,"ngIf"],["mat-icon-button","",3,"disableRipple","click"],[3,"ngClass"]],template:function(e,t){1&e&&(l["ɵɵelementStart"](0,"div",0),l["ɵɵtemplate"](1,yn,2,4,"button",1),l["ɵɵelementEnd"]()),2&e&&(l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",t.isVisible))},directives:[o.NgIf,B.lW,o.NgClass],styles:[".voice-to-text-container[_ngcontent-%COMP%]{display:inherit}.voice-to-text-container__icon-microphone[_ngcontent-%COMP%]{display:block;width:16px;height:16px;background:no-repeat url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDE2IDE2Ij4gIDxnIGlkPSJpY29uX21pY3JvcGhvbmUiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yMDYwLjUxMiAtMjQyLjY1OSkiPiAgICA8cGF0aCBpZD0iUGF0aF82MTI1IiBkYXRhLW5hbWU9IlBhdGggNjEyNSIgZD0iTTIwNjAuNTEyLDI0Mi42NTloMTZ2MTZoLTE2WiIgZmlsbD0ibm9uZSIvPiAgICA8cGF0aCBpZD0iUGF0aF82MTI3IiBkYXRhLW5hbWU9IlBhdGggNjEyNyIgZD0iTTEuNSwwaDBBMS41LDEuNSwwLDAsMSwzLDEuNXY0QTEuNSwxLjUsMCwwLDEsMS41LDdoMEExLjUsMS41LDAsMCwxLDAsNS41di00QTEuNSwxLjUsMCwwLDEsMS41LDBaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyMDY3LjAxMiAyNDQuMTU5KSIgZmlsbD0iIzgwOTViMyIvPiAgICA8cGF0aCBpZD0iUGF0aF82MTI2IiBkYXRhLW5hbWU9IlBhdGggNjEyNiIgZD0iTTIwNzIuOSwyNDkuNjlhNC4zOSw0LjM5LDAsMCwxLTguNzgsMCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTAuMTEgLTAuMDMxKSIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjODA5NWIzIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHN0cm9rZS13aWR0aD0iMSIvPiAgICA8bGluZSBpZD0iTGluZV8yMTUiIGRhdGEtbmFtZT0iTGluZSAyMTUiIHkxPSIzLjUiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDIwNjguNTEyIDI1My42NTkpIiBmaWxsPSJub25lIiBzdHJva2U9IiM4MDk1YjMiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc3Ryb2tlLXdpZHRoPSIxIi8+ICA8L2c+PC9zdmc+)}.voice-to-text-container__icon-microphone-active[_ngcontent-%COMP%]{border-radius:16px;animation:glow 1s infinite alternate}.voice-to-text-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:none}.voice-to-text-container[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]{width:inherit;height:inherit}@keyframes glow{0%{background:no-repeat url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDE2IDE2Ij4gIDxnIGlkPSJpY29uX21pY3JvcGhvbmUiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yMDYwLjUxMiAtMjQyLjY1OSkiPiAgICA8cGF0aCBpZD0iUGF0aF82MTI1IiBkYXRhLW5hbWU9IlBhdGggNjEyNSIgZD0iTTIwNjAuNTEyLDI0Mi42NTloMTZ2MTZoLTE2WiIgZmlsbD0ibm9uZSIvPiAgICA8cGF0aCBpZD0iUGF0aF82MTI3IiBkYXRhLW5hbWU9IlBhdGggNjEyNyIgZD0iTTEuNSwwaDBBMS41LDEuNSwwLDAsMSwzLDEuNXY0QTEuNSwxLjUsMCwwLDEsMS41LDdoMEExLjUsMS41LDAsMCwxLDAsNS41di00QTEuNSwxLjUsMCwwLDEsMS41LDBaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyMDY3LjAxMiAyNDQuMTU5KSIgZmlsbD0iIzgwOTViMyIvPiAgICA8cGF0aCBpZD0iUGF0aF82MTI2IiBkYXRhLW5hbWU9IlBhdGggNjEyNiIgZD0iTTIwNzIuOSwyNDkuNjlhNC4zOSw0LjM5LDAsMCwxLTguNzgsMCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTAuMTEgLTAuMDMxKSIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjODA5NWIzIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHN0cm9rZS13aWR0aD0iMSIvPiAgICA8bGluZSBpZD0iTGluZV8yMTUiIGRhdGEtbmFtZT0iTGluZSAyMTUiIHkxPSIzLjUiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDIwNjguNTEyIDI1My42NTkpIiBmaWxsPSJub25lIiBzdHJva2U9IiM4MDk1YjMiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc3Ryb2tlLXdpZHRoPSIxIi8+ICA8L2c+PC9zdmc+)}to{background:no-repeat url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDE2IDE2Ij4gIDxnIGlkPSJpY29uX21pY3JvcGhvbmUiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yMDYwLjUxMiAtMjQyLjY1OSkiPiAgICA8cGF0aCBpZD0iUGF0aF82MTI1IiBkYXRhLW5hbWU9IlBhdGggNjEyNSIgZD0iTTIwNjAuNTEyLDI0Mi42NTloMTZ2MTZoLTE2WiIgZmlsbD0ibm9uZSIvPiAgICA8cGF0aCBpZD0iUGF0aF82MTI3IiBkYXRhLW5hbWU9IlBhdGggNjEyNyIgZD0iTTEuNSwwaDBBMS41LDEuNSwwLDAsMSwzLDEuNXY0QTEuNSwxLjUsMCwwLDEsMS41LDdoMEExLjUsMS41LDAsMCwxLDAsNS41di00QTEuNSwxLjUsMCwwLDEsMS41LDBaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyMDY3LjAxMiAyNDQuMTU5KSIgZmlsbD0iI0ZGMDAwMCIvPiAgICA8cGF0aCBpZD0iUGF0aF82MTI2IiBkYXRhLW5hbWU9IlBhdGggNjEyNiIgZD0iTTIwNzIuOSwyNDkuNjlhNC4zOSw0LjM5LDAsMCwxLTguNzgsMCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTAuMTEgLTAuMDMxKSIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjRkYwMDAwIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHN0cm9rZS13aWR0aD0iMSIvPiAgICA8bGluZSBpZD0iTGluZV8yMTUiIGRhdGEtbmFtZT0iTGluZSAyMTUiIHkxPSIzLjUiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDIwNjguNTEyIDI1My42NTkpIiBmaWxsPSJub25lIiBzdHJva2U9IiNGRjAwMDAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc3Ryb2tlLXdpZHRoPSIxIi8+ICA8L2c+PC9zdmc+)}}"]}),e})(),_n=(()=>{class e{}return e.ɵfac=function(t){return new(t||e)},e.ɵmod=l["ɵɵdefineNgModule"]({type:e}),e.ɵinj=l["ɵɵdefineInjector"]({imports:[[o.CommonModule,B.ot,St.Ps]]}),e})();function xn(e,t){1&e&&l["ɵɵelement"](0,"mat-icon",4)}function In(e,t){if(1&e&&(l["ɵɵelementStart"](0,"span",5),l["ɵɵtext"](1),l["ɵɵelementEnd"]()),2&e){const e=l["ɵɵnextContext"]();l["ɵɵadvance"](1),l["ɵɵtextInterpolate"](e.linkCaption)}}("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](_n,{declarations:[wn],imports:[o.CommonModule,B.ot,St.Ps],exports:[wn]});let Sn=(()=>{class e{constructor(e,t){this.linkCaption="",this.linkUrl="",this.showIcon=!0,t.addSvgIconLiteral("info-icon",e.bypassSecurityTrustHtml(n(17363)))}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](i.DomSanitizer),l["ɵɵdirectiveInject"](St.jv))},e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["ts-info-link"]],inputs:{linkCaption:"linkCaption",linkUrl:"linkUrl",showIcon:"showIcon"},decls:4,vars:3,consts:[[1,"info-link-wrap"],["target","_blank","rel","noopener",1,"info-link",3,"href"],["class","info-icon","svgIcon","info-icon",4,"ngIf"],["class","link-caption",4,"ngIf"],["svgIcon","info-icon",1,"info-icon"],[1,"link-caption"]],template:function(e,t){1&e&&(l["ɵɵelementStart"](0,"div",0),l["ɵɵelementStart"](1,"a",1),l["ɵɵtemplate"](2,xn,1,0,"mat-icon",2),l["ɵɵtemplate"](3,In,2,1,"span",3),l["ɵɵelementEnd"](),l["ɵɵelementEnd"]()),2&e&&(l["ɵɵadvance"](1),l["ɵɵpropertyInterpolate"]("href",t.linkUrl,l["ɵɵsanitizeUrl"]),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",t.showIcon),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",t.linkCaption))},directives:[o.NgIf,St.Hw],styles:[".info-link-wrap[_ngcontent-%COMP%]   .info-link[_ngcontent-%COMP%]{display:flex;text-decoration:none;color:#648cdd;outline:none;overflow:hidden;font-size:13px;font-family:Open Sans Light,sans-serif;align-items:center}.info-link-wrap[_ngcontent-%COMP%]   .info-link[_ngcontent-%COMP%]   .info-icon[_ngcontent-%COMP%]{margin:1px 8px 0}.info-link-wrap[_ngcontent-%COMP%]   .info-link[_ngcontent-%COMP%]   .info-icon[_ngcontent-%COMP%]:hover{cursor:pointer}.info-link-wrap[_ngcontent-%COMP%]   .info-link[_ngcontent-%COMP%]   .link-caption[_ngcontent-%COMP%]:hover{text-decoration:underline}"]}),e})(),Mn=(()=>{class e{}return e.ɵfac=function(t){return new(t||e)},e.ɵmod=l["ɵɵdefineNgModule"]({type:e}),e.ɵinj=l["ɵɵdefineInjector"]({imports:[[o.CommonModule,St.Ps]]}),e})();("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](Mn,{declarations:[Sn],imports:[o.CommonModule,St.Ps],exports:[Sn]});let Dn=(()=>{class e{constructor(e,t){this._domSanitizer=e,this._matIconRegistry=t}addIcons(e){e.forEach((({name:e,icon:t})=>{const n=this._domSanitizer.bypassSecurityTrustHtml(t);this._matIconRegistry.addSvgIconLiteral(e,n)}))}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](i.DomSanitizer),l["ɵɵinject"](St.jv))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"root"}),e})();var Pn=n(43190),Tn=n(15257),kn=n(54395),En=n(93342),Nn=n(87519),On=n(66219);const jn=new l.InjectionToken("Represents the resize observer",{factory:()=>new On.Z((e=>{window.requestAnimationFrame((()=>{e.forEach((e=>{var t,n;const i={width:(null===(t=e.target)||void 0===t?void 0:t.clientWidth)||e.contentRect.width,height:(null===(n=e.target)||void 0===n?void 0:n.clientHeight)||e.contentRect.height};e.target.dispatchEvent(new CustomEvent("crt-resize",{detail:i}))}))}))})),providedIn:"root"});let An=(()=>{class e{constructor(e,t){this.elementRef=e,this._resizeObserver=t,this._resized=new l.EventEmitter,this._destroyed$=new h.Subject,this._resizeDisabled$=new h.BehaviorSubject(!1),this.delay=200}set crtResizableDisabled(e){this._resizeDisabled$.next(e)}get resized(){const e=this._resized.asObservable().pipe((0,f.h)(this._isElementSizeValid)),t=new h.BehaviorSubject(null),n=t.pipe((0,Pn.w)((()=>e.pipe((0,Tn.q)(1))))),i=e.pipe((0,kn.b)(this.delay),(0,En.b)((()=>t.next())));return(0,h.merge)(n,i).pipe((0,Nn.x)(this._isElementSizesEqual))}_isElementSizeValid(e){return e&&e.width>0&&e.height>0}_isElementSizesEqual(e,t){return e.width===t.width&&e.height===t.height}ngOnInit(){var e;this._nativeElement=null===(e=this.elementRef)||void 0===e?void 0:e.nativeElement,this._nativeElement&&this._resizeDisabled$.pipe((0,Nn.x)(),(0,b.R)(this._destroyed$)).subscribe((e=>{e?this._resizeObserver.unobserve(this._nativeElement):this._resizeObserver.observe(this._nativeElement)}))}onResized(e){this._resizeDisabled$.value||this._resized.emit(null==e?void 0:e.detail)}ngOnDestroy(){this._nativeElement&&this._resizeObserver.unobserve(this._nativeElement),this._destroyed$.next(),this._destroyed$.complete()}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](l.ElementRef),l["ɵɵdirectiveInject"](jn))},e.ɵdir=l["ɵɵdefineDirective"]({type:e,selectors:[["","crtResizable",""]],hostBindings:function(e,t){1&e&&l["ɵɵlistener"]("crt-resize",(function(e){return t.onResized(e)}))},inputs:{delay:"delay",crtResizableDisabled:"crtResizableDisabled"},outputs:{resized:"resized"}}),e})(),Rn=(()=>{class e{}return e.ɵfac=function(t){return new(t||e)},e.ɵmod=l["ɵɵdefineNgModule"]({type:e}),e.ɵinj=l["ɵɵdefineInjector"]({imports:[[o.CommonModule]]}),e})();("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](Rn,{declarations:[An],imports:[o.CommonModule],exports:[An]});var Fn=n(33420);const Vn=JSON.parse('{"SkeletonLoader":{"Loading":"Načítání..."}}'),Ln=JSON.parse('{"SkeletonLoader":{"Loading":"Loading..."}}'),zn=JSON.parse('{"SkeletonLoader":{"Loading":"Loading..."}}'),Bn=JSON.parse('{"SkeletonLoader":{"Loading":"Loading..."},"CopyClipboard":{"Copied":"Copied"}}'),Gn=JSON.parse('{"SkeletonLoader":{"Loading":"Cargando..."}}'),Hn=JSON.parse('{"SkeletonLoader":{"Loading":"Loading..."}}'),Un=JSON.parse('{"SkeletonLoader":{"Loading":"En cours de chargement..."}}'),Zn=JSON.parse('{"SkeletonLoader":{"Loading":"Loading..."}}'),$n=JSON.parse('{"SkeletonLoader":{"Loading":"Loading..."}}'),Wn=JSON.parse('{"SkeletonLoader":{"Loading":"Loading..."}}'),qn=JSON.parse('{"SkeletonLoader":{"Loading":"Loading..."}}'),Yn=JSON.parse('{"SkeletonLoader":{"Loading":"Loading..."}}'),Jn=JSON.parse('{"SkeletonLoader":{"Loading":"Laden..."}}'),Qn=JSON.parse('{"SkeletonLoader":{"Loading":"Loading..."}}'),Kn=JSON.parse('{"SkeletonLoader":{"Loading":"Loading..."}}'),Xn=JSON.parse('{"SkeletonLoader":{"Loading":"Loading..."}}'),ei=JSON.parse('{"SkeletonLoader":{"Loading":"Carregando..."}}'),ti=JSON.parse('{"SkeletonLoader":{"Loading":"Incarcare..."}}'),ni=JSON.parse('{"SkeletonLoader":{"Loading":"Загрузка..."},"CopyClipboard":{"Copied":"Скопировано"}}'),ii=JSON.parse('{"SkeletonLoader":{"Loading":"Loading..."}}'),ri=JSON.parse('{"SkeletonLoader":{"Loading":"Loading..."}}'),ai=JSON.parse('{"SkeletonLoader":{"Loading":"Loading..."}}'),oi=JSON.parse('{"SkeletonLoader":{"Loading":"Đang tải..."}}'),si={zh:JSON.parse('{"SkeletonLoader":{"Loading":"Loading..."}}'),"vi-VN":oi,"tr-TR":ai,"th-TH":ri,"sv-SE":ii,"ro-RO":ti,"pt-PT":ei,"pt-BR":Xn,"pl-PL":Kn,no:Qn,"nl-NL":Jn,"lv-LV":Yn,"kk-KZ":qn,"it-IT":Wn,"id-ID":$n,"he-IL":Zn,"fr-FR":Un,"fa-IR":Hn,"es-ES":Gn,"de-DE":Ln,"cs-CZ":Vn,"ar-SA":zn,"en-US":Bn,"ru-RU":ni};var li=n(54754);class ci{static init(e){const{injector:t,tag:n,component:i}=e;if(customElements.get(n))return;const r=(0,li.createCustomElement)(i,{injector:t});customElements.define(n,r)}}let di=(()=>{class e{constructor(){this.loadingText="SkeletonLoader.Loading",this.animation="progress",this.appearance="line",this.count=1,this.styles={}}set ariaLabel(e){this.loadingText=null!=e?e:this.loadingText}}return e.ɵfac=function(t){return new(t||e)},e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["crt-skeleton-loader"]],inputs:{animation:"animation",appearance:"appearance",count:"count",styles:"styles",ariaLabel:"ariaLabel"},decls:3,vars:13,consts:[[1,"crt-skeleton-loader",3,"theme","appearance","count","ariaLabel","loadingText","animation"]],template:function(e,t){1&e&&(l["ɵɵelement"](0,"ngx-skeleton-loader",0),l["ɵɵpipe"](1,"translate"),l["ɵɵpipe"](2,"translate")),2&e&&(l["ɵɵstyleProp"]("width",null==t.styles?null:t.styles.width),l["ɵɵproperty"]("theme",t.styles)("appearance",t.appearance)("count",t.count)("ariaLabel",l["ɵɵpipeBind1"](1,9,t.loadingText))("loadingText",l["ɵɵpipeBind1"](2,11,t.loadingText))("animation",t.animation),l["ɵɵattribute"]("appearance",t.appearance))},directives:[Fn.xr],pipes:[u.X$],styles:["[_nghost-%COMP%]{overflow:hidden;display:flex;width:100%}[_nghost-%COMP%]   .crt-skeleton-loader[_ngcontent-%COMP%]{display:block;min-width:0;flex:auto;width:200px}[_nghost-%COMP%]   .crt-skeleton-loader[appearance=circle][_ngcontent-%COMP%]{width:50px}"]}),e})();let ui=(()=>{class e{constructor(e){this.injector=e;const t={injector:this.injector,tag:"crt-web-element-skeleton-loader",component:di};ci.init(t)}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](l.Injector))},e.ɵmod=l["ɵɵdefineNgModule"]({type:e}),e.ɵinj=l["ɵɵdefineInjector"]({imports:[[Fn.hx,pt.forRoot({i18n:si})]]}),e})();("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](ui,{declarations:[di],imports:[Fn.hx,pt],exports:[di]});let pi=(()=>{class e{}return e.ɵfac=function(t){return new(t||e)},e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["crt-placeholder"]],inputs:{iconName:"iconName"},decls:2,vars:1,consts:[[1,"crt-placeholder"],[1,"icon",3,"svgIcon"]],template:function(e,t){1&e&&(l["ɵɵelementStart"](0,"div",0),l["ɵɵelement"](1,"mat-icon",1),l["ɵɵelementEnd"]()),2&e&&(l["ɵɵadvance"](1),l["ɵɵproperty"]("svgIcon",t.iconName))},directives:[St.Hw],styles:[".crt-placeholder[_ngcontent-%COMP%]{display:flex;width:100%;height:100%;align-items:center;justify-content:center;border-radius:8px}.crt-placeholder[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:100%;height:100%;max-height:64px;max-width:72px;align-self:center}"]}),e})(),mi=(()=>{class e{}return e.ɵfac=function(t){return new(t||e)},e.ɵmod=l["ɵɵdefineNgModule"]({type:e}),e.ɵinj=l["ɵɵdefineInjector"]({imports:[[o.CommonModule,St.Ps]]}),e})();("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](mi,{declarations:[pi],imports:[o.CommonModule,St.Ps],exports:[pi]});var hi=n(43649),gi=n.n(hi),fi=n(22197),vi=n.n(fi),bi=n(64256);const Ci=["input"];function yi(e,t){if(1&e&&(l["ɵɵelementContainerStart"](0),l["ɵɵelementStart"](1,"span",7),l["ɵɵtext"](2),l["ɵɵelementEnd"](),l["ɵɵelement"](3,"mat-icon",8),l["ɵɵelementContainerEnd"]()),2&e){const e=l["ɵɵnextContext"]();l["ɵɵadvance"](2),l["ɵɵtextInterpolate"](e.requiredFieldErrorMessage),l["ɵɵadvance"](1),l["ɵɵproperty"]("tooltipConfig",e.getTooltip(e.requiredFieldErrorMessage))}}let wi=(()=>{class e extends _{constructor(e,t,n){super(e,t,n),this.countryChangedEmitter=new l.EventEmitter,this.validityEmitter=new l.EventEmitter,this._isInvalid=()=>this._phoneNumber.length!==this._pureMask.length}_getCountryCode(e){if("USA"===e)return"us";const t=new RegExp("^"+e);let n=this.iti.countries.find((n=>n.name===e||n.name.match(t)));return n||(n=this.iti.countries.find((t=>-1!==t.name.indexOf(e)))),n&&n.iso2}_setPhoneMask(e){const t=this._phoneUtil.getExampleNumberForType(e,1),n=t.getCountryCode().toString(),i=this._phoneUtil.format(t);this._phoneMask=`+${n.replace(/\d/g,"_")} ${i.replace(/\d/g,"_").replace(/-/g," ")}`,this._pureMask=this._phoneMask.replace(/\s/g,"")}_updatePhoneAndInputValue(){this._updatePhoneNumber();const e=this._isNeedToChangeCarretPosition(),t=this.phoneInput.nativeElement.selectionStart;this._updatePhoneInputValue(this._phoneNumber),e?this._setCarretPositionToLastDigit():this._correctCarretPosition(t)}_updatePhoneNumber(){const e=this.phoneInput.nativeElement.value;this._phoneNumber=e.replace(/\s/g,"").replace(/_/g,"")}_updatePhoneInputValue(e){let t=0;this._phoneWithMask=this._phoneMask.replace(/_| /g,(function(n,i){var r;return" "===n?(t++,n):null!==(r=e[i-t])&&void 0!==r?r:"_"})),this._setNativeInputValue(this._phoneWithMask)}_isNeedToChangeCarretPosition(){if(0===this.phoneInput.nativeElement.selectionStart)return!0;if(!this._phoneWithMask)return!1;const e=this._phoneWithMask.replace(/_ _/g,"").replace(/_/g,"");return this.phoneInput.nativeElement.selectionStart>e.length}_setCarretPositionToLastDigit(){let e=this._phoneNumber.substring(this._phoneNumber.length-1);e=""===e?"+":e,this._correctCarretPosition(this.phoneInput.nativeElement.value.lastIndexOf(e)+1)}_correctCarretPosition(e){const t=this.phoneInput.nativeElement.value;this._isValueRemoved?" "===t[e-1]&&e--:(" "===t[e]||" "===t[e-1]&&"_"!==t[e])&&e++,this.phoneInput.nativeElement.setSelectionRange(e,e)}_setNativeInputValue(e){this.phoneInput.nativeElement.value=e,this.phoneInput.nativeElement.dispatchEvent(new Event("input"))}ngAfterContentInit(){this.initIntlTelInput()}ngOnInit(){this.countryChangedEvent.subscribe((e=>this.changePhoneCountry(e))),this._phoneUtil=gi().PhoneNumberUtil.getInstance()}initIntlTelInput(){const e=this.phoneInput.nativeElement;e&&(this.iti=vi()(e,{nationalMode:!1,excludeCountries:["ru","by"],autoHideDialCode:!1}),e.addEventListener("countrychange",this.countryCodeChanged.bind(this)))}onPhoneChanged(e){this._phoneWithMask!==e&&(this._phoneNumber.length===this._pureMask.length&&e.length>this._phoneMask.length?this._setNativeInputValue(this._phoneWithMask):this._updatePhoneAndInputValue())}onKeypress(e){this._isValueRemoved="Backspace"===e.key||"Delete"===e.key,"Backspace"!==e.key&&"Delete"!==e.key&&"ArrowLeft"!==e.key&&"ArrowRight"!==e.key&&(/[\d]/.test(e.key)||e.preventDefault())}onPhoneFocus(){const e=this.iti.getSelectedCountryData(),t=null==e?void 0:e.dialCode;this.phoneInput.nativeElement.value||void 0===t||(this._setPhoneMask(e.iso2),this._updatePhoneAndInputValue()),this._isNeedToChangeCarretPosition()&&this._setCarretPositionToLastDigit(),this.invalid=!1}changePhoneCountry(e){if((0,bi.Z)(e))return;const t=this._getCountryCode(e);(0,bi.Z)(t)||(this.iti.setCountry(t),this.countryCodeChanged(),this.validityEmitter.emit(this._isInvalid()))}countryCodeChanged(){this.iti.selectedCountryData.iso2&&(this._setPhoneMask(this.iti.selectedCountryData.iso2),this._updatePhoneAndInputValue())}updateValidity(){this.invalid=this._isInvalid(),this.validityEmitter.emit(this.invalid)}getTooltip(e){return new mn({tooltipConfig:{value:e},componentType:rn})}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](c.a5,10),l["ɵɵdirectiveInject"](C.Lq),l["ɵɵdirectiveInject"](y.tE))},e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["ts-intl-tel-input-field"]],viewQuery:function(e,t){if(1&e&&l["ɵɵviewQuery"](Ci,7),2&e){let e;l["ɵɵqueryRefresh"](e=l["ɵɵloadQuery"]())&&(t.phoneInput=e.first)}},inputs:{countryChangedEvent:"countryChangedEvent",fieldLabel:"fieldLabel",invalid:"invalid",requiredFieldErrorMessage:"requiredFieldErrorMessage"},outputs:{countryChangedEmitter:"countryChangedEmitter",validityEmitter:"validityEmitter"},features:[l["ɵɵProvidersFeature"]([{provide:x.Eo,useExisting:e}]),l["ɵɵInheritDefinitionFeature"]],decls:8,vars:9,consts:[[1,"crt-input-label-container","phone-label-wrap"],[1,"crt-input-label"],["floatLabel","never",1,"crt-input-control-container","phone-input",3,"appearance","ngClass"],[1,"crt-input-control"],["matInput","","spellcheck","false","data-qa","input-phone","type","phone","name","phone","id","phone",3,"ngModel","ngModelChange","keydown","mouseup","focus","blur"],["input",""],[4,"ngIf"],[1,"cdk-visually-hidden"],["matSuffix","","svgIcon","error-icon","matTooltipPosition","after","matTooltipClass","crt-input-error-tooltip","crtTooltip","",1,"inner-icon",3,"tooltipConfig"]],template:function(e,t){1&e&&(l["ɵɵelementStart"](0,"div",0),l["ɵɵelementStart"](1,"label",1),l["ɵɵtext"](2),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵelementStart"](3,"mat-form-field",2),l["ɵɵelementStart"](4,"div",3),l["ɵɵelementStart"](5,"input",4,5),l["ɵɵlistener"]("ngModelChange",(function(e){return t.innerValue=e}))("ngModelChange",(function(e){return t.onPhoneChanged(e)}))("keydown",(function(e){return t.onKeypress(e)}))("mouseup",(function(){return t.onPhoneFocus()}))("focus",(function(){return t.onPhoneFocus()}))("blur",(function(){return t.updateValidity()})),l["ɵɵelementEnd"](),l["ɵɵtemplate"](7,yi,4,2,"ng-container",6),l["ɵɵelementEnd"](),l["ɵɵelementEnd"]()),2&e&&(l["ɵɵadvance"](2),l["ɵɵtextInterpolate"](t.fieldLabel),l["ɵɵadvance"](1),l["ɵɵclassProp"]("crt-input-control-container--invalid",t.invalid)("mat-form-field-invalid",t.invalid),l["ɵɵproperty"]("appearance","outline")("ngClass","label-position-above"),l["ɵɵadvance"](2),l["ɵɵproperty"]("ngModel",t.innerValue),l["ɵɵadvance"](2),l["ɵɵproperty"]("ngIf",t.invalid))},directives:[x.KE,o.NgClass,j.Nt,c.Fj,c.JJ,c.On,o.NgIf,St.Hw,x.R9,un],styles:[".phone-input[_ngcontent-%COMP%]{width:100%}.phone-label-wrap[_ngcontent-%COMP%]{margin-bottom:8px}.error-icon[_ngcontent-%COMP%]{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDE2IDE2Ij48ZGVmcz48c3R5bGU+LmExLC5iMXtmaWxsOm5vbmU7fS5iMXtzdHJva2U6I2RmMWYyNjtzdHJva2UtbWl0ZXJsaW1pdDoxMDt9LmMxe2ZpbGw6I2RmMWYyNjt9PC9zdHlsZT48L2RlZnM+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMS4zNTcgMS42NikiPjxyZWN0IGNsYXNzPSJhMSIgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMS4zNTcgLTEuNjYpIi8+PGNpcmNsZSBjbGFzcz0iYjEiIGN4PSI2LjUiIGN5PSI2LjUiIHI9IjYuNSIvPjxyZWN0IGNsYXNzPSJjMSIgd2lkdGg9IjEiIGhlaWdodD0iNCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNS43OTcgNS41MzcpIi8+PHJlY3QgY2xhc3M9ImMxIiB3aWR0aD0iMSIgaGVpZ2h0PSIxIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg1Ljc5NyAzLjQzMikiLz48L2c+PHJlY3QgY2xhc3M9ImExIiB3aWR0aD0iMTQiIGhlaWdodD0iMTQiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEgMSkiLz48L3N2Zz4NCg==);width:16px;min-width:16px;height:16px;z-index:100}.crt-input-control[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:calc(100% - 52px)}  .phone-input .iti{width:100%}"]}),e})(),_i=(()=>{class e{}return e.ɵfac=function(t){return new(t||e)},e.ɵmod=l["ɵɵdefineNgModule"]({type:e}),e.ɵinj=l["ɵɵdefineInjector"]({imports:[[o.CommonModule,c.u5,j.c,O.Bb,c.UX,St.Ps,Dt.AV,pn]]}),e})();("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](_i,{declarations:[wi],imports:[o.CommonModule,c.u5,j.c,O.Bb,c.UX,St.Ps,Dt.AV,pn],exports:[wi]});const xi=["inputElement"];function Ii(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵelementStart"](0,"span",6),l["ɵɵlistener"]("click",(function(t){l["ɵɵrestoreView"](e);const n=l["ɵɵnextContext"](),i=l["ɵɵreference"](2);return n.onInputElementSelectClick(t,i)})),l["ɵɵelementEnd"]()}}function Si(e,t){if(1&e&&(l["ɵɵelementStart"](0,"mat-option",7),l["ɵɵelementStart"](1,"span"),l["ɵɵtext"](2),l["ɵɵelementEnd"](),l["ɵɵelementEnd"]()),2&e){const e=t.$implicit;l["ɵɵproperty"]("value",e.name),l["ɵɵadvance"](2),l["ɵɵtextInterpolate"](e.name)}}let Mi=(()=>{class e{constructor(e,t,n){this.ngControl=e,this.autofillMonitor=t,this.focusMonitor=n,this.inputElementValue=new h.BehaviorSubject(""),this.destroy=new h.Subject,this.inputElementSelected=new l.EventEmitter,this.showDropdownArrow=!1,this.stateChanges=new h.Subject,this.inputElements=[],this.inputElements$=new h.BehaviorSubject([]),this.autofilled=!1,this.onTouched=()=>{},e&&(this.ngControl.valueAccessor=this)}set inputElementsInfo(e){this.inputElementsInfoValue=Object.assign({},e),e&&e.inputElements&&this.initInputElementControl()}get inputElementsInfo(){return this.inputElementsInfoValue}get disabled(){return this.disabledElementValue}set disabled(e){this.disabledElementValue=(0,m.Ig)(e),this.stateChanges.next()}get placeholder(){return this.elementPlaceholderValue}set placeholder(e){this.elementPlaceholderValue=this.originalPlaceholder=e,this.stateChanges.next()}get required(){return this.requiredElementValue}set required(e){this.requiredElementValue=(0,m.Ig)(e),this.stateChanges.next()}get value(){return this.inputElementActually}set value(e){switch(this.inputElementValue.next(e),this.stateChanges.next(),!0){case this.inputElements.some((t=>t.name===e)):this.inputElementActually=e,this.onInputElementSelected();break;case""===e:this.elementPlaceholderValue=this.originalPlaceholder;break;default:this.elementPlaceholderValue=""}}get empty(){return!(this.autofilled||this.value&&0!==this.value.length)}get focused(){return this.focusedElementValue}set focused(e){this.focusedElementValue=e,this.stateChanges.next()}filterInputElementsValues(e){e?this.inputElements$.next(this.inputElements.filter((t=>t.name.toLowerCase().startsWith(e.toLowerCase())))):this.inputElements$.next(this.inputElements.slice())}initInputElementControl(){this.inputElementsInfoValue.inputElements=Object.entries(this.inputElementsInfoValue.inputElements).map((([e,t])=>({id:e,name:t}))),this.prepareInputElementsList(this.inputElementsInfoValue),this.inputElements=this.inputElementsInfoValue.inputElements,this.inputElementValue.pipe((0,v.O)("")).subscribe((e=>{this.filterInputElementsValues(e)}))}prepareInputElementsList(e){if(e.inputElements.sort(((e,t)=>e.name.localeCompare(t.name))),e.defaultInputElementId){const t=e.inputElements.find((t=>t.id===e.defaultInputElementId));e.inputElements.splice(e.inputElements.indexOf(t),1),e.inputElements.unshift(t)}}ngDoCheck(){this.ngControl&&(this.errorState=this.ngControl.invalid&&this.ngControl.touched,this.stateChanges.next())}writeValue(e){this.inputElementValue.next(e)}registerOnChange(e){this.inputElementValue.pipe((0,b.R)(this.destroy)).subscribe((t=>{e(t)}))}registerOnTouched(e){this.onTouched=e}setDescribedByIds(e){}onContainerClick(e){"input"!==e.target.tagName.toLowerCase()&&this.focusMonitor.focusVia(this.inputElElementRef.nativeElement,"mouse")}ngAfterViewInit(){this.focusMonitor.monitor(this.inputElElementRef.nativeElement,!0).subscribe((e=>{this.focused=!!e,!this.focused&&this.inputElementValue.value&&this.onInputElementSelected()})),this.autofillMonitor.monitor(this.inputElElementRef).pipe((0,g.U)((e=>e.isAutofilled)),(0,A.P)((e=>e)),(0,v.O)(!1),(0,b.R)(this.destroy)).subscribe((e=>this.autofilled=e))}ngOnDestroy(){this.destroy.next(),this.destroy.complete()}onInputElementSelected(){this.ngControl.control.markAsTouched();const e=this.inputElements.find((e=>e.name===this.inputElementValue.value));e?this.inputElementSelected.emit(e.id):this.inputElementSelected.emit("")}onInputElementSelectClick(e,t){e.stopPropagation(),t.panelOpen?t.closePanel():t.openPanel()}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](c.a5,10),l["ɵɵdirectiveInject"](C.Lq),l["ɵɵdirectiveInject"](y.tE))},e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["ts-dropdown-input-picker"]],viewQuery:function(e,t){if(1&e&&l["ɵɵviewQuery"](xi,5,l.ElementRef),2&e){let e;l["ɵɵqueryRefresh"](e=l["ɵɵloadQuery"]())&&(t.inputElElementRef=e.first)}},hostBindings:function(e,t){1&e&&l["ɵɵlistener"]("focusout",(function(){return t.onTouched()}))},inputs:{inputElementsInfo:"inputElementsInfo",showDropdownArrow:"showDropdownArrow",disabled:"disabled",placeholder:"placeholder",required:"required",value:"value"},outputs:{inputElementSelected:"inputElementSelected"},features:[l["ɵɵProvidersFeature"]([{provide:x.Eo,useExisting:e}])],decls:8,vars:8,consts:[["matInput","","data-qa","input-role","name","new-role","id","role","autocomplete","new-role",3,"ngModel","placeholder","matAutocomplete","ngModelChange"],["inputElement","","trigger","matAutocompleteTrigger"],["class","arrow-country-icon",3,"click",4,"ngIf"],["autoActiveFirstOption","",3,"panelWidth","closed"],["roleAutocomplete","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[1,"arrow-country-icon",3,"click"],[3,"value"]],template:function(e,t){if(1&e&&(l["ɵɵelementStart"](0,"input",0,1),l["ɵɵlistener"]("ngModelChange",(function(e){return t.value=e})),l["ɵɵelementEnd"](),l["ɵɵtemplate"](3,Ii,1,0,"span",2),l["ɵɵelementStart"](4,"mat-autocomplete",3,4),l["ɵɵlistener"]("closed",(function(){return t.onInputElementSelected()})),l["ɵɵtemplate"](6,Si,3,2,"mat-option",5),l["ɵɵpipe"](7,"async"),l["ɵɵelementEnd"]()),2&e){const e=l["ɵɵreference"](5);l["ɵɵproperty"]("ngModel",t.value)("placeholder",t.placeholder)("matAutocomplete",e),l["ɵɵadvance"](3),l["ɵɵproperty"]("ngIf",t.showDropdownArrow),l["ɵɵadvance"](1),l["ɵɵproperty"]("panelWidth",250),l["ɵɵadvance"](2),l["ɵɵproperty"]("ngForOf",l["ɵɵpipeBind1"](7,6,t.inputElements$))}},directives:[j.Nt,c.Fj,O.ZL,c.JJ,c.On,o.NgIf,O.XC,o.NgForOf,R.ey],pipes:[o.AsyncPipe],styles:[".mat-input-element[_ngcontent-%COMP%], .mat-option[_ngcontent-%COMP%]{font-family:Open Sans,Regular,sans-serif;font-size:13px}.arrow-country-icon[_ngcontent-%COMP%]{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDE2IDE2Ij48ZGVmcz48c3R5bGU+LmF7ZmlsbDojMjg0NTc4O30uYntmaWxsOm5vbmU7fTwvc3R5bGU+PC9kZWZzPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xNzgzLjc3OSA3NC40NTUpIj48cGF0aCBjbGFzcz0iYSIgZD0iTTE3ODcuNzc5LTY3LjQ1NWw0LDQsNC00WiIvPjwvZz48cmVjdCBjbGFzcz0iYiIgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2Ii8+PC9zdmc+);width:16px;height:16px;display:inline-block;position:absolute;top:0;right:0;background-repeat:no-repeat;cursor:pointer}.component-wrap[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%}"]}),e})(),Di=(()=>{class e{}return e.ɵfac=function(t){return new(t||e)},e.ɵmod=l["ɵɵdefineNgModule"]({type:e}),e.ɵinj=l["ɵɵdefineInjector"]({imports:[[o.CommonModule,c.u5,j.c,O.Bb]]}),e})();("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](Di,{declarations:[Mi],imports:[o.CommonModule,c.u5,j.c,O.Bb],exports:[Mi]});var Pi=n(69402);let Ti=(()=>{class e{transform(e){return(0,Pi.decode)(e)}}return e.ɵfac=function(t){return new(t||e)},e.ɵpipe=l["ɵɵdefinePipe"]({name:"decodeHtml",type:e,pure:!0}),e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"root"}),e})(),ki=(()=>{class e{transform(e){return(0,Pi.encode)(e)}}return e.ɵfac=function(t){return new(t||e)},e.ɵpipe=l["ɵɵdefinePipe"]({name:"encodeHtml",type:e,pure:!0}),e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"root"}),e})(),Ei=(()=>{class e{}return e.ɵfac=function(t){return new(t||e)},e.ɵmod=l["ɵɵdefineNgModule"]({type:e}),e.ɵinj=l["ɵɵdefineInjector"]({}),e})();("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](Ei,{declarations:[Ti,ki],exports:[Ti,ki]});let Ni=(()=>{class e{transform(e,t="keys"){return e?"keys"===t?Object.keys(e):"entries"===t?Object.entries(e).map((([e,t])=>({key:e,value:t}))):"values"===t?Object.values(e):[]:[]}}return e.ɵfac=function(t){return new(t||e)},e.ɵpipe=l["ɵɵdefinePipe"]({name:"object",type:e,pure:!0}),e})(),Oi=(()=>{class e{}return e.ɵfac=function(t){return new(t||e)},e.ɵmod=l["ɵɵdefineNgModule"]({type:e}),e.ɵinj=l["ɵɵdefineInjector"]({}),e})();("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](Oi,{declarations:[Ni],exports:[Ni]});var ji=n(73624);function Ai(e,t){if(1&e&&(l["ɵɵelementStart"](0,"div",4),l["ɵɵtext"](1),l["ɵɵelementEnd"]()),2&e){const e=l["ɵɵnextContext"]();l["ɵɵadvance"](1),l["ɵɵtextInterpolate"](e.title)}}function Ri(e,t){if(1&e&&(l["ɵɵelementStart"](0,"div",5),l["ɵɵtext"](1),l["ɵɵelementEnd"]()),2&e){const e=l["ɵɵnextContext"]();l["ɵɵadvance"](1),l["ɵɵtextInterpolate"](e.description)}}let Fi=(()=>{class e{constructor(){this.disabled=!1,this.toggleChange=new l.EventEmitter}valueChanged(e){this.toggleChange.emit(e)}}return e.ɵfac=function(t){return new(t||e)},e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["ts-slide-toggle"]],inputs:{title:"title",description:"description",default:"default",disabled:"disabled"},outputs:{toggleChange:"toggleChange"},decls:4,vars:4,consts:[["labelPosition","before",1,"slide-wrapper",3,"disabled","checked","change"],[1,"slide-content"],["class","slide-title",4,"ngIf"],["class","slide-description",4,"ngIf"],[1,"slide-title"],[1,"slide-description"]],template:function(e,t){1&e&&(l["ɵɵelementStart"](0,"mat-slide-toggle",0),l["ɵɵlistener"]("change",(function(e){return t.valueChanged(e)})),l["ɵɵelementStart"](1,"div",1),l["ɵɵtemplate"](2,Ai,2,1,"div",2),l["ɵɵtemplate"](3,Ri,2,1,"div",3),l["ɵɵelementEnd"](),l["ɵɵelementEnd"]()),2&e&&(l["ɵɵproperty"]("disabled",t.disabled)("checked",t.default),l["ɵɵadvance"](2),l["ɵɵproperty"]("ngIf",t.title),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",t.description))},directives:[ji.Rr,o.NgIf],styles:[".slide-wrapper.mat-slide-toggle{width:400px}.slide-wrapper.mat-slide-toggle .mat-slide-toggle-label{justify-content:space-between}.slide-wrapper.mat-slide-toggle.mat-checked .mat-slide-toggle-bar{background-color:red}.slide-wrapper.mat-slide-toggle.mat-checked .mat-slide-toggle-thumb{background-color:#fff}.slide-wrapper.mat-slide-toggle .mat-slide-toggle-bar{height:22px;border-radius:22px}.slide-wrapper.mat-slide-toggle .mat-slide-toggle-thumb-container{margin:auto 0;top:0;bottom:0}.slide-wrapper .slide-title{white-space:break-spaces}"],encapsulation:2}),e})(),Vi=(()=>{class e{}return e.ɵfac=function(t){return new(t||e)},e.ɵmod=l["ɵɵdefineNgModule"]({type:e}),e.ɵinj=l["ɵɵdefineInjector"]({imports:[[o.CommonModule,c.u5,ji.rP]]}),e})();("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](Vi,{declarations:[Fi],imports:[o.CommonModule,c.u5,ji.rP],exports:[Fi]});let Li=(()=>{class e{constructor(e){this._navigator=e}copyToBuffer(e){return(0,a.mG)(this,void 0,void 0,(function*(){const t=e.map((({data:e,mimeType:t})=>{const n=new Blob([e],{type:t});return new ClipboardItem({[t]:n})}));yield this._navigator.clipboard.write(t)}))}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](_t))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})();class zi{}let Bi=(()=>{class e{constructor(e,t){this._copyClipboardService=e,this._notifyService=t}copyToBuffer(e){return(0,a.mG)(this,void 0,void 0,(function*(){yield this._copyClipboardService.copyToBuffer(e),yield this._notifyService.show({message:"CopyClipboard.Copied"})}))}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](zi),l["ɵɵinject"](Tt))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"root"}),e})(),Gi=(()=>{class e{constructor(e){this._document=e}copyToBuffer(e){return(0,a.mG)(this,void 0,void 0,(function*(){try{const t=t=>{e.forEach((e=>t.clipboardData.setData(e.mimeType,e.data))),t.preventDefault()};this._document.addEventListener("copy",t),this._document.execCommand("copy"),this._document.removeEventListener("copy",t)}catch(e){}}))}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](o.DOCUMENT))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"root"}),e})();const Hi=new l.InjectionToken("A copy clipboard factory"),Ui={provide:zi,useFactory:(e,t,n)=>new Bi(t.create(e),n),deps:[_t,Hi,Tt]},Zi=st.create({token:Hi,mappings:[{predicate:e=>!e.clipboard,injectable:Gi}],default:Li});let $i=(()=>{class e{}return e.ɵfac=function(t){return new(t||e)},e.ɵmod=l["ɵɵdefineNgModule"]({type:e}),e.ɵinj=l["ɵɵdefineInjector"]({providers:[Li,Gi,Bi,Zi],imports:[[kt]]}),e})();("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"]($i,{imports:[kt]});const Wi={tab:"Tab",capslock:"CapsLock",shift:"Shift",meta:"Meta",alt:"Alt",ctrl:"Control",space:" ",spacebar:" ",escape:"Escape",esc:"Escape",left:"ArrowLeft",right:"ArrowRight",up:"ArrowUp",down:"ArrowDown",copy:[{ctrlKey:!0,code:"KeyC"},{metaKey:!0,code:"KeyC"}],return:"Enter",del:"Delete",command:"Meta",option:"Alt",enter:"Enter",backspace:"Backspace",ins:"Insert",pageup:"PageUp",pagedown:"PageDown",end:"End",home:"Home",contextmenu:"ContextMenu",numlock:"Clear"};function qi(e,t){return Object.entries(t).filter((([,t])=>function(e){if(Array.isArray(e))return e.map((e=>e.trim().split("+")));if("string"==typeof e)return[e.trim().split("+")];throw new Error(`Keyboard hotkeys sequence "${e}" not supporting`)}(t.sequence).some((t=>t.map((e=>function(e){switch(e){case"shift":return[{shiftKey:!0}];case"meta":case"command":return[{metaKey:!0}];case"alt":return[{altKey:!0}];case"ctrl":return[{ctrlKey:!0}]}const t=Wi[e];let n=[{key:e}];return Array.isArray(t)&&(n=[...n,...t]),"object"==typeof t&&(n=[...n,t]),"string"==typeof t&&(n=[...n,{key:t}]),n}(e))).every((t=>function(e,t){return e.some((e=>Object.entries(e).every((([e,n])=>t[e]===n))))}(t,e))))))).map((([e])=>e))}let Yi=(()=>{class e{constructor(){this.crtKeyboardHotkeyPressed=new l.EventEmitter}_onKeydown(e){qi(e,this.crtKeyboardHotkeys.keydown).forEach((t=>this.crtKeyboardHotkeyPressed.emit({action:t,event:e})))}}return e.ɵfac=function(t){return new(t||e)},e.ɵdir=l["ɵɵdefineDirective"]({type:e,selectors:[["","crtKeyboardHotkeys",""]],hostBindings:function(e,t){1&e&&l["ɵɵlistener"]("keydown",(function(e){return t._onKeydown(e)}))},inputs:{crtKeyboardHotkeys:"crtKeyboardHotkeys"},outputs:{crtKeyboardHotkeyPressed:"crtKeyboardHotkeyPressed"}}),e})(),Ji=(()=>{class e{}return e.ɵfac=function(t){return new(t||e)},e.ɵmod=l["ɵɵdefineNgModule"]({type:e}),e.ɵinj=l["ɵɵdefineInjector"]({}),e})();var Qi,Ki;("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](Ji,{declarations:[Yi],exports:[Yi]});const Xi=Symbol("ItemsFiltersField"),er=Symbol("ItemsFiltersProperty"),tr=Symbol("RelatedItemsFiltersField"),nr=Symbol("RelatedItemsFiltersProperty"),ir=Symbol("IsItemsCustomFilterFunctionField"),rr=Symbol("IsRelatedItemsCustomFilterFunctionField"),ar=Symbol("mapFunctionField"),or=Symbol("mapFunctionProperty");class sr{constructor(){this[Qi]=!1,this[Ki]=!1,this._breadCrumbs=[],this.caption$=new h.Subject,this.breadCrumbs$=new h.Subject}get[er](){return this[tr]||(this[tr]=[]),this[tr]}get[nr](){return this[Xi]||(this[Xi]=[]),this[Xi]}get[or](){if(this[ar])return this[ar];throw new Error("Map function is null")}get sortFunction(){return this._sortFunction?this._sortFunction:sr._defaultSortFunction}get relatedItemsSortFunction(){return this._relatedItemsSortFunction?this._relatedItemsSortFunction:sr._defaultRelatedItemsSortFunction}static _sortByCaption(e,t){return e.caption.toLowerCase().localeCompare(t.caption.toLowerCase())}static _defaultSortFunction(e,t,n){const i=null==e?void 0:e.selectedMetaPaths;if(i){const e=i.includes(t.metaPath),r=i.includes(n.metaPath);if(e&&!r)return-1;if(!e&&r)return 1}return sr._sortByCaption(t,n)}static _defaultRelatedItemsSortFunction(e,t){return sr._sortByCaption(e,t)}_getFilteredItems(e,t){return t.reduce(((e,t)=>e.filter(t)),e)}_filterResultData(e){return e.items=this._getFilteredItems(e.items,this[er]),e.relatedItems=this._getFilteredItems(e.relatedItems,this[nr]),e}_mapItems(e){return e.map(this[or],this)}_sortResultData(e){return e.items.sort(this.sortFunction.bind(this,this._launchOptions)),e.relatedItems.sort(this.relatedItemsSortFunction),e}_updateItemsMetaPath(e,t){e.map((e=>(e.metaPath=this.getMetaPath(t,e),e.metaPathCaption=this.getMetaPathCaption(t,e),e.columnPath=this.getColumnPath(t,e),e)),this)}_enrichMetaPath(e,t){return this._updateItemsMetaPath(e.items,t),this._updateItemsMetaPath(e.relatedItems,t),e}_getAllowedItemsFilter(e){return t=>e.indexOf(t.id)>=0}_getAllowedRelatedItemsFilter(){return e=>!1}_getExcludedItemsFilter(e){return t=>e.indexOf(t.id)<0}_initializeCurrentState(e){return this.getInitialState(e).pipe((0,g.U)((e=>{this.initialState=e})))}setBreadCrumbs(e){const t=this.initialState.getRootItem();e.metaPath!==(null==t?void 0:t.metaPath)?(e.caption||(e.caption=this.getCaption()),this._breadCrumbs.push(e)):this._breadCrumbs=this.initialState.getBreadCrumbs()}copyStructureExplorerItem(e){return{id:e.id,name:e.name,caption:e.caption,hasChildren:e.hasChildren,metaPath:e.metaPath,metaPathCaption:e.metaPathCaption,columnPath:e.columnPath,tags:e.tags?[...e.tags]:null,data:e.data}}getDefaultRootItem(){return{id:null,name:null,caption:null,hasChildren:!0,metaPath:"",metaPathCaption:"",columnPath:"",tags:null,data:null}}addItemsFilterFunction(e){if(this[ir])throw new Error("Items custom filter function already exists");this[er].push(e)}addRelatedItemsFilterFunction(e){if(this[rr])throw new Error("Related items custom filter function already exists");this[nr].push(e)}setMapFunction(e){this[ar]=e}getMetaPath(e,t){return e.metaPath?`${e.metaPath}.${t.id}`:t.id}getColumnPath(e,t){return e.columnPath?`${e.columnPath}.${t.name}`:t.name}getMetaPathCaption(e,t){return e.metaPathCaption?`${e.metaPathCaption}.${t.caption}`:t.caption}innerInitialize(e){this._launchOptions=e.options,e.options&&Array.isArray(e.options.allowedItems)&&(this.addItemsFilterFunction(this._getAllowedItemsFilter(e.options.allowedItems)),this.addRelatedItemsFilterFunction(this._getAllowedRelatedItemsFilter())),e.options&&Array.isArray(e.options.excludedItems)&&this.addItemsFilterFunction(this._getExcludedItemsFilter(e.options.excludedItems)),e.mapFunction&&this.setMapFunction(e.mapFunction),e.itemsCustomFilterFunction&&(this[ir]=!0,this[er].push(e.itemsCustomFilterFunction)),e.relatedItemsCustomFilterFunction&&(this[rr]=!0,this[tr].push(e.relatedItemsCustomFilterFunction)),e.sortFunction&&(this._sortFunction=e.sortFunction),e.relatedItemsSortFunction&&(this._relatedItemsSortFunction=e.relatedItemsSortFunction)}updateBreadCrumbsByIndex(e){if(this._breadCrumbs.length<e)throw new Error("Current index is out of breadCrumbs range");this._breadCrumbs=this._breadCrumbs.slice(0,e),this.breadCrumbs$.next(this._breadCrumbs)}getItems(e){let t;if(e){if(!1===e.hasChildren)throw new Error("Can not drill down in item without children");t=this.copyStructureExplorerItem(e)}else t=this.getDefaultRootItem();return this.getAllItems(t).pipe((0,En.b)((()=>{this.caption$.next(this.getCaption()),this.setBreadCrumbs(t),this.breadCrumbs$.next(this._breadCrumbs)})),(0,g.U)((e=>this._mapItems(e))),(0,g.U)((e=>this.mapItemsToResult(e))),(0,g.U)((e=>this._enrichMetaPath(e,t))),(0,g.U)((e=>this._filterResultData(e))),(0,g.U)((e=>this._sortResultData(e))))}initialize(e){return this[Xi]=[],this[tr]=[],this.innerInitialize(e),this._initializeCurrentState(e)}}Qi=ir,Ki=rr;var lr=(()=>(function(e){e.Selected="selected",e.Canceled="canceled"}(lr||(lr={})),lr))();class cr{constructor(e){if(this._selectedItemArrays=e,!Array.isArray(e))throw new Error("SelectedItemArrays property is invalid")}getRootItem(){const e=this._selectedItemArrays[0];return e&&e[e.length-2]}getSelectedItems(){return this._selectedItemArrays.map((e=>e[e.length-1]))}getBreadCrumbs(){const e=this._selectedItemArrays[0];return null==e?void 0:e.slice(0,(null==e?void 0:e.length)-1)}}var dr=n(5304),ur=n(73328);const pr=["searchInput"];function mr(e,t){if(1&e&&(l["ɵɵelementContainerStart"](0),l["ɵɵelementStart"](1,"span",18),l["ɵɵtext"](2),l["ɵɵelementEnd"](),l["ɵɵelementContainerEnd"]()),2&e){const e=l["ɵɵnextContext"]().$implicit;l["ɵɵadvance"](2),l["ɵɵtextInterpolate1"](" ",e.caption," ")}}function hr(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵelementContainerStart"](0),l["ɵɵelementStart"](1,"span",19),l["ɵɵlistener"]("click",(function(){l["ɵɵrestoreView"](e);const t=l["ɵɵnextContext"](),n=t.$implicit,i=t.index;return l["ɵɵnextContext"]().onBreadCrumbsClick(n,i)})),l["ɵɵtext"](2),l["ɵɵelementEnd"](),l["ɵɵelementStart"](3,"span",20),l["ɵɵtext"](4," > "),l["ɵɵelementEnd"](),l["ɵɵelementContainerEnd"]()}if(2&e){const e=l["ɵɵnextContext"]().$implicit;l["ɵɵadvance"](2),l["ɵɵtextInterpolate1"](" ",e.caption," ")}}function gr(e,t){if(1&e&&(l["ɵɵelementContainerStart"](0),l["ɵɵtemplate"](1,mr,3,1,"ng-container",17),l["ɵɵtemplate"](2,hr,5,1,"ng-container",17),l["ɵɵelementContainerEnd"]()),2&e){const e=t.last;l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",e),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",!e)}}const fr=function(e,t){return{"checkbox-is-visible":e,"even-row":t}};function vr(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵelementStart"](0,"div",24),l["ɵɵlistener"]("click",(function(){const t=l["ɵɵrestoreView"](e).$implicit;return l["ɵɵnextContext"](3).onItemChecked(t)}))("mouseover",(function(){const t=l["ɵɵrestoreView"](e).$implicit;return l["ɵɵnextContext"](3).hovered=t.id}))("mouseleave",(function(){l["ɵɵrestoreView"](e);return l["ɵɵnextContext"](3).hovered=null})),l["ɵɵelementStart"](1,"mat-checkbox",25),l["ɵɵlistener"]("click",(function(e){return e.preventDefault()})),l["ɵɵelementEnd"](),l["ɵɵelement"](2,"mat-icon",26),l["ɵɵelementStart"](3,"div",27),l["ɵɵtext"](4),l["ɵɵelementEnd"](),l["ɵɵelementEnd"]()}if(2&e){const e=t.$implicit,n=t.index,i=l["ɵɵnextContext"](3);l["ɵɵproperty"]("ngClass",l["ɵɵpureFunction2"](4,fr,i.hovered===e.id||i.isItemChecked(e),n%2)),l["ɵɵadvance"](1),l["ɵɵproperty"]("checked",i.isItemChecked(e)),l["ɵɵadvance"](1),l["ɵɵproperty"]("svgIcon",i.getItemIcon(e)),l["ɵɵadvance"](2),l["ɵɵtextInterpolate"](e.caption)}}function br(e,t){if(1&e&&(l["ɵɵelementContainerStart"](0),l["ɵɵtemplate"](1,vr,5,7,"div",23),l["ɵɵelementContainerEnd"]()),2&e){const e=l["ɵɵnextContext"](2);l["ɵɵadvance"](1),l["ɵɵproperty"]("ngForOf",e.data.items)}}function Cr(e,t){if(1&e&&(l["ɵɵelementStart"](0,"mat-tab",21),l["ɵɵpipe"](1,"async"),l["ɵɵtemplate"](2,br,2,1,"ng-container",22),l["ɵɵelementEnd"]()),2&e){const e=l["ɵɵnextContext"](),t=l["ɵɵreference"](19);l["ɵɵproperty"]("label",l["ɵɵpipeBind1"](1,4,e.fieldsTabCaption$))("disabled",!e.hasLoaded),l["ɵɵadvance"](2),l["ɵɵproperty"]("ngIf",e.data.items.length>0)("ngIfElse",t)}}const yr=function(e){return{"even-row":e}};function wr(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵelementStart"](0,"div",29),l["ɵɵlistener"]("click",(function(){const t=l["ɵɵrestoreView"](e).$implicit;return l["ɵɵnextContext"](3).onItemDrilledDown(t)})),l["ɵɵelement"](1,"div",30),l["ɵɵelementStart"](2,"div",31),l["ɵɵtext"](3),l["ɵɵelementEnd"](),l["ɵɵelementEnd"]()}if(2&e){const e=t.$implicit,n=t.index;l["ɵɵproperty"]("ngClass",l["ɵɵpureFunction1"](2,yr,n%2)),l["ɵɵadvance"](3),l["ɵɵtextInterpolate"](e.caption)}}function _r(e,t){if(1&e&&(l["ɵɵelementContainerStart"](0),l["ɵɵtemplate"](1,wr,4,4,"div",28),l["ɵɵelementContainerEnd"]()),2&e){const e=l["ɵɵnextContext"](2);l["ɵɵadvance"](1),l["ɵɵproperty"]("ngForOf",e.data.relatedItems)}}function xr(e,t){if(1&e&&(l["ɵɵelementStart"](0,"mat-tab",21),l["ɵɵpipe"](1,"async"),l["ɵɵtemplate"](2,_r,2,1,"ng-container",22),l["ɵɵelementEnd"]()),2&e){const e=l["ɵɵnextContext"](),t=l["ɵɵreference"](19);l["ɵɵproperty"]("label",l["ɵɵpipeBind1"](1,4,e.relatedObjectsTabCaption$))("disabled",!e.hasLoaded),l["ɵɵadvance"](2),l["ɵɵproperty"]("ngIf",e.data.relatedItems.length>0)("ngIfElse",t)}}function Ir(e,t){1&e&&(l["ɵɵelementStart"](0,"div",33),l["ɵɵelementStart"](1,"span"),l["ɵɵtext"](2),l["ɵɵpipe"](3,"translate"),l["ɵɵelementEnd"](),l["ɵɵelementEnd"]()),2&e&&(l["ɵɵadvance"](2),l["ɵɵtextInterpolate"](l["ɵɵpipeBind1"](3,1,"StructureExplorerDialog.NoData")))}function Sr(e,t){if(1&e&&l["ɵɵtemplate"](0,Ir,4,3,"div",32),2&e){const e=l["ɵɵnextContext"]();l["ɵɵproperty"]("ngIf",e.hasLoaded)}}const Mr=function(e){return{rtl:e}};let Dr=(()=>{class e{constructor(t,n,i,r,a,o,s,l){this._data=t,this.dialogRef=n,this.translateService=i,this._directionality=r,this._matIconRegistry=a,this._domSanitizer=o,this._maskService=s,this._changeDetector=l,this._afterViewInit$=new h.Subject,this._destroyed$=new h.Subject,this.rootItem=null,this.selectedItems=[],this.selectedTabIndex=0,this.fieldsTabCaption$=new h.ReplaySubject(1),this.relatedObjectsTabCaption$=new h.ReplaySubject(1),this.searchKey=null,this.data=e._getEmptyData(),this._fullData=e._getEmptyData(),this._provider=t.providers[0],this._registerIcons()}static _includeSubstring(e,t){const n=e.toLowerCase(),i=t.toLowerCase();return-1!==n.indexOf(i)}static _getEmptyData(){return{items:[],relatedItems:[]}}_registerIcons(){["binary-icon","boolean-icon","date-icon","date-time-icon","float-icon","guid-icon","image-icon","integer-icon","lookup-icon","string-icon","time-icon"].forEach((e=>{this._matIconRegistry.addSvgIconLiteral(e,this._domSanitizer.bypassSecurityTrustHtml(n(49735)("./"+e+".svg")))}))}_getFieldTabCaption(e){var t,n;const i=null===(n=null===(t=this.data)||void 0===t?void 0:t.items)||void 0===n?void 0:n.length,r=this.searchKey&&this.searchKey!==ur.String.Empty?` (${i})`:"",a=this.translateService.instant("StructureExplorerDialog.FieldsTabCaption");return ur.String.Format(a,e,r)}_getRelatedObjectsTabCaption(){var e,t;const n=null===(t=null===(e=this.data)||void 0===e?void 0:e.relatedItems)||void 0===t?void 0:t.length,i=this.searchKey&&this.searchKey!==ur.String.Empty?` (${n})`:"",r=this.translateService.instant("StructureExplorerDialog.RelatedObjectsTabCaption");return ur.String.Format(r,i)}_updateBreadCrumbsByIndex(e){this._provider.updateBreadCrumbsByIndex(e)}_filterData(t){t&&""!==t?(this.data.items=this._fullData.items.filter((n=>e._includeSubstring(n.caption,t))),this.data.relatedItems=this._fullData.relatedItems.filter((n=>e._includeSubstring(n.caption,t)))):(this.data.items=this._fullData.items,this.data.relatedItems=this._fullData.relatedItems)}_initSelectedItems(){this.selectedItems=this._provider.initialState.getSelectedItems(),this.selectedItems.length>1&&!this._data.enableMultiSelection&&(this.selectedItems=[])}_isFullDataEmpty(){return 0===this._fullData.items.length&&0===this._fullData.relatedItems.length}_focusSearchInput(){(0,h.timer)(0).subscribe((()=>{this._searchInputElement.focused=!0,this._searchInputElement.focus()}))}_selectRelatedItemsTab(){this.selectedTabIndex=1}_selectItemsTab(){this.selectedTabIndex=0}ngOnInit(){this._provider.caption$.pipe((0,b.R)(this._destroyed$)).subscribe((e=>{this._schemaName=e})),this.rootItem=this._provider.initialState.getRootItem(),this._initSelectedItems(),this.prepareBreadCrumbs(),(0,h.forkJoin)({dataLoaded:this.prepareData(),afterViewInit:this._afterViewInit$}).pipe((0,b.R)(this._destroyed$)).subscribe((()=>{this._focusSearchInput()}))}ngAfterViewInit(){this._afterViewInit$.next(),this._afterViewInit$.complete()}prepareBreadCrumbs(){this.breadCrumbs=[],this._provider.breadCrumbs$.pipe((0,b.R)(this._destroyed$)).subscribe((e=>{this.breadCrumbs=e}))}prepareData(){return this.hasLoaded=!1,this._maskService.showBodyMask({delay:1e3}),this.data.items=[],this.data.relatedItems=[],this._provider.getItems(this.rootItem).pipe((0,dr.K)((e=>(console.warn(`StructureExplorerComponent#prepareData error: ${e}`),(0,h.of)({items:[],relatedItems:[]})))),(0,g.U)((e=>{this._fullData=e,this.data.hideItems=this._fullData.hideItems,this.onSearchKeyChanged(this.searchKey),this.hasRelatedItems=e.relatedItems.length>0,this.showItemsTab=!0!==e.hideItems,this.showItemsTab||this._selectRelatedItemsTab(),this._maskService.hideBodyMask(),this.hasLoaded=!0})))}onSearchKeyChanged(e){this.searchKey=e,this._isFullDataEmpty()||this._filterData(this.searchKey),this.fieldsTabCaption$.next(this._getFieldTabCaption(this._schemaName));const t=this._getRelatedObjectsTabCaption();this.relatedObjectsTabCaption$.next(t)}onBreadCrumbsClick(e,t){this._updateBreadCrumbsByIndex(t),this.onItemDrilledDown(e.id?e:null)}onItemDrilledDown(e){this.rootItem=e,this.prepareBreadCrumbs(),this._data.collectDrillDownItems||(this.selectedItems=[]),this.searchKey="",this.prepareData().pipe((0,b.R)(this._destroyed$)).subscribe((()=>{this._changeDetector.detectChanges(),this._selectItemsTab(),this._focusSearchInput()}))}onItemChecked(e){if(this.isItemChecked(e)){const t=this.selectedItems.map((({metaPath:e})=>e)).indexOf(e.metaPath);this.selectedItems.splice(t,1)}else this._data.enableMultiSelection||(this.selectedItems=[]),this.selectedItems.push(e)}onItemSelected(){this.dialogRef.close({selectedItems:this.selectedItems,dialogResult:lr.Selected})}onCancelled(){this.dialogRef.close({selectedItems:[],dialogResult:lr.Canceled})}isItemChecked(e){return this.selectedItems.map((({metaPath:e})=>e)).includes(e.metaPath)}isRtl(){return"rtl"===this._directionality.value}getItemIcon(e){switch(e.data.dataValueType){case r.DataValueType.Boolean:return"boolean-icon";case r.DataValueType.Date:return"date-icon";case r.DataValueType.Guid:return"guid-icon";case r.DataValueType.DateTime:return"date-time-icon";case r.DataValueType.Time:return"time-icon";case r.DataValueType.Integer:return"integer-icon";case r.DataValueType.Lookup:return"lookup-icon";case r.DataValueType.Blob:case r.DataValueType.FILE:return"binary-icon";case r.DataValueType.Image:case r.DataValueType.IMAGELOOKUP:return"image-icon";case r.DataValueType.Float:case r.DataValueType.FLOAT1:case r.DataValueType.FLOAT2:case r.DataValueType.FLOAT3:case r.DataValueType.FLOAT4:case r.DataValueType.FLOAT8:case r.DataValueType.Money:return"float-icon";case r.DataValueType.Text:case r.DataValueType.LOCALIZABLE_STRING:case r.DataValueType.HASH_TEXT:case r.DataValueType.SECURE_TEXT:case r.DataValueType.SHORT_TEXT:case r.DataValueType.MEDIUM_TEXT:case r.DataValueType.MAXSIZE_TEXT:case r.DataValueType.LONG_TEXT:case r.DataValueType.METADATA_TEXT:default:return"string-icon"}}ngOnDestroy(){this._updateBreadCrumbsByIndex(0),this._maskService.hideBodyMask(),this._destroyed$.next(),this._destroyed$.complete()}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](G.WI),l["ɵɵdirectiveInject"](G.so),l["ɵɵdirectiveInject"](u.sK),l["ɵɵdirectiveInject"](en.Is),l["ɵɵdirectiveInject"](St.jv),l["ɵɵdirectiveInject"](i.DomSanitizer),l["ɵɵdirectiveInject"](It),l["ɵɵdirectiveInject"](l.ChangeDetectorRef))},e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["ts-structure-explorer"]],viewQuery:function(e,t){if(1&e&&l["ɵɵviewQuery"](pr,5),2&e){let e;l["ɵɵqueryRefresh"](e=l["ɵɵloadQuery"]())&&(t._searchInputElement=e.first)}},decls:27,vars:24,consts:[[1,"structure-explorer-ct",3,"ngClass"],["mat-dialog-title","",1,"structure-explorer-title"],[1,"structure-explorer-breadcrumbs-ct"],[4,"ngFor","ngForOf"],[1,"search-container"],["floatLabel","never",1,"search-container-form-field"],["matInput","","type","text","spellcheck","false","autocomplete","off",1,"search-field",3,"placeholder","value","disabled","keyup"],["searchInput","matInput"],["matSuffix","","mat-icon-button","","aria-label","Clear",1,"close",3,"click"],[1,"clear-icon"],[1,"structure-explorer-content"],["mat-align-tabs","start","animationDuration","0ms",1,"structure-explorer-content-tab-group",3,"selectedIndex","selectedTabChange"],[3,"label","disabled",4,"ngIf"],["noItems",""],[1,"structure-explorer-actions"],["mat-button","","mat-dialog-close","",1,"action-button","cancelBtn",3,"click"],["mat-flat-button","","color","primary",1,"action-button","selectBtn",3,"disabled","click"],[4,"ngIf"],[1,"structure-explorer-breadcrumbs"],[1,"structure-explorer-breadcrumbs","active",3,"click"],[1,"structure-explorer-breadcrumbs","delimiter"],[3,"label","disabled"],[4,"ngIf","ngIfElse"],["class","structure-explorer-item-ct",3,"ngClass","click","mouseover","mouseleave",4,"ngFor","ngForOf"],[1,"structure-explorer-item-ct",3,"ngClass","click","mouseover","mouseleave"],[1,"structure-explorer-item-checkbox",3,"checked","click"],[1,"structure-explorer-item-icon",3,"svgIcon"],[1,"structure-explorer-item-caption"],["class","structure-explorer-item-ct related-objects",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"structure-explorer-item-ct","related-objects",3,"ngClass","click"],[1,"related-object-icon"],[1,"related-object-item-caption"],["class","no-items-ctr",4,"ngIf"],[1,"no-items-ctr"]],template:function(e,t){1&e&&(l["ɵɵelementStart"](0,"div",0),l["ɵɵelementStart"](1,"div",1),l["ɵɵtext"](2),l["ɵɵpipe"](3,"translate"),l["ɵɵelementEnd"](),l["ɵɵelementStart"](4,"div",2),l["ɵɵtemplate"](5,gr,3,2,"ng-container",3),l["ɵɵelementEnd"](),l["ɵɵelementStart"](6,"div",4),l["ɵɵelementStart"](7,"mat-form-field",5),l["ɵɵelementStart"](8,"label"),l["ɵɵelementStart"](9,"input",6,7),l["ɵɵlistener"]("keyup",(function(e){return t.onSearchKeyChanged(e.target.value)})),l["ɵɵpipe"](11,"translate"),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵelementStart"](12,"button",8),l["ɵɵlistener"]("click",(function(){return t.onSearchKeyChanged(null)})),l["ɵɵelement"](13,"mat-icon",9),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵelementStart"](14,"mat-dialog-content",10),l["ɵɵelementStart"](15,"mat-tab-group",11),l["ɵɵlistener"]("selectedTabChange",(function(e){return t.selectedTabIndex=e.index})),l["ɵɵtemplate"](16,Cr,3,6,"mat-tab",12),l["ɵɵtemplate"](17,xr,3,6,"mat-tab",12),l["ɵɵtemplate"](18,Sr,1,1,"ng-template",null,13,l["ɵɵtemplateRefExtractor"]),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵelementStart"](20,"mat-dialog-actions",14),l["ɵɵelementStart"](21,"button",15),l["ɵɵlistener"]("click",(function(){return t.onCancelled()})),l["ɵɵtext"](22),l["ɵɵpipe"](23,"translate"),l["ɵɵelementEnd"](),l["ɵɵelementStart"](24,"button",16),l["ɵɵlistener"]("click",(function(){return t.onItemSelected()})),l["ɵɵtext"](25),l["ɵɵpipe"](26,"translate"),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵelementEnd"]()),2&e&&(l["ɵɵproperty"]("ngClass",l["ɵɵpureFunction1"](22,Mr,t.isRtl())),l["ɵɵadvance"](2),l["ɵɵtextInterpolate1"](" ",l["ɵɵpipeBind1"](3,14,"StructureExplorerDialog.Title")," "),l["ɵɵadvance"](3),l["ɵɵproperty"]("ngForOf",t.breadCrumbs),l["ɵɵadvance"](4),l["ɵɵpropertyInterpolate"]("placeholder",l["ɵɵpipeBind1"](11,16,"StructureExplorerDialog.SearchPlaceHolder")),l["ɵɵproperty"]("value",t.searchKey)("disabled",!t.hasLoaded),l["ɵɵadvance"](3),l["ɵɵstyleProp"]("visibility",t.searchKey?"inherit":"hidden"),l["ɵɵadvance"](3),l["ɵɵproperty"]("selectedIndex",t.selectedTabIndex),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",t.showItemsTab),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",t.hasRelatedItems),l["ɵɵadvance"](5),l["ɵɵtextInterpolate1"](" ",l["ɵɵpipeBind1"](23,18,"StructureExplorerDialog.CancelButtonCaption")," "),l["ɵɵadvance"](2),l["ɵɵproperty"]("disabled",!t.hasLoaded),l["ɵɵadvance"](1),l["ɵɵtextInterpolate1"](" ",l["ɵɵpipeBind1"](26,20,"StructureExplorerDialog.SelectButtonCaption")," "))},directives:[o.NgClass,G.uh,o.NgForOf,x.KE,j.Nt,B.lW,x.R9,St.Hw,G.xY,me.SP,o.NgIf,G.H8,G.ZT,me.uX,ce.oG],pipes:[u.X$,o.AsyncPipe],styles:['.mat-dialog-title[_ngcontent-%COMP%]{margin:0}.structure-explorer-ct[_ngcontent-%COMP%]{width:40vw;height:72vh;display:flex;flex-direction:column}.structure-explorer-ct.rtl[_ngcontent-%COMP%]   .structure-explorer-content[_ngcontent-%COMP%]   .structure-explorer-item-ct[_ngcontent-%COMP%]:not(.related-objects){padding-left:0;padding-right:36px}.structure-explorer-ct.rtl[_ngcontent-%COMP%]   .structure-explorer-content[_ngcontent-%COMP%]   .structure-explorer-item-ct[_ngcontent-%COMP%]:not(.related-objects).checkbox-is-visible{padding-left:0;padding-right:10px}.structure-explorer-ct.rtl[_ngcontent-%COMP%]   .structure-explorer-content[_ngcontent-%COMP%]   .structure-explorer-item-ct[_ngcontent-%COMP%]:not(.related-objects).checkbox-is-visible   .structure-explorer-item-checkbox[_ngcontent-%COMP%]{margin-right:0;margin-left:10px}.structure-explorer-ct.rtl[_ngcontent-%COMP%]   .structure-explorer-content[_ngcontent-%COMP%]   .structure-explorer-item-ct.related-objects[_ngcontent-%COMP%]   .related-object-icon[_ngcontent-%COMP%]{margin-left:10px}.structure-explorer-ct.rtl[_ngcontent-%COMP%]   .structure-explorer-content[_ngcontent-%COMP%]   .structure-explorer-item-ct[_ngcontent-%COMP%]   .mat-checkbox-inner-container[_ngcontent-%COMP%]{margin-left:0}.structure-explorer-ct[_ngcontent-%COMP%]   .structure-explorer-breadcrumbs-ct[_ngcontent-%COMP%]{margin:16px 0;min-height:20px}.structure-explorer-ct[_ngcontent-%COMP%]   .structure-explorer-breadcrumbs-ct[_ngcontent-%COMP%]   .structure-explorer-breadcrumbs.active[_ngcontent-%COMP%]{cursor:pointer}.structure-explorer-ct[_ngcontent-%COMP%]   .structure-explorer-breadcrumbs-ct[_ngcontent-%COMP%]   .structure-explorer-breadcrumbs.delimiter[_ngcontent-%COMP%]{margin:0 8px}.structure-explorer-ct[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]{margin-bottom:8px}.structure-explorer-ct[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-container-form-field[_ngcontent-%COMP%]{width:100%}.structure-explorer-ct[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-container-form-field[_ngcontent-%COMP%]   .search-field[_ngcontent-%COMP%]{line-height:18px}.structure-explorer-ct[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-container-form-field[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%], .structure-explorer-ct[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-container-form-field[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]{width:16px;height:16px}.structure-explorer-ct[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-container-form-field[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]   .clear-icon[_ngcontent-%COMP%], .structure-explorer-ct[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-container-form-field[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]   .clear-icon[_ngcontent-%COMP%]{background:no-repeat url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDE2IDE2Ij4NCiAgPGcgaWQ9Ikdyb3VwXzIzNTUiIGRhdGEtbmFtZT0iR3JvdXAgMjM1NSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTk0MyAtMjEzNCkiPg0KICAgIDxsaW5lIGlkPSJMaW5lXzE0NiIgZGF0YS1uYW1lPSJMaW5lIDE0NiIgeTE9IjEwIiB4Mj0iMTAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDk0Ni41IDIxMzcuNSkiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzc1NzU3NSIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBzdHJva2Utd2lkdGg9IjEiLz4NCiAgICA8bGluZSBpZD0iTGluZV8xNDciIGRhdGEtbmFtZT0iTGluZSAxNDciIHgyPSIxMCIgeTI9IjEwIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg5NDYuNSAyMTM3LjUpIiBmaWxsPSJub25lIiBzdHJva2U9IiM3NTc1NzUiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc3Ryb2tlLXdpZHRoPSIxIi8+DQogICAgPHJlY3QgaWQ9IlJlY3RhbmdsZV8xMDkyIiBkYXRhLW5hbWU9IlJlY3RhbmdsZSAxMDkyIiB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDk0MyAyMTM0KSIgZmlsbD0ibm9uZSIvPg0KICA8L2c+DQo8L3N2Zz4NCg==)}.structure-explorer-ct[_ngcontent-%COMP%]   .structure-explorer-content[_ngcontent-%COMP%]{height:100%;overflow-x:hidden}.structure-explorer-ct[_ngcontent-%COMP%]   .structure-explorer-content[_ngcontent-%COMP%]   .structure-explorer-content-tab-group[_ngcontent-%COMP%]{height:100%}.structure-explorer-ct[_ngcontent-%COMP%]   .structure-explorer-content[_ngcontent-%COMP%]   .structure-explorer-item-ct[_ngcontent-%COMP%]{min-height:35px;border-bottom:1px solid #d3d3d3;display:flex;align-items:center;cursor:pointer;padding-left:36px}.structure-explorer-ct[_ngcontent-%COMP%]   .structure-explorer-content[_ngcontent-%COMP%]   .structure-explorer-item-ct[_ngcontent-%COMP%]:after{content:"";min-height:inherit}.structure-explorer-ct[_ngcontent-%COMP%]   .structure-explorer-content[_ngcontent-%COMP%]   .structure-explorer-item-ct.checkbox-is-visible[_ngcontent-%COMP%]{padding-left:10px}.structure-explorer-ct[_ngcontent-%COMP%]   .structure-explorer-content[_ngcontent-%COMP%]   .structure-explorer-item-ct.checkbox-is-visible[_ngcontent-%COMP%]   .structure-explorer-item-checkbox[_ngcontent-%COMP%]{display:block;margin-right:10px;height:16px;width:16px}.structure-explorer-ct[_ngcontent-%COMP%]   .structure-explorer-content[_ngcontent-%COMP%]   .structure-explorer-item-ct.checkbox-is-visible[_ngcontent-%COMP%]   .structure-explorer-item-checkbox[_ngcontent-%COMP%]     .mat-checkbox-layout{align-items:center;vertical-align:baseline}.structure-explorer-ct[_ngcontent-%COMP%]   .structure-explorer-content[_ngcontent-%COMP%]   .structure-explorer-item-ct.related-objects[_ngcontent-%COMP%]{padding-left:10px}.structure-explorer-ct[_ngcontent-%COMP%]   .structure-explorer-content[_ngcontent-%COMP%]   .structure-explorer-item-ct[_ngcontent-%COMP%]   .structure-explorer-item-checkbox[_ngcontent-%COMP%]{display:none}.structure-explorer-ct[_ngcontent-%COMP%]   .structure-explorer-content[_ngcontent-%COMP%]   .structure-explorer-item-ct[_ngcontent-%COMP%]   .structure-explorer-item-icon[_ngcontent-%COMP%]{display:block;margin-right:10px;height:16px;width:16px}.structure-explorer-ct[_ngcontent-%COMP%]   .structure-explorer-content[_ngcontent-%COMP%]   .structure-explorer-item-ct[_ngcontent-%COMP%]   .related-object-icon[_ngcontent-%COMP%]{display:block;height:16px;width:16px;margin-right:10px;background-image:url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDE2IDE2Ij48ZGVmcz48c3R5bGU+LmEsLmJ7ZmlsbDpub25lO30uYntzdHJva2U6IzgwOTViMzt9PC9zdHlsZT48L2RlZnM+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCAxNikgcm90YXRlKC05MCkiPjxyZWN0IGNsYXNzPSJhIiB3aWR0aD0iMTYiIGhlaWdodD0iMTYiLz48cGF0aCBjbGFzcz0iYiIgZD0iTTYsMCwwLDZjLjAwOC0uMDA4LDYsNiw2LDYiIHRyYW5zZm9ybT0ibWF0cml4KDAuMDM1LCAtMC45OTksIDAuOTk5LCAwLjAzNSwgMS4zOTgsIDExLjI4OCkiLz48L2c+PC9zdmc+")}.structure-explorer-ct[_ngcontent-%COMP%]   .structure-explorer-content[_ngcontent-%COMP%]   .structure-explorer-item-ct[_ngcontent-%COMP%]   .structure-explorer-item-caption[_ngcontent-%COMP%]{height:15px;line-height:1}.structure-explorer-ct[_ngcontent-%COMP%]   .structure-explorer-content[_ngcontent-%COMP%]   .no-items-ctr[_ngcontent-%COMP%]{margin-top:32px;text-align:center}.structure-explorer-ct[_ngcontent-%COMP%]   .structure-explorer-actions[_ngcontent-%COMP%]{justify-content:flex-end}']}),e})();var Pr=n(12627);const Tr=new l.InjectionToken("DataProviders");let kr=(()=>{class e{constructor(e){this._dataProviders=e,this._dataProvidersTable=this._dataProviders}get(){return this._dataProvidersTable}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](Tr))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})(),Er=(()=>{class e{constructor(e,t){this._dialogService=e,this._dataProviderResolver=t}show(e){const t=this._dataProviderResolver.get();let n;const i=[],r=[];e.providers.forEach((e=>{n=t.find((t=>t.name===e.name)),n&&(i.push(n.initialize(e)),r.push(n))}));const a=class{static toColdObservable(e){return new h.Observable((t=>{e().subscribe((e=>{t.next(e),t.complete()}))}))}}.toColdObservable((()=>this._dialogService.open(Dr,{data:{providers:r,enableMultiSelection:e.enableMultiSelection,collectDrillDownItems:e.collectDrillDownItems},panelClass:"dialog-top-border"}).pipe((0,g.U)((t=>!0!==e.returnDialogResult?t.selectedItems:t)))));return(0,h.concat)(...i,a).pipe((0,Pr.Z)())}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](X),l["ɵɵinject"](kr))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})(),Nr=(()=>{class e{}return e.ɵfac=function(t){return new(t||e)},e.ɵmod=l["ɵɵdefineNgModule"]({type:e}),e.ɵinj=l["ɵɵdefineInjector"]({providers:[Er,kr],imports:[[ee,o.CommonModule,G.Is,u.aw,me.Nh,B.ot,ce.p9,He,x.lN,j.c,St.Ps]]}),e})();("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](Nr,{declarations:[Dr],imports:[ee,o.CommonModule,G.Is,u.aw,me.Nh,B.ot,ce.p9,He,x.lN,j.c,St.Ps]});var Or=n(78345),jr=n(92996);let Ar=(()=>{class e{}return e.ɵfac=function(t){return new(t||e)},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"root"}),e})(),Rr={serviceUrl:"",clientConnectionClassName:""};let Fr=class{constructor(e){this._httpClient=e,this._serviceEndpoint="ServiceModel/ApplicationInfoService.svc/"}loadApplicationInfo(){if(!this._applicationInfoObservable$){const e=this._serviceEndpoint+"GetApplicationInfo";this._applicationInfoObservable$=this._httpClient.post(e,null).pipe((0,g.U)((e=>{const t=e&&e.applicationInfo;return Rr=t,e})),(0,Or.B)()),this._applicationInfoObservable$.subscribe()}return this._applicationInfoObservable$}loadSysValues(){return this.loadApplicationInfo().pipe((0,jr.j)("applicationInfo","sysValues"))}};Fr.ɵfac=function(e){return new(e||Fr)(l["ɵɵinject"](s.HttpClient))},Fr.ɵprov=l["ɵɵdefineInjectable"]({token:Fr,factory:Fr.ɵfac,providedIn:"root"}),Fr=(0,a.gn)([bt({requestType:"crt.SysValuesService"}),(0,a.w6)("design:paramtypes",[s.HttpClient])],Fr);class Vr{get isLookupType(){return!!this.dataValueType&&this.dataValueType===r.DataValueType.Lookup}}var Lr=(()=>(function(e){e.EntityDataSource="crt.EntityDataSource",e.WebServiceDataSource="crt.WebServiceDataSource"}(Lr||(Lr={})),Lr))(),zr=(()=>(function(e){e.LoadNext="loadNext",e.Load="load",e.Reload="reload"}(zr||(zr={})),zr))(),Br=(()=>(function(e){e.string="Strings",e.image="Images"}(Br||(Br={})),Br))();class Gr{}class Hr extends Array{constructor(e){super(),Object.setPrototypeOf(this,Object.create(Hr.prototype)),Array.isArray(e)&&this._fillFromSource(e)}static _creteLocalizableString(e,t){const n=new Gr;return n.cultureName=e,n.value=t,n}_fillFromSource(e){e.forEach((e=>{this.setValueLocalizableString(e.cultureName,e.value)}))}getValue(e){const t=this.getLocalizableString(e);return t?t.value:""}getLocalizableString(e){return this.find((t=>t.cultureName===e))||null}setValueLocalizableString(e,t){const n=this.getLocalizableString(e);n?n.value=t:this.push(Hr._creteLocalizableString(e,t))}clone(){return new Hr(this)}}var Ur=(()=>(function(e){e[e.EntitySchema=3]="EntitySchema",e[e.ClientUnitSchema=4]="ClientUnitSchema"}(Ur||(Ur={})),Ur))();new l.InjectionToken("navigation_handler_token");class Zr extends class{}{getPrimaryColumn(){var e;return null===(e=this.columns)||void 0===e?void 0:e.find((e=>e.uId===this.primaryColumnUId))}getPrimaryDisplayColumn(){var e;return null===(e=this.columns)||void 0===e?void 0:e.find((e=>e.uId===this.primaryDisplayColumnUId))}}var $r=n(19773);const Wr="en-US";class qr{constructor(e){Object.assign(this,e)}static getDefaultCulture(){return new qr({sysCultureId:"A5420246-0A8E-E111-84A3-00155D054C03",sysCultureName:Wr,decimalSeparator:".",thousandSeparator:","})}}class Yr{constructor(){this.cultureInfo=new qr,this.defCultureInfo=new qr}}const Jr="Information about the current user is not initialized yet. Use UserInfoService to load current user information.";const Qr={get id(){throw new ReferenceError(Jr)},get contactId(){throw new ReferenceError(Jr)},get contactName(){throw new ReferenceError(Jr)},get isSSP(){throw new ReferenceError(Jr)},get timeZoneId(){throw new ReferenceError(Jr)},get cultureInfo(){throw new ReferenceError(Jr)},get defCultureInfo(){throw new ReferenceError(Jr)},get timeZoneOffsetHours(){throw new ReferenceError(Jr)},get photoId(){throw new ReferenceError(Jr)}},Kr={get id(){return Qr.id},get contactId(){return Qr.contactId},get contactName(){return Qr.contactName},get isSSP(){return Qr.isSSP},get timeZoneId(){return Qr.timeZoneId},get cultureInfo(){return Qr.cultureInfo},get defCultureInfo(){return Qr.defCultureInfo},get timeZoneOffsetHours(){return Qr.timeZoneOffsetHours},get photoId(){return Qr.photoId}};Object.freeze(Kr);const Xr={provide:Yr,useFactory:()=>Kr};let ea=(()=>{class e{constructor(e){this._httpClient=e,this._serviceEndpoint="ServiceModel/UserInfoService.svc/"}_applyUserInfo(e){Object.keys(Qr).forEach((e=>{delete Qr[e]})),Object.assign(Qr,e)}loadCurrentUserInfo(){if(!this._userInfoObservable$){const e=this._serviceEndpoint+"GetCurrentUserInfo";this._userInfoObservable$=this._httpClient.post(e,null).pipe((0,g.U)((e=>{const t=e&&e.userInfo;return this._applyUserInfo(t),e})),(0,En.b)((()=>this._userInfoObservable$=void 0)),(0,Or.B)()),this._userInfoObservable$.subscribe()}return this._userInfoObservable$}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](s.HttpClient))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"root"}),e})();let ta=(()=>{class e{constructor(e,t){this.httpClient=e,this._userInfo=t,this._getEntitySchemaByNameRequests=new Map,this._getEntitySchemaByUIdRequests=new Map,this._destroyed$=new h.Subject}_convertToEntitySchema(e){const t=new Zr;return t.uId=e.uId,t.name=e.name,t.caption=this._getCaptionElement(e),t.extendParent=e.extendParent,t.packageUId=e.packageUId,t.administratedByColumns=e.administratedByColumns,t.administratedByOperations=e.administratedByOperations,t.administratedByRecords=e.administratedByRecords,t.description=e.description,t.isDBView=e.isDBView,t.isTrackChangesInDB=e.isTrackChangesInDB,t.isVirtual=e.isVirtual,t.masterRecordSchemaName=e.masterRecordSchemaName,t.primaryColumnUId=e.primaryColumnUId,t.primaryDisplayColumnUId=e.primaryDisplayColumnUId,t.realUId=e.realUId,t.useMasterRecordRights=e.useMasterRecordRights,t.parentUId=e.parentUId,t.columns=Object.values(e.columns.Items).map((e=>{const t=new Vr;return t.uId=e.uId,t.name=e.name,t.caption=this._getCaptionElement(e),t.dataValueType=e.dataValueType,t.usageType=e.usageType,t.referenceSchemaUId=e.referenceSchemaUId,t.referenceSchemaName=e.referenceSchemaName,t.isRequired=e.isRequired,t.isValueCloneable=e.isValueCloneable,t})),t}_getCaptionElement(e){return e.caption[this._userInfo.cultureInfo.sysCultureName]||e.caption["en-US"]}_createEntitySchemaColumnFromInformationObject(e){const t=new Vr;return t.uId=e.columnUId,t.name=e.columnName,t.caption=e.columnCaption,t.dataValueType=e.columnDataValueType,t.usageType=e.columnUsageType,t.referenceSchemaUId=e.referenceSchemaUId,t.referenceSchemaName=e.referenceSchemaName,t}_getServiceUrlSspPart(){return this._userInfo.isSSP?"ssp/":""}_getDataServiceUrlWithSspPart(){return`DataService/${this._getServiceUrlSspPart()}`}_getSchemaDesignerServiceEndpoint(){return this._getDataServiceUrlWithSspPart()+"json/SyncReply/SchemaDesignerRequest"}_getRuntimeEntitySchemaServiceEndpoint(){return this._getDataServiceUrlWithSspPart()+"json/SyncReply/RuntimeEntitySchemaRequest"}_getEntitySchemaServiceEndpoint(){return this._getDataServiceUrlWithSspPart()+"json/SyncReply/EntitySchemaRequest"}_getEntitySchemaFromEndpoint(e,t){return this.httpClient.post(e,t).pipe((0,$r.zg)((e=>e.schema?(0,h.of)({success:!0,entitySchema:this._convertToEntitySchema(e.schema)}):(0,h.throwError)({success:!1,entitySchema:null,errorInfo:e.errorInfo}))))}_getEntitySchemaColumnByPath(e,t){return this.httpClient.post(this._getSchemaDesignerServiceEndpoint(),{getSchemaColumnInformation:{entitySchemaUId:e,schemaColumnPath:t}}).pipe((0,En.b)((({success:e})=>{if(!e)throw new Error("SchemaDesignerService request has failed")})),(0,g.U)((({getSchemaColumnInformationResponse:e})=>this._createEntitySchemaColumnFromInformationObject(e))))}_combineEntitySchemaColumnInformationRequestsWithPaths(e,t){return t.reduce(((t,n)=>Object.assign(Object.assign({},t),{[n]:this._getEntitySchemaColumnByPath(e,n)})),{})}getEntitySchemaByUId(e,t){const n=`${e}_${t}`;if(this._getEntitySchemaByUIdRequests.has(n))return this._getEntitySchemaByUIdRequests.get(n);const i=t?this._getEntitySchemaServiceEndpoint():this._getRuntimeEntitySchemaServiceEndpoint(),r={uId:e};t&&(r.packageUId=t);const a=this._getEntitySchemaFromEndpoint(i,r).pipe((0,En.b)((()=>this._getEntitySchemaByUIdRequests.delete(n))),(0,Or.B)());return this._getEntitySchemaByUIdRequests.set(n,a),a}getEntitySchemaByName(e){if(this._getEntitySchemaByNameRequests.has(e))return this._getEntitySchemaByNameRequests.get(e);const t=this.httpClient.post(this._getRuntimeEntitySchemaServiceEndpoint(),{name:e}).pipe((0,g.U)((e=>({success:e.success,entitySchema:this._convertToEntitySchema(e.schema)}))),(0,En.b)((()=>this._getEntitySchemaByNameRequests.delete(e))),(0,Or.B)(),(0,dr.K)((t=>(this._getEntitySchemaByNameRequests.delete(e),(0,h.throwError)(t)))));return this._getEntitySchemaByNameRequests.set(e,t),t}getEntitySchemaColumnsInformationByMetaPath(e,t){const n={getSchemaColumnsInformation:{entitySchemaUId:e,schemaColumnMetaPaths:t}};return this.httpClient.post(this._getSchemaDesignerServiceEndpoint(),n).pipe((0,En.b)((({success:e})=>{if(!e)throw new Error("SchemaDesignerService request is failed")})),(0,g.U)((({getSchemaColumnsInformationResponse:e})=>e.map((e=>({column:this._createEntitySchemaColumnFromInformationObject(e),columnMetaPath:e.columnMetaPath,columnPath:e.columnPath,columnCaptionPath:e.columnCaptionPath}))))))}getEntitySchemaColumnsInformationByPath(e,t){return this._getEntitySchemaColumnByPath(e,t)}getEntitySchemaColumnsInformationByPathsArray(e,t){return(0,h.forkJoin)(this._combineEntitySchemaColumnInformationRequestsWithPaths(e,t))}getColumnCaptionPathByMetaPath(e){const t={getColumnCaptionPathByMetaPath:e};return this.httpClient.post(this._getSchemaDesignerServiceEndpoint(),t).pipe((0,En.b)((({success:e})=>{if(!e)throw new Error("SchemaDesignerService request is failed")})),(0,g.U)((({columnCaptionPath:e})=>e)))}ngOnDestroy(){this._destroyed$.next(),this._destroyed$.complete()}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](s.HttpClient),l["ɵɵinject"](Yr))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})(),na=(()=>{class e{constructor(e){this._document=e}_getDownloadFileUrl(e){const t=new Blob([e],{type:"octet/stream"});return window.URL.createObjectURL(t)}_getDownloadFileName(e){const t=e.headers.get("Content-Disposition");return t?t.match(/filename[^;=\n]*=((['"]).*?\2|[^;\n]*)/)[1]:null}download(e,t){const n=this._getDownloadFileUrl(e);this.downloadFromUrl(n,t)}downloadFromResponse(e,t){t=t||this._getDownloadFileName(e),this.download(e.body,t)}downloadFromUrl(e,t){const n=this._document,i=n.createElement("a");i.href=e,i.download=t,n.body.appendChild(i),i.click(),n.body.removeChild(i)}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](o.DOCUMENT))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})();new l.InjectionToken("Custom event name for get translations");var ia=n(10250),ra=n(52550);let aa=(()=>{class e{constructor(e){this._zone=e,this._message$=new h.Subject}init(e){return this._zone.runOutsideAngular((()=>(this._connection=(new ra.su).withUrl(e).withAutomaticReconnect().withHubProtocol(new ra.d7).build(),this._connection.on("ServerMessage",(e=>this._zone.run((()=>this._message$.next(e))))),(0,h.from)(this._connection.start()))))}sendMessage(e){return(0,h.from)(this._connection.send("SendMessage",e))}subscribe(){return this._message$}ngOnDestroy(){this._connection.off("ServerMessage"),this._message$.complete(),this._connection.stop().then()}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](l.NgZone))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"root"}),e})();var oa=n(23186);let sa=(()=>{class e{init(e){return new h.Observable((t=>{this.webSocket$=(0,oa.j)({url:e,openObserver:{next:()=>{console.log(`Websocket channel opened for url: ${e}`),t.complete()}}}),this.subscription=this.webSocket$.subscribe()}))}sendMessage(e){return new h.Observable((t=>{this.webSocket$.next(e),t.next(),t.complete()}))}subscribe(){return this.webSocket$}ngOnDestroy(){this.webSocket$.complete(),this.subscription.unsubscribe()}}return e.ɵfac=function(t){return new(t||e)},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"root"}),e})();let la=(()=>{class e{constructor(e,t,n){this.applicationInfo=e,this.injector=t,this.applicationInfoService=n,this._destroyed$=new h.Subject,this.init$=new h.ReplaySubject(1),this.messageEvent$=new h.Subject,e.clientConnectionClassName&&""!==e.clientConnectionClassName?this._initialize(e):this.applicationInfoService.loadApplicationInfo().subscribe((e=>{this._initialize(e.applicationInfo)}))}_initialize(e){this.msgChannel=this._getChannel(e.clientConnectionClassName),this._initChannel(e.serviceUrl)}_getChannel(e){let t;switch(e){case"Terrasoft.WebSocketChannel":t=this.injector.get(sa);break;case"Terrasoft.SignalRChannel":t=this.injector.get(aa)}return t}_subscribeMsgChannel(){this.msgChannel.subscribe().pipe((0,b.R)(this._destroyed$)).subscribe({next:e=>{var t,n;let i;if(e.Body)try{i=JSON.parse(e.Body)}catch(e){return void((0,l.isDevMode)()&&console.warn(`MessageChannelService. Parse error: ${e}`))}const r={header:{sender:null===(t=null==e?void 0:e.Header)||void 0===t?void 0:t.Sender,bodyTypeName:null===(n=null==e?void 0:e.Header)||void 0===n?void 0:n.BodyTypeName},body:i,id:e.Id};this.messageEvent$.next(r)}})}_initChannel(e){this.msgChannel.init(e).subscribe(h.noop,h.noop,(()=>{this.init$.next(this.msgChannel),this._subscribeMsgChannel()}))}sendMessage(e,t){const n={Id:ia.i.create().toString(),Header:{Sender:t,BodyTypeName:"System.String"},Body:JSON.stringify(e)};return this.init$.pipe((0,Pn.w)((()=>this.msgChannel.sendMessage(n))))}ngOnDestroy(){this._destroyed$.next(),this._destroyed$.complete(),this.init$.complete(),this.messageEvent$.complete()}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](Ar),l["ɵɵinject"](l.Injector),l["ɵɵinject"](Fr))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"root"}),e})();class ca{}function da(){let e=location.pathname;const t=e.match(/.*?\/\d\/?/);var n;return t&&1===t.length?((n=t[0]).endsWith("/")||(n+="/"),e=n):e="",function(...e){return e.map((e=>function(e){return e.replace(/(^([/\\])+)|(([/\\])+$)/,"")}(e))).join("/")}(location.origin,e)}function ua(){let e=da().replace(location.origin,"");return e.endsWith("/")&&(e=e.substring(0,e.length-1)),e}const pa=new l.InjectionToken("CRT_REQUIRE_JS");let ma=(()=>{class e extends ca{constructor(e,t){super(),this._requireJs=e,this._httpClient=t,this._serviceEndpoint="ServiceModel/ClientUnitSchemaPathService.svc/",this.paths=new Map}_loadPartOfSchema(e){const t=this._serviceEndpoint+"GetPathsBySchemaName/"+e;return this._httpClient.post(t,null).pipe((0,g.U)((e=>{var t;return null!==(t=null==e?void 0:e.paths)&&void 0!==t?t:[]})))}register(e){return this.paths.has(e)?(0,h.of)(void 0):this._loadPartOfSchema(e).pipe((0,g.U)((e=>{const t=Object.fromEntries(e.map((e=>[e.name,o.Location.joinWithSlash(da(),e.path)])));this._requireJs.config({paths:t});for(const{name:t,path:n}of e)this.paths.set(t,n)})))}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](pa),l["ɵɵinject"](s.HttpClient))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})(),ha=(()=>{class e extends ca{constructor(e,t){super(),this._requireJs=e,this._appInfo=t,this._hashParamName="hash",this._workspaceBaseUrl=da(),this._emptyResourcesModulePath="Terrasoft/configuration/resources/empty-resources.js"}get _schemaRuntimePath(){return o.Location.joinWithSlash(this._workspaceBaseUrl,this._appInfo.staticFileContent.schemasRuntimePath)}get _resourceRuntimePath(){return o.Location.joinWithSlash(this._workspaceBaseUrl,this._appInfo.staticFileContent.resourcesRuntimePath)}get _emptyResourcesPath(){const e=o.Location.joinWithSlash(this._workspaceBaseUrl,this._appInfo.coreModulesPath),t=new URL(o.Location.joinWithSlash(e,this._emptyResourcesModulePath));return t.searchParams.set(this._hashParamName,this._appInfo.configurationContentHash),t.toString()}_getSchemaPath(e){const t=new URL(o.Location.joinWithSlash(this._schemaRuntimePath,`${e}.js`));return t.searchParams.set(this._hashParamName,this._appInfo.configurationContentHash),t.toString()}_getResourcePath(e){const t=new URL(o.Location.joinWithSlash(this._resourceRuntimePath,`${e}Resources.js`));return t.searchParams.set(this._hashParamName,this._appInfo.configurationContentHash),t.toString()}register(e){return this._requireJs.config({paths:{[e]:this._getSchemaPath(e),[`${e}Resources`]:[this._getResourcePath(e),this._emptyResourcesPath]}}),(0,h.of)(void 0)}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](pa),l["ɵɵinject"](Ar))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})();l.Injector;let ga=(()=>{class e extends ca{register(){return(0,h.of)(void 0)}}return e.ɵfac=function(){let t;return function(n){return(t||(t=l["ɵɵgetInheritedFactory"](e)))(n||e)}}(),e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})(),fa=(()=>{class e{constructor(e){this.userInfo=e,this._sysCultureName=this.userInfo.cultureInfo.sysCultureName,this._defCultureName=this.userInfo.defCultureInfo.sysCultureName}_getLczResource(e){const t={};return e.forEach((e=>t[e.cultureName]=e.value)),t}findLocalizableValue(e){var t,n;return null!==(n=null!==(t=e[this._sysCultureName])&&void 0!==t?t:e[this._defCultureName])&&void 0!==n?n:null}findLocalizationFromResourceString(e,t){const n=/(?<macrosBody>#ResourceString\((?<macrosArgs>[^)]*)\)#)+/g;let i,r=[...null==e?void 0:e.matchAll(/\$Resources\.Strings\.(?<macrosArgs>[\S\s]*)/g)];r.length||(r=[...null==e?void 0:e.matchAll(n)]);let a=e;if(r.length){if([...r].forEach((e=>{const{macrosArgs:n}=e.groups;i=t.strings[n]})),i)return new Hr(Object.entries(i).map((([e,t])=>({cultureName:e,value:t}))));a=""}return new Hr([{cultureName:this._sysCultureName||this._defCultureName,value:a}])}findValueFromResource(e,t){const n=this.findLocalizationFromResourceString(e,t),i=this._getLczResource(n);return this.findLocalizableValue(i)}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](Yr))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"root"}),e})(),va=(()=>{class e{constructor(e){this._entitySchemaService=e,this.schemaType=Ur.EntitySchema}_getSchema(e){return e.pipe((0,Pn.w)((e=>!0===e.success?(0,h.of)(e):(0,h.throwError)(e.errorInfo.message))),(0,jr.j)("entitySchema"))}getSchemaByUId(e){const t=this._entitySchemaService.getEntitySchemaByUId(e);return this._getSchema(t)}getSchemaByName(e){const t=this._entitySchemaService.getEntitySchemaByName(e);return this._getSchema(t)}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](ta))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"root"}),e})(),ba=(()=>{class e{constructor(e){this._messageChannelService=e,this._destroyed$=new h.Subject,this.schemaChanged$=new h.Subject,this._subscribeMessageChannelEvent()}_getSchemaType(e){let t;switch(e){case"ClientUnitSchemaManager":t=Ur.ClientUnitSchema;break;case"EntitySchemaManager":t=Ur.EntitySchema}return t}_subscribeMessageChannelEvent(){this._messageChannelService.messageEvent$.pipe((0,b.R)(this._destroyed$),(0,f.h)((e=>"SchemaManagerItemEventNotifier"===e.header.sender&&"ChangedSchema"===e.header.bodyTypeName))).subscribe((e=>{const t=e.body,n=this._getSchemaType(t.ManagerName);n&&this.schemaChanged$.next({name:t.Name,uId:t.UId,schemaType:n})}))}ngOnDestroy(){this._destroyed$.next(),this._destroyed$.complete(),this.schemaChanged$.complete()}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](la))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"root"}),e})(),Ca=(()=>{class e{constructor(e){this.schemaChangeListener=e,this._repository=new Map,this._uIdMap=new Map,this._destroyed$=new h.Subject,this.schemaChangeListener.schemaChanged$.pipe((0,b.R)(this._destroyed$),(0,f.h)((e=>e.schemaType===this.provider.schemaType))).subscribe((e=>this.clearSchemaCacheByUId(e.uId)))}_add(e){this._repository.set(e.name,e),this._uIdMap.set(e.uId,e.name)}getSchemaByName(e){const t=this._repository.get(e);return t?(0,h.of)(t):this.provider.getSchemaByName(e).pipe((0,En.b)((e=>this._add(e))))}getSchemaByUId(e){const t=this._uIdMap.get(e),n=t&&this._repository.get(t);return n?(0,h.of)(n):this.provider.getSchemaByUId(e).pipe((0,En.b)((e=>this._add(e))))}clearSchemaCacheByName(e){const t=this._repository.get(e);t&&this._uIdMap.delete(t.uId),this._repository.delete(e)}clearSchemaCacheByUId(e){const t=this._uIdMap.get(e);t&&this._repository.delete(t),this._uIdMap.delete(e)}ngOnDestroy(){this._destroyed$.next(),this._destroyed$.complete()}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](ba))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})(),ya=(()=>{class e extends Ca{constructor(e,t){super(t),this.provider=e,this.schemaChangeListener=t}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](va),l["ɵɵinject"](ba))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"root"}),e})();var wa=n(82560);let _a=(()=>{class e{constructor(e){this.translateService=e}_getTranslations(e){const t=this.translateService.translations[e];return t?(0,h.of)({translation:t,cultureName:e}):this.translateService.currentLoader.getTranslation(e).pipe((0,g.U)((t=>({translation:t,cultureName:e}))))}getAllCultureValues(e,t){return(0,h.forkJoin)(e.map((e=>this._getTranslations(e)))).pipe((0,g.U)((e=>{const n=new Hr;for(const{translation:i,cultureName:r}of e){const e=(0,wa.Z)(i,t);n.setValueLocalizableString(r,e)}return n})))}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](u.sK))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})();const xa=new l.InjectionToken("WindowToken");const Ia={provide:xa,useFactory:function(){return window}};var Sa=(()=>(function(e){e[e.General=0]="General",e[e.Advanced=1]="Advanced",e[e.None=2]="None"}(Sa||(Sa={})),Sa))();Sa.General,Sa.General,Sa.Advanced,Sa.Advanced,Sa.None,Sa.None;var Ma=(()=>(function(e){e[e.Error=1]="Error",e[e.Warning=2]="Warning",e[e.Information=4]="Information"}(Ma||(Ma={})),Ma))(),Da=(()=>(function(e){e.Contains="contains",e.StartsWith="starts-with",e.Equals="equals"}(Da||(Da={})),Da))(),Pa=(()=>(function(e){e.METADATA_INIT="METADATA_INIT",e.MODEL_INIT="MODEL_INIT",e.VIEW_MODEL_INIT="VIEW_MODEL_INIT"}(Pa||(Pa={})),Pa))();function Ta(e){return e=e||new Date,new Date(e.getFullYear(),e.getMonth(),e.getDate(),23,59,59,999)}function ka(e){if(!e)return null;function t(){throw new Error(`String "${e}" is not a valid serialized date.`)}"string"!=typeof e&&t();const[n,i]=e.split("T");if(i&&("Z"===i[i.length-1]||-1!==i.indexOf("+")||-1!==i.indexOf("-"))){const n=Date.parse(e);return isNaN(n)&&t(),new Date(n)}try{const[e,t,r]=n.split("-"),[a,o,s]=i.split(":"),[l,c]=s.split(".");return new Date(parseInt(e),parseInt(t)-1,parseInt(r),parseInt(a),parseInt(o),parseInt(l),parseInt(c))}catch(e){t()}}function Ea(e,t){return e.replace(/{[0-9]}/g,(e=>{const n=function(e){const t=e.substring(1,e.length-1);return parseInt(t,10)}(e);return t[n]?t[n].toString():""}))}class Na{constructor(e){this.precision=2,Object.assign(this,e)}}class Oa{constructor(e={}){this.decimalSeparator=e.decimalSeparator||"",this.thousandSeparator=e.thousandSeparator||""}}let ja=(()=>{class e{constructor(e){this._userInfo=e,this._digitsInRank=3}_collapseRepeatedChar(e,t){return e.replace(new RegExp(`[\\${t}]{1,}`,"g"),t)}_insertThousandSeparators(e,t){const n=e.split("");for(let e=n.length-this._digitsInRank;e>0;e-=this._digitsInRank)n.splice(e,0,t);return n.join("")}formatNumberValue(e,t=null){if(!(e=parseFloat(e&&e.toString()))||isNaN(e))return"0";let n="";e<0&&(n="-"),t=t||new Na;const i=this.getNumberFormatInfo(),{decimalSeparator:r,thousandSeparator:a}=i,o=e.toFixed(t.precision).split(".");let s=o[0].replace("-","");t.ignoreThousandSeparator||(s=this._insertThousandSeparators(s,a));const l=o.length>1?o[1].replace(/0{1,}$/,""):"";return""!==l?`${n}${s}${r}${l}`:`${n}${s}`}removeFractionalPart(e){const[t]=e.toString().split(".");return t}getNumberFormatInfo(){const e=this._userInfo.cultureInfo;return new Oa({decimalSeparator:e.decimalSeparator,thousandSeparator:e.thousandSeparator})}parseStringToNumber(e,t=2){if(!e)return NaN;"string"!=typeof e&&(e=String(e));const n=this.getNumberFormatInfo().decimalSeparator;let i=this.formatStringValue(e);i=i.replace(n,".");const r=parseFloat(i);return Number(r.toFixed(t))}formatStringValue(e){"string"!=typeof e&&(e=String(e));const t=e.match(/^-/)||"",n=this.getNumberFormatInfo().decimalSeparator,i=this._collapseRepeatedChar(e,n),r=new RegExp(`[^0-9\\${n}]+`,"g");return t+i.replace(r,"")}convertNumericStringToExponentialFormat(e,t=2){if(e&&""!==e){const n=parseFloat(e);if(!isNaN(n))return n.toExponential(t)}return""}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](Yr))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"root"}),e})();function Aa(e,t){switch(r.ValidationUtilities.checkArgumentEmpty("dataValueType",t),t){case r.DataValueType.Date:case r.DataValueType.Time:case r.DataValueType.DateTime:return ka(e);default:return e}}function Ra(e,t=Da.Contains){return r.ValidationUtilities.checkArgumentEmpty("columnSelectors",e),(n,i)=>!i||e.some((e=>{const r="string"==typeof e?n[e]:e(n);return!(!r||"string"!=typeof r)&&function(e,t,n){const i=e.toLowerCase();switch(n){case Da.Contains:return i.includes(t);case Da.StartsWith:return 0===i.indexOf(t);case Da.Equals:return i===t}}(r,i,t)}))}let Fa=(()=>{class e{_buildRequestUrl(e){return this._isAbsoluteUrl(e)?e:o.Location.joinWithSlash(this.getUrl(),e)}_isAbsoluteUrl(e){return/^https?:\/\//i.test(e)}getUrl(){return ua()}intercept(e,t){return e=e.clone({url:this._buildRequestUrl(e.url)}),t.handle(e).pipe((0,dr.K)((e=>(console.log(e),(0,h.throwError)(e)))))}}return e.ɵfac=function(t){return new(t||e)},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})(),Va=(()=>{class e extends Fa{getUrl(){return da()}}return e.ɵfac=function(){let t;return function(n){return(t||(t=l["ɵɵgetInheritedFactory"](e)))(n||e)}}(),e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})();const La={[r.DataValueType.Date]:{type:r.DataValueType.Date,id:"603d4960-a1a2-45e9-b232-206a54421b01",name:"Date",icon:"data-type-date-icon.svg",designerIcon:n(77054),translateKey:"DataValueType.DateCaption"},[r.DataValueType.Time]:{type:r.DataValueType.Time,id:"04cc757b-8f06-482c-8a1a-0c0e171d2410",name:"Time",icon:"data-type-time-icon.svg",designerIcon:n(99342),translateKey:"DataValueType.TimeCaption"},[r.DataValueType.DateTime]:{type:r.DataValueType.DateTime,id:"d21e9ef4-c064-4012-b286-fa1a8171da44",name:"DateTime",icon:"data-type-datetime-icon.svg",designerIcon:n(46283),translateKey:"DataValueType.DateTimeCaption"},[r.DataValueType.Text]:{type:r.DataValueType.Text,name:"Text",icon:"data-type-text-icon.svg",designerIcon:n(98873),translateKey:"DataValueType.TextCaption"},[r.DataValueType.SHORT_TEXT]:{type:r.DataValueType.SHORT_TEXT,name:"ShortText",icon:"data-type-text-icon.svg",designerIcon:n(98873),translateKey:"DataValueType.ShortTextCaption"},[r.DataValueType.MEDIUM_TEXT]:{type:r.DataValueType.MEDIUM_TEXT,name:"MediumText",icon:"data-type-text-icon.svg",designerIcon:n(98873),translateKey:"DataValueType.MediumTextCaption"},[r.DataValueType.LONG_TEXT]:{type:r.DataValueType.LONG_TEXT,name:"LongText",icon:"data-type-text-icon.svg",designerIcon:n(98873),translateKey:"DataValueType.LongTextCaption"},[r.DataValueType.MAXSIZE_TEXT]:{type:r.DataValueType.MAXSIZE_TEXT,name:"MaxSizeText",icon:"data-type-unlimited-text-icon.svg",designerIcon:n(98873),translateKey:"DataValueType.MaxSizeTextCaption"},[r.DataValueType.Integer]:{type:r.DataValueType.Integer,name:"Integer",icon:"data-type-integer-icon.svg",designerIcon:n(69194),translateKey:"DataValueType.IntegerCaption"},[r.DataValueType.FLOAT1]:{type:r.DataValueType.FLOAT1,name:"FLOAT1",icon:"data-type-float1-icon.svg",designerIcon:n(72428),translateKey:"DataValueType.FLOAT1Caption"},[r.DataValueType.FLOAT2]:{type:r.DataValueType.FLOAT2,name:"FLOAT2",icon:"data-type-float2-icon.svg",designerIcon:n(72428),translateKey:"DataValueType.FLOAT2Caption"},[r.DataValueType.FLOAT3]:{type:r.DataValueType.FLOAT3,name:"FLOAT3",icon:"data-type-float3-icon.svg",designerIcon:n(72428),translateKey:"DataValueType.FLOAT3Caption"},[r.DataValueType.FLOAT4]:{type:r.DataValueType.FLOAT4,name:"FLOAT4",icon:"data-type-float4-icon.svg",designerIcon:n(72428),translateKey:"DataValueType.FLOAT4Caption"},[r.DataValueType.FLOAT8]:{type:r.DataValueType.FLOAT8,name:"FLOAT8",icon:"data-type-float8-icon.svg",designerIcon:n(72428),translateKey:"DataValueType.FLOAT8Caption"},[r.DataValueType.Guid]:{type:r.DataValueType.Guid,id:"23018567-a13c-4320-8687-fd6f9e3699bd",name:"Guid",icon:"data-type-guid-icon.svg",designerIcon:n(35429),translateKey:"DataValueType.GuidCaption"},[r.DataValueType.Lookup]:{type:r.DataValueType.Lookup,id:"b295071f-7ea9-4e62-8d1a-919bf3732ff2",name:"Lookup",icon:"data-type-lookup-icon.svg",designerIcon:n(26634),translateKey:"DataValueType.LookupCaption"},[r.DataValueType.Boolean]:{type:r.DataValueType.Boolean,name:"Boolean",icon:"data-type-boolean-icon.svg",designerIcon:n(23048),translateKey:"DataValueType.BooleanCaption"},[r.DataValueType.HASH_TEXT]:{type:r.DataValueType.HASH_TEXT,name:"HashText",icon:"data-type-crs-text-icon.svg",designerIcon:n(98873),translateKey:"DataValueType.HashTextCaption"},[r.DataValueType.SECURE_TEXT]:{type:r.DataValueType.SECURE_TEXT,name:"SecureText",icon:"data-type-encrypted-text-icon.svg",designerIcon:n(98873),translateKey:"DataValueType.SecureTextCaption"},[r.DataValueType.IMAGELOOKUP]:{type:r.DataValueType.IMAGELOOKUP,name:"ImageLookup",icon:"data-type-image-link-icon.svg",designerIcon:n(98873),translateKey:"DataValueType.ImageLookupCaption"},[r.DataValueType.Money]:{type:r.DataValueType.Money,name:"Money",icon:"data-type-float2-icon.svg",designerIcon:n(37786),translateKey:"DataValueType.MoneyCaption"},[r.DataValueType.Float]:{type:r.DataValueType.Float,name:"Float",icon:"data-type-float1-icon.svg",designerIcon:n(72428),translateKey:"DataValueType.FloatCaption"},[r.DataValueType.FILE]:{type:r.DataValueType.FILE,name:"File",icon:"data-type-file-icon.svg",designerIcon:n(88745),translateKey:"DataValueType.FileCaption"},[r.DataValueType.Image]:{type:r.DataValueType.Image,name:"Image",icon:"data-type-image-icon.svg",designerIcon:n(88745),translateKey:"DataValueType.ImageCaption"},[r.DataValueType.Blob]:{type:r.DataValueType.Blob,name:"Blob",icon:"data-type-blob-icon.svg",designerIcon:n(88745),translateKey:"DataValueType.BlobCaption"},[r.DataValueType.COLOR]:{type:r.DataValueType.COLOR,name:"Color",icon:"data-type-color-icon.svg",designerIcon:n(98873),translateKey:"DataValueType.ColorCaption"},[r.DataValueType.ENTITY]:{type:r.DataValueType.ENTITY,name:"Entity",icon:"data-type-other-icon.svg",designerIcon:n(98873),translateKey:"DataValueType.Entity"},[r.DataValueType.ENTITY_COLLECTION]:{type:r.DataValueType.ENTITY_COLLECTION,name:"EntityCollection",icon:"data-type-other-icon.svg",designerIcon:n(98873),translateKey:"DataValueType.EntityCollection"},[r.DataValueType.ENTITY_COLUMN_MAPPING_COLLECTION]:{type:r.DataValueType.ENTITY_COLUMN_MAPPING_COLLECTION,name:"EntityColumnMappingCollection",icon:"data-type-other-icon.svg",designerIcon:n(98873),translateKey:"DataValueType.EntityColumnMappingCollection"},[r.DataValueType.CUSTOM_OBJECT]:{type:r.DataValueType.CUSTOM_OBJECT,name:"CustomObject",icon:"data-type-other-icon.svg",designerIcon:n(98873),translateKey:"DataValueType.CustomObject"},[r.DataValueType.OBJECT_LIST]:{type:r.DataValueType.OBJECT_LIST,name:"ObjectList",icon:"data-type-other-icon.svg",designerIcon:n(98873),translateKey:"DataValueType.ObjectList"},[r.DataValueType.COMPOSITE_OBJECT_LIST]:{type:r.DataValueType.COMPOSITE_OBJECT_LIST,name:"CompositeObjectList",icon:"data-type-other-icon.svg",designerIcon:n(98873),translateKey:"DataValueType.CompositeObjectList"},[r.DataValueType.COLLECTION]:{type:r.DataValueType.COLLECTION,name:"Collection",icon:"data-type-other-icon.svg",designerIcon:n(98873),translateKey:"DataValueType.Collection"},[r.DataValueType.LOCALIZABLE_STRING]:{type:r.DataValueType.LOCALIZABLE_STRING,name:"LocalizableString",icon:"data-type-text-icon.svg",designerIcon:n(98873),translateKey:"DataValueType.LocalizableString"},[r.DataValueType.METADATA_TEXT]:{type:r.DataValueType.METADATA_TEXT,name:"MetaDataText",icon:"data-type-text-icon.svg",designerIcon:n(98873),translateKey:"DataValueType.MetaDataText"}},za={DateTime:[r.DataValueType.Date,r.DataValueType.Time,r.DataValueType.DateTime],Text:[r.DataValueType.Text,r.DataValueType.SHORT_TEXT,r.DataValueType.MEDIUM_TEXT,r.DataValueType.LONG_TEXT,r.DataValueType.MAXSIZE_TEXT,r.DataValueType.LOCALIZABLE_STRING],Number:[r.DataValueType.FLOAT1,r.DataValueType.FLOAT2,r.DataValueType.FLOAT3,r.DataValueType.FLOAT4,r.DataValueType.FLOAT8,r.DataValueType.Integer,r.DataValueType.Money,r.DataValueType.Float],Lookup:[r.DataValueType.Lookup,r.DataValueType.IMAGELOOKUP]};let Ba=(()=>{class e{constructor(e,t){this.iconRegistry=e,this.domSanitizer=t,Object.keys(La).forEach((e=>{const t=La[e];this.iconRegistry.addSvgIconLiteral("page-designer-"+t.name.toLowerCase(),this.domSanitizer.bypassSecurityTrustHtml(t.designerIcon))}))}getDesignerDataValueTypeIcon(e){const t=La[e];if(!t)throw new Error(`Data value type "${e}" not exists`);return"page-designer-"+(null==t?void 0:t.name.toLowerCase())||0}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](St.jv),l["ɵɵinject"](i.DomSanitizer))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"root"}),e})();function Ga(e,t){return Object.keys(e).every((n=>!!t.hasOwnProperty(n)&&("object"!=typeof e[n]||Ha(e[n],t[n]))))}function Ha(e,t){return Ga(e,t)&&Ga(t,e)}function Ua(e,t,n){return!e||!t||!n}function Za(e,t){return`/img/entity/hash/${e}/${t}/`}function $a(e,t="SysImage",n="Data"){if(Ua(e,t,n))return"";const i=Za(t,n);return`${ua()}${i}${e}`}class Wa{static _getViewConfigInfo(e,t,n,i,r){const a=[];if(Array.isArray(n))for(let o=0;o<n.length;o++){const s=n[o];s[e]===t&&a.push({viewConfig:s,parentName:i,index:o,parentPropertyName:r});this._getCollectionPropertyNames(s).forEach((n=>{const i=s[n];if(i){const r=this._getViewConfigInfo(e,t,i,s.name,n);a.push(...r)}}))}return a}static _getCollectionPropertyNames(e){return["items","tools","menuItems"]}static getViewConfigInfoByProperty(e,t,n){const i=[],r=null!=n?n:[];for(let n=0;n<r.length;n++){const a=r[n];if(a[e]===t){i.push({viewConfig:a,index:n});break}this._getCollectionPropertyNames(a).forEach((n=>{const r=a[n];if(r){const o=Wa._getViewConfigInfo(e,t,r,a.name,n);i.push(...o)}}))}return i}}function qa(e,t,n=!1){if(null==e&&null==t)return!0===n;const i=new Hr(e),r=new Hr(t);return i.length===r.length&&i.every((e=>function(e,t,n=!1){return null==e&&null==t&&!0===n||(null==e?void 0:e.cultureName)===(null==t?void 0:t.cultureName)&&(null==e?void 0:e.value)===(null==t?void 0:t.value)}(e,r.getLocalizableString(e.cultureName),n)))}let Ya=(()=>{class e{}return e.ɵfac=function(t){return new(t||e)},e.ɵmod=l["ɵɵdefineNgModule"]({type:e}),e.ɵinj=l["ɵɵdefineInjector"]({providers:[ta,na,ja,_a,fa,{provide:pa,useFactory:e=>e.requirejs,deps:[xa]},ma,ga,ha],imports:[[u.aw]]}),e})();("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](Ya,{imports:[u.aw]});let Ja=(()=>{class e{constructor(e){this._injector=e}defineComponent(e,t){const n=(0,li.createCustomElement)(t,{injector:this._injector});customElements.get(e)||customElements.define(e,n)}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](l.Injector))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"root"}),e})();r.DataValueType.Integer,r.DataValueType.FLOAT1,r.DataValueType.Float,r.DataValueType.FLOAT2,r.DataValueType.Money,r.DataValueType.FLOAT3,r.DataValueType.FLOAT4,r.DataValueType.FLOAT8;(0,r.generateGuid)();let Qa=(()=>{class e{createObserver(e,t,n){return new Ka(e,t,n)}}return e.ɵfac=function(t){return new(t||e)},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"root"}),e})();class Ka{constructor(e,t,n){if(this._bottomBuffer=100,this._lastScrollMaxPosition=0,this._emitter=new l.EventEmitter,r.ValidationUtilities.checkArgumentEmpty("element",e),this._element=e,this._subscribeOnScroll(),n){if(n<=0)throw new Error(`Value of 'bottomBuffer' paramter must be positive, but actual value is ${n}.`);this._bottomBuffer=n}t&&this.subscribe(t)}_isWindowObserved(e){return!(this._element instanceof HTMLElement)}_scrolledToBottom(){const e=this._element,t=this._isWindowObserved(e)?e.document.documentElement.scrollTop:e.scrollTop,n=this._isWindowObserved(e)?e.document.body.scrollHeight:e.scrollHeight,i=this._isWindowObserved(e)?e.innerHeight:e.offsetHeight;if(!n||!i)return!1;const r=n-i-this._bottomBuffer;return this._lastScrollMaxPosition=t>this._lastScrollMaxPosition?t:this._lastScrollMaxPosition,this._lastScrollMaxPosition===t&&t>=r}_processScroll(){this._scrolledToBottom()&&this._emitter.emit()}_subscribeOnScroll(){this._eventListener=this._processScroll.bind(this),this._element.addEventListener("scroll",this._eventListener)}subscribe(e){this._emitter.subscribe(e)}resetScrollMaxPosition(){this._lastScrollMaxPosition=0}destroy(){this._element.removeEventListener("scroll",this._eventListener),this._element=null,this._emitter.unsubscribe()}}new l.InjectionToken("Represents a string pattern of the translation key for validation error");new l.InjectionToken("Represents a collection of validators");class Xa{static schemaNameValidator(){return c.kI.pattern(/^[a-zA-Z]+[a-zA-Z0-9._]*$/)}static debounceValidator(e){return t=>(0,h.timer)(400).pipe((0,Pn.w)((()=>e(t.value))))}static requiredWithPrefix(e){return t=>{const n=t.value,i=null==n?void 0:n.startsWith(e);if(e&&i){return n.replace(e,"")?null:{requiredWithPrefix:{prefix:e}}}return null}}static prefix(e){return t=>{var n;return e&&!(null===(n=t.value)||void 0===n?void 0:n.startsWith(e))?{prefix:{requiredPrefix:e}}:null}}static duplicate(e){return t=>{var n;if(e){const i=e.map((e=>e.toLowerCase())),r=null===(n=t.value)||void 0===n?void 0:n.toLowerCase();if(i.some((e=>r===e)))return{duplicate:!0}}return null}}static duplicateAsync(e){return t=>e.pipe((0,g.U)((e=>{var n;if(e){const i=e.map((e=>e.toLowerCase())),r=null===(n=t.value)||void 0===n?void 0:n.toLowerCase();if(i.some((e=>r===e)))return{duplicate:!0}}return null})))}}class eo{static getDateTypeValueGroup(e){let t;switch(e){case r.DataValueType.Date:case r.DataValueType.Time:case r.DataValueType.DateTime:t=this._changeColumnDataValueTypeGroup.DateTime;break;case r.DataValueType.Text:case r.DataValueType.SHORT_TEXT:case r.DataValueType.MEDIUM_TEXT:case r.DataValueType.LONG_TEXT:case r.DataValueType.MAXSIZE_TEXT:t=this._changeColumnDataValueTypeGroup.Text;break;case r.DataValueType.Integer:case r.DataValueType.FLOAT1:case r.DataValueType.FLOAT2:case r.DataValueType.FLOAT3:case r.DataValueType.FLOAT4:case r.DataValueType.FLOAT8:case r.DataValueType.Money:t=this._changeColumnDataValueTypeGroup.Number;break;default:t=[]}return t.map((e=>La[e]))}static _removeItems(e,t){const n=[...e];return t.forEach((e=>{const t=n.indexOf(e);t>-1&&n.splice(t,1)})),n}static getAllowedChangeTypes(e){return this.getDateTypeValueGroup(e).filter((({type:t})=>t!==e))}static isPrecisionLost(e,t){var n;return e!==t&&!(null===(n=this.dataValueTypeConvertRules[e])||void 0===n?void 0:n.canConvertTo.includes(t))}}eo.dataValueTypeConvertRules={[r.DataValueType.DateTime]:{canConvertTo:[]},[r.DataValueType.Date]:{canConvertTo:[r.DataValueType.DateTime]},[r.DataValueType.Time]:{canConvertTo:[r.DataValueType.DateTime]},[r.DataValueType.SHORT_TEXT]:{canConvertTo:[r.DataValueType.MEDIUM_TEXT,r.DataValueType.LONG_TEXT,r.DataValueType.MAXSIZE_TEXT]},[r.DataValueType.MEDIUM_TEXT]:{canConvertTo:[r.DataValueType.LONG_TEXT,r.DataValueType.MAXSIZE_TEXT]},[r.DataValueType.LONG_TEXT]:{canConvertTo:[r.DataValueType.MAXSIZE_TEXT]},[r.DataValueType.MAXSIZE_TEXT]:{canConvertTo:[]},[r.DataValueType.Integer]:{canConvertTo:[r.DataValueType.FLOAT1,r.DataValueType.FLOAT2,r.DataValueType.FLOAT3,r.DataValueType.FLOAT4,r.DataValueType.FLOAT8,r.DataValueType.Money]},[r.DataValueType.FLOAT1]:{canConvertTo:[r.DataValueType.FLOAT2,r.DataValueType.FLOAT3,r.DataValueType.FLOAT4,r.DataValueType.FLOAT8,r.DataValueType.Money]},[r.DataValueType.FLOAT2]:{canConvertTo:[r.DataValueType.FLOAT3,r.DataValueType.FLOAT4,r.DataValueType.FLOAT8,r.DataValueType.Money]},[r.DataValueType.FLOAT3]:{canConvertTo:[r.DataValueType.FLOAT4,r.DataValueType.FLOAT8]},[r.DataValueType.FLOAT4]:{canConvertTo:[r.DataValueType.FLOAT8]},[r.DataValueType.FLOAT8]:{canConvertTo:[]},[r.DataValueType.Money]:{canConvertTo:[]}},eo._changeColumnDataValueTypeGroup={DateTime:za.DateTime,Text:eo._removeItems(za.Text,[r.DataValueType.Text,r.DataValueType.LOCALIZABLE_STRING]),Number:eo._removeItems(za.Number,[r.DataValueType.Float])};let to=(()=>{class e{transform(e,t){return Ea(e,t)}}return e.ɵfac=function(t){return new(t||e)},e.ɵpipe=l["ɵɵdefinePipe"]({name:"stringFormat",type:e,pure:!0}),e})(),no=(()=>{class e{constructor(e){this._resourceFinderService=e}transform(e){return e&&"object"==typeof e?this._resourceFinderService.findLocalizableValue(null==e?void 0:e.reduce(((e,t)=>Object.assign(e,{[t.cultureName]:t.value})),{})):null}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](fa,16))},e.ɵpipe=l["ɵɵdefinePipe"]({name:"lczToString",type:e,pure:!0}),e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"root"}),e})(),io=(()=>{class e{constructor(e){this._sanitizer=e}transform(e,t){switch(t){case"html":return this._sanitizer.bypassSecurityTrustHtml(e);case"style":return this._sanitizer.bypassSecurityTrustStyle(e);case"script":return this._sanitizer.bypassSecurityTrustScript(e);case"url":return this._sanitizer.bypassSecurityTrustUrl(e);case"resourceUrl":return this._sanitizer.bypassSecurityTrustResourceUrl(e);default:return this._sanitizer.bypassSecurityTrustHtml(e)}}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](i.DomSanitizer,16))},e.ɵpipe=l["ɵɵdefinePipe"]({name:"bypassSecurityTrust",type:e,pure:!0}),e})();const ro=function(e,t){var n;if(!e)throw new Error("Context is not defined");if(!(null===(n=e.Resources)||void 0===n?void 0:n.Strings))throw new Error("Context does not contain property Resources.Strings");const i=e.Resources.Strings[t[0]];return i instanceof Promise?(0,h.from)(i):(0,h.of)(i)};function ao(e){return{macrosName:"ResourceString",macrosHandler:function(t,n){if(null==t?void 0:t.strings){const i=t.strings[n[0]];return(0,h.of)(e.findLocalizableValue(i))}return(null==t?void 0:t.Strings)?(0,h.from)(t.Strings[n[0]]):ro(t,n)}}}const oo=new l.InjectionToken("MACROS_HANDLER");var so=n(91074),lo=n(17842),co=n(96736);let uo=(()=>{class e{constructor(e){this.handlers=e}getHandler(e){var t;return null===(t=this.handlers.filter((t=>t.macrosName===e)).pop())||void 0===t?void 0:t.macrosHandler}internalHandle(e,t,n,i){let r={value:e,isChanged:!1};if("string"==typeof e){const a=/(?<macrosBody>#(?<macrosName>[^(]*)\((?<macrosArgs>[^)]*)\)#)+/g;return(0,h.forkJoin)([...[...e.matchAll(a)].map((e=>{const{macrosName:a,macrosArgs:o,macrosBody:s}=e.groups;if(n&&n!==a)return(0,h.of)(null);const l=this.getHandler(a);if(l)try{const e=l(t,o.split(",").map((e=>e.trim())));return(e instanceof h.Observable?e:(0,h.of)(e)).pipe((0,dr.K)((e=>(console.warn(e),(0,h.of)(s)))),(0,En.b)((e=>{const t="number"==typeof e?e:e||"";r={isChanged:!0,value:r.value.replace(s,t)}})))}catch(e){i&&i.errorHandler?i.errorHandler(e):console.warn(e)}return(0,h.of)(null)})),(0,h.of)(null)]).pipe((0,g.U)((()=>r)))}return(0,h.of)(r)}handle(e,t){const n=(0,so.Z)(e);return(0,h.forkJoin)([...Ke(n).map((e=>{const i=(0,wa.Z)(n,e);return this.internalHandle(i,t).pipe((0,En.b)((({value:t})=>{(0,lo.Z)(n,e,t)})))})),(0,h.of)(null)]).pipe((0,co.h)(n))}handleMarcos(e,t,n,i){const r=(0,so.Z)(t);return(0,h.forkJoin)([...Ke(r).map((t=>{const a=(0,wa.Z)(r,t);return this.internalHandle(a,n,e,i).pipe((0,En.b)((({value:e,isChanged:n})=>{!1!==n&&((null==i?void 0:i.setPropertyFn)?i.setPropertyFn({source:r,keys:t,value:e}):(0,lo.Z)(r,t,e))})))})),(0,h.of)(null)]).pipe((0,co.h)(r))}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](oo))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})(),po=(()=>{class e{}return e.ɵfac=function(t){return new(t||e)},e.ɵmod=l["ɵɵdefineNgModule"]({type:e}),e.ɵinj=l["ɵɵdefineInjector"]({providers:[uo,{provide:oo,useFactory:ao,deps:[fa],multi:!0}],imports:[[o.CommonModule]]}),e})();("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](po,{imports:[o.CommonModule]});let mo=(()=>{class e{constructor(e){this._macrosHandlerService=e}transform(e,t,n){return t?this._macrosHandlerService.handle(e,t).pipe((0,g.U)((e=>e[n]))):null}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](uo,16))},e.ɵpipe=l["ɵɵdefinePipe"]({name:"handleResourceMacros",type:e,pure:!0}),e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"root"}),e})(),ho=(()=>{class e{_getEntitySchemaColumnsDataValueTypesMap(e){return e.columns.reduce(((e,t)=>(e[t.name]=t.dataValueType,e)),{})}_getEntityColumnsDataValueTypesMap(e){return Object.keys(e).reduce(((t,n)=>(t[n]=e[n].dataValueType,t)),{})}_parseRawColumnValue(e,t){switch(t){case r.DataValueType.Date:case r.DataValueType.Time:case r.DataValueType.DateTime:return ka(e);default:return e}}_parseRawEntityObject(e,t){const n={};return Object.keys(e).forEach((i=>{const r=e[i];n[i]=t[i]?this._parseRawColumnValue(r,t[i]):r})),n}deserializeEntity(e,t){r.ValidationUtilities.checkArgumentEmpty("columnsConfig",e),r.ValidationUtilities.checkArgumentEmpty("rawEntity",t);const n=this._getEntityColumnsDataValueTypesMap(e);return this._parseRawEntityObject(t,n)}deserializeEntities(e,t){r.ValidationUtilities.checkArgumentEmpty("columnsConfig",e),r.ValidationUtilities.checkArgumentEmpty("rawEntities",t);const n=this._getEntityColumnsDataValueTypesMap(e);return t.map((e=>this._parseRawEntityObject(e,n)))}deserializeEntitySchemaRecord(e,t){r.ValidationUtilities.checkArgumentEmpty("entitySchema",e),r.ValidationUtilities.checkArgumentEmpty("rawEntities",t);const n=this._getEntitySchemaColumnsDataValueTypesMap(e);return this._parseRawEntityObject(t,n)}deserializeEntitySchemaRecords(e,t){r.ValidationUtilities.checkArgumentEmpty("entitySchema",e),r.ValidationUtilities.checkArgumentEmpty("rawEntities",t);const n=this._getEntitySchemaColumnsDataValueTypesMap(e);return t.map((e=>this._parseRawEntityObject(e,n)))}}return e.ɵfac=function(t){return new(t||e)},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"root"}),e})(),go=(()=>{class e{constructor(e,t,n,i){this.overlay=e,this.overlayPositionBuilder=t,this.elementRef=n,this.ngZone=i,this.delayTime=500}_createIconHoveredStream(e){return this.ngZone.runOutsideAngular((()=>(0,h.fromEvent)(this.elementRef.nativeElement,"mouseenter").pipe((0,cn.e)(this.delayTime),(0,b.R)(e))))}_createIconMouseOutStream(){return this.ngZone.runOutsideAngular((()=>(0,h.fromEvent)(this.elementRef.nativeElement,"mouseleave")))}_createEventsStream(e,t){this.subscription=t.subscribe(),this.subscription.add(e.subscribe());const n=(0,h.merge)(e,t);n.pipe((0,b.R)(t));const i=n.subscribe((e=>{if("mouseenter"===e.type&&this.show(),"mouseleave"===e.type){this.hide(),this.subscription.unsubscribe();const e=this._createIconMouseOutStream(),t=this._createIconHoveredStream(e);this._createEventsStream(t,e)}}));this.subscription.add(i)}hide(){this.overlayRef.hasAttached()&&this.overlayRef.detach()}show(){this.hintConfig&&(this.overlayRef.hasAttached()||(this.tooltipRef=this.overlayRef.attach(new ln.C5(this.hintConfig.componentType))),this.tooltipRef.instance.hintConfig=this.hintConfig.hintConfig)}ngOnInit(){const e=this.overlayPositionBuilder.flexibleConnectedTo(this.elementRef).withPositions([{originX:"center",originY:"bottom",overlayX:"center",overlayY:"top",offsetX:this.hintConfig.positionX?this.hintConfig.positionX:0,offsetY:this.hintConfig.positionY?this.hintConfig.positionY:0}]);this.overlayRef=this.overlay.create({scrollStrategy:this.overlay.scrollStrategies.close(),positionStrategy:e})}ngAfterViewInit(){const e=this._createIconMouseOutStream(),t=this._createIconHoveredStream(e);this._createEventsStream(t,e)}ngOnDestroy(){this.hide(),this.subscription.unsubscribe()}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](dn.aV),l["ɵɵdirectiveInject"](dn.wJ),l["ɵɵdirectiveInject"](l.ElementRef),l["ɵɵdirectiveInject"](l.NgZone))},e.ɵdir=l["ɵɵdefineDirective"]({type:e,selectors:[["","libHintOverlay",""]],inputs:{hintConfig:["libHintOverlay","hintConfig"]},exportAs:["libHintOverlay"]}),e})();let fo=(()=>{class e{constructor(){this.subject$=new h.Subject}emit(e){this.subject$.next(e)}on(e,t,n){return this.subject$.pipe((0,f.h)((t=>t.name===e)),(0,g.U)((e=>e.value))).subscribe((e=>t.call(n,e)))}}return e.ɵfac=function(t){return new(t||e)},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})();new l.InjectionToken("TRANSLATE_SERVICE_URI");let vo=(()=>{class e{constructor(){this._defaultShortDatePattern="M/D/YYYY"}convert(e){var t,n,i;if(e)return Object.assign(Object.assign({},e),{shortDatePattern:null!==(n=null===(t=null==e?void 0:e.shortDatePattern)||void 0===t?void 0:t.toUpperCase())&&void 0!==n?n:this._defaultShortDatePattern,shortTimePattern:null===(i=null==e?void 0:e.shortTimePattern)||void 0===i?void 0:i.replace("tt","A")})}}return e.ɵfac=function(t){return new(t||e)},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"root"}),e})();const bo=new l.InjectionToken("DateTimeFormatInfo",{providedIn:"root",factory:()=>{var e;const t=(0,l.inject)(vo),n=(0,l.inject)(Yr);return t.convert(null===(e=null==n?void 0:n.cultureInfo)||void 0===e?void 0:e.dateTimeFormat)}});function Co(e,t,n){if(!e)return null;let i=e.find((e=>t(e)));return i||(e.forEach((e=>{i||(i=Co(n(e),t,n))})),i)}function yo(e,t,n){if(!e)return null;let i=t(e);return i||(e.forEach((e=>{i||(i=yo(n(e),t,n))})),i)}var wo=n(16738),_o=n.n(wo);let xo=(()=>{class e extends lt{constructor(e){super(),this._dateTimeFormat=e,this.defaultDateTimeFormat="M/D/YYYY"}_castToDateTimeFormat(e){const t=e.format;if(!t)return e;const n=t.split(" ").length>=2;return{type:e.type,date:{display:!0},time:{display:n}}}_getDateTimeFormatMoment(e){var t;let n="";const{shortDatePattern:i,shortTimePattern:r}=null!==(t=this._dateTimeFormat)&&void 0!==t?t:{};if(!i&&!r)return this.defaultDateTimeFormat;const{date:a,time:o}=null!=e?e:{},{display:s=!1}=null!=a?a:{},{display:l=!1}=null!=o?o:{};return s&&(n+=i),l&&(n+=` ${r}`),n.trim()}handle(e){var t,n;const{dateTimeFormat:i,handledMomentFormat:r}=e,a=this._castToDateTimeFormat(i),o=this._getDateTimeFormatMoment(a);this.format=null===(t=null==a?void 0:a.date)||void 0===t?void 0:t.format;let s=this.internalHandler(null!=r?r:o);if(s!==o){const e=new RegExp(`^\\${this._dateTimeFormat.dateSeparator}+`),t=new RegExp(`\\${this._dateTimeFormat.dateSeparator}+$`),n=new RegExp(`\\${this._dateTimeFormat.dateSeparator}{2,}`,"g");s=s.replace(e,"").replace(t,"").replace(n,this._dateTimeFormat.dateSeparator)}return e.handledMomentFormat=s,null!==(n=super.handle(e))&&void 0!==n?n:s}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](bo))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"root"}),e})(),Io=(()=>{class e extends lt{handle(e){var t,n;return"hour"===(null===(n=null===(t=null==e?void 0:e.dateTimeFormat)||void 0===t?void 0:t.time)||void 0===n?void 0:n.format)?"H":super.handle(e)}}return e.ɵfac=function(){let t;return function(n){return(t||(t=l["ɵɵgetInheritedFactory"](e)))(n||e)}}(),e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"root"}),e})(),So=(()=>{class e extends lt{handle(e){var t,n;return"week"===(null===(n=null===(t=e.dateTimeFormat)||void 0===t?void 0:t.date)||void 0===n?void 0:n.format)?"W":super.handle(e)}}return e.ɵfac=function(){let t;return function(n){return(t||(t=l["ɵɵgetInheritedFactory"](e)))(n||e)}}(),e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"root"}),e})(),Mo=(()=>{class e extends xo{internalHandler(e){return this.format&&!this.format.has("days")?e.replace(/D/g,""):e}}return e.ɵfac=function(){let t;return function(n){return(t||(t=l["ɵɵgetInheritedFactory"](e)))(n||e)}}(),e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"root"}),e})(),Do=(()=>{class e extends xo{internalHandler(e){var t;return this.format&&!(null===(t=this.format)||void 0===t?void 0:t.has("years"))?e.replace(/Y/g,""):e}}return e.ɵfac=function(){let t;return function(n){return(t||(t=l["ɵɵgetInheritedFactory"](e)))(n||e)}}(),e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"root"}),e})(),Po=(()=>{class e extends xo{internalHandler(e){var t;return this.format&&!(null===(t=this.format)||void 0===t?void 0:t.has("months"))?e.replace(/M/g,""):e}}return e.ɵfac=function(){let t;return function(n){return(t||(t=l["ɵɵgetInheritedFactory"](e)))(n||e)}}(),e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"root"}),e})();const To=new l.InjectionToken("Represents the moment date time format",{factory:()=>{const e=(0,l.inject)(So),t=(0,l.inject)(Io),n=(0,l.inject)(Mo),i=(0,l.inject)(Po),r=(0,l.inject)(Do);return{getFormat:a=>(e.setNext(t).setNext(n).setNext(i).setNext(r),e.handle({dateTimeFormat:a}))}},providedIn:"root"});class ko{}let Eo=(()=>{class e extends ko{constructor(e){super(),this._momentDateTimeFormatter=e}format(e,t){const n=this._momentDateTimeFormatter.getFormat(t);return _o()(e).format(n)}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](To))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"root"}),e})();const No=new Map([["default",{ADD_TAGS:["#comment","signature"],FORCE_BODY:!0}],["textOnly",{ALLOWED_TAGS:["#text"],FORBID_CONTENTS:["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","title","video","xmp"]}]]);let Oo=(()=>{class e extends ko{constructor(e){super(),this._domPurifier=e,this._defaultFormat={type:"sanitizeHtml",mode:"default"},this._sanitizationConfigsByMode=No}_sanitizeHtml(e,t){var n;const i=null!==(n=t.mode)&&void 0!==n?n:"default",r=this._sanitizationConfigsByMode.get(i);return this._domPurifier.sanitize(e,r).toString()}format(e,t){return e?this._sanitizeHtml(e,null!=t?t:this._defaultFormat):""}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](Qe))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"root"}),e})();var jo=n(95522),Ao=n.n(jo);const Ro=".";let Fo=(()=>{class e{constructor(e){this._userInfo=e}_adjustDecimalPrecision(e){return null==e?null:(e=parseInt(`${e}`,10),isNaN(e)?null:(e=Math.min(e,20),e=Math.max(e,0)))}_adjustDecimalSeparator(e){var t,n;return(null===(n=null===(t=this._userInfo)||void 0===t?void 0:t.cultureInfo)||void 0===n?void 0:n.decimalSeparator)||e||Ro}_adjustThousandSeparator(e){var t,n;return(null===(n=null===(t=this._userInfo)||void 0===t?void 0:t.cultureInfo)||void 0===n?void 0:n.thousandSeparator)||e||""}adjust(e){const{decimalPrecision:t,decimalSeparator:n,thousandSeparator:i,thousandAbbreviation:r}=e||{};return{type:"number",decimalPrecision:this._adjustDecimalPrecision(t),decimalSeparator:this._adjustDecimalSeparator(n),thousandSeparator:this._adjustThousandSeparator(i),thousandAbbreviation:{enabled:!0===(null==r?void 0:r.enabled)}}}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](Yr,8))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"root"}),e})(),Vo=(()=>{class e extends ko{constructor(e){super(),this._formatAdjuster=e,this.THOUSAND_SEPARATOR=",",this.THOUSAND_ABBREVIATION="a",this.DECIMAL_SEPARATOR_MACROS="#DECIMAL_SEPARATOR#",this.THOUSAND_SEPARATOR_MACROS="#THOUSAND_SEPARATOR#"}_isNaN(e){const t=parseFloat(e);return isNaN(t)}_createNumeralFormat(e,t){var n,i,r;const[a,o]=e.split(Ro),s=Math.abs(parseInt(a,10))>=1e3,l=Boolean(null===(n=t.thousandAbbreviation)||void 0===n?void 0:n.enabled);if(s&&l)return`0,0${this.THOUSAND_ABBREVIATION}.[0]`;const c=null!==(r=null!==(i=t.decimalPrecision)&&void 0!==i?i:null==o?void 0:o.length)&&void 0!==r?r:0;return`0,0.${"0".repeat(c)}`}_replaceSeparators(e,t){const{decimalSeparator:n,thousandSeparator:i}=t;return gt(e,[{searchValue:Ro,replaceMacros:this.DECIMAL_SEPARATOR_MACROS,replaceValue:n},{searchValue:this.THOUSAND_SEPARATOR,replaceMacros:this.THOUSAND_SEPARATOR_MACROS,replaceValue:i}])}_undoReplaceSeparators(e,t){const{decimalSeparator:n,thousandSeparator:i}=t;return gt(e,[{searchValue:n,replaceMacros:this.DECIMAL_SEPARATOR_MACROS,replaceValue:Ro},{searchValue:i,replaceMacros:this.THOUSAND_SEPARATOR_MACROS,replaceValue:""}])}format(e,t){if(this._isNaN(e))return"";t||(t={type:"number"});const n=this._formatAdjuster.adjust(t),i=this._createNumeralFormat(e,n),r=Ao()(e).format(i);return this._isNaN(r)?"":this._replaceSeparators(r,n)}undoFormat(e,t){if(this._isNaN(e))return"";t||(t={type:"number"});const n=this._formatAdjuster.adjust(t);return this._undoReplaceSeparators(e,n)}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](Fo))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"root"}),e})(),Lo=(()=>{class e extends ko{constructor(){super(...arguments),this.HYPHEN="-",this.ELLIPSIS="...",this.INFINITE=-1,this.MIN_SYLLABE_LENGTH=2,this.MIN_WRAP_WORD_LENGTH=4,this.DEFAULT_STRING_FORMAT={type:"string",wordSeparator:" ",wordConnector:" ",maxLinesCount:this.INFINITE,maxLineLength:this.INFINITE}}_fillInFormat(e){var t,n,i,r;const{maxLinesCount:a,maxLineLength:o,wordSeparator:s,wordConnector:l}=this.DEFAULT_STRING_FORMAT;return{type:"string",maxLinesCount:null!==(t=null==e?void 0:e.maxLinesCount)&&void 0!==t?t:a,maxLineLength:null!==(n=null==e?void 0:e.maxLineLength)&&void 0!==n?n:o,wordSeparator:null!==(i=null==e?void 0:e.wordSeparator)&&void 0!==i?i:s,wordConnector:null!==(r=null==e?void 0:e.wordConnector)&&void 0!==r?r:l}}_splitTextToWords(e,t){return e.split(t).map((e=>e.trim())).filter((e=>""!==e))}_wrapWordsToLines(e,t){const n=[];for(;e.length>0;){const i=e.shift(),r=this._getLinesState(n,t);if(this._canAddWordIntoLine(i,r)){this._addWordToLine(i,n);continue}if(this._canAddWordIntoNextLine(i,e,r)){n.push([]),e.unshift(i);continue}const{remainderLineLength:a}=r;if(!this._canBreakWordIntoSyllables(r)){this._canTruncateWordWithEllipsis(r)?this._truncateWordWithEllipsis(i,n,a):this._addWordToLine(this.ELLIPSIS,n);break}{const t=this._breakWordIntoSyllables(i,n,a);n.push([]),e.unshift(t)}}return n}_getLinesState(e,t){let{maxLinesCount:n,maxLineLength:i}=t;n<this.INFINITE&&(n=this.INFINITE),i<this.INFINITE&&(i=this.INFINITE);const r=e.length,a=r>0?e[r-1]:[],o=this._getTotalWordsLength(a),s=n===this.INFINITE?this.INFINITE:n-r;return{maxLineLength:i,maxLinesCount:n,currentLinesCount:r,remainderLineLength:i===this.INFINITE?this.INFINITE:i-o,remainderLinesCount:s}}_getTotalWordsLength(e){return e.reduce(((e,t)=>e+t.length),0)}_canAddWordIntoLine(e,t){const{remainderLineLength:n}=t;return e.length<=n||n===this.INFINITE}_canAddWordIntoNextLine(e,t,n){const{maxLineLength:i,remainderLineLength:r,remainderLinesCount:a}=n;if(0===a)return!1;if(a===this.INFINITE)return!0;const o=e.length;if(o<this.MIN_WRAP_WORD_LENGTH)return!0;if(r<this.MIN_SYLLABE_LENGTH)return!0;if(o>i)return!1;return this._getTotalWordsLength(t)<=(a-1)*i}_canBreakWordIntoSyllables(e){const{remainderLinesCount:t,remainderLineLength:n}=e,i=t===this.INFINITE||t>0,r=n>=this.MIN_SYLLABE_LENGTH;return i&&r}_canTruncateWordWithEllipsis(e){return e.remainderLineLength>0}_addWordToLine(e,t){var n;const i=null!==(n=t.pop())&&void 0!==n?n:[];i.push(e),t.push(i)}_breakWordIntoSyllables(e,t,n){const i=e.length;i-n==1&&n--;const r=e.substring(0,n),a=e.substring(n,i);return this._addWordToLine(r+this.HYPHEN,t),a}_truncateWordWithEllipsis(e,t,n){const i=e.substring(0,n);1===i.length?this._addWordToLine(this.ELLIPSIS,t):this._addWordToLine(i+this.ELLIPSIS,t)}format(e,t){if("string"!=typeof e)return[];t=this._fillInFormat(t);const n=this._splitTextToWords(e,t.wordSeparator);return this._wrapWordsToLines(n,t).map((e=>e.join(t.wordConnector)))}}return e.ɵfac=function(){let t;return function(n){return(t||(t=l["ɵɵgetInheritedFactory"](e)))(n||e)}}(),e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"root"}),e})();const zo=new l.InjectionToken("Represents a datetime data formatter",{factory:()=>new Eo((0,l.inject)(To)),providedIn:"root"}),Bo=new l.InjectionToken("Represents a default data formatter",{factory:()=>new Lo,providedIn:"root"}),Go=new l.InjectionToken("Represents a sanitize html formatter",{factory:()=>new Oo((0,l.inject)(Qe)),providedIn:"root"}),Ho=new l.InjectionToken("Represents a number data formatter",{factory:()=>(0,l.inject)(Vo),providedIn:"root"}),Uo=new l.InjectionToken("Represents a registration map of formatters",{factory:()=>new Map([["string",Lo],["number",Vo],["datetime",Eo]]),providedIn:"root"});let Zo=(()=>{class e{constructor(e,t,n){this._injector=e,this._defaultFormatter=t,this._formattersMap=n}_getFormatterByType(e){const{type:t}=e;if(this._formattersMap.has(t)){const e=this._formattersMap.get(t);return this._injector.get(e)}}_getFormatterByPredicat(e){for(const[t,n]of this._formattersMap)if("function"==typeof t&&t(e))return this._injector.get(n)}resolveFormatter(e){var t,n;return e&&null!==(n=null!==(t=this._getFormatterByType(e))&&void 0!==t?t:this._getFormatterByPredicat(e))&&void 0!==n?n:this._defaultFormatter}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](l.Injector),l["ɵɵinject"](Bo),l["ɵɵinject"](Uo))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"root"}),e})();class $o{constructor(e){this._formatter=e}getValue(e){return e.toString()}getFormat(e){if(!e)return this.defaultFormat;const t=this.getFormatByDataType(e.dataType);return t?(0,Ne.Z)(t,e):e}getFormatByDataType(e){return e&&this.formatsByDataTypeMap.get(e)}isSupportedValue(e){return"string"==typeof e}transform(e,t){if(!this.isSupportedValue(e))return"";const n=this.getValue(e),i=this.getFormat(t);return this._formatter.format(n,i)}}const Wo=new Map([[r.DataValueType.Date,{type:"datetime",date:{display:!0}}],[r.DataValueType.DateTime,{type:"datetime",date:{display:!0},time:{display:!0}}],[r.DataValueType.Time,{type:"datetime",date:{display:!1},time:{display:!0}}]]);let qo=(()=>{class e extends $o{constructor(e){super(e),this.defaultFormat={type:"datetime",date:{display:!0}},this.formatsByDataTypeMap=Wo}getValue(e){return"number"==typeof e&&(e=new Date(e)),e.toString()}isSupportedValue(e){return super.isSupportedValue(e)||"number"==typeof e||e instanceof Date}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](zo,16))},e.ɵpipe=l["ɵɵdefinePipe"]({name:"dateTimeFormat",type:e,pure:!0}),e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"root"}),e})();const Yo=new Map([[r.DataValueType.Integer,{type:"number",decimalPrecision:0}],[r.DataValueType.Float,{type:"number",decimalPrecision:2}],[r.DataValueType.Money,{type:"number",decimalPrecision:2}],[r.DataValueType.FLOAT1,{type:"number",decimalPrecision:1}],[r.DataValueType.FLOAT2,{type:"number",decimalPrecision:2}],[r.DataValueType.FLOAT3,{type:"number",decimalPrecision:3}],[r.DataValueType.FLOAT4,{type:"number",decimalPrecision:4}],[r.DataValueType.FLOAT8,{type:"number",decimalPrecision:8}]]);let Jo=(()=>{class e extends $o{constructor(e){super(e),this.defaultFormat={type:"number"},this.formatsByDataTypeMap=Yo}isSupportedValue(e){return super.isSupportedValue(e)||"number"==typeof e}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](Ho,16))},e.ɵpipe=l["ɵɵdefinePipe"]({name:"numberFormat",type:e,pure:!0}),e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"root"}),e})(),Qo=(()=>{class e extends $o{constructor(e){super(e),this.defaultFormat={type:"sanitizeHtml"},this.formatsByDataTypeMap=new Map([])}isSupportedValue(e){return super.isSupportedValue(e)||"number"==typeof e||"boolean"==typeof e||"bigint"==typeof e||"symbol"==typeof e||e instanceof Date}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](Go,16))},e.ɵpipe=l["ɵɵdefinePipe"]({name:"sanitizeHtml",type:e,pure:!0}),e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"root"}),e})(),Ko=(()=>{class e{}return e.ɵfac=function(t){return new(t||e)},e.ɵmod=l["ɵɵdefineNgModule"]({type:e}),e.ɵinj=l["ɵɵdefineInjector"]({}),e})();("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](Ko,{declarations:[qo],exports:[qo]});let Xo=(()=>{class e{}return e.ɵfac=function(t){return new(t||e)},e.ɵmod=l["ɵɵdefineNgModule"]({type:e}),e.ɵinj=l["ɵɵdefineInjector"]({}),e})();("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](Xo,{declarations:[Qo],exports:[Qo]});let es=(()=>{class e{}return e.ɵfac=function(t){return new(t||e)},e.ɵmod=l["ɵɵdefineNgModule"]({type:e}),e.ɵinj=l["ɵɵdefineInjector"]({}),e})();("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](es,{declarations:[Jo],exports:[Jo]});var ts=(()=>(function(e){e.Date="date",e.DateTime="datetime",e.Time="time"}(ts||(ts={})),ts))();const ns=[{type:ts.Date,format:"YYYY-MM-DDTHH:mm:ss.SSS"},{type:ts.DateTime,format:"YYYY-MM-DDTHH:mm:ss.SSS"},{type:ts.Time,format:"YYYY-MM-DDTHH:mm:ss.SSS"}];function is(e){var t;return(null===(t=ns.find((t=>t.type===e)))||void 0===t?void 0:t.format)||null}function rs(e){return{activeFolderIdAttrName:`${e}_active_folder_id`,activeFolderNameAttrName:`${e}_active_folder_name`,activeFolderFilterAttrName:`${e}_active_folder_filter`,activeFolderFavoriteStateAttrName:`${e}_active_folder_favorite_state`,itemsAttrName:`${e}_items`,visibleAttrName:`${e}_visible`,itemsModelName:`${e}_items_DS`,itemsFilterAttrName:`${e}_items_DS_filter`,favoriteItemsAttrName:`${e}_favoriteItems`,expandedItemsAttrName:`${e}_expandedItems`,savedFolderIdAttrName:`${e}_savedFolderId`}}var as=(()=>(function(e){e.Auto="auto",e.Transparent="transparent",e.PrimaryContrast500="primary-contrast-500",e.Foreground500="foreground-500",e.Label500="label-500",e.BrandSecondary500="brand-secondary-500",e.Warning500="warn-500",e.Brand500="brand-500",e.NavigationSecondary500="navigation-secondary-500",e.Primary500="primary-500"}(as||(as={})),as))();function os(e){return Object.values(as).includes(e)&&e!==as.Transparent?`var(--palette-${e})`:e}let ss=(()=>{class e{}return e.ɵfac=function(t){return new(t||e)},e.ɵmod=l["ɵɵdefineNgModule"]({type:e}),e.ɵinj=l["ɵɵdefineInjector"]({providers:[Ia],imports:[[o.CommonModule]]}),e})();("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](ss,{imports:[o.CommonModule]});let ls=class{constructor(e){this.httpClient=e,this._getFeatureStatesEndpoint="rest/FeatureService/GetFeatureStates",this._cachedCodes=new Map,this._destroyed$=new h.Subject}loadFeatureStates(){return this._featureStates$||(this._featureStates$=this.httpClient.post(this._getFeatureStatesEndpoint,{}).pipe((0,b.R)(this._destroyed$),(0,g.U)((e=>{e.GetFeatureStatesResult.forEach((e=>{this._cachedCodes.set(e.Key,1===e.Value)}));return Object.fromEntries(this._cachedCodes.entries())})),(0,dr.K)((()=>(0,h.of)(null))),(0,Or.B)())),this._featureStates$}getFeatureState(e){return e?this._cachedCodes.size>0?(0,h.of)(this._cachedCodes.get(e)||!1):this.loadFeatureStates().pipe((0,g.U)((()=>this._cachedCodes.get(e)||!1))):(0,h.of)(!1)}getFeaturesState(e){return(0,h.from)(this.getFeaturesStateAsync(e))}getFeaturesStateAsync(e){return(0,a.mG)(this,void 0,void 0,(function*(){return Promise.all(e.map((e=>{const t="string"==typeof e?this.getFeatureState(e):e;return new Promise((e=>t.pipe((0,A.P)()).subscribe({next:e})))})))}))}ngOnDestroy(){this._destroyed$.next(),this._destroyed$.complete()}};ls.ɵfac=function(e){return new(e||ls)(l["ɵɵinject"](s.HttpClient))},ls.ɵprov=l["ɵɵdefineInjectable"]({token:ls,factory:ls.ɵfac,providedIn:"root"}),ls=(0,a.gn)([bt({requestType:"crt.FeatureService"}),(0,a.w6)("design:paramtypes",[s.HttpClient])],ls);let cs=(()=>{class e{constructor(e){this.httpClient=e,this._serviceEndpoint="rest/ConfigurationDataService/",this._cachedEntityConfigurationData=new Map}getData(){const e=this._serviceEndpoint+"GetData";return this.httpClient.post(e,null)}getEntityData(e,t=!1){if(t&&this._cachedEntityConfigurationData.delete(e),this._cachedEntityConfigurationData.has(e))return(0,h.of)(this._cachedEntityConfigurationData.get(e));const n=this._serviceEndpoint+"GetEntityData";return this.httpClient.post(n,[e]).pipe((0,g.U)((t=>{const n={data:{entityStructure:t.data.entitiesStructure[0],moduleStructure:t.data.modulesStructure[0]},success:t.success,errorInfo:t.errorInfo};return this._cachedEntityConfigurationData.set(e,n),n})))}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](s.HttpClient))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"root"}),e})();class ds extends Error{constructor(e){super(`Query with config\n${JSON.stringify(e.getMetadata())}\nfinished with error.`)}}class us extends Error{constructor(e){var t,n,i;super((null===(n=null===(t=null==e?void 0:e.error)||void 0===t?void 0:t.responseStatus)||void 0===n?void 0:n.Message)||(null===(i=null==e?void 0:e.responseStatus)||void 0===i?void 0:i.Message)||(null==e?void 0:e.message))}}let ps=(()=>{class e{}return e.ɵfac=function(t){return new(t||e)},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})();var ms=(()=>(function(e){e[e.General=0]="General",e[e.Limited=1]="Limited"}(ms||(ms={})),ms))(),hs=(()=>(function(e){e[e.Undefined=0]="Undefined",e[e.Filter=1]="Filter",e[e.FilterSummary=2]="FilterSummary"}(hs||(hs={})),hs))(),gs=(()=>(function(e){e[e.Session=0]="Session",e[e.Workspace=1]="Workspace",e[e.Application=2]="Application"}(gs||(gs={})),gs))();class fs{constructor(e=gs.Session,t="",n=""){this._cacheLevel=e,this._cacheGroup=t,this._cacheItemName=n}getMetadata(){return{cacheLevel:this._cacheLevel,cacheGroup:this._cacheGroup,cacheItemName:this._cacheItemName}}}const vs="DataService/json/SyncReply";s.HttpClient;let bs=class extends ps{constructor(e,t){super(),this._httpClient=e,this._dataServiceUri=t,r.ValidationUtilities.checkArgumentEmpty("_httpClient",e),r.ValidationUtilities.checkArgumentEmpty("_dataServiceUri",t)}_executeWritableQuery(e,t){const n=e.getMetadata(),i=Object.assign(Object.assign({},n),{queryKind:ms.General});return this._httpClient.post(t,i).pipe((0,dr.K)((e=>{throw new us(e)})),(0,En.b)((t=>{if(!t||!t.success)throw new ds(e)})))}_getQueryUri(e){if(e instanceof r.EntitySchemaQuery)return`${this._dataServiceUri}/SelectQuery`;if(e instanceof r.InsertQuery)return`${this._dataServiceUri}/InsertQuery`;if(e instanceof r.UpdateQuery)return`${this._dataServiceUri}/UpdateQuery`;if(e instanceof r.DeleteQuery)return`${this._dataServiceUri}/DeleteQuery`;throw new Error("Unsupported query type")}getRowsFromResponse(e){return e.rows}executeSelectQuery(e){r.ValidationUtilities.checkArgumentEmpty("query",e);const t=this._getQueryUri(e),n=e.getMetadata(),i=Object.assign(Object.assign({},n),{queryKind:ms.General,serverESQCacheParameters:(new fs).getMetadata(),queryOptimize:!1,useMetrics:!1,querySource:hs.Undefined});return this._httpClient.post(t,i).pipe((0,dr.K)((e=>{throw new us(e)})),(0,En.b)((t=>{if(!(null==t?void 0:t.rows))throw new ds(e)})),(0,g.U)((e=>{const t=this.getRowsFromResponse(e);return t.rowsAffected=e.rowsAffected,e.errorInfo&&(t.errorInfo=e.errorInfo),t})))}executeInsertQuery(e){return this.execute(e)}executeUpdateQuery(e){return this.execute(e)}executeDeleteQuery(e){return this.execute(e)}execute(e){r.ValidationUtilities.checkArgumentEmpty("query",e);const t=this._getQueryUri(e);return this._executeWritableQuery(e,t)}};bs=(0,a.gn)([(0,a.fM)(1,(0,l.Inject)("dataServiceUri")),(0,a.w6)("design:paramtypes",[s.HttpClient,String])],bs);const Cs={provide:ps,useFactory:(e,t)=>new ys(e,t,vs),deps:[s.HttpClient,ho]};let ys=class extends bs{constructor(e,t,n){super(e,n),this._entityDeserializer=t}getRowsFromResponse(e){return this._entityDeserializer.deserializeEntities(e.rowConfig,e.rows)}};ys.ɵfac=function(e){return new(e||ys)(l["ɵɵinject"](s.HttpClient),l["ɵɵinject"](ho),l["ɵɵinject"]("dataServiceUri"))},ys.ɵprov=l["ɵɵdefineInjectable"]({token:ys,factory:ys.ɵfac}),ys=(0,a.gn)([bt({requestType:"crt.DataServiceQueryExecutor"}),(0,a.w6)("design:paramtypes",[s.HttpClient,ho,String])],ys);let ws=class{constructor(e,t){this.httpClient=e,this._cache=new Map,this.serviceEndpoint=null!=t?t:"DataService/json/SyncReply/"}getByCodes(e){if(!e||0===e.length)return(0,h.of)({success:!0,values:{}});const t=e.filter((e=>!this._cache.has(e)));if(0===t.length){const t=e.map((e=>[e,this._cache.get(e)]));return(0,h.of)({success:!0,values:Object.fromEntries(t)})}const n=this.serviceEndpoint+"QuerySysSettings";return this.httpClient.post(n,{sysSettingsNameCollection:t}).pipe((0,Or.B)(),(0,En.b)((e=>{t.forEach((t=>{const n=e.values[t];n.isCacheable&&this._cache.set(t,n)}))})),(0,g.U)((t=>(e.filter((e=>this._cache.has(e))).map((e=>this._cache.get(e))).forEach((e=>{t.values[e.code]=e})),t))))}getByCode(e){if(this._cache.has(e))return(0,h.of)(this._cache.get(e));const t=this.serviceEndpoint+"QuerySysSettings";return this.httpClient.post(t,{sysSettingsNameCollection:[e]}).pipe((0,Or.B)(),(0,g.U)((t=>t.values[e])),(0,En.b)((e=>{e.isCacheable&&this._cache.set(e.code,e)})))}updateMany(e){const t=this.serviceEndpoint+"PostSysSettingsValues",n={};return e.forEach((e=>n[e.code]=e.value)),this.httpClient.post(t,{sysSettingsValues:n}).pipe((0,Or.B)())}update(e){return this.updateMany([e])}};ws.ɵfac=function(e){return new(e||ws)(l["ɵɵinject"](s.HttpClient),l["ɵɵinject"]("dataServiceUri",8))},ws.ɵprov=l["ɵɵdefineInjectable"]({token:ws,factory:ws.ɵfac,providedIn:"root"}),ws=(0,a.gn)([bt({requestType:"crt.SysSettingsService"}),(0,a.w6)("design:paramtypes",[s.HttpClient,String])],ws);let _s=(()=>{class e{constructor(e,t){this.sysSettingsService=e,this.queryExecutor=t}_getPrimarySysSettingValue(){return this.sysSettingsService.getByCodes(["PrimaryCurrency"]).pipe((0,g.U)((e=>e.values.PrimaryCurrency)))}getCurrencyById(e){const t=new r.EntitySchemaQuery("Currency");return t.addSchemaColumn("Code"),t.addSchemaColumn("Id"),t.addSchemaColumn("Name"),t.addSchemaColumn("ShortName"),t.addSchemaColumn("Symbol"),t.filters.addSchemaColumnFilterWithParameter(r.ComparisonType.Equal,"Id",e),this.queryExecutor.executeSelectQuery(t).pipe((0,g.U)((e=>e[0])))}getPrimaryCurrencyInfo(){return this._primaryCurrencyCache?(0,h.of)(this._primaryCurrencyCache):this._getPrimarySysSettingValue().pipe((0,Pn.w)((e=>this.getCurrencyById(e.value).pipe((0,g.U)((e=>(this._primaryCurrencyCache=e,e)))))),(0,Or.B)())}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](ws),l["ɵɵinject"](ps))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"root"}),e})(),xs=(()=>{class e{constructor(e){this._injector=e,this._handlerChain=r.HandlerChainService.instance,this._unsubscribesHandlers=[],this._registerHandlerChain()}_registerHandlerChain(){vt.forEach(((e,t)=>{const n=class extends r.BaseRequestHandler{constructor(e){super(),this._innerInjector=e}handle(t){const n=this._innerInjector.get(e)[t.method](...t.args);let i;return i=n instanceof Promise?n:n instanceof h.Observable?n.toPromise():Promise.resolve(n),i}};this._unsubscribesHandlers.push(this._handlerChain.register(t,(()=>new n(this._injector))))}))}ngOnDestroy(){this._unsubscribesHandlers.forEach((e=>e()))}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](l.Injector))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"root"}),e})();const Is={provide:l.APP_INITIALIZER,useFactory:()=>()=>{},deps:[xs],multi:!0};var Ss=n(25894);let Ms=(()=>{class e{constructor(e,t){this.sysSettingsService=e,this.userInfo=t,this._enabled=!1}_initializeDataLayer(){const e=window;e.dataLayer&&(this._dataLayer=e.dataLayer)}_initializeScripts(e){e&&(e=e.replace(/'/g,'"'),this._appendChildScriptTag(document.head,"script",this._getHtmlTagContent("script",e)),this._appendChildScriptTag(document.body,"noscript",this._getHtmlTagContent("noscript",e)))}_getHtmlTagContent(e,t){if(!t||!e)return"";const n=new RegExp("<"+e+"[\\s\\S]*?>[\\s\\S]*?<\\/"+e+">","gi"),i=t.match(n);if(i&&1===i.length){const t=i[0],n=new RegExp("<(\\/|)"+e+"(.*?|)>","gi");return t.replace(n,"").trim()}return""}_appendChildScriptTag(e,t,n){if(!e||!t||!n)return;const i=document.createElement(t);i.appendChild(document.createTextNode(n)),e.appendChild(i)}_initializeDefaultVariables(e){const t=this.userInfo,n={productName:e.ProductName,productEdition:e.ProductEdition,primaryCulture:{displayValue:t.cultureInfo.sysCultureName,value:t.cultureInfo.sysCultureId},customerId:e.CustomerId,version:e.ConfigurationVersion,userId:t.id};this._pushVariables(n)}_pushVariables(e){try{this._dataLayer.push(e)}catch(e){console.log(e.message)}}_initializeGoogleTagManager(e){e.UseGoogleTagManager&&(this._initializeScripts(e.GoogleTagManagerScript),this._initializeDataLayer(),this._enabled=!!this._dataLayer,this._enabled&&this._initializeDefaultVariables(e))}_executeInitialization(){const e=this.sysSettingsService.getByCodes(["UseGoogleTagManager","GoogleTagManagerScript","ProductName","ProductEdition","ConfigurationVersion","CustomerId"]);return e.subscribe((e=>{const t=e&&e.success&&e.values&&(0,Ss.Z)(e.values||{},(e=>e.value));t&&this._initializeGoogleTagManager(t)})),e.pipe((0,g.U)((()=>{})))}_resetCustomData(e){const t={};for(const n of Object.keys(e))t[n]=void 0;this._pushVariables(t)}initialize(){return this._initializationObservable$?this._initializationObservable$:this._initializationObservable$=this._executeInitialization()}track(e){this._enabled&&(this._pushVariables(Object.assign(e,{description:JSON.stringify(e.description),event:(null==e?void 0:e.event)||"bpmonlineInfo",virtualUrl:location.href})),this._resetCustomData(e))}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](ws),l["ɵɵinject"](Yr))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"root"}),e})();var Ds=n(90441);let Ps=class{constructor(e){this._http=e}_mapToCrtHttpHeaders(e){return e.keys().reduce(((t,n)=>Object.assign(Object.assign({},t),{[n]:e.get(n)})),{})}get(e,t){return this._http.get(e,Object.assign(Object.assign({},(0,Ds.Z)(t,"headers","responseType")),{observe:"response"})).pipe((0,g.U)((e=>Object.assign({headers:this._mapToCrtHttpHeaders(e.headers)},(0,Ds.Z)(e,"body","status","statusText","url","ok")))))}post(e,t,n){return this._http.post(e,t,Object.assign(Object.assign({},(0,Ds.Z)(n,"headers","responseType")),{observe:"response"})).pipe((0,g.U)((e=>Object.assign({headers:this._mapToCrtHttpHeaders(e.headers)},(0,Ds.Z)(e,"body","status","statusText","url","ok")))))}put(e,t,n){return this._http.put(e,t,Object.assign(Object.assign({},(0,Ds.Z)(n,"headers","responseType")),{observe:"response"})).pipe((0,g.U)((e=>Object.assign({headers:this._mapToCrtHttpHeaders(e.headers)},(0,Ds.Z)(e,"body","status","statusText","url","ok")))))}patch(e,t,n){return this._http.patch(e,t,Object.assign(Object.assign({},(0,Ds.Z)(n,"headers","responseType")),{observe:"response"})).pipe((0,g.U)((e=>Object.assign({headers:this._mapToCrtHttpHeaders(e.headers)},(0,Ds.Z)(e,"body","status","statusText","url","ok")))))}delete(e,t){return this._http.delete(e,Object.assign(Object.assign({},(0,Ds.Z)(t,"headers","responseType","body")),{observe:"response"})).pipe((0,g.U)((e=>Object.assign({headers:this._mapToCrtHttpHeaders(e.headers)},(0,Ds.Z)(e,"body","status","statusText","url","ok")))))}};function Ts(e){const t={};t.uId=e.uId,t.name=e.name,t.caption={"en-US":e.caption||e.name},t.columns={Items:{}};return e.columns.map((e=>{const n=function(e){const t={};return t.uId=e.uId||(0,r.generateGuid)(),t.name=e.name,t.caption={"en-US":e.caption||e.name},t.usageType=e.usageType||Sa.General,t.dataValueType=e.dataValueType,t.referenceSchemaUId=e.referenceSchemaUId,t.referenceSchemaName=e.referenceSchemaName,t}(e);return e.isPrimaryColumn&&(t.primaryColumnUId=n.uId),e.isPrimaryDisplayColumn&&(t.primaryDisplayColumnUId=n.uId),n})).forEach((e=>{t.columns.Items[e.uId]=e})),t}Ps.ɵfac=function(e){return new(e||Ps)(l["ɵɵinject"](s.HttpClient))},Ps.ɵprov=l["ɵɵdefineInjectable"]({token:Ps,factory:Ps.ɵfac,providedIn:"root"}),Ps=(0,a.gn)([bt({requestType:"crt.HttpClientService"}),(0,a.w6)("design:paramtypes",[s.HttpClient])],Ps);const ks="16be3651-8fe2-4159-8dd0-a803d4683dd3",Es="Contact",Ns="25d7c1ab-1de0-4501-b402-02e0e5a72d6e",Os="Account";Ts({uId:ks,name:Es,columns:[{name:"Id",uId:"ae0e45ca-c495-4fe7-a39d-3ab7278e1617",usageType:Sa.Advanced,dataValueType:r.DataValueType.Guid,isPrimaryColumn:!0},{name:"Name",dataValueType:r.DataValueType.Text,uId:"a5cca792-47dd-428a-83fb-5c92bdd97ff8"},{name:"Caption",dataValueType:r.DataValueType.Text,isPrimaryDisplayColumn:!0,uId:"9e53fd7c-dde4-4502-a64c-b9e34148108c"},{name:"ProcessListeners",usageType:Sa.None,dataValueType:r.DataValueType.Integer},{name:"HomePhone",dataValueType:r.DataValueType.Text},{name:"Address",dataValueType:r.DataValueType.Text,uId:"0fb61bc8-a195-4d90-aecc-18b411b51814"},{name:"DoNotUseEmail",dataValueType:r.DataValueType.Boolean},{name:"DoNotUseFax",dataValueType:r.DataValueType.Boolean},{name:"DoNotUseMail",dataValueType:r.DataValueType.Boolean},{name:"DoNotUseCall",dataValueType:r.DataValueType.Boolean},{name:"TwitterId",dataValueType:r.DataValueType.Text,usageType:Sa.Advanced},{name:"GPSN",dataValueType:r.DataValueType.Text,usageType:Sa.Advanced},{name:"GPSE",dataValueType:r.DataValueType.Text,usageType:Sa.Advanced},{name:"BirthDate",dataValueType:r.DataValueType.Date,uId:"3f08db69-6d2f-4b1c-87a4-acddc6c3b9d6"},{name:"Account",uId:"5c6ca10e-1180-4c1e-8a50-55a72ff9bdd4",dataValueType:r.DataValueType.Lookup,referenceSchemaUId:Ns,referenceSchemaName:Os},{name:"Owner",dataValueType:r.DataValueType.Lookup,referenceSchemaUId:ks,referenceSchemaName:Es},{name:"Skype",dataValueType:r.DataValueType.Text},{name:"Email",dataValueType:r.DataValueType.Text},{name:"DoNotUseSms",dataValueType:r.DataValueType.Boolean},{name:"JobTitle",dataValueType:r.DataValueType.Text},{name:"Phone",dataValueType:r.DataValueType.Text},{name:"MobilePhone",dataValueType:r.DataValueType.Text},{name:"Zip",dataValueType:r.DataValueType.Text},{name:"Surname",dataValueType:r.DataValueType.Text},{name:"Dear",dataValueType:r.DataValueType.Text},{name:"CreatedOn",caption:"Created on",dataValueType:r.DataValueType.DateTime,usageType:Sa.Advanced},{name:"ModifiedOn",caption:"Modified on",dataValueType:r.DataValueType.DateTime,usageType:Sa.Advanced}]}),Ts({uId:Ns,name:Os,columns:[{name:"Id",usageType:Sa.Advanced,dataValueType:r.DataValueType.Guid,isPrimaryColumn:!0},{name:"Name",dataValueType:r.DataValueType.Text},{name:"Caption",dataValueType:r.DataValueType.Text,isPrimaryDisplayColumn:!0},{name:"ProcessListeners",usageType:Sa.None,dataValueType:r.DataValueType.Integer},{name:"Phone",dataValueType:r.DataValueType.Text},{name:"Address",dataValueType:r.DataValueType.Text},{name:"Owner",dataValueType:r.DataValueType.Lookup,referenceSchemaUId:ks,referenceSchemaName:Es},{name:"Skype",dataValueType:r.DataValueType.Text},{name:"Email",dataValueType:r.DataValueType.Text},{name:"Fax",dataValueType:r.DataValueType.Text},{name:"Zip",dataValueType:r.DataValueType.Text},{name:"CreatedOn",caption:"Created on",dataValueType:r.DataValueType.DateTime,usageType:Sa.Advanced},{name:"ModifiedOn",caption:"Modified on",dataValueType:r.DataValueType.DateTime,usageType:Sa.Advanced}]}),Ts({uId:"27AEADD6-D508-4572-8061-5B55B667C902",name:"SysSettings",columns:[{name:"Id",usageType:Sa.Advanced,dataValueType:r.DataValueType.Guid,isPrimaryColumn:!0},{name:"Name",dataValueType:r.DataValueType.Text,isPrimaryDisplayColumn:!0},{name:"Code",dataValueType:r.DataValueType.Text}]});let js=(()=>{class e{constructor(e){this.httpClient=e,this.serviceEndpoint="ServiceModel/ProcessEngineService.svc/"}createProcessParameterValues(e){return e?Object.keys(e).map((t=>({name:t,value:e[t]}))):[]}executeProcessByName(e,t){const n=this.serviceEndpoint+"RunProcess",i={schemaName:e,parameterValues:this.createProcessParameterValues(t)};return this.httpClient.post(n,i)}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](s.HttpClient))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"root"}),e})();var As=n(35226),Rs=n(51307);let Fs=class{constructor(e){this._httpClient=e,this._serviceEndpoint="rest/RightsService",this._instanceCache=new Map}getRequestWithCache(e,t={}){const n=`${this._serviceEndpoint}/${e}`,i=`${e}!${JSON.stringify(t)}`;if(!this._instanceCache.has(i)){const e=this._httpClient.post(n,t).pipe((0,As._)(1),(0,Rs.x)());this._instanceCache.set(i,e)}return this._instanceCache.get(i)}getCanExecuteOperation(e){return this.getCanExecuteOperations([e]).pipe((0,$r.zg)((e=>(0,h.of)((e||[])[0]))))}getCanExecuteOperations(e){return(0,h.combineLatest)(e.map((e=>this.getRequestWithCache("GetCanExecuteOperation",{operation:e}).pipe((0,g.U)((e=>e&&e.GetCanExecuteOperationResult)))))).pipe()}getCanEdit(e){const t=`${this._serviceEndpoint}/GetCanEdit`;return this._httpClient.post(t,e).pipe((0,g.U)((e=>{var t;return{result:e&&0===(null===(t=e.GetCanEditResult)||void 0===t?void 0:t.length),message:null==e?void 0:e.GetCanEditResult}})))}getCanDelete(e){const t=`${this._serviceEndpoint}/GetCanDelete`;return this._httpClient.post(t,e).pipe((0,g.U)((e=>{var t;return{result:e&&0===(null===(t=e.GetCanDeleteResult)||void 0===t?void 0:t.length),message:null==e?void 0:e.GetCanDeleteResult}})))}};Fs.ɵfac=function(e){return new(e||Fs)(l["ɵɵinject"](s.HttpClient))},Fs.ɵprov=l["ɵɵdefineInjectable"]({token:Fs,factory:Fs.ɵfac,providedIn:"root"}),Fs=(0,a.gn)([bt({requestType:"crt.RightsService"}),(0,a.w6)("design:paramtypes",[s.HttpClient])],Fs);let Vs=(()=>{class e{constructor(e){this.httpClient=e,this._serviceEndpointBase="DataService/json/SyncReply/",this._serviceGetProfileEndpoint="QueryProfile",this._serviceSaveProfileEndpoint="UserProfile"}getProfile(e){const t=this._serviceEndpointBase+this._serviceGetProfileEndpoint;return this.httpClient.post(t,{key:e})}saveProfile(e,t){const n=this._serviceEndpointBase+this._serviceSaveProfileEndpoint,{requirejs:i,require:r}=window;if(null==r?void 0:r.defined("profile")){r("profile").addKey(e)}return null==i||i.undef("profile!"+e),this.httpClient.post(n,{key:e,data:JSON.stringify(t)}).pipe((0,g.U)((e=>e)))}saveDefaultProfile(e,t){const n=this._serviceEndpointBase+this._serviceSaveProfileEndpoint,{requirejs:i,require:r}=window;if(null==r?void 0:r.defined("profile")){r("profile").addKey(e)}return null==i||i.undef("profile!"+e),this.httpClient.post(n,{key:e,data:JSON.stringify(t),isDef:!0}).pipe((0,g.U)((e=>e)))}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](s.HttpClient))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"root"}),e})(),Ls=(()=>{class e{constructor(e){this.httpClient=e,this._serviceGetProfileEndpoint="QuerySchemaProfile",this._serviceSaveProfileEndpoint="UserSchemaProfile",this._serviceEndpointBase="DataService/json/SyncReply/"}getProfile(e){const t=this._serviceEndpointBase+this._serviceGetProfileEndpoint;return this.httpClient.post(t,{key:e})}saveProfile(e,t,n){const i=this._serviceEndpointBase+this._serviceSaveProfileEndpoint,{requirejs:r,require:a}=window;if(null==a?void 0:a.defined("profile")){a("profile").addKey(e)}null==r||r.undef("profile!"+e);const o={key:e,data:null===t?"":JSON.stringify(t),sysAdminUnitId:n};return this.httpClient.post(i,o).pipe((0,g.U)((e=>e)))}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](s.HttpClient))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"root"}),e})();var zs=n(34434);let Bs=(()=>{class e{constructor(e,t){this._requireJs=e,this._window=t,this._descriptorsKey="_FileContentDescriptors",this._requestUrl=`conf/content/${this._descriptorsKey}`,this._remoteEntryFilename="remoteEntry.js"}_setupConfig(e){if(this._requireJs.specified(this._descriptorsKey))return;let t=this._requestUrl;e&&(t+=".js?hash="+e),this._requireJs.config({baseUrl:da(),paths:{[this._descriptorsKey]:t}})}_getUrls(e){const t=(0,wa.Z)(this._window,"Terrasoft.configuration.FileContentDescriptors");return t&&Object.keys(t)?Object.keys(t).filter((e=>e.endsWith(this._remoteEntryFilename))).map((n=>{const[i,r]=n.split(/\/(.*)/s);return function(e,t,n,i){let r=da()+["Terrasoft.Configuration/Pkg",e,"Files",t].join("/");return r+="?hash="+(((n||{})[e+"/"+t]||{}).Hash||i||"empty"),r}(i,r,t,e)})):[]}load(e){return this._setupConfig(e),new h.Observable((t=>{this._requireJs([this._descriptorsKey],(()=>(0,a.mG)(this,void 0,void 0,(function*(){const n=this._getUrls(e);yield Promise.all(n.map((e=>{const t=e.split("/"),n=t[t.length-2];return(0,zs.V)({type:"script",remoteName:n,remoteEntry:e,exposedModule:"./RemoteEntry"}).catch(console.warn)}))),t.next(),t.complete()}))),(e=>{console.warn(e),t.next(),t.complete()}))}))}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](pa),l["ɵɵinject"](xa))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"root"}),e})();const Gs={provide:l.APP_INITIALIZER,useFactory:function(e,t){return()=>e.loadApplicationInfo().pipe((0,g.U)((e=>e.applicationInfo)),(0,Pn.w)((e=>{const n=e.configurationContentHash;return t.load(n)}))).toPromise()},deps:[Fr,Bs],multi:!0};var Hs=n(47320);class Us{constructor(e){var t;this.injector=e,this._loading=!1,this._classes=[],this.documentDirection=null,this.documentDirection="rtl"===(null===(t=e.get(en.Is))||void 0===t?void 0:t.value)?"rtl":null,this.changeDetectorRef=this.injector.get(l.ChangeDetectorRef)}get classes(){return this.getClasses()}set classes(e){this.setClasses(e)}get loading(){return this._loading}set loading(e){this._loading=Boolean(e);"boolean"==typeof e&&(e?this.handleStartLoadViewModelAttributes():this.handleFinishLoadViewModelAttributes())}handleStartLoadViewModelAttributes(){}handleFinishLoadViewModelAttributes(){}getClasses(){const e=this._classes.indexOf("crt-component-rounded");return"rounded"===this.shape?-1===e&&this._classes.push("crt-component-rounded"):e>=0&&this._classes.splice(e,1),this._classes}setClasses(e){this._classes=e}toggleClass(e,t,n){const i=e.indexOf(n);t&&-1===i&&e.push(n),!t&&i>=0&&e.splice(i,1)}switchClass(e,t,n){n.forEach((([n,i])=>{this.toggleClass(e,n===t,i)}))}setValuesFromConfig(e,t=[]){const n=(0,Hs.Z)(e,["id","name","type",...t]);Object.entries(n).forEach((([e,t])=>{this[e]=t}))}detectChanges(){this.changeDetectorRef.detectChanges()}}Us.ɵfac=function(e){return new(e||Us)(l["ɵɵdirectiveInject"](l.Injector))},Us.ɵdir=l["ɵɵdefineDirective"]({type:Us,hostVars:1,hostBindings:function(e,t){2&e&&l["ɵɵattribute"]("dir",t.documentDirection)},inputs:{name:"name",id:"id",tabIndex:"tabIndex",styles:"styles",shape:"shape",classes:"classes",loading:"loading"}}),(0,a.gn)([(0,r.CrtInput)(),(0,a.w6)("design:type",Boolean),(0,a.w6)("design:paramtypes",[Boolean])],Us.prototype,"loading",null);let Zs=(()=>{class e{constructor(e,t){this.caption="",e.addSvgIconLiteral("placeholder",t.bypassSecurityTrustHtml(n(57421)))}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](St.jv),l["ɵɵdirectiveInject"](i.DomSanitizer))},e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["crt-view-element-placeholder"]],inputs:{caption:"caption"},decls:4,vars:1,consts:[[1,"placeholder-container"],["svgIcon","placeholder",1,"icon"]],template:function(e,t){1&e&&(l["ɵɵelementStart"](0,"div",0),l["ɵɵelement"](1,"mat-icon",1),l["ɵɵelementStart"](2,"span"),l["ɵɵtext"](3),l["ɵɵelementEnd"](),l["ɵɵelementEnd"]()),2&e&&(l["ɵɵadvance"](3),l["ɵɵtextInterpolate"](t.caption))},directives:[St.Hw],styles:[".placeholder-container[_ngcontent-%COMP%]{display:flex;width:100%;height:100%;align-content:center;justify-content:center;border-radius:8px;position:relative;overflow:hidden}.placeholder-container[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:100%;height:100%;max-height:64px;max-width:72px;align-self:center}.placeholder-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;top:50%;left:8px;right:8px;transform:translateY(-50%);overflow:hidden;width:calc(100% - 16px);text-overflow:ellipsis}"]}),e})(),$s=(()=>{class e{}return e.ɵfac=function(t){return new(t||e)},e.ɵmod=l["ɵɵdefineNgModule"]({type:e}),e.ɵinj=l["ɵɵdefineInjector"]({imports:[[o.CommonModule,St.Ps]]}),e})();("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"]($s,{declarations:[Zs],imports:[o.CommonModule,St.Ps],exports:[Zs]});class Ws{get(e){return Ws.designElementRegistrationInfos.get(e)}}Ws.designElements=new Map,Ws.designElementRegistrationInfos=new Map,Ws.ɵfac=function(e){return new(e||Ws)},Ws.ɵprov=l["ɵɵdefineInjectable"]({token:Ws,factory:Ws.ɵfac,providedIn:"root"});let qs=(()=>{class e{canResolve(e){return Ws.designElements.has(e)}getViewElementType(e){return Ws.designElements.get(e)}getSelector(e){const t=Ws.designElementRegistrationInfos.get(e);return null==t?void 0:t.selector}}return e.ɵfac=function(t){return new(t||e)},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})(),Ys=(()=>{class e{getDesignViewElementConfigs(){const e=new Map;return Ws.designElementRegistrationInfos.forEach(((t,n)=>{const i=t.toolbarConfig;i&&e.set(n,i)})),e}}return e.ɵfac=function(t){return new(t||e)},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})(),Js=(()=>{class e{constructor(){this._globalConvertersRegistry=r.GlobalConvertersRegistryService}get(e){return this._globalConvertersRegistry.get(e)}register(e,t){this._globalConvertersRegistry.register(e,t)}clear(){this._globalConvertersRegistry.clear()}}return e.ɵfac=function(t){return new(t||e)},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"root"}),e})(),Qs=(()=>{class e{canResolve(e){return r.ViewElementRegistry.viewElements.has(e)}getViewElementType(e){const t=r.ViewElementRegistry.viewElements.get(e);return t&&"typeRef"in t?t.typeRef:null}getSelector(e){const t=r.ViewElementRegistry.viewElements.get(e);return t&&"selector"in t?t.selector:null}}return e.ɵfac=function(t){return new(t||e)},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})();function Ks(e){return function(t){(0,r.checkTypeNameFormat)(e.type,"DesignViewElementTypeName"),(0,r.checkCrtTypeNamePascalCase)(e.type),(null==e?void 0:e.overrideType)&&Ws.designElements.set(e.overrideType,t),Ws.designElements.set(e.type,t),Ws.designElementRegistrationInfos.set(e.type,e)}}n(78320);function Xs(e){return function(t){(0,r.checkTypeNamePascalCase)(e.type);const n=function(e){const t=Reflect.getMetadataKeys(e).filter((e=>e.startsWith(r.crtInputPrefix)));return Object.fromEntries(t.map((t=>{const n=Reflect.getMetadata(t,e);return[t.replace(r.crtInputPrefix,""),n]})))}(t),i=Object.assign(Object.assign({},e),{inputs:n,typeRef:t});(0,r.setViewElementMetadata)(i,t)}}const el=new l.InjectionToken("CRT_BINDING_CONTEXT_DESIGN_TIME"),tl=new l.InjectionToken("CRT_BINDING_CONTEXT"),nl=new l.InjectionToken("IS_DESIGN_TIME"),il=new l.InjectionToken("CRT_VIEW_ELEMENT_CONFIG");var rl=n(71289);let al=(()=>{class e{resolveModelConfig(e){return null}}return e.ɵfac=function(t){return new(t||e)},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"root"}),e})(),ol=(()=>{class e{constructor(){this.account={attributes:{Name:{},Ships:{isCollection:!0,viewModelConfig:"ship"},Employee:{viewModelConfig:"employee"}}},this.ship={attributes:{Id:{}}},this.employee={attributes:{Name:{},Age:{}}}}resolveModelConfig(e){return(0,h.of)(this[e]).pipe((0,rl.g)(50))}}return e.ɵfac=function(t){return new(t||e)},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"root"}),e})();var sl=(()=>(function(e){e.ChangeAttributeValue="change-attribute-value",e.ViewModelEvent="view-model-event",e.ModelDataLoaded="model-data-loaded-event",e.LoadDefaultValues="load-default-values",e.StartLoadModelAttributes="start-load-model-attributes",e.FinishLoadModelAttributes="finish-load-model-attributes",e.ViewEvent="view-event"}(sl||(sl={})),sl))();let ll=class extends r.BaseRequest{constructor(){super(...arguments),this.type="crt.HandleViewModelInitRequest"}};ll=(0,a.gn)([(0,r.CrtRequest)({type:"crt.HandleViewModelInitRequest"})],ll);let cl=class extends r.BaseRequest{constructor(){super(...arguments),this.type="crt.HandleViewModelDestroyRequest"}};cl=(0,a.gn)([(0,r.CrtRequest)({type:"crt.HandleViewModelDestroyRequest"})],cl);let dl=class extends r.BaseRequest{constructor(e){super(),this.type="crt.HandleViewModelAttributeChangeRequest",this.attributeName=e.attributeName,this.value=e.value,this.oldValue=e.oldValue,this.silent=Boolean(e.silent)}};dl=(0,a.gn)([(0,r.CrtRequest)({type:"crt.HandleViewModelAttributeChangeRequest"}),(0,a.w6)("design:paramtypes",[Object])],dl);let ul=class extends r.BaseRequest{constructor(){super(...arguments),this.type="crt.HandleModelEventRequest"}};ul=(0,a.gn)([(0,r.CrtRequest)({type:"crt.HandleModelEventRequest"})],ul);let pl=class extends r.BaseRequest{};pl=(0,a.gn)([(0,r.CrtRequest)({type:"crt.SaveRecordRequest",title:"InterfaceDesigner.PropertiesPages.ViewElementEventPropertiesPanel.Requests.SaveRecordRequest",position:400})],pl);let ml=class extends r.BaseRequest{};ml=(0,a.gn)([(0,r.CrtRequest)({type:"crt.RunBusinessProcessRequest",title:"InterfaceDesigner.PropertiesPages.ViewElementEventPropertiesPanel.Requests.RunBusinessProcessRequest",propertiesPanelComponentTypeName:"crt.RunBusinessProcessRequestPropertiesPanel",position:700})],ml);let hl=class extends r.BaseRequest{};hl=(0,a.gn)([(0,r.CrtRequest)({type:"crt.ClosePageRequest",title:"InterfaceDesigner.PropertiesPages.ViewElementEventPropertiesPanel.Requests.ClosePageRequest",position:600})],hl);let gl=class extends r.BaseRequest{};gl=(0,a.gn)([(0,r.CrtRequest)({type:"crt.CancelRecordChangesRequest",title:"InterfaceDesigner.PropertiesPages.ViewElementEventPropertiesPanel.Requests.CancelRecordChangesRequest",position:500})],gl);let fl=class extends r.BaseRequest{};fl=(0,a.gn)([(0,r.CrtRequest)({type:"crt.OpenPageRequest",title:"InterfaceDesigner.PropertiesPages.ViewElementEventPropertiesPanel.Requests.OpenPageRequest",propertiesPanelComponentTypeName:"crt.OpenPageRequestPropertiesPanel",position:350})],fl);let vl=class extends r.BaseRequest{};vl=(0,a.gn)([(0,r.CrtRequest)({type:"crt.PhoneLinkClickRequest"})],vl);let bl=class extends r.BaseRequest{};bl=(0,a.gn)([(0,r.CrtRequest)({type:"crt.EmailLinkClickRequest"})],bl);let Cl=class extends r.BaseRequest{constructor(){super(...arguments),this.type="crt.SetTopRecordRequest"}};Cl=(0,a.gn)([(0,r.CrtRequest)({type:"crt.SetTopRecordRequest"})],Cl);class yl{static register(e,t){yl._actionAppliers.set(e,t)}get(e){const t=yl._actionAppliers.get(e.typeName);if(!t)throw new Error(`Business rule applier for change type ${e.typeName} not found.`);return new t(e)}}function wl(e){return function(t){(0,r.checkTypeNameFormat)(e.type,"BusinessRulesActionApplierTypeName"),(0,r.checkCrtTypeNamePascalCase)(e.type),yl.register(e.type,t)}}yl._actionAppliers=new Map,yl.ɵfac=function(e){return new(e||yl)},yl.ɵprov=l["ɵɵdefineInjectable"]({token:yl,factory:yl.ɵfac});var _l=(()=>(function(e){e.Model="Model",e.ViewModel="ViewModel"}(_l||(_l={})),_l))();class xl{constructor(e){this.action=e}}let Il=class extends xl{apply(e,t){const n=this.action.value.value;if(t.type===_l.Model){const i=e.getViewModelAttributePath(t.id,this.action.expression.path);return e.setValue({[i]:n})}return e.setValue({[this.action.expression.path]:n})}};Il=(0,a.gn)([wl({type:"crt.SetValue"})],Il);let Sl=class extends xl{_createLookupFilterGroup(e,t){const n=new r.FilterGroup(r.LogicalOperatorType.And),i=new r.CompareFilter(r.ComparisonType.Equal,new r.ColumnExpression({columnPath:e}),new r.ParameterExpression({value:t}));return n.add(i,"lookupFilter"),n}_setFilterForScope(e,t){if(this.action.value){const{leftExpression:n,rightExpression:i}=this.action.value,r=this._createLookupFilterGroup(n,i.value);return e.setAttributeFilter(t,this.action.expression.path,r)}return e.setAttributeFilter(t,this.action.expression.path,new r.FilterGroup)}apply(e,t){return this._setFilterForScope(e,t.id)}};Sl=(0,a.gn)([wl({type:"crt.FilterLookup"})],Sl);var Ml=(()=>(function(e){e.ChangeAttributeValue="ChangeAttributeValue",e.ChangeAttributeProperty="ChangeAttributeProperty",e.DataLoaded="DataLoaded"}(Ml||(Ml={})),Ml))();let Dl=(()=>{class e{getRulesByContexts(e){return(0,h.of)([{}])}}return e.ɵfac=function(t){return new(t||e)},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})(),Pl=(()=>{class e{constructor(e,t){this._businessRulesManager=e,this._httpClient=t,this._serviceUrl="ServiceModel/BusinessRulesEngineService.svc/Execute"}execute(e){return this._businessRulesManager.getRulesByContexts(e).pipe((0,Pn.w)((t=>t?this._httpClient.post(this._serviceUrl,{contexts:e},{headers:new s.HttpHeaders({"Content-Type":"application/json"})}).pipe((0,g.U)((e=>e.businessRulesResponse))):(0,h.of)([]))))}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](Dl),l["ɵɵinject"](s.HttpClient))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})(),Tl=(()=>{class e{constructor(e){this._changeApplierFactory=e}applyRules(e,t){return t&&t.length>0&&t.forEach((t=>{const n={id:t.scopeId,name:t.scopeName,type:t.scopeType};t.rulesResult.forEach((t=>{t.actions.forEach((t=>{if(t.enabled){this._changeApplierFactory.get(t).apply(e,n)}}))}))})),(0,h.of)(null)}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](yl))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})(),kl=(()=>{class e{}return e.ɵfac=function(t){return new(t||e)},e.ɵmod=l["ɵɵdefineNgModule"]({type:e}),e.ɵinj=l["ɵɵdefineInjector"]({providers:[Pl,Dl,Tl,yl]}),e})();var El=n(77360),Nl=n(29735),Ol=n(59328),jl=n(304),Al=n(68939);class Rl extends Array{constructor(e){return super(),this.formBuilder=e,this._changed=new h.Subject,this._trackChanges=!0,Object.setPrototypeOf(this,Object.create(Rl.prototype)),new Proxy(this,{set:(e,t,n,i)=>{const r=e[t];return e[t]=n,this._trackChanges&&("length"===t&&n!==r?this._changed.next():isNaN(parseInt(t))||this._changed.next()),!0}})}get changed(){return this._changed.asObservable()}get formApiModel(){return new c.Oe(this.map((e=>e.formApiModel)))}merge(e,t){this._trackChanges=!1;for(const n of e){const e=this.find((e=>t&&e.attributes[t]===n.attributes[t]));e?this.splice(this.indexOf(e),1,n):this.push(n)}this._trackChanges=!0,this._changed.next()}reload(e){this._trackChanges=!1,this.clear(),null==e||e.forEach((e=>{super.push(e)})),this._trackChanges=!0,this._changed.next()}clear(){this.splice(0,this.length)}}const Fl=new l.InjectionToken("SCOPE_NAME"),Vl="invalidate-data-schema-cache";class Ll{constructor(e,t){this.dataSourceName=e,this.injector=t}init(e){return this.initialConfig=e,(0,h.of)(this)}load(e,t,n){return this.innerLoad(e,t,n)}save(e,t){return this.innerSave(e,t)}insert(e){return this.innerInsert(e)}delete(e){return this.innerDelete(e)}getSchema(){return this.dataSchema?(0,h.of)(this.dataSchema):this.innerGetSchema().pipe((0,En.b)((e=>{this.dataSchema=e})))}getLookupDataSchema(e){return this.innerGetLookupDataSchema(e)}getDefaultValues(){return this.innerGetDefaultValues()}canEdit(e){return this.innerCanEdit(e)}canDelete(e){return this.innerCanDelete(e)}canCreate(e){return this.innerCanCreate(e)}}class zl{constructor(e){var t;if(null!=e){this.name=e.name,e.caption&&(this.caption="string"==typeof e.caption?e.caption:Object.assign({},e.caption)),this.primaryAttributeName=e.primaryAttributeName,this.primaryDisplayAttributeName=e.primaryDisplayAttributeName,this.hierarchyAttributeName=e.hierarchyAttributeName,e.dataSourceConfig&&(this.dataSourceConfig=Object.assign(Object.assign({},e.dataSourceConfig),{config:Object.assign({},e.dataSourceConfig.config)}));const n=null!==(t=e.attributes)&&void 0!==t?t:[];this.attributes=n.map((e=>e.clone()))}else this.attributes=[]}findAttributeByName(e){var t;return null!==(t=this.attributes.find((t=>t.name===e)))&&void 0!==t?t:null}clone(){return new zl(this)}}var Bl=(()=>(function(e){e.OwnAttribute="Own",e.ForwardReferenceAttribute="ForwardReference",e.BackReferenceAttribute="BackReference"}(Bl||(Bl={})),Bl))();class Gl{constructor(e){if(null!=e){this.name=e.name,this.caption=e.caption,this.path=e.path,this.dataValueType=e.dataValueType,e.validators&&(this.validators=Object.assign({},e.validators||{}));const t=e.defaultValue;t&&(t instanceof h.Observable?this.defaultValue=t.pipe((0,g.U)((e=>this._getConvertDefaultValue(e)))):this.defaultValue=(0,h.of)(this._getConvertDefaultValue(t))),this.isValueCloneable=e.isValueCloneable,this.attributeType=e.attributeType,this.referenceSchemaName=e.referenceSchemaName}}get isDate(){return this.dataValueType===r.DataValueType.Date||this.dataValueType===r.DataValueType.DateTime||this.dataValueType===r.DataValueType.Time}get isImage(){return this.dataValueType===r.DataValueType.IMAGELOOKUP||this.dataValueType===r.DataValueType.Image}_getConvertDefaultValue(e){if(this.isDate){if(e instanceof Date){const t=new Date;return t.setTime(e.getTime()),t}return e}return"object"==typeof e?Object.assign({},e):e}clone(){return new Gl(this)}}var Hl=n(67114),Ul=n(47349);const Zl=50,$l=250,Wl=500,ql={max:2147483647,min:-2147483647},Yl={max:69999999999999.99,min:-69999999999999.99};class Jl{constructor(e,t){this._id=e,this.data=t,this.children=[],this.parent=null}get id(){return this._id}}class Ql{constructor(e=null){this._dataSchema=null==e?new zl:e.clone()}_createDataSchemaAttributeByConfig(e){const t=new Gl;return t.name=e.name,t.caption=e.caption,t.path=e.path,t.dataValueType=e.dataValueType,t.validators=Object.assign({},e.validators||{}),t.defaultValue=(0,h.of)("object"==typeof e.defaultValue?Object.assign({},e.defaultValue):e.defaultValue),t.isValueCloneable=e.isValueCloneable,t.attributeType=e.attributeType,t.referenceSchemaName=e.referenceSchemaName,t}setEntitySchemaColumnValidators(e,t){return e.isRequired&&this.setAttributeRequiredValidator(t),this.setAttributeTextDataValueTypeValidator(t,e.dataValueType).setAttributeNumberDataValueTypeValidator(t,e.dataValueType)}setAttributeValidator(e,t,n){const i=this._dataSchema.attributes.find((t=>t.name===e)),r=i.validators||{};return r[t]=n,i.validators=r,this}setAttributeRequiredValidator(e){return this.setAttributeValidator(e,"crt.Required",{type:"crt.Required"})}setAttributeMaxLengthValidator(e,t){return this.setAttributeValidator(e,"crt.MaxLength",{type:"crt.MaxLength",params:{maxLength:t}})}setAttributeTextDataValueTypeValidator(e,t){let n=0;switch(t){case r.DataValueType.SHORT_TEXT:n=Zl;break;case r.DataValueType.MEDIUM_TEXT:n=$l;break;case r.DataValueType.LONG_TEXT:n=Wl}return n?this.setAttributeMaxLengthValidator(e,n):this}setAttributeMinValueValidator(e,t){return this.setAttributeValidator(e,"crt.Min",{type:"crt.Min",params:{min:t}})}setAttributeMaxValueValidator(e,t){return this.setAttributeValidator(e,"crt.Max",{type:"crt.Max",params:{max:t}})}setAttributeMinMaxValidator(e,t,n){return this.setAttributeMinValueValidator(e,t).setAttributeMaxValueValidator(e,n)}setAttributeNumberDataValueTypeValidator(e,t){return[r.DataValueType.Float,r.DataValueType.FLOAT1,r.DataValueType.FLOAT2,r.DataValueType.FLOAT3,r.DataValueType.FLOAT4,r.DataValueType.FLOAT8,r.DataValueType.Money].includes(t)&&this.setAttributeMinMaxValidator(e,Yl.min,Yl.max),t===r.DataValueType.Integer&&this.setAttributeMinMaxValidator(e,ql.min,ql.max),this}setAttributesDefaultValue(e){return this._dataSchema.attributes.forEach((t=>{t.defaultValue=e.pipe((0,g.U)((e=>Aa(e[t.name],t.dataValueType))))})),this}addAttribute(e,t,n,i){const{name:r,caption:a,dataValueType:o,isValueCloneable:s,referenceSchemaName:l}=e,c=new Gl;return c.name=n||r,c.path=i||r,c.caption=a,c.dataValueType=o,c.isValueCloneable=!!s,c.attributeType=t,c.referenceSchemaName=l,c.validators={},this._dataSchema.attributes.push(c),this.setEntitySchemaColumnValidators(e,c.name),this}addOwnAttribute(e){return this.addAttribute(e,Bl.OwnAttribute,null,null)}addForwardReferenceAttribute(e,t,n){return this.addAttribute(e,Bl.ForwardReferenceAttribute,t,n)}setEntitySchema(e){var t,n;return this._dataSchema.dataSourceConfig={type:"crt.EntityDataSource",config:{entitySchemaName:e.name}},this._dataSchema.name=e.name,this._dataSchema.primaryAttributeName=null===(t=e.getPrimaryColumn())||void 0===t?void 0:t.name,this._dataSchema.primaryDisplayAttributeName=null===(n=e.getPrimaryDisplayColumn())||void 0===n?void 0:n.name,this._dataSchema.caption=e.caption,this._dataSchema.attributes=[],e.columns.forEach((e=>{this.addOwnAttribute(e)})),this}setDataSchemaConfig(e){var t;this._dataSchema.name=e.name,this._dataSchema.caption="string"==typeof e.caption?e.caption:Object.assign({},e.caption),this._dataSchema.primaryAttributeName=e.primaryAttributeName,this._dataSchema.primaryDisplayAttributeName=e.primaryDisplayAttributeName,this._dataSchema.dataSourceConfig=Object.assign(Object.assign({},e.dataSourceConfig),{config:Object.assign({},null===(t=e.dataSourceConfig)||void 0===t?void 0:t.config)});const n=e.attributes||[];return this._dataSchema.attributes=n.map((e=>this._createDataSchemaAttributeByConfig(e))),this}build(){return this._dataSchema.clone()}}let Kl=(()=>{class e{constructor(e,t){this._entitySchemaRepository=e,this._broadcastChannelFactory=t,this._dataSchemas=new Map,this._subscribeOnChangesInDesigner()}_subscribeOnChangesInDesigner(){this._broadcastChannelFactory.createInstance(Vl).messages$.subscribe((({schemaName:e})=>{this._removeCachedSchema(e)}))}_createEntityDataSchema(e){const t=new Ql;return t.setEntitySchema(e),(0,h.of)(t.build())}_getEntityDataSchema(e){return this._entitySchemaRepository.getSchemaByName(e).pipe((0,Pn.w)((e=>this._createEntityDataSchema(e))))}_removeCachedSchema(e){this._dataSchemas.has(e)&&this._dataSchemas.delete(e)}get(e){return this._dataSchemas.has(e)?(0,h.of)(this._dataSchemas.get(e)):this._getEntityDataSchema(e).pipe((0,En.b)((t=>this._dataSchemas.set(e,t))))}getByEntitySchema(e){const t=e.name;return this._dataSchemas.has(t)?(0,h.of)(this._dataSchemas.get(t)):this._createEntityDataSchema(e).pipe((0,En.b)((e=>this._dataSchemas.set(t,e))))}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](ya),l["ɵɵinject"](it))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"platform"}),e})();const Xl=e=>{switch(e){case r.DataValueType.Guid:return r.DataValueType.Guid;case r.DataValueType.Text:case r.DataValueType.SHORT_TEXT:case r.DataValueType.MEDIUM_TEXT:case r.DataValueType.MAXSIZE_TEXT:case r.DataValueType.LONG_TEXT:case r.DataValueType.HASH_TEXT:case r.DataValueType.COLOR:return r.DataValueType.Text;case r.DataValueType.Integer:case r.DataValueType.Enum:return r.DataValueType.Integer;case r.DataValueType.Float:case r.DataValueType.FLOAT1:case r.DataValueType.FLOAT2:case r.DataValueType.FLOAT3:case r.DataValueType.FLOAT4:case r.DataValueType.FLOAT8:case r.DataValueType.Money:return r.DataValueType.Float;case r.DataValueType.DateTime:case r.DataValueType.Date:case r.DataValueType.Time:return r.DataValueType.DateTime;case r.DataValueType.Lookup:return r.DataValueType.Lookup;case r.DataValueType.Boolean:return r.DataValueType.Boolean;case r.DataValueType.Blob:return r.DataValueType.Blob;default:throw new Error(`Type ${e} not implemented`)}};class ec{constructor(e){this._dataSchemaRepository=e}_getAttributeReferenceDataSchema(e,t){const n=e.attributes.find((e=>e.name===t));return e.primaryAttributeName===n.name?(0,h.of)(e):this._dataSchemaRepository.get(n.referenceSchemaName)}_getReferenceDataSchema(e,t){return this._dataSchemaRepository.get(e).pipe((0,Pn.w)((e=>this._getAttributeReferenceDataSchema(e,t))))}_buildEntityDataSourceRelations(e,t){if(0===t.length)return(0,h.of)(e);const n=e[e.length-1],i=t.shift();return this._getReferenceDataSchema(n.referenceSchemaName,n.referenceAttributeName).pipe((0,Pn.w)((e=>(0,h.forkJoin)({referenceSchema:(0,h.of)(e),referenceAttributeSchema:this._getAttributeReferenceDataSchema(e,i)}))),(0,g.U)((({referenceSchema:e,referenceAttributeSchema:t})=>({referenceSchemaName:e.name,referenceAttributeName:i,attributeName:t.primaryAttributeName}))),(0,En.b)((t=>e.push(t))),(0,Pn.w)((()=>this._buildEntityDataSourceRelations(e,t))))}_buildEntityDataSourceRelationsData(e){const t=e.relationPath.split("."),n=t.shift(),i=[];return this._getReferenceDataSchema(e.dataSchemaName,n).pipe((0,g.U)((t=>({referenceSchemaName:e.dataSchemaName,referenceAttributeName:n,attributeName:t.primaryAttributeName}))),(0,En.b)((e=>i.push(e))),(0,Pn.w)((()=>this._buildEntityDataSourceRelations(i,t))),(0,g.U)((e=>e.reverse())),(0,g.U)((t=>{const n=t[0],i=e.attributePath.split(".");return n.attributeName=i.pop(),t})))}_convertEntityDataSourceParameter(e){if(!e.relationsConfigs||0===e.relationsConfigs.length)return(0,h.of)(e);const t=e.relationsConfigs.map((e=>this._buildEntityDataSourceRelationsData(e).pipe((0,g.U)((t=>Object.assign(Object.assign({},e),{relationData:t}))))));return(0,h.forkJoin)(t).pipe((0,g.U)((t=>Object.assign(Object.assign({},e),{relationsConfigs:t}))))}convert(e,t=!1){return 0===e.length?(0,h.of)([]):t?(0,h.of)(e):(0,h.forkJoin)(e.map((e=>this._convertEntityDataSourceParameter(e))))}}class tc{_getExpressionColumnPath(e,t){const n=e.relationData.map((e=>ur.String.Format("[{referenceSchemaName}:{referenceAttributeName}:{attributeName}]",e))).join("."),i=e.attributePath.split("."),r=i.length>1?"{ownColumnPath}.{relationString}.{columnPath}":"{relationString}.{columnPath}";i.pop();const a={ownColumnPath:i.join("."),relationString:n,columnPath:t};return ur.String.Format(r,a)}_updateFilterLeftExpression(e,t){switch(e.expressionType){case r.ExpressionType.SchemaColumn:case r.ExpressionType.SubQuery:e.columnPath=this._getExpressionColumnPath(t,e.columnPath);break;case r.ExpressionType.Function:e.functionType!==r.FunctionType.Macros&&this._updateFilterLeftExpression(e.functionArgument,t)}}_updateRelatedFilterGroup(e,t){e instanceof r.FilterGroup?this._updateRelatedFilterGroupInstance(e,t):this._updateRelatedFilterGroupObject(e,t)}_updateRelatedFilterGroupObject(e,t){Object.values(e.items).forEach((e=>{this._updateRelatedFilter(e,t)}))}_updateRelatedFilterGroupInstance(e,t){e.filters.forEach((e=>this._updateRelatedFilter(e,t)))}_updateRelatedFilter(e,t){if(e.filterType!==r.FilterType.FilterGroup){const n=e.leftExpression;n&&this._updateFilterLeftExpression(n,t)}else this._updateRelatedFilterGroup(e,t)}convertToRelatedFilter(e,t=[]){if(!e)return e;if(t.length>1)throw new Error("Transition relations are not supported.");let n;if(e instanceof r.BaseFilter)n=e.clone();else{const t=JSON.stringify(e);n=JSON.parse(t)}return t.forEach((e=>{e.relationData&&0!==e.relationData.length&&this._updateRelatedFilter(n,e)})),n}}class nc extends Ll{constructor(e,t){super(e,t),this.dataSourceName=e,this._injector=t,this._entityDefaultValuesUrl="/rest/EntitySchemaService/GetEntityDefaultValues",this._queryExecutor=t.get(ps),this._entitySchemaService=t.get(ta),this._httpClient=this._injector.get(s.HttpClient),this._rightsService=this._injector.get(Fs),this._dataSchemaRepository=this._injector.get(Kl),this._entitySchemaRepository=this._injector.get(ya)}_convertToEntityDataSourceParameters(e,t=!1){return new ec(this._dataSchemaRepository).convert(e,t)}_buildSelectEsq(e,t,{sortingConfig:n,pagingConfig:i}){return this._convertToEntityDataSourceParameters(t).pipe((0,g.U)((e=>({esq:new r.EntitySchemaQuery(this._entitySchemaName),esqParameters:e}))),(0,En.b)((({esq:t})=>e.forEach((e=>t.addSchemaColumn(...e))))),(0,En.b)((({esq:e})=>{n&&n.columns.forEach(((t,n)=>{const i=e.findColumn(t.columnName),a=(0,r.toOrderDirection)(t.direction);i?i.withOrdering(a,n):e.addSchemaColumn(t.columnName).withOrdering(a,n)}))})),(0,En.b)((({esq:e})=>{i&&(e.rowsOffset=i.rowsOffset,e.rowCount=i.rowCount)})),(0,Pn.w)((({esq:e,esqParameters:t})=>this._applyParameters(t,e))))}_normalizeValue(e,t){switch(t){case r.DataValueType.Lookup:return e||null;case r.DataValueType.Date:case r.DataValueType.Time:case r.DataValueType.DateTime:if(e instanceof Date){let n;switch(t){case r.DataValueType.Date:n=is(ts.Date);break;case r.DataValueType.Time:n=is(ts.Time);break;case r.DataValueType.DateTime:n=is(ts.DateTime)}return`"${_o()(e).locale("en").format(n)}"`}return"string"==typeof e&&Date.parse(e)>0?`"${e}"`:e;default:return e}}_buildUpdateEsq(e,t){return this._convertToEntityDataSourceParameters(e,!0).pipe((0,g.U)((e=>({updateQuery:new r.UpdateQuery(this._entitySchemaName),esqParameters:e}))),(0,En.b)((({updateQuery:e})=>{Object.keys(t).forEach((n=>{const i=this._findEntitySchemaColumn(n);if(!i)throw new Error(`Column ${n} not found`);const r=t[n];this._isEntityColumnValue(r)&&e.addColumn(i.name,this._normalizeValue(r,i.dataValueType),Xl(i.dataValueType))}))})),(0,Pn.w)((({updateQuery:e,esqParameters:t})=>this._applyParameters(t,e))),(0,dr.K)((e=>(0,h.throwError)(e.message))))}_buildInsertEsq(e){const t=new r.InsertQuery(this._entitySchemaName);return Object.keys(e).forEach((n=>{const i=this._findEntitySchemaColumn(n);if(!i)throw new Error(`Column ${n} not found`);const r=e[n];this._isEntityColumnValue(r)&&t.addColumn(i.name,this._normalizeValue(r,i.dataValueType),Xl(i.dataValueType))})),t}_buildDeleteEsq(e){return this._convertToEntityDataSourceParameters(e,!0).pipe((0,Pn.w)((e=>{const t=new r.DeleteQuery(this._entitySchemaName);return this._applyParameters(e,t)})))}_checkOwnAttributes(e){return this.getSchema().pipe((0,Pn.w)((t=>{const n=t.attributes.filter((e=>e.attributeType!==Bl.OwnAttribute)).filter((t=>!(0,Hl.Z)(e[t.name])));return 0!==n.length?(0,h.throwError)(`Not valid attributes for this data source: ${n.map((e=>e.name)).join(",")}`):(0,h.of)(null)})))}_findEntitySchemaColumn(e){return this._entitySchema.columns.find((t=>t.name===e))}_createPrimaryColumnValueFilter(e){const t=e.relationsConfigs||[];if(t.length>1)throw new Error("Transition relations are not supported.");const n=t[0],i=n?n.dataSchemaName:this._entitySchemaName;return this._dataSchemaRepository.get(i).pipe((0,g.U)((e=>e.attributes.find((t=>t.name=e.primaryAttributeName)))),(0,g.U)((t=>{const n=new r.ColumnExpression({columnPath:t.name}),i=new r.ParameterExpression({value:e.value});return new r.CompareFilter(r.ComparisonType.Equal,n,i)})))}_createPrimaryDisplayValueFilter(e){const t=e.relationsConfigs||[];if(t.length>1)throw new Error("Transition relations are not supported.");const n=t[0],i=n?n.dataSchemaName:this._entitySchemaName;return this._dataSchemaRepository.get(i).pipe((0,g.U)((e=>e.primaryDisplayAttributeName)),(0,g.U)((t=>{const n=new r.ColumnExpression({columnPath:t}),i=new r.ParameterExpression({value:e.value});return new r.CompareFilter(e.comparisonType,n,i)})))}_createCustomFilter(e){let t={};return e.value&&(t="string"==typeof e.value?JSON.parse(e.value):e.value),(0,h.of)(t)}_createEmptyParameterFiler(e){const t=e.relationsConfigs||[];if(t.length>1)throw new Error("Transition relations are not supported.");if(0===t.length)return(0,h.of)({});const n=t[0];return this._dataSchemaRepository.get(n.dataSchemaName).pipe((0,g.U)((e=>e.primaryAttributeName)),(0,g.U)((e=>{const t=new r.ColumnExpression({columnPath:e});return new r.ExistsFilter(t,null)})))}_createEsqFilter(e){switch(e.type){case r.ModelParameterType.PrimaryColumnValue:return this._createPrimaryColumnValueFilter(e);case r.ModelParameterType.PrimaryDisplayValueFilter:return this._createPrimaryDisplayValueFilter(e);case r.ModelParameterType.Filter:return this._createCustomFilter(e);case r.ModelParameterType.Empty:return this._createEmptyParameterFiler(e)}}_applyParameters(e,t){if(0===e.length)return(0,h.of)(t);const n=e.map((e=>this._createEsqFilter(e).pipe((0,g.U)((t=>(new tc).convertToRelatedFilter(t,e.relationsConfigs))))));return(0,h.forkJoin)(n).pipe((0,En.b)((e=>{e.forEach((e=>{(0,bi.Z)(e)||t.filters.add(e)}))})),(0,g.U)((()=>t)))}_isEntityColumnValue(e){return"string"==typeof e||"number"==typeof e||"boolean"==typeof e||"bigint"==typeof e||e instanceof Date||!("object"!=typeof(t=e)||!(null===t||"value"in t&&"displayValue"in t));var t}_getDefaultValues(e){const t=`${this._entityDefaultValuesUrl}?entityName=${e}`;return this._httpClient.get(t).pipe((0,dr.K)((e=>this._catchErrorResponse(e))),(0,jr.j)("GetEntityDefaultValuesResult"),(0,g.U)((e=>{const t={};return e.forEach((e=>{const n=e.defaultValue;(0,El.Z)(n.value)||(t[e.name]=n.displayValue?n:n.value)})),t})))}_catchErrorResponse(e){return console.log(e),(0,h.of)({GetEntityDefaultValuesResult:[]})}_createForwardReferenceAttributes(e,t){return 0===t.size?(0,h.of)(e):this._entitySchemaService.getEntitySchemaColumnsInformationByPathsArray(this._entitySchema.uId,[...t.keys()]).pipe((0,En.b)((n=>{Object.entries(n).forEach((([n,i])=>{e.addForwardReferenceAttribute(i,t.get(n),n)}))})),(0,g.U)((()=>e)))}_createAttributesFromInitialConfig(e,t={}){const n=new Map;return Object.entries(t).forEach((([e,t])=>{"ForwardReference"===t.type&&n.set(t.path,e)})),this._createForwardReferenceAttributes(e,n)}_prepareAttributePairsForLoad(e){return this.getSchema().pipe((0,g.U)((t=>e.map((e=>{const n=t.attributes.find((t=>t.name===e));return(null==n?void 0:n.attributeType)===Bl.ForwardReferenceAttribute?[n.path,e]:[e,null]})))))}_shouldSkipLoad(e){return e.some((e=>e.type===r.ModelParameterType.Never))}innerLoad(e,t,n){return this._prepareAttributePairsForLoad(e).pipe((0,Pn.w)((e=>this._shouldSkipLoad(t)?(0,h.of)([]):this._buildSelectEsq(e,t,n||{}).pipe((0,Pn.w)((e=>this._queryExecutor.executeSelectQuery(e)))))),(0,g.U)((e=>e)))}innerSave(e,t){return this._checkOwnAttributes(t).pipe((0,Pn.w)((()=>this._buildUpdateEsq(e,t))),(0,Pn.w)((e=>this._queryExecutor.executeUpdateQuery(e))),(0,g.U)((e=>({success:1===e.rowsAffected,rowsAffected:e.rowsAffected,errorInfo:null}))),(0,dr.K)((e=>(0,h.throwError)({success:!1,rowsAffected:0,errorInfo:e}))))}innerInsert(e){return this._checkOwnAttributes(e).pipe((0,g.U)((()=>this._buildInsertEsq(e))),(0,Pn.w)((e=>(0,h.forkJoin)({response:this._queryExecutor.executeInsertQuery(e),dataSchema:this.getSchema()}))),(0,g.U)((({response:e,dataSchema:t})=>({success:1===e.rowsAffected,rowsAffected:e.rowsAffected,errorInfo:null,primaryAttributes:[{[t.primaryAttributeName]:e.id}]}))),(0,dr.K)((e=>(0,h.throwError)({success:!1,rowsAffected:0,errorInfo:e}))))}innerDelete(e){return this._buildDeleteEsq(e).pipe((0,Pn.w)((e=>this._queryExecutor.executeDeleteQuery(e))),(0,g.U)((e=>({success:1===e.rowsAffected,rowsAffected:e.rowsAffected,errorInfo:null}))),(0,dr.K)((e=>(0,h.throwError)({success:!1,rowsAffected:0,errorInfo:e}))))}innerGetSchema(){return this._dataSchemaRepository.get(this._entitySchemaName).pipe((0,g.U)((e=>new Ql(e))),(0,Pn.w)((e=>this._createAttributesFromInitialConfig(e,this.initialConfig.attributes))),(0,En.b)((e=>{const t=this._getDefaultValues(this._entitySchemaName).pipe((0,Ul.d)(1));e.setAttributesDefaultValue(t)})),(0,g.U)((e=>e.build())))}innerGetLookupDataSchema(e){const t=e.split(".")[0],n=this._findEntitySchemaColumn(t);if(!n)return(0,h.throwError)(`Can't find column with name '${t}'`);if(n.dataValueType!==r.DataValueType.Lookup)return(0,h.throwError)(`DataValueType for column '${t}' isn't lookup`);const i=this._entitySchema.uId;return this._entitySchemaService.getEntitySchemaColumnsInformationByPath(i,e).pipe((0,Pn.w)((e=>this._entitySchemaRepository.getSchemaByUId(e.referenceSchemaUId))),(0,Pn.w)((e=>this._dataSchemaRepository.getByEntitySchema(e))))}innerGetDefaultValues(){return this._getDefaultValues(this._entitySchemaName)}innerCanDelete(e){return this._rightsService.getCanDelete({schemaName:this.initialConfig.entitySchemaName,primaryColumnValue:e.primaryColumnValue})}innerCanCreate(e){const t={isNew:!0,schemaName:this.initialConfig.entitySchemaName};return this._rightsService.getCanEdit(t)}innerCanEdit(e){const t={primaryColumnValue:e.primaryColumnValue,isNew:!1,schemaName:this.initialConfig.entitySchemaName};return this._rightsService.getCanEdit(t)}init(e){return super.init(e).pipe((0,En.b)((()=>this._entitySchemaName=this.initialConfig.entitySchemaName)),(0,$r.zg)((e=>this._entitySchemaRepository.getSchemaByName(this.initialConfig.entitySchemaName).pipe((0,En.b)((e=>this._entitySchema=e)),(0,g.U)((()=>e))))))}}class ic extends Ll{innerLoad(e,t,n){throw new Error("Method not implemented.")}innerSave(e,t){throw new Error("Method not implemented.")}innerInsert(e){throw new Error("Method not implemented.")}innerDelete(e){throw new Error("Method not implemented.")}innerGetSchema(){throw new Error("Method not implemented.")}innerGetLookupDataSchema(e){throw new Error("Method not implemented.")}innerGetDefaultValues(){throw new Error("Method not implemented.")}innerCanDelete(e){throw new Error("Method not implemented.")}innerCanEdit(e){throw new Error("Method not implemented.")}innerCanCreate(e){throw new Error("Method not implemented.")}}let rc=(()=>{class e{resolve(e){let t=null;switch(e){case"crt.EntityDataSource":t=nc;break;case"crt.WebServiceDataSource":t=ic;break;default:t=null}return(0,h.of)(t)}}return e.ɵfac=function(t){return new(t||e)},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})(),ac=(()=>{class e{constructor(e,t){this.injector=e,this.resolver=t}create(e,t,n={}){return this.resolver.resolve(t).pipe((0,Pn.w)((i=>{if(!i)return(0,h.throwError)(`Data source type '${t}' not supported.`);return new i(e,this.injector).init(n)})))}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](l.Injector),l["ɵɵinject"](rc))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})();var oc=(()=>(function(e){e.Create="create",e.Update="update",e.Delete="delete"}(oc||(oc={})),oc))();let sc=(()=>{class e{constructor(){this._event$=new h.Subject}get event$(){return this._event$.asObservable()}notify(e){this._event$.next(e)}}return e.ɵfac=function(t){return new(t||e)},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"platform"}),e})();class lc{constructor(e,t){this._injector=e,this.dataSource=t,this._lookupDataSourceName="lookupDataSource",this._id=(0,r.generateGuid)(),this._mode=r.ModelMode.Create,this._isInitialized=!1,this._isLoaded=!1,this._dirtyAttributes=new Set,this._loadedData=new Set,this._injector&&(this._dataSourceFactory=this._injector.get(ac),this._modelEventNotificationService=this._injector.get(sc))}static get instance(){return this._instance||(this._instance=new lc(null,null)),this._instance}get _actionType(){return this._mode===r.ModelMode.Update?oc.Update:oc.Create}static create(e){return(0,h.from)(this.instance._create({type:"crt.EntityDataSource",config:{entitySchemaName:e}},""))}get name(){return this.dataSource?this.dataSource.dataSourceName:""}get isLoaded(){return this._isLoaded}get event$(){return this._modelEventNotificationService.event$.pipe((0,f.h)((()=>this._isInitialized)),(0,f.h)((e=>e.modelId!==this._id)),(0,f.h)((e=>e.dataSchemaName===this._dataSchemaName)),(0,g.U)((e=>({event:e,ownPrimaryAttributesValues:e.payload.primaryAttributesValues.filter((e=>{const t=this._serializeRecordPrimaryAttributesValues(e);return this._loadedData.has(t)}))}))),(0,f.h)((({event:e,ownPrimaryAttributesValues:t})=>e.type!==oc.Update&&e.type!==oc.Delete||0!==t.length)),(0,g.U)((({event:e,ownPrimaryAttributesValues:t})=>({event:e,primaryAttributesValues:e.type===oc.Create?e.payload.primaryAttributesValues:t}))),(0,g.U)((({event:e,primaryAttributesValues:t})=>({modelId:e.modelId,dataSchemaName:e.dataSchemaName,type:e.type,payload:{primaryAttributesValues:t}}))))}get dataSchemaName(){return this._dataSchemaName}_getPrimaryAttributesNames(e){return[e.primaryAttributeName]}_serializeRecordPrimaryAttributesValues(e){return e.map((e=>`${e.name}:${e.value}`)).join(";")}_registerPrimaryAttributeValues(e){e.forEach((e=>{this._loadedData.add(this._serializeRecordPrimaryAttributesValues(e))}))}_getPrimaryAttributeValues$(e){return this.getSchema().pipe((0,g.U)((e=>this._getPrimaryAttributesNames(e))),(0,g.U)((t=>e.map((e=>t.map((t=>({name:t,value:e[t]}))))))))}_createDataSource(e,t){return this._dataSourceFactory.create(e,t.dataSourceConfig.type,t.dataSourceConfig.config)}_getPrimaryLoadAttributes(e){const t=[];return e.primaryAttributeName&&t.push(e.primaryAttributeName),e.primaryDisplayAttributeName&&t.push(e.primaryDisplayAttributeName),t}_getOwnColumnsValues(e){return this.getSchema().pipe((0,g.U)((t=>{if(t.attributes){const n=t.attributes.filter((e=>e.attributeType===Bl.OwnAttribute)).map((e=>e.name)).filter((t=>!(0,Hl.Z)(e[t]))).map((t=>[t,e[t]]));return Object.fromEntries(n)}return e})))}_getPrimaryAttributeValuesFromParameters(e){const t=e.filter((e=>e.type===r.ModelParameterType.PrimaryColumnValue));return t.length?this.getSchema().pipe((0,g.U)((e=>t.map((t=>({[e.primaryAttributeName]:t.value})))))):(0,h.of)(null)}_notifyEventByParameters(e,t){return this._getPrimaryAttributeValuesFromParameters(e).pipe((0,$r.zg)((e=>this._notifyDataChange(e,t))))}_notifyDataChange(e,t){return this._getPrimaryAttributeValues$(e).pipe((0,En.b)((e=>{this._modelEventNotificationService.notify({modelId:this._id,dataSchemaName:this._dataSchemaName,type:t,payload:{primaryAttributesValues:e}})})),(0,g.U)((()=>null)))}_getPrimaryAttributeValuesFromData(e,t){const n=this._getPrimaryAttributesNames(t);return n.length?n.filter((t=>e[t])).map((t=>({[t]:e[t]}))):null}_mapSaveResult(e,t,n){return this.getSchema().pipe((0,g.U)((i=>{var r;return{result:e,actionType:oc.Update,data:null!==(r=this._getPrimaryAttributeValuesFromData(t,i))&&void 0!==r?r:this._getPrimaryAttributeValuesFromParameters(n)}})))}_mapInsertResult(e){var t;return{data:null!==(t=e.primaryAttributes)&&void 0!==t?t:[],result:e,actionType:oc.Create}}_getLoadAttributes(e){return e&&0!==e.length?(0,h.of)(e):this.getSchema().pipe((0,g.U)((e=>{const t=[...this._getPrimaryAttributesNames(e)];return e.primaryAttributeName&&t.push(e.primaryDisplayAttributeName),t})))}_getDataSourceLoadOptions(e){const t={};return(null==e?void 0:e.pagingConfig)&&(t.pagingConfig=e.pagingConfig),(null==e?void 0:e.sortingConfig)&&(t.sortingConfig=e.sortingConfig),t}_getChangedAttributesValues(e){return this._persistedState?Object.entries(e).filter((([e])=>this._dirtyAttributes.has(e))).reduce(((e,[t,n])=>Object.assign(e,{[t]:n})),{}):e}_processImageData(e,t){return this.getSchema().pipe((0,g.U)((e=>this._getImageAttributes(e,t))),(0,g.U)((t=>{t.length>0&&e.forEach((e=>this._addImageUrl(t,e)))})),(0,g.U)((()=>e)))}_getImageAttributes(e,t){const n=[];return t.forEach((t=>{const i=e.findAttributeByName(t);(null==i?void 0:i.isImage)&&n.push(i)})),n}_addImageUrl(e,t){e.forEach((e=>{switch(e.dataValueType){case r.DataValueType.IMAGELOOKUP:this._setImageLookupTypeUrl(t,e.name);break;case r.DataValueType.Image:this._setBlobTypeUrl(t,e.name)}}))}_setImageLookupTypeUrl(e,t){const n=e[t],i=null==n?void 0:n.value;i&&(n.url=$a(i))}_setBlobTypeUrl(e,t){const n=e[t];if(n){const i=e.Id;e[t]={value:n,url:$a(i,this.dataSchemaName,t)}}}init(){return this.getSchema().pipe((0,En.b)((e=>this._dataSchemaName=e.name)),(0,g.U)((()=>this)),(0,En.b)((()=>this._isInitialized=!0)),(0,Tn.q)(1))}getSchema(){return this.dataSource?this.dataSource.getSchema():(0,h.of)(null)}getDataSource(){return this.dataSource}_load(e,t,n,i=r.ModelMode.Update){return(0,h.defer)((()=>{const r=this._isLoaded;return this._isLoaded=!0,this._getLoadAttributes(e).pipe((0,Pn.w)((e=>this.dataSource.load(e,t,n))),(0,En.b)((()=>{this._mode=i})),(0,$r.zg)((e=>this._getPrimaryAttributeValues$(e).pipe((0,En.b)((e=>this._registerPrimaryAttributeValues(e))),(0,g.U)((()=>e)),(0,En.b)((()=>{this._persistedState={}}))))),(0,$r.zg)((t=>this._processImageData(t,e))),(0,dr.K)((e=>(r||(this._isLoaded=!1),(0,h.of)(e)))))}))}load(e){const t=null==e?void 0:e.attributes,n=(null==e?void 0:e.parameters)||[],i=this._getDataSourceLoadOptions(null==e?void 0:e.options);return this._load(t,n,i)}create(e={}){return this.dataSource.getDefaultValues().pipe((0,g.U)((t=>(this._persistedState=Object.assign(Object.assign({},t),e),null))))}copy(e,t={}){return this.getSchema().pipe((0,g.U)((t=>({schema:t,attributes:t.attributes.filter((e=>e.attributeType===Bl.OwnAttribute&&e.isValueCloneable)).map((e=>e.name)),parameters:"string"==typeof e?[{type:r.ModelParameterType.PrimaryColumnValue,value:e}]:this._getPrimaryAttributesNames(t).filter((t=>e[t])).map((t=>({type:r.ModelParameterType.PrimaryColumnValue,value:{[t]:e[t]}})))}))),(0,$r.zg)((({schema:e,attributes:n,parameters:i})=>this._load(n,i,{},r.ModelMode.Copy).pipe((0,En.b)((e=>{if(e.length>1)throw new Error("More than one record loaded for copy");if(0===e.length)throw new Error("No records loaded for copy")})),(0,g.U)((n=>{const i=Object.assign({},n[0]);return this._getPrimaryAttributesNames(e).forEach((e=>delete i[e])),Object.assign(Object.assign({},i),t)})),(0,En.b)((e=>{this._persistedState=Object.assign({},e)})),(0,dr.K)((e=>(this._mode=r.ModelMode.Update,(0,h.throwError)(e))))))))}insert(e){var t;const n=Object.assign(Object.assign({},null!==(t=this._persistedState)&&void 0!==t?t:{}),e);return this._getOwnColumnsValues(n).pipe((0,Pn.w)((e=>this.dataSource.insert(e))),(0,g.U)((e=>this._mapInsertResult(e))),(0,En.b)((()=>{this._mode=r.ModelMode.Update,this._persistedState={}})),(0,$r.zg)((({actionType:e,data:t,result:n})=>this._notifyDataChange(t,e).pipe((0,co.h)(n)))))}update(e,t){return this._getOwnColumnsValues(e).pipe((0,g.U)((e=>this._getChangedAttributesValues(e))),(0,$r.zg)((e=>this.dataSource.save(t,e).pipe((0,$r.zg)((n=>this._mapSaveResult(n,e,t)))))),(0,$r.zg)((({result:e})=>this._notifyEventByParameters(t,oc.Update).pipe((0,co.h)(e)))),(0,En.b)((()=>{this.setLoadedState()})))}insertOrUpdate(e,t){return this._mode===r.ModelMode.Update?this.update(e,t):this.insert(e)}delete(e){return this.dataSource.delete(e).pipe((0,$r.zg)((t=>this._notifyEventByParameters(e,oc.Delete).pipe((0,co.h)(t)))))}loadLookupList(e,t,n={}){if(!this.dataSource)throw Error("DataSource is null");return this.dataSource.getLookupDataSchema(e).pipe((0,Pn.w)((e=>{const i=this._getPrimaryLoadAttributes(e);return this._createDataSource(this._lookupDataSourceName,e).pipe((0,Pn.w)((e=>e.load(i,t,n))),(0,g.U)((t=>({primaryAttributeName:e.primaryAttributeName,primaryDisplayAttributeName:e.primaryDisplayAttributeName,data:t}))))})))}canDelete(e){return(0,a.mG)(this,void 0,void 0,(function*(){return yield this.dataSource.canDelete(e).toPromise()}))}canSave(e){return(0,a.mG)(this,void 0,void 0,(function*(){return this._actionType===oc.Update?yield this.dataSource.canEdit(e).toPromise():yield this.dataSource.canCreate(e).toPromise()}))}attributeChanged(e){this._dirtyAttributes.add(e)}setLoadedState(){this._dirtyAttributes=new Set}}(0,a.gn)([(0,r.ImplementUsingHandlerChain)({requestType:"crt.ModelGenerator",methodName:"generateOne"}),(0,a.w6)("design:type",Function)],lc.prototype,"_create",void 0);let cc=class{constructor(e,t){this.dataSourceFactory=e,this._injector=t}_createModel(e=null){return new lc(this._injector,e).init()}_validateModelConfig(e){var t;if(e.primaryDataSourceName&&!e.dataSources[e.primaryDataSourceName])throw new Error(`Data source "${e.primaryDataSourceName}" cannot be primary data source. Data source "${e.primaryDataSourceName}" not found in model config.`);if(e.primaryDataSourceName&&(null===(t=e.dataSources[e.primaryDataSourceName])||void 0===t?void 0:t.scope)===r.DataSourceScope.ViewElement)throw new Error(`Data source "${e.primaryDataSourceName}" with scope "viewElement" cannot be primary. Only data sources with scope "page" can be primary`)}_generateFromConfig(e){const t=Object.entries((null==e?void 0:e.dataSources)||{});if(0===t.length)return(0,h.of)([]);this._validateModelConfig(e);const n=t.map((([e,t])=>this.generateOne(t,e)));return(0,h.forkJoin)(n)}generate(e){return this._generateFromConfig(e)}generateOne(e,t){return this.dataSourceFactory.create(t,e.type,e.config).pipe((0,$r.zg)((e=>this._createModel(e))))}};cc.ɵfac=function(e){return new(e||cc)(l["ɵɵinject"](ac),l["ɵɵinject"](l.Injector))},cc.ɵprov=l["ɵɵdefineInjectable"]({token:cc,factory:cc.ɵfac}),cc=(0,a.gn)([bt({requestType:"crt.ModelGenerator"}),(0,a.w6)("design:paramtypes",[ac,l.Injector])],cc);class dc{constructor(e){this.injector=e}static _has(e,t){var n;return dc.validators.has(e)&&(null===(n=dc.validators.get(e))||void 0===n?void 0:n.instanceType)!==t}static register(e,t){if(dc.checkTypeName(e.type),(0,r.checkCrtTypeNamePascalCase)(e.type),dc._has(e.type,t))throw new Error(`Error when register ${e.type} type. Element with this type has already exist`);dc.validators.set(e.type,{instanceType:t,instanceConfig:e})}static checkTypeName(e){(0,r.checkTypeNameFormat)(e,"ValidatorTypeName")}get(e,t){const n=dc.validators.get(e),i=null==n?void 0:n.instanceType;if(!i)throw new Error(`Type ${e} was not registered`);return new i(this.injector,n.instanceConfig.async,t)}}function uc(e){return function(t){if(!function(e){return e.startsWith("crt.")}(e.type))throw new Error(`Error when register ${e.type} type. Type property should have format "VendorPrefix.TypeName"`);dc.register(e,t)}}dc.validators=new Map,dc.ɵfac=function(e){return new(e||dc)(l["ɵɵinject"](l.Injector))},dc.ɵprov=l["ɵɵdefineInjectable"]({token:dc,factory:dc.ɵfac,providedIn:"root"});class pc{constructor(e,t,n){this.injector=e,this.async=t,this.params=n}get isAsync(){return this.async}get validateFn(){return this.validate.bind(this)}defaultValidationError(e){var t,n;const i=null===(t=this.injector)||void 0===t?void 0:t.get(u.sK),r=null!=e?e:Object.assign({},this.params),a=null==i?void 0:i.instant(this.i18nMessageKey,r);return{message:(null===(n=this.params)||void 0===n?void 0:n.message)||a||""}}}let mc=class extends pc{constructor(){super(...arguments),this.i18nMessageKey="Validators.Required.Message"}validate(e){return c.kI.required(e)?{required:this.defaultValidationError()}:null}};mc=(0,a.gn)([uc({type:"crt.Required",async:!1})],mc);let hc=class extends pc{constructor(){super(...arguments),this.i18nMessageKey="Validators.MaxLength.Message"}validate(e){const t=c.kI.maxLength(this.params.maxLength)(e);return t?{maxlength:this.defaultValidationError(Object.assign(Object.assign({},this.params),t.maxlength))}:null}};hc=(0,a.gn)([uc({type:"crt.MaxLength",async:!1})],hc);let gc=class extends pc{constructor(){super(...arguments),this.i18nMessageKey="Validators.MinLength.Message"}validate(e){const t=c.kI.minLength(this.params.minLength)(e);return t?{minlength:this.defaultValidationError(Object.assign(Object.assign({},this.params),t.minlength))}:null}};gc=(0,a.gn)([uc({type:"crt.MinLength",async:!1})],gc);let fc=class extends pc{constructor(){super(...arguments),this.i18nMessageKey="Validators.Required.Message"}validate(e){var t,n;const i=e.value;return("string"==typeof i?!(!e||!(null===(t=e.value)||void 0===t?void 0:t.trim())):!!(null===(n=i)||void 0===n?void 0:n.find((e=>e.value&&e.value.trim()))))?null:{required:this.defaultValidationError()}}};fc=(0,a.gn)([uc({type:"crt.EmptyOrWhiteSpace",async:!1})],fc);let vc=class extends pc{constructor(){super(...arguments),this.i18nMessageKey="Validators.Max.Message"}validate(e){const t=c.kI.max(this.params.max)(e);return t?{max:this.defaultValidationError(Object.assign(Object.assign({},this.params),t.max))}:null}};vc=(0,a.gn)([uc({type:"crt.Max",async:!1})],vc);let bc=class extends pc{constructor(){super(...arguments),this.i18nMessageKey="Validators.Min.Message"}validate(e){const t=c.kI.min(this.params.min)(e);return t?{min:this.defaultValidationError(Object.assign(Object.assign({},this.params),t.min))}:null}};bc=(0,a.gn)([uc({type:"crt.Min",async:!1})],bc);class Cc{constructor(e=null,t=null,n=!1){this.value=e,this.validationState=t,this.disabled=n}change(e){this.value=e}}class yc extends Cc{constructor(e){super(e.value,e.errors,e.disabled),this._formControl=e}change(e){super.change(e),this._formControl.setValue(e)}}class wc{}class _c{constructor(e){this._attributesMap=new Map,this._mappedViewModelAttributes=new Set,this.attributes=[],this.name=e}get attributesMap(){return this._attributesMap}get mappedViewModelAttributes(){return this._mappedViewModelAttributes}get isCollection(){return this._isCollection}get collectionViewModelAttributeName(){return this._collectionViewModelAttributeName}static _getDataSourceInfo(e,t){if(!e.has(t)){const n=new _c(t);return e.set(t,n),n}return e.get(t)}static _extractViewModelAttributeMapInfo(e){const t=e.split(".");return{dataSourceName:t.shift(),dataSourceAttributePath:t.join(".")}}static _getByDefaultAttribute(e,t,n,i=""){const r=t.modelConfig;if(!r||!r.path)return;const a=this._extractViewModelAttributeMapInfo(r.path);if(!a.dataSourceAttributePath)return void this._getByViewModelCollectionAttribute(e,t,n);if(i&&i!==a.dataSourceName)throw new Error(`Attribute '${e}' mapped on a few DataSources`);const o=this._getDataSourceInfo(n,a.dataSourceName);o.attributes.push({path:a.dataSourceAttributePath}),o._mappedViewModelAttributes.add(e),o._attributesMap.set(e,a.dataSourceAttributePath)}static _getByInlineViewModelAttribute(e,t,n,i=""){const r=t.viewModelConfig||{};Object.entries(r.attributes||{}).forEach((([t,r])=>{const a=`${e}.${t}`;this._processViewModelAttribute(a,r,n,i)}))}static _getByViewModelCollectionAttribute(e,t,n){const i=t.modelConfig;if(!i||!i.path)return;const r=this._extractViewModelAttributeMapInfo(i.path).dataSourceName,a=this._getDataSourceInfo(n,r);a._isCollection=!0,a._collectionViewModelAttributeName=e,a._pagingConfig=i.pagingConfig,a._sortingConfig=i.sortingConfig,a._filteringConfig=i.filterAttributes;const o=t.viewModelConfig;Object.entries(o.attributes||{}).forEach((([t,i])=>{this._processViewModelAttribute(`${e}.${t}`,i,n,r)}))}static _processViewModelAttribute(e,t,n,i=""){"viewModelConfig"in t||"viewModelName"in t?t.isCollection?this._getByViewModelCollectionAttribute(e,t,n):this._getByInlineViewModelAttribute(e,t,n,i):this._getByDefaultAttribute(e,t,n,i)}static getFromViewModelConfig(e){const t=new Map;return Object.entries(e.attributes||{}).forEach((([e,n])=>{this._processViewModelAttribute(e,n,t)})),t}static getLookupListDataSourceInfo(e,t){const n=new _c("");return n._isCollection=!0,n._collectionViewModelAttributeName=e,Object.entries(t).forEach((([e,t])=>{n.attributes.push({path:t}),n._mappedViewModelAttributes.add(e),n._attributesMap.set(e,t)})),n}_getRowModelDto(e){const t=e.length>0?e[0]:{},n={};return Object.entries(t).forEach((([e,t])=>{const i=this.getMappedAttributeName(e);if(i){const e=i.split(".");this.isCollection&&e.length>1&&e.shift(),(0,lo.Z)(n,e.join("."),t)}})),n}_getCollectionModelDto(e){return{[this._collectionViewModelAttributeName]:e.map((e=>this._getRowModelDto([e])))}}getMappedAttributes(){return Array.from(this._mappedViewModelAttributes.values())}getMappedAttributeName(e){const t=Array.from(this._attributesMap.entries()).find((([,t])=>t===e));return t?t[0]:""}getDataSourceAttributePath(e){return this._attributesMap.has(e)?this._attributesMap.get(e):""}getIsMapOnCollection(e){return this._isCollection&&this._collectionViewModelAttributeName===e}getPagingConfig(){return this._pagingConfig}getSortingConfig(){return this._sortingConfig}getFilteringConfig(){return this._filteringConfig||[]}getModelDto(e){return this._isCollection?this._getCollectionModelDto(e):this._getRowModelDto(e)}addNewAttribute(e,t,n){const i=new Map;i.set(this.name,this),_c._getByDefaultAttribute(e,t,i,n)}getIsDataSourceAttributePathExists(e){return void 0!==this.attributes.find((t=>t.path===e))}}let xc=class extends pc{constructor(){super(...arguments),this.i18nMessageKey="Validators.RegExp.Message"}validate(e){const t=this.params.regex.test(e.value);return this.i18nMessageKey=this.params.message||this.i18nMessageKey,t?null:{[this.params.errorCode]:this.defaultValidationError(Object.assign({},this.params))}}};xc=(0,a.gn)([uc({type:"crt.RegExp",async:!1})],xc);let Ic=(()=>{class e{transform(e){return function(t){const n=new yc(t);return e.validate.call(e,n)}}}return e.ɵfac=function(t){return new(t||e)},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})();function Sc(e,t){var n;return(0,a.mG)(this,void 0,void 0,(function*(){const i=e.getBoundDataSchema(t),r=e.getBoundDataSourceName(t),a=null==i?void 0:i.attributes.find((n=>e.getViewModelAttributePath(r,n.name)===t));return Object.assign(Object.assign({},a),{referenceSchemaName:null!==(n=null==a?void 0:a.referenceSchemaName)&&void 0!==n?n:null==i?void 0:i.name})}))}function Mc(e,t){return(0,a.mG)(this,void 0,void 0,(function*(){const n="string"==typeof t?t.split("."):t;let i=n.shift(),r=e;for(;i;){if(!(i in r))return;r=yield r[i],i=n.shift()}return r}))}class Dc{static _getDataSourceColumns(e){const t={};let n=!1;for(const[i,r]of Object.entries(e.config.attributes)){const e=r.path;t[i.replace(/\./g,"")]=e,"Id"===e&&(n=!0)}return n||(t.Id="Id"),t}static _createAttributesConfigMap(e,t,n,i){const r={},a=this.getAttributeDataSourceOldName(e,i);for(const[e,i]of Object.entries(t))r[`${a}_${e}`]={modelConfig:{path:`${n}.${i}`}};return r}static _createAttributePagingConfig(e){return e.pagingConfig||{rowCount:30}}static _createAttributeSortingConfig(e){return e.sortingConfig||{attributeName:e.attributeName+"Sorting"}}static _createAttributeFiltersConfig(e){var t;return(null===(t=e.filtersConfig)||void 0===t?void 0:t.map((e=>{const t=Object.assign({},e);return delete t.value,t})))||[]}static _getDataSourceNameForDynamicModel(e,t){return e.getBoundDataSourceNameByAttributePath(t)||this._getAttributeDataSourceDefaultName(t)}static _getDynamicDataSourceNamePrefix(){return`${r.DYNAMIC_DATA_SOURCE_PREFIX}_`}static _isDynamicDataSourceName(e){return e.startsWith(this._getDynamicDataSourceNamePrefix())}static _getAttributeDataSourceDefaultName(e){return`${e}${r.DATA_SOURCE_PREFIX}`}static createAttributeConfig(e,t,n){const i=n.attributeName,r=n.dataSourceConfig,a=this._getDataSourceColumns(r),o=this._createAttributesConfigMap(e,a,t,i);return{isCollection:!0,modelConfig:{path:t,pagingConfig:this._createAttributePagingConfig(n),sortingConfig:this._createAttributeSortingConfig(n),filterAttributes:this._createAttributeFiltersConfig(n)},viewModelConfig:{attributes:o}}}static getAttributeDataSourceOldName(e,t){let n=this._getDataSourceNameForDynamicModel(e,t);return n&&!this._isDynamicDataSourceName(n)||(n=this._getAttributeDataSourceDefaultName(t)),n}static createDynamicDataSourceNameFromAttributeName(e,t){const n=this._getDynamicDataSourceNamePrefix(),i=this._getDataSourceNameForDynamicModel(e,t);return this._isDynamicDataSourceName(i)?i:`${n}${i}`}}class Pc{constructor(e,t,n,i,a,o,s){this.viewModelGenerator=e,this.injector=t,this.viewModelConfig=n,this.resources=i,this._eventScopes=o,this._modelsInitConfig=s,this._emitSilentChangeAttributeEvent=!0,this._searchComparisonTypeSysSettingCode="StringColumnSearchComparisonType",this._dropdownPageSizeSettingsCode="DropdownPageSize",this._dataSourcesInfos=new Map,this._attributesToDataSourceNameMap=new Map,this._collectionSubscription=new Map,this._dropdownPageSize=null,this._events$=new h.Subject,this._replayEvents$=new h.ReplaySubject,this._loadedDataSources=new Set,this.subscriptions=new h.Subscription,this.attributeConfigs={},this.attributes={},this.dataSchemas={},this.events$=(0,h.merge)(this._events$,this._replayEvents$),this.initDependencies(),this.handlerChain=r.HandlerChainService.instance,this.formApiModel=a||this.formBuilder.group({})}_getModelByName(e){return this._modelsMap.get(e)}_defineAsyncAttribute(e,t,n,i){var r,a;const o=null===(a=null===(r=t.modelConfig)||void 0===r?void 0:r.path)||void 0===a?void 0:a.split(".")[0],s=this._getModelByName(o),l="isLookup"in t&&t.isLookup,c="isCollection"in t&&t.isCollection;Object.defineProperty(this,e,{get:()=>s&&c&&!l&&!(null==s?void 0:s.isLoaded)?this.load(o,[]).pipe((0,g.U)((()=>n()))).toPromise():Promise.resolve(n()),set:i})}_defineNestedModelAttribute(e,t){this._defineAsyncAttribute(e,t,(()=>this.attributes[e]),(t=>{const n=this.attributes[e];this.attributes[e]=t,n instanceof Rl&&this._subscribeOnCollectionChanged(e,t),this._fireChangeAttributeEvent({type:sl.ChangeAttributeValue,payload:{attributeName:e,value:t,oldValue:n}})}))}_defineAttribute({attribute:e,attributeConfig:t,control:n}){this._defineAsyncAttribute(e,t,(()=>n.value),(t=>{this.attributes[e]=t,this._ngZone.run((()=>{n.setValue(t)}))}))}_generateNestedModelAttribute(e,t){const n="viewModelConfig"in t?t.viewModelConfig:t.viewModelName;return this.viewModelGenerator.generate({viewModelConfig:n},[{provide:Fl,useValue:null}]).pipe((0,En.b)((n=>{this.formApiModel.addControl(e,n.formApiModel),this.attributes[e]=n,this._defineNestedModelAttribute(e,t)})))}_fireChangeAttributeEvent(e){e.payload.silent=this._emitSilentChangeAttributeEvent,this._events$.next(e)}_subscribeOnCollectionChanged(e,t){if(this._collectionSubscription.has(e)){const t=this._collectionSubscription.get(e);t.unsubscribe(),this.subscriptions.remove(t)}const n=t.changed.subscribe((()=>{this._fireChangeAttributeEvent({type:sl.ChangeAttributeValue,payload:{attributeName:e,value:t,oldValue:null,silent:this._emitSilentChangeAttributeEvent}})}));this._collectionSubscription.set(e,n),this.subscriptions.add(n)}_generateNestedModelCollectionAttribute(e,t){return new h.Observable((n=>{const i=this.formBuilder.group({});this.formApiModel.addControl(e,i);const r=new Rl(this.formBuilder);this.attributes[e]=r,this._defineNestedModelAttribute(e,t),this._subscribeOnCollectionChanged(e,r),n.next(),n.complete()}))}_generateModelAttribute(e,t){return new h.Observable((n=>{var i;const r=this.formBuilder.control(null==t?void 0:t.value);this.subscriptions.add(r.valueChanges.pipe((0,v.O)(r.value),(0,Nn.x)(((e,t)=>(null==e?void 0:e.displayValue)&&(null==t?void 0:t.displayValue)&&(null==e?void 0:e.value)&&(null==t?void 0:t.value)?e.value===t.value:e===t)),(0,Ol.G)()).subscribe((([t,n])=>{this.attributes[e]=n,this._fireChangeAttributeEvent({type:sl.ChangeAttributeValue,payload:{attributeName:e,value:n,oldValue:t}})}))),this.formApiModel.addControl(e,r),this._refreshAttributeControlValidators(e),this.attributes[e]=null!==(i=null==t?void 0:t.value)&&void 0!==i?i:null,this._defineAttribute({attribute:e,attributeConfig:t,control:r}),n.next(),n.complete()}))}_refreshAttributeControlValidators(e){const t=this.formApiModel.get(e),n=this._getEnabledValidatorFnsForAttribute(e);t.setValidators(n);const i=this._getEnabledValidatorFnsForAttribute(e,!0);t.setAsyncValidators(i),t.updateValueAndValidity()}_getViewModelValidators(e){var t,n;return null!==(n=null===(t=this.viewModelConfig.attributes[e])||void 0===t?void 0:t.validators)&&void 0!==n?n:{}}_initDataSourceValidators(){return this.validators={},this._dataSourcesInfos.forEach((e=>{e.attributesMap.forEach(((t,n)=>{this.validators[n]=this.validators[n]||[];const i=this._getDataSourceAttributeSchema(e,t);if(null==i?void 0:i.validators)for(const[e,t]of Object.entries(i.validators))if(null==t?void 0:t.type){const i=this.validatorTypeResolver.getValidator(t.type,null==t?void 0:t.params),r=this._getViewModelValidators(n),a=Object.values(r).find((e=>e.type===t.type));this.validators[n].push({name:e,instance:i,disabled:Boolean(null==a?void 0:a.disabled)})}}))})),(0,h.of)(null)}_initSchemaValidators(){return Object.keys(this.attributeConfigs).forEach((e=>{const t=this._getViewModelValidators(e);this.validators[e]=this.validators[e]||[];for(const[n,i]of Object.entries(t))if(null==i?void 0:i.type){const t=this.validatorTypeResolver.getValidator(i.type,i.params);this.validators[e].push({name:n,instance:t,disabled:i.disabled})}})),(0,h.of)(null)}_getEnabledValidatorFnsForAttribute(e,t=!1){var n;const i=this.validators[e];return null!==(n=null==i?void 0:i.filter((e=>!e.disabled&&e.instance.isAsync===t)).map((e=>this.crtControlAdapter.transform(e.instance))))&&void 0!==n?n:[]}_defineResourceProperty(e,t,n){e[t]||Object.defineProperty(e,t,{get:()=>Promise.resolve(null!=n?n:"")})}_defineResourceAttribute(e,t,n,i){return new h.Observable((r=>{let a=this.resourceFinderService.findLocalizableValue(i);const o=this._getDataSourceInfoByViewModelAttributePath(n);if(null==a&&o){const e=o.getDataSourceAttributePath(n),t=e?this._getDataSourceAttributeSchema(o,e):"";a=t?t.caption:this._translateService.instant("BaseViewModel.DataSourceAttributeRemoved")}if(this._defineResourceProperty(e,t,a),n.includes(".")){const t=n.split(".")[1];this._defineResourceProperty(e,t,a)}r.next(),r.complete()}))}_getResourceNameByPath(e){const t=e.split(".");return t.length>1?t.join("_"):e}_generateResourcesAttribute(){this.Resources={},this.Resources[Br.string]={};const e=this._getResourcesStrings();return this._generateResourceAttributesFromStrings(e)}_generateResourceAttributesFromStrings(e){return Object.entries(e||{}).map((([e,t])=>{const n=this.Resources[Br.string],i=this._getResourceNameByPath(e);return this._defineResourceAttribute(n,i,e,t)}))}_getResourcesStrings(){var e,t;const n=null!==(t=null===(e=this.resources)||void 0===e?void 0:e.strings)&&void 0!==t?t:{};return Object.assign(Object.assign({},n),this._getResourceStringsByAttributes(n))}_getDataSourceInfoByViewModelAttributePath(e){const t=this.getBoundDataSourceNameByAttributePath(e);return this._dataSourcesInfos.has(t)?this._dataSourcesInfos.get(t):null}_getBoundAttributeNames(){const e=new Set;return this._dataSourcesInfos.forEach((t=>{for(const n of t.mappedViewModelAttributes)e.add(n)})),Array.from(e.values())}_getResourceStringsByAttributes(e){const t=Object.keys(e);return this._getBoundAttributeNames().filter((e=>!t.includes(e))).reduce(((e,t)=>(e[t]={},e)),{})}_getDataSourceAttributeSchema(e,t){var n,i;return null===(i=null===(n=this.dataSchemas[e.name])||void 0===n?void 0:n.attributes)||void 0===i?void 0:i.find((e=>e.name===t))}_generateAttributes(e){return Object.entries(e||{}).map((([e,t])=>(this.attributeConfigs[e]=t,"viewModelConfig"in t||"viewModelName"in t?t.isCollection?this._generateNestedModelCollectionAttribute(e,t):this._generateNestedModelAttribute(e,t):this._generateModelAttribute(e,t))))}_generatePrimaryAttributes(){const e=Array.from(this._dataSourcesInfos.values()).map((e=>{const t=e.name,n=this.dataSchemas[t],i=[null==n?void 0:n.primaryAttributeName,null==n?void 0:n.primaryDisplayAttributeName].filter((t=>t&&!e.getIsDataSourceAttributePathExists(t))).map((n=>{const i=`${t}_${n}_${(0,r.generateGuid)()}`,a={modelConfig:{path:`${t}.${n}`}};return this.attributeConfigs[i]=a,e.addNewAttribute(i,a),this._generateModelAttribute(i,a)}));return 0===i.length?(0,h.of)(null):(0,h.forkJoin)(i)}));return 0===e.length?(0,h.of)(null):(0,h.forkJoin)(e)}_getDataSourceDto(e){const t={},n=this._dataSourcesInfos.get(e);return n.attributesMap.forEach(((e,i)=>{if(!n.getIsMapOnCollection(i)){const a=this.attributes[i],o=this._getDataSourceAttributeSchema(n,e);a||(null==o?void 0:o.dataValueType)!==r.DataValueType.Lookup?t[e]=a:t[e]=null}})),(0,h.of)(t)}_applyFilterMacros(e){let t=null;switch(typeof e){case"object":t=JSON.stringify(e);break;case"string":t=e;break;default:return e}let n=!1;return[...t.matchAll(/##ViewModelMacro\.\$([^#]+)##/g)].forEach((e=>{const i=e[1],r=(0,wa.Z)(this.attributes,i);let a=null==r?void 0:r.toString();switch(typeof r){case"object":n=!0,a=JSON.stringify(r)}t=t.replace(e[0],a)})),"object"==typeof e||n?JSON.parse(t):t}_getParameterValue(e,t){if(null==e?void 0:e.startsWith("@requestPayload")){const n=null==e?void 0:e.replace("@requestPayload.","");return(0,wa.Z)(t,n)}return"string"==typeof e&&e.startsWith("$")?this.attributes[e.substring(1)]:void 0===this.attributes[e]?e:this.attributes[e]}_getDataSourceParameters(e,t){if((null==t?void 0:t.parameters)&&(e=[...e,...null==t?void 0:t.parameters]),!e||0===e.length)return(0,h.of)([]);const n=e.map((e=>{switch(e.type){case r.ModelParameterType.PrimaryColumnValue:return(0,h.of)({type:e.type,value:this._getParameterValue(e.value,t)});case r.ModelParameterType.Filter:return(0,h.of)({type:e.type,value:this._applyFilterMacros(e.value)});case r.ModelParameterType.PrimaryDisplayValueFilter:return this._createPrimaryDisplayColumnValueFilter(this._getParameterValue(e.value,t))}}));return(0,h.forkJoin)(n)}_checkFilteringAttributes(e,t){if(t.some((e=>(0,El.Z)(e.name))))throw new Error(`Filtering attributes for ${e} are not valid!`)}_getDataSourceFilteringParameters(e){const t=this._dataSourcesInfos.get(e).getFilteringConfig();return this._checkFilteringAttributes(e,t),0===t.length?(0,h.of)([]):(0,h.from)(Promise.all(t.map((e=>this[e.name])))).pipe((0,g.U)((e=>e.map((e=>({type:r.ModelParameterType.Filter,value:e}))))))}_getModelLoadParameters(e){const t=e.modelName;return(0,h.forkJoin)({eventParameters:this._getDataSourceParameters(e.eventParameters,e.payload).pipe((0,En.b)((n=>{n&&0!==n.length?this._lastEventLoadParameters.set(t,n):!0!==e.useLastEventLoadParameters&&this._lastEventLoadParameters.set(t,[{type:r.ModelParameterType.Empty,value:""}])})),(0,g.U)((n=>!0===e.useLastEventLoadParameters?this._lastEventLoadParameters.get(t)||[{type:r.ModelParameterType.Never,value:""}]:n))),filterParameters:this._getDataSourceFilteringParameters(t),relationParameters:this._getRelationParameters(t)}).pipe((0,g.U)((({eventParameters:e,filterParameters:t,relationParameters:n})=>[...e,...t,...n])))}_getDataSourceNamesAffectedByFilteringAttribute(e){return[...this._dataSourcesInfos.entries()].filter((([t,n])=>{const i=n.getFilteringConfig();return this._checkFilteringAttributes(t,i),n.isCollection&&i.some((t=>t.name===e&&t.loadOnChange))})).map((([e])=>e))}_createRequestsForReloadingDataSources(e){return e.map((e=>({type:"crt.LoadDataRequest",$context:this,dataSourceName:e,config:{loadType:zr.Reload}})))}_getPagingConfigRowCount(e){return"string"==typeof e?(0,El.Z)(this.attributes[e])?0:this.attributes[e]:e}_getPagingConfigRowsOffset(e,t,n){var i,r;const a=this._dataSourcesInfos.get(n).collectionViewModelAttributeName,o=null!==(r=null===(i=this.attributes[a])||void 0===i?void 0:i.length)&&void 0!==r?r:0;if("number"==typeof e)throw new Error("Rows offset parameter cannot be set to number");return e||t!==zr.LoadNext?e||t!==zr.Reload?(this[e]=(0,El.Z)(this.attributes[e])?0:this.attributes[e],t===zr.Reload?this.attributes[e]:this.attributes[e]+o):0:o}_getDataSourcePagingConfig(e,t,n){return e?(0,h.of)({rowCount:this._getPagingConfigRowCount(e.rowCount),rowsOffset:this._getPagingConfigRowsOffset(e.rowsOffset,t,n)}):(0,h.of)(null)}_getDataSourceSortingConfig(e){const t=null==e?void 0:e.attributeName;return t&&this.attributes[t]?(0,h.from)(Promise.all(this.attributes[t].map((e=>(0,a.mG)(this,void 0,void 0,(function*(){return{columnName:yield e.columnName,direction:yield e.direction}})))))).pipe((0,g.U)((e=>({columns:e})))):(0,h.of)(null)}_dispatchStartLoadModelAttributes(e){this._replayEvents$.next({type:sl.StartLoadModelAttributes,payload:e})}_dispatchFinishLoadModelAttributes(e){this._replayEvents$.next({type:sl.FinishLoadModelAttributes,payload:e})}_convertToRelationParameters(e,t){return e.map((e=>{const n=Object.assign({},e),i=n.relationsConfigs||[];return i.unshift({dataSchemaName:t.dataSchemaName,attributePath:t.attributePath,relationPath:t.relationPath}),n.relationsConfigs=i,n}))}_getRelationParameters(e){const t=this._modelDependencies[e]||[];if(0===t.length)return(0,h.of)([]);const n=t.map((e=>{const t=e.relationPath.split("."),n=t.shift();return{relatedModelName:n,relationConfig:{dataSchemaName:this.dataSchemas[n].name,attributePath:e.attributePath,relationPath:t.join(".")}}})).map((({relatedModelName:e,relationConfig:t})=>this._getModelLoadParameters({modelName:e,useLastEventLoadParameters:!0}).pipe((0,g.U)((e=>this._convertToRelationParameters(e,t))))));return(0,h.forkJoin)(n).pipe((0,g.U)((e=>e.flat())))}_loadDynamicModel(e){const t=e.attributeName,n=e.dataSourceConfig,i=Dc.createDynamicDataSourceNameFromAttributeName(this,t),r=Dc.createAttributeConfig(this,i,e),a=this._createAndSetDataSourceInfo(i,t,r);return this._defineOrUpdateAttribute(t,r),this._setupSortingAttribute(e.sortingConfig),this._setupFiltersAttributes(e.filtersConfig),this._modelGenerator.generateOne(n,i).pipe((0,En.b)((e=>this._addModelToModelMap(e,i))),(0,Pn.w)((e=>(0,h.forkJoin)([(0,h.of)(e),this._addDataSchemaToDataSchemas(e)]))),(0,Pn.w)((([e])=>(0,h.forkJoin)([(0,h.of)(e),(0,h.of)(this._replaceAttributesToDataSourceNameMap(a))]))),(0,Pn.w)((([e])=>(0,h.forkJoin)([(0,h.of)(e),this._reGenerateResourcesAttributes()]))),(0,Pn.w)((([e])=>this._loadModelData(e,a,[],zr.Reload))))}_defineOrUpdateAttribute(e,t){this.attributes[e]?this.attributeConfigs[e]=t:this._defineNestedModelAttribute(e,t)}_createAndSetDataSourceInfo(e,t,n){const i=_c.getFromViewModelConfig({attributes:{[t]:n}}).get(e);return this._dataSourcesInfos.set(e,i),i}_setupSortingAttribute(e){if(!(null==e?void 0:e.default))return;const t=e.attributeName;this.attributes[t]=e.default}_setupFiltersAttributes(e){null==e||e.forEach((e=>{if(!e.value)return;const t=e.name,n=e.value;this[t]=n.value||n}))}_addModelToModelMap(e,t){this._modelsMap.set(t,e)}_addDataSchemaToDataSchemas(e){return e.getSchema().pipe((0,En.b)((t=>this.dataSchemas[e.name]=t)))}_reGenerateResourcesAttributes(){return(0,h.forkJoin)([...this._generateResourcesAttribute(),(0,h.of)(null)])}_replaceAttributesToDataSourceNameMap(e){const t=this._getDataSourceAttributesMap(e),n=[...Array.from(this._attributesToDataSourceNameMap.entries()),...t];this._initializeAttributesToDataSourceNameMap(n)}_loadStaticModel(e,t,n,i){const r=this._getModelByName(e),a=this._dataSourcesInfos.get(r.name);return this._loadModelData(r,a,t,n,i)}_loadModelData(e,t,n,i,a){const o=e.name,s=t.attributes.map((e=>e.path)),l=this._getDataSourceMappingAttributes(t),c=i===zr.Load?null:t.getPagingConfig(),d=t.getSortingConfig(),u=c&&!i?zr.LoadNext:i;return u===zr.LoadNext&&this._loadedDataSources.has(o)?(0,h.of)([]):(this._dispatchStartLoadModelAttributes(l),(0,h.forkJoin)([this._getModelLoadParameters({modelName:o,eventParameters:n,payload:a}),this._getDataSourcePagingConfig(c,u,o),this._getDataSourceSortingConfig(d)]).pipe((0,Pn.w)((([t,n,i])=>e.load({attributes:s,parameters:t,options:{pagingConfig:n,sortingConfig:i}}).pipe((0,dr.K)((e=>this._handleLoadErrorResponse(e))),(0,En.b)((e=>{e.length<(null==n?void 0:n.rowCount)?this._loadedDataSources.add(o):this._loadedDataSources.delete(o)}))))),(0,En.b)((e=>{0===e.length&&this._dispatchFinishLoadModelAttributes(l)})),(0,g.U)((e=>({data:e,viewModelAttributes:t.getModelDto(e)}))),(0,Pn.w)((({data:e,viewModelAttributes:t})=>this.setValue(t,{collectionLoadType:u===zr.Reload?r.CollectionLoadType.Reload:r.CollectionLoadType.Merge,silent:!0}).pipe((0,g.U)((()=>e))))),(0,Pn.w)((t=>this._runBusinessRulesOnModelLoad(e,t))),(0,En.b)((()=>{e.setLoadedState(),this._dispatchFinishLoadModelAttributes(l)}))))}_runBusinessRulesOnModelLoad(e,t){var n;const i=this._dataSourcesInfos.get(e.name);if(i.isCollection||!this._businessRulesProcessingEnabled)return(0,h.of)(t);const r=null!==(n=t[0])&&void 0!==n?n:{},a=Object.keys(r).map((e=>i.getMappedAttributeName(e))).filter((e=>null!=e)).map((e=>({type:Ml.ChangeAttributeValue,name:e}))),o={type:Ml.DataLoaded,name:e.dataSchemaName};return(0,h.forkJoin)([this._getModelBusinessRuleContext(i.name,[o]),this._getViewModelBusinessRuleContext(a)]).pipe((0,Pn.w)((e=>this._businessRulesEngine.execute(e))),(0,Pn.w)((e=>this._businessRulesApplier.applyRules(this,e))),(0,g.U)((()=>t)))}_copyModelData(e,t){const n=this._dataSourcesInfos.get(e),i=this._getDataSourceMappingAttributes(n);this._dispatchStartLoadModelAttributes(i);const r=this._getModelByName(e);return r.copy(t).pipe((0,dr.K)((e=>this._handleLoadErrorResponse(e))),(0,g.U)((e=>[e])),(0,g.U)((e=>({data:e,viewModelAttributes:n.getModelDto(e)}))),(0,Pn.w)((({data:e,viewModelAttributes:t})=>this.setValue(t).pipe((0,g.U)((()=>e))))),(0,Pn.w)((e=>this._runBusinessRulesOnModelLoad(r,e))),(0,En.b)((()=>{this._dispatchFinishLoadModelAttributes(i)})),(0,$r.zg)((()=>(0,h.of)(undefined))))}_getDataSourceMappingAttributes(e){const t=Object.fromEntries(e.getMappedAttributes().map((e=>[e,!0])));return e.collectionViewModelAttributeName&&(t[e.collectionViewModelAttributeName]=!0),t}_handleLoadErrorResponse(e){return console.log(e),(0,h.of)({})}_subscribeOnViewEvents(){const e=this.events$.pipe((0,f.h)((e=>e.type===sl.ViewEvent)),(0,g.U)((e=>e.payload)),(0,En.b)((e=>{e.scopes=this._eventScopes,this._ngZone.runOutsideAngular((()=>this.processRequest(e)))})));this.subscriptions.add(e.subscribe())}_getViewModelAttributeInfos(e,t){return Object.keys(t).filter((e=>!(t[e]instanceof Rl))).map((n=>{var i,r,a,o;if(t[n]instanceof Pc)return this._getViewModelAttributeInfos(e?`${e}.${n}`:n,null!==(r=null===(i=t[n])||void 0===i?void 0:i.attributes)&&void 0!==r?r:{});const s=(null===(a=t[n])||void 0===a?void 0:a.displayValue)?t[n].value:t[n];return{name:e?`${e}.${n}`:n,value:null!=s?s:null,displayValue:null===(o=t[n])||void 0===o?void 0:o.displayValue}})).flat()}_getViewModelBusinessRuleContext(e){const t=this._getViewModelAttributeInfos(null,this.attributes);return(0,h.of)({scopeType:_l.ViewModel,scopeName:this._scopeName,scopeId:"",attributes:[...t].map((e=>({attributeName:e.name,value:e.value,displayValue:e.displayValue}))),triggers:e})}_prepareModelBusinessRuleTrigger(e,t){return t.map((t=>{if(t.type===Ml.DataLoaded)return t;const n=this._getDataSourceInfoByViewModelAttributePath(t.name);return n&&n.name===e?{type:Ml.ChangeAttributeValue,name:n.getDataSourceAttributePath(t.name)}:null})).filter((e=>null!=e))}_getModelBusinessRuleContext(e,t){const n=this._modelsMap.get(e),i=this._prepareModelBusinessRuleTrigger(e,t);return this._getDataSourceDto(e).pipe((0,g.U)((e=>Object.entries(e).map((([e,t])=>({attributeName:e,value:(null==t?void 0:t.displayValue)?t.value:t,displayValue:null==t?void 0:t.displayValue}))))),(0,g.U)((t=>({scopeType:_l.Model,scopeName:n.dataSchemaName,scopeId:e,attributes:t,triggers:i}))))}_getModelsBusinessRuleContexts(e){return Array.from(this._modelsMap.keys()).filter((e=>!this._dataSourcesInfos.get(e).isCollection)).map((t=>this._getModelBusinessRuleContext(t,e)))}_prepareBusinessRulesContexts(e){const t=this._getModelsBusinessRuleContexts(e);if(!this._scopeName)return(0,h.forkJoin)([...t]);const n=this._getViewModelBusinessRuleContext(e);return(0,h.forkJoin)([n,...t])}_businessRulesSubscribeOnChangeAttributes(){if(!this._businessRulesProcessingEnabled)return;const e=this.events$.pipe((0,f.h)((e=>e.type===sl.ChangeAttributeValue)),(0,f.h)((e=>!e.payload.silent)),(0,g.U)((e=>e.payload.attributeName)),(0,jl.v)((e=>e)),(0,$r.zg)((e=>e.pipe((0,kn.b)(500),(0,g.U)((e=>({type:Ml.ChangeAttributeValue,name:e}))),(0,$r.zg)((e=>this._prepareBusinessRulesContexts([e]))),(0,f.h)((e=>e&&e!==[])),(0,$r.zg)((e=>this._businessRulesEngine.execute(e))),(0,Pn.w)((e=>e?this._businessRulesApplier.applyRules(this,e):(0,h.of)(null)))))));this.subscriptions.add(e.subscribe())}_subscribeOnChangeAttributes(){const e=this.events$.pipe((0,f.h)((e=>e.type===sl.ChangeAttributeValue)),(0,En.b)((e=>{const t=e.payload.attributeName,n=this.getBoundDataSourceName(t),i=this._getModelByName(n),r=this._dataSourcesInfos.get(n),a=null==r?void 0:r.attributesMap.get(t);null==i||i.attributeChanged(a)})));this.subscriptions.add(e.subscribe())}_subscribeOnLoadEvents(){const e=this.events$.pipe((0,f.h)((e=>e.type===sl.ChangeAttributeValue)),(0,g.U)((e=>{const t=e.payload.attributeName,n=this.attributeConfigs[t];return null==n?void 0:n.change})),(0,f.h)((e=>null!=e)),(0,g.U)((e=>Object.assign({type:e.request,$context:this},e.params))),(0,En.b)((e=>this._ngZone.runOutsideAngular((()=>this.handlerChain.process(e))))));this.subscriptions.add(e.subscribe())}_subscribeOnFilteringEvents(){const e=this.events$.pipe((0,f.h)((e=>e.type===sl.ChangeAttributeValue)),(0,g.U)((e=>{const t=e.payload.attributeName;return this._getDataSourceNamesAffectedByFilteringAttribute(t)})),(0,g.U)((e=>this._createRequestsForReloadingDataSources(e))),(0,En.b)((e=>{e.forEach((e=>{this._ngZone.runOutsideAngular((()=>this.processRequest(e)))}))})));this.subscriptions.add(e.subscribe())}_saveModel(e,t,n){return this.maskService.showBodyMask(),Object.keys(this.formApiModel.controls).forEach((e=>this.formApiModel.controls[e].updateValueAndValidity())),this.formApiModel.statusChanges.pipe((0,v.O)(this.formApiModel.status),(0,f.h)((e=>"pending"!==e.toLowerCase())),(0,Tn.q)(1),(0,Pn.w)((n=>this._saveModelAndGetDataSourceSaveResult(n,e,t))),(0,Al.x)((()=>this.maskService.hideBodyMask())),(0,dr.K)((e=>!0===(null==n?void 0:n.silent)?(0,h.of)({success:!1,rowsAffected:0,errorInfo:(null==e?void 0:e.message)||(null==e?void 0:e.errorInfo)}):(0,h.throwError)(e))))}_saveModelAndGetDataSourceSaveResult(e,t,n){if("invalid"===e.toLowerCase()){const e=this.injector.get(u.sK);return(0,h.of)({success:!1,rowsAffected:0,errorInfo:e.instant("HomePage.DialogMessages.RequiredFieldsAreNotFilled")})}return(0,h.forkJoin)({parameters:this._getDataSourceParameters(n),dto:this._getDataSourceDto(t)}).pipe((0,$r.zg)((({parameters:e,dto:n})=>this._getModelByName(t).insertOrUpdate(n,e))))}_deleteModel(e,t,n){return this._getDataSourceParameters(t,null==n?void 0:n.payload).pipe((0,$r.zg)((t=>this._getModelByName(e).delete(t))))}_initSubscriptions(){return this._subscribeOnViewEvents(),this._subscribeOnLoadEvents(),this._subscribeOnFilteringEvents(),this._subscribeModelsEvents(),this._subscribeOnChangeAttributes(),this._businessRulesSubscribeOnChangeAttributes(),(0,h.of)(null)}_getDataSchemas(){if(this.models&&0!==this.models.length){const e=this.models.map((e=>e.getSchema().pipe((0,g.U)((t=>[e.name,t])))));return(0,h.combineLatest)(e).pipe((0,Tn.q)(1),(0,g.U)((e=>Object.fromEntries(e))))}return(0,h.of)({})}_setAttributesDefaultValues(e){return(0,h.from)((()=>(0,a.mG)(this,void 0,void 0,(function*(){let t=Object.entries(this.dataSchemas);e&&(t=t.filter((([t])=>t===e)));for(const[e,n]of t){const t={};for(const i of n.attributes){const n=yield i.defaultValue.toPromise();if(!(0,El.Z)(n)){const r=this.getViewModelAttributePath(e,i.name);r&&(t[r]=n)}}this.setValue(t).subscribe()}})))())}_generateDataSourcesInfo(){return this._dataSourcesInfos=_c.getFromViewModelConfig(this.viewModelConfig),(0,h.of)(this._dataSourcesInfos)}_generateAttributesToDataSourceNameMap(e){const t=Array.from(e.values()).map((e=>this._getDataSourceAttributesMap(e))).flat();return this._initializeAttributesToDataSourceNameMap(t),(0,h.of)(this._attributesToDataSourceNameMap)}_initializeAttributesToDataSourceNameMap(e){this._attributesToDataSourceNameMap=new Map(e)}_getDataSourceAttributesMap(e){const t=e.getMappedAttributes().map((t=>[t,e.name]));return e.isCollection&&t.push([e.collectionViewModelAttributeName,e.name]),t}_getSysSettingsValue(e){return this.sysSettingsService.getByCodes(e).pipe((0,jr.j)("values"),(0,g.U)((t=>{const n={};return e.forEach((e=>{const i=t[e];i&&(n[e]=i.value)})),n})))}_createPrimaryDisplayColumnValueFilter(e){const t=this._searchComparisonTypeSysSettingCode;return this._getSysSettingsValue([t]).pipe((0,g.U)((e=>1===e[t]?r.ComparisonType.Contain:r.ComparisonType.Start_with)),(0,g.U)((t=>({type:r.ModelParameterType.PrimaryDisplayValueFilter,value:e,comparisonType:t}))))}_checkDataSourceName(e){if(!e)throw new Error("Data source name is not provided")}_getDataSourceLoadType(e){return e?e||zr.Reload:null}_loadDefaultSorting(){this._dataSourcesInfos.forEach((e=>{const t=e.getSortingConfig(),n=t&&t.default;n&&this.setValue({[t.attributeName]:n}).subscribe()}))}_getDropdownPageSize(){return(0,bi.Z)(this._dropdownPageSize)?this._getSysSettingsValue([this._dropdownPageSizeSettingsCode]).pipe((0,$r.zg)((e=>(this._dropdownPageSize={pagingConfig:{rowCount:e[this._dropdownPageSizeSettingsCode],rowsOffset:0}},(0,h.of)(this._dropdownPageSize))))):(0,h.of)(this._dropdownPageSize)}_getCollectionPrimaryAttributeName(e){const t=this.getBoundDataSourceNameByAttributePath(e),n=this.getBoundDataSchemaByAttributePath(e),i=this.getViewModelAttributePath(t,null==n?void 0:n.primaryAttributeName).split(".");return i.shift(),i.join(".")}_mergeCollectionModels(e,t){const n=this._getCollectionPrimaryAttributeName(e);this.attributes[e].merge(t,n)}_getEmbeddedModels(){var e,t;const n=Object.entries(null!==(t=null===(e=this.viewModelConfig)||void 0===e?void 0:e.attributes)&&void 0!==t?t:{}).filter((([,e])=>e.embeddedModel)).map((([e,{embeddedModel:t}])=>({attributeName:e,embeddedModel:t})));if(0===n.length)return(0,h.of)([]);const i={},r=[];if(n.forEach((({attributeName:e,embeddedModel:{name:t,config:n}})=>{t?i[t]&&r.push(`Duplicated embedded model : ${t}.`):r.push(`Embedded model name is not provided for ${e}.`),i[t]=n})),r.length>0)throw new Error(r.join(" "));return this._modelGenerator.generate({dataSources:i})}_concatModelsWithEmbedded(e=null){return this._getEmbeddedModels().pipe((0,g.U)((t=>{const n=[...null!=e?e:[],...null!=t?t:[]],i=n.map((e=>e.name)).filter(((e,t,n)=>n.indexOf(e)!==t));if(i.length>0)throw new Error(`Duplicated model names found : ${i.join(",")}.`);return n})))}_setModelsProperties(e){this.models=e;const t=this.models.map((e=>[e.name,e]));this._modelsMap=new Map(t)}_subscribeModelsEvents(){this.models.forEach((e=>{this.subscriptions.add(e.event$.pipe((0,En.b)((t=>{this._ngZone.runOutsideAngular((()=>this.processRequest({type:"crt.HandleModelEventRequest",$context:this,scopes:this._eventScopes,modelName:e.name,modelEvent:t})))}))).subscribe())}))}_updateTreeValidity(e){Object.values(e.controls).forEach((e=>{e instanceof c.cw||e instanceof c.Oe?this._updateTreeValidity(e):e.updateValueAndValidity({onlySelf:!0})}))}initDependencies(){this.formBuilder=this.injector.get(c.qu),this.resourceFinderService=this.injector.get(fa),this.validatorTypeResolver=this.injector.get(wc),this.maskService=this.injector.get(It),this.sysSettingsService=this.injector.get(ws),this.crtControlAdapter=this.injector.get(Ic),this._businessRulesEngine=this.injector.get(Pl),this._businessRulesApplier=this.injector.get(Tl),this._featureService=this.injector.get(r.FeatureService),this._modelGenerator=this.injector.get(cc),this._ngZone=this.injector.get(l.NgZone),this._translateService=this.injector.get(u.sK),this._scopeName=this.injector.get(Fl)}processRequest(e){return this.handlerChain.process(e)}runInitFlow(e=null){return this._concatModelsWithEmbedded(e).pipe((0,En.b)((e=>this._setModelsProperties(e))),(0,$r.zg)((()=>this._generateDataSourcesInfo())),(0,$r.zg)((e=>this._generateAttributesToDataSourceNameMap(e))),(0,$r.zg)((e=>this._getDataSchemas())),(0,En.b)((e=>this.dataSchemas=e)),(0,$r.zg)((()=>this._initDataSourceValidators())),(0,$r.zg)((()=>(0,h.from)(this._featureService.getFeatureState("BusinessRulesProcessingDisabled")).pipe((0,En.b)((e=>{this._businessRulesProcessingEnabled=!e}))))),(0,$r.zg)((()=>(0,h.forkJoin)([...this._generateResourcesAttribute(),...this._generateAttributes(this.viewModelConfig.attributes),(0,h.of)(this),this._initSubscriptions(),this._initSchemaValidators()]))),(0,$r.zg)((()=>this._generatePrimaryAttributes())),(0,En.b)((()=>this._loadDefaultSorting())),(0,En.b)((()=>this._emitSilentChangeAttributeEvent=!1))).pipe((0,Pn.w)((()=>(0,h.of)(this))))}get modelInitConfigs(){return this._modelsInitConfig}init(e=null,t=null,n){return this._primaryModelName=n,this._modelDependencies=t||{},this._lastEventLoadParameters=new Map,this._ngZone.runOutsideAngular((()=>this.runInitFlow(e)))}setValue(e,t){const n=[],i=[];for(const e of Object.keys(this.attributeConfigs))"viewModelConfig"in this.attributeConfigs[e]||"viewModelName"in this.attributeConfigs[e]?i.push(e):n.push(e);let a=this._emitSilentChangeAttributeEvent;this._emitSilentChangeAttributeEvent=null==t?void 0:t.silent;for(const t in e)n.includes(t)&&(this[t]=e[t]);return this._emitSilentChangeAttributeEvent=a,(0,h.forkJoin)([...i.filter((t=>e&&e[t])).map((n=>{if(this.attributes[n]instanceof Pc)return this.attributes[n].setValue(e[n],{silent:null==t?void 0:t.silent});{const i=this.attributeConfigs[n].viewModelConfig||this.attributeConfigs[n].viewModelName,o=(e[n]||[]).map((e=>this.viewModelGenerator.generate({viewModelConfig:i},[{provide:Fl,useValue:null}]).pipe((0,En.b)((e=>{const t=this.getBoundDataSourceName(n);t&&(e.dataSchemas[t]=this.dataSchemas[t])})),(0,Pn.w)((n=>n.setValue(e,{silent:null==t?void 0:t.silent}).pipe((0,g.U)((()=>n))))))));return o.length||(null==t?void 0:t.collectionLoadType)!==r.CollectionLoadType.Reload||this.attributes[n].clear(),(0,h.forkJoin)([...o]).pipe((0,En.b)((e=>{a=this._emitSilentChangeAttributeEvent,this._emitSilentChangeAttributeEvent=null==t?void 0:t.silent,(null==t?void 0:t.collectionLoadType)!==r.CollectionLoadType.Reload&&(null==t?void 0:t.collectionLoadType)?this.getBoundDataSchema(n)?this._mergeCollectionModels(n,e):this.attributes[n].push(...e):this.attributes[n].reload(e),this._emitSilentChangeAttributeEvent=a})))}})),(0,h.of)(this)])}sendViewEvent(e){this._events$.next({type:sl.ViewEvent,payload:e})}getAttributeControl(e){let t=this.formApiModel;Mc(this,e).then(Nl.Z);for(const n of e.split("."))t=t.get(n);return null!=t?t:new c.NI}loadLookupList(e,t=[],n){const i=e.control,r=e.items,a=this._getDataSourceInfoByViewModelAttributePath(r);if(a){const e=this._ngZone.runOutsideAngular((()=>this.processRequest({type:"crt.LoadDataRequest",$context:this,dataSourceName:a.name,parameters:t,config:{payload:n}})));Promise.resolve(e)}else{const e=this._getDataSourceInfoByViewModelAttributePath(i);if(e){const a=e.getDataSourceAttributePath(i);(0,h.forkJoin)([this._getDropdownPageSize(),this._getDataSourceParameters(t,n)]).pipe((0,$r.zg)((([t,n])=>this._getModelByName(e.name).loadLookupList(a,n,t))),(0,g.U)((e=>_c.getLookupListDataSourceInfo(r,{value:e.primaryAttributeName,displayValue:e.primaryDisplayAttributeName}).getModelDto(e.data))),(0,$r.zg)((e=>this.setValue(e,{silent:!0})))).subscribe()}}}load(...e){if("string"==typeof e[0]){const t=e[0],n=e[1],i=e[2];this._checkDataSourceName(t);const r=this._getDataSourceLoadType(null==i?void 0:i.loadType);return this._loadStaticModel(t,n,r,null==i?void 0:i.payload)}const t=e[0];return this._loadDynamicModel(t)}setSorting(e,t){const n=this._dataSourcesInfos.get(e).getSortingConfig(),i=n&&n.attributeName;return i&&this.setValue({[i]:t}).subscribe(),(0,h.of)(null)}setAttributeFilter(e,t,n){var i;const r=this.getViewModelAttributePath(e,t),a=this.attributeConfigs[r];return Array.isArray(null===(i=null==a?void 0:a.businessRulesConfig)||void 0===i?void 0:i.lookupFilters)?(0,h.forkJoin)([...a.businessRulesConfig.lookupFilters].map((e=>this.setValue({[e]:n})))):(0,h.of)(null)}create(e,t){return this._checkDataSourceName(e),this._getModelByName(e).create(t)}copy(e,t){return this._checkDataSourceName(e),this._copyModelData(e,t)}loadDefaultValues(e){return this._setAttributesDefaultValues(e)}save(e,t,n){return this._checkDataSourceName(e),this._saveModel(e,t,n)}delete(e,t,n){return this._checkDataSourceName(e),this._deleteModel(e,t,n)}destroy(){return this.subscriptions.unsubscribe(),(0,h.of)(void 0)}getBoundDataSourceName(e){if(this._attributesToDataSourceNameMap.has(e))return this._attributesToDataSourceNameMap.get(e);const t=Array.from(this._attributesToDataSourceNameMap.keys()).find((t=>t.includes(".")&&t.split(".")[1]===e));return this._attributesToDataSourceNameMap.has(t)?this._attributesToDataSourceNameMap.get(t):null}getBoundDataSourceNameByAttributePath(e){return this._attributesToDataSourceNameMap.has(e)?this._attributesToDataSourceNameMap.get(e):null}getBoundDataSchema(e){return this.dataSchemas[this.getBoundDataSourceName(e)]}getBoundDataSchemaByAttributePath(e){return this.dataSchemas[this.getBoundDataSourceNameByAttributePath(e)]}getPrimaryModelName(){return Promise.resolve(this._primaryModelName)}getPrimaryDataSchema(){return this.getPrimaryModelName().then((e=>this.dataSchemas[e]))}isValid(){return this.formApiModel.statusChanges.pipe((0,v.O)(this.formApiModel.status),(0,A.P)((e=>"PENDING"!==e)),(0,g.U)((()=>this.formApiModel.valid))).toPromise()}validate(){this._ngZone.run((()=>{this.formApiModel.markAllAsTouched(),this.formApiModel.updateValueAndValidity(),this._updateTreeValidity(this.formApiModel)}))}getViewModelAttributePath(e,t){const n=this._dataSourcesInfos.get(e);return null==n?void 0:n.getMappedAttributeName(t)}canDelete(e,t){return(0,a.mG)(this,void 0,void 0,(function*(){return this._getModelByName(e).canDelete(t)}))}canSave(e,t){return(0,a.mG)(this,void 0,void 0,(function*(){return this._getModelByName(e).canSave(t)}))}enableAttributeValidator(e,t){var n;const i=null===(n=this.validators[e])||void 0===n?void 0:n.find((e=>e.name===t));if(!i)throw new Error(`Validator ${t} does not exist on ${e} attribute.`);i.disabled&&(i.disabled=!1,this._refreshAttributeControlValidators(e))}disableAttributeValidator(e,t){var n;const i=null===(n=this.validators[e])||void 0===n?void 0:n.find((e=>e.name===t));if(!i)throw new Error(`Validator ${t} does not exist on ${e} attribute.`);i.disabled||(i.disabled=!0,this._refreshAttributeControlValidators(e))}hotSwap(e){var t,n,i;const r=null===(t=null==e?void 0:e.attributes)||void 0===t?void 0:t.changed;if((0,bi.Z)(r))return(0,h.of)(void 0);this.viewModelConfig=e.actualViewModelConfig;const a=_c.getFromViewModelConfig(this.viewModelConfig),o=Object.fromEntries(r.map((e=>[e,this.viewModelConfig.attributes[e]]))),s=(null!==(i=null===(n=null==e?void 0:e.models)||void 0===n?void 0:n.changed)&&void 0!==i?i:[]).map((e=>{this._modelsMap.set(e.name,e),this._loadedDataSources.has(e.name)&&this._loadedDataSources.delete(e.name);const t=a.get(e.name);return this._dataSourcesInfos.set(e.name,t),this._replaceAttributesToDataSourceNameMap(t),this._addDataSchemaToDataSchemas(e)}));return(0,h.forkJoin)([...s,...this._generateAttributes(o)]).pipe((0,Pn.w)((()=>this._reGenerateResourcesAttributes())),(0,co.h)(void 0))}}let Tc=(()=>{class e{constructor(){this.viewModelConstructor=Pc}static useClass(t){return new class extends e{constructor(){super(...arguments),this.viewModelConstructor=t}}}create(e,t,n,i,r,a,o){return new this.viewModelConstructor(e,t,n,i,r,a,o)}}return e.ɵfac=function(t){return new(t||e)},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"root"}),e})(),kc=(()=>{class e{constructor(e,t,n,i){this.repository=e,this.injector=t,this.viewModelFactory=n,this.ngZone=i}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](al),l["ɵɵinject"](l.Injector),l["ɵɵinject"](Tc),l["ɵɵinject"](l.NgZone))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})(),Ec=(()=>{class e{constructor(e){this._injector=e,this._subscription=new h.Subscription,this._handlerRegisterMap=new Map;for(const[,e]of r.InternalRequestHandlerRegistry.requestHandlersMap)this._registerHandler(e);this._subscription.add(r.InternalRequestHandlerRegistry.onAddRequestHandler(((e,t)=>{this._registerHandler(t)}))),this._subscription.add(r.InternalRequestHandlerRegistry.onRemoveRequestHandler(((e,t)=>{this._removeHandler(t)})))}_registerHandler(e){const{requestType:t,type:n,scopes:i}=e.instanceConfig,{instanceType:a}=e;this._handlerRegisterMap.set(n,r.HandlerChainService.instance.register(t,(()=>l.Injector.create({providers:[{provide:a,useClass:a}],parent:this._injector}).get(a)),...null!=i?i:[]))}_removeHandler(e){const{type:t}=e.instanceConfig;this._handlerRegisterMap.get(t)()}ngOnDestroy(){this._subscription.unsubscribe(),this._handlerRegisterMap.forEach((e=>{e()}))}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](l.Injector))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"root"}),e})();const Nc={provide:l.APP_INITIALIZER,useFactory:()=>()=>{},deps:[Ec],multi:!0};let Oc=(()=>{class e{constructor(e){this.injector=e,this._schemaValidators=new Map}register(e,t){if((0,r.checkTypeNameFormat)(e.type,"ValidatorTypeName"),(0,r.checkCrtTypeNamePascalCase)(e.type),this._schemaValidators.has(e.type))throw new Error(`Error when register ${e.type} type. Element with this type has already exist`);this._schemaValidators.set(e.type,{instanceType:t,instanceConfig:e})}clearSchemaValidators(){this._schemaValidators.clear()}has(e){return this._schemaValidators.has(e)}get(e,t){const n=this._schemaValidators.get(e),i=null==n?void 0:n.instanceType;if(!i)throw new Error(`Type ${e} was not registered`);return new i(this.injector,n.instanceConfig.async,t)}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](l.Injector))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})();class jc{create(e){const{validator:t}=e,n=(0,a._T)(e,["validator"]),i=n.params.map((({name:e})=>e));return class extends pc{constructor(e,t,n){super(e,t,n),this.params&&this._setParamsProxy()}get messageFromParams(){return{[n.type]:{message:this.params.message}}}_setParamsProxy(){this.params=new Proxy(this.params,{get(e,t){if(i.includes(t))return e[t];throw new Error(`Property ${t} is not defined in validator params config`)}})}_toPromise(e){let t;return t=e instanceof Promise?e:e instanceof h.Observable?e.toPromise():Promise.resolve(e),t}validate(e){var n;const i=t(this.params)(e);return this.isAsync?this._toPromise(i).then((e=>{var t;return e&&(null===(t=this.params)||void 0===t?void 0:t.message)?this.messageFromParams:e})):(null===(n=this.params)||void 0===n?void 0:n.message)&&i?this.messageFromParams:i}}}}let Ac=(()=>{class e extends wc{constructor(e){super(),this._validatorRegistryService=e}getValidator(e,t){return this._validatorRegistryService.get(e,t)}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](dc))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})(),Rc=(()=>{class e extends wc{constructor(e,t){super(),this._schemaValidatorRegistry=e,this._validatorRegistryService=t}getValidator(e,t){return this._schemaValidatorRegistry.has(e)?this._schemaValidatorRegistry.get(e,t):this._validatorRegistryService.get(e,t)}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](Oc),l["ɵɵinject"](dc))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})();var Fc=n(39269);let Vc=(()=>{class e{constructor(e){this._modelGenerator=e}diff(e,t){var n,i;const r=(0,Fc.diff)(null!==(n=null==e?void 0:e.viewModelConfig)&&void 0!==n?n:{},null!==(i=null==t?void 0:t.viewModelConfig)&&void 0!==i?i:{});if((0,bi.Z)(r))return(0,h.of)({actualViewModelConfig:null==t?void 0:t.viewModelConfig});const a=Object.keys(r.attributes),o=a.map((e=>{var n,i;return null===(i=null===(n=t.viewModelConfig.attributes[e])||void 0===n?void 0:n.modelConfig)||void 0===i?void 0:i.path})).filter(Boolean);return this._modelGenerator.generate(t.modelConfig).pipe((0,g.U)((e=>({actualViewModelConfig:null==t?void 0:t.viewModelConfig,attributes:{changed:a},models:{changed:e.filter((e=>o.includes(e.name)))}}))))}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](cc))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})(),Lc=(()=>{class e extends kc{constructor(){super(...arguments),this._lifecycleHooksRequests={init:ll,destroy:cl},this._handlerChain=r.HandlerChainService.instance}_processRequest(e,t,n){return this.ngZone.runOutsideAngular((()=>this.sendRequest(Object.assign(Object.assign({},e),{scopes:n,$context:t}))))}_processViewModelAttributeChanges(e,t){e.events$.pipe((0,f.h)((e=>e.type===sl.ChangeAttributeValue))).subscribe({next:n=>this._processRequest(new dl(n.payload),e,t)})}_generateLifecycleHooks(e,t){Object.entries(this._lifecycleHooksRequests).forEach((([n,i])=>{e[n]=new Proxy(e[n],{apply:(r,a,o)=>{const s=r.apply(a,o);if(!(s instanceof h.Observable))throw new Error(`Method ${n} should return Observable`);return s.pipe((0,Pn.w)((n=>(0,h.from)(this._processRequest(new i,e,t)).pipe((0,co.h)(n)))))}})}))}_generateFromConfig(e,t){const n=l.Injector.create({providers:t,parent:this.injector}),{viewModelConfig:i,modelConfig:r,resources:a,models:o,scopes:s,modelInitConfigs:c,modelConfig:{primaryDataSourceName:d}={}}=e,u=this.viewModelFactory.create(this,n,i,a,null,s,c);return this._generateLifecycleHooks(u,s),this._processViewModelAttributeChanges(u,s),u.init(o,null==r?void 0:r.dependencies,d)}_generateFromString(e,t=[]){const{resources:n,models:i,scopes:r,modelInitConfigs:a}=e;return this.repository.resolveModelConfig(e.viewModelConfig).pipe((0,Pn.w)((e=>this._generateFromConfig({viewModelConfig:e,resources:n,models:i,scopes:r,modelInitConfigs:a},t))))}sendRequest(e){return this._handlerChain.process(e)}generate(e,t=[]){return"string"==typeof e.viewModelConfig?this._generateFromString(e,t):this._generateFromConfig(e,t)}}return e.ɵfac=function(){let t;return function(n){return(t||(t=l["ɵɵgetInheritedFactory"](e)))(n||e)}}(),e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"root"}),e})();const zc=JSON.parse('{"Validators":{"Autocomplete":{"Message":"Vyberte prosím hodnotu ze seznamu"},"Required":{"Message":"Zadejte hodnotu"},"MaxLength":{"Message":"Byla překročena maximální délka textu ({{AktuálníDélka}}/{{MaximálníDélka}})"},"MinLength":{"Message":"Nebyla dosažena minimální délka textu ({{AktuálníDélka}}/{{MinimálníDélka}})"},"DatetimePickerSyntax":{"Message":"Neplatný formát data a času"},"DatePickerSyntax":{"Message":"Neplatný formát data"},"TimePickerSyntax":{"Message":"Neplatný formát času"}},"BaseViewModel":{"DataSourceAttributeRemoved":"Column removed"}}'),Bc=JSON.parse('{"Validators":{"Autocomplete":{"Message":"Please select value from the list"},"Required":{"Message":"Wert eingeben"},"MaxLength":{"Message":"Maximum text length exceeded ({{actualLength}}/{{maxLength}})"},"MinLength":{"Message":"Minimum text length not reached ({{actualLength}}/{{minLength}})"},"DatetimePickerSyntax":{"Message":"Invalid date and time format"},"DatePickerSyntax":{"Message":"Invalid date format"},"TimePickerSyntax":{"Message":"Invalid time format"}},"BaseViewModel":{"DataSourceAttributeRemoved":"Column removed"}}'),Gc=JSON.parse('{"Validators":{"Autocomplete":{"Message":"Please select value from the list"},"Required":{"Message":"ادخل قيمة"},"MaxLength":{"Message":"Maximum text length exceeded ({{actualLength}}/{{maxLength}})"},"MinLength":{"Message":"Minimum text length not reached ({{actualLength}}/{{minLength}})"},"DatetimePickerSyntax":{"Message":"Invalid date and time format"},"DatePickerSyntax":{"Message":"Invalid date format"},"TimePickerSyntax":{"Message":"Invalid time format"}},"BaseViewModel":{"DataSourceAttributeRemoved":"Column removed"}}'),Hc=JSON.parse('{"Validators":{"Autocomplete":{"Message":"Please select value from the list"},"Required":{"Message":"Enter a value"},"MaxLength":{"Message":"Maximum text length exceeded ({{actualLength}}/{{maxLength}})"},"MinLength":{"Message":"Minimum text length not reached ({{actualLength}}/{{minLength}})"},"DatetimePickerSyntax":{"Message":"Invalid date and time format"},"DatePickerSyntax":{"Message":"Invalid date format"},"TimePickerSyntax":{"Message":"Invalid time format"}},"BaseViewModel":{"DataSourceAttributeRemoved":"Column removed"}}'),Uc=JSON.parse('{"Validators":{"Autocomplete":{"Message":"Seleccione el valor de la lista"},"Required":{"Message":"Enter a value"},"MaxLength":{"Message":"Se excedió la longitud máxima del texto ({{actualLength}}/{{maxLength}})"},"MinLength":{"Message":"Longitud mínima del texto no alcanzada ({{actualLength}}/{{minLength}})"},"DatetimePickerSyntax":{"Message":"Invalid date and time format"},"DatePickerSyntax":{"Message":"Invalid date format"},"TimePickerSyntax":{"Message":"Invalid time format"}},"BaseViewModel":{"DataSourceAttributeRemoved":"Column removed"}}'),Zc=JSON.parse('{"Validators":{"Autocomplete":{"Message":"Please select value from the list"},"Required":{"Message":"یک مقدار وارد کنید"},"MaxLength":{"Message":"Maximum text length exceeded ({{actualLength}}/{{maxLength}})"},"MinLength":{"Message":"Minimum text length not reached ({{actualLength}}/{{minLength}})"},"DatetimePickerSyntax":{"Message":"Invalid date and time format"},"DatePickerSyntax":{"Message":"Invalid date format"},"TimePickerSyntax":{"Message":"Invalid time format"}},"BaseViewModel":{"DataSourceAttributeRemoved":"Column removed"}}'),$c=JSON.parse('{"Validators":{"Autocomplete":{"Message":"Merci de sélectionner la valeur dans la liste"},"Required":{"Message":"Saisir une valeur"},"MaxLength":{"Message":"Longueur maximale du texte dépassée ({{actualLength}}/{{maxLength}})"},"MinLength":{"Message":"Longueur de texte minimale non atteinte ({{actualLength}}/{{minLength}})"},"DatetimePickerSyntax":{"Message":"Format de date et d\'heure non valide"},"DatePickerSyntax":{"Message":"Format de date invalide"},"TimePickerSyntax":{"Message":"Format d\'heure non valide"}},"BaseViewModel":{"DataSourceAttributeRemoved":"Colonne supprimée"}}'),Wc=JSON.parse('{"Validators":{"Autocomplete":{"Message":"Please select value from the list"},"Required":{"Message":"הזן ערך"},"MaxLength":{"Message":"Maximum text length exceeded ({{actualLength}}/{{maxLength}})"},"MinLength":{"Message":"Minimum text length not reached ({{actualLength}}/{{minLength}})"},"DatetimePickerSyntax":{"Message":"Invalid date and time format"},"DatePickerSyntax":{"Message":"Invalid date format"},"TimePickerSyntax":{"Message":"Invalid time format"}},"BaseViewModel":{"DataSourceAttributeRemoved":"Column removed"}}'),qc=JSON.parse('{"Validators":{"Autocomplete":{"Message":"Please select value from the list"},"Required":{"Message":"Masukkan nilai"},"MaxLength":{"Message":"Maximum text length exceeded ({{actualLength}}/{{maxLength}})"},"MinLength":{"Message":"Minimum text length not reached ({{actualLength}}/{{minLength}})"},"DatetimePickerSyntax":{"Message":"Invalid date and time format"},"DatePickerSyntax":{"Message":"Invalid date format"},"TimePickerSyntax":{"Message":"Invalid time format"}},"BaseViewModel":{"DataSourceAttributeRemoved":"Column removed"}}'),Yc=JSON.parse('{"Validators":{"Autocomplete":{"Message":"Please select value from the list"},"Required":{"Message":"Inserisci un valore"},"MaxLength":{"Message":"Maximum text length exceeded ({{actualLength}}/{{maxLength}})"},"MinLength":{"Message":"Minimum text length not reached ({{actualLength}}/{{minLength}})"},"DatetimePickerSyntax":{"Message":"Invalid date and time format"},"DatePickerSyntax":{"Message":"Invalid date format"},"TimePickerSyntax":{"Message":"Invalid time format"}},"BaseViewModel":{"DataSourceAttributeRemoved":"Column removed"}}'),Jc=JSON.parse('{"Validators":{"Autocomplete":{"Message":"Please select value from the list"},"Required":{"Message":"Enter a value"},"MaxLength":{"Message":"Maximum text length exceeded ({{actualLength}}/{{maxLength}})"},"MinLength":{"Message":"Minimum text length not reached ({{actualLength}}/{{minLength}})"},"DatetimePickerSyntax":{"Message":"Invalid date and time format"},"DatePickerSyntax":{"Message":"Invalid date format"},"TimePickerSyntax":{"Message":"Invalid time format"}},"BaseViewModel":{"DataSourceAttributeRemoved":"Column removed"}}'),Qc=JSON.parse('{"Validators":{"Autocomplete":{"Message":"Please select value from the list"},"Required":{"Message":"Enter a value"},"MaxLength":{"Message":"Maximum text length exceeded ({{actualLength}}/{{maxLength}})"},"MinLength":{"Message":"Minimum text length not reached ({{actualLength}}/{{minLength}})"},"DatetimePickerSyntax":{"Message":"Invalid date and time format"},"DatePickerSyntax":{"Message":"Invalid date format"},"TimePickerSyntax":{"Message":"Invalid time format"}},"BaseViewModel":{"DataSourceAttributeRemoved":"Column removed"}}'),Kc=JSON.parse('{"Validators":{"Autocomplete":{"Message":"Selecteer een waarde uit de lijst"},"Required":{"Message":"Voer een waarde in"},"MaxLength":{"Message":"Maximum text length exceeded ({{actualLength}}/{{maxLength}})"},"MinLength":{"Message":"Minimum text length not reached ({{actualLength}}/{{minLength}})"},"DatetimePickerSyntax":{"Message":"Invalid date and time format"},"DatePickerSyntax":{"Message":"Invalid date format"},"TimePickerSyntax":{"Message":"Invalid time format"}},"BaseViewModel":{"DataSourceAttributeRemoved":"Column removed"}}'),Xc=JSON.parse('{"Validators":{"Autocomplete":{"Message":"Please select value from the list"},"Required":{"Message":"Enter a value"},"MaxLength":{"Message":"Maximum text length exceeded ({{actualLength}}/{{maxLength}})"},"MinLength":{"Message":"Minimum text length not reached ({{actualLength}}/{{minLength}})"},"DatetimePickerSyntax":{"Message":"Invalid date and time format"},"DatePickerSyntax":{"Message":"Invalid date format"},"TimePickerSyntax":{"Message":"Invalid time format"}},"BaseViewModel":{"DataSourceAttributeRemoved":"Column removed"}}'),ed=JSON.parse('{"Validators":{"Autocomplete":{"Message":"Please select value from the list"},"Required":{"Message":"Enter a value"},"MaxLength":{"Message":"Maximum text length exceeded ({{actualLength}}/{{maxLength}})"},"MinLength":{"Message":"Minimum text length not reached ({{actualLength}}/{{minLength}})"},"DatetimePickerSyntax":{"Message":"Invalid date and time format"},"DatePickerSyntax":{"Message":"Invalid date format"},"TimePickerSyntax":{"Message":"Invalid time format"}},"BaseViewModel":{"DataSourceAttributeRemoved":"Column removed"}}'),td=JSON.parse('{"Validators":{"Autocomplete":{"Message":"Please select value from the list"},"Required":{"Message":"Insira um valor"},"MaxLength":{"Message":"Maximum text length exceeded ({{actualLength}}/{{maxLength}})"},"MinLength":{"Message":"Minimum text length not reached ({{actualLength}}/{{minLength}})"},"DatetimePickerSyntax":{"Message":"Invalid date and time format"},"DatePickerSyntax":{"Message":"Invalid date format"},"TimePickerSyntax":{"Message":"Invalid time format"}},"BaseViewModel":{"DataSourceAttributeRemoved":"Column removed"}}'),nd=JSON.parse('{"Validators":{"Autocomplete":{"Message":"Selecione um valor da lista"},"Required":{"Message":"Insira um valor"},"MaxLength":{"Message":"Limite máximo de texto excedido ({{actualLength}}/{{maxLength}})"},"MinLength":{"Message":"Limite mínimo de texto não alcançado ({{actualLength}}/{{minLength}})"},"DatetimePickerSyntax":{"Message":"Formado de data e hora inválido"},"DatePickerSyntax":{"Message":"Formato de data inválido"},"TimePickerSyntax":{"Message":"Formato de hora inválido"}},"BaseViewModel":{"DataSourceAttributeRemoved":"Column removed"}}'),id=JSON.parse('{"Validators":{"Autocomplete":{"Message":"Please select value from the list"},"Required":{"Message":"Introdu o valoare"},"MaxLength":{"Message":"Maximum text length exceeded ({{actualLength}}/{{maxLength}})"},"MinLength":{"Message":"Minimum text length not reached ({{actualLength}}/{{minLength}})"},"DatetimePickerSyntax":{"Message":"Invalid date and time format"},"DatePickerSyntax":{"Message":"Invalid date format"},"TimePickerSyntax":{"Message":"Invalid time format"}},"BaseViewModel":{"DataSourceAttributeRemoved":"Column removed"}}'),rd=JSON.parse('{"Validators":{"Autocomplete":{"Message":"Выберите значение из списка"},"Required":{"Message":"Необходимо указать значение"},"MaxLength":{"Message":"Превышена допустимая длина текста ({{actualLength}}/{{maxLength}})"},"MinLength":{"Message":"Не достигнута допустимая длина текста ({{actualLength}}/{{minLength}})"},"DatetimePickerSyntax":{"Message":"Неправильный формат даты и времени"},"DatePickerSyntax":{"Message":"Неправильный формат даты"},"TimePickerSyntax":{"Message":"Неправильный формат времени"}},"BaseViewModel":{"DataSourceAttributeRemoved":"Колонка удалена"}}'),ad=JSON.parse('{"Validators":{"Autocomplete":{"Message":"Please select value from the list"},"Required":{"Message":"Enter a value"},"MaxLength":{"Message":"Maximum text length exceeded ({{actualLength}}/{{maxLength}})"},"MinLength":{"Message":"Minimum text length not reached ({{actualLength}}/{{minLength}})"},"DatetimePickerSyntax":{"Message":"Invalid date and time format"},"DatePickerSyntax":{"Message":"Invalid date format"},"TimePickerSyntax":{"Message":"Invalid time format"}},"BaseViewModel":{"DataSourceAttributeRemoved":"Column removed"}}'),od=JSON.parse('{"Validators":{"Autocomplete":{"Message":"Please select value from the list"},"Required":{"Message":"ป้อนค่า"},"MaxLength":{"Message":"Maximum text length exceeded ({{actualLength}}/{{maxLength}})"},"MinLength":{"Message":"Minimum text length not reached ({{actualLength}}/{{minLength}})"},"DatetimePickerSyntax":{"Message":"Invalid date and time format"},"DatePickerSyntax":{"Message":"Invalid date format"},"TimePickerSyntax":{"Message":"Invalid time format"}},"BaseViewModel":{"DataSourceAttributeRemoved":"Column removed"}}'),sd=JSON.parse('{"Validators":{"Autocomplete":{"Message":"Please select value from the list"},"Required":{"Message":"Bir değer girin"},"MaxLength":{"Message":"Maximum text length exceeded ({{actualLength}}/{{maxLength}})"},"MinLength":{"Message":"Minimum text length not reached ({{actualLength}}/{{minLength}})"},"DatetimePickerSyntax":{"Message":"Invalid date and time format"},"DatePickerSyntax":{"Message":"Invalid date format"},"TimePickerSyntax":{"Message":"Invalid time format"}},"BaseViewModel":{"DataSourceAttributeRemoved":"Column removed"}}'),ld=JSON.parse('{"Validators":{"Autocomplete":{"Message":"Vui lòng chọn giá trị từ danh sách"},"Required":{"Message":"Nhập một giá trị"},"MaxLength":{"Message":"Maximum text length exceeded ({{actualLength}}/{{maxLength}})"},"MinLength":{"Message":"Minimum text length not reached ({{actualLength}}/{{minLength}})"},"DatetimePickerSyntax":{"Message":"Invalid date and time format"},"DatePickerSyntax":{"Message":"Invalid date format"},"TimePickerSyntax":{"Message":"Invalid time format"}},"BaseViewModel":{"DataSourceAttributeRemoved":"Column removed"}}'),cd={zh:JSON.parse('{"Validators":{"Autocomplete":{"Message":"Please select value from the list"},"Required":{"Message":"Enter a value"},"MaxLength":{"Message":"Maximum text length exceeded ({{actualLength}}/{{maxLength}})"},"MinLength":{"Message":"Minimum text length not reached ({{actualLength}}/{{minLength}})"},"DatetimePickerSyntax":{"Message":"Invalid date and time format"},"DatePickerSyntax":{"Message":"Invalid date format"},"TimePickerSyntax":{"Message":"Invalid time format"}},"BaseViewModel":{"DataSourceAttributeRemoved":"Column removed"}}'),"vi-VN":ld,"tr-TR":sd,"th-TH":od,"sv-SE":ad,"ro-RO":id,"pt-PT":nd,"pt-BR":td,"pl-PL":ed,no:Xc,"nl-NL":Kc,"lv-LV":Qc,"kk-KZ":Jc,"it-IT":Yc,"id-ID":qc,"he-IL":Wc,"fr-FR":$c,"fa-IR":Zc,"es-ES":Uc,"de-DE":Bc,"cs-CZ":zc,"ar-SA":Gc,"en-US":Hc,"ru-RU":rd};let dd=class extends r.BaseRequest{constructor(){super(...arguments),this.type="crt.ChangeViewModelAttributeValueRequest"}};dd=(0,a.gn)([(0,r.CrtRequest)({type:"crt.ChangeViewModelAttributeValueRequest"})],dd);let ud=class extends r.BaseRequestHandler{handle(e){return(0,a.mG)(this,void 0,void 0,(function*(){const{$context:t,attributeName:n,attributeValue:i}=e||{};if(!t||!n)return;const r=t;return yield r.setValue({[n]:i}).toPromise(),i}))}};ud=(0,a.gn)([(0,r.CrtRequestHandler)({type:"crt.ChangeViewModelAttributeValueHandler",requestType:"crt.ChangeViewModelAttributeValueRequest"})],ud);let pd=class extends r.BaseRequest{};pd=(0,a.gn)([(0,r.CrtRequest)({type:"crt.LoadLookupListRequest"})],pd);let md=class extends r.BaseRequestHandler{handle(e){var t;const n={control:e.valueAttributeName,items:e.itemsAttributeName},i=null!==(t=e.filterValue)&&void 0!==t?t:null,a=[{type:r.ModelParameterType.PrimaryDisplayValueFilter,value:"@requestPayload.lookupFilterValue"},...e.parameters||[]],o=Object.assign(Object.assign({},e.payload),{lookupFilterValue:i});return e.$context.loadLookupList(n,a,o),Promise.resolve()}};md=(0,a.gn)([(0,r.CrtRequestHandler)({type:"crt.LoadLookupListHandler",requestType:"crt.LoadLookupListRequest"})],md);let hd=class extends r.DataRequest{};hd=(0,a.gn)([(0,r.CrtRequest)({type:"crt.LoadDataRequest",title:"InterfaceDesigner.PropertiesPages.ViewElementEventPropertiesPanel.Requests.LoadDataRequest",propertiesPanelComponentTypeName:"crt.LoadDataRequestPropertiesPanel",position:500})],hd);let gd=class extends r.BaseRequestHandler{_isDynamicDS(e){const t=e.config||{};return!(!t.dataSourceConfig||!t.attributeName)}_loadDynamicDS(e){const t=e.$context,n=e.config;return t.load(n).toPromise()}_load(e){if(!e.dataSourceName)return;const t=e.$context;let n=e.parameters;"crt.ComboBox"===e.viewElement&&(n=[...e.parameters,{type:r.ModelParameterType.PrimaryDisplayValueFilter,value:e.filterValue}]);const i=e.config;return t.load(e.dataSourceName,n,i).toPromise()}handle(e){if(!e.$context)throw new Error("Property '$context' should be specified");return this._isDynamicDS(e)?this._loadDynamicDS(e):this._load(e)}};gd=(0,a.gn)([(0,r.CrtRequestHandler)({type:"crt.LoadDataSourceHandler",requestType:"crt.LoadDataRequest"})],gd);let fd=class extends r.DataRequest{};fd=(0,a.gn)([(0,r.CrtRequest)({type:"crt.LoadDefaultValuesRequest"})],fd);let vd=class extends r.BaseRequestHandler{handle(e){return e.$context.loadDefaultValues(e.dataSourceName).toPromise()}};vd=(0,a.gn)([(0,r.CrtRequestHandler)({type:"crt.LoadDefaultValuesHandler",requestType:"crt.LoadDefaultValuesRequest"})],vd);let bd=class extends r.DataRequest{};bd=(0,a.gn)([(0,r.CrtRequest)({type:"crt.SaveDataRequest"})],bd);let Cd=class extends r.BaseRequestHandler{handle(e){return e.$context.save(e.dataSourceName,e.parameters,e.options).toPromise()}};Cd=(0,a.gn)([(0,r.CrtRequestHandler)({type:"crt.SaveDataHandler",requestType:"crt.SaveDataRequest"})],Cd);let yd=class extends r.DataRequest{};yd=(0,a.gn)([(0,r.CrtRequest)({type:"crt.DeleteDataRequest"})],yd);let wd=class extends r.BaseRequestHandler{handle(e){return e.$context.delete(e.dataSourceName,e.parameters,e.config).toPromise()}};wd=(0,a.gn)([(0,r.CrtRequestHandler)({type:"crt.DeleteDataHandler",requestType:"crt.DeleteDataRequest"})],wd);let _d=class extends r.DataRequest{};_d=(0,a.gn)([(0,r.CrtRequest)({type:"crt.CopyDataRequest"})],_d);let xd=class extends r.BaseRequestHandler{handle(e){return e.$context.copy(e.dataSourceName,e.recordId).toPromise()}};xd=(0,a.gn)([(0,r.CrtRequestHandler)({type:"crt.CopyDataHandler",requestType:"crt.CopyDataRequest"})],xd);let Id=class extends r.DataRequest{};Id=(0,a.gn)([(0,r.CrtRequest)({type:"crt.SortDataRequest"})],Id);let Sd=class extends r.BaseRequestHandler{handle(e){return e.$context.setSorting(e.dataSourceName,e.config).toPromise()}};Sd=(0,a.gn)([(0,r.CrtRequestHandler)({type:"crt.SortDataHandler",requestType:"crt.SortDataRequest"})],Sd);let Md=(()=>{class e{selectData(){return null}}return e.ɵfac=function(t){return new(t||e)},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"root"}),e})(),Dd=(()=>{class e extends Md{constructor(){super(...arguments),this.elon={FirstName:"Elon",Account:{Name:"SpaceX",Ships:[{Id:"Falcon 9"},{Id:"Falcon Heavy"}],Employee:{Name:"Mask",Age:49}},Employees:["Elon"]}}selectData(){return(0,h.of)(this.elon).pipe((0,rl.g)(50))}}return e.ɵfac=function(){let t;return function(n){return(t||(t=l["ɵɵgetInheritedFactory"](e)))(n||e)}}(),e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"root"}),e})(),Pd=class{};Pd.ɵfac=function(e){return new(e||Pd)},Pd.ɵmod=l["ɵɵdefineNgModule"]({type:Pd}),Pd.ɵinj=l["ɵɵdefineInjector"]({providers:[ac,rc,cc,Ic,r.FeatureService,{provide:kc,useClass:Lc},{provide:al,useClass:ol},{provide:Md,useClass:Dd},Xr,Kl,fa,jc,{provide:wc,useClass:Ac}],imports:[[o.CommonModule,c.UX,pt.forRoot({i18n:cd}),kl]]}),Pd=(0,a.gn)([(0,r.CrtModule)({requestHandlers:[md,gd,vd,Cd,wd,xd,Sd]})],Pd),("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](Pd,{imports:[o.CommonModule,c.UX,pt,kl]});const Td=new l.InjectionToken("CRT_METADATA_PREPROCESSOR");let kd=(()=>{class e{constructor(e){this._preprocessors=null!=e?e:[]}onMetaDataInit(e){return(0,a.mG)(this,void 0,void 0,(function*(){let t=(0,so.Z)(e);for(const e of this._preprocessors)"crtOnMetaDataInit"in e&&(t=yield e.crtOnMetaDataInit(t));return yield t}))}onModelInit(e,t){return(0,a.mG)(this,void 0,void 0,(function*(){for(const n of this._preprocessors)"crtOnModelInit"in n&&(e=yield n.crtOnModelInit(e,t));return yield e}))}onViewModelInit(e,t,n){return(0,a.mG)(this,void 0,void 0,(function*(){for(const i of this._preprocessors)"crtOnViewModelInit"in i&&(e=yield i.crtOnViewModelInit(e,t,n));return yield e}))}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](Td,8))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"root"}),e})();var Ed=n(46015);const Nd="__preprocessed";let Od=(()=>{class e{addProperty(e,t,n){this._setMutation(e,t,{operationType:"added"}),e[t]=n}updateProperty(e,t,n){this._setMutation(e,t,{operationType:"modified",input:e[t],output:n}),e[t]=n}removeProperty(e,t){this._setMutation(e,t,{operationType:"deleted",input:e[t]}),delete e[t]}revert(e){const t=new Set(Ke(e).filter((e=>e.includes(Nd))).map((e=>e.join("."))).map((e=>{const t=e.split(".__preprocessed.");return t.length>1?t.shift():""})));return Array.from(t).sort().map((t=>""===t?e:(0,wa.Z)(e,t))).forEach((e=>{e&&this._revertMutations(e)})),e}_setMutation(e,t,n){e.__preprocessed||(e.__preprocessed={}),e.__preprocessed[t]=n}_revertMutations(e){var t;const n=null!==(t=e.__preprocessed)&&void 0!==t?t:{};Object.entries(n).forEach((([t,n])=>{const i=n.operationType;switch(n.operationType){case"added":delete e[t];break;case"modified":(0,Ed.Z)(e[t],n.output)&&(e[t]=n.input);break;case"deleted":e[t]=n.input;break;default:throw new Error(`mutation with type: ${i} not supported`)}})),delete e.__preprocessed}}return e.ɵfac=function(t){return new(t||e)},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"root"}),e})();var jd=n(43165);class Ad{constructor(e=new h.Subscription,t=Promise.resolve()){this._subscription=e,this.ready=t}static all(e){const t=function(e){const t=new h.Subscription;for(const n of e)t.add(n);return t}(e.map((e=>e._subscription))),n=Promise.all(e.map((e=>e.ready))).then((()=>{}));return new Ad(t,n)}static subscribe(e,t,n=!1){const i=(e=e.pipe((0,Or.B)())).subscribe({next:t}),r=n?e.pipe((0,A.P)(),(0,co.h)(void 0)).toPromise():Promise.resolve();return new Ad(i,r)}unsubscribe(){this._subscription.unsubscribe()}}function Rd(e){return"string"==typeof e&&e.startsWith("$")}function Fd(e){return"string"==typeof e&&/@event\b/.test(e)}function Vd(e){return Boolean(e.match(/^'.*'$/))}function Ld(e){return!isNaN(Number(e))&&!isNaN(parseFloat(e))}function zd(e){return"true"===e||"false"===e}function Bd(e,t){if(!e)return t;if(!t.startsWith(e))throw new Error(`Attribute path '${t}' should start with '${e}'`);return t.substring(e.length+1)}function Gd(e){if(!Rd(e))throw new Error(`'${e}' is not binding expression`);const t=e.indexOf("|");return t>-1&&(e=e.substring(0,t).trimEnd()),e.substring(1)}function Hd(e){for(;e.parent;)e=e.parent;return e}function Ud(e,t){const n=e.split(".").slice(0,-1),i=Zd(t),r=i.map((e=>e.viewModel$.pipe((0,Tn.q)(1))));return(0,h.forkJoin)(r).pipe((0,g.U)((e=>{const t=[];let r=i.length-1,a=[];for(const i of n)if(t.push(i),$d(e[r],t)&&(a=[...t],r--,r<0))return null;return{context:i[r],contextPath:a.join(".")}})))}function Zd(e){const t=[e];return e.parent&&t.push(...Zd(e.parent)),t}function $d(e,t){let n=e;for(const e of t)n=(null==n?void 0:n.attributes)?n.attributes[e]:null==n?void 0:n[e];return n instanceof Rl}let Wd=(()=>{class e{_getAttributeName(e){return e.split(".").pop()}_getAttributeHost(e,t){const n=t.split(".");if(n.length>1){const t=n.slice(0,-1).join(".");return(0,h.from)(Mc(e,t)).pipe((0,En.b)((e=>{if(!e)throw new Error(`View Model by path '${t}' could not be found`)})))}return(0,h.of)(e)}getAttributeValueChanges({attributeHost:e,attributeName:t}){const n=e.events$.pipe((0,f.h)((e=>e.type===sl.ChangeAttributeValue)),(0,f.h)((e=>{var n;return(null===(n=null==e?void 0:e.payload)||void 0===n?void 0:n.attributeName)===t})),(0,g.U)((e=>e.payload.value)),(0,Or.B)()),i=(0,h.from)(Mc(e,t)).pipe((0,b.R)(n));return(0,h.merge)(i,n)}getAttributeLocationChanges(e,t){return Ud(e,t).pipe((0,En.b)((t=>{if(!t)throw new Error(`Target binding context for attribute "${e} was not found"`)})),(0,Pn.w)((({context:t,contextPath:n})=>(0,h.combineLatest)([t.viewModel$,(0,h.of)(Bd(n,e))]))),(0,Pn.w)((([e,t])=>(0,h.forkJoin)({attributeHost:this._getAttributeHost(e,t),attributeName:(0,h.of)(this._getAttributeName(t))}))))}evaluate(e,t){const n=e.slice(1);return this.getAttributeLocationChanges(n,t).pipe((0,Pn.w)((e=>this.getAttributeValueChanges(e))))}}return e.ɵfac=function(t){return new(t||e)},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})(),qd=(()=>{class e extends Wd{removeConvertersFromExpression(e){const t=e.indexOf("|");return-1===t?e:(console.warn(`Cannot use converters in control binding expression: ${e}`),e.substring(0,t).trimEnd())}evaluate(e,t){const n=(e=this.removeConvertersFromExpression(e)).slice(1);return this.getAttributeLocationChanges(n,t).pipe((0,g.U)((({attributeHost:e,attributeName:t})=>e.getAttributeControl(t))))}}return e.ɵfac=function(){let t;return function(n){return(t||(t=l["ɵɵgetInheritedFactory"](e)))(n||e)}}(),e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})();var Yd=n(95242);let Jd=(()=>{class e{_getStringValue(e){return e.match(/^'(.*)'$/)[1]}_getBooleanValue(e){if("true"===e)return!0;if("false"===e)return!1;throw new Error(`${e} is not Boolean value`)}evaluate(e){if(Vd(e))return(0,h.of)(this._getStringValue(e));if(Ld(e))return(0,h.of)(parseFloat(e));if(zd(e))return(0,h.of)(this._getBooleanValue(e));throw new Error(`Failed to parse primitive value binding expression: ${e}`)}}return e.ɵfac=function(t){return new(t||e)},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})(),Qd=(()=>{class e extends Wd{_getViewModelCollectionValue(e,t){if(e.length>0)return Array.from(t).map((t=>this._getObjectProp(t,e)))}_getObjectProp(e,t){return(0,a.mG)(this,void 0,void 0,(function*(){const n=t.shift();return n?(e=yield e[n])instanceof Pc?yield this._getObjectProp(e,t):e instanceof Rl?yield Promise.all(this._getViewModelCollectionValue(t,e)):yield this._getObjectProp(e,t):e}))}evaluate(e,t){const n=e.slice(1);return Ud(n,t).pipe((0,g.U)((e=>null!=e?e:{context:Hd(t),contextPath:""})),(0,Pn.w)((e=>(0,h.combineLatest)([e.context.viewModel$,(0,h.of)(Bd(e.contextPath,n))]))),(0,Pn.w)((([e,t])=>this._getObjectProp(e,t.split(".")))),(0,Tn.q)(1))}}return e.ɵfac=function(){let t;return function(n){return(t||(t=l["ɵɵgetInheritedFactory"](e)))(n||e)}}(),e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})(),Kd=(()=>{class e{constructor(e,t,n){this._convertersRegistry=e,this._objectPropBindingExpressionInterpreter=t,this._fixedValueBindingExpressionInterpreter=n}_evaluateParam(e,t){if(function(e){return Vd(e)||Ld(e)||zd(e)}(e))return this._fixedValueBindingExpressionInterpreter.evaluate(e);if(Rd(e))return this._objectPropBindingExpressionInterpreter.evaluate(e,t);throw new Error(`Cannot parse parameter expression: ${e}`)}_evaluateParams(e,t){const n=e.map((e=>this._evaluateParam(e,t).pipe((0,A.P)())));return(0,h.forkJoin)(n).pipe((0,Yd.d)([]))}evaluate(e,t){const[n,...i]=e.split(":").map((e=>e.trim())),r=this._convertersRegistry.get(n),a=this._evaluateParams(i,t),o=t.viewModel$.pipe((0,A.P)());return(0,h.forkJoin)([o,a]).pipe((0,g.U)((([e,t])=>n=>r.convert(n,e,...t))))}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](Js),l["ɵɵinject"](Qd),l["ɵɵinject"](Jd))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})(),Xd=(()=>{class e{evaluate(e,t){const n=e.slice(1);return Hd(t).viewModel$.pipe((0,Pn.w)((e=>Mc(e,n))))}}return e.ɵfac=function(t){return new(t||e)},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})(),eu=(()=>{class e{constructor(e,t,n,i=!1){this._attributeBindingExpressionInterpreter=e,this._resourceBindingExpressionInterpreter=t,this._converterExpressionInterpreter=n,this._isDesignTime=i}_evaluateConverters(e,t){if(this._isDesignTime)return(0,h.of)([]);const n=e.map((e=>this._converterExpressionInterpreter.evaluate(e,t)));return(0,h.forkJoin)(n).pipe((0,Yd.d)([]))}_applyConverters(e,t){return(0,a.mG)(this,void 0,void 0,(function*(){for(const n of t)(e=n(e))instanceof Promise&&(e=yield e);return e}))}evaluateInputValueExpression(e,t){return"string"==typeof(n=e)&&n.startsWith(`$Resources.${Br.string}.`)?this._resourceBindingExpressionInterpreter.evaluate(e,t):this._attributeBindingExpressionInterpreter.evaluate(e,t);var n}evaluate(e,t){const[n,...i]=e.split("|").map((e=>e.trim())),r=this.evaluateInputValueExpression(n,t),a=this._evaluateConverters(i,t);return r.pipe((0,Pn.w)((e=>a.pipe((0,Pn.w)((t=>this._applyConverters(e,t)))))))}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](Wd),l["ɵɵinject"](Xd),l["ɵɵinject"](Kd),l["ɵɵinject"](nl,8))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})(),tu=(()=>{class e extends eu{constructor(e,t,n){super(null,null,t,n),this._objectPropBindingExpressionInterpreter=e}_evaluateEventBindingExpression(e,t){const n=t.initialEvent,i=e.replace(/@event\.?/,"");return(0,h.of)(i?(0,wa.Z)(n,i):n)}evaluateInputValueExpression(e,t){return Fd(e)?this._evaluateEventBindingExpression(e,t):this._objectPropBindingExpressionInterpreter.evaluate(e,t)}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](Qd),l["ɵɵinject"](Kd),l["ɵɵinject"](nl,8))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})(),nu=(()=>{class e extends qd{_getAttributeControlChanges(e){return this.getAttributeValueChanges(e).pipe((0,g.U)((()=>e.attributeHost.getAttributeControl(e.attributeName))),(0,g.U)((e=>new yc(e))))}evaluate(e,t){const n=(e=this.removeConvertersFromExpression(e)).slice(1);return this.getAttributeLocationChanges(n,t).pipe((0,Pn.w)((e=>this._getAttributeControlChanges(e))))}}return e.ɵfac=function(){let t;return function(n){return(t||(t=l["ɵɵgetInheritedFactory"](e)))(n||e)}}(),e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})();var iu=n(48649);let ru=(()=>{class e{constructor(e){this._requestParamBindingExpressionInterceptor=e}_evaluate(e,t){return(0,a.mG)(this,void 0,void 0,(function*(){const n={};for(const[i,r]of Object.entries(e))n[i]=yield this._evaluateConfigValue(r,t);return n}))}_evaluateConfigValue(e,t){return Array.isArray(e)?Promise.all(e.map((e=>this._evaluateConfigValue(e,t)))):Rd(e)||Fd(e)?this._requestParamBindingExpressionInterceptor.evaluate(e,t).toPromise():e&&"object"==typeof e?this._evaluate(e,t):Promise.resolve(e)}evaluate(e,t){return(0,h.from)(this._evaluate(e,t))}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](tu))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})(),au=(()=>{class e{constructor(e){this._requestParamsBindingConfigInterpreter=e}_evaluateParams(e,t){return e?this._requestParamsBindingConfigInterpreter.evaluate(e,t):(0,h.of)({})}evaluate(e,t){return this._evaluateParams(e.params,t).pipe((0,iu.M)(Hd(t).viewModel$),(0,g.U)((([t,n])=>Object.assign({type:e.request,$context:n},t))),(0,A.P)())}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](ru))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})();const ou=[Wd,qd,eu,Kd,Qd,Jd,au,tu,ru,Xd,nu];class su{constructor(e){this._loadingAttributeName="loading",this.bindingExpressionInterpreter=e.get(eu),this.attrCtrlExpInterpreter=e.get(qd),this.requestBindingConfigInterpreter=e.get(au),this._bindingContext=e.get(tl,null),this._macrosHandlerService=e.get(uo),this._isDesignTime=e.get(nl,!1)}_useMacros(e,t){if(!this._bindingContext)return t(e);let n;const i=new h.Subject,r=this._bindingContext.viewModel$.pipe((0,Pn.w)((t=>this._macrosHandlerService.handle(e,t))),(0,g.U)(((e,r)=>{null==n||n.unsubscribe(),n=t(e),0===r&&n.ready.then((()=>{i.next(),i.complete()}))})),(0,Al.x)((()=>null==n?void 0:n.unsubscribe()))).subscribe();return new Ad(r,i.toPromise())}_bindLoadingProperty(e,t){if(Object.keys(e).some((e=>e===this._loadingAttributeName)))return new Ad;const n=(0,jd.Z)(e).entries().filter((([e,n])=>this.isInputBinding(e,n,t)&&Rd(n))).value();if(!n.length)return new Ad;const i=n.map((([e,t])=>Gd(t))),r=Hd(this._bindingContext).viewModel$.pipe((0,Pn.w)((e=>{if(!e)return(0,h.of)();let n=[];const r=e.events$.pipe((0,f.h)((e=>e.type===sl.StartLoadModelAttributes)),(0,f.h)((e=>{const t=Object.keys(e.payload);return i.some((e=>t.includes(e)))})),(0,En.b)((e=>{n=Object.keys(e.payload)})),(0,En.b)((()=>t.setPropertyValue("loading",!0)))),a=e.events$.pipe((0,f.h)((e=>e.type===sl.FinishLoadModelAttributes)),(0,f.h)((e=>{const t=Object.keys(e.payload);return n.every((e=>t.includes(e)))})),(0,En.b)((()=>t.setPropertyValue("loading",!1))),(0,En.b)((()=>n=[])));return(0,h.merge)(r,a)}))).subscribe();return new Ad(r)}_isControlProperty(e,t){return e===r.ViewElementRegistry.getFormControlRelatesAttribute(t.type)}_bindInputs(e,t){const[n,i]=(0,jd.Z)(e).entries().filter((([e,n])=>this.isInputBinding(e,n,t))).partition((([,e])=>Rd(e))).value();i.forEach((([n,i])=>{i=this._isControlProperty(n,e)?this.createControl(i):i,t.setPropertyValue(n,i)}));const r=n.map((([n,i])=>{const r=(this._isControlProperty(n,e)?this.attrCtrlExpInterpreter:this.bindingExpressionInterpreter).evaluate(i,this._bindingContext);return Ad.subscribe(r,(e=>t.setPropertyValue(n,e)),!1)})),a=this._bindLoadingProperty(e,t);return Ad.all([...r,a])}_createRequest(e,t){const n=Object.assign(Object.assign({},this._bindingContext),{initialEvent:t});return this.requestBindingConfigInterpreter.evaluate(e,n).pipe((0,g.U)((e=>Object.assign(Object.assign({},e),{$initialEvent:t}))))}_bindOutputs(e,t){const n=Object.entries(e).filter((([e,n])=>this.isOutputBinding(e,n,t))).map((([e,n])=>{const i=t.getEvent(e).pipe((0,Pn.w)((e=>this._createRequest(n,e))));return Ad.subscribe(i,(e=>e.$context.sendViewEvent(e)))}));return Ad.all(n)}isInputBinding(e,t,n){return!this.isOutputBinding(e,t,n)}bind(e,t){const n=t=>Ad.all([this._bindInputs(t,e),this._bindOutputs(t,e)]);return this._isDesignTime?this._useMacros(t,n):n(t)}}class lu extends su{createControl(e){return new c.NI(e)}isOutputBinding(e,t,n){return n.getPropertyValue(e)instanceof l.EventEmitter}}class cu extends su{constructor(e){super(e),this.attrCtrlExpInterpreter=e.get(nu)}createControl(e){return new Cc(e)}isOutputBinding(e,t,n){return"object"==typeof t&&"request"in t}}class du{constructor(e,t,n){this._ngZone=t,this._changeDetectorRef=n,this.instance=e}setValue(e,t){(0,lo.Z)(this.instance,e,t),this._changeDetectorRef.detectChanges()}getPropertyValue(e){return(0,wa.Z)(this.instance,e)}getEvent(e){return this.getPropertyValue(e)}on(e,t){const n=this.getPropertyValue(e).subscribe(t);return()=>{n.unsubscribe()}}setPropertyValue(e,t){this._ngZone.run((()=>this.setValue(e,t)))}}class uu{constructor(e){this.instance=e}getPropertyValue(e){return this.instance[e]}getEvent(e){return(0,h.fromEvent)(this.instance,e)}on(e,t){return this.instance.addEventListener(e,t),()=>this.instance.removeEventListener(e,t)}setPropertyValue(e,t){this.instance[e]=t}}class pu{constructor(e,t){this._ngZone=t,this.instance=e}setValue(e,t){(0,lo.Z)(this.instance,e,t)}getPropertyValue(e){return(0,wa.Z)(this.instance,e)}getEvent(e){return this.getPropertyValue(e)}on(e,t){const n=this.getPropertyValue(e).subscribe(t);return()=>{n.unsubscribe()}}setPropertyValue(e,t){this._ngZone.run((()=>this.setValue(e,t)))}}class mu{constructor(e){this.injector=e}}class hu extends mu{createComponent(e){const t=this.injector.get(Qs),n=this.injector.get(l.ComponentFactoryResolver),i=this.injector.get(l.ViewContainerRef),r=this.injector.get(il),a=this.injector.get(l.Renderer2),o=t.getViewElementType(r.type),s=n.resolveComponentFactory(o),c=i.createComponent(s,0,this.injector);null==e||e.forEach((({name:e,value:t})=>{a.setAttribute(c.location.nativeElement,e,t)}));const d=c.injector.get(l.ChangeDetectorRef);c.changeDetectorRef.detectChanges();const u=this.injector.get(l.NgZone);return new du(c.instance,u,d)}}class gu extends mu{createComponent(e){const t=this.injector.get(Qs),n=this.injector.get(l.Renderer2),i=this.injector.get(l.ViewContainerRef),r=this.injector.get(il),a=t.getSelector(r.type),o=document.createElement(a);return null==e||e.forEach((({name:e,value:t})=>{n.setAttribute(o,e,t)})),n.appendChild(i.element.nativeElement.parentElement,o),this._initDirectionality(o),new uu(o)}_initDirectionality(e){const t=this.injector.get(en.Is);"rtl"===(null==t?void 0:t.value)&&e.setAttribute("dir","rtl")}}const fu=new l.InjectionToken("COMPONENT_PROPERTIES_BINDER"),vu=new l.InjectionToken("DIRECTIVE_PROPERTIES_BINDER"),bu=new l.InjectionToken("VIEW_ELEMENT_COMPONENT_CREATOR"),Cu=function(e){const t=e.get(il);return e.get(Qs).getSelector(t.type)},yu=function(e){return Cu(e)?new cu(e):new lu(e)},wu=function(e){return Cu(e)?new gu(e):new hu(e)};let _u=(()=>{class e{constructor(e,t,n,i,r,a){this._resolver=e,this.parentDirective=t,this.injector=n,this._container=i,this._isDesignTime=r,this._ngZone=a,this._ownProperties=[{property:"visible",defaultValue:!0}],this._dataItemMarkerFeature="UseViewElementDataItemMarker",this._visible=!1,this._dataItemMarkerFeatureState=!1,this.nested=[],this.viewElementShow=new l.EventEmitter}set visible(e){this._visible=e,this._setViewElementVisibility(e||this._isDesignTime)}get visible(){return this._visible}_bindSelfToViewModel(){const e=this._ownProperties.reduce(((e,{property:t,defaultValue:n})=>{var i;return Object.assign(Object.assign({},e),{[t]:null!==(i=this.viewElementConfig[t])&&void 0!==i?i:n})}),{});this._ngZone.runOutsideAngular((()=>this.bindDirectiveProperties(e)))}_bindComponentToViewModel(){const e=(0,Hs.Z)(this.viewElementConfig,...this._ownProperties.map((({property:e})=>e)));this._ngZone.runOutsideAngular((()=>this.bindComponentProperties(e)))}_setViewElementVisibility(e){e&&!this.componentRef?this._showViewElement():!e&&this.componentRef&&this._hideViewElement()}_showViewElement(){const e=this.viewElementConfig.type;if(this._resolver.canResolve(e)){const e=this.injector.get(bu),t=this._dataItemMarkerFeatureState?[{name:"data-item-marker",value:this.viewElementConfig.dataItemMarker||this.viewElementConfig.name}]:[];this.componentRef=e.createComponent(t),this._bindComponentToViewModel(),this.viewElementShow.emit(this)}else{const t=this.injector.get(l.ComponentFactoryResolver).resolveComponentFactory(Zs),n=this._container.createComponent(t);n.instance.caption=e,console.warn(`View element with type "${e}" not found`),this.componentRef=new du(n.instance,this._ngZone,n.changeDetectorRef)}}_hideViewElement(){var e;null===(e=this._componentBinding)||void 0===e||e.unsubscribe(),this.componentRef=null,this._container.clear()}bindDirectiveProperties(e){var t;null===(t=this._directiveBinding)||void 0===t||t.unsubscribe(),this._directiveBinding=this._directivePropertiesBinder.bind(new pu(this,this._ngZone),e)}bindComponentProperties(e){var t;null===(t=this._componentBinding)||void 0===t||t.unsubscribe(),this._componentBinding=this._componentPropertiesBinder.bind(this.componentRef,e)}updateViewElementConfig(e){this.viewElementConfig=e,this._bindSelfToViewModel(),this._bindComponentToViewModel()}ngOnInit(){this._directivePropertiesBinder=this.injector.get(vu),this._componentPropertiesBinder=this.injector.get(fu),this._featureService=this.injector.get(ls),this._featureService.getFeatureState(this._dataItemMarkerFeature).subscribe((e=>this._dataItemMarkerFeatureState=e)),this.parentDirective&&this.parentDirective.attachNested(this),this._bindSelfToViewModel()}attachNested(e){this.nested.push(e)}detachNested(e){this.nested.splice(this.nested.indexOf(e),1)}ngOnDestroy(){var e,t;this.parentDirective&&this.parentDirective.detachNested(this),null===(e=this._componentBinding)||void 0===e||e.unsubscribe(),null===(t=this._directiveBinding)||void 0===t||t.unsubscribe()}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](Qs),l["ɵɵdirectiveInject"](e,12),l["ɵɵdirectiveInject"](l.Injector),l["ɵɵdirectiveInject"](l.ViewContainerRef),l["ɵɵdirectiveInject"](nl,8),l["ɵɵdirectiveInject"](l.NgZone))},e.ɵdir=l["ɵɵdefineDirective"]({type:e,selectors:[["","crtViewElement",""]],inputs:{viewElementConfig:["crtViewElement","viewElementConfig"],visible:"visible"},outputs:{viewElementShow:"viewElementShow"},features:[l["ɵɵProvidersFeature"]([{provide:il,useFactory:e=>e.viewElementConfig,deps:[(0,l.forwardRef)((()=>e))],multi:!1},{provide:fu,useFactory:yu,deps:[l.Injector],multi:!1},{provide:vu,useFactory:e=>new lu(e),deps:[l.Injector],multi:!1},{provide:bu,useFactory:wu,deps:[l.Injector],multi:!1},...ou])]}),e})();const xu=e=>({viewModel$:e.viewModel$,parent:e.parent}),Iu=(e,t)=>{var n,i;const r=new h.BehaviorSubject(null);return null===(i=null!==(n=e.viewModel$)&&void 0!==n?n:null==t?void 0:t.viewModel$)||void 0===i||i.subscribe(r),{viewModel$:r.asObservable(),parent:e.viewModel$?t:null==t?void 0:t.parent,viewModelSubject:r}};let Su=(()=>{class e{set viewModel(e){(e instanceof Pc||null==e)&&(this.viewModel$?this.viewModel$.next(e):this.viewModel$=new h.BehaviorSubject(e))}ngOnDestroy(){var e;null===(e=this.viewModel$)||void 0===e||e.complete()}}return e.ɵfac=function(t){return new(t||e)},e.ɵdir=l["ɵɵdefineDirective"]({type:e,selectors:[["","crtViewModel",""]],inputs:{viewModel:["crtViewModel","viewModel"]},features:[l["ɵɵProvidersFeature"]([{provide:tl,useFactory:xu,deps:[[new l.Inject(el),new l.Self]],multi:!1},{provide:el,useFactory:Iu,deps:[(0,l.forwardRef)((()=>e)),[new l.Inject(tl),new l.SkipSelf,new l.Optional]],multi:!1}])]}),e})();var Mu=(()=>(function(e){e.Data="Data",e.Charts="Charts",e.Components="Components",e.LayoutElements="LayoutElements",e.Inputs="Inputs"}(Mu||(Mu={})),Mu))();const Du=e=>{switch(e){case Mu.Data:case Mu.Inputs:return{styles:{caption:{height:20},icon:{width:72,height:40},tile:{width:72,height:60}}};default:return{styles:{caption:{height:20},icon:{width:72,height:64},tile:{width:72,height:84}}}}};let Pu=(()=>{class e{}return e.ɵfac=function(t){return new(t||e)},e.ɵmod=l["ɵɵdefineNgModule"]({type:e}),e.ɵinj=l["ɵɵdefineInjector"]({providers:[Qs],imports:[[o.CommonModule,po,$s]]}),e})();("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](Pu,{declarations:[Su,_u],imports:[o.CommonModule,po,$s],exports:[Su,_u]});let Tu=(()=>{class e{constructor(e,t){this._view=e,this._template=t}ngOnChanges(e){this.crtIf?this._view.createEmbeddedView(this._template):this._view.clear()}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](l.ViewContainerRef),l["ɵɵdirectiveInject"](l.TemplateRef))},e.ɵdir=l["ɵɵdefineDirective"]({type:e,selectors:[["","crtIf",""]],inputs:{crtIf:"crtIf"},features:[l["ɵɵNgOnChangesFeature"]]}),e})(),ku=(()=>{class e{}return e.ɵfac=function(t){return new(t||e)},e.ɵdir=l["ɵɵdefineDirective"]({type:e,selectors:[["","crtViewElementConfig",""]],inputs:{crtViewElementConfig:"crtViewElementConfig"},features:[l["ɵɵProvidersFeature"]([{provide:il,useFactory:e=>e.crtViewElementConfig,deps:[[e,new l.Self]]}])]}),e})();class Eu{constructor(e){this.parent=e,this.inputs={},this.outputs={},this.directives=[],this.attributes={},this.content=[]}}var Nu=n(12290);let Ou=(()=>{class e{}return e.ɵfac=function(t){return new(t||e)},e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["crt-view-element-container"]],inputs:{viewElementConfig:"viewElementConfig"},decls:1,vars:1,consts:[[3,"crtViewElement"]],template:function(e,t){1&e&&l["ɵɵelementContainer"](0,0),2&e&&l["ɵɵproperty"]("crtViewElement",t.viewElementConfig)},directives:[_u],encapsulation:2}),e})(),ju=(()=>{class e extends o.AsyncPipe{}return e.ɵfac=function(){let t;return function(n){return(t||(t=l["ɵɵgetInheritedFactory"](e)))(n||e)}}(),e.ɵpipe=l["ɵɵdefinePipe"]({name:"crt_async",type:e,pure:!1}),e})();const Au=new l.InjectionToken("CRT_JIT_MODULES");class Ru extends Error{constructor(e,t){super(`Validation error. Cannot create ${e} with name ${t}. Incorrect format`)}}const Fu=/^([#a-zA-Z_]+)([\w_.-]+)/gm;function Vu(e,t){const n=t.match(Fu);if(!((null==n?void 0:n.length)&&n[0]===t))throw new Ru(e,t)}let Lu=(()=>{class e{}return e.ɵfac=function(t){return new(t||e)},e.ɵmod=l["ɵɵdefineNgModule"]({type:e}),e.ɵinj=l["ɵɵdefineInjector"]({imports:[[o.CommonModule,Pu],o.CommonModule,Pu]}),e})();("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](Lu,{declarations:[ju,Tu,ku,Ou],imports:[o.CommonModule,Pu],exports:[o.CommonModule,Pu,Tu,ku,ju,Ou]});let zu=(()=>{class e{constructor(e,t,n,i){this._compiler=e,this._modules=t,this._injector=n,this._ngZone=i}_createInputDefinitions(e,t){const n=[];for(const[i,r]of Object.entries(e.inputs)){Vu("input",i);const e=r.propertyKey;t[e]=r.async?r.value.pipe(Ct(this._ngZone)):r.value,r.async?(t[e]=r.value.pipe(Ct(this._ngZone)),n.push(`[${i}]="context['${e}'] | crt_async"`)):(t[e]=r.value,n.push(`[${i}]="context['${e}']"`))}return n}_createAttributeDefinitions(e,t){const n=[];for(const[t,i]of Object.entries(e.attributes))Vu("attribute",t),i.value?n.push(`${t}="${i.value}"`):n.push(`${t}`);return n}_createOutputDefinitions(e,t){const n=[];for(const[i,r]of Object.entries(e.outputs)){Vu("output",i);const e=r.propertyKey;t[e]=r.fn,n.push(`(${i})="context['${e}']($event)"`)}return n}_createDirectiveDefinitions(e,t){const n=[];for(const i of e.directives){const e=i.propertyKey,r=(0,Nu.Z)(i.template);let a=`context['${e}']`;i.async?(t[e]=i.value.pipe(Ct(this._ngZone)),a+=" | crt_async"):t[e]=i.value,n.push(r({value:a}))}return n}_createContentDefinitions(e,t){const n=[];for(const i of e.content){const{componentContext:e,componentTemplate:r}=this._createTemplateAndContext(i);n.push(r),Object.assign(t,e)}return n}_createTemplateAndContext(e){Vu("selector",e.selector);const t={},n=this._createInputDefinitions(e,t),i=this._createAttributeDefinitions(e,t),r=this._createOutputDefinitions(e,t),a=this._createDirectiveDefinitions(e,t),o=this._createContentDefinitions(e,t);return{componentTemplate:`<${e.selector} ${n.join(" ")} ${a.join(" ")} ${r.join(" ")} ${i.join(" ")}>${o.join(" ")}</${e.selector}>`,componentContext:t}}create(e,t){return(0,a.mG)(this,void 0,void 0,(function*(){const n=this._injector,{componentContext:i,componentTemplate:r}=this._createTemplateAndContext(t),a=(0,l.Component)({selector:e,template:r,styles:[":host { display: block }"],changeDetection:l.ChangeDetectionStrategy.OnPush})(class{constructor(){this.context=i,this.injector=n}}),o=(0,l.NgModule)({imports:[Lu,...this._modules],declarations:[a]})(class{});return(yield this._compiler.compileModuleAndAllComponentsAsync(o)).componentFactories.find((t=>t.selector===e))}))}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](l.Compiler),l["ɵɵinject"](Au),l["ɵɵinject"](l.Injector),l["ɵɵinject"](l.NgZone))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"root"}),e})();var Bu=n(66118),Gu=n(75465);class Hu{static createLayoutConfigComponentParts(e,t,n){for(const[e,i]of Object.entries(t))n.attributes["layout-config-"+(0,Gu.Z)(e)]={value:i}}static createVisibleComponentParts(e,t,n,i,r){const a=Rd(t);let o=t;if(a){o=i.evaluate(t,r)}n.directives.push({propertyKey:this.getContextPropertyName(e,n),value:o,async:a,template:'*crtIf="<%= value %>"'})}static getContextPropertyName(e,t){let n=e,i=t;for(;i;)n=i.name+":"+n,i=i.parent;return n}}class Uu{constructor(e,t){this.injector=e,this.componentPartsFactory=t,this._specialPropertiesList=[{property:"visible",createComponentPart:this.createVisibleComponentParts.bind(this)},{property:"type",createComponentPart:()=>{}},{property:"name",createComponentPart:()=>{}},{property:"layoutConfig",createComponentPart:Hu.createLayoutConfigComponentParts.bind(this)}],this._loadingAttributeName="loading",this.initDependencies()}_createViewElementConfigProviderComponentParts(e,t){t.directives.push({template:'[crtViewElementConfig]="<%= value %>"',async:!1,value:e,propertyKey:Hu.getContextPropertyName("viewElementConfig",t)})}_createDataItemMarkerComponentParts(e,t){t.attributes["data-item-marker"]={value:e.dataItemMarker||e.name}}_createLoadingComponentParts(e,t){Object.keys(e).some((e=>e===this._loadingAttributeName))?this._createInputComponentParts(this._loadingAttributeName,e[this._loadingAttributeName],e,t):this._createDefaultLoadingPropertyBinding(e,t)}_createDefaultLoadingPropertyBinding(e,t){const n=(0,jd.Z)(e).entries().filter((([t,n])=>this.isInputBinding(t,n,e)&&Rd(n))).value();let i=(0,h.of)(!1);if(n.length){const e=n.map((([e,t])=>Gd(t)));i=this._createLoadingPropertyValueFromContextEvent(e)}t.inputs[this._loadingAttributeName]={propertyKey:Hu.getContextPropertyName(this._loadingAttributeName,t),async:!0,value:i}}_createLoadingPropertyValueFromContextEvent(e){return Hd(this._bindingContext).viewModel$.pipe((0,Pn.w)((t=>{if(!t)return(0,h.of)(!1);let n=[];const i=t.events$.pipe((0,f.h)((e=>e.type===sl.StartLoadModelAttributes)),(0,g.U)((e=>e)),(0,f.h)((t=>{const n=Object.keys(t.payload);return e.some((e=>n.includes(e)))})),(0,En.b)((e=>{n=Object.keys(e.payload)})),(0,co.h)(!0)),r=t.events$.pipe((0,f.h)((e=>e.type===sl.FinishLoadModelAttributes)),(0,g.U)((e=>e)),(0,f.h)((e=>{const t=Object.keys(e.payload);return n.every((e=>t.includes(e)))})),(0,co.h)(!1),(0,En.b)((()=>n=[])));return(0,h.merge)(i,r)})))}_createContentPropertyComponentParts(e,t,n,i,r){for(const a of t){const t=this.componentPartsFactory.create(this.injector,a,i,r);this.addContentProperty(e,t,n),i.content.push(t)}}_createInputComponentParts(e,t,n,i){const r=Rd(t);let a;const o=this._isControlProperty(e,n);if(r){a=(o?this.attrCtrlExpInterpreter:this.bindingExpressionInterpreter).evaluate(t,this._bindingContext)}else a=o?this.createControl(t):t;i.inputs[e]={propertyKey:Hu.getContextPropertyName(e,i),value:a,async:r}}_createOutputComponentParts(e,t,n){n.outputs[e]={propertyKey:Hu.getContextPropertyName(e,n),fn:e=>{this._createRequest(t,e).pipe((0,En.b)((e=>e.$context.sendViewEvent(e)))).toPromise()}}}_createSpecialPropertyComponentParts(e,t,n){const i=this._specialPropertiesList.find((t=>t.property===e));return null==i?void 0:i.createComponentPart(e,t,n)}_isControlProperty(e,t){return e===r.ViewElementRegistry.getFormControlRelatesAttribute(t.type)}_createRequest(e,t){const n=Object.assign(Object.assign({},this._bindingContext),{initialEvent:t});return this.requestBindingConfigInterpreter.evaluate(e,n).pipe((0,g.U)((e=>Object.assign(Object.assign({},e),{$initialEvent:t}))))}initDependencies(){this.bindingExpressionInterpreter=this.injector.get(eu),this.attrCtrlExpInterpreter=this.injector.get(qd),this.requestBindingConfigInterpreter=this.injector.get(au),this._bindingContext=this.injector.get(tl)}isSpecialPropertyBinding(e,t){return Boolean(this._specialPropertiesList.find((t=>t.property===e)))}isContentPropertyBinding(e,t,n){var i;const a=r.ViewElementRegistry.viewElements.get(n.type);return Boolean(a&&(null===(i=a.contentSlots)||void 0===i?void 0:i.find((t=>t===e))))}isOutputBinding(e,t,n){return!this.isInputBinding(e,t,n)}createVisibleComponentParts(e,t,n){Hu.createVisibleComponentParts(e,t,n,this.bindingExpressionInterpreter,this._bindingContext)}create(e,t,n){var i;const r=new Eu(t);r.selector=this.getSelector(e),r.name=null!==(i=e.name)&&void 0!==i?i:(0,Bu.Z)();for(const[t,i]of Object.entries(e))this.isContentPropertyBinding(t,i,e)&&Array.isArray(i)?this._createContentPropertyComponentParts(t,i,e,r,n):this.isSpecialPropertyBinding(t,i)?this._createSpecialPropertyComponentParts(t,i,r):this.isOutputBinding(t,i,e)?this._createOutputComponentParts(t,i,r):this.isInputBinding(t,i,e)&&this._createInputComponentParts(t,i,e,r);return this._createLoadingComponentParts(e,r),(null==n?void 0:n.useDataItemMarker)&&this._createDataItemMarkerComponentParts(e,r),this._createViewElementConfigProviderComponentParts(e,r),r}}class Zu extends Uu{addContentProperty(e,t,n){var i;const a=r.ViewElementRegistry.viewElements.get(n.type);(null===(i=null==a?void 0:a.contentSlots)||void 0===i?void 0:i.length)>1&&(t.attributes[e]={value:""}),t.attributes["#"+e]={value:""}}isInputBinding(e,t,n){const i=this.getComponentFactory(n);return Boolean(i.inputs.find((t=>t.templateName===e)))}createControl(e){return new c.NI(e)}getSelector(e){return this.getComponentFactory(e).selector}getComponentFactory(e){const t=this.injector.get(Qs),n=this.injector.get(l.ComponentFactoryResolver),i=t.getViewElementType(e.type);return n.resolveComponentFactory(i)}}class $u{}class Wu{constructor(e){this._injector=e}create(e,t,n){var i;const r=this._injector.get(eu),a=this._injector.get(tl),o=new Eu(t);return o.selector="crt-view-element-container",o.name=null!==(i=e.name)&&void 0!==i?i:(0,Bu.Z)(),o.inputs.viewElementConfig={value:e,propertyKey:Hu.getContextPropertyName("viewElementConfig",o),async:!1},"layoutConfig"in e&&Hu.createLayoutConfigComponentParts("layoutConfig",e.layoutConfig,o),"visible"in e&&Hu.createVisibleComponentParts("visible",e.visible,o,r,a),o}}class qu extends Uu{addContentProperty(e,t,n){var i;const a=r.ViewElementRegistry.viewElements.get(n.type);(null===(i=null==a?void 0:a.contentSlots)||void 0===i?void 0:i.length)>1&&(t.attributes.slot={value:e})}initDependencies(){super.initDependencies(),this.attrCtrlExpInterpreter=this.injector.get(nu)}isInputBinding(e,t,n){var i;const a=r.ViewElementRegistry.viewElements.get(n.type);return Boolean(null===(i=null==a?void 0:a.inputs)||void 0===i?void 0:i[e])}createControl(e){return new Cc(e)}getSelector(e){return this.injector.get(Qs).getSelector(e.type)}}let Yu=(()=>{class e extends $u{constructor(){super(...arguments),this.unsupportedElements=["crt.FolderTree","crt.FolderTreeActions","crt.ComboBox"]}create(e,t,n,i){const r=e.get(Qs);if(!t.type)throw new Error('"Type" property of view config can not be empty');return this.unsupportedElements.includes(t.type)?new Wu(e).create(t,n,i):r.getSelector(t.type)?new qu(e,this).create(t,n,i):new Zu(e,this).create(t,n,i)}}return e.ɵfac=function(){let t;return function(n){return(t||(t=l["ɵɵgetInheritedFactory"](e)))(n||e)}}(),e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})(),Ju=(()=>{class e{constructor(e,t,n,i,r){this._injector=e,this._featureService=t,this._containerRef=n,this._componentCreator=i,this._componentPartsFactory=r,this._dataItemMarkerFeature="UseViewElementDataItemMarker",this._useDataItemMarker$=this._featureService.getFeatureState(this._dataItemMarkerFeature).pipe((0,Ul.d)(1))}_createComponentFactory(e){return(0,a.mG)(this,void 0,void 0,(function*(){const t=new Eu;t.selector="ng-container";for(const n of this.viewConfig){const i=this._componentPartsFactory.create(this._injector,n,null,{useDataItemMarker:e});t.content.push(i)}return this._componentCreator.create(this.selector,t)}))}ngOnChanges(e){var t,n,i;(null===(t=e.viewConfig)||void 0===t?void 0:t.currentValue)&&!(0,Ed.Z)(e.viewConfig.previousValue,null===(n=e.viewConfig)||void 0===n?void 0:n.currentValue)&&(null===(i=this._subscription)||void 0===i||i.unsubscribe(),this._subscription=this._useDataItemMarker$.pipe((0,Pn.w)((e=>this._createComponentFactory(e)))).subscribe((e=>{this._containerRef.clear(),this._containerRef.createComponent(e,0,this._injector)})))}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](l.Injector),l["ɵɵdirectiveInject"](ls),l["ɵɵdirectiveInject"](l.ViewContainerRef),l["ɵɵdirectiveInject"](zu),l["ɵɵdirectiveInject"]($u))},e.ɵdir=l["ɵɵdefineDirective"]({type:e,selectors:[["","crtViewGenerator",""]],inputs:{viewConfig:"viewConfig",selector:"selector"},features:[l["ɵɵProvidersFeature"]([...ou]),l["ɵɵNgOnChangesFeature"]]}),e})(),Qu=(()=>{class e{static forRoot(t){return{ngModule:e,providers:[{provide:Au,useValue:t}]}}}return e.ɵfac=function(t){return new(t||e)},e.ɵmod=l["ɵɵdefineNgModule"]({type:e}),e.ɵinj=l["ɵɵdefineInjector"]({providers:[{provide:$u,useClass:Yu}],imports:[[o.CommonModule]]}),e})();("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](Qu,{declarations:[Ju],imports:[o.CommonModule],exports:[Ju]});var Ku=n(74663),Xu=n(692),ep=n(85218),tp=n(72545),np=n(17928);const ip='Required parameter "{0}" not found in object',rp='Instead of the "{0}" parameter, use "{1}';let ap=(()=>{class e{constructor(){this.sourceObject=null,this.memoryStore=new Map,this.operationRequiredParameters={insert:[],set:["name","values"],merge:["name","values"],move:["name"],remove:["name"]},this.operationParameterName="operation",this.aliases=null}static isEmpty(e){return null==e||""===e||(0,Ku.Z)(e)&&0===e.length}static isItemConfig(t){return(0,Xu.Z)(t)&&!e.isEmpty(t.name)}static iterateChildItems(t,n,i){let r=!0;return(0,Ee.Z)(t,((a,o)=>{if((0,Ku.Z)(a)||(0,Xu.Z)(a)){const s=(0,Ku.Z)(a)?a:[a];(0,Ee.Z)(s,(a=>{if(!e.isItemConfig(s[0]))return!1;const l=!1!==e.iterateChildItems(a,n,i),c={item:a,propertyName:o,parent:t,childIterationResult:l};return r=!1!==n.call(i,c)&&l}))}return r})),r}_isEmptyObject(e){if(!e)return!0;return 0===Object.keys(e).length}_removeFromCache(t){e.iterateChildItems(t,(function(e){const t=e.item;this.memoryStore.delete(t.name)}),this),this.memoryStore.delete(t.name)}_findItemInfo(t,n){if(e.isEmpty(t))return null;const i=this.memoryStore.get(t);if(i)return i;const r=this.aliases,a=r&&r[t],o=a&&a.name;let s=null;return e.iterateChildItems(n,(function(e){const n=e.item,i=o&&n.name===o,r=n.name===t||i;if(!e.childIterationResult||r){const t={item:n,parentName:e.parent.name,propertyName:e.propertyName};this.memoryStore.set(n.name,t),r&&(s=t)}return!r}),this),s}_findItemInfoInSourceObject(e){const t={items:this.sourceObject};return this._findItemInfo(e,t)}_checkRequiredParameters(t,n){e.isEmpty(n)||(0,Ee.Z)(n,(e=>{if(!t[e]){const t=ur.String.Format(ip,e);throw new Error(t)}}))}_getSplittedOperations(e){const t={merge:[],set:[],removeProperties:[],remove:[],move:[],insert:[]};return(0,Ee.Z)(e,(e=>{this._checkOperation(e);const n=e.operation;if(!this._isExcludeAliasOperation(e.name,n,e.properties))switch(n){case"merge":t.merge.push(e);break;case"set":t.set.push(e);break;case"insert":t.insert.push(e);break;case"move":t.move.push(e);break;case"remove":{const{properties:n}=e;n&&(0,Ku.Z)(n)?t.removeProperties.push(e):t.remove.push(e);break}}})),t}_convertMoveOperationToRemove(e){let t={};const n=e.name,i=(0,so.Z)(this._findItemInfoInSourceObject(n));return i&&(t={parentName:i.parentName||i.nameTo,propertyName:i.propertyName,index:i.propertyName,operation:"remove",name:n}),t}_convertMoveOperationToInsert(e){let t={};const n=e.name,i=(0,so.Z)(this._findItemInfoInSourceObject(n));if(i){const n={values:i.item,operation:""};delete n.values.name,Object.assign(n,e),n.operation="insert",t=n}return t}_applyOperations(e){const t=this._getSplittedOperations(e);this._applyOperationGroup(this._merge,t.merge),this._applyChangePositionOperationGroup(t.remove,t.insert,t.move),this._applyOperationGroup(this._remove,t.removeProperties),this._applyOperationGroup(this._set,t.set)}_applyChangePositionOperationGroup(e,t,n){n=this._filterMoveOperation(e,n),e=e.concat(n);let i=[];(0,Ee.Z)(e,(e=>{const t=this._convertMoveOperationToRemove(e);this._isEmptyObject(t)?console.log("Element "+e.name+"was not moved."):i.push(t)})),i=this._getOperationsSequenceByPath(i,!1);const r=[],a=this._getObjectNameOperationsGroup(n);(0,Ee.Z)(i,(e=>{const t=a[e.name];(0,Ku.Z)(t)&&t.forEach((e=>{const t=this._convertMoveOperationToInsert(e);this._isEmptyObject(t)?console.log("Element "+e.name+"was not moved."):r.push(t)})),this._remove(e)})),t=t.concat(r),t=this._getOperationsSequenceByPath(t,!0);const o=this._applyOperationGroup(this._insert,t);(0,Ku.Z)(o)&&o.length>0&&this._applyUnsuccessfulInsertOperationGroup(o)}_applyUnsuccessfulInsertOperationGroup(e){e.forEach(((t,n)=>{t.operation="move",this._findItemInfoInSourceObject(t.parentName)||e.splice(n,1)})),e.length>0&&this._applyChangePositionOperationGroup([],[],e)}_applyOperationGroup(e,t){const n=[];return(0,Ee.Z)(t,(t=>{e.call(this,t)||n.push(t)})),n}_getObjectNameOperationsGroup(e){const t={};return e.forEach((e=>{const n=e.name;t[n]=t[n]||[],t[n].push(e)})),t}_getOperationHierarchy(e){const t={};return e.forEach((e=>{const n=e.name,i=e.parentName||"_",r=e.propertyName||"_";t[n]={parentName:i,propertyName:r}})),t}_getOperationItemPath(e,t,n=""){let i=n;if(t[e]){const n=t[e].parentName;i=n+"="+t[e].propertyName+"=="+i,i=this._getOperationItemPath(n,t,i)}return i}_addOperationItemPathInfo(e){const t=[],n=this._getOperationHierarchy(e);return e.forEach((e=>{e.__path=this._getOperationItemPath(e.name,n),t.push(e)})),t}_getOperationPathGroupsInfo(e,t){const n=t?1:-1,i={},r=[];e.forEach((e=>{const t=e.__path;i[t]=i[t]||[],i[t].push(e),(0,ep.Z)(r,t)||r.push(t)}));return{groups:i,order:r.sort((function(e,t){let i;return i=e.length===t.length?0:e.length>t.length?n:-1*n,i}))}}_getOperationsSequenceByPath(e,t){e=this._addOperationItemPathInfo(e);const n=this._getOperationPathGroupsInfo(e,t),i=n.order,r=n.groups;let a=[];return i.forEach((e=>{const n=(0,tp.Z)(r[e],"index");t||n.reverse(),a=a.concat(n)})),a}_saveAlias(t){if(e.isEmpty(t.alias))return;const n=(0,so.Z)(t),i=n.alias;e.isEmpty(this.aliases)&&(this.aliases={});const r=i.name;i.name=n.name,this.aliases[r]=i}_resetAliases(){this.aliases=null}_excludeAliasProperties(e,t){let n=Object.keys(t);const i=this.aliases&&this.aliases[e],r=i&&i.excludeProperties;return r&&(n=(0,np.Z)(n,r)),n}_isExcludeAliasOperation(e,t,n){if(n&&"remove"===t)return!1;const i=this.aliases&&this.aliases[e],r=i&&i.excludeOperations;return(0,ep.Z)(r,t)}_insert(t){let n=t.parentName;const i=t.name;t.nameTo&&(console.error(ur.String.Format(rp,"nameTo","parentName")),n=t.nameTo);const r=this._findItemInfoInSourceObject(n),a=!(!r&&t.parentName),o=t.values||{};this._saveAlias(t);const s=null===r?this.sourceObject:r.item[t.propertyName];if(e.isEmpty(i)?console.warn(ur.String.Format('The "{0}" parameter should no longer contain "{1}"',"nameTo","parentName")):Object.assign(o,{name:i}),(0,Ku.Z)(s)){const n=e.isEmpty(t.index)?s.length:t.index;s.splice(n,0,o)}else{if(!(0,Xu.Z)(s))throw new Error(ur.String.Format('Item "{0}" is not a container for other items',n));r.item[t.propertyName]=o}return a}_set(t){let n=t.parentName;t.nameTo&&(console.error(ur.String.Format(rp,"nameTo","parentName")),n=t.nameTo);const i=this._remove(t),r=!e.isEmpty(i);return r&&(t.index=i.index,t.nameTo=n,t.parentName=n,t.propertyName=i.propertyName),this._insert(t),r}_merge(t){const n=this._findItemInfoInSourceObject(t.name),i=!e.isEmpty(n);if(i){(0,Ee.Z)(n.item,((n,i)=>{const r=(0,Ku.Z)(n)?n[0]:n;if(e.isItemConfig(r)&&t.values.hasOwnProperty(i)){const e=ur.String.Format('Item "{0}" should not contain parameter "{1}"',t.name,i);throw new Error(e)}}));const i=this._excludeAliasProperties(t.name,t.values);(0,Ee.Z)(i,(e=>{n.item[e]=t.values[e]}))}return i}_remove(t){let n={};const i=this._findItemInfoInSourceObject(t.name);if(e.isEmpty(i))return null;const r=t.properties;if(r&&(0,Ku.Z)(r)){const e=i.item;r.forEach((t=>{delete e[t]}))}else{const e=i.item;let t=i.parentName;i.nameTo&&(console.error(ur.String.Format(rp,"nameTo","parentName")),t=i.nameTo);const r=this._findItemInfoInSourceObject(t),a=r?r.item[i.propertyName]:this.sourceObject;let o=0;(0,Ku.Z)(a)?(o=a.indexOf(e),a.splice(o,1)):delete r.item[i.propertyName],this._removeFromCache(e),n={index:o,item:e,nameTo:t,parentName:t,propertyName:i.propertyName}}return n}_checkOperation(t){const n=t.name,i=t.parentName;if(!e.isEmpty(n)&&i===n)throw new Error(ur.String.Format('Cyclic dependency exists for object "{0}". The parentName parameter cannot be equal to name',n));this._checkRequiredParameters(t,[this.operationParameterName]);const r=t[this.operationParameterName];this._checkRequiredParameters(t,this.operationRequiredParameters[r])}_filterMoveOperation(e,t){return(0,Ee.Z)(e,(e=>{t=t.filter((t=>e.name!==t.name))})),t}apply(t,n){let i;this.sourceObject=(0,so.Z)(t),e.isEmpty(t)&&this._resetAliases();try{const e=(0,so.Z)(n);this._applyOperations(e),i=this.sourceObject}finally{this.sourceObject=null,this.memoryStore.clear()}return i}applyDiff(e,t){let n=[...e];for(const e of t)n=this.apply(n,e);return n}}return e.ɵfac=function(t){return new(t||e)},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})();var op=n(44539),sp=n(13594),lp=n(18312),cp=(()=>(function(e){e[e.INSERT=1]="INSERT",e[e.REMOVE=2]="REMOVE",e[e.MERGE=3]="MERGE",e[e.REMOVE_PROPERTY=4]="REMOVE_PROPERTY",e[e.CHANGE_POSITION=5]="CHANGE_POSITION",e[e.MOVE=6]="MOVE"}(cp||(cp={})),cp))();let dp=(()=>{class e{constructor(){this.patch=null,this.objectProperties={parent:"parentName",parentPropertyName:"propertyName",index:"index",operationalName:"__operationalName",name:"name",root:"__root",patchDiffNodeTypeSymbol:"_t"},this.pathDelimiter="(#@",this.moveOperationProperties=["parentName","propertyName","index"];const e=op.create({objectHash:function(e,t){return(0,sp.Z)(e.name)?e.name:"$$index:"+t}});this.patch=e}isEmpty(e){return null==e||""===e||(0,Ku.Z)(e)&&0===e.length}needFlatten(e,t){let n=t||!1;return n=!this.isEmpty(null==e?void 0:e.name),n||((0,Ku.Z)(e)&&e.length>0?n=!this.isEmpty(e[0].name):(0,Xu.Z)(e)&&(0,Ee.Z)(e,(e=>{n=this.needFlatten(e,n)}))),n}_getFlattenObjectKey(e,t,n){return n&&n.identifyItemByPath?e:t}flattenObject(e,t,n,i,r,a){let o,s=t||{},l=n||"";if(this.isEmpty(e))s=null;else if((0,Ku.Z)(e))for(let t=0,i=e.length;t<i;t++)o=this._getFlattenObjectKey(l,n,a),this.flattenObject(e[t],s,o,t,r,a);else{const t=(0,so.Z)(e),c=t.name,d=this.isEmpty(l)?"{1}":"{0}{1}";if(l+=ur.String.Format(d,this.pathDelimiter,c),o=this._getFlattenObjectKey(l,c,a),this.isEmpty(o))throw new Error(ur.String.Format(ip,this.objectProperties.name));if(s[o])throw new Error(ur.String.Format('Item with value "{0}" of the "name" parameter already exists',c));delete t.name,this.isEmpty(n)||(t.parentName=n),this.isEmpty(i)||(t.index=i),this.isEmpty(r)||(t.propertyName=r);const u=[],p=[];(0,Ee.Z)(t,((e,n)=>{if(e&&this.needFlatten(e)){u.push(e),p.push(n);const i=t[n];t[n]=(0,Ku.Z)(i)?[]:{}}})),s[o]=t;const m=u.length;if(m>0)for(let e=0;e<m;e++)this.flattenObject(u[e],s,o,e,p[e],a)}return s}includeObjectOperations(e,t){let n=e||[];return t===cp.REMOVE?n=[cp.REMOVE]:this.include(n,t),n}include(e,t){e.includes(t)||e.push(t)}getObjectCollectionPropertyNames(e,t){const n=t||{},i=this.objectProperties,r=i.parentPropertyName,a=i.parent;return(0,Ee.Z)(e,(e=>{const t=e[r],i=e[a];this.isEmpty(i)||this.isEmpty(t)||(n[i]=n[i]||[],this.include(n[i],t))})),n}getCollectionPropertyNames(){const e=this.operationalValues,t=e.flatPrimaryObject,n=e.flatModifiedObject;let i={};return i=this.getObjectCollectionPropertyNames(t,i),i=this.getObjectCollectionPropertyNames(n,i),i}getObjectOperations(e){const t=this.objectProperties,n=this.operationalValues.primaryObject,i=this.operationalValues.modifiedObject,r=this.operationalValues.flatModifiedObject,a=this.operationalValues.flatDelta,o=(0,so.Z)(i);this.addOperationalNames(o);const s=this.makeDiff(n,o);let l={};const c=this.getCollectionPropertyNames();return(0,Ee.Z)(a,((e,n)=>{this.isAdded(e)?l[n]=this.includeObjectOperations(l[n],cp.INSERT):this.isRemoved(e)?l[n]=this.includeObjectOperations(l[n],cp.REMOVE):(0,Ee.Z)(e,((e,i)=>{if([t.parent,t.parentPropertyName].includes(i))(this.isAdded(e)||this.isModified(e)||this.isRemoved(e))&&(l[n]=this.includeObjectOperations(l[n],cp.MOVE));else if(i===t.index){if(this.isAdded(e)||this.isModified(e)||this.isRemoved(e)){const e=r[n],i=e[t.parent]||t.root,a=e[t.parentPropertyName]||t.root,o=c[i]||[];this.include(o,a),c[i]=o}}else this.isRemoved(e)?l[n]=this.includeObjectOperations(l[n],cp.REMOVE_PROPERTY):l[n]=this.includeObjectOperations(l[n],cp.MERGE)}))})),l=this.getObjectChangePositionOperations(s,c,l,a,e),l}getObjectChangePositionOperations(e,t,n,i,r){const a=n||{};let o=[];const s={};this._fillItemsOperations(e,s),(0,Ee.Z)(t,((n,a)=>{let l;if(a===this.objectProperties.root)l=this.getChangePositionObjectName(e,i,a),o=(0,lp.Z)(o,l);else{const e=this._getModifiedObjectSimpleName(a),n=s[e];if(n){let e=t[a].shift();for(;!this.isEmpty(e);){const s=n[e];l=this.getChangePositionObjectName(s,i,a,r),o=(0,lp.Z)(o,l),e=t[a].shift()}}}}));let l=o.shift();for(;!this.isEmpty(l);)a[l]=this.includeObjectOperations(a[l],cp.CHANGE_POSITION),l=o.shift();return a}getChangePositionObjectName(e,t,n,i){const r=[],a=this.objectProperties.patchDiffNodeTypeSymbol;return(0,Ee.Z)(e,((o,s)=>{if(s!==a&&(0,sp.Z)(s)&&s.indexOf("_")>=0&&this.isMoved(o)){const a=o[1],s=e[a];if(s){const e=s[this.objectProperties.operationalName][0],a=this._getChangePositionObjectPath(e,t,n,i);r.push(a)}}})),r}_fillItemsOperations(e,t={}){const{operationalName:n}=this.objectProperties;Object.entries(e).map((([i,r])=>{if(i===n){const i=e[n][0];t[i]=e}else((0,Ku.Z)(r)||(0,Xu.Z)(r))&&this._fillItemsOperations(r,t)}))}addOperationalNames(e){e.hasOwnProperty(this.objectProperties.name)&&(e[this.objectProperties.operationalName]=e[this.objectProperties.name]),((0,Xu.Z)(e)||(0,Ku.Z)(e))&&(0,Ee.Z)(e,(e=>{e&&this.addOperationalNames(e)}))}_getModifiedObjectSimpleName(e){return e.split(this.pathDelimiter).pop()}_getChangePositionObjectPath(e,t,n,i){return!0===(null==i?void 0:i.identifyItemByPath)?`${n}${this.pathDelimiter}${e}`:e}getObjectResultOperations(e){const t=[];return(0,Ee.Z)(e,((e,n)=>{for(let i=0,r=e.length;i<r;i++){const r=e[i],a={operation:this.getObjectModificationTypeName(r),name:this._getModifiedObjectSimpleName(n)};switch(r){case cp.INSERT:Object.assign(a,this.getOperationValues(n,r)),Object.assign(a,this.getOperationMoveProperties(n)),t.push(a);break;case cp.CHANGE_POSITION:case cp.MOVE:Object.assign(a,this.getOperationMoveProperties(n)),t.push(a);break;case cp.REMOVE_PROPERTY:Object.assign(a,this.getOperationRemovedProperties(n)),a.properties.length>0&&t.push(a);break;case cp.MERGE:Object.assign(a,this.getOperationValues(n,r)),a.values&&t.push(a);break;default:t.push(a)}}})),t}getOperationMoveProperties(e){const t=this.operationalValues.flatModifiedObject[e],n={},i=this.moveOperationProperties;for(let e=0,r=i.length;e<r;e++){const r=i[e];let a=t[r];this.isEmpty(a)||("parentName"===r&&(a=this._getModifiedObjectSimpleName(a)),n[r]=a)}return n}getOperationRemovedProperties(e){const t=this.operationalValues.flatDelta,n={properties:null},i=[],r=t[e];return(0,Ee.Z)(r,((e,t)=>{this.isRemoved(e)&&i.push(t)})),n.properties=i,n}getOperationValues(e,t){const n=this.operationalValues.flatModifiedObject,i=this.operationalValues.flatDelta,r={},a={};let o;switch(t){case cp.INSERT:o=n[e],(0,Ee.Z)(o,((e,t)=>{this.moveOperationProperties.includes(t)||(a[t]=(0,so.Z)(e))}));break;case cp.MERGE:o=i[e],(0,Ee.Z)(o,((t,i)=>{if(!(this.moveOperationProperties.includes(i)||this.isRemoved(t))){let r;r="a"===t[this.objectProperties.patchDiffNodeTypeSymbol]||(0,Xu.Z)(t)&&!(0,bi.Z)(t)?n[e][i]:this.isAdded(t)?t[0]:t[1],a[i]=r}}))}return(0,bi.Z)(a)||(r.values=a),r}getObjectModificationTypeName(e){let t;switch(e){case cp.INSERT:t="insert";break;case cp.REMOVE:case cp.REMOVE_PROPERTY:t="remove";break;case cp.MOVE:case cp.CHANGE_POSITION:t="move";break;case cp.MERGE:t="merge"}return t}isAdded(e){return 1===e.length}isModified(e){return 2===e.length}isMoved(e){return 3===e.length&&3===e[2]}isRemoved(e){return 3===e.length&&0===e[2]}makeDiff(e,t){if(!this.patch)throw new Error("jsondiffpatch module not found");return this.patch.diff(e,t)}getFlatObject(e,t){return this.flattenObject(e,null,null,null,null,t)||{}}getJsonDiff(e,t,n){let i=[];try{const r=this.makeDiff(e,t);if(r){const a=this.getFlatObject(e,n),o=this.getFlatObject(t,n),s=this.makeDiff(a,o);this.operationalValues={primaryObject:e,modifiedObject:t,delta:r,flatPrimaryObject:a,flatModifiedObject:o,flatDelta:s};const l=this.getObjectOperations(n);i=this.getObjectResultOperations(l)}}finally{(0,Ee.Z)(this.operationalValues,((e,t)=>{delete this.operationalValues[t]})),this.operationalValues={}}return i}}return e.ɵfac=function(t){return new(t||e)},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})();const up=e=>null!=e&&"object"==typeof e,pp=e=>up(e)&&(e=>0===Object.keys(e).length)(e),mp=e=>e instanceof Date;let hp=(()=>{class e{deepObjectDiff(e,t){if(e===t)return{};if(Array.isArray(t)){return JSON.stringify(e)===JSON.stringify(t)?{}:t}if(!up(e)||!up(t))return t;if(mp(e)||mp(t))return(null==e?void 0:e.valueOf())===(null==t?void 0:t.valueOf())?{}:t;const n=Object.fromEntries(Object.entries(t).filter((([,e])=>void 0===e)));return Object.keys(t).reduce(((n,i)=>{if(!((e,...t)=>Object.prototype.hasOwnProperty.call(e,...t))(e,i))return n[i]=t[i],n;const r=e[i],a=t[i],o=this.deepObjectDiff(r,a);return!pp(o)||mp(o)||!pp(r)&&pp(a)?(n[i]=o,n):n}),n)}}return e.ɵfac=function(t){return new(t||e)},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"root"}),e})();var gp=n(30705);class fp extends class{constructor(e,t){this._root=new Jl(t,e)}get root(){return this._root}_recurse(e,t){const n=t.children;for(let t=0;n&&t<n.length;t++)this._recurse(e,n[t]);e(t)}traverseDepthFirstSearch(e,t=this._root){this._recurse(e,t)}get(e,t=this._root){let n=null;return this.traverseDepthFirstSearch((t=>{t.id===e&&(n=t)}),t),n}add({data:e,id:t},n){const i=new Jl(t,e);n.children.push(i),i.parent=n}remove(e,t=this.root){let n=null;if(this.traverseDepthFirstSearch((t=>{t.id===e&&(n=t)}),t),n){const e=n.parent;n.children=[];const t=e.children.findIndex((e=>e===n));return e.children.splice(t,1),!0}return!1}contains(e,t=this._root){let n=null;return this.traverseDepthFirstSearch((t=>{t.id===e&&(n=t)}),t),Boolean(n)}}{getByName(e,t=this.root){let n=null;return this.traverseDepthFirstSearch((t=>{t.data.schemaName===e&&(n=t)}),t),n}removeByName(e,t=this.root){let n=null;if(this.traverseDepthFirstSearch((t=>{t.data.schemaName===e&&(n=t)}),t),n){const e=n.parent;n.children=[];const t=e.children.findIndex((e=>e===n));return e.children.splice(t,1),!0}return!1}containsByName(e,t=this.root){let n=null;return this.traverseDepthFirstSearch((t=>{t.data.schemaName===e&&(n=t)}),t),Boolean(n)}}class vp{static bulkAdd(e,t){const n=t;for(let t=0;t<e.length;t++){const i=e[t];if(!n.containsByName(i.schemaName)){const e=n.get(i.parentSchemaUId);n.add({data:i,id:i.schemaUId},e)}}return n}static initTree(e){return new fp(e,e.schemaUId)}}let bp=(()=>{class e{constructor(){this._trees=[]}_filterExtendingSchemas(e){const t=[];for(let n=0;n<e.length;n++)if(e.find((t=>t.parentSchemaName===e[n].schemaName&&t.extendParent))){const i=e[n];do{n++}while(e.find((t=>t.parentSchemaName===e[n].schemaName&&t.extendParent)));t.push(Object.assign(Object.assign({},e[n]),{parentSchemaName:i.parentSchemaName,parentSchemaUId:i.parentSchemaUId,schemaUId:i.schemaUId}))}else t.push(e[n]);return t}add(...e){const t=this._filterExtendingSchemas([...e].map((e=>e.structure))),n=t.shift();let i=this._trees.find((e=>e.root.id===n.schemaUId));i?vp.bulkAdd(t,i):(i=vp.initTree(n),vp.bulkAdd(t,i),this._trees.push(i))}setCacheSnapshot(e){const{schemaName:t,hook:n,snapshot:i}=e;let r=0;for(;r<this._trees.length;){const e=this._trees[r].getByName(t);if(e)return void(e.data=Object.assign(Object.assign({},e.data),{snapshots:Object.assign(Object.assign({},e.data.snapshots),{[n]:i})}));r++}}setDataSchemaDepsToCache(e,t){let n=0;for(;n<this._trees.length;){const i=this._trees[n].getByName(e);if(i)return void(i.data=Object.assign(Object.assign({},i.data),{dataSchemaDeps:t}));n++}}isCached(e){return this._trees.some((t=>t.containsByName(e)))}getSchemaSnapshots(e){let t=0;for(;t<this._trees.length;){const n=this._trees[t].getByName(e);if(n)return n.data.snapshots;t++}return null}invalidateClientUnitSchema(e){let t=0,n=!1;for(;t<this._trees.length&&!n;)n=this._trees[t].removeByName(e),t++}invalidateByDataSchemaName(e){let t=0;const n=t=>{var n,i;Boolean(null===(n=t.data)||void 0===n?void 0:n.dataSchemaDeps)&&(null===(i=t.data)||void 0===i?void 0:i.dataSchemaDeps.includes(e))&&(t.data.snapshots={[Pa.METADATA_INIT]:t.data.snapshots[Pa.METADATA_INIT]})};for(;t<this._trees.length;)this._trees[t].traverseDepthFirstSearch(n),t++}}return e.ɵfac=function(t){return new(t||e)},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"platform"}),e})();class Cp{}let yp=(()=>{class e extends Cp{constructor(e,t,n,i){super(),this.zone=e,this.requireJsPathRegisterService=t,this._featureService=n,this._schemaCacheService=i,this._requireJs=window.requirejs,window.Terrasoft||(window.Terrasoft={configuration:{Structures:{}},SchemaType:{}},window.define("terrasoft",[],(()=>window.Terrasoft)))}_loadPartOfSchema(e){return this.requireJsPathRegisterService.register(e).pipe((0,Pn.w)((()=>new h.Observable((t=>{const n=[];this._requireJs([e],(i=>{const r=this._replaceDeprecatedSchemaProperties(i);this._requireJs([`${e}Structure`,`${e}Resources`],((i,a)=>{n.push({name:e,schema:r,structure:i,resources:a}),i.parentSchemaName?this._loadPartOfSchema(i.parentSchemaName).subscribe((e=>{n.push(e),t.next((0,gp.Z)(n)),t.complete()})):(t.next(n),t.complete())}))}))})))))}_replaceDeprecatedSchemaProperties(e){return"diff"in e?Object.assign(Object.assign({},(0,Hs.Z)(e,"diff")),{viewConfigDiff:e.diff}):e}load(e){return this.zone.runOutsideAngular((()=>(0,h.forkJoin)([this._loadPartOfSchema(e),this._featureService.getFeatureState("DisableRuntimeSchemaCaching")]).pipe((0,Pn.w)((([e,t])=>{const n=(0,so.Z)(e);return t||this._schemaCacheService.add(...n.reverse()),new h.Observable((t=>{this.zone.run((()=>{t.next(e),t.complete()}))}))})))))}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](l.NgZone),l["ɵɵinject"](ca),l["ɵɵinject"](ls),l["ɵɵinject"](bp))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})();class wp{}let _p=(()=>{class e extends wp{constructor(e){super(),this._userSchemaProfileService=e,this._baseKey="Schema__"}_getProfileKey(e){return this._baseKey+e}get(e){const t=this._getProfileKey(e);return this._userSchemaProfileService.getProfile(t)}set(e,t){const n=this._getProfileKey(e),i=this._angularSchemaIsEmpty(t.schema)?null:t;return this._userSchemaProfileService.saveProfile(n,i,t.name).pipe((0,co.h)(t))}_angularSchemaIsEmpty(e){return Object.entries(e).every((([,e])=>(0,bi.Z)(e)))}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](Ls))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})(),xp=(()=>{class e extends Cp{constructor(e,t){super(),this._featureService=e,this._profileSchemaProvider=t}load(e){const t=this._featureService.getFeatureState("SchemaMergeLoader"),n=this._profileSchemaProvider.get(e).pipe((0,g.U)((e=>(0,bi.Z)(e)?[]:e.map((e=>{var t;return{schema:e.schema,name:null!==(t=e.name)&&void 0!==t?t:"",structure:{},resources:{localizableImages:{},localizableStrings:{}}}})))));return t.pipe((0,Pn.w)((e=>(0,h.iif)((()=>e),n,(0,h.of)([])))))}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](ls),l["ɵɵinject"](wp))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})();var Ip=n(89225);class Sp{constructor(){this.deepMergeOptions={arrayMerge:this.overwriteArrayMerge}}overwriteArrayMerge(e,t,n){return t}}let Mp=(()=>{class e extends Sp{constructor(e,t,n){super(),this.jsonApplierService=e,this.userInfo=t,this._featureService=n,this._canUseClientUnitSchemaRequestHandlers=new h.ReplaySubject(1),this._canUseClientUnitSchemaConverters=new h.ReplaySubject(1),this._canUseClientUnitSchemaValidators=new h.ReplaySubject(1),this._featureService.getFeaturesState(["DisableClientUnitSchemaRequestHandlers","DisableClientUnitSchemaConverters","DisableClientUnitSchemaValidators"]).toPromise().then((([e,t,n])=>{this._canUseClientUnitSchemaRequestHandlers.next(!e),this._canUseClientUnitSchemaConverters.next(!t),this._canUseClientUnitSchemaValidators.next(!n)}))}_mergeResources(e){const t={strings:{}},n=this.userInfo.cultureInfo.sysCultureName;for(const{localizableStrings:i}of e)Object.entries(i).forEach((([e,i])=>{t.strings[e]=t.strings[e]||{},t.strings[e][n]=i}));return(0,h.of)(t)}_getHandlers(e){return this._canUseClientUnitSchemaRequestHandlers.pipe((0,A.P)(),(0,g.U)((t=>t?e.flatMap((e=>{var t;return null!==(t=e.schema.handlers)&&void 0!==t?t:[]})):[])))}_getConverters(e){return this._canUseClientUnitSchemaConverters.pipe((0,A.P)(),(0,g.U)((t=>t?e.reduce(((e,t)=>Object.assign(Object.assign({},e),t.schema.converters||{})),{}):{})))}_getValidators(e){return this._canUseClientUnitSchemaValidators.pipe((0,A.P)(),(0,g.U)((t=>t?e.reduce(((e,t)=>{var n,i;if(null===(n=t.schema)||void 0===n?void 0:n.validators){const n=Object.entries(null===(i=t.schema)||void 0===i?void 0:i.validators).map((([e,t])=>({[e]:Object.assign(Object.assign({},t),{type:e})}))).reduce(((e,t)=>Object.assign(Object.assign({},e),t)),{});return Object.assign(Object.assign({},e),n)}return Object.assign({},e)}),{}):{})))}build(e){const t=this._getHandlers(e),n=this._getConverters(e),i=this._mergeResources(e.map((e=>e.resources))),r=this._getValidators(e),a=e.map((e=>e.name));return(0,h.forkJoin)([t,n,i,r]).pipe((0,g.U)((([t,n,i,r])=>({viewConfig:this.jsonApplierService.applyDiff([],e.map((e=>e.schema.viewConfigDiff||[]))),viewModelConfig:(0,Ip.all)(e.map((e=>e.schema.viewModelConfig||{})),this.deepMergeOptions),modelConfig:(0,Ip.all)(e.map((e=>e.schema.modelConfig||{})),this.deepMergeOptions),handlers:t,converters:n,resources:i,validators:r,tag:a.join(".")}))))}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](ap),l["ɵɵinject"](Yr),l["ɵɵinject"](ls))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})(),Dp=(()=>{class e{constructor(e,t){this._jsonDifferService=e,this._jsonObjectDifferService=t}getDiff(e,t){const n=null!=e?e:{viewConfig:{},viewModelConfig:{},modelConfig:{}},i=null!=t?t:{viewConfig:{},viewModelConfig:{},modelConfig:{}};return{schema:{viewConfigDiff:this._jsonDifferService.getJsonDiff(n.viewConfig,i.viewConfig,{identifyItemByPath:!0}),viewModelConfig:this._jsonObjectDifferService.deepObjectDiff(n.viewModelConfig,i.viewModelConfig),modelConfig:this._jsonObjectDifferService.deepObjectDiff(n.modelConfig,i.modelConfig)}}}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](dp),l["ɵɵinject"](hp))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})();var Pp=n(61134),Tp=n(2299),kp=(()=>(function(e){e[e.Insert=0]="Insert",e[e.Remove=1]="Remove",e[e.Update=2]="Update",e[e.Move=3]="Move",e[e.MoveToIndex=4]="MoveToIndex",e[e.MoveToContainer=5]="MoveToContainer",e[e.CreateDataSource=6]="CreateDataSource"}(kp||(kp={})),kp))(),Ep=(()=>(function(e){e[e.Merge=0]="Merge",e[e.Override=1]="Override"}(Ep||(Ep={})),Ep))();const Np=new l.InjectionToken("data source instance config"),Op=new l.InjectionToken("data source config applier");function jp(e){var t,n,i;if(null===(t=e.modelConfig)||void 0===t?void 0:t.primaryDataSourceName)return e.modelConfig.primaryDataSourceName;if(null===(n=e.modelConfig)||void 0===n?void 0:n.dataSources){const t=Object.entries(null===(i=e.modelConfig)||void 0===i?void 0:i.dataSources).find((([,e])=>!(null==e?void 0:e.hiddenInPageDesigner)&&(null==e?void 0:e.scope)!==r.DataSourceScope.ViewElement));if(t)return t[0]}return null}function Ap(e){var t;(null===(t=e.modelConfig)||void 0===t?void 0:t.dataSources)&&Object.values(e.modelConfig.dataSources).forEach((e=>{e.scope||(e.scope=e.hiddenInPageDesigner?r.DataSourceScope.ViewElement:r.DataSourceScope.Page)}))}let Rp=(()=>{class e{constructor(e,t){this._config=e,this._configApplyFn=t}_createAttributeNameFromPath(e){return e.replace(/\.+/g,"")}_isForwardReferenceAttribute(e){return/\./.test(e)}_createForwardReferenceAttribute(e){return{path:e,type:"ForwardReference"}}_createAttribute(e){return this._isForwardReferenceAttribute(e)?this._createForwardReferenceAttribute(e):{path:e}}_getAttributes(){return this._config.attributes||{}}_getAttributeByPath(e){return Object.values(this._getAttributes()).find((t=>t.path===e))}_getAttribute(e){const t=e.name;if(t){return this._getAttributes()[t]}const n=e.path;if(n)return this._getAttributeByPath(n)}_setAttributes(e){this._config.attributes=e}setAttributes(e){const t=e.reduce(((e,t)=>{const n=this._createAttributeNameFromPath(t);return e[n]=this._getAttribute({name:n})||this._getAttribute({path:t})||this._createAttribute(t),e}),{});return this._setAttributes(t),this}getAttributeNames(){return Object.keys(this._getAttributes())}apply(){this._configApplyFn(this._config)}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](Np),l["ɵɵinject"](Op))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"any"}),e})(),Fp=(()=>{class e{constructor(e){this.injector=e,this._entityDataSourceConfigServices=new Map,this.schemaChanged$=new h.Subject,this.schemaLoaded$=new h.ReplaySubject(null)}get schema(){return Object.freeze((0,so.Z)(this._schema))}get resources(){return this._schema.resources}_getViewConfigInfoByName(e){return this.getViewConfigInfoByProperty("name",e)[0]||{}}_getViewModelAttributesConfig(e=!1){const t=this.getViewModelConfig(e);return!t.attributes&&e&&(t.attributes={}),t.attributes||{}}_getDataSourceAttributePath(e,t){return`${e}.${t}`}_getViewModelAttributeConfig(e,t,n=!1){const i={};return!e[t]&&n&&(e[t]=i),e[t]||i}_getModelConfig(e,t=!1){const n={};return!e.modelConfig&&t&&(e.modelConfig=n),e.modelConfig||n}_getCollectionItemViewModelConfig(e,t=!1){const n={attributes:{}};return!e.viewModelConfig&&t&&(e.viewModelConfig=n),e.viewModelConfig||n}_getDataSourcesConfig(){var e,t;return null===(t=null===(e=this._schema)||void 0===e?void 0:e.modelConfig)||void 0===t?void 0:t.dataSources}_initModelConfig(){var e;(null===(e=this._schema)||void 0===e?void 0:e.modelConfig)||(this._schema.modelConfig={dataSources:{}}),this._schema.modelConfig.dataSources||(this._schema.modelConfig.dataSources={})}_setModelConfigPath(e,t,n){this._getModelConfig(e,!0).path=this._getDataSourceAttributePath(t,n)}_onDataSourceInstanceConfigChange(e){const t=this._schema.modelConfig.dataSources[e];if(t&&"crt.EntityDataSource"===t.type){const n=t.config||{},i=t=>this.bindDataSource(e,t),r=l.Injector.create({providers:[{provide:Np,useValue:n},{provide:Op,useValue:i}],parent:this.injector});this._entityDataSourceConfigServices.set(e,r.get(Rp))}}_initializeSchemaDataSourceInstanceServices(){var e;const t=null===(e=this._schema.modelConfig)||void 0===e?void 0:e.dataSources;if((0,m.Ig)(t))for(const e of Object.keys(t))this._onDataSourceInstanceConfigChange(e)}updateSchemaViewModelConfig(e){e&&(this._schema.viewModelConfig=Object.assign({},e))}getViewModelConfig(e=!1){return!this._schema.viewModelConfig&&e&&(this._schema.viewModelConfig={}),this._schema.viewModelConfig||{}}init(e){this._schema=e;const t=this.getPrimaryDataSourceName();t&&this._setPrimaryDataSourceIfNotSet(t),this._initializeSchemaDataSourceInstanceServices(),this.schemaLoaded$.next(e),this.schemaLoaded$.complete()}setModelDependencies(e){this._initModelConfig();const t=Object.fromEntries(Object.entries(null!=e?e:{}).filter((([e,t])=>!1===(0,bi.Z)(t))));this._schema.modelConfig.dependencies=t,(0,bi.Z)(t)&&delete this._schema.modelConfig.dependencies}getModelDependencies(){return this._initModelConfig(),this._schema.modelConfig.dependencies||{}}_setPrimaryDataSourceIfNotSet(e){this._schema.modelConfig.primaryDataSourceName||this.setPrimaryDataSource(e)}setPrimaryDataSource(e){const t=this._schema.modelConfig.dataSources[e].scope;if(t===r.DataSourceScope.ViewElement)throw new Error(`Data source ${e} with scope ${t} cannot be set primary. Only page scope data sources could be primary.`);this._schema.modelConfig.primaryDataSourceName=e}createDataSource(e,t){if(this._initModelConfig(),this._schema.modelConfig.dataSources[e])throw new Error(`Data source '${e}' already exists`);this._schema.modelConfig.dataSources[e]=t,t.scope===r.DataSourceScope.Page&&this._setPrimaryDataSourceIfNotSet(e),t.hiddenInPageDesigner||this.schemaChanged$.next({schema:this._schema,changes:{viewConfig:this._schema.viewConfig,operation:kp.CreateDataSource}}),this._onDataSourceInstanceConfigChange(e)}getPrimaryDataSourceName(){return jp(this._schema)}isViewModelAttributeExists(e){return null!=this._getViewModelAttributesConfig()[e]}getViewConfigInfoByName(e){return this._getViewConfigInfoByName(e)}getViewConfigsByViewModelAttribute(e){return this.getViewConfigInfoByProperty("control","$"+e)}getViewConfigInfoByProperty(e,t){var n;return Wa.getViewConfigInfoByProperty(e,t,null===(n=this._schema)||void 0===n?void 0:n.viewConfig)}setViewModelAttribute(e,t){this._getViewModelAttributesConfig(!0)[e]=t}updateViewModelAttribute(e,t){if(!this.isViewModelAttributeExists(e))throw new Error(`ViewModel does not contain attribute with name '${e}'`);const n=this._getViewModelAttributesConfig(),i=(0,so.Z)(n[e]),r=(0,Pp.Z)(i,t,((e,t)=>(0,Tp.kJ)(t)?t:void 0));n[e]=r}generateUniqueAttributeNameByType(e){return wt.generateUnique(e)}getMappedDataSourceAttributePath(e){const t=this._getViewModelAttributesConfig(!0),n=this._getViewModelAttributeConfig(t,e);return this._getModelConfig(n,!0).path}getDataSourceConfigAttributePath(e,t){var n;const i=this.getDataSourceConfigByName(e);return(null==i?void 0:i.attributes)?null===(n=i.attributes[t])||void 0===n?void 0:n.path:null}removeDataSourceAttributePath(e){const t=this._getViewModelAttributesConfig(!0);delete this._getViewModelAttributeConfig(t,e).modelConfig}removeViewModelAttribute(e){delete this._getViewModelAttributesConfig(!0)[e]}removeFilterBindings(e){const t=this._getViewModelAttributesConfig(!0);Object.values(t).forEach((t=>{var n;const i=null===(n=t.modelConfig)||void 0===n?void 0:n.filterAttributes;(null==i?void 0:i.length)&&(t.modelConfig.filterAttributes=i.filter((t=>t.name!==e)))}))}createViewModelAttribute(e,t){if(this.isViewModelAttributeExists(e))throw new Error(`ViewModel already contain attribute with name '${e}'`);this._getViewModelAttributesConfig(!0)[e]=t}createDefaultAttribute(e){this.createViewModelAttribute(e,{})}findAttributeByDataSourceAttributePath(e){const t=this._getViewModelAttributesConfig(!0),n=Object.keys(t).find((n=>{var i,r;return(null===(r=null===(i=t[n])||void 0===i?void 0:i.modelConfig)||void 0===r?void 0:r.path)===e})),i=e.split(".");if(!n&&i.length>2){const e=i[0],t=this.getDataSourceConfigByName(e),n=null==t?void 0:t.attributes;if(n){const t=i.slice(1).join("."),r=Object.keys(n).find((e=>n[e].path===t));return r?this.findAttributeByDataSourceAttributePath(`${e}.${r}`):void 0}}return n}bindViewModelAttribute(e,t,n){if(!this.isViewModelAttributeExists(e))throw new Error(`ViewModel has no attribute with name '${e}'`);const i=this._getViewModelAttributesConfig(!0),r=this._getViewModelAttributeConfig(i,e);this._getModelConfig(r,!0).path=this._getDataSourceAttributePath(t,n)}bindViewModelAttributeCollection(e,t,n,i="",r=Ep.Merge){if(!this.isViewModelAttributeExists(e))throw new Error(`ViewModel has no attribute with name '${e}'`);const a=this._getViewModelAttributesConfig(!0),o=this._getViewModelAttributeConfig(a,e);this._getModelConfig(o,!0).path=t;const s=this._getCollectionItemViewModelConfig(o,!0);r===Ep.Merge?n.forEach((e=>{const n=this._getViewModelAttributeConfig(s.attributes,`${i}${e}`,!0);this._setModelConfigPath(n,t,e)})):r===Ep.Override&&(s.attributes=n.reduce(((e,n)=>{const r=this._getViewModelAttributeConfig(s.attributes,`${i}${n}`,!0);return this._setModelConfigPath(r,t,n),e[`${i}${n}`]=r,e}),{}))}isDataSourceExists(e){const t=this._getDataSourcesConfig();return t&&null!=t[e]}getDataSourceConfigByName(e){var t;const n=this._getDataSourcesConfig();return n?null===(t=n[e])||void 0===t?void 0:t.config:null}bindDataSource(e,t){let n=this._getDataSourcesConfig();n||(this._initModelConfig(),n=this._getDataSourcesConfig()),this.isDataSourceExists(e)&&(n[e].config=t),this._onDataSourceInstanceConfigChange(e)}getDataSources(){const e=this._getDataSourcesConfig(),t=[];return e&&Object.keys(e).forEach((n=>{t.push(e[n])})),t}removeDataSourcesFilterAttributeBinding(e){const t=this._getViewModelAttributesConfig(!0);Object.values(t).forEach((t=>{var n;const i=null===(n=t.modelConfig)||void 0===n?void 0:n.filterAttributes;(null==i?void 0:i.length)&&(t.modelConfig.filterAttributes=i.filter((t=>t.name!==e)))}))}getEntityDataSourceConfigService(e){return this._entityDataSourceConfigServices.get(e)}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](l.Injector))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"platform"}),e})();const Vp={name:"",schema:{viewConfigDiff:[],viewModelConfig:{},modelConfig:{}},structure:{},resources:{localizableImages:{},localizableStrings:{}}};let Lp=(()=>{class e{constructor(e,t,n,i,r,a,o){this._amdSchemaLoaderService=e,this._profileSchemaLoader=t,this._schemaBuilder=n,this._schemaDifferService=i,this._profileSchemaProvider=r,this._metadataModifierService=a,this._injector=o,this._schemaParts=[],this._schemaBundles={},this._initialized$=new h.BehaviorSubject(null),this.partsChanged$=new h.Subject}init(e){return this._schemaParts=[],this._schemaBundles={},this._schemaName=e,(0,h.zip)(this._amdSchemaLoaderService.load(e),this._profileSchemaLoader.load(e)).pipe((0,g.U)((([e,t])=>this._setParts(e.reverse(),t.reverse()))),(0,Pn.w)((()=>this._build())),(0,En.b)((()=>this._initialized$.next(e))))}use(e){const t=this._normalizeSchemaPartKey(e);return this._initialized$.pipe((0,f.h)((e=>e===this._schemaName)),(0,Tn.q)(1),(0,Pn.w)((()=>this._buildSchemaBundle(t))),(0,Pn.w)((e=>(0,a.mG)(this,void 0,void 0,(function*(){return this._createSchemaService(e)}))))).toPromise()}apply(e,t){const n=this._normalizeSchemaPartKey(t);return this._initialized$.pipe((0,f.h)((e=>e===this._schemaName)),(0,Tn.q)(1),(0,Pn.w)((()=>this._buildSchemaBundle(n))),(0,Pn.w)((t=>(0,a.mG)(this,void 0,void 0,(function*(){const i=this._createSchemaService(t),r=yield Promise.resolve(e(i)),a=null!=r?r:i.schema;this._schemaBundles[n]=a}))))).toPromise()}applyAfter(e,t){const n=this._normalizeSchemaPartKey(t),i=this._schemaParts.findIndex((e=>e.name===n));if(-1===i)throw new Error(`schema part "${t}" not found`);const r=[...this._schemaParts].slice(i+1,this._schemaParts.length),o=r.map((e=>this._buildSchemaBundle(e.name))),s=(0,h.forkJoin)(o).pipe((0,Pn.w)((t=>(0,a.mG)(this,void 0,void 0,(function*(){for(const[n,i]of Object.entries(t)){const t=this._createSchemaService(i),a=yield Promise.resolve(e(t)),o=r[n].name,s=null!=a?a:t.schema;this._schemaBundles[o]=s}})))));return this._initialized$.pipe((0,f.h)((e=>e===this._schemaName)),(0,Tn.q)(1),(0,Pn.w)((()=>s))).toPromise()}commit(e={silent:!0}){const t=Object.keys(this._schemaBundles).map((e=>{const t=this._schemaBundles[e];return this._actualizeSchemaPart(e,t)})),n=(0,h.forkJoin)(t).pipe((0,g.U)((()=>[...this._schemaParts].pop().name)),(0,g.U)((e=>this._schemaBundles[e])),(0,g.U)((t=>this.partsChanged$.next({bundle:t,silent:Boolean(null==e?void 0:e.silent)}))),(0,Pn.w)((()=>this._saveParts())));return this._initialized$.pipe((0,f.h)((e=>e===this._schemaName)),(0,Tn.q)(1),(0,Pn.w)((()=>n))).toPromise()}_build(){const e=[...this._schemaParts].pop().name;return this._buildSchemaBundle(e)}_setParts(e,t){var n;this._packagePartKey=null===(n=[...e].pop())||void 0===n?void 0:n.name,t=this._normalizeProfileParts(t),this._schemaParts=[...e,...t]}_normalizeProfileParts(e){const t=Object.assign(Object.assign({},Vp),{name:"A29A3BA5-4B0D-DE11-9A51-005056C00008"}),n=Object.assign({},Vp);return e&&0!==e.length?(!1===e.some((e=>e.name===t.name))&&(e=[t,...e]),!1===e.some((e=>e.name===n.name))&&(e=[...e,n]),e):[t,n]}_normalizeSchemaPartKey(e){switch(e){case"PACKAGE":return this._packagePartKey;case"ALL_EMPLOYERS":return"A29A3BA5-4B0D-DE11-9A51-005056C00008";case"USER":return"";default:return null!=e?e:""}}_buildSchemaBundle(e){const t=this._combineSchemaParts(e);return this._schemaBuilder.build(t).pipe((0,En.b)((t=>{this._schemaBundles[e]=t})))}_getPrevPartKey(e){const t=this._schemaParts.findIndex((t=>t.name===e)),n=t-1>=0?t-1:0;return this._schemaParts[n].name}_combineSchemaParts(e){const t=this._schemaParts.findIndex((t=>t.name===e));return[...this._schemaParts].slice(0,t+1)}_createSchemaService(e){const t=new Fp(this._injector);return t.init((0,so.Z)(e)),t}_actualizeSchemaPart(e,t){const n=this._getPrevPartKey(e);if(n===e)return(0,h.of)(void 0);const i=this._schemaBundles[n];return(i?(0,h.of)(i):this._buildSchemaBundle(n)).pipe((0,En.b)((n=>{t=this._metadataModifierService.revert(t),n=this._metadataModifierService.revert(n);const i=this._schemaDifferService.getDiff(n,t),r=this._schemaParts.findIndex((t=>t.name===e));this._schemaParts[r]=Object.assign(Object.assign({},this._schemaParts[r]),{schema:i.schema}),this._schemaParts[r].name||(this._schemaParts[r].name=e)})))}_saveParts(){const e=this._schemaParts.findIndex((e=>e.name===this._packagePartKey)),t=[...this._schemaParts].slice(e+1,this._schemaParts.length).map((e=>this._profileSchemaProvider.set(this._schemaName,e)));return(0,h.forkJoin)(t)}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](yp),l["ɵɵinject"](xp),l["ɵɵinject"](Sp),l["ɵɵinject"](Dp),l["ɵɵinject"](wp),l["ɵɵinject"](Od),l["ɵɵinject"](l.Injector))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})();new l.InjectionToken("MOCK_AMD_SCHEMAS_TOKEN"),new l.InjectionToken("MOCK_PROFILE_SCHEMAS_TOKEN");let zp=(()=>{class e{}return e.ɵfac=function(t){return new(t||e)},e.ɵmod=l["ɵɵdefineNgModule"]({type:e}),e.ɵinj=l["ɵɵdefineInjector"]({providers:[{provide:Sp,useClass:Mp},{provide:wp,useClass:_p},yp,xp,Mp,ap,dp,r.FeatureService,Dp,Lp],imports:[[o.CommonModule,s.HttpClientModule]]}),e})();function Bp(e){const{items:t}=e||{};if("string"==typeof t){if(!1!==t.startsWith("$"))return t.substring(1);console.log(`The attribute value '${t}' of the 'items' is not supporting. The attribute value should be bindable (starts with a "$" character)`)}else console.log(`The type '${typeof t}' of 'items' attribute binding value is not supporting.`)}function Gp(e,t,n,i){const{dataSourceName:a,dataSchema:o,itemsAttributeName:s,viewModel:l}=e,c=t.name,d=`${a}_${c}`.replace(/\./g,""),{primaryAttributeName:u,primaryDisplayAttributeName:p}=null!=o?o:{},m=u&&`${a}_${u}`,f=t.dataValueType,v={id:(0,r.generateGuid)(),code:d,caption:i||`#ResourceString(${a}_${c})#`,dataValueType:f},b={columnName:c,dataValueType:v.dataValueType,primaryDisplayAttributeName:p},C=n.create(b),y={column:v,context:l,itemsAttributeName:s,primaryAttributeName:m,primaryDisplayAttributeName:p,columnName:c};return(0,h.from)(C.getViewElementConfig(y)).pipe((0,g.U)((e=>Object.assign(Object.assign({},v),{cellView:e}))))}("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](zp,{imports:[o.CommonModule,s.HttpClientModule]});let Hp=(()=>{class e{constructor(e){this.schemaService=e}_getColumnsFromSchema(e,t){var n,i,r;const a=null!==(n=null==t?void 0:t.columns)&&void 0!==n?n:[];if("string"==typeof a){const t=a.split("$").pop();return null!==(r=(null!==(i=null==e?void 0:e.attributes)&&void 0!==i?i:{})[t])&&void 0!==r?r:[]}return a}getDataSourceName(e){const{viewElementConfig:t,viewModel:n}=e,i=Bp(t);return n.getBoundDataSourceName(i)}handle(e,t){var n;const i=t.get(il),r=this.schemaService.getViewConfigInfoByName(i.name).viewConfig,a=t.get(tl).viewModel$.pipe((0,Tn.q)(1)),o=null!==(n=e.columns)&&void 0!==n?n:[];return a.pipe((0,Pn.w)((e=>{const t=this.getDataSourceName({viewElementConfig:r,viewModel:e});if(!t)return(0,h.of)(void 0);const n=this._getColumnsFromSchema(e,r),i={viewElementConfig:r,dataSourceName:t,columns:o,previousColumns:n};return this.innerHandle(i)})))}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](Fp))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})();var Up=n(16945),Zp=n(12895),$p=n(23021),Wp=n(3984),qp=n(63296),Yp=n(94537),Jp=n(60857),Qp=n(78735);function Kp(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵelementStart"](0,"th",11),l["ɵɵelementStart"](1,"mat-checkbox",12),l["ɵɵlistener"]("change",(function(t){l["ɵɵrestoreView"](e);const n=l["ɵɵnextContext"](3);return t?n.allRowsSelectToggle():null})),l["ɵɵelementEnd"](),l["ɵɵelementEnd"]()}if(2&e){const e=l["ɵɵnextContext"](3);l["ɵɵadvance"](1),l["ɵɵstyleProp"]("visibility",e.showSelectAllButton&&!e.isEmpty()?"visible":"hidden"),l["ɵɵproperty"]("checked",e.isAllRowsCheckboxChecked())("indeterminate",e.isAllRowsCheckboxIntermediate())}}function Xp(e,t){1&e&&(l["ɵɵelementContainerStart"](0),l["ɵɵtemplate"](1,Kp,2,4,"th",10),l["ɵɵelementContainerEnd"]())}function em(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵelementStart"](0,"td",13),l["ɵɵelementStart"](1,"mat-checkbox",14),l["ɵɵlistener"]("click",(function(t){const n=l["ɵɵrestoreView"](e).$implicit;return l["ɵɵnextContext"](2).onCheckboxClick(n,t)}))("change",(function(){const t=l["ɵɵrestoreView"](e).$implicit;return l["ɵɵnextContext"](2).recordSelectToggle(t)})),l["ɵɵelementEnd"](),l["ɵɵelementEnd"]()}if(2&e){const e=t.$implicit,n=l["ɵɵnextContext"](2);l["ɵɵadvance"](1),l["ɵɵproperty"]("checked",n.isRecordSelected(e))}}function tm(e,t){1&e&&l["ɵɵelement"](0,"th",16)}function nm(e,t){1&e&&(l["ɵɵelementContainerStart"](0),l["ɵɵtemplate"](1,tm,1,0,"th",15),l["ɵɵelementContainerEnd"]())}function im(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵelementStart"](0,"td",17),l["ɵɵelementStart"](1,"button",18),l["ɵɵlistener"]("click",(function(t){const n=l["ɵɵrestoreView"](e).$implicit;return l["ɵɵnextContext"](2).toggleRowExpansion(n,t)})),l["ɵɵelement"](2,"mat-icon",19),l["ɵɵelementEnd"](),l["ɵɵelementEnd"]()}if(2&e){const e=t.$implicit,n=l["ɵɵnextContext"](2);l["ɵɵadvance"](1),l["ɵɵproperty"]("@rowExpanderTrigger",n.isRecordExpanded(e)?"expanded":"collapsed"),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngClass","row-expander-icon "+(n.isRecordExpanded(e)?"expanded":"collapsed"))}}function rm(e,t){if(1&e&&(l["ɵɵelementStart"](0,"th",22),l["ɵɵelementStart"](1,"label"),l["ɵɵtext"](2),l["ɵɵelementEnd"](),l["ɵɵelementEnd"]()),2&e){const e=l["ɵɵnextContext"](3).$implicit,t=l["ɵɵnextContext"](2);l["ɵɵproperty"]("disabled",!t.isColumnSortable(e))("ngClass",t.getColumnHeaderCssClass(e.valueType,e.span)),l["ɵɵadvance"](2),l["ɵɵtextInterpolate"](e.caption)}}function am(e,t){1&e&&(l["ɵɵelementContainerStart"](0),l["ɵɵtemplate"](1,rm,3,3,"th",21),l["ɵɵelementContainerEnd"]())}function om(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵelementStart"](0,"td",23),l["ɵɵelementStart"](1,"ts-table-cell-wrapper",24),l["ɵɵlistener"]("valueChange",(function(t){const n=l["ɵɵrestoreView"](e).$implicit,i=l["ɵɵnextContext"](2).$implicit;return l["ɵɵnextContext"](2).onCellValueChange(n,i,t)})),l["ɵɵelementEnd"](),l["ɵɵelementEnd"]()}if(2&e){const e=t.$implicit,n=l["ɵɵnextContext"]().$implicit,i=l["ɵɵnextContext"]().$implicit,r=l["ɵɵnextContext"](2);l["ɵɵproperty"]("ngClass",r.getValueTypeCssClass(i.valueType)),l["ɵɵadvance"](1),l["ɵɵproperty"]("columnDataSchema",i)("record",e)("eventHandlers",r.eventHandlers&&r.eventHandlers[n])}}function sm(e,t){if(1&e&&(l["ɵɵelementContainerStart"](0,2),l["ɵɵtemplate"](1,am,2,0,"ng-container",3),l["ɵɵtemplate"](2,om,2,4,"td",8),l["ɵɵelementContainerEnd"]()),2&e){const e=t.$implicit,n=l["ɵɵnextContext"](3);l["ɵɵpropertyInterpolate"]("matColumnDef",e),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",n.showHeader)}}function lm(e,t){if(1&e&&(l["ɵɵelementContainerStart"](0),l["ɵɵtemplate"](1,sm,3,2,"ng-container",20),l["ɵɵelementContainerEnd"]()),2&e){const e=t.$implicit;l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",e.name)}}function cm(e,t){if(1&e&&(l["ɵɵelementStart"](0,"td",23),l["ɵɵelementStart"](1,"div",25),l["ɵɵelement"](2,"ts-table-cell-wrapper",26),l["ɵɵelementEnd"](),l["ɵɵelementEnd"]()),2&e){const e=t.$implicit,n=l["ɵɵnextContext"](2);l["ɵɵproperty"]("ngClass","expandable-cell-"+(n.isRecordExpanded(e)?"expanded":"collapsed")),l["ɵɵattribute"]("colspan",n.columns.length),l["ɵɵadvance"](1),l["ɵɵproperty"]("@expandableRowTrigger",n.isRecordExpanded(e)?"expanded":"collapsed"),l["ɵɵadvance"](1),l["ɵɵproperty"]("columnDataSchema",n.dataSchema.expandableRow)("record",e)("eventHandlers",n.eventHandlers&&n.eventHandlers[n.dataSchema.expandableRow.name])}}function dm(e,t){1&e&&l["ɵɵelement"](0,"tr",28)}function um(e,t){if(1&e&&(l["ɵɵelementContainerStart"](0),l["ɵɵtemplate"](1,dm,1,0,"tr",27),l["ɵɵelementContainerEnd"]()),2&e){const e=l["ɵɵnextContext"](2);l["ɵɵadvance"](1),l["ɵɵproperty"]("matHeaderRowDef",e.columns)("matHeaderRowDefSticky",e.headerSticky)}}function pm(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵelementStart"](0,"tr",29),l["ɵɵlistener"]("click",(function(){const t=l["ɵɵrestoreView"](e).$implicit;return l["ɵɵnextContext"](2).onRowClick(t)}))("dblclick",(function(){const t=l["ɵɵrestoreView"](e).$implicit;return l["ɵɵnextContext"](2).onRowDoubleClick(t)})),l["ɵɵelementEnd"]()}if(2&e){const e=t.$implicit,n=t.even,i=l["ɵɵnextContext"](2);l["ɵɵproperty"]("ngClass",i.getRowCssClass(e,n))("cdkDragData",e)("cdkDragBoundary",i.dragBoundarySelector)("cdkDragDisabled",!i.enableOrdering)}}function mm(e,t){1&e&&l["ɵɵelement"](0,"tr",31)}const hm=function(){return["expandableRow"]};function gm(e,t){1&e&&(l["ɵɵelementStart"](0,"div"),l["ɵɵtemplate"](1,mm,1,0,"tr",30),l["ɵɵelementEnd"]()),2&e&&(l["ɵɵadvance"](1),l["ɵɵproperty"]("matRowDefColumns",l["ɵɵpureFunction0"](1,hm)))}function fm(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵelementStart"](0,"table",1),l["ɵɵlistener"]("matSortChange",(function(t){l["ɵɵrestoreView"](e);return l["ɵɵnextContext"]().onSortChange(t)}))("cdkDropListDropped",(function(t){l["ɵɵrestoreView"](e);return l["ɵɵnextContext"]().onItemDrop(t)})),l["ɵɵelementContainerStart"](1,2),l["ɵɵtemplate"](2,Xp,2,0,"ng-container",3),l["ɵɵtemplate"](3,em,2,1,"td",4),l["ɵɵelementContainerEnd"](),l["ɵɵelementContainerStart"](4,2),l["ɵɵtemplate"](5,nm,2,0,"ng-container",3),l["ɵɵtemplate"](6,im,3,2,"td",5),l["ɵɵelementContainerEnd"](),l["ɵɵtemplate"](7,lm,2,1,"ng-container",6),l["ɵɵelementContainerStart"](8,7),l["ɵɵtemplate"](9,cm,3,6,"td",8),l["ɵɵelementContainerEnd"](),l["ɵɵtemplate"](10,um,2,2,"ng-container",3),l["ɵɵtemplate"](11,pm,1,4,"tr",9),l["ɵɵtemplate"](12,gm,2,2,"div",3),l["ɵɵelementEnd"]()}if(2&e){const e=l["ɵɵnextContext"]();l["ɵɵstyleProp"]("display",e.isEmpty()?"none":null),l["ɵɵproperty"]("dataSource",e.dataSource)("matSortDirection",e.sortDirection)("matSortActive",e.sortColumn)("cdkDropListDisabled",!e.enableOrdering)("trackBy",e.trackByFunction),l["ɵɵadvance"](1),l["ɵɵpropertyInterpolate"]("matColumnDef",e.getMultiSelectColumnName()),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",e.showHeader),l["ɵɵadvance"](2),l["ɵɵpropertyInterpolate"]("matColumnDef",e.getRowExpanderColumnName()),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",e.showHeader),l["ɵɵadvance"](2),l["ɵɵproperty"]("ngForOf",e.dataSchema.columns),l["ɵɵadvance"](3),l["ɵɵproperty"]("ngIf",e.showHeader),l["ɵɵadvance"](1),l["ɵɵproperty"]("matRowDefColumns",e.columns),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",e.dataSchema.expandableRow)}}var vm=(()=>(function(e){e.None="none",e.Intermediate="intermediate",e.All="all"}(vm||(vm={})),vm))();const bm=["headerSticky","selectMode","showHeader","showSelectAllButton","allRowsSelectState","allRowsSelectToggleHandler","sortable","sortColumn","sortDirection","selectedRowCssClass","evenRowCssClass","minWidthPerColumn"],Cm={selectMode:"none",headerSticky:!1,showHeader:!0,showSelectAllButton:!0,sortable:!0,sortColumn:"",sortDirection:"asc",selectedRowCssClass:"selected",evenRowCssClass:"even-row",minWidthPerColumn:120};let ym=(()=>{class e{constructor(e){this.changeDetectorRef=e,this.selection=new qp.Ov(!0,[]),this.expansion=new qp.Ov(!0,[]),this.dataValueType=r.DataValueType,this.cellValueChange=new l.EventEmitter,this.enableOrdering=!1,this.rowExpanderPosition="end",this.selectedChange=new l.EventEmitter,this.sortChange=new l.EventEmitter,this.expandedChange=new l.EventEmitter,this.recordPositionChange=new l.EventEmitter,this.rowDoubleClick=new l.EventEmitter,this.getColumnSortingAccessor=(e,t)=>{const n=this.columnsDataSchema[t],i=e&&e[t];if(!n)return i;if(n.sortingDataAccessor)return n.sortingDataAccessor(e);switch(n.valueType){case r.DataValueType.Lookup:const e=i;return e&&e.displayValue;default:return i}},this.getMultiSelectColumnName=()=>"_multiSelectColumn",this.getRowExpanderColumnName=()=>"_rowExpanderColumn",this.trackByFunction=(e,t)=>this.trackRecord(t),this.config=Cm}get filteredData(){return this.dataSource?this.dataSource.filteredData:[]}get dataSchema(){return this._dataSchema}set dataSchema(e){this._dataSchema=e;const t={};e&&e.columns.forEach((e=>{t[e.name]=e})),this.columnsDataSchema=t,this.markForCheck()}get dataColumns(){const e=this.dataSchema;return e&&e.columns?e.columns.map((e=>e.name)):[]}get columns(){const e=this.dataColumns;return"multi"===this.selectMode&&e.unshift(this.getMultiSelectColumnName()),this.dataSchema.expandableRow&&("start"===this.rowExpanderPosition&&e.unshift(this.getRowExpanderColumnName()),"end"===this.rowExpanderPosition&&e.push(this.getRowExpanderColumnName())),e}get selected(){const e=this.selection.selected;return this.data.filter((t=>e.includes(this.trackRecord(t))))}set selected(e){this.deselectRedundant();const t=this.trackRecords(e);if(this.deselectExcluding(...t||[]),t){const e=this.trackRecordsAreInTable(t);this.selection.select(...e)}}get expanded(){const e=this.expansion.selected;return this.data.filter((t=>e.includes(this.trackRecord(t))))}set expanded(e){this.collapseRedundant();const t=this.trackRecords(e);if(this.collapseExcluding(...t||[]),t){const e=this.trackRecordsAreInTable(t);this.expansion.select(...e)}}set sort(e){e=e||{},this.sortColumn=e.columnName,this.sortDirection=e.direction}set matSort(e){this._matSort!==e&&this._dataSource&&e&&(this._matSort=e,this.dataSource.sort=e)}set data(e){e=e||[],this._dataSource||this.initDataSource(),this.dataSource.data=e}get data(){return this.dataSource&&this.dataSource.data||[]}set dataSource(e){this.initDataSource(e)}get dataSource(){return this._dataSource}get eventHandlers(){return this._eventHandlers}set eventHandlers(e){this._eventHandlers=e,this.markForCheck()}set config(e){e=e||{};const t=this._config;this._config=e,(0,Ed.Z)(e,t)||this._applyConfig(e)}_applyConfig(e){bm.forEach((t=>{const n=t,i=t,r=e[n],a=this[i];void 0!==r&&!(0,Ed.Z)(r,a)&&(this[i]=e[n])}))}trackRecord(e){var t;return(null===(t=this._dataSchema)||void 0===t?void 0:t.trackBy)?this._dataSchema.trackBy(e):e}trackRecords(e){return null==e?void 0:e.map((e=>this.trackRecord(e)))}isRecordInTable(e){return this.data.some((t=>this.trackRecord(t)===e))}deselectRedundant(){if(!this.dataSource)return null;const e=this.trackRecordsAreNotInTable(this.selection.selected);return 0!==e.length&&this.selection.deselect(...e),e}collapseRedundant(){if(!this.dataSource)return null;const e=this.trackRecordsAreNotInTable(this.expansion.selected);return 0!==e.length&&this.expansion.deselect(...e),e}deselectExcluding(...e){if(!this.data||!this.selection.hasValue())return;const t=this.trackRecordsExceptExcluded(e);this.selection.deselect(...t)}collapseExcluding(...e){const t=this.trackRecordsExceptExcluded(e);this.expansion.deselect(...t)}changeSelectionForRecords(e,t){e?this.selection.select(...t):this.selection.deselect(...t)}initDataSource(e){(e=e||new Qp.by).sortingDataAccessor=this.getColumnSortingAccessor,e.connect().subscribe((e=>{var t,n;this.renderedDataTrackValues=this.trackRecords(e),(null===(t=this.deselectRedundant())||void 0===t?void 0:t.length)>0&&this.emitSelectionChange(),(null===(n=this.collapseRedundant())||void 0===n?void 0:n.length)>0&&this.emitExpandedChange(),this.markForCheck(),this.calculateMinWidth()})),this._dataSource=e}markForCheck(){this.changeDetectorRef.markForCheck()}emitSelectionChange(){this.selectedChange.emit(this.selected)}emitExpandedChange(){this.expandedChange.emit(this.expanded)}selectSingleRecord(e){this.deselectExcluding(e),this.selection.select(e),this.emitSelectionChange()}validateColumnEventHandlers(){const e=Object.keys(this.eventHandlers),t=this._dataSchema.expandableRow;let n=e.find((e=>!this.columnsDataSchema[e]));if(t&&n===t.name&&(n=null),n){const e=Object.keys(this.columnsDataSchema).join(", ");throw new Error(`Event handlers for column "${n}" can not be specified because the column was not defined in table data schema. Actual table columns: ${e}.`)}}changeSelectionForRange(e){if(!this.renderedDataTrackValues||!this.lastSelectToggledRecord||this.lastSelectToggledRecord===e)return!1;const t=this.renderedDataTrackValues.indexOf(this.lastSelectToggledRecord),n=this.renderedDataTrackValues.indexOf(e);if(-1===t||-1===n)return!1;const i=this.renderedDataTrackValues.slice(Math.min(t,n),Math.max(t,n)+1);return this.changeSelectionForRecords(!this.selection.isSelected(e),i),this.lastSelectToggledRecord=e,this.emitSelectionChange(),!0}trackRecordsAreInTable(e){return this.dataSource?e.filter((e=>this.isRecordInTable(e))):e}trackRecordsAreNotInTable(e){return this.dataSource?e.filter((e=>!this.isRecordInTable(e))):e}trackRecordsExceptExcluded(e){const t=this.trackRecords(this.data);return e?t.filter((t=>!e.includes(t))):t}calculateMinWidth(){var e,t,n;const i=this.minWidthPerColumn,r=null!==(n=null===(t=null===(e=this.dataSchema)||void 0===e?void 0:e.columns)||void 0===t?void 0:t.length)&&void 0!==n?n:0,a=!this.isEmpty()&&i>0&&r>0;this.minWidth=a?i*r+"px":""}getColumnSpanClass(e){return e>0&&e<=24?`ts-column-span-${e}`:""}allRecordsSelected(){return this.dataSource&&this.selection.hasValue()&&this.selection.selected.length>=this.filteredData.length&&this.filteredData.every(this.isRecordSelected.bind(this))}getAllRowsSelectState(){let e;return this.allRowsSelectState&&(e=this.allRowsSelectState())?e:this.allRecordsSelected()?vm.All:this.isAnyRecordSelected()?vm.Intermediate:vm.None}ngOnChanges(){this.eventHandlers&&this.columnsDataSchema&&this.validateColumnEventHandlers(),this.calculateMinWidth()}isDataSchemaEmpty(){return!this.dataSchema||!this.dataSchema.columns||0===this.dataColumns.length}isEmpty(){return this.isDataSchemaEmpty()||!this.renderedDataTrackValues||0===this.renderedDataTrackValues.length}recordSelectToggle(e){const t=this.trackRecord(e);this.selection.toggle(t),this.lastSelectToggledRecord=t,this.emitSelectionChange()}onSortChange(e){const t={columnName:e.active,direction:e.direction};this.sort=t,this.sortChange.emit(t)}isAnyRecordSelected(){return this.selection.hasValue()}isRecordSelected(e){return this.selection.isSelected(this.trackRecord(e))}isRecordExpanded(e){return this.expansion.isSelected(this.trackRecord(e))}isAllRowsCheckboxChecked(){return this.getAllRowsSelectState()===vm.All}isAllRowsCheckboxIntermediate(){return this.getAllRowsSelectState()===vm.Intermediate}allRowsSelectToggle(){if("multi"!==this.selectMode)throw new RangeError("Multi-select mode should be enabled to select all records.");if(this.allRowsSelectToggleHandler)this.allRowsSelectToggleHandler();else{const e=!this.isAllRowsCheckboxChecked();this.changeSelectionForRecords(e,this.trackRecords(this.filteredData)),this.emitSelectionChange()}}onRowClick(e){"single"===this.selectMode&&this.selectSingleRecord(this.trackRecord(e))}onRowDoubleClick(e){this.rowDoubleClick.emit(e)}getValueTypeCssClass(e){return"ts-value-type-"+(e&&r.DataValueType[e].toString().toLowerCase())}getColumnHeaderCssClass(e,t){return[this.getValueTypeCssClass(e),this.getColumnSpanClass(t)].filter((e=>Boolean(e)))}getRowCssClass(e,t){const n=[];t&&n.push(this.evenRowCssClass),"single"===this.selectMode&&this.isRecordSelected(e)&&n.push(this.selectedRowCssClass);const i="function"==typeof this.dataSchema.rowCssClass?this.dataSchema.rowCssClass(e):this.dataSchema.rowCssClass;return i&&n.push(i),n}isColumnSortable(e){return!(!e.caption||this.enableOrdering)&&(this.sortable?!1!==e.sortable:!0===e.sortable)}onCheckboxClick(e,t){const n=this.trackRecord(e);t.shiftKey&&this.changeSelectionForRange(n)&&t.preventDefault(),t.stopPropagation()}toggleRowExpansion(e,t){if(t.stopPropagation(),!this.dataSchema.expandableRow)throw new Error("An expandable cell must be set for this operation");this.expansion.toggle(this.trackRecord(e)),this.emitExpandedChange()}onCellValueChange(e,t,n){this.data=this.data,this.cellValueChange.emit({record:e,columnDataSchema:t,value:n})}onItemDrop(e){const t=this.data.indexOf(e.item.data);(0,Yp.bA)(this.data,t,e.currentIndex),this.data=this.data;const n={record:e.item.data,newIndex:e.currentIndex,prevIndex:t};this.recordPositionChange.emit(n)}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](l.ChangeDetectorRef))},e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["ts-table"]],viewQuery:function(e,t){if(1&e&&l["ɵɵviewQuery"](Jp.YE,5),2&e){let e;l["ɵɵqueryRefresh"](e=l["ɵɵloadQuery"]())&&(t.matSort=e.first)}},hostVars:2,hostBindings:function(e,t){2&e&&l["ɵɵstyleProp"]("min-width",t.minWidth)},inputs:{dataSchema:"dataSchema",selectMode:"selectMode",headerSticky:"headerSticky",showHeader:"showHeader",showSelectAllButton:"showSelectAllButton",sortable:"sortable",sortColumn:"sortColumn",sortDirection:"sortDirection",selectedRowCssClass:"selectedRowCssClass",evenRowCssClass:"evenRowCssClass",minWidthPerColumn:"minWidthPerColumn",enableOrdering:"enableOrdering",dragBoundarySelector:"dragBoundarySelector",rowExpanderPosition:"rowExpanderPosition",selected:"selected",expanded:"expanded",sort:"sort",data:"data",dataSource:"dataSource",eventHandlers:"eventHandlers",config:"config",allRowsSelectState:"allRowsSelectState",allRowsSelectToggleHandler:"allRowsSelectToggleHandler"},outputs:{cellValueChange:"cellValueChange",selectedChange:"selectedChange",sortChange:"sortChange",expandedChange:"expandedChange",recordPositionChange:"recordPositionChange",rowDoubleClick:"rowDoubleClick"},features:[l["ɵɵNgOnChangesFeature"]],decls:1,vars:1,consts:[["mat-table","","matSort","","matSortDisableClear","","multiTemplateDataRows","","cdkDropList","",3,"display","dataSource","matSortDirection","matSortActive","cdkDropListDisabled","trackBy","matSortChange","cdkDropListDropped",4,"ngIf"],["mat-table","","matSort","","matSortDisableClear","","multiTemplateDataRows","","cdkDropList","",3,"dataSource","matSortDirection","matSortActive","cdkDropListDisabled","trackBy","matSortChange","cdkDropListDropped"],[3,"matColumnDef"],[4,"ngIf"],["mat-cell","","class","multi-select-column",4,"matCellDef"],["mat-cell","","class","row-expander-column",4,"matCellDef"],[4,"ngFor","ngForOf"],["matColumnDef","expandableRow"],["mat-cell","",3,"ngClass",4,"matCellDef"],["mat-row","","cdkDragLockAxis","y","cdkDrag","",3,"ngClass","cdkDragData","cdkDragBoundary","cdkDragDisabled","click","dblclick",4,"matRowDef","matRowDefColumns"],["mat-header-cell","","class","multi-select-column",4,"matHeaderCellDef"],["mat-header-cell","",1,"multi-select-column"],[3,"checked","indeterminate","change"],["mat-cell","",1,"multi-select-column"],[3,"checked","click","change"],["mat-header-cell","","class","row-expander-column",4,"matHeaderCellDef"],["mat-header-cell","",1,"row-expander-column"],["mat-cell","",1,"row-expander-column"],[1,"trigger-button",3,"click"],[3,"ngClass"],[3,"matColumnDef",4,"ngIf"],["mat-header-cell","","mat-sort-header","",3,"disabled","ngClass",4,"matHeaderCellDef"],["mat-header-cell","","mat-sort-header","",3,"disabled","ngClass"],["mat-cell","",3,"ngClass"],[3,"columnDataSchema","record","eventHandlers","valueChange"],[1,"expandable-row-wrapper"],[3,"columnDataSchema","record","eventHandlers"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-header-row",""],["mat-row","","cdkDragLockAxis","y","cdkDrag","",3,"ngClass","cdkDragData","cdkDragBoundary","cdkDragDisabled","click","dblclick"],["mat-row","","class","expandable-row",4,"matRowDef","matRowDefColumns"],["mat-row","",1,"expandable-row"]],template:function(e,t){1&e&&l["ɵɵtemplate"](0,fm,13,15,"table",0),2&e&&l["ɵɵproperty"]("ngIf",!t.isDataSchemaEmpty())},styles:["ts-table{display:inline-block}ts-table,ts-table table{width:100%}ts-table table tr.expandable-row{height:auto}ts-table table tr.expandable-row td.expandable-cell-collapsed{border-bottom:hidden}ts-table table tr td,ts-table table tr th{overflow:hidden}ts-table table tr td:not(.multi-select-column,.row-expander-column),ts-table table tr th:not(.multi-select-column,.row-expander-column){width:auto}ts-table table tr td:not(.multi-select-column,.row-expander-column).ts-column-span-1,ts-table table tr th:not(.multi-select-column,.row-expander-column).ts-column-span-1{width:4.1666666667%}ts-table table tr td:not(.multi-select-column,.row-expander-column).ts-column-span-2,ts-table table tr th:not(.multi-select-column,.row-expander-column).ts-column-span-2{width:8.3333333333%}ts-table table tr td:not(.multi-select-column,.row-expander-column).ts-column-span-3,ts-table table tr th:not(.multi-select-column,.row-expander-column).ts-column-span-3{width:12.5%}ts-table table tr td:not(.multi-select-column,.row-expander-column).ts-column-span-4,ts-table table tr th:not(.multi-select-column,.row-expander-column).ts-column-span-4{width:16.6666666667%}ts-table table tr td:not(.multi-select-column,.row-expander-column).ts-column-span-5,ts-table table tr th:not(.multi-select-column,.row-expander-column).ts-column-span-5{width:20.8333333333%}ts-table table tr td:not(.multi-select-column,.row-expander-column).ts-column-span-6,ts-table table tr th:not(.multi-select-column,.row-expander-column).ts-column-span-6{width:25%}ts-table table tr td:not(.multi-select-column,.row-expander-column).ts-column-span-7,ts-table table tr th:not(.multi-select-column,.row-expander-column).ts-column-span-7{width:29.1666666667%}ts-table table tr td:not(.multi-select-column,.row-expander-column).ts-column-span-8,ts-table table tr th:not(.multi-select-column,.row-expander-column).ts-column-span-8{width:33.3333333333%}ts-table table tr td:not(.multi-select-column,.row-expander-column).ts-column-span-9,ts-table table tr th:not(.multi-select-column,.row-expander-column).ts-column-span-9{width:37.5%}ts-table table tr td:not(.multi-select-column,.row-expander-column).ts-column-span-10,ts-table table tr th:not(.multi-select-column,.row-expander-column).ts-column-span-10{width:41.6666666667%}ts-table table tr td:not(.multi-select-column,.row-expander-column).ts-column-span-11,ts-table table tr th:not(.multi-select-column,.row-expander-column).ts-column-span-11{width:45.8333333333%}ts-table table tr td:not(.multi-select-column,.row-expander-column).ts-column-span-12,ts-table table tr th:not(.multi-select-column,.row-expander-column).ts-column-span-12{width:50%}ts-table table tr td:not(.multi-select-column,.row-expander-column).ts-column-span-13,ts-table table tr th:not(.multi-select-column,.row-expander-column).ts-column-span-13{width:54.1666666667%}ts-table table tr td:not(.multi-select-column,.row-expander-column).ts-column-span-14,ts-table table tr th:not(.multi-select-column,.row-expander-column).ts-column-span-14{width:58.3333333333%}ts-table table tr td:not(.multi-select-column,.row-expander-column).ts-column-span-15,ts-table table tr th:not(.multi-select-column,.row-expander-column).ts-column-span-15{width:62.5%}ts-table table tr td:not(.multi-select-column,.row-expander-column).ts-column-span-16,ts-table table tr th:not(.multi-select-column,.row-expander-column).ts-column-span-16{width:66.6666666667%}ts-table table tr td:not(.multi-select-column,.row-expander-column).ts-column-span-17,ts-table table tr th:not(.multi-select-column,.row-expander-column).ts-column-span-17{width:70.8333333333%}ts-table table tr td:not(.multi-select-column,.row-expander-column).ts-column-span-18,ts-table table tr th:not(.multi-select-column,.row-expander-column).ts-column-span-18{width:75%}ts-table table tr td:not(.multi-select-column,.row-expander-column).ts-column-span-19,ts-table table tr th:not(.multi-select-column,.row-expander-column).ts-column-span-19{width:79.1666666667%}ts-table table tr td:not(.multi-select-column,.row-expander-column).ts-column-span-20,ts-table table tr th:not(.multi-select-column,.row-expander-column).ts-column-span-20{width:83.3333333333%}ts-table table tr td:not(.multi-select-column,.row-expander-column).ts-column-span-21,ts-table table tr th:not(.multi-select-column,.row-expander-column).ts-column-span-21{width:87.5%}ts-table table tr td:not(.multi-select-column,.row-expander-column).ts-column-span-22,ts-table table tr th:not(.multi-select-column,.row-expander-column).ts-column-span-22{width:91.6666666667%}ts-table table tr td:not(.multi-select-column,.row-expander-column).ts-column-span-23,ts-table table tr th:not(.multi-select-column,.row-expander-column).ts-column-span-23{width:95.8333333333%}ts-table table tr td:not(.multi-select-column,.row-expander-column).ts-column-span-24,ts-table table tr th:not(.multi-select-column,.row-expander-column).ts-column-span-24{width:100%}ts-table table tr td:not(:first-of-type),ts-table table tr th:not(:first-of-type){padding-left:5px}ts-table table tr td:not(:last-of-type),ts-table table tr th:not(:last-of-type){padding-right:5px}ts-table table tr td.multi-select-column,ts-table table tr th.multi-select-column{padding-right:10px;width:16px!important;text-align:center;overflow:visible!important}ts-table table tr td.multi-select-column mat-checkbox .mat-checkbox-ripple,ts-table table tr th.multi-select-column mat-checkbox .mat-checkbox-ripple{overflow:visible;position:absolute;left:calc(50% - 16px);top:calc(50% - 16px);height:32px;width:32px}ts-table table tr td.multi-select-column mat-checkbox .mat-checkbox-ripple .mat-ripple-element:not(.mat-checkbox-persistent-ripple),ts-table table tr th.multi-select-column mat-checkbox .mat-checkbox-ripple .mat-ripple-element:not(.mat-checkbox-persistent-ripple){display:none}ts-table table tr td.row-expander-column .trigger-button,ts-table table tr th.row-expander-column .trigger-button{background:none;border:none}ts-table table tr td.row-expander-column .trigger-button:focus,ts-table table tr th.row-expander-column .trigger-button:focus{background:none;border:none;outline:none}ts-table table tr td.row-expander-column .trigger-button .row-expander-icon,ts-table table tr th.row-expander-column .trigger-button .row-expander-icon{background-image:url(\"data:image/svg+xml,%3Csvg id='Component_447' data-name='Component 447' xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3E%3Cpath id='Path_1315' data-name='Path 1315' d='M7,13,0,6.5,7,0' transform='translate(14.549 4.25) rotate(90)' fill='none' stroke='%23006ce0' stroke-width='1.1'/%3E%3Crect id='Rectangle_6725' data-name='Rectangle 6725' width='16' height='16' fill='none'/%3E%3C/svg%3E%0A\");background-position:50%}ts-table table tr td.row-expander-column .trigger-button .row-expander-icon.collapsed,ts-table table tr th.row-expander-column .trigger-button .row-expander-icon.collapsed{transform:rotate(-180deg)}ts-table table tr td .expandable-row-wrapper,ts-table table tr th .expandable-row-wrapper{display:flex}ts-table table tr td .expandable-row-wrapper ts-table-cell-wrapper,ts-table table tr th .expandable-row-wrapper ts-table-cell-wrapper{width:100%;margin:10px 0}ts-table table tr th.ts-value-type-boolean .mat-sort-header-container{justify-content:center;padding-left:21px}ts-table table tr td.ts-value-type-boolean{text-align:center}"],encapsulation:2,data:{animation:[(0,he.X$)("expandableRowTrigger",[(0,he.SB)("collapsed",(0,he.oB)({height:"0px",minHeight:"0"})),(0,he.SB)("expanded",(0,he.oB)({height:"unset"}))]),(0,he.X$)("rowExpanderTrigger",[(0,he.eR)("collapsed <=> expanded",[(0,he.oB)({transform:"rotate(180deg)",opacity:0})])])]},changeDetection:0}),e})(),wm=(()=>{class e{constructor(){this.getRegisteredEvents=()=>[]}set eventHandlers(e){this._eventHandlers=e,this._validateEventHandlers()}get eventHandlers(){return this._eventHandlers}_stringify(e){const t=[()=>JSON.stringify(e),()=>e.toString()];for(let e=0;e<t.length;e++){const n=t[e];try{return n()}catch(e){}}return""}_checkEventCanBeHandled(e){const t=this.getRegisteredEvents();if(!t||t.some((t=>t.name===e)))return;const n=t.map((e=>e.name)).join(", ");let i=`Handler for event "${e}" can not be specified because the event was not registered in table cell class. Registered table column events to subscribe: ${n}.`;throw this.columnDataSchema&&(i+=` Column name: "${this.columnDataSchema.name}".`),new Error(i)}_checkHandlerIsFunction(e,t){if("function"!=typeof t)throw new TypeError(`Handler for event with name "${e}" must be a function, but actual is"${this._stringify(t)}".`)}_validateEventHandlers(){if(!this.eventHandlers)return;Object.keys(this.eventHandlers).forEach((e=>{this._checkEventCanBeHandled(e),this._checkHandlerIsFunction(e,this.eventHandlers[e])}))}_checkEventDataType(e,t){return e instanceof t||e.constructor===t}_validateFiringEvent(e,t){const n=this._registeredEvents.find((t=>t.name===e));if(!n)throw new Error(`Event with name "${e}" is not registered in the cell class and can not be fired.`);const i=n.dataType;if(t&&(!i||!this._checkEventDataType(t,i)))throw new TypeError(`Type of the data in the event "${e}" must be "${i}", but actual data is "${this._stringify(t)}".`)}_getValidEventHandler(e){const t=this.eventHandlers&&this.eventHandlers[e];if(t)return this._checkHandlerIsFunction(e,t),t}isEmpty(){return!(this.columnDataSchema&&this.record)}fireEvent(e,t){this._validateFiringEvent(e,t);const n=this._getValidEventHandler(e);return n&&n(this.record,t)}ngOnInit(){this._registeredEvents=this.getRegisteredEvents()}getValue(){const e=this.record[this.columnDataSchema.name],t=this.columnDataSchema.formatter;return t?t(e,this.record):e}}return e.ɵfac=function(t){return new(t||e)},e.ɵdir=l["ɵɵdefineDirective"]({type:e,inputs:{columnDataSchema:"columnDataSchema",record:"record",eventHandlers:"eventHandlers"}}),e})();function _m(e,t){if(1&e&&(l["ɵɵelementContainerStart"](0),l["ɵɵelementStart"](1,"a",7),l["ɵɵtext"](2),l["ɵɵelementEnd"](),l["ɵɵelementContainerEnd"]()),2&e){const e=l["ɵɵnextContext"]().$implicit,t=l["ɵɵnextContext"](2).$implicit,n=l["ɵɵnextContext"](2);l["ɵɵadvance"](1),l["ɵɵproperty"]("routerLink",n.getLinkUrl(e))("target",n.getLinkTarget(e)),l["ɵɵadvance"](1),l["ɵɵtextInterpolate"](n.formatTextValue(t))}}function xm(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵelementStart"](0,"a",8),l["ɵɵlistener"]("click",(function(t){l["ɵɵrestoreView"](e);const n=l["ɵɵnextContext"]().$implicit;return l["ɵɵnextContext"](4).onLinkClick(t,n)})),l["ɵɵtext"](1),l["ɵɵelementEnd"]()}if(2&e){const e=l["ɵɵnextContext"]().$implicit,t=l["ɵɵnextContext"](2).$implicit,n=l["ɵɵnextContext"](2);l["ɵɵproperty"]("href",n.getLinkUrl(e),l["ɵɵsanitizeUrl"])("target",n.getLinkTarget(e)),l["ɵɵadvance"](1),l["ɵɵtextInterpolate"](n.formatTextValue(t))}}function Im(e,t){if(1&e&&(l["ɵɵelementContainerStart"](0),l["ɵɵtemplate"](1,_m,3,3,"ng-container",4),l["ɵɵtemplate"](2,xm,2,3,"ng-template",null,6,l["ɵɵtemplateRefExtractor"]),l["ɵɵelementContainerEnd"]()),2&e){const e=t.$implicit,n=l["ɵɵreference"](3),i=l["ɵɵnextContext"](4);l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",i.getIsRouterLink(e))("ngIfElse",n)}}function Sm(e,t){if(1&e&&(l["ɵɵelementStart"](0,"span"),l["ɵɵtext"](1),l["ɵɵelementEnd"]()),2&e){const e=l["ɵɵnextContext"](2).$implicit,t=l["ɵɵnextContext"](2);l["ɵɵadvance"](1),l["ɵɵtextInterpolate"](t.formatTextValue(e))}}function Mm(e,t){if(1&e&&(l["ɵɵelementContainerStart"](0),l["ɵɵtemplate"](1,Im,4,2,"ng-container",4),l["ɵɵtemplate"](2,Sm,2,1,"ng-template",null,5,l["ɵɵtemplateRefExtractor"]),l["ɵɵelementContainerEnd"]()),2&e){const e=l["ɵɵreference"](3),t=l["ɵɵnextContext"](3);l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",t.getLink(t.record))("ngIfElse",e)}}function Dm(e,t){if(1&e&&l["ɵɵelement"](0,"mat-checkbox",9),2&e){const e=l["ɵɵnextContext"]().$implicit;l["ɵɵproperty"]("checked",!!e)}}function Pm(e,t){if(1&e&&(l["ɵɵtemplate"](0,Mm,4,2,"ng-container",0),l["ɵɵtemplate"](1,Dm,1,1,"mat-checkbox",3)),2&e){const e=l["ɵɵnextContext"](2);l["ɵɵproperty"]("ngIf",e.isDisplayedAsText()),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",e.isDisplayedAsBoolean())}}const Tm=function(e){return{$implicit:e}};function km(e,t){if(1&e&&(l["ɵɵelementContainerStart"](0),l["ɵɵtemplate"](1,Pm,2,2,"ng-template",1,2,l["ɵɵtemplateRefExtractor"]),l["ɵɵelementContainerEnd"]()),2&e){const e=l["ɵɵreference"](2),t=l["ɵɵnextContext"]();l["ɵɵadvance"](1),l["ɵɵproperty"]("ngTemplateOutletContext",l["ɵɵpureFunction1"](2,Tm,t.getValue()))("ngTemplateOutlet",e)}}let Em=(()=>{class e extends wm{constructor(e,t){super(),this.numberUtils=t,this._textValueTypes=[r.DataValueType.Guid].concat(za.DateTime).concat(za.Number).concat(za.Text).concat(za.Lookup),this.getRegisteredEvents=()=>[{name:"click"}],this.userCulture=e.cultureInfo.sysCultureName}getLink(e){return this.columnDataSchema.linkGenerator?this.columnDataSchema.linkGenerator(e):""}getLinkUrl(e){return"string"==typeof e?e:e.url}getLinkTarget(e){const t="_self";return"string"==typeof e?t:e.target||t}getIsRouterLink(e){return!!e&&("string"==typeof e||(e.useRouterLink||!1))}onLinkClick(e,t){t&&"string"!=typeof t&&!0===t.preventDefaultClick&&(e.preventDefault(),this.fireEvent("click"))}isDisplayedAsText(){return!this.columnDataSchema.valueType||-1!==this._textValueTypes.indexOf(this.columnDataSchema.valueType)}isDisplayedAsBoolean(){return this.columnDataSchema.valueType===r.DataValueType.Boolean}formatTextValue(e){if(null==e)return"";switch(this.columnDataSchema.valueType){case r.DataValueType.Date:return e.toLocaleDateString(this.userCulture);case r.DataValueType.Time:return e.toLocaleTimeString(this.userCulture);case r.DataValueType.DateTime:return e.toLocaleString(this.userCulture);case r.DataValueType.Integer:return this.numberUtils.formatNumberValue(e,new Na({precision:0}));case r.DataValueType.Float:case r.DataValueType.Money:return this.numberUtils.formatNumberValue(e);case r.DataValueType.FLOAT1:return this.numberUtils.formatNumberValue(e,new Na({precision:1}));case r.DataValueType.FLOAT2:return this.numberUtils.formatNumberValue(e,new Na({precision:2}));case r.DataValueType.FLOAT3:return this.numberUtils.formatNumberValue(e,new Na({precision:3}));case r.DataValueType.FLOAT4:return this.numberUtils.formatNumberValue(e,new Na({precision:4}));case r.DataValueType.FLOAT8:return this.numberUtils.formatNumberValue(e,new Na({precision:8}));case r.DataValueType.IMAGELOOKUP:case r.DataValueType.Lookup:{const t=e;return t&&t.displayValue}case r.DataValueType.LOCALIZABLE_STRING:{const t=e;return t&&t.getValue(this.userCulture)}default:return e}}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](Yr),l["ɵɵdirectiveInject"](ja))},e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["ts-table-cell"]],features:[l["ɵɵInheritDefinitionFeature"]],decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngTemplateOutletContext","ngTemplateOutlet"],["t",""],["disabled","true",3,"checked",4,"ngIf"],[4,"ngIf","ngIfElse"],["textBlock",""],["hyperlinkBlock",""],[3,"routerLink","target"],[3,"href","target","click"],["disabled","true",3,"checked"]],template:function(e,t){1&e&&l["ɵɵtemplate"](0,km,3,4,"ng-container",0),2&e&&l["ɵɵproperty"]("ngIf",!t.isEmpty())},directives:[o.NgIf,o.NgTemplateOutlet,Wp.yS,ce.oG],encapsulation:2}),e})(),Nm=(()=>{class e extends wm{constructor(){super(...arguments),this.valueChange=new l.EventEmitter}setRecordValue(e){this.record[this.columnDataSchema.name]=e}setValue(e){this.setRecordValue(e),this.valueChange.emit(e)}}return e.ɵfac=function(){let t;return function(n){return(t||(t=l["ɵɵgetInheritedFactory"](e)))(n||e)}}(),e.ɵdir=l["ɵɵdefineDirective"]({type:e,outputs:{valueChange:"valueChange"},features:[l["ɵɵInheritDefinitionFeature"]]}),e})();var Om=n(52997);const jm=["angularTreeGrid"];let Am=(()=>{class e{constructor(){this._config={id_field:"id",parent_id_field:"parent",parent_display_field:"name",data_loading_text:"",row_class_function:null,css:{expand_class:"right-arrow",collapse_class:"down-arrow"},columns:[]},this._notImplementedContracts=["sortable","valueType","linkGenerator","sortingDataAccessor"],this.data=[]}set primaryColumn(e){this._config.id_field=e}set parentColumn(e){this._config.parent_id_field=e}set primaryDisplayColumn(e){this._config.parent_display_field=e}get config(){return this._config}_validateTreeTableColumnContract(e){const t=Object.getOwnPropertyNames(e);this._notImplementedContracts.forEach((e=>{if(-1!==t.indexOf(e))throw new Error(`Contract "${e}" in TreeTableColumnDataSchema not implemented.`)}))}_rowLevelClassGenerator(e){return e.leaf?"leaf-level":"root-level"}_setColumnsConfig(e){const t=e.map((e=>(this._validateTreeTableColumnContract(e),{name:e.name,header:e.caption,css_class:"tree-table-column-"+e.name,renderer:e.formatter})));this._config.columns=t}_setRowCssClassGenerator(e){var t,n;if(!(null===(t=this.dataSchema)||void 0===t?void 0:t.rowCssClass))return void(this._config.row_class_function=this._rowLevelClassGenerator);const i="function"==typeof(null===(n=this.dataSchema)||void 0===n?void 0:n.rowCssClass)?this.dataSchema.rowCssClass:e=>this.dataSchema.rowCssClass;this._config.row_class_function=e=>[this._rowLevelClassGenerator(e),i(e)].join(" ")}get dataSchema(){return this._dataSchema}set dataSchema(e){this._dataSchema=e,e&&this._setColumnsConfig(e.columns),this._setRowCssClassGenerator(e)}collapseAll(){this.angularTreeGrid.collapseAll()}expandAll(){this.angularTreeGrid.expandAll()}}return e.ɵfac=function(t){return new(t||e)},e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["ts-tree-table"]],viewQuery:function(e,t){if(1&e&&l["ɵɵviewQuery"](jm,5),2&e){let e;l["ɵɵqueryRefresh"](e=l["ɵɵloadQuery"]())&&(t.angularTreeGrid=e.first)}},inputs:{primaryColumn:"primaryColumn",parentColumn:"parentColumn",primaryDisplayColumn:"primaryDisplayColumn",data:"data",dataSchema:"dataSchema"},decls:2,vars:2,consts:[[1,"tree-table",3,"data","configs"],["angularTreeGrid",""]],template:function(e,t){1&e&&l["ɵɵelement"](0,"db-angular-tree-grid",0,1),2&e&&l["ɵɵproperty"]("data",t.data)("configs",t.config)},directives:[Om.oX],styles:['ts-tree-table .tree-table table.db-tree-view{border:0;width:100%}ts-tree-table .tree-table .db-tree-view tbody tr td,ts-tree-table .tree-table .db-tree-view thead tr th{border-left-width:0;border-right-width:0;border-top-width:0}ts-tree-table .tree-table .db-tree-view thead tr th{font:400 13px/17px Bpmonline Open Sans,Regular,sans-serif;color:#999;font-size:13px;text-align:left}ts-tree-table .tree-table .db-tree-view tbody tr{line-height:normal}ts-tree-table .tree-table .db-tree-view tbody tr td{font:400 14px/19px Bpmonline Open Sans,Regular,sans-serif;font-size:14px;color:rgba(0,0,0,.87)}ts-tree-table .tree-table .db-tree-view .root-level td:first-child{padding-left:10px}ts-tree-table .tree-table .db-tree-view .leaf-level{background:#fcfcfc 0 0 no-repeat padding-box}ts-tree-table .tree-table .db-tree-view .leaf-level td:first-child{padding-left:25px}ts-tree-table .tree-table .right-arrow:before{border-width:1px 1px 0 0}ts-tree-table .tree-table .down-arrow:before,ts-tree-table .tree-table .right-arrow:before{color:#006ce0;border-style:solid;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle;margin-bottom:6px}ts-tree-table .tree-table .down-arrow:before{border-width:0 1px 1px 0}'],encapsulation:2}),e})();class Rm{constructor(e){Object.assign(this,e)}}class Fm extends Rm{}const Vm=["tableCell"];let Lm=(()=>{class e{constructor(e){this._componentFactoryResolver=e,this.valueChange=new l.EventEmitter}_generateTableCell(e){this.tableCell.clear();const t=this._componentFactoryResolver.resolveComponentFactory(e),n=this.tableCell.createComponent(t),i=n.instance;if(e!==Em&&!(i instanceof wm))throw new TypeError("Value of property `cellComponentClass` must be a component class inherited from `BaseTableCellComponent`");return n}_updateTableCell(){const e=this.columnDataSchema.cellComponentClass||Em;this._cellComponentRef&&this._cellComponentRef.instance instanceof e||(this._cellComponentRef=this._generateTableCell(e));const t=this._cellComponentRef.instance;t.columnDataSchema=this.columnDataSchema,t.record=this.record,t.eventHandlers=this.eventHandlers,t instanceof Nm&&t.valueChange.subscribe((e=>this.valueChange.emit(e))),this._cellComponentRef.changeDetectorRef.detectChanges()}ngOnChanges(e){if(!this.record||!this.columnDataSchema)return;(e.record||e.columnDataSchema||e.eventHandlers&&!(0,Ed.Z)(e.eventHandlers.previousValue,e.eventHandlers.currentValue))&&this._updateTableCell()}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](l.ComponentFactoryResolver))},e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["ts-table-cell-wrapper"]],viewQuery:function(e,t){if(1&e&&l["ɵɵviewQuery"](Vm,7,l.ViewContainerRef),2&e){let e;l["ɵɵqueryRefresh"](e=l["ɵɵloadQuery"]())&&(t.tableCell=e.first)}},inputs:{columnDataSchema:"columnDataSchema",record:"record",eventHandlers:"eventHandlers"},outputs:{valueChange:"valueChange"},features:[l["ɵɵNgOnChangesFeature"]],decls:2,vars:0,consts:[["tableCell",""]],template:function(e,t){1&e&&l["ɵɵelement"](0,"span",null,0)},encapsulation:2}),e})(),zm=(()=>{class e{}return e.ɵfac=function(t){return new(t||e)},e.ɵmod=l["ɵɵdefineNgModule"]({type:e}),e.ɵinj=l["ɵɵdefineInjector"]({imports:[[Om.jA,o.CommonModule,Yp._t,B.ot,St.Ps,ce.p9,Jp.JX,Qp.p0,Wp.Bz,u.aw]]}),e})();("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](zm,{declarations:[Am,ym,Em,Lm],imports:[Om.jA,o.CommonModule,Yp._t,B.ot,St.Ps,ce.p9,Jp.JX,Qp.p0,Wp.Bz,u.aw],exports:[Am,ym,Em]}),l["ɵɵsetComponentScope"](ym,[o.NgIf,Qp.BZ,Jp.YE,Yp.Wj,Qp.w1,Qp.fO,Qp.ge,ce.oG,Qp.Dz,Qp.ev,St.Hw,o.NgClass,o.NgForOf,Jp.nU,Lm,Qp.as,Qp.XQ,Qp.nj,Qp.Gk,Yp.Zt],[]);new l.InjectionToken("Component selector in the shadow root of which overlay container will be injected"),new l.InjectionToken("Selector of an element in the component into which the overlay container will be injected");const Bm=new l.InjectionToken("Represents a set of configuration properties for getting resources");class Gm{constructor(e,t,n){this._getResourcesEventName=e,this._setResourcesEventName=t,this._defaultResources=n}get defaultResources(){return this._defaultResources}get getResourcesEventName(){return r.ValidationUtilities.checkStringIsNotEmpty("getResourcesEventName",this._getResourcesEventName)}get setResourcesEventName(){return r.ValidationUtilities.checkStringIsNotEmpty("setResourcesEventName",this._setResourcesEventName)}}let Hm=(()=>{class e{constructor(e,t){this._customEventService=e,this._destroyed$=new h.Subject,this._defaultResources=this._getSafeResources(t.defaultResources),this._setResourcesEventName=t.setResourcesEventName,this._getResourcesEventName=t.getResourcesEventName}_getSafeResources(e){return(e=e||{}).localizableStrings=e.localizableStrings||{},e}getResources(){const e=new h.ReplaySubject;return this._customEventService.subscribe(this._setResourcesEventName).pipe((0,Tn.q)(1),(0,g.U)((e=>this._getSafeResources(e))),(0,g.U)((e=>(0,Ne.Z)(this._defaultResources,e))),(0,b.R)(this._destroyed$)).subscribe((t=>{e.next(t),e.complete()})),this._customEventService.createOutboundChannel(this._getResourcesEventName).next({}),e}ngOnDestroy(){this._destroyed$.next(),this._destroyed$.complete()}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](Ze),l["ɵɵinject"](Bm))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})();class Um{}let Zm=(()=>{class e extends Um{constructor(e){super(),this._dialogService=e}processUnsuccessfulResponse(e){const{success:t,errorInfo:n}=e||{};!t&&n&&this._dialogService.openInfoDialog(n.message)}handleRequest(e,t={}){let n=e;return t.skipUnsuccessfulResponse||(n=n.pipe((0,En.b)((e=>this.processUnsuccessfulResponse(e))))),n.pipe((0,dr.K)((e=>{var t;let n;return e instanceof Error?n=e.message:("object"==typeof(null===(t=e.error)||void 0===t?void 0:t.errorInfo)&&(n=e.error.errorInfo.message),"string"==typeof e.error&&(n=e.error)),n||(n=JSON.stringify(e.message)),this._dialogService.openInfoDialog(n),(0,h.throwError)(e)})))}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](X))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})();class $m{}let Wm=(()=>{class e{constructor(e){this._window=e,this._defaultBlinkInterval=500,this._defaultBlinkPrefix="*"}_getBlinkConfig(e){const t=this._window.document,n=(null==e?void 0:e.title)||t.title;return{title:n,blinkTitle:(null==e?void 0:e.blinkTitle)||`${this._defaultBlinkPrefix}${n}`,blinkInterval:(null==e?void 0:e.blinkInterval)||this._defaultBlinkInterval,blinkOnce:!0===(e||{}).blinkOnce}}_createSyncSubject(){const e=new h.Subject;return(0,h.fromEvent)(this._window,"mousemove").pipe((0,A.P)(),(0,g.U)((e=>null))).subscribe(e),e}blink(e){return(0,h.of)(null)}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](xa))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"root"}),e})();new l.InjectionToken("GtmModuleName");class qm{}let Ym=(()=>{class e{constructor(){this._value=new qm,this.valueChange=new l.EventEmitter}get startDate(){return this._startDate}set startDate(e){e.isSame(this._startDate)||(this._value.startDate=e.toDate(),this._startDate=e)}get endDate(){return this._endDate}set endDate(e){e.isSame(this._endDate)||(this._value.endDate=e.toDate(),this._endDate=e)}set value(e){const t={startDate:(n=e.startDate,n=n||new Date,new Date(n.getFullYear(),n.getMonth(),n.getDate())),endDate:Ta(e.endDate)};var n;this._value=t,this._startDate=_o()(t.startDate),this._endDate=_o()(t.endDate)}get value(){return this._value}onValueChanged(){this.value.endDate=Ta(this.value.endDate),this.valueChange.emit(this.value)}}return e.ɵfac=function(t){return new(t||e)},e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["ts-date-range"]],inputs:{startDateRequired:"startDateRequired",endDateRequired:"endDateRequired",maxDate:"maxDate",value:"value"},outputs:{valueChange:"valueChange"},decls:15,vars:14,consts:[["floatLabel","never",1,"date-picker"],["matInput","",3,"max","matDatepicker","ngModel","disabled","ngModelChange","dateChange"],["matSuffix","",3,"for"],["svgIcon","start-date","matDatepickerToggleIcon","",1,"date-picker-icon"],["disabled","false"],["startDatePicker",""],[1,"period-separator"],["matInput","",3,"min","max","matDatepicker","ngModel","disabled","ngModelChange","dateChange"],["svgIcon","end-date","matDatepickerToggleIcon","",1,"date-picker-icon"],["endDatePicker",""]],template:function(e,t){if(1&e&&(l["ɵɵelementStart"](0,"mat-form-field",0),l["ɵɵelementStart"](1,"input",1),l["ɵɵlistener"]("ngModelChange",(function(e){return t.startDate=e}))("dateChange",(function(){return t.onValueChanged()})),l["ɵɵelementEnd"](),l["ɵɵelementStart"](2,"mat-datepicker-toggle",2),l["ɵɵelement"](3,"mat-icon",3),l["ɵɵelementEnd"](),l["ɵɵelement"](4,"mat-datepicker",4,5),l["ɵɵelementEnd"](),l["ɵɵelementStart"](6,"span",6),l["ɵɵtext"](7),l["ɵɵpipe"](8,"translate"),l["ɵɵelementEnd"](),l["ɵɵelementStart"](9,"mat-form-field",0),l["ɵɵelementStart"](10,"input",7),l["ɵɵlistener"]("ngModelChange",(function(e){return t.endDate=e}))("dateChange",(function(){return t.onValueChanged()})),l["ɵɵelementEnd"](),l["ɵɵelementStart"](11,"mat-datepicker-toggle",2),l["ɵɵelement"](12,"mat-icon",8),l["ɵɵelementEnd"](),l["ɵɵelement"](13,"mat-datepicker",4,9),l["ɵɵelementEnd"]()),2&e){const e=l["ɵɵreference"](5),n=l["ɵɵreference"](14);l["ɵɵadvance"](1),l["ɵɵproperty"]("max",t.value.endDate)("matDatepicker",e)("ngModel",t.startDate)("disabled",t.startDateRequired),l["ɵɵadvance"](1),l["ɵɵproperty"]("for",e),l["ɵɵadvance"](5),l["ɵɵtextInterpolate"](l["ɵɵpipeBind1"](8,12,"DateRange.To")),l["ɵɵadvance"](3),l["ɵɵproperty"]("min",t.value.startDate)("max",t.maxDate)("matDatepicker",n)("ngModel",t.endDate)("disabled",t.endDateRequired),l["ɵɵadvance"](1),l["ɵɵproperty"]("for",n)}},directives:[x.KE,j.Nt,Zp.hl,c.Fj,c.JJ,c.On,Zp.nW,x.R9,St.Hw,Zp.Q0,Zp.Mq],pipes:[u.X$],styles:["[_nghost-%COMP%]{display:flex}[_nghost-%COMP%]   .period-separator[_ngcontent-%COMP%]{padding-left:16px;padding-right:16px;padding-top:5px}[_nghost-%COMP%]   .date-picker-icon[_ngcontent-%COMP%]{width:20px!important;height:20px;padding-bottom:4px}[_nghost-%COMP%]   mat-form-field[_ngcontent-%COMP%]{margin-bottom:-1em}"]}),e})();function Jm(e,t){if(1&e&&(l["ɵɵelementStart"](0,"span",8),l["ɵɵtext"](1),l["ɵɵelementEnd"]()),2&e){const e=l["ɵɵnextContext"]();l["ɵɵadvance"](1),l["ɵɵtextInterpolate"](e.title)}}const Qm=[[["","header",""]],"*"],Km=["[header]","*"];let Xm=(()=>{class e{constructor(e){this._environment=e}get logoLinkUrl(){return e._logoLinkUrl}get logoImageUrl(){return e._logoImageUrl}static setLogoLinkUrl(t){e._logoLinkUrl=t}static setLogoImageUrl(t){e._logoImageUrl=t}buildLogoImageUrl(){return"img/terrasoft.axd?s=nui-binary-syssetting&r=MenuLogoImage&source_hash="+Date.now().toString().slice(0,-5)}initDefaultLogoImageUrl(){e.setLogoImageUrl("assets/app-logo.svg")}ngOnInit(){this.logoLinkUrl||e.setLogoLinkUrl(o.Location.joinWithSlash(this._environment.workspaceBaseUrl,this._environment.defaultApplicationUrl)),this.logoImageUrl||e.setLogoImageUrl(o.Location.joinWithSlash(this._environment.workspaceBaseUrl,this.buildLogoImageUrl()))}}return e._logoLinkUrl="",e._logoImageUrl="",e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"]("environment"))},e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["ts-header"]],inputs:{title:"title"},ngContentSelectors:Km,decls:10,vars:3,consts:[[1,"top-container"],[1,"left-container"],["class","title",4,"ngIf"],[1,"content-wrapper"],[1,"right-container"],[1,"logo-wrapper",3,"href"],["alt","logo image",1,"logo",3,"src","error"],[1,"content-wrapper","bottom-content-wrapper"],[1,"title"]],template:function(e,t){1&e&&(l["ɵɵprojectionDef"](Qm),l["ɵɵelementStart"](0,"div",0),l["ɵɵelementStart"](1,"div",1),l["ɵɵtemplate"](2,Jm,2,1,"span",2),l["ɵɵelementStart"](3,"div",3),l["ɵɵprojection"](4),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵelementStart"](5,"div",4),l["ɵɵelementStart"](6,"a",5),l["ɵɵelementStart"](7,"img",6),l["ɵɵlistener"]("error",(function(){return t.initDefaultLogoImageUrl()})),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵelementStart"](8,"div",7),l["ɵɵprojection"](9,1),l["ɵɵelementEnd"]()),2&e&&(l["ɵɵadvance"](2),l["ɵɵproperty"]("ngIf",t.title),l["ɵɵadvance"](4),l["ɵɵpropertyInterpolate"]("href",t.logoLinkUrl,l["ɵɵsanitizeUrl"]),l["ɵɵadvance"](1),l["ɵɵpropertyInterpolate"]("src",t.logoImageUrl,l["ɵɵsanitizeUrl"]))},directives:[o.NgIf],styles:["[_nghost-%COMP%]{display:block;padding:12px 22px 12px 21px}.top-container[_ngcontent-%COMP%]{justify-content:space-between}.top-container[_ngcontent-%COMP%], .top-container[_ngcontent-%COMP%]   .left-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.top-container[_ngcontent-%COMP%]   .left-container[_ngcontent-%COMP%]{overflow:hidden}.top-container[_ngcontent-%COMP%]   .left-container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:block;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;font-family:Bpmonline Open Sans Light,serif;font-size:26px;height:26px}.top-container[_ngcontent-%COMP%]   .right-container[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse;align-items:center}.top-container[_ngcontent-%COMP%]   .right-container[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%]{display:block}.top-container[_ngcontent-%COMP%]   .right-container[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;max-height:28px;max-width:134px}.content-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row}.content-wrapper[_ngcontent-%COMP%]:not(:empty).top-left-content-wrapper:not(:first-child){padding-left:15px}.content-wrapper[_ngcontent-%COMP%]:not(:empty).bottom-content-wrapper{margin:14px 0 0}"]}),e})();var eh=(()=>(function(e){e.All="0",e.Section="1",e.Lookup="2"}(eh||(eh={})),eh))();let th=(()=>{class e{constructor(){this.value=eh.All,this.valueChange=new l.EventEmitter}onValueChanged(e){this.value=e.value,this.valueChange.emit(this.value)}}return e.ɵfac=function(t){return new(t||e)},e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["ts-object-type-filter"]],inputs:{value:"value"},outputs:{valueChange:"valueChange"},decls:22,vars:14,consts:[[1,"type-filter"],["disableOptionCentering","true",3,"value","valueChange","selectionChange"],["typeViewFilter",""],[1,"filter-type-caption"],["value","0",1,"type-mat-option"],[1,"filter-type-icon","filter-type-icon-0"],["value","1",1,"type-mat-option"],[1,"filter-type-icon","filter-type-icon-1"],["value","2",1,"type-mat-option"],[1,"filter-type-icon","filter-type-icon-2"]],template:function(e,t){if(1&e&&(l["ɵɵelementStart"](0,"mat-form-field",0),l["ɵɵelementStart"](1,"mat-select",1,2),l["ɵɵlistener"]("valueChange",(function(e){return t.value=e}))("selectionChange",(function(e){return t.onValueChanged(e)})),l["ɵɵelementStart"](3,"mat-select-trigger"),l["ɵɵelement"](4,"span"),l["ɵɵelementStart"](5,"span",3),l["ɵɵtext"](6),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵelementStart"](7,"mat-option",4),l["ɵɵelement"](8,"span",5),l["ɵɵelementStart"](9,"span"),l["ɵɵtext"](10),l["ɵɵpipe"](11,"translate"),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵelementStart"](12,"mat-option",6),l["ɵɵelement"](13,"span",7),l["ɵɵelementStart"](14,"span"),l["ɵɵtext"](15),l["ɵɵpipe"](16,"translate"),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵelementStart"](17,"mat-option",8),l["ɵɵelement"](18,"span",9),l["ɵɵelementStart"](19,"span"),l["ɵɵtext"](20),l["ɵɵpipe"](21,"translate"),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵelementEnd"]()),2&e){const e=l["ɵɵreference"](2);l["ɵɵadvance"](1),l["ɵɵproperty"]("value",t.value),l["ɵɵadvance"](3),l["ɵɵclassMapInterpolate1"]("filter-type-icon filter-type-icon-",t.value,""),l["ɵɵadvance"](2),l["ɵɵtextInterpolate"](e.triggerValue),l["ɵɵadvance"](4),l["ɵɵtextInterpolate"](l["ɵɵpipeBind1"](11,8,"ObjectTypeFilter.AllObjects")),l["ɵɵadvance"](5),l["ɵɵtextInterpolate"](l["ɵɵpipeBind1"](16,10,"ObjectTypeFilter.Sections")),l["ɵɵadvance"](5),l["ɵɵtextInterpolate"](l["ɵɵpipeBind1"](21,12,"ObjectTypeFilter.Lookups"))}},directives:[x.KE,zt.gD,zt.$L,R.ey],pipes:[u.X$],styles:["[_nghost-%COMP%]{line-height:16px;padding:4px 10px 0 0;min-width:100px}.filter-type-icon[_ngcontent-%COMP%]{width:16px;height:16px;background-repeat:no-repeat;margin-right:6px;display:inline-block}.filter-type-icon.filter-type-icon-0[_ngcontent-%COMP%]{background-image:url(filter_objects.svg)}.filter-type-icon.filter-type-icon-1[_ngcontent-%COMP%]{background-image:url(filter_sections.svg)}.filter-type-icon.filter-type-icon-2[_ngcontent-%COMP%]{background-image:url(filter_lookups.svg)}"]}),e})();function nh(e,t){if(1&e&&(l["ɵɵelementStart"](0,"mat-option",14),l["ɵɵtext"](1),l["ɵɵelementEnd"]()),2&e){const e=t.$implicit;l["ɵɵproperty"]("value",e),l["ɵɵadvance"](1),l["ɵɵtextInterpolate1"](" ",e.caption," ")}}let ih=(()=>{class e{constructor(e,t){this.entitySchemaService=e,this.data=t,this.isLoading=!1}_prepareEntityColumns(e){e&&e.success?(this.entitySchemaColumns=e.entitySchema.columns,this.entitySchemaColumns.sort(((e,t)=>e.caption<t.caption?-1:1)),this.data&&this.data.excludeFilter&&(this.entitySchemaColumns=this.entitySchemaColumns.filter(this.data.excludeFilter)),this.isLoading=!1):this.isLoading=!1}ngOnInit(){this.data&&this.data.entitySchemaUId&&(this.isLoading=!0,this.entitySchemaService.getEntitySchemaByUId(this.data.entitySchemaUId).subscribe(this._prepareEntityColumns.bind(this)))}onFilteredEntitySchemaColumnSelected(e){const t=e.option.value;this.selectedColumn=t}getEntitySchemaColumnCaption(e){return e&&e.caption}search(e){e?(e=e.toLowerCase(),this.filteredEntitySchemaColumns=this.entitySchemaColumns.filter((t=>-1!==t.caption.toLowerCase().indexOf(e)))):this.filteredEntitySchemaColumns=this.entitySchemaColumns}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](ta),l["ɵɵdirectiveInject"](G.WI))},e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["ts-select-entity-schema-column-dialog"]],decls:22,vars:17,consts:[["mat-dialog-title",""],["mat-icon-button","",1,"close-dialog",3,"mat-dialog-close"],["svgIcon","close",1,"close-button-icon"],["mat-dialog-actions",""],["mat-flat-button","","color","accent",3,"mat-dialog-close","disabled"],["mat-button","","cdkFocusInitial","",3,"mat-dialog-close"],["mat-dialog-content",""],["floatLabel","never",1,"entity-schema-column"],["type","text","matInput","",3,"placeholder","matAutocomplete","input","focus"],["matSuffix","",1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],[3,"displayWith","optionSelected"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,t){if(1&e&&(l["ɵɵelementStart"](0,"div",0),l["ɵɵelementStart"](1,"span"),l["ɵɵtext"](2),l["ɵɵpipe"](3,"translate"),l["ɵɵelementEnd"](),l["ɵɵelementStart"](4,"button",1),l["ɵɵelement"](5,"mat-icon",2),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵelementStart"](6,"div",3),l["ɵɵelementStart"](7,"button",4),l["ɵɵtext"](8),l["ɵɵpipe"](9,"translate"),l["ɵɵelementEnd"](),l["ɵɵelementStart"](10,"button",5),l["ɵɵtext"](11),l["ɵɵpipe"](12,"translate"),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵelementStart"](13,"div",6),l["ɵɵelementStart"](14,"mat-form-field",7),l["ɵɵelementStart"](15,"input",8),l["ɵɵlistener"]("input",(function(e){return t.search(e.target.value)}))("focus",(function(){return t.search("")})),l["ɵɵpipe"](16,"translate"),l["ɵɵelementEnd"](),l["ɵɵelementStart"](17,"div",9),l["ɵɵelement"](18,"div",10),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵelementStart"](19,"mat-autocomplete",11,12),l["ɵɵlistener"]("optionSelected",(function(e){return t.onFilteredEntitySchemaColumnSelected(e)})),l["ɵɵtemplate"](21,nh,2,2,"mat-option",13),l["ɵɵelementEnd"](),l["ɵɵelementEnd"]()),2&e){const e=l["ɵɵreference"](20);l["ɵɵadvance"](2),l["ɵɵtextInterpolate"](l["ɵɵpipeBind1"](3,9,"SelectEntitySchemaColumnDialog.Title")),l["ɵɵadvance"](5),l["ɵɵproperty"]("mat-dialog-close",t.selectedColumn)("disabled",!t.selectedColumn),l["ɵɵadvance"](1),l["ɵɵtextInterpolate"](l["ɵɵpipeBind1"](9,11,"SelectEntitySchemaColumnDialog.Select")),l["ɵɵadvance"](3),l["ɵɵtextInterpolate"](l["ɵɵpipeBind1"](12,13,"SelectEntitySchemaColumnDialog.Cancel")),l["ɵɵadvance"](4),l["ɵɵproperty"]("placeholder",l["ɵɵpipeBind1"](16,15,"SelectEntitySchemaColumnDialog.SelectFieldPlaceholder"))("matAutocomplete",e),l["ɵɵadvance"](4),l["ɵɵproperty"]("displayWith",t.getEntitySchemaColumnCaption),l["ɵɵadvance"](2),l["ɵɵproperty"]("ngForOf",t.filteredEntitySchemaColumns)}},directives:[G.uh,B.lW,G.ZT,St.Hw,G.H8,G.xY,x.KE,j.Nt,O.ZL,x.R9,O.XC,o.NgForOf,R.ey],pipes:[u.X$],styles:["[_nghost-%COMP%]{padding:4px 10px 0;min-width:420px;min-height:136px}[mat-dialog-actions][_ngcontent-%COMP%]{margin-bottom:23px!important}[mat-dialog-content][_ngcontent-%COMP%]   .field-title[_ngcontent-%COMP%]{font-family:Bpmonline Open Sans,serif;color:#444;font-size:14px;line-height:18px;text-align:left}[mat-dialog-content][_ngcontent-%COMP%]   .entity-schema-column[_ngcontent-%COMP%]{width:100%;line-height:19px;font-size:14px}[mat-dialog-content][_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%;line-height:18px!important}"]}),e})(),rh=(()=>{class e extends _{constructor(e,t,n,i,r,a){super(e,t,n),this._element=i,this._cdRef=r,this._formatUtility=a,this._formattedValue="",this._selected=!1,this._maxValue=999999999.99,this._maxLargeValue=999999999999,this.controlType="ts-number-input",this.isLargeNumberEnabled=!1,this.inputBlur=new l.EventEmitter,this.precision=2}set maxValue(e){this._maxValue=e}set selected(e){this._selected=e}get formattedValue(){return this._formattedValue}_updateFormattedValue(){this._formattedValue=this._formatUtility.formatNumberValue(this.innerValue,new Na({precision:this.precision}))}_exceededMaxValue(e){var t=Math.abs(e),n=t%1;return this.isLargeNumberEnabled&&0===n?t>this._maxLargeValue:t>this._maxValue}ngAfterViewInit(){this._selected&&(this._element.nativeElement.lastElementChild.focus(),this._cdRef.detectChanges())}ngOnInit(){this._updateFormattedValue()}onInputValueChange(){this.callChangeHandler()}onInputFocus(){this.innerValue&&(this._formattedValue=this._formatUtility.formatNumberValue(this.innerValue,new Na({ignoreThousandSeparator:!0,precision:this.precision})))}writeValue(e){this.setInnerValueSilent(e),this._updateFormattedValue(),this.stateChanges.next(),this._cdRef.detectChanges()}onBlur(e){this._updateFormattedValue(),e&&(e.currentTarget.value=this._formattedValue),this.inputBlur.emit()}onInput(e){let t=e.currentTarget.value;if(""===t)return this.setInnerValueSilent(0),void(this._formattedValue="");if(t=this._formatUtility.formatStringValue(t),0===this.precision){const e=this._formatUtility.getNumberFormatInfo().decimalSeparator;t=t.replace(new RegExp(`\\${e}$`),"")}e.currentTarget.value=t;let n=this._formatUtility.parseStringToNumber(t,this.precision);"-"===t&&(n=0),(isNaN(n)||this._exceededMaxValue(n))&&(n=this.innerValue,e.currentTarget.value=this._formatUtility.formatNumberValue(n,new Na({ignoreThousandSeparator:!0,precision:this.precision}))),this.setInnerValueSilent(n)}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](c.a5,10),l["ɵɵdirectiveInject"](C.Lq),l["ɵɵdirectiveInject"](y.tE),l["ɵɵdirectiveInject"](l.ElementRef),l["ɵɵdirectiveInject"](l.ChangeDetectorRef),l["ɵɵdirectiveInject"](ja))},e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["ts-number-input"]],inputs:{isLargeNumberEnabled:"isLargeNumberEnabled",maxValue:"maxValue",selected:"selected",precision:"precision"},outputs:{inputBlur:"inputBlur"},features:[l["ɵɵProvidersFeature"]([{provide:x.Eo,useExisting:e}]),l["ɵɵInheritDefinitionFeature"]],decls:2,vars:3,consts:[["matInput","","dir","ltr",3,"value","disabled","required","change","blur","input","focus"],["input",""]],template:function(e,t){1&e&&(l["ɵɵelementStart"](0,"input",0,1),l["ɵɵlistener"]("change",(function(){return t.onInputValueChange()}))("blur",(function(e){return t.onBlur(e)}))("input",(function(e){return t.onInput(e)}))("focus",(function(){return t.onInputFocus()})),l["ɵɵelementEnd"]()),2&e&&l["ɵɵproperty"]("value",t.formattedValue)("disabled",t.disabled)("required",t.required)},directives:[j.Nt,en.Lv],styles:["input[_ngcontent-%COMP%]{text-align:left;border:0;height:100%;width:100%}input[_ngcontent-%COMP%]:focus{outline-style:none}"],changeDetection:0}),e})(),ah=(()=>{class e{}return e.ɵfac=function(t){return new(t||e)},e.ɵmod=l["ɵɵdefineNgModule"]({type:e}),e.ɵinj=l["ɵɵdefineInjector"]({providers:[ja],imports:[[o.CommonModule,c.u5,x.lN,j.c]]}),e})();("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](ah,{declarations:[rh],imports:[o.CommonModule,c.u5,x.lN,j.c],exports:[rh]});class oh{constructor(e){this._overlayRef=e,this.afterClosed$=new h.Subject}_close(e){this._overlayRef.dispose(),this.afterClosed$.next(e),this.afterClosed$.complete()}close(e){this._close(e)}}function sh(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵelementStart"](0,"mat-checkbox",8),l["ɵɵlistener"]("change",(function(t){const n=l["ɵɵrestoreView"](e).$implicit;return l["ɵɵnextContext"](2).onColumnSelectedChange(n.name,t)})),l["ɵɵtext"](1),l["ɵɵelementEnd"]()}if(2&e){const e=t.$implicit,n=l["ɵɵnextContext"](2);l["ɵɵproperty"]("checked",n.isColumnSelected(e.name)),l["ɵɵadvance"](1),l["ɵɵtextInterpolate"](n.getColumnCheckboxCaption(e))}}function lh(e,t){if(1&e&&(l["ɵɵelementStart"](0,"div"),l["ɵɵtemplate"](1,sh,2,2,"mat-checkbox",7),l["ɵɵelement"](2,"mat-divider"),l["ɵɵelementEnd"]()),2&e){const e=l["ɵɵnextContext"]();l["ɵɵadvance"](1),l["ɵɵproperty"]("ngForOf",e.columnConfigs)}}function ch(e,t){if(1&e&&(l["ɵɵelementStart"](0,"mat-radio-button",9),l["ɵɵtext"](1),l["ɵɵelementEnd"]()),2&e){const e=t.$implicit;l["ɵɵproperty"]("value",e.value),l["ɵɵadvance"](1),l["ɵɵtextInterpolate1"](" ",e.caption," ")}}const dh=new l.InjectionToken("SEARCH_INPUT_SETTINGS_DATA");let uh=(()=>{class e{constructor(e,t,n){var i,r,a,o;this._settingsOverlayRef=e,this._translateService=t,this.searchStrategyOptions=[{value:Da.StartsWith,caption:this._translateService.instant("SearchInput.Settings.StartsWith")},{value:Da.Contains,caption:this._translateService.instant("SearchInput.Settings.Contains")},{value:Da.Equals,caption:this._translateService.instant("SearchInput.Settings.Equals")}];const s=(null==n?void 0:n.settings)||{};this.settings={searchStrategy:null!==(i=s.searchStrategy)&&void 0!==i?i:Da.Contains,columns:null!==(a=null===(r=s.columns)||void 0===r?void 0:r.slice())&&void 0!==a?a:[]},this.columnConfigs=null!==(o=null==n?void 0:n.columnConfigs)&&void 0!==o?o:[]}_setColumnSelected(e,t){const n=this.settings.columns;if(t)n.includes(e)||n.push(e);else{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}close(){this._settingsOverlayRef.close(null)}apply(){this._settingsOverlayRef.close(this.settings)}isColumnSelected(e){return this.settings.columns.includes(e)}onColumnSelectedChange(e,t){this._setColumnSelected(e,t.checked)}getColumnCheckboxCaption(e){const t=e.caption,n=this._translateService.instant("SearchInput.Settings.SearchColumnTemplate");return ur.String.Format(n,t)}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](oh),l["ɵɵdirectiveInject"](u.sK),l["ɵɵdirectiveInject"](dh))},e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["ts-search-input-settings"]],decls:11,vars:9,consts:[[1,"search-input-settings-container"],[4,"ngIf"],[3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"bottom-actions"],["mat-button","",1,"",3,"click"],["mat-flat-button","","color","primary",1,"action-button",3,"click"],[3,"checked","change",4,"ngFor","ngForOf"],[3,"checked","change"],[3,"value"]],template:function(e,t){1&e&&(l["ɵɵelementStart"](0,"div",0),l["ɵɵtemplate"](1,lh,3,1,"div",1),l["ɵɵelementStart"](2,"mat-radio-group",2),l["ɵɵlistener"]("ngModelChange",(function(e){return t.settings.searchStrategy=e})),l["ɵɵtemplate"](3,ch,2,2,"mat-radio-button",3),l["ɵɵelementEnd"](),l["ɵɵelementStart"](4,"div",4),l["ɵɵelementStart"](5,"button",5),l["ɵɵlistener"]("click",(function(){return t.close()})),l["ɵɵtext"](6),l["ɵɵpipe"](7,"translate"),l["ɵɵelementEnd"](),l["ɵɵelementStart"](8,"button",6),l["ɵɵlistener"]("click",(function(){return t.apply()})),l["ɵɵtext"](9),l["ɵɵpipe"](10,"translate"),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵelementEnd"]()),2&e&&(l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",t.columnConfigs.length>0),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngModel",t.settings.searchStrategy),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngForOf",t.searchStrategyOptions),l["ɵɵadvance"](3),l["ɵɵtextInterpolate"](l["ɵɵpipeBind1"](7,5,"SearchInput.Settings.Cancel")),l["ɵɵadvance"](3),l["ɵɵtextInterpolate"](l["ɵɵpipeBind1"](10,7,"SearchInput.Settings.Apply")))},directives:[o.NgIf,pe.VQ,c.JJ,c.On,o.NgForOf,B.lW,Lt.d,ce.oG,pe.U0],pipes:[u.X$],styles:[".search-input-settings-container{background:#fff 0 0 no-repeat padding-box;box-shadow:0 0 3px #0000001a;border:1px solid #e2e2e2;opacity:1;padding:11px;min-width:220px}.search-input-settings-container mat-checkbox{display:block}.search-input-settings-container mat-checkbox,.search-input-settings-container mat-radio-button{margin-left:4px;margin-right:4px}.search-input-settings-container mat-checkbox:not(:first-child),.search-input-settings-container mat-radio-button:not(:first-child){margin-top:8px}.search-input-settings-container mat-divider{margin:14px 0}.search-input-settings-container .bottom-actions{display:flex;justify-content:flex-end;margin:8px 0 4px}.search-input-settings-container .bottom-actions button:not(:first-child){margin-left:12px}"],encapsulation:2}),e})();var ph=n(92928);const mh={hasBackdrop:!0,backdropClass:"search-settings-backdrop",alignToElementRef:null,data:null};let hh=(()=>{class e{constructor(e,t){this._injector=e,this._overlay=t}_getOverlayConfig(e){const t=this._overlay.position().flexibleConnectedTo(e.alignToElementRef).withPositions([{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top",offsetY:6}]);return new dn.X_({hasBackdrop:e.hasBackdrop,backdropClass:e.backdropClass,panelClass:e.panelClass,scrollStrategy:this._overlay.scrollStrategies.block(),positionStrategy:t})}_createOverlay(e){const t=this._getOverlayConfig(e);return this._overlay.create(t)}_createInjector(e,t){return l.Injector.create({providers:[{provide:oh,useValue:t},{provide:dh,useValue:e.data}]})}_attachContainerPortal(e,t,n){const i=this._createInjector(t,n),r=new ln.C5(uh,null,i);return e.attach(r).instance}openSettingsMenu(e){const t=Object.assign(Object.assign({},mh),e),n=this._createOverlay(t),i=new oh(n),r=this._attachContainerPortal(n,t,i);return n.backdropClick().subscribe((e=>{r.close()})),i.afterClosed$}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](l.Injector),l["ɵɵinject"](dn.aV))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})();const gh=["searchSettingsButton"];function fh(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵelementStart"](0,"button",6),l["ɵɵlistener"]("click",(function(){l["ɵɵrestoreView"](e);return l["ɵɵnextContext"]().openSettingsMenu()})),l["ɵɵelement"](1,"div",7,8),l["ɵɵelementEnd"]()}}let vh=(()=>{class e{constructor(e,t){this._translateService=e,this._searchInputSettingsService=t,this._value="",this._valueChangeDebounceTime=500,this._emitValueChangeWithDebounce=(0,ph.Z)((e=>this._emitValueChange(e)),this._valueChangeDebounceTime),this.showSettings=!1,this.settings={searchStrategy:Da.Contains,columns:[]},this.settingsChange=new l.EventEmitter,this.valueChange=new l.EventEmitter,this.columnConfigs=[]}set value(e){this._value=e,this._emittedValue=e}get value(){return this._value}_emitValueChange(e){this._emittedValue!==e&&(this._emittedValue=e,this.valueChange.emit(e))}_changeSettings(e){e&&!(0,Ed.Z)(e,this.settings)&&(this.settings=e,this.settingsChange.emit(e))}ngOnInit(){this.placeholder||(this.placeholder=this._translateService.instant("SearchInput.Placeholder"))}onValueChanged(e){e!==this._value&&(this._value=e,this._emitValueChangeWithDebounce(e))}onClear(){this._value="",this._emitValueChangeWithDebounce.cancel(),this._emitValueChange("")}openSettingsMenu(){this._searchInputSettingsService.openSettingsMenu({alignToElementRef:this.settingsButton,data:{settings:this.settings,columnConfigs:this.columnConfigs}}).subscribe((e=>this._changeSettings(e)))}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](u.sK),l["ɵɵdirectiveInject"](hh))},e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["ts-search-input"]],viewQuery:function(e,t){if(1&e&&l["ɵɵviewQuery"](gh,5),2&e){let e;l["ɵɵqueryRefresh"](e=l["ɵɵloadQuery"]())&&(t.settingsButton=e.first)}},inputs:{showSettings:"showSettings",value:"value",placeholder:"placeholder",settings:"settings",columnConfigs:"columnConfigs"},outputs:{settingsChange:"settingsChange",valueChange:"valueChange"},decls:6,vars:5,consts:[["svgIcon","search",1,"search-icon"],["floatLabel","never"],["matInput","","type","text","spellcheck","false","autocomplete","off",1,"search-input-field",3,"placeholder","value","keyup"],["matSuffix","","mat-icon-button","","aria-label","Clear",1,"close",3,"click"],["svgIcon","close"],["mat-icon-button","","matSuffix","","class","search-settings-button",3,"click",4,"ngIf"],["mat-icon-button","","matSuffix","",1,"search-settings-button",3,"click"],[1,"search-settings-button-icon"],["searchSettingsButton",""]],template:function(e,t){1&e&&(l["ɵɵelement"](0,"mat-icon",0),l["ɵɵelementStart"](1,"mat-form-field",1),l["ɵɵelementStart"](2,"input",2),l["ɵɵlistener"]("keyup",(function(e){return t.onValueChanged(e.target.value)})),l["ɵɵelementEnd"](),l["ɵɵelementStart"](3,"button",3),l["ɵɵlistener"]("click",(function(){return t.onClear()})),l["ɵɵelement"](4,"mat-icon",4),l["ɵɵelementEnd"](),l["ɵɵtemplate"](5,fh,3,0,"button",5),l["ɵɵelementEnd"]()),2&e&&(l["ɵɵadvance"](2),l["ɵɵproperty"]("placeholder",t.placeholder)("value",t.value),l["ɵɵadvance"](1),l["ɵɵstyleProp"]("visibility",t.value?"inherit":"hidden"),l["ɵɵadvance"](2),l["ɵɵproperty"]("ngIf",t.showSettings))},directives:[St.Hw,x.KE,j.Nt,B.lW,x.R9,o.NgIf],styles:["ts-search-input{display:flex}ts-search-input mat-icon[svgicon=search]{width:16px;height:16px;margin-inline-end:6px!important;padding-top:8px!important}ts-search-input mat-form-field{flex-grow:1}ts-search-input mat-form-field .mat-form-field-wrapper{margin-bottom:-1em}ts-search-input mat-form-field .mat-form-field-wrapper .search-settings-button,ts-search-input mat-form-field .mat-form-field-wrapper button.close{height:22px!important;width:22px!important;vertical-align:middle!important}ts-search-input mat-form-field .mat-form-field-wrapper button.close mat-icon{display:block;margin:auto}ts-search-input mat-form-field .mat-form-field-wrapper button.close:focus{border:1px solid #c8c8c8}ts-search-input mat-form-field .mat-form-field-wrapper .search-settings-button .search-settings-button-icon{background:url(settings.svg) no-repeat;width:16px;height:16px;margin:auto;display:block}ts-search-input mat-form-field.mat-focused .mat-form-field-label{opacity:0!important}"],encapsulation:2}),e})(),bh=(()=>{class e{}return e.ɵfac=function(t){return new(t||e)},e.ɵmod=l["ɵɵdefineNgModule"]({type:e}),e.ɵinj=l["ɵɵdefineInjector"]({providers:[hh],imports:[[o.CommonModule,pe.Fk,c.u5,B.ot,ce.p9,G.Is,Lt.t,x.lN,St.Ps,j.c,u.aw]]}),e})();("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](bh,{declarations:[vh,uh],imports:[o.CommonModule,pe.Fk,c.u5,B.ot,ce.p9,G.Is,Lt.t,x.lN,St.Ps,j.c,u.aw],exports:[vh]});var Ch=n(30737),yh=(()=>(function(e){e[e.Number=0]="Number",e[e.ColumnOperand=1]="ColumnOperand",e[e.Operator=2]="Operator",e[e.Cursor=3]="Cursor",e[e.Function=4]="Function"}(yh||(yh={})),yh))();let wh=(()=>{class e{constructor(){this.formulaClick=new l.EventEmitter}set caption(e){this._caption=e}get caption(){return this._caption||this.value}set index(e){this._index=e}get index(){return this._index}set value(e){this._value=e}get value(){return this._value}}return e.ɵfac=function(t){return new(t||e)},e.ɵdir=l["ɵɵdefineDirective"]({type:e,inputs:{caption:"caption",index:"index",value:"value"},outputs:{formulaClick:"formulaClick"}}),e})(),_h=(()=>{class e extends wh{constructor(){super()}validateInput(e){return null}getFormulaItemType(){return yh.Cursor}}return e.ɵfac=function(t){return new(t||e)},e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["ts-formula-cursor-item"]],features:[l["ɵɵInheritDefinitionFeature"]],decls:1,vars:0,consts:[[1,"formula-cursor"]],template:function(e,t){1&e&&l["ɵɵelement"](0,"div",0)},styles:[".formula-cursor,.formula-cursor-hidden{width:2px;height:21px;border-radius:2px;margin-left:-1px;margin-right:-1px;background-color:#84a3e3}.formula-input:focus .formula-cursor,.formula-input:focus .formula-cursor-hidden{animation:blink 1s step-end infinite}.formula-cursor-hidden{background-color:transparent}@keyframes blink{0%{background-color:#84a3e3}50%{background-color:transparent}}"],encapsulation:2}),e})(),xh=(()=>{class e extends wh{constructor(){super()}getFormulaItemType(){return yh.Function}validateInput(e){return!1}handleItemClick(e){this.formulaClick.emit(e)}}return e.ɵfac=function(t){return new(t||e)},e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["ts-formula-function-item"]],features:[l["ɵɵInheritDefinitionFeature"]],decls:2,vars:1,consts:[[1,"formula-function-item",3,"click"]],template:function(e,t){1&e&&(l["ɵɵelementStart"](0,"span",0),l["ɵɵlistener"]("click",(function(e){return t.handleItemClick(e)})),l["ɵɵtext"](1),l["ɵɵelementEnd"]()),2&e&&(l["ɵɵadvance"](1),l["ɵɵtextInterpolate"](t.caption))},styles:[".formula-function-item[_ngcontent-%COMP%]{padding:0 4px;color:#444;font-size:14px;font-family:Bpmonline Open Sans;font-weight:400}"]}),e})(),Ih=(()=>{class e extends wh{constructor(){super()}getFormulaItemType(){return yh.Number}validateInput(e){return 1===e.length&&null!=e.match("[0-9.,]")}handleItemClick(e){this.formulaClick.emit(e)}}return e.ɵfac=function(t){return new(t||e)},e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["ts-formula-numeric-input-item"]],features:[l["ɵɵInheritDefinitionFeature"]],decls:2,vars:1,consts:[[1,"formula-number-input-item",3,"click"]],template:function(e,t){1&e&&(l["ɵɵelementStart"](0,"span",0),l["ɵɵlistener"]("click",(function(e){return t.handleItemClick(e)})),l["ɵɵtext"](1),l["ɵɵelementEnd"]()),2&e&&(l["ɵɵadvance"](1),l["ɵɵtextInterpolate"](t.caption))},styles:[".formula-number-input-item[_ngcontent-%COMP%]{color:#444;font-size:14px;font-family:Bpmonline Open Sans;font-weight:400}"]}),e})(),Sh=(()=>{class e extends wh{constructor(){super()}getFormulaItemType(){return yh.ColumnOperand}validateInput(e){return!1}handleItemClick(e){this.formulaClick.emit(e)}}return e.ɵfac=function(t){return new(t||e)},e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["ts-formula-operand-item"]],features:[l["ɵɵInheritDefinitionFeature"]],decls:3,vars:2,consts:[["matTooltipPosition","below","matTooltipShowDelay","800",1,"formula-operand-item-wrap",3,"matTooltip","click"],[1,"formula-operand-item"]],template:function(e,t){1&e&&(l["ɵɵelementStart"](0,"div",0),l["ɵɵlistener"]("click",(function(e){return t.handleItemClick(e)})),l["ɵɵelementStart"](1,"span",1),l["ɵɵtext"](2),l["ɵɵelementEnd"](),l["ɵɵelementEnd"]()),2&e&&(l["ɵɵproperty"]("matTooltip",t.caption),l["ɵɵadvance"](2),l["ɵɵtextInterpolate"](t.caption))},directives:[Dt.gM],styles:[".formula-operand-item-wrap{border-radius:20px;padding:0 16px;border:1px solid #b1b1b1;display:inline-block;margin:-1px 2px 4px}.formula-operand-item-wrap .formula-operand-item{font-size:14px;font-family:Bpmonline Open Sans;font-weight:400;color:#444;text-overflow:ellipsis;overflow:hidden;max-width:160px;white-space:nowrap;display:inline-block;margin-top:2px}.cdk-overlay-container .mat-tooltip{margin-top:4px;padding:10px;font-size:14px;line-height:19px;color:#444;background:#fff;word-break:break-word;box-shadow:0 0 .2em rgba(0,0,0,.3);border-radius:0;border-top:2px solid #22ac14;white-space:pre-line;text-overflow:clip}"],encapsulation:2}),e})(),Mh=(()=>{class e extends wh{constructor(){super(),this._allowedOperatorsList=["+","-","/","*","(",")"]}_createFormulaOperatorFilterRegExp(e){let t="";return e.forEach((e=>t+=e)),`[${t}]`}getFormulaItemType(){return yh.Operator}validateInput(e){const t=this._createFormulaOperatorFilterRegExp(this._allowedOperatorsList);return null!=e.match(t)}handleItemClick(e){this.formulaClick.emit(e)}}return e.ɵfac=function(t){return new(t||e)},e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["ts-formula-operator-item"]],features:[l["ɵɵInheritDefinitionFeature"]],decls:2,vars:1,consts:[[1,"formula-operator-item",3,"click"]],template:function(e,t){1&e&&(l["ɵɵelementStart"](0,"span",0),l["ɵɵlistener"]("click",(function(e){return t.handleItemClick(e)})),l["ɵɵtext"](1),l["ɵɵelementEnd"]()),2&e&&(l["ɵɵadvance"](1),l["ɵɵtextInterpolate"](t.caption))},styles:[".formula-operator-item[_ngcontent-%COMP%]{padding:0 4px;color:#444;font-size:14px;font-family:Bpmonline Open Sans;font-weight:400}"]}),e})(),Dh=(()=>{class e{constructor(e){this._componentFactoryResolver=e,this._formulaItems=[Sh,_h,Mh,Ih,xh]}get FormulaItemInstance(){return this._instances||(this._instances=[],this._formulaItems.forEach((e=>{const t=this._createFormulaItem(e);this._instances.push(t)}))),this._instances}_createFormulaItem(e){return new e}getFormulaItemType(e){let t=null;return this.FormulaItemInstance.forEach((n=>{n.validateInput(e)&&(t=n.getFormulaItemType())})),t}createComponent(e,t){const n=this.FormulaItemInstance.find((t=>t.getFormulaItemType()===e)),i=this._componentFactoryResolver.resolveComponentFactory(n.constructor);return t.createComponent(i).instance}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](l.ComponentFactoryResolver))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"root"}),e})();class Ph{constructor(e){Object.assign(this,e)}}function Th(e,t){}function kh(e,t){1&e&&l["ɵɵelement"](0,"div")}let Eh=(()=>{class e{constructor(e){this._formulaItemFactory=e,this._formulaData=[],this.focusFormulaInputOnFormulaDataChange=!1,this.itemsChanged=new l.EventEmitter}set formulaData(e){e&&!Ed.Z(e,this._formulaData)&&(this._viewClear(),this._formulaData=e,this._generateComponents(),this.focusFormulaInputOnFormulaDataChange&&setTimeout((()=>{this._focusFormulaInput()}),0))}get formulaData(){return this._formulaData}_viewClear(){const e=this.container&&this.container.viewContainerRef;e&&e.clear()}_insertFormulaItem(e,t){this.formulaData.splice(e,0,t),this._generateComponents(),this.itemsChanged.emit(this.formulaData)}_removeFormulaItem(e){this.formulaData.splice(e,1),this._generateComponents(),this.itemsChanged.emit(this.formulaData)}_addCursor(e=-1){e=-1===e?this._formulaData.length:e,this._insertFormulaItem(e,new Ph({type:yh.Cursor}))}_removeCursor(){let e=this._getCursorPosition();-1===e&&(e=this._formulaData.length),this._removeFormulaItem(e)}_removeCharBeforeCursor(){const e=this._getCursorPosition()-1;e>=0&&this._removeFormulaItem(e)}_removeCharAfterCursor(){const e=this._getCursorPosition()+1;e<this._formulaData.length&&this._removeFormulaItem(e)}_getCursorPosition(){return this._formulaData.findIndex((e=>e.type===yh.Cursor))}_moveCursorForward(){const e=this._getCursorPosition();e<this._formulaData.length&&this._moveCursorOnPosition(e+1)}_moveCursorBackward(){const e=this._getCursorPosition()-1;e>=0&&this._moveCursorOnPosition(e)}_moveCursorOnPosition(e){e>this._formulaData.length||(this._removeCursor(),this._addCursor(e))}_focusFormulaInput(){this.container&&this.container.viewContainerRef.element.nativeElement.parentElement.focus()}_getPositionOutsideItems(e){let t=0;const n=e.currentTarget.children[0].clientWidth;return e.offsetX>=n&&(t=this._formulaData.length),t}_addCursorIfNotExists(){let e=this._getCursorPosition();-1===e&&(e=this.formulaData.length,this._addCursor(e))}_addItemsFromTemplate(e){let t=this._getCursorPosition();this.formulaData.splice(t,0,...e.items),Ch.Z(e.cursorPosition)&&(t+=e.cursorPosition,this._moveCursorOnPosition(t))}_generateComponents(){this._viewClear(),this._formulaData.forEach(((e,t)=>{this._generateComponent(t,e)}))}_generateComponent(e,t){0===e&&this._viewClear();const n=this._formulaItemFactory.createComponent(t.type,this.container.viewContainerRef);n.caption=t.caption,n.value=t.value,n.formulaClick.subscribe((t=>{this.handleItemClick(t,e)}))}ngOnDestroy(){this._viewClear()}handleClick(e){const t=this._getPositionOutsideItems(e);-1===this._getCursorPosition()?this._addCursor(t):this._moveCursorOnPosition(t),e.stopPropagation()}handleItemClick(e,t){const n=e.currentTarget.getBoundingClientRect(),i=e.clientX,r=n.left+n.width/2,a=this._getCursorPosition();let o=t;i<r?-1!==a&&a<t&&(o-=1):(-1===a||a>t)&&(o+=1),this._moveCursorOnPosition(o),e.stopPropagation()}handleKeyDown(e){const t=e.key;switch(t){case"Backspace":this._removeCharBeforeCursor();break;case"Delete":this._removeCharAfterCursor();break;case"ArrowLeft":this._moveCursorBackward();break;case"ArrowRight":this._moveCursorForward();break;default:const e=this._getCursorPosition(),n=this._formulaItemFactory.getFormulaItemType(t);Object.values(yh).includes(n)&&this._insertFormulaItem(e,new Ph({type:n,caption:t,value:t}))}}addItem(e){this._addCursorIfNotExists(),bi.Z(e.template)||bi.Z(e.template.items)?this._insertFormulaItem(this._getCursorPosition(),e):this._addItemsFromTemplate(e.template),this._focusFormulaInput()}deletePreviousItem(){this._removeCharBeforeCursor()}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](Dh))},e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["ts-formula-editor"]],viewQuery:function(e,t){if(1&e&&l["ɵɵviewQuery"](te,7),2&e){let e;l["ɵɵqueryRefresh"](e=l["ɵɵloadQuery"]())&&(t.container=e.first)}},inputs:{formulaData:"formulaData",focusFormulaInputOnFormulaDataChange:"focusFormulaInputOnFormulaDataChange"},outputs:{itemsChanged:"itemsChanged"},decls:6,vars:1,consts:[["tabindex","0","dir","ltr",1,"formula-input",3,"click","keydown"],[1,"pre-formula-item"],["tsViewContainerRef",""],[4,"ngFor","ngForOf"],[1,"post-formula-item",3,"click"]],template:function(e,t){1&e&&(l["ɵɵelementStart"](0,"div",0),l["ɵɵlistener"]("click",(function(e){return t.handleClick(e)}))("keydown",(function(e){return t.handleKeyDown(e)})),l["ɵɵelementStart"](1,"div",1),l["ɵɵtext"](2,"="),l["ɵɵelementEnd"](),l["ɵɵtemplate"](3,Th,0,0,"ng-template",2),l["ɵɵtemplate"](4,kh,1,0,"div",3),l["ɵɵelementStart"](5,"div",4),l["ɵɵlistener"]("click",(function(e){return t.deletePreviousItem(),e.stopPropagation()})),l["ɵɵelementEnd"](),l["ɵɵelementEnd"]()),2&e&&(l["ɵɵadvance"](4),l["ɵɵproperty"]("ngForOf",t.formulaData))},directives:[en.Lv,te,o.NgForOf],styles:[".formula-input{-webkit-user-select:none;user-select:none;display:inline-flex;outline:none;flex-wrap:wrap;padding:0 .3em .2em;min-height:30px;border-bottom:1px solid #e7e7e7;width:100%;cursor:text}.pre-formula-item{font-size:14pt;width:20px;line-height:19px}.post-formula-item{margin-left:auto;-webkit-user-select:none;user-select:none;cursor:pointer;background-image:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIyLjEuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCAxOCAxNiIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMTggMTY7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPHN0eWxlIHR5cGU9InRleHQvY3NzIj4KCS5zdDB7ZmlsbDpub25lO30KCS5zdDF7ZmlsbDojODE5NUIzO30KPC9zdHlsZT4KPGc+Cgk8Zz4KCQk8cmVjdCBjbGFzcz0ic3QwIiB3aWR0aD0iMTgiIGhlaWdodD0iMTYiLz4KCTwvZz4KCTxnPgoJCTxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0xOCwxNUg1LjhMMC40LDhsNS40LTdIMThMMTgsMTV6IE02LjIsMTRIMTdsMC0xMkg2LjJMMS42LDhMNi4yLDE0eiIvPgoJPC9nPgoJPGc+CgkJPHJlY3QgeD0iMTAuNSIgeT0iMy44IiB0cmFuc2Zvcm09Im1hdHJpeCgwLjcwNzEgLTAuNzA3MSAwLjcwNzEgMC43MDcxIC0yLjQzNSAxMC4xMjEzKSIgY2xhc3M9InN0MSIgd2lkdGg9IjEiIGhlaWdodD0iOC41Ii8+Cgk8L2c+Cgk8Zz4KCQk8cmVjdCB4PSI2LjgiIHk9IjcuNSIgdHJhbnNmb3JtPSJtYXRyaXgoMC43MDcxIC0wLjcwNzEgMC43MDcxIDAuNzA3MSAtMi40MzUgMTAuMTIxMykiIGNsYXNzPSJzdDEiIHdpZHRoPSI4LjUiIGhlaWdodD0iMSIvPgoJPC9nPgo8L2c+Cjwvc3ZnPgo=);width:18px;height:16px;margin-top:4px;margin-bottom:auto}"],encapsulation:2}),e})();let Nh=(()=>{class e{}return e.ɵfac=function(t){return new(t||e)},e.ɵmod=l["ɵɵdefineNgModule"]({type:e}),e.ɵinj=l["ɵɵdefineInjector"]({imports:[[o.CommonModule,ne,Dt.AV]]}),e})();("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](Nh,{declarations:[Sh,_h,Mh,Ih,xh,Eh],imports:[o.CommonModule,ne,Dt.AV],exports:[Sh,_h,Mh,Ih,xh,Eh]});let Oh=(()=>{class e extends wm{constructor(){super(...arguments),this.getRegisteredEvents=()=>[{name:"click"}]}}return e.ɵfac=function(){let t;return function(n){return(t||(t=l["ɵɵgetInheritedFactory"](e)))(n||e)}}(),e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["ts-delete-button-table-cell"]],features:[l["ɵɵInheritDefinitionFeature"]],decls:3,vars:3,consts:[["mat-icon-button","",1,"trash-icon",3,"matTooltip","click"],["svgIcon","trash"]],template:function(e,t){1&e&&(l["ɵɵelementStart"](0,"button",0),l["ɵɵlistener"]("click",(function(){return t.fireEvent("click")})),l["ɵɵpipe"](1,"translate"),l["ɵɵelement"](2,"mat-icon",1),l["ɵɵelementEnd"]()),2&e&&l["ɵɵproperty"]("matTooltip",l["ɵɵpipeBind1"](1,1,"DeleteButtonTableCell.Tooltip"))},directives:[B.lW,Dt.gM,St.Hw],pipes:[u.X$],encapsulation:2}),e})();class jh extends Qp.by{constructor(e=[]){super(e),this._visibleContentSize=0,this._pageSize=30,this.resetVisibleContentSize()}resetVisibleContentSize(){this._visibleContentSize=this._pageSize}loadNext(){this._visibleContentSize+=this._pageSize,this._updateChangeSubscription()}_pageData(e){return this._visibleContentSize>=e.length?e:e.slice(0,this._visibleContentSize)}}const Ah=["tableWrapper"];function Rh(e,t){if(1&e&&(l["ɵɵelementStart"](0,"div",15),l["ɵɵelementStart"](1,"span",16),l["ɵɵtext"](2),l["ɵɵpipe"](3,"translate"),l["ɵɵelementEnd"](),l["ɵɵelementStart"](4,"span",17),l["ɵɵtext"](5),l["ɵɵelementEnd"](),l["ɵɵelementEnd"]()),2&e){const e=l["ɵɵnextContext"]();l["ɵɵadvance"](2),l["ɵɵtextInterpolate"](l["ɵɵpipeBind1"](3,2,"MultiselectDialog.Selected")),l["ɵɵadvance"](3),l["ɵɵtextInterpolate1"](" ",e.selectedValues.length,"")}}function Fh(e,t){1&e&&(l["ɵɵelementContainerStart"](0),l["ɵɵelementStart"](1,"span"),l["ɵɵtext"](2),l["ɵɵpipe"](3,"translate"),l["ɵɵelementEnd"](),l["ɵɵelementContainerEnd"]()),2&e&&(l["ɵɵadvance"](2),l["ɵɵtextInterpolate"](l["ɵɵpipeBind1"](3,1,"MultiselectDialog.Blankslate")))}function Vh(e,t){1&e&&(l["ɵɵelementStart"](0,"span"),l["ɵɵtext"](1),l["ɵɵpipe"](2,"translate"),l["ɵɵelementEnd"]()),2&e&&(l["ɵɵadvance"](1),l["ɵɵtextInterpolate"](l["ɵɵpipeBind1"](2,1,"MultiselectDialog.BlankslateWithFilters")))}function Lh(e,t){if(1&e&&(l["ɵɵelementStart"](0,"div",18),l["ɵɵtemplate"](1,Fh,4,3,"ng-container",19),l["ɵɵtemplate"](2,Vh,3,3,"ng-template",null,20,l["ɵɵtemplateRefExtractor"]),l["ɵɵelementEnd"]()),2&e){const e=l["ɵɵreference"](3),t=l["ɵɵnextContext"]();l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",!t.searchKey)("ngIfElse",e)}}let zh=(()=>{class e{constructor(e,t,n){this._dialogData=e,this._scrollToBottomObserverFactory=t,this._dialogRef=n,this.searchColumns=[],this.tableData=[],this.searchKeyValue="",this.title="",this.selectedValues=[],this.tableDataSource=new jh}get searchKey(){return this.searchKeyValue}set searchKey(e){this.searchKeyValue=e,this.tableDataSource.filter=e&&e.trim().toLowerCase()}initDataSource(){this.tableDataSource.data=this.tableData,this.tableDataSource.filterPredicate=Ra(this.searchColumns)}loadNextData(){this.tableDataSource.loadNext()}ngOnInit(){this._dialogData&&this._dialogData.data&&(this.tableData=this._dialogData.data,this.dataSchema=this._dialogData.dataSchema,this.sortDirection=this._dialogData.sortDirection||"asc",this.sortColumn=this._dialogData.sortColumn,this.title=this._dialogData.title||this.title,this.selectMode=this._dialogData.selectMode||"multi",this.showSelectAllButton=void 0===this._dialogData.showSelectAllButton||this._dialogData.showSelectAllButton,this.searchColumns=this._dialogData.searchColumns||[],this.initDataSource())}ngAfterViewInit(){const e=this.tableWrapper.nativeElement;e&&(this.scrollTableToBottomObserver=this._scrollToBottomObserverFactory.createObserver(e,this.loadNextData.bind(this)))}isEmpty(){return this.table.isEmpty()}closeWithSelection(e){"single"===this.selectMode&&this._dialogRef.close([e])}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](G.WI),l["ɵɵdirectiveInject"](Qa),l["ɵɵdirectiveInject"](G.so))},e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["ts-multiselect-dialog"]],viewQuery:function(e,t){if(1&e&&(l["ɵɵviewQuery"](Ah,7),l["ɵɵviewQuery"](ym,7)),2&e){let e;l["ɵɵqueryRefresh"](e=l["ɵɵloadQuery"]())&&(t.tableWrapper=e.first),l["ɵɵqueryRefresh"](e=l["ɵɵloadQuery"]())&&(t.table=e.first)}},decls:21,vars:21,consts:[["mat-dialog-title",""],[1,"title"],["mat-icon-button","",1,"close-dialog",3,"mat-dialog-close"],["svgIcon","close",1,"close-button-icon"],[1,"multiselect-dialog-top-panel"],[1,"dialog-filters"],[3,"value","valueChange"],["class","select-counter-container",4,"ngIf"],["mat-dialog-content",""],["tableWrapper",""],["headerSticky","true",3,"selectMode","dataSource","dataSchema","sortColumn","sortDirection","showSelectAllButton","selected","selectedChange","rowDoubleClick"],["class","multiselect-dialog-blank-slate",4,"ngIf"],["mat-dialog-actions",""],["mat-button","","cdkFocusInitial","",3,"mat-dialog-close"],["mat-flat-button","","color","primary",3,"mat-dialog-close","disabled"],[1,"select-counter-container"],[1,"counter-label"],[1,"counter-value"],[1,"multiselect-dialog-blank-slate"],[4,"ngIf","ngIfElse"],["blankslateWithFilters",""]],template:function(e,t){1&e&&(l["ɵɵelementStart"](0,"div",0),l["ɵɵelementStart"](1,"span",1),l["ɵɵtext"](2),l["ɵɵpipe"](3,"translate"),l["ɵɵelementEnd"](),l["ɵɵelementStart"](4,"button",2),l["ɵɵelement"](5,"mat-icon",3),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵelementStart"](6,"div",4),l["ɵɵelementStart"](7,"div",5),l["ɵɵelementStart"](8,"ts-search-input",6),l["ɵɵlistener"]("valueChange",(function(e){return t.searchKey=e})),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵtemplate"](9,Rh,6,4,"div",7),l["ɵɵelementEnd"](),l["ɵɵelementStart"](10,"div",8,9),l["ɵɵelementStart"](12,"ts-table",10),l["ɵɵlistener"]("selectedChange",(function(e){return t.selectedValues=e}))("rowDoubleClick",(function(e){return t.closeWithSelection(e)})),l["ɵɵelementEnd"](),l["ɵɵtemplate"](13,Lh,4,2,"div",11),l["ɵɵelementEnd"](),l["ɵɵelementStart"](14,"div",12),l["ɵɵelementStart"](15,"button",13),l["ɵɵtext"](16),l["ɵɵpipe"](17,"translate"),l["ɵɵelementEnd"](),l["ɵɵelementStart"](18,"button",14),l["ɵɵtext"](19),l["ɵɵpipe"](20,"translate"),l["ɵɵelementEnd"](),l["ɵɵelementEnd"]()),2&e&&(l["ɵɵadvance"](2),l["ɵɵtextInterpolate"](l["ɵɵpipeBind1"](3,15,t.title||"MultiselectDialog.Select")),l["ɵɵadvance"](6),l["ɵɵproperty"]("value",t.searchKey),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf","multi"==t.selectMode),l["ɵɵadvance"](3),l["ɵɵproperty"]("selectMode",t.selectMode)("dataSource",t.tableDataSource)("dataSchema",t.dataSchema)("sortColumn",t.sortColumn)("sortDirection",t.sortDirection)("showSelectAllButton",t.showSelectAllButton)("selected",t.selectedValues),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",t.isEmpty()),l["ɵɵadvance"](3),l["ɵɵtextInterpolate"](l["ɵɵpipeBind1"](17,17,"MultiselectDialog.Cancel")),l["ɵɵadvance"](2),l["ɵɵproperty"]("mat-dialog-close",t.selectedValues)("disabled",0==t.selectedValues.length),l["ɵɵadvance"](1),l["ɵɵtextInterpolate"](l["ɵɵpipeBind1"](20,19,"MultiselectDialog.Select")))},directives:[G.uh,B.lW,G.ZT,St.Hw,vh,o.NgIf,G.xY,ym,G.H8],pipes:[u.X$],styles:["[_nghost-%COMP%]{padding:4px 10px;width:834px;max-width:100%;min-width:420px;box-sizing:border-box}[mat-dialog-title][_ngcontent-%COMP%]{display:flex}[mat-dialog-title][_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{width:calc(100% - 20px);display:inline-block;overflow:hidden;text-overflow:ellipsis}.multiselect-dialog-top-panel[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;font-size:14px;font-family:Bpmonline Open Sans,serif;line-height:19px;margin-top:20px;margin-bottom:5px}.multiselect-dialog-top-panel[_ngcontent-%COMP%]   .dialog-filters[_ngcontent-%COMP%]{flex-grow:1}.multiselect-dialog-top-panel[_ngcontent-%COMP%]   .dialog-filters[_ngcontent-%COMP%]   ts-search-input[_ngcontent-%COMP%]{width:max(40%,300px)}.multiselect-dialog-top-panel[_ngcontent-%COMP%]   .select-counter-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center}.multiselect-dialog-top-panel[_ngcontent-%COMP%]   .select-counter-container[_ngcontent-%COMP%]   .counter-label[_ngcontent-%COMP%]{font-size:13px;color:#757575}.multiselect-dialog-top-panel[_ngcontent-%COMP%]   .select-counter-container[_ngcontent-%COMP%]   .counter-value[_ngcontent-%COMP%]{padding-left:3px;font-size:14px;color:#444}[mat-dialog-content][_ngcontent-%COMP%]{overflow:auto!important;max-height:55vh!important;min-height:267px;height:862px}[mat-dialog-content][_ngcontent-%COMP%]   .multiselect-dialog-blank-slate[_ngcontent-%COMP%]{display:flex;justify-content:center;font-size:14px;color:#999;text-align:center}[mat-dialog-actions][_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-end}"]}),e})();var Bh=(()=>(function(e){e[e.Unknown=0]="Unknown",e[e.TextBox=1]="TextBox",e[e.TextArea=2]="TextArea",e[e.DropDown=3]="DropDown",e[e.DateTime=4]="DateTime",e[e.LocalizableText=5]="LocalizableText",e[e.CheckBox=6]="CheckBox",e[e.ImageUploader=7]="ImageUploader",e[e.Autocomlete=8]="Autocomlete"}(Bh||(Bh={})),Bh))();let Gh=(()=>{class e{constructor(e,t){this.el=e,this.render=t}set dataItemMarker(e){this.render.setAttribute(this.el.nativeElement,"data-item-marker",e)}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](l.ElementRef),l["ɵɵdirectiveInject"](l.Renderer2))},e.ɵdir=l["ɵɵdefineDirective"]({type:e,selectors:[["","tsDataItemMarker",""]],inputs:{dataItemMarker:["tsDataItemMarker","dataItemMarker"]}}),e})();class Hh extends class{}{constructor(e){super(),Object.assign(this,e)}}let Uh=(()=>{class e{constructor(e){this.httpClient=e,this._serviceEndpoint="/ServiceModel/CultureService.svc/"}getAllCultures(){const e=this._serviceEndpoint+"GetAllCultures";return this.httpClient.post(e,{}).pipe((0,g.U)((e=>e.cultures)),(0,Or.B)())}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](s.HttpClient))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"root"}),e})();function Zh(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵelementStart"](0,"div"),l["ɵɵelementStart"](1,"mat-form-field",10),l["ɵɵelementStart"](2,"mat-label"),l["ɵɵtext"](3),l["ɵɵelementEnd"](),l["ɵɵelementStart"](4,"textarea",11),l["ɵɵlistener"]("ngModelChange",(function(t){return l["ɵɵrestoreView"](e).$implicit.value=t})),l["ɵɵtext"](5,"\t\t\t\t"),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵelementEnd"]()}if(2&e){const e=t.$implicit,n=l["ɵɵnextContext"]();l["ɵɵattribute"]("data-item-marker",e.name),l["ɵɵadvance"](1),l["ɵɵclassProp"]("hideNonActiveItem",!e.isActive&&!n.showAll),l["ɵɵadvance"](2),l["ɵɵtextInterpolate"](e.title),l["ɵɵadvance"](1),l["ɵɵproperty"]("disabled",n.dialogData.isDisabled)("rows",1)("ngModel",e.value)("tsDataItemMarker",n.dataQaAttribute(e.name))}}function $h(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵelementStart"](0,"div",12),l["ɵɵelementStart"](1,"button",13),l["ɵɵlistener"]("click",(function(){l["ɵɵrestoreView"](e);const t=l["ɵɵnextContext"]();return t.showAll=!t.showAll})),l["ɵɵtext"](2),l["ɵɵpipe"](3,"translate"),l["ɵɵelement"](4,"mat-icon",14),l["ɵɵelementEnd"](),l["ɵɵelementEnd"]()}if(2&e){const e=l["ɵɵnextContext"]();l["ɵɵadvance"](1),l["ɵɵproperty"]("tsDataItemMarker","show_hide_languages_button"),l["ɵɵadvance"](1),l["ɵɵtextInterpolate1"](" ",l["ɵɵpipeBind1"](3,3,e.getIsActiveButtonTitle)," "),l["ɵɵadvance"](2),l["ɵɵproperty"]("svgIcon",e.getIsActiveButtonImage)}}let Wh=(()=>{class e{constructor(e,t){this.dialogData=e,this._destroyed=new h.ReplaySubject,this.culturesData=[];const r=t.get(St.jv),a=t.get(i.DomSanitizer);this._cultureApiService=t.get(Uh),r.addSvgIconLiteral("up-arrows-icon",a.bypassSecurityTrustHtml(n(98728))),r.addSvgIconLiteral("close",a.bypassSecurityTrustHtml(n(63853))),r.addSvgIconLiteral("down-arrows-icon",a.bypassSecurityTrustHtml(n(83225)))}get getIsActiveButtonTitle(){return this.showAll?"LocalizableStringsDialog.HideInactiveLanguages":"LocalizableStringsDialog.ShowAllLanguages"}get getIsActiveButtonImage(){return this.showAll?"up-arrows-icon":"down-arrows-icon"}_getCultureValue(e){return this.dialogData.localizableStrings.getValue(e)}_getCultureLanguageModel(e){const t=new Hh(e);return t.value=this._getCultureValue(e.name),t}_setNeedShowAllLanguagesButton(e){this.needShowAllLanguagesButton=e.some((e=>!e.isActive))}ngOnInit(){this._cultureApiService.getAllCultures().pipe((0,b.R)(this._destroyed)).subscribe((e=>{this.culturesData=e.map((e=>this._getCultureLanguageModel(e))),this._setNeedShowAllLanguagesButton(e)}))}dataQaAttribute(e){return e+"_input"}ngOnDestroy(){this._destroyed.next(!0),this._destroyed.complete()}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](G.WI),l["ɵɵdirectiveInject"](l.Injector))},e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["ts-localizable-dialog"]],decls:17,vars:13,consts:[[1,"ts-localizable-dialog"],["mat-dialog-title",""],["mat-icon-button","",1,"close-dialog",3,"mat-dialog-close"],["svgIcon","close",1,"close-button-icon"],["mat-dialog-content","",1,"dialog-content-wrapper"],[4,"ngFor","ngForOf"],["class","collapse-expand-language",4,"ngIf"],["mat-dialog-actions","",1,"dialog-action-buttons"],["mat-button","","data-item-marker","localizable-dialog-cancel-button",3,"mat-dialog-close"],["mat-flat-button","","color","primary","data-item-marker","localizable-dialog-apply-button",3,"disabled","mat-dialog-close"],["floatLabel","always",1,"example-full-width"],["matInput","",3,"disabled","rows","ngModel","tsDataItemMarker","ngModelChange"],[1,"collapse-expand-language"],["mat-button","",3,"tsDataItemMarker","click"],[1,"expandCollapsImg",3,"svgIcon"]],template:function(e,t){1&e&&(l["ɵɵelementStart"](0,"div",0),l["ɵɵelementStart"](1,"div",1),l["ɵɵelementStart"](2,"span"),l["ɵɵtext"](3),l["ɵɵpipe"](4,"translate"),l["ɵɵelementEnd"](),l["ɵɵelementStart"](5,"button",2),l["ɵɵelement"](6,"mat-icon",3),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵelementStart"](7,"div",4),l["ɵɵtemplate"](8,Zh,6,8,"div",5),l["ɵɵelementEnd"](),l["ɵɵtemplate"](9,$h,5,5,"div",6),l["ɵɵelementStart"](10,"div",7),l["ɵɵelementStart"](11,"button",8),l["ɵɵtext"](12),l["ɵɵpipe"](13,"translate"),l["ɵɵelementEnd"](),l["ɵɵelementStart"](14,"button",9),l["ɵɵtext"](15),l["ɵɵpipe"](16,"translate"),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵelementEnd"]()),2&e&&(l["ɵɵadvance"](3),l["ɵɵtextInterpolate1"](" ",l["ɵɵpipeBind1"](4,7,t.dialogData.title)," "),l["ɵɵadvance"](5),l["ɵɵproperty"]("ngForOf",t.culturesData),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",t.needShowAllLanguagesButton),l["ɵɵadvance"](3),l["ɵɵtextInterpolate1"](" ",l["ɵɵpipeBind1"](13,9,t.dialogData.cancelBtnTitle)," "),l["ɵɵadvance"](2),l["ɵɵproperty"]("disabled",t.dialogData.isDisabled)("mat-dialog-close",t.culturesData),l["ɵɵadvance"](1),l["ɵɵtextInterpolate1"](" ",l["ɵɵpipeBind1"](16,11,t.dialogData.okBtnTitle)," "))},directives:[G.uh,B.lW,G.ZT,St.Hw,G.xY,o.NgForOf,o.NgIf,G.H8,x.KE,x.hX,j.Nt,c.Fj,c.JJ,c.On,Gh],pipes:[u.X$],styles:[".dialog-content-wrapper[_ngcontent-%COMP%]{padding-top:8px;padding-bottom:17px;display:flex;flex-direction:column;justify-content:space-between;width:476px;height:100%;overflow:auto!important}.dialog-content-wrapper[_ngcontent-%COMP%]   .example-full-width[_ngcontent-%COMP%]{width:100%}.dialog-content-wrapper[_ngcontent-%COMP%]   .example-full-width[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{min-height:18px}.dialog-content-wrapper[_ngcontent-%COMP%]   .example-full-width[_ngcontent-%COMP%]   textarea[disabled][_ngcontent-%COMP%]{color:#000}.dialog-content-wrapper[_ngcontent-%COMP%]   .hideNonActiveItem[_ngcontent-%COMP%]{display:none}.dialog-content-wrapper[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{font-size:14px}[mat-dialog-actions][_ngcontent-%COMP%]{margin:9px 0!important;display:flex;flex-direction:row;justify-content:flex-end}.collapse-expand-language[_ngcontent-%COMP%]{text-align:center}.collapse-expand-language[_ngcontent-%COMP%]   .mat-button[_ngcontent-%COMP%]{text-transform:none}.collapse-expand-language[_ngcontent-%COMP%]   .mat-button[_ngcontent-%COMP%]:focus{background-color:transparent!important}.collapse-expand-language[_ngcontent-%COMP%]   .expandCollapsImg[_ngcontent-%COMP%]{padding-left:5px;display:flex;box-sizing:content-box;width:16px;height:16px}"]}),e})();const qh=["input"];let Yh=(()=>{class e extends _{constructor(e,t,i,r,a,o,s){super(e,t,i),this.translateService=r,this.dialogService=a,this.controlType="ts-localizable-string";const l=n(18435);o.addSvgIconLiteral("localizable-strings",s.bypassSecurityTrustHtml(l))}set autofocus(e){e&&requestAnimationFrame((()=>{const e=this.input.nativeElement;e.focus(),e.select()}))}set stringValue(e){this.innerValue.setValueLocalizableString(this.translateService.currentLang,e),this.onChange(this.innerValue)}get stringValue(){return this.innerValue.getValue(this.translateService.currentLang)}dataQaAttribute(){return this.label.toLowerCase()+"_input"}showLanguageMiniCard(e){e.preventDefault(),this.dialogService.open(Wh,{data:{title:this.label,cancelBtnTitle:"LocalizableStringsDialog.Cancel",okBtnTitle:"LocalizableStringsDialog.Apply",localizableStrings:this.innerValue,isDisabled:this.disabled},scrollStrategy:new dn.RZ,panelClass:["dialog-top-border"]}).subscribe((e=>{e&&(e.forEach((e=>{this.innerValue.setValueLocalizableString(e.name,e.value)})),this.onChange(this.innerValue))}))}writeValue(e){e||(e=new Hr),super.writeValue(e)}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](c.a5,10),l["ɵɵdirectiveInject"](C.Lq),l["ɵɵdirectiveInject"](y.tE),l["ɵɵdirectiveInject"](u.sK),l["ɵɵdirectiveInject"](X),l["ɵɵdirectiveInject"](St.jv),l["ɵɵdirectiveInject"](i.DomSanitizer))},e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["ts-localizable-text-input"]],viewQuery:function(e,t){if(1&e&&l["ɵɵviewQuery"](qh,5),2&e){let e;l["ɵɵqueryRefresh"](e=l["ɵɵloadQuery"]())&&(t.input=e.first)}},inputs:{label:"label",autofocus:"autofocus",stringValue:"stringValue"},features:[l["ɵɵProvidersFeature"]([{provide:x.Eo,useExisting:e}]),l["ɵɵInheritDefinitionFeature"]],decls:5,vars:5,consts:[[1,"localizable-text-input-container"],["matInput","","autocomplete","off",3,"ngModel","disabled","tsDataItemMarker","required","ngModelChange"],["input",""],["mat-icon-button","",1,"localizable-icon",3,"tsDataItemMarker","click"],["svgIcon","localizable-strings",1,"localizable-strings-icon"]],template:function(e,t){1&e&&(l["ɵɵelementStart"](0,"div",0),l["ɵɵelementStart"](1,"input",1,2),l["ɵɵlistener"]("ngModelChange",(function(e){return t.stringValue=e})),l["ɵɵelementEnd"](),l["ɵɵelementStart"](3,"button",3),l["ɵɵlistener"]("click",(function(e){return t.showLanguageMiniCard(e)})),l["ɵɵelement"](4,"mat-icon",4),l["ɵɵelementEnd"](),l["ɵɵelementEnd"]()),2&e&&(l["ɵɵadvance"](1),l["ɵɵproperty"]("ngModel",t.stringValue)("disabled",t.disabled)("tsDataItemMarker",t.dataQaAttribute())("required",t.required),l["ɵɵadvance"](2),l["ɵɵproperty"]("tsDataItemMarker","localizable_button_"+t.label))},directives:[j.Nt,c.Fj,c.JJ,c.On,Gh,c.Q7,B.lW,St.Hw],styles:[".localizable-text-input-container{display:flex;flex-direction:row;align-items:center}.localizable-text-input-container .mat-input-element{padding-right:21px}.localizable-text-input-container .mat-icon-button.localizable-icon{height:1.5em;width:1.5em;position:absolute;right:0}.localizable-text-input-container .mat-icon.localizable-strings-icon{width:16px;height:16px;line-height:16px}.localizable-text-input-container .mat-button-wrapper{display:flex;justify-content:center}.localizable-text-input-container .mat-button-focus-overlay,.localizable-text-input-container .mat-button-ripple-round{height:21px}"],encapsulation:2}),e})();const Jh=function(e){return{visible:e}},Qh=function(e,t){return{"add-image-button-icon":e,"add-disabled-image-button-icon":t}},Kh=()=>{},Xh={provide:c.JU,useExisting:(0,l.forwardRef)((()=>eg)),multi:!0};let eg=class extends Us{constructor(){super(...arguments),this.required=!1,this.clearButtonVisible=!1,this.label="",this.valueChange=new l.EventEmitter,this.disabled=!1,this.onChange=Kh,this.onTouched=Kh}set value(e){this._model=e,this.onChange(this._model),this.valueChange.emit(this._model)}get value(){return this._model}get fileName(){return this._model?this._model.name:""}dataQaAttribute(){return this.label.toLowerCase()+"_input"}get isClearButtonVisible(){return this.clearButtonVisible&&Boolean(this._model)&&!this.disabled}onFilesSelected(e){0!==e.length&&(this.value=e[0])}clearFile(){this.value=null}writeValue(e){this._model=e}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e}};function tg(e,t){1&e&&l["ɵɵelement"](0,"mat-icon",9)}function ng(e,t){if(1&e&&(l["ɵɵelementStart"](0,"mat-error"),l["ɵɵtext"](1),l["ɵɵelementEnd"]()),2&e){const e=l["ɵɵnextContext"](2);l["ɵɵadvance"](1),l["ɵɵtextInterpolate1"](" ",e.getErrorMessage," ")}}function ig(e,t){if(1&e&&(l["ɵɵelementStart"](0,"mat-form-field",5),l["ɵɵelementStart"](1,"mat-label"),l["ɵɵtext"](2),l["ɵɵelementEnd"](),l["ɵɵelement"](3,"input",6),l["ɵɵtemplate"](4,tg,1,0,"mat-icon",7),l["ɵɵtemplate"](5,ng,2,1,"mat-error",8),l["ɵɵelementEnd"]()),2&e){const e=l["ɵɵnextContext"]();l["ɵɵadvance"](2),l["ɵɵtextInterpolate"](e.formComponent.label),l["ɵɵadvance"](1),l["ɵɵproperty"]("formControlName",e.formComponent.key)("tsDataItemMarker",e.dataQaAttribute(e.formComponent.key))("required",e.formComponent.required),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",e.formComponent.isDisabled),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",e.isInvalidComponent)}}function rg(e,t){if(1&e&&(l["ɵɵelementStart"](0,"mat-form-field",5),l["ɵɵelementStart"](1,"mat-label"),l["ɵɵtext"](2),l["ɵɵelementEnd"](),l["ɵɵelementStart"](3,"textarea",10),l["ɵɵtext"](4,"\t\t\t"),l["ɵɵelementEnd"](),l["ɵɵelementEnd"]()),2&e){const e=l["ɵɵnextContext"]();l["ɵɵadvance"](2),l["ɵɵtextInterpolate"](e.formComponent.label),l["ɵɵadvance"](1),l["ɵɵproperty"]("rows",e.formComponent.areaRows)("formControlName",e.formComponent.key)("tsDataItemMarker",e.dataQaAttribute(e.formComponent.key))("required",e.formComponent.required)}}function ag(e,t){if(1&e&&(l["ɵɵelementStart"](0,"mat-option",13),l["ɵɵtext"](1),l["ɵɵelementEnd"]()),2&e){const e=t.$implicit;l["ɵɵproperty"]("value",e.key),l["ɵɵadvance"](1),l["ɵɵtextInterpolate1"](" ",e.value," ")}}function og(e,t){if(1&e&&(l["ɵɵelementStart"](0,"mat-error"),l["ɵɵtext"](1),l["ɵɵelementEnd"]()),2&e){const e=l["ɵɵnextContext"](2);l["ɵɵadvance"](1),l["ɵɵtextInterpolate1"](" ",e.getErrorMessage," ")}}function sg(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵelementStart"](0,"mat-form-field",5),l["ɵɵelementStart"](1,"mat-label"),l["ɵɵtext"](2),l["ɵɵelementEnd"](),l["ɵɵelementStart"](3,"mat-select",11),l["ɵɵlistener"]("selectionChange",(function(t){l["ɵɵrestoreView"](e);const n=l["ɵɵnextContext"]();return n.formComponent.changeValue?n.formComponent.changeValue(t,n.form):null})),l["ɵɵtemplate"](4,ag,2,2,"mat-option",12),l["ɵɵelementEnd"](),l["ɵɵtemplate"](5,og,2,1,"mat-error",8),l["ɵɵelementEnd"]()}if(2&e){const e=l["ɵɵnextContext"]();l["ɵɵadvance"](2),l["ɵɵtextInterpolate"](e.formComponent.label),l["ɵɵadvance"](1),l["ɵɵproperty"]("formControlName",e.formComponent.key)("tsDataItemMarker",e.dataQaAttribute(e.formComponent.key))("required",e.formComponent.required),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngForOf",e.formComponent.options),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",e.isInvalidComponent)}}function lg(e,t){if(1&e&&(l["ɵɵelementStart"](0,"mat-option",13),l["ɵɵtext"](1),l["ɵɵelementEnd"]()),2&e){const e=t.$implicit;l["ɵɵproperty"]("value",e),l["ɵɵadvance"](1),l["ɵɵtextInterpolate1"](" ",e.value," ")}}function cg(e,t){if(1&e&&l["ɵɵelement"](0,"ts-info-tooltip-icon",20),2&e){const e=l["ɵɵnextContext"](2);l["ɵɵproperty"]("message",e.formComponent.info)}}function dg(e,t){if(1&e&&(l["ɵɵelementStart"](0,"mat-error"),l["ɵɵtext"](1),l["ɵɵelementEnd"]()),2&e){const e=l["ɵɵnextContext"](2);l["ɵɵadvance"](1),l["ɵɵtextInterpolate1"](" ",e.getErrorMessage," ")}}function ug(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵelementStart"](0,"mat-form-field",5),l["ɵɵelementStart"](1,"mat-label"),l["ɵɵtext"](2),l["ɵɵelementEnd"](),l["ɵɵelement"](3,"input",14),l["ɵɵelementStart"](4,"div",15),l["ɵɵelement"](5,"div",16),l["ɵɵelementEnd"](),l["ɵɵelementStart"](6,"mat-autocomplete",17,18),l["ɵɵlistener"]("optionSelected",(function(t){l["ɵɵrestoreView"](e);const n=l["ɵɵnextContext"]();return n.formComponent.changeValue?n.formComponent.changeValue(t,n.form):null})),l["ɵɵtemplate"](8,lg,2,2,"mat-option",12),l["ɵɵpipe"](9,"async"),l["ɵɵelementEnd"](),l["ɵɵtemplate"](10,cg,1,1,"ts-info-tooltip-icon",19),l["ɵɵtemplate"](11,dg,2,1,"mat-error",8),l["ɵɵelementEnd"]()}if(2&e){const e=l["ɵɵreference"](7),t=l["ɵɵnextContext"]();l["ɵɵadvance"](2),l["ɵɵtextInterpolate"](t.formComponent.label),l["ɵɵadvance"](1),l["ɵɵproperty"]("formControlName",t.formComponent.key)("matAutocomplete",e)("required",t.formComponent.required)("tsDataItemMarker",t.dataQaAttribute(t.formComponent.key)),l["ɵɵadvance"](3),l["ɵɵproperty"]("displayWith",t.getDisplayValueFormDropDownOptions),l["ɵɵadvance"](2),l["ɵɵproperty"]("ngForOf",l["ɵɵpipeBind1"](9,9,t.filteredOptions)),l["ɵɵadvance"](2),l["ɵɵproperty"]("ngIf",t.formComponent.info),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",t.isInvalidComponent)}}function pg(e,t){if(1&e&&(l["ɵɵelementStart"](0,"mat-form-field",5),l["ɵɵelementStart"](1,"mat-label"),l["ɵɵtext"](2),l["ɵɵelementEnd"](),l["ɵɵelement"](3,"input",21),l["ɵɵelement"](4,"mat-datepicker-toggle",22),l["ɵɵelement"](5,"mat-datepicker",null,23),l["ɵɵelementEnd"]()),2&e){const e=l["ɵɵreference"](6),t=l["ɵɵnextContext"]();l["ɵɵadvance"](2),l["ɵɵtextInterpolate"](t.formComponent.label),l["ɵɵadvance"](1),l["ɵɵproperty"]("matDatepicker",e)("formControlName",t.formComponent.key)("tsDataItemMarker",t.dataQaAttribute(t.formComponent.key))("required",t.formComponent.required),l["ɵɵadvance"](1),l["ɵɵproperty"]("for",e)}}function mg(e,t){if(1&e&&(l["ɵɵelementStart"](0,"mat-form-field",5),l["ɵɵelementStart"](1,"mat-label"),l["ɵɵtext"](2),l["ɵɵelementEnd"](),l["ɵɵelement"](3,"ts-localizable-text-input",24),l["ɵɵelementStart"](4,"mat-error"),l["ɵɵtext"](5),l["ɵɵpipe"](6,"translate"),l["ɵɵelementEnd"](),l["ɵɵelementEnd"]()),2&e){const e=l["ɵɵnextContext"]();l["ɵɵadvance"](2),l["ɵɵtextInterpolate"](e.formComponent.label),l["ɵɵadvance"](1),l["ɵɵproperty"]("formControlName",e.formComponent.key)("label",e.formComponent.label)("required",e.formComponent.required),l["ɵɵadvance"](2),l["ɵɵtextInterpolate1"](" ",l["ɵɵpipeBind1"](6,5,"LocalizableStringsDialog.Validations.RequiredNameCaption")," ")}}function hg(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵelementStart"](0,"div",25),l["ɵɵelementStart"](1,"mat-checkbox",26),l["ɵɵlistener"]("change",(function(t){l["ɵɵrestoreView"](e);const n=l["ɵɵnextContext"]();return n.formComponent.changeValue?n.formComponent.changeValue(t,n.form):null})),l["ɵɵtext"](2),l["ɵɵelementEnd"](),l["ɵɵelementEnd"]()}if(2&e){const e=l["ɵɵnextContext"]();l["ɵɵadvance"](1),l["ɵɵproperty"]("formControlName",e.formComponent.key)("tsDataItemMarker",e.dataQaAttribute(e.formComponent.key))("required",e.formComponent.required),l["ɵɵadvance"](1),l["ɵɵtextInterpolate1"](" ",e.formComponent.label," ")}}function gg(e,t){if(1&e&&(l["ɵɵelementStart"](0,"div"),l["ɵɵelement"](1,"ts-image-input",27),l["ɵɵelementEnd"]()),2&e){const e=l["ɵɵnextContext"]();l["ɵɵadvance"](1),l["ɵɵproperty"]("required",e.formComponent.required)("formControlName",e.formComponent.key)("label",e.formComponent.label)}}eg.ɵfac=function(){let e;return function(t){return(e||(e=l["ɵɵgetInheritedFactory"](eg)))(t||eg)}}(),eg.ɵcmp=l["ɵɵdefineComponent"]({type:eg,selectors:[["ts-image-input"]],inputs:{value:"value",required:"required",clearButtonVisible:"clearButtonVisible",label:"label",disabled:"disabled"},outputs:{valueChange:"valueChange"},features:[l["ɵɵProvidersFeature"]([Xh]),l["ɵɵInheritDefinitionFeature"]],decls:11,vars:18,consts:[["floatLabel","always",1,"image-input",3,"hideRequiredMarker","ngStyle","ngClass"],["matInput","",1,"file-name-input",3,"ngModel","disabled","tsDataItemMarker","required"],["matSuffix","","mat-icon-button","","aria-label","Clear",1,"close-button",3,"ngClass","click"],["svgIcon","close"],["mat-icon-button","","matSuffix","",1,"add-image-button",3,"disabled","tsDataItemMarker","click"],[3,"ngClass"],["addImageButton",""],["hidden","","type","file","accept","image/*",3,"change"],["fileInput",""]],template:function(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵelementStart"](0,"mat-form-field",0),l["ɵɵelementStart"](1,"mat-label"),l["ɵɵtext"](2),l["ɵɵelementEnd"](),l["ɵɵelement"](3,"input",1),l["ɵɵelementStart"](4,"button",2),l["ɵɵlistener"]("click",(function(){return t.clearFile()})),l["ɵɵelement"](5,"mat-icon",3),l["ɵɵelementEnd"](),l["ɵɵelementStart"](6,"button",4),l["ɵɵlistener"]("click",(function(){l["ɵɵrestoreView"](e);return l["ɵɵreference"](10).click()})),l["ɵɵelement"](7,"div",5,6),l["ɵɵelementEnd"](),l["ɵɵelementStart"](9,"input",7,8),l["ɵɵlistener"]("change",(function(e){return t.onFilesSelected(e.target.files)})),l["ɵɵelementEnd"](),l["ɵɵelementEnd"]()}2&e&&(l["ɵɵproperty"]("hideRequiredMarker",!0)("ngStyle",t.styles)("ngClass",t.classes),l["ɵɵattribute"]("id",t.id),l["ɵɵadvance"](2),l["ɵɵtextInterpolate"](t.label),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngModel",t.fileName)("disabled",!0)("tsDataItemMarker",t.dataQaAttribute())("required",t.required),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngClass",l["ɵɵpureFunction1"](13,Jh,t.isClearButtonVisible)),l["ɵɵadvance"](2),l["ɵɵproperty"]("disabled",t.disabled)("tsDataItemMarker","add_image_button_"+t.label),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngClass",l["ɵɵpureFunction2"](15,Qh,!t.disabled,t.disabled)))},directives:[x.KE,o.NgStyle,o.NgClass,x.hX,j.Nt,c.Fj,c.JJ,c.On,Gh,c.Q7,B.lW,x.R9,St.Hw],styles:[".add-image-button[_ngcontent-%COMP%]   .add-image-button-icon[_ngcontent-%COMP%]{background:url(add-image-icon.svg) no-repeat;width:16px;height:16px;margin:auto;display:inline-block}.add-image-button[_ngcontent-%COMP%]   .add-disabled-image-button-icon[_ngcontent-%COMP%]{background:url(add-image-disable-icon.svg) no-repeat;width:16px;height:16px;margin:auto;display:inline-block}.close-button[_ngcontent-%COMP%]{visibility:hidden}.image-input[_ngcontent-%COMP%]:hover   .visible[_ngcontent-%COMP%]{visibility:visible}.mat-form-field[_ngcontent-%COMP%]{width:100%}"]}),(0,a.gn)([(0,r.CrtInput)(),(0,a.w6)("design:type",File),(0,a.w6)("design:paramtypes",[File])],eg.prototype,"value",null),(0,a.gn)([(0,r.CrtInput)(),(0,a.w6)("design:type",Object)],eg.prototype,"label",void 0),eg=(0,a.gn)([Xs({type:"crt.ImageInput"})],eg);let fg=(()=>{class e{constructor(e,t){this.typeControl=Bh,e.addSvgIconLiteral("lock-icon",t.bypassSecurityTrustHtml(n(76974)))}get groupComponent(){return this.form.formGroup.get(this.formComponent.key)}get isInvalidComponent(){return!!this.groupComponent&&this.groupComponent.invalid}get getErrorMessage(){return this.groupComponent.errors.message}_getFilteredOptions(e){const t=(null==e?void 0:e.toLowerCase())||"";return this.formComponent.options.filter((e=>!!e.value&&e.value.toLowerCase().indexOf(t)>-1))}_autocompleteValueChangesHandlerInit(){this.formComponent.controlType===Bh.Autocomlete&&(this.filteredOptions=this.groupComponent.valueChanges.pipe((0,v.O)(""),(0,g.U)((e=>"string"==typeof e?e:null==e?void 0:e.value)),(0,g.U)((e=>e?this._getFilteredOptions(e):this.formComponent.options))))}ngOnInit(){this._autocompleteValueChangesHandlerInit()}dataQaAttribute(e){return e+"_input"}getDisplayValueFormDropDownOptions(e){return e&&e.value?e.value:""}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](St.jv),l["ɵɵdirectiveInject"](i.DomSanitizer))},e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["ts-dynamic-element"]],inputs:{formComponent:"formComponent",form:"form"},decls:10,vars:10,consts:[[3,"formGroup"],[3,"ngSwitch"],["floatLabel","always",4,"ngSwitchCase"],["class","dynamic-checkbox",4,"ngSwitchCase"],[4,"ngSwitchCase"],["floatLabel","always"],["matInput","","autocomplete","off",3,"formControlName","tsDataItemMarker","required"],["matSuffix","","class","lock-icon","svgIcon","lock-icon",4,"ngIf"],[4,"ngIf"],["matSuffix","","svgIcon","lock-icon",1,"lock-icon"],["matInput","",3,"rows","formControlName","tsDataItemMarker","required"],["disableOptionCentering","true",3,"formControlName","tsDataItemMarker","required","selectionChange"],["class","dynamic-element-select-option",3,"value",4,"ngFor","ngForOf"],[1,"dynamic-element-select-option",3,"value"],["type","text","matInput","",3,"formControlName","matAutocomplete","required","tsDataItemMarker"],["matSuffix","",1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["disableOptionCentering","true",3,"displayWith","optionSelected"],["auto","matAutocomplete"],["class","info-icon","matSuffix","",3,"message",4,"ngIf"],["matSuffix","",1,"info-icon",3,"message"],["matInput","",3,"matDatepicker","formControlName","tsDataItemMarker","required"],["matSuffix","",3,"for"],["picker",""],[3,"formControlName","label","required"],[1,"dynamic-checkbox"],[3,"formControlName","tsDataItemMarker","required","change"],[3,"required","formControlName","label"]],template:function(e,t){1&e&&(l["ɵɵelementStart"](0,"div",0),l["ɵɵelementStart"](1,"div",1),l["ɵɵtemplate"](2,ig,6,6,"mat-form-field",2),l["ɵɵtemplate"](3,rg,5,5,"mat-form-field",2),l["ɵɵtemplate"](4,sg,6,6,"mat-form-field",2),l["ɵɵtemplate"](5,ug,12,11,"mat-form-field",2),l["ɵɵtemplate"](6,pg,7,6,"mat-form-field",2),l["ɵɵtemplate"](7,mg,7,7,"mat-form-field",2),l["ɵɵtemplate"](8,hg,3,4,"div",3),l["ɵɵtemplate"](9,gg,2,3,"div",4),l["ɵɵelementEnd"](),l["ɵɵelementEnd"]()),2&e&&(l["ɵɵproperty"]("formGroup",t.form.formGroup),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngSwitch",t.formComponent.controlType),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngSwitchCase",t.typeControl.TextBox),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngSwitchCase",t.typeControl.TextArea),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngSwitchCase",t.typeControl.DropDown),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngSwitchCase",t.typeControl.Autocomlete),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngSwitchCase",t.typeControl.DateTime),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngSwitchCase",t.typeControl.LocalizableText),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngSwitchCase",t.typeControl.CheckBox),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngSwitchCase",t.typeControl.ImageUploader))},directives:[c.JL,c.sg,o.NgSwitch,o.NgSwitchCase,x.KE,x.hX,j.Nt,c.Fj,c.JJ,c.u,Gh,c.Q7,o.NgIf,St.Hw,x.R9,x.TO,zt.gD,o.NgForOf,R.ey,O.ZL,O.XC,an,Zp.hl,Zp.nW,Zp.Mq,Yh,ce.oG,ce.e_,eg],pipes:[o.AsyncPipe,u.X$],styles:[".mat-form-field[_ngcontent-%COMP%]{width:100%}.mat-form-field[_ngcontent-%COMP%]   .lock-icon[_ngcontent-%COMP%]{width:16px;height:16px;display:none}.mat-form-field[_ngcontent-%COMP%]   .info-icon[_ngcontent-%COMP%]{width:22px;height:22px;padding-left:8px;bottom:-3px}.mat-form-field[_ngcontent-%COMP%]:hover   .lock-icon[_ngcontent-%COMP%]{display:block}ts-image-input[_ngcontent-%COMP%], ts-localizable-text[_ngcontent-%COMP%]{width:100%}.dynamic-checkbox[_ngcontent-%COMP%]{padding-top:7px;overflow:hidden}  .mat-checkbox-label{font-size:14px}"]}),e})();function vg(e,t){if(1&e&&l["ɵɵelement"](0,"ts-dynamic-element",1),2&e){const e=t.$implicit,n=l["ɵɵnextContext"]();l["ɵɵproperty"]("formComponent",e)("form",n.dynamicForm)}}let bg=(()=>{class e{}return e.ɵfac=function(t){return new(t||e)},e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["ts-dynamic-column"]],inputs:{formColumn:"formColumn",dynamicForm:"dynamicForm"},decls:1,vars:1,consts:[[3,"formComponent","form",4,"ngFor","ngForOf"],[3,"formComponent","form"]],template:function(e,t){1&e&&l["ɵɵtemplate"](0,vg,1,2,"ts-dynamic-element",0),2&e&&l["ɵɵproperty"]("ngForOf",t.formColumn.formComponents)},directives:[o.NgForOf,fg],styles:[""]}),e})();function Cg(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵelementStart"](0,"button",5),l["ɵɵlistener"]("click",(function(){l["ɵɵrestoreView"](e);const t=l["ɵɵnextContext"](2);return t.expandRow=!t.expandRow})),l["ɵɵelementStart"](1,"mat-icon"),l["ɵɵtext"](2),l["ɵɵelementEnd"](),l["ɵɵelementEnd"]()}if(2&e){const e=l["ɵɵnextContext"](2);l["ɵɵadvance"](2),l["ɵɵtextInterpolate"](e.GetButtonIcon)}}function yg(e,t){if(1&e&&(l["ɵɵelementStart"](0,"div",2),l["ɵɵelementStart"](1,"label",3),l["ɵɵtext"](2),l["ɵɵelementEnd"](),l["ɵɵtemplate"](3,Cg,3,1,"button",4),l["ɵɵelementEnd"]()),2&e){const e=l["ɵɵnextContext"]();l["ɵɵadvance"](2),l["ɵɵtextInterpolate1"](" ",e.formRow.rowSectionName," "),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",e.formRow.expandableRow)}}function wg(e,t){if(1&e&&l["ɵɵelement"](0,"ts-dynamic-column",6),2&e){const e=t.$implicit,n=l["ɵɵnextContext"]();l["ɵɵproperty"]("dynamicForm",n.dynamicForm)("formColumn",e)}}let _g=(()=>{class e{get GetButtonIcon(){return this.expandRow?"keyboard_arrow_down":"keyboard_arrow_up"}}return e.ɵfac=function(t){return new(t||e)},e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["ts-dynamic-row"]],inputs:{formRow:"formRow",dynamicForm:"dynamicForm"},decls:3,vars:4,consts:[["class","section-row",4,"ngIf"],["class","column-flex",3,"dynamicForm","formColumn",4,"ngFor","ngForOf"],[1,"section-row"],[1,"section-name"],["mat-icon-button","","color","primary",3,"click",4,"ngIf"],["mat-icon-button","","color","primary",3,"click"],[1,"column-flex",3,"dynamicForm","formColumn"]],template:function(e,t){1&e&&(l["ɵɵtemplate"](0,yg,4,2,"div",0),l["ɵɵelementStart"](1,"div"),l["ɵɵtemplate"](2,wg,1,2,"ts-dynamic-column",1),l["ɵɵelementEnd"]()),2&e&&(l["ɵɵproperty"]("ngIf",t.formRow.rowSectionName),l["ɵɵadvance"](1),l["ɵɵstyleProp"]("display",t.expandRow?"none":"flex"),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngForOf",t.formRow.columns))},directives:[o.NgIf,o.NgForOf,B.lW,St.Hw,bg],styles:[".section-row[_ngcontent-%COMP%]{justify-content:space-between;display:flex}.section-row[_ngcontent-%COMP%]   .section-name[_ngcontent-%COMP%]{font-size:20px;color:#00b2f2}.column-flex[_ngcontent-%COMP%]{flex:1}"]}),e})();function xg(e,t){if(1&e&&l["ɵɵelement"](0,"ts-dynamic-row",5),2&e){const e=t.$implicit,n=l["ɵɵnextContext"](3);l["ɵɵproperty"]("dynamicForm",n.dynamicForm)("formRow",e)}}function Ig(e,t){if(1&e&&(l["ɵɵelementStart"](0,"form",3),l["ɵɵtemplate"](1,xg,1,2,"ts-dynamic-row",4),l["ɵɵelementEnd"]()),2&e){const e=l["ɵɵnextContext"](2);l["ɵɵproperty"]("formGroup",e.dynamicForm.formGroup),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngForOf",e.dynamicForm.rows)}}function Sg(e,t){if(1&e&&(l["ɵɵelementStart"](0,"div",1),l["ɵɵtemplate"](1,Ig,2,2,"form",2),l["ɵɵelementEnd"]()),2&e){const e=l["ɵɵnextContext"]();l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",e.dynamicForm.formGroup)}}let Mg=(()=>{class e{}return e.ɵfac=function(t){return new(t||e)},e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["ts-dynamic-form-grid"]],inputs:{dynamicForm:"dynamicForm"},decls:1,vars:1,consts:[["class","container-fluid",4,"ngIf"],[1,"container-fluid"],["novalidate","",3,"formGroup",4,"ngIf"],["novalidate","",3,"formGroup"],[3,"dynamicForm","formRow",4,"ngFor","ngForOf"],[3,"dynamicForm","formRow"]],template:function(e,t){1&e&&l["ɵɵtemplate"](0,Sg,2,1,"div",0),2&e&&l["ɵɵproperty"]("ngIf",t.dynamicForm)},directives:[o.NgIf,c._Y,c.JL,c.sg,o.NgForOf,_g],styles:[""]}),e})();function Dg(e,t){if(1&e&&l["ɵɵelement"](0,"ts-dynamic-form-grid",10),2&e){const e=l["ɵɵnextContext"](2);l["ɵɵproperty"]("dynamicForm",e.formDialog.dynamicForm)}}function Pg(e,t){if(1&e&&(l["ɵɵelementStart"](0,"button",11),l["ɵɵtext"](1),l["ɵɵpipe"](2,"translate"),l["ɵɵelementEnd"]()),2&e){const e=l["ɵɵnextContext"](2);l["ɵɵadvance"](1),l["ɵɵtextInterpolate1"](" ",l["ɵɵpipeBind1"](2,1,e.formDialog.cancelBtnTitle)," ")}}function Tg(e,t){if(1&e&&(l["ɵɵelementStart"](0,"button",12),l["ɵɵtext"](1),l["ɵɵpipe"](2,"translate"),l["ɵɵelementEnd"]()),2&e){const e=l["ɵɵnextContext"](2);l["ɵɵproperty"]("disabled",!e.isValid&&e.formDialog.useValidation)("mat-dialog-close",e.formDialog.dynamicForm),l["ɵɵadvance"](1),l["ɵɵtextInterpolate1"](" ",l["ɵɵpipeBind1"](2,3,e.formDialog.okBtnTitle)," ")}}function kg(e,t){if(1&e&&(l["ɵɵelementStart"](0,"div",1),l["ɵɵelementStart"](1,"div",2),l["ɵɵelementStart"](2,"span"),l["ɵɵtext"](3),l["ɵɵpipe"](4,"translate"),l["ɵɵelementEnd"](),l["ɵɵelementStart"](5,"button",3),l["ɵɵelement"](6,"mat-icon",4),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵelementStart"](7,"div",5),l["ɵɵtemplate"](8,Dg,1,1,"ts-dynamic-form-grid",6),l["ɵɵelementEnd"](),l["ɵɵelementStart"](9,"div",7),l["ɵɵtemplate"](10,Pg,3,3,"button",8),l["ɵɵtemplate"](11,Tg,3,5,"button",9),l["ɵɵelementEnd"](),l["ɵɵelementEnd"]()),2&e){const e=l["ɵɵnextContext"]();l["ɵɵadvance"](3),l["ɵɵtextInterpolate1"](" ",l["ɵɵpipeBind1"](4,4,e.formDialog.title)," "),l["ɵɵadvance"](5),l["ɵɵproperty"]("ngIf",e.formDialog.dynamicForm),l["ɵɵadvance"](2),l["ɵɵproperty"]("ngIf",e.formDialog.cancelBtnTitle),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",e.formDialog.okBtnTitle)}}let Eg=(()=>{class e{constructor(e){this.formDialog=e}get isValid(){return this.formDialog.dynamicForm.isValid}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](G.WI))},e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["ts-form-dialog"]],decls:1,vars:1,consts:[["class","form-dialog",4,"ngIf"],[1,"form-dialog"],["mat-dialog-title",""],["mat-icon-button","",1,"close-dialog",3,"mat-dialog-close"],["svgIcon","close",1,"close-button-icon"],["mat-dialog-content","",1,"dialog-content-wrapper"],[3,"dynamicForm",4,"ngIf"],["mat-dialog-actions","",1,"dialog-action-buttons"],["mat-button","","cdkFocusInitial","",3,"mat-dialog-close",4,"ngIf"],["mat-flat-button","","color","primary",3,"disabled","mat-dialog-close",4,"ngIf"],[3,"dynamicForm"],["mat-button","","cdkFocusInitial","",3,"mat-dialog-close"],["mat-flat-button","","color","primary",3,"disabled","mat-dialog-close"]],template:function(e,t){1&e&&l["ɵɵtemplate"](0,kg,12,6,"div",0),2&e&&l["ɵɵproperty"]("ngIf",t.formDialog)},directives:[o.NgIf,G.uh,B.lW,G.ZT,St.Hw,G.xY,G.H8,Mg],pipes:[u.X$],styles:[".form-dialog[_ngcontent-%COMP%]   .dialog-content-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;width:356px;height:100%;overflow:auto!important}[mat-dialog-actions][_ngcontent-%COMP%]{margin:0 0 9px!important;display:flex;flex-direction:row;justify-content:flex-end}[mat-dialog-actions][_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{background-color:transparent!important}"]}),e})();n(26544),n(21929),n(32633),n(7161),n(68358),n(40267),n(55837),n(40132),n(97715),n(50889),n(23274),n(73324),n(97947),n(50765),n(45204),n(85450),n(63067),n(7525),n(87878),n(75271),n(68259),n(66241),n(26384);var Ng=n(64210),Og=n(37432);function jg(e,t){if(1&e&&(l["ɵɵelementStart"](0,"div",3),l["ɵɵelement"](1,"ts-info-tooltip-icon",4),l["ɵɵelementEnd"]()),2&e){const e=l["ɵɵnextContext"]();l["ɵɵadvance"](1),l["ɵɵproperty"]("message",e.tooltipMessage)}}let Ag=(()=>{class e{constructor(e,t){this._translateService=e,this._changeDetector=t,this.tooltipKeys=["CodeMirror.HotkeysDescription","CodeMirror.SelectAll","CodeMirror.Undo","CodeMirror.Redo","CodeMirror.Find","CodeMirror.FindNext","CodeMirror.FindPrev","CodeMirror.Replace","CodeMirror.ReplaceAll","CodeMirror.DeleteLine","CodeMirror.GoLineStart","CodeMirror.GoLineEnd","CodeMirror.JmpToLine","CodeMirror.Fullscreen","CodeMirror.FullscreenExit","CodeMirror.Autocomplete"],this.readOnly=!1,this.hideTooltip=!1,this.textChange=new l.EventEmitter,this.isFullScreen=!1}get tooltipMessage(){return this.tooltipKeys.map((e=>this._translateService.instant(e))).join("\r\n")}set text(e){this.code=e,this.innerCode=e}get options(){return{autoCloseBrackets:!0,dragDrop:!0,autofocus:!1,readOnly:this.readOnly,lineWrapping:!0,lineNumbers:!0,theme:"neat",lint:!0,foldGutter:!0,indentWithTabs:!0,indentUnit:4,gutters:["CodeMirror-lint-markers","CodeMirror-linenumbers","CodeMirror-foldgutter"],mode:this.language,extraKeys:{F11:function(){this.changeFullScreenMode(!this.isFullScreen)}.bind(this),Esc:function(){this.changeFullScreenMode(!1)}.bind(this),"Ctrl-Space":"autocomplete"}}}changeFullScreenMode(e){this.isFullScreen=e,this._changeDetector.detectChanges()}onTextChange(e){e!==this.innerCode&&this.textChange.emit(e)}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](u.sK),l["ɵɵdirectiveInject"](l.ChangeDetectorRef))},e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["ts-code-editor"]],inputs:{language:"language",readOnly:"readOnly",hideTooltip:"hideTooltip",text:"text"},outputs:{textChange:"textChange"},decls:3,vars:4,consts:[["class","CodeMirror-hotkeys-tooltip-infoButton",4,"ngIf"],[3,"className"],[3,"ngModel","options","ngModelChange"],[1,"CodeMirror-hotkeys-tooltip-infoButton"],[1,"field-tooltip",3,"message"]],template:function(e,t){1&e&&(l["ɵɵtemplate"](0,jg,2,1,"div",0),l["ɵɵelementStart"](1,"div",1),l["ɵɵelementStart"](2,"ngx-codemirror",2),l["ɵɵlistener"]("ngModelChange",(function(e){return t.code=e}))("ngModelChange",(function(e){return t.onTextChange(e)})),l["ɵɵelementEnd"](),l["ɵɵelementEnd"]()),2&e&&(l["ɵɵproperty"]("ngIf",!t.hideTooltip),l["ɵɵadvance"](1),l["ɵɵproperty"]("className",t.isFullScreen?"CodeMirror-Wrapper-Full-Screen":"CodeMirror-Wrapper"),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngModel",t.code)("options",t.options))},directives:[o.NgIf,Og.C,c.JJ,c.On,an],styles:['.CodeMirror{font-family:monospace;height:300px;color:#000;direction:ltr}.CodeMirror-lines{padding:4px 0}.CodeMirror pre.CodeMirror-line,.CodeMirror pre.CodeMirror-line-like{padding:0 4px}.CodeMirror-gutter-filler,.CodeMirror-scrollbar-filler{background-color:#fff}.CodeMirror-gutters{border-right:1px solid #ddd;background-color:#f7f7f7;white-space:nowrap}.CodeMirror-linenumber{padding:0 3px 0 5px;min-width:20px;text-align:right;color:#999;white-space:nowrap}.CodeMirror-guttermarker{color:#000}.CodeMirror-guttermarker-subtle{color:#999}.CodeMirror-cursor{border-left:1px solid #000;border-right:none;width:0}.CodeMirror div.CodeMirror-secondarycursor{border-left:1px solid silver}.cm-fat-cursor .CodeMirror-cursor{width:auto;border:0!important;background:#7e7}.cm-fat-cursor div.CodeMirror-cursors{z-index:1}.cm-fat-cursor-mark{background-color:rgba(20,255,20,.5);animation:blink 1.06s steps(1) infinite}.cm-animate-fat-cursor{width:auto;border:0;animation:blink 1.06s steps(1) infinite;background-color:#7e7}@keyframes blink{50%{background-color:transparent}}.cm-tab{display:inline-block;text-decoration:inherit}.CodeMirror-rulers{position:absolute;left:0;right:0;top:-50px;bottom:0;overflow:hidden}.CodeMirror-ruler{border-left:1px solid #ccc;top:0;bottom:0;position:absolute}.cm-s-default .cm-header{color:blue}.cm-s-default .cm-quote{color:#090}.cm-negative{color:#d44}.cm-positive{color:#292}.cm-header,.cm-strong{font-weight:700}.cm-em{font-style:italic}.cm-link{text-decoration:underline}.cm-strikethrough{text-decoration:line-through}.cm-s-default .cm-keyword{color:#708}.cm-s-default .cm-atom{color:#219}.cm-s-default .cm-number{color:#164}.cm-s-default .cm-def{color:#00f}.cm-s-default .cm-variable-2{color:#05a}.cm-s-default .cm-type,.cm-s-default .cm-variable-3{color:#085}.cm-s-default .cm-comment{color:#a50}.cm-s-default .cm-string{color:#a11}.cm-s-default .cm-string-2{color:#f50}.cm-s-default .cm-meta,.cm-s-default .cm-qualifier{color:#555}.cm-s-default .cm-builtin{color:#30a}.cm-s-default .cm-bracket{color:#997}.cm-s-default .cm-tag{color:#170}.cm-s-default .cm-attribute{color:#00c}.cm-s-default .cm-hr{color:#999}.cm-s-default .cm-link{color:#00c}.cm-invalidchar,.cm-s-default .cm-error{color:red}.CodeMirror-composing{border-bottom:2px solid}div.CodeMirror span.CodeMirror-matchingbracket{color:#0b0}div.CodeMirror span.CodeMirror-nonmatchingbracket{color:#a22}.CodeMirror-matchingtag{background:rgba(255,150,0,.3)}.CodeMirror-activeline-background{background:#e8f2ff}.CodeMirror{position:relative;overflow:hidden;background:#fff}.CodeMirror-scroll{overflow:scroll!important;margin-bottom:-50px;margin-right:-50px;padding-bottom:50px;height:100%;outline:none;position:relative}.CodeMirror-sizer{position:relative;border-right:50px solid transparent}.CodeMirror-gutter-filler,.CodeMirror-hscrollbar,.CodeMirror-scrollbar-filler,.CodeMirror-vscrollbar{position:absolute;z-index:6;display:none;outline:none}.CodeMirror-vscrollbar{right:0;top:0;overflow-x:hidden;overflow-y:scroll}.CodeMirror-hscrollbar{bottom:0;left:0;overflow-y:hidden;overflow-x:scroll}.CodeMirror-scrollbar-filler{right:0;bottom:0}.CodeMirror-gutter-filler{left:0;bottom:0}.CodeMirror-gutters{position:absolute;left:0;top:0;min-height:100%;z-index:3}.CodeMirror-gutter{white-space:normal;height:100%;display:inline-block;vertical-align:top;margin-bottom:-50px}.CodeMirror-gutter-wrapper{position:absolute;z-index:4;background:none!important;border:none!important}.CodeMirror-gutter-background{position:absolute;top:0;bottom:0;z-index:4}.CodeMirror-gutter-elt{position:absolute;cursor:default;z-index:4}.CodeMirror-gutter-wrapper ::selection{background-color:transparent}.CodeMirror-gutter-wrapper ::-moz-selection{background-color:transparent}.CodeMirror-lines{cursor:text;min-height:1px}.CodeMirror pre.CodeMirror-line,.CodeMirror pre.CodeMirror-line-like{border-radius:0;border-width:0;background:transparent;font-family:inherit;font-size:inherit;margin:0;white-space:pre;word-wrap:normal;line-height:inherit;color:inherit;z-index:2;position:relative;overflow:visible;-webkit-tap-highlight-color:transparent;-webkit-font-variant-ligatures:contextual;font-feature-settings:"calt";font-variant-ligatures:contextual}.CodeMirror-wrap pre.CodeMirror-line,.CodeMirror-wrap pre.CodeMirror-line-like{word-wrap:break-word;white-space:pre-wrap;word-break:normal}.CodeMirror-linebackground{position:absolute;left:0;right:0;top:0;bottom:0;z-index:0}.CodeMirror-linewidget{position:relative;z-index:2;padding:.1px}.CodeMirror-rtl pre{direction:rtl}.CodeMirror-code{outline:none}.CodeMirror-gutter,.CodeMirror-gutters,.CodeMirror-linenumber,.CodeMirror-scroll,.CodeMirror-sizer{box-sizing:content-box}.CodeMirror-measure{position:absolute;width:100%;height:0;overflow:hidden;visibility:hidden}.CodeMirror-cursor{position:absolute;pointer-events:none}.CodeMirror-measure pre{position:static}div.CodeMirror-cursors{visibility:hidden;position:relative;z-index:3}.CodeMirror-focused div.CodeMirror-cursors,div.CodeMirror-dragcursors{visibility:visible}.CodeMirror-selected{background:#d9d9d9}.CodeMirror-focused .CodeMirror-selected{background:#d7d4f0}.CodeMirror-crosshair{cursor:crosshair}.CodeMirror-line::selection,.CodeMirror-line>span::selection,.CodeMirror-line>span>span::selection{background:#d7d4f0}.CodeMirror-line::-moz-selection,.CodeMirror-line>span::-moz-selection,.CodeMirror-line>span>span::-moz-selection{background:#d7d4f0}.cm-searching{background-color:#ffa;background-color:rgba(255,255,0,.4)}.cm-force-border{padding-right:.1px}@media print{.CodeMirror div.CodeMirror-cursors{visibility:hidden}}.cm-tab-wrap-hack:after{content:""}span.CodeMirror-selectedtext{background:none}.CodeMirror-lint-markers{width:16px}.CodeMirror-lint-tooltip{background-color:#ffd;border:1px solid #000;border-radius:4px 4px 4px 4px;color:#000;font-family:monospace;font-size:10pt;overflow:hidden;padding:2px 5px;position:fixed;white-space:pre;white-space:pre-wrap;z-index:100;max-width:600px;opacity:0;transition:opacity .4s;-moz-transition:opacity .4s;-webkit-transition:opacity .4s;-o-transition:opacity .4s;-ms-transition:opacity .4s}.CodeMirror-lint-mark{background-position:0 100%;background-repeat:repeat-x}.CodeMirror-lint-mark-warning{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAADCAYAAAC09K7GAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9sJFhQXEbhTg7YAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAAMklEQVQI12NkgIIvJ3QXMjAwdDN+OaEbysDA4MPAwNDNwMCwiOHLCd1zX07o6kBVGQEAKBANtobskNMAAAAASUVORK5CYII=")}.CodeMirror-lint-mark-error{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAADCAYAAAC09K7GAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9sJDw4cOCW1/KIAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAAHElEQVQI12NggIL/DAz/GdA5/xkY/qPKMDAwAADLZwf5rvm+LQAAAABJRU5ErkJggg==")}.CodeMirror-lint-marker{background-position:50%;background-repeat:no-repeat;cursor:pointer;display:inline-block;height:16px;width:16px;vertical-align:middle;position:relative}.CodeMirror-lint-message{padding-left:18px;background-position:0 0;background-repeat:no-repeat}.CodeMirror-lint-marker-warning,.CodeMirror-lint-message-warning{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAANlBMVEX/uwDvrwD/uwD/uwD/uwD/uwD/uwD/uwD/uwD6twD/uwAAAADurwD2tQD7uAD+ugAAAAD/uwDhmeTRAAAADHRSTlMJ8mN1EYcbmiixgACm7WbuAAAAVklEQVR42n3PUQqAIBBFUU1LLc3u/jdbOJoW1P08DA9Gba8+YWJ6gNJoNYIBzAA2chBth5kLmG9YUoG0NHAUwFXwO9LuBQL1giCQb8gC9Oro2vp5rncCIY8L8uEx5ZkAAAAASUVORK5CYII=")}.CodeMirror-lint-marker-error,.CodeMirror-lint-message-error{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAHlBMVEW7AAC7AACxAAC7AAC7AAAAAAC4AAC5AAD///+7AAAUdclpAAAABnRSTlMXnORSiwCK0ZKSAAAATUlEQVR42mWPOQ7AQAgDuQLx/z8csYRmPRIFIwRGnosRrpamvkKi0FTIiMASR3hhKW+hAN6/tIWhu9PDWiTGNEkTtIOucA5Oyr9ckPgAWm0GPBog6v4AAAAASUVORK5CYII=")}.CodeMirror-lint-marker-multiple{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAAHCAMAAADzjKfhAAAACVBMVEUAAAAAAAC/v7914kyHAAAAAXRSTlMAQObYZgAAACNJREFUeNo1ioEJAAAIwmz/H90iFFSGJgFMe3gaLZ0od+9/AQZ0ADosbYraAAAAAElFTkSuQmCC");background-repeat:no-repeat;background-position:100% 100%;width:100%;height:100%}.CodeMirror-lint-tooltip{z-index:900}.CodeMirror-hotkeys-tooltip-infoButton{position:fixed;z-index:99;padding-top:10px;right:25px}'],encapsulation:2}),e})(),Rg=(()=>{class e{}return e.ɵfac=function(t){return new(t||e)},e.ɵmod=l["ɵɵdefineNgModule"]({type:e}),e.ɵinj=l["ɵɵdefineInjector"]({providers:[u.sK],imports:[[Og.k,c.u5,o.CommonModule,pn,u.aw]]}),e})();("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](Rg,{declarations:[Ag],imports:[Og.k,c.u5,o.CommonModule,pn,u.aw],exports:[Ag]});let Fg=(()=>{class e{constructor(){this.readOnly=!1,this.textChange=new l.EventEmitter}}return e.ɵfac=function(t){return new(t||e)},e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["ts-code-editor"]],inputs:{language:"language",readOnly:"readOnly",text:"text"},outputs:{textChange:"textChange"},decls:1,vars:0,template:function(e,t){1&e&&l["ɵɵelement"](0,"div")},encapsulation:2}),e})(),Vg=(()=>{class e{}return e.ɵfac=function(t){return new(t||e)},e.ɵmod=l["ɵɵdefineNgModule"]({type:e}),e.ɵinj=l["ɵɵdefineInjector"]({imports:[[o.CommonModule]]}),e})();("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](Vg,{declarations:[Fg],imports:[o.CommonModule],exports:[Fg]}),window.JSHINT=Ng.JSHINT;let Lg=(()=>{class e{constructor(e){this._elRef=e,this.clickOutside=new l.EventEmitter}onOutsideClick(e){const t=e.target;this._elRef.nativeElement.contains(t)||this.clickOutside.emit()}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](l.ElementRef))},e.ɵdir=l["ɵɵdefineDirective"]({type:e,selectors:[["","crtClickOutside",""]],hostBindings:function(e,t){1&e&&l["ɵɵlistener"]("click",(function(e){return t.onOutsideClick(e)}),!1,l["ɵɵresolveDocument"])},outputs:{clickOutside:"crtClickOutside"}}),e})(),zg=(()=>{class e{constructor(){this.isRequired=!1}get ariaRequired(){return this.isRequired}}return e.ɵfac=function(t){return new(t||e)},e.ɵdir=l["ɵɵdefineDirective"]({type:e,selectors:[["","crtAriaRequired",""]],hostVars:1,hostBindings:function(e,t){2&e&&l["ɵɵattribute"]("aria-required",t.ariaRequired)},inputs:{isRequired:["crtAriaRequired","isRequired"]}}),e})();const Bg=e=>({provide:c.Cf,useExisting:e,multi:!0});let Gg=(()=>{class e{constructor(e){this.control=e}validate(e){return this._parentControl=e,null}ngDoCheck(){var e;this.control.touched&&this._parentControl?this._parentControl.markAsTouched():!(null===(e=this._parentControl)||void 0===e?void 0:e.touched)||this.control.touched?this.control.touched&&!this._parentControl&&this.control.markAsUntouched():this.control.markAsTouched()}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](c.NI))},e.ɵdir=l["ɵɵdefineDirective"]({type:e}),e})(),Hg=(()=>{class e{}return e.ɵfac=function(t){return new(t||e)},e.ɵmod=l["ɵɵdefineNgModule"]({type:e}),e.ɵinj=l["ɵɵdefineInjector"]({}),e})();("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](Hg,{declarations:[Gh],exports:[Gh]});let Ug=(()=>{class e{}return e.ɵfac=function(t){return new(t||e)},e.ɵmod=l["ɵɵdefineNgModule"]({type:e}),e.ɵinj=l["ɵɵdefineInjector"]({imports:[[o.CommonModule,c.u5,j.c,B.ot,St.Ps,Hg]]}),e})();("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](Ug,{declarations:[eg],imports:[o.CommonModule,c.u5,j.c,B.ot,St.Ps,Hg],exports:[eg]});let Zg=(()=>{class e{}return e.ɵfac=function(t){return new(t||e)},e.ɵmod=l["ɵɵdefineNgModule"]({type:e}),e.ɵinj=l["ɵɵdefineInjector"]({providers:[Uh],imports:[[o.CommonModule,c.u5,u.aw,j.c,B.ot,St.Ps,G.Is,Hg,ee]]}),e})();("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](Zg,{declarations:[Wh,Yh],imports:[o.CommonModule,c.u5,u.aw,j.c,B.ot,St.Ps,G.Is,Hg,ee],exports:[Yh]});let $g=(()=>{class e{}return e.ɵfac=function(t){return new(t||e)},e.ɵmod=l["ɵɵdefineNgModule"]({type:e}),e.ɵinj=l["ɵɵdefineInjector"]({imports:[[o.CommonModule,c.UX,c.u5,Hg,Zg,j.c,zt.LD,Zp.FA,R.XK,B.ot,Dt.AV,St.Ps,ce.p9,Ug,u.aw,O.Bb,pn],u.aw]}),e})();("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"]($g,{declarations:[Mg,bg,_g,fg],imports:[o.CommonModule,c.UX,c.u5,Hg,Zg,j.c,zt.LD,Zp.FA,R.XK,B.ot,Dt.AV,St.Ps,ce.p9,Ug,u.aw,O.Bb,pn],exports:[Mg,u.aw]});class Wg{static required(e){return t=>{const n=t.value;return(null==n?void 0:n.getValue(e))?null:{required:!0}}}static maxLength(e,t){return n=>{const i=n.value;return(null==i?void 0:i.getValue(e).length)>t?{maxlength:!0}:null}}}function qg(e,t){if(1&e&&l["ɵɵelement"](0,"mat-icon",10),2&e){const e=l["ɵɵnextContext"](2);l["ɵɵproperty"]("svgIcon",e.config.trigger.svgIconName)}}function Yg(e,t){if(1&e&&(l["ɵɵelementStart"](0,"span",11),l["ɵɵtext"](1),l["ɵɵelementEnd"]()),2&e){const e=l["ɵɵnextContext"](2);l["ɵɵadvance"](1),l["ɵɵtextInterpolate"](e.config.trigger.caption)}}function Jg(e,t){if(1&e&&(l["ɵɵelementStart"](0,"button",5),l["ɵɵtemplate"](1,qg,1,1,"mat-icon",6),l["ɵɵtemplate"](2,Yg,2,1,"span",7),l["ɵɵelementStart"](3,"div",8),l["ɵɵelement"](4,"div",9),l["ɵɵelementEnd"](),l["ɵɵelementEnd"]()),2&e){const e=l["ɵɵnextContext"](),t=l["ɵɵreference"](4);l["ɵɵproperty"]("matMenuTriggerFor",t)("disabled",e.config.trigger.disabled),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",e.config.trigger.svgIconName),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",e.config.trigger.caption)}}function Qg(e,t){if(1&e&&l["ɵɵelement"](0,"mat-divider"),2&e){const e=l["ɵɵnextContext"]().index;l["ɵɵstyleProp"]("visibility",0===e?"hidden":"visible")}}function Kg(e,t){if(1&e&&(l["ɵɵelementStart"](0,"div",15),l["ɵɵtext"](1),l["ɵɵelementEnd"]()),2&e){const e=l["ɵɵnextContext"]().$implicit;l["ɵɵadvance"](1),l["ɵɵtextInterpolate"](e.caption)}}function Xg(e,t){if(1&e&&l["ɵɵelement"](0,"mat-icon",23),2&e){const e=l["ɵɵnextContext"](3).$implicit;l["ɵɵproperty"]("svgIcon",e.svgIconName)}}function ef(e,t){if(1&e&&(l["ɵɵelementStart"](0,"span",21),l["ɵɵtemplate"](1,Xg,1,1,"mat-icon",22),l["ɵɵelementEnd"]()),2&e){const e=l["ɵɵnextContext"](2).$implicit;l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",e.svgIconName)}}const tf=function(e){return{"actions-menu-button-with-icon":e}};function nf(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵelementStart"](0,"div",16),l["ɵɵlistener"]("click",(function(t){l["ɵɵrestoreView"](e);const n=l["ɵɵnextContext"]().$implicit;return l["ɵɵnextContext"]().onMenuItemContainerClick(t,n)})),l["ɵɵelementStart"](1,"button",17),l["ɵɵlistener"]("click",(function(){l["ɵɵrestoreView"](e);const t=l["ɵɵnextContext"]().$implicit;return l["ɵɵnextContext"]().onMenuItemClick(t)})),l["ɵɵelementStart"](2,"div",18),l["ɵɵtemplate"](3,ef,2,1,"span",19),l["ɵɵelementStart"](4,"span",20),l["ɵɵtext"](5),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵelementEnd"]()}if(2&e){const e=l["ɵɵnextContext"]().$implicit,t=l["ɵɵnextContext"]();l["ɵɵadvance"](1),l["ɵɵproperty"]("disabled",t.isMenuItemDisabled(e))("ngClass",l["ɵɵpureFunction1"](4,tf,t.hasIcons())),l["ɵɵadvance"](2),l["ɵɵproperty"]("ngIf",t.hasIcons()),l["ɵɵadvance"](2),l["ɵɵtextInterpolate"](e.caption)}}function rf(e,t){if(1&e&&(l["ɵɵelementContainerStart"](0),l["ɵɵtemplate"](1,Qg,1,2,"mat-divider",12),l["ɵɵtemplate"](2,Kg,2,1,"div",13),l["ɵɵtemplate"](3,nf,6,6,"ng-template",null,14,l["ɵɵtemplateRefExtractor"]),l["ɵɵelementContainerEnd"]()),2&e){const e=t.$implicit,n=l["ɵɵreference"](4),i=l["ɵɵnextContext"]();l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",e.code===i.dividerItemCode)("ngIfElse",n),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",e.code===i.dividerItemCode&&e.caption)}}const af=["*"],of={code:"__divider",caption:null};Object.freeze(of);let sf=(()=>{class e{constructor(){this.menuItemClick=new l.EventEmitter}}return e.ɵfac=function(t){return new(t||e)},e.ɵdir=l["ɵɵdefineDirective"]({type:e,outputs:{menuItemClick:"menuItemClick"}}),e})(),lf=(()=>{class e extends sf{constructor(){super(...arguments),this.dividerItemCode=of.code}isMenuItemDisabled(e){return!0===e.disabled}onMenuItemClick(e){e.handler&&e.handler(),this.menuItemClick.emit(e.code)}onMenuItemContainerClick(e,t){this.isMenuItemDisabled(t)&&e.stopPropagation()}hasIcons(){return this.config.menuItems.some((e=>e.svgIconName))}trackByCode(e,t){return t.code}getVisibleMenuItems(){var e,t,n;return null!==(n=null===(t=null===(e=this.config)||void 0===e?void 0:e.menuItems)||void 0===t?void 0:t.filter((e=>!e.hidden)))&&void 0!==n?n:[]}}return e.ɵfac=function(){let t;return function(n){return(t||(t=l["ɵɵgetInheritedFactory"](e)))(n||e)}}(),e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["ts-actions-menu"]],inputs:{config:"config"},features:[l["ɵɵInheritDefinitionFeature"]],ngContentSelectors:af,decls:6,vars:7,consts:[[1,"actions-menu-trigger-wrapper",3,"matMenuTriggerFor"],["mat-button","","class","actions-menu-trigger default",3,"matMenuTriggerFor","disabled",4,"ngIf"],[1,"actions-menu-panel",3,"overlapTrigger"],["menu","matMenu"],[4,"ngFor","ngForOf","ngForTrackBy"],["mat-button","",1,"actions-menu-trigger","default",3,"matMenuTriggerFor","disabled"],["class","actions-menu-trigger-icon",3,"svgIcon",4,"ngIf"],["class","actions-menu-trigger-caption",4,"ngIf"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],[1,"actions-menu-trigger-icon",3,"svgIcon"],[1,"actions-menu-trigger-caption"],[3,"visibility",4,"ngIf","ngIfElse"],["class","menu-divider-caption",4,"ngIf"],["menuItem",""],[1,"menu-divider-caption"],[3,"click"],["mat-menu-item","",3,"disabled","ngClass","click"],[1,"actions-menu-item-button-content"],["class","actions-menu-item-icon-wrapper",4,"ngIf"],[1,"actions-menu-item-text"],[1,"actions-menu-item-icon-wrapper"],[3,"svgIcon",4,"ngIf"],[3,"svgIcon"]],template:function(e,t){if(1&e&&(l["ɵɵprojectionDef"](),l["ɵɵelementStart"](0,"div",0),l["ɵɵprojection"](1),l["ɵɵelementEnd"](),l["ɵɵtemplate"](2,Jg,5,4,"button",1),l["ɵɵelementStart"](3,"mat-menu",2,3),l["ɵɵtemplate"](5,rf,5,3,"ng-container",4),l["ɵɵelementEnd"]()),2&e){const e=l["ɵɵreference"](4);l["ɵɵproperty"]("matMenuTriggerFor",e),l["ɵɵadvance"](2),l["ɵɵproperty"]("ngIf",null==t.config?null:t.config.trigger),l["ɵɵadvance"](1),l["ɵɵclassMap"](null==t.config?null:t.config.cssClasses),l["ɵɵproperty"]("overlapTrigger",null==t.config?null:t.config.overlapTrigger),l["ɵɵadvance"](2),l["ɵɵproperty"]("ngForOf",t.getVisibleMenuItems())("ngForTrackBy",t.trackByCode)}},directives:[$p.p6,o.NgIf,$p.VK,o.NgForOf,B.lW,St.Hw,Lt.d,$p.OP,o.NgClass],styles:["ts-actions-menu .actions-menu-trigger-wrapper{display:flex;align-items:center}.mat-menu-content .menu-divider-caption{padding:0 16px;text-transform:uppercase;font-size:14px;color:#4b7fc7;height:33px;line-height:33px}.actions-menu-panel{max-width:500px!important}.actions-menu-panel button.mat-menu-item{height:33px!important;line-height:33px!important;padding-right:30px}.actions-menu-panel button.mat-menu-item.actions-menu-button-with-icon{padding-left:12px!important}.actions-menu-panel button.mat-menu-item .actions-menu-item-button-content{display:flex;flex-direction:row;align-items:center}.actions-menu-panel button.mat-menu-item .actions-menu-item-button-content .actions-menu-item-icon-wrapper{width:16px;height:16px;padding-right:8px;line-height:16px}.actions-menu-panel button.mat-menu-item .actions-menu-item-button-content .actions-menu-item-icon-wrapper mat-icon{width:16px;height:16px;margin:0!important}.actions-menu-panel mat-divider{margin:5px 12px}"],encapsulation:2}),e})();const cf=function(e,t,n){return{menuItems:e,overlapTrigger:t,cssClasses:n}};let df=(()=>{class e extends sf{constructor(e,t){super(),this._matIconRegistry=e,this._domSanitizer=t,this.menuItems=[],this.cssClasses="",this.overlapTrigger=!0,this._registerIcons()}_registerIcons(){this._matIconRegistry.addSvgIconLiteral("vertical-dots",this._domSanitizer.bypassSecurityTrustHtml(n(53409)))}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](St.jv),l["ɵɵdirectiveInject"](i.DomSanitizer))},e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["ts-compact-actions-menu"]],inputs:{menuItems:"menuItems",cssClasses:"cssClasses",overlapTrigger:"overlapTrigger"},features:[l["ɵɵInheritDefinitionFeature"]],decls:2,vars:5,consts:[[3,"config","menuItemClick"],["svgIcon","vertical-dots"]],template:function(e,t){1&e&&(l["ɵɵelementStart"](0,"ts-actions-menu",0),l["ɵɵlistener"]("menuItemClick",(function(e){return t.menuItemClick.emit(e)})),l["ɵɵelement"](1,"mat-icon",1),l["ɵɵelementEnd"]()),2&e&&l["ɵɵproperty"]("config",l["ɵɵpureFunction3"](1,cf,t.menuItems,t.overlapTrigger,t.cssClasses))},directives:[lf,St.Hw],styles:["[_nghost-%COMP%]{display:block}mat-icon[_ngcontent-%COMP%]{width:16px;height:16px;cursor:pointer}"]}),e})();function uf(e,t){if(1&e&&(l["ɵɵelementStart"](0,"a",6),l["ɵɵtext"](1),l["ɵɵelementEnd"]()),2&e){const e=t.$implicit,n=l["ɵɵnextContext"](2).$implicit,i=l["ɵɵnextContext"]();l["ɵɵproperty"]("routerLink",e),l["ɵɵadvance"](1),l["ɵɵtextInterpolate"](i.formatTextValue(n,i.columnDataSchema.valueType))}}function pf(e,t){if(1&e&&(l["ɵɵelementStart"](0,"span"),l["ɵɵtext"](1),l["ɵɵelementEnd"]()),2&e){const e=l["ɵɵnextContext"](2).$implicit,t=l["ɵɵnextContext"]();l["ɵɵadvance"](1),l["ɵɵtextInterpolate"](t.formatTextValue(e,t.columnDataSchema.valueType))}}function mf(e,t){if(1&e&&(l["ɵɵelementContainerStart"](0),l["ɵɵtemplate"](1,uf,2,2,"a",4),l["ɵɵtemplate"](2,pf,2,1,"ng-template",null,5,l["ɵɵtemplateRefExtractor"]),l["ɵɵelementContainerEnd"]()),2&e){const e=l["ɵɵreference"](3),t=l["ɵɵnextContext"](2);l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",t.columnDataSchema.linkGenerator&&t.columnDataSchema.linkGenerator(t.record))("ngIfElse",e)}}function hf(e,t){if(1&e&&(l["ɵɵelementStart"](0,"div",1),l["ɵɵelement"](1,"span",2),l["ɵɵtemplate"](2,mf,4,2,"ng-container",3),l["ɵɵelementEnd"]()),2&e){const e=l["ɵɵnextContext"]();l["ɵɵadvance"](2),l["ɵɵproperty"]("ngIf",e.isDisplayedAsText())}}let gf=(()=>{class e extends Em{getValue(){if(!this.isDisplayedAsText())throw new r.ArgumentOutOfRangeException("Only text columns can be displayed via NamedFolderTableCellComponent.");return super.getValue()}}return e.ɵfac=function(){let t;return function(n){return(t||(t=l["ɵɵgetInheritedFactory"](e)))(n||e)}}(),e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["ts-named-folder-table-cell"]],features:[l["ɵɵInheritDefinitionFeature"]],decls:1,vars:1,consts:[["class","named-folder-cell-wrapper",4,"ngIf"],[1,"named-folder-cell-wrapper"],[1,"folder-icon"],[4,"ngIf"],[3,"routerLink",4,"ngIf","ngIfElse"],["elseBlock",""],[3,"routerLink"]],template:function(e,t){1&e&&l["ɵɵtemplate"](0,hf,3,1,"div",0),2&e&&l["ɵɵproperty"]("ngIf",!t.isEmpty()&&t.getValue())},directives:[o.NgIf,Wp.yS],styles:[".named-folder-cell-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center}.named-folder-cell-wrapper[_ngcontent-%COMP%]   .folder-icon[_ngcontent-%COMP%]{display:inline-block;width:16px;height:16px;margin-right:8px;background:url(folder-icon.svg) no-repeat}"]}),e})();var ff=n(44125);class vf{constructor(e,t){this._value=e,this._property=t}get property(){return this._property}get value(){return this._value}canMatchItem(e){if(!e)return!1;const t=e[this.property],n=null!=t,i=typeof t===this._value.constructor.name.toLowerCase();return n&&i}isItemMatch(e){return this.canMatchItem(e)&&this.isValueMatch(e[this.property])}}let bf=(()=>{class e extends vf{constructor(t,n){super(t,n||e.DEFAULT_PROPERTY)}isValueMatch(e){const t=e.toLowerCase(),n=this.value.toLowerCase(),i=(0,ff.Z)(t.split(" "));return(0,ff.Z)(n.split(" ")).every((e=>i.find((t=>t.includes(e)))))}}return e.DEFAULT_PROPERTY="caption",e})();class Cf extends vf{isValueMatch(e){return e===this.value}}let yf=(()=>{class e{_isFilterNotFalsy(e){return e&&null!==e.value&&void 0!==e.value}transform(e,t){if(!e)return[];if(!t)return e;let n=[...e];return t.filter(this._isFilterNotFalsy).forEach((e=>{n=n.filter((t=>e.isItemMatch(t)))})),n}}return e.ɵfac=function(t){return new(t||e)},e.ɵpipe=l["ɵɵdefinePipe"]({name:"filter",type:e,pure:!0}),e})();function wf(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵelementStart"](0,"button",9),l["ɵɵlistener"]("click",(function(){l["ɵɵrestoreView"](e);return l["ɵɵnextContext"]().filteringValue=""})),l["ɵɵelement"](1,"mat-icon",10),l["ɵɵpipe"](2,"async"),l["ɵɵelementEnd"]()}if(2&e){const e=l["ɵɵnextContext"]();let t;l["ɵɵadvance"](1),l["ɵɵproperty"]("title",null==(t=l["ɵɵpipeBind1"](2,1,e.localizableStrings$))?null:t.ClearButtonTitle)}}function _f(e,t){1&e&&l["ɵɵelement"](0,"mat-icon",11)}function xf(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵelementStart"](0,"mat-list-item",16),l["ɵɵlistener"]("click",(function(){const t=l["ɵɵrestoreView"](e).$implicit;return l["ɵɵnextContext"](3).onItemSelected(t)})),l["ɵɵelementStart"](1,"button",17),l["ɵɵlistener"]("click",(function(t){const n=l["ɵɵrestoreView"](e).$implicit;return l["ɵɵnextContext"](3).toggleFavorite(n,t)})),l["ɵɵpipe"](2,"async"),l["ɵɵpipe"](3,"async"),l["ɵɵelementEnd"](),l["ɵɵelementStart"](4,"div",18),l["ɵɵtext"](5),l["ɵɵelementEnd"](),l["ɵɵelementEnd"]()}if(2&e){const e=t.$implicit,n=l["ɵɵnextContext"](3);let i;l["ɵɵclassProp"]("active",e.isActive),l["ɵɵattribute"]("data-qa",e.caption),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngClass",e.isFavorite?n.favoriteCssClass:n.regularCssClass)("title",e.isFavorite?null==(i=l["ɵɵpipeBind1"](2,6,n.localizableStrings$))?null:i.RemoveFromFavoriteButtonTitle:null==(i=l["ɵɵpipeBind1"](3,8,n.localizableStrings$))?null:i.AddToFavoriteButtonTitle),l["ɵɵadvance"](4),l["ɵɵtextInterpolate1"](" ",e.caption," ")}}function If(e,t){if(1&e&&(l["ɵɵelementStart"](0,"div",14),l["ɵɵtemplate"](1,xf,6,10,"mat-list-item",15),l["ɵɵelementEnd"]()),2&e){const e=l["ɵɵnextContext"]().ngIf;l["ɵɵadvance"](1),l["ɵɵproperty"]("ngForOf",e)}}function Sf(e,t){if(1&e&&(l["ɵɵelementStart"](0,"div",19),l["ɵɵelement"](1,"div",20),l["ɵɵelementStart"](2,"div",21),l["ɵɵtext"](3),l["ɵɵpipe"](4,"async"),l["ɵɵelementEnd"](),l["ɵɵelementEnd"]()),2&e){const e=l["ɵɵnextContext"](2);let t;l["ɵɵadvance"](3),l["ɵɵtextInterpolate"](null==(t=l["ɵɵpipeBind1"](4,1,e.localizableStrings$))?null:t.NoDataPlaceholder)}}function Mf(e,t){if(1&e&&(l["ɵɵelementStart"](0,"mat-action-list"),l["ɵɵtemplate"](1,If,2,1,"div",12),l["ɵɵtemplate"](2,Sf,5,3,"ng-template",null,13,l["ɵɵtemplateRefExtractor"]),l["ɵɵelementEnd"]()),2&e){const e=t.ngIf,n=l["ɵɵreference"](3);l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",e.length>0)("ngIfElse",n)}}let Df=class extends Us{constructor(e,t,n){super(n),this._resourcesService=e,this._changeDetector=t,this._filters=[],this.regularCssClass="regular",this.favoriteCssClass="favorite",this.filteringValue="",this.displayOnlyFavorites=!1,this.items=[],this.itemSelected=new l.EventEmitter,this.favoriteStateChanged=new l.EventEmitter}get _searchFilter(){return new bf(this.filteringValue)}get _favoritesFilter(){return new Cf(this.displayOnlyFavorites,"isFavorite")}get filters(){return this._filters=[this._searchFilter],this.displayOnlyFavorites&&this._filters.push(this._favoritesFilter),this._filters}get localizableStrings$(){return this._resources$.pipe((0,g.U)((e=>e.localizableStrings)))}ngOnInit(){this._resources$=this._resourcesService.getResources()}onItemSelected(e){const t={id:e.id};this.itemSelected.emit(t)}toggleFavorite(e,t){t.stopPropagation();const{id:n,isFavorite:i}=e,r={id:n,isFavorite:!i};this.favoriteStateChanged.emit(r)}onFilteringValueChanged(e){this.filteringValue=e,this._changeDetector.detectChanges()}toggleDisplayOnlyFavorites(){this.displayOnlyFavorites=!this.displayOnlyFavorites,this._changeDetector.detectChanges()}};Df.ɵfac=function(e){return new(e||Df)(l["ɵɵdirectiveInject"](Hm),l["ɵɵdirectiveInject"](l.ChangeDetectorRef),l["ɵɵdirectiveInject"](l.Injector))},Df.ɵcmp=l["ɵɵdefineComponent"]({type:Df,selectors:[["ts-filterable-list"]],inputs:{items:"items"},outputs:{itemSelected:"itemSelected",favoriteStateChanged:"favoriteStateChanged"},features:[l["ɵɵInheritDefinitionFeature"]],decls:14,vars:17,consts:[[1,"filterable-list-container",3,"ngStyle","ngClass"],[1,"filter-input-container"],[1,"display-only-favorites-button-container"],["mat-icon-button","","data-qa","filter-favorite-btn",3,"ngClass","title","click"],["floatLabel","never"],["matInput","","type","text","spellcheck","false","autocomplete","off","data-qa","search-input",3,"value","placeholder","input"],["matSuffix","","mat-icon-button","","aria-label","Clear","data-qa","clear-filter-btn",3,"click",4,"ngIf","ngIfElse"],["searchIcon",""],[4,"ngIf"],["matSuffix","","mat-icon-button","","aria-label","Clear","data-qa","clear-filter-btn",3,"click"],["matSuffix","",1,"clear-icon",3,"title"],["matSuffix","",1,"search-icon"],["class","items-list",4,"ngIf","ngIfElse"],["noData",""],[1,"items-list"],["disableRipple","",3,"active","click",4,"ngFor","ngForOf"],["disableRipple","",3,"click"],["mat-icon-button","","data-qa","favorite-btn",3,"ngClass","title","click"],[1,"item-caption"],["data-qa","blank-slate",1,"blank-slate"],["data-qa","blank-slate-icon",1,"icon"],["data-qa","blank-slate-label",1,"label"]],template:function(e,t){if(1&e&&(l["ɵɵelementStart"](0,"div",0),l["ɵɵelementStart"](1,"div"),l["ɵɵelementStart"](2,"div",1),l["ɵɵelementStart"](3,"div",2),l["ɵɵelementStart"](4,"button",3),l["ɵɵlistener"]("click",(function(){return t.toggleDisplayOnlyFavorites()})),l["ɵɵpipe"](5,"async"),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵelementStart"](6,"mat-form-field",4),l["ɵɵelementStart"](7,"input",5),l["ɵɵlistener"]("input",(function(e){return t.onFilteringValueChanged(e.target.value)})),l["ɵɵpipe"](8,"async"),l["ɵɵelementEnd"](),l["ɵɵtemplate"](9,wf,3,3,"button",6),l["ɵɵtemplate"](10,_f,1,0,"ng-template",null,7,l["ɵɵtemplateRefExtractor"]),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵtemplate"](12,Mf,4,2,"mat-action-list",8),l["ɵɵpipe"](13,"filter"),l["ɵɵelementEnd"]()),2&e){const e=l["ɵɵreference"](11);let n,i;l["ɵɵproperty"]("ngStyle",t.styles)("ngClass",t.classes),l["ɵɵattribute"]("id",t.id),l["ɵɵadvance"](4),l["ɵɵproperty"]("ngClass",t.displayOnlyFavorites?t.favoriteCssClass:t.regularCssClass)("title",null==(n=l["ɵɵpipeBind1"](5,10,t.localizableStrings$))?null:n.FilterFavoriteTitle),l["ɵɵadvance"](3),l["ɵɵproperty"]("value",t.filteringValue)("placeholder",null==(i=l["ɵɵpipeBind1"](8,12,t.localizableStrings$))?null:i.SearchPlaceholder),l["ɵɵadvance"](2),l["ɵɵproperty"]("ngIf",t.filteringValue)("ngIfElse",e),l["ɵɵadvance"](3),l["ɵɵproperty"]("ngIf",l["ɵɵpipeBind2"](13,14,t.items,t.filters))}},directives:[o.NgStyle,o.NgClass,B.lW,x.KE,j.Nt,o.NgIf,x.R9,St.Hw,ue.i$,o.NgForOf,ue.Tg],pipes:[o.AsyncPipe,yf],styles:[".filterable-list-container{display:flex;flex-direction:column;height:100%;min-height:inherit;max-height:inherit}.filterable-list-container .display-only-favorites-button-container .mat-icon-button{height:32px;width:32px}.filterable-list-container .items-list{margin-top:8px}.filterable-list-container .blank-slate{display:flex;flex-direction:column;align-items:center}.filterable-list-container .blank-slate .label{color:#757575;font-size:12px;font-family:Open Sans,Regular,sans-serif;margin-top:16px}.filterable-list-container .blank-slate .icon{width:100px;height:104px;margin-top:24px;background:no-repeat url(data:image/svg+xml;base64,PHN2ZyBpZD0iaWNvbl9zZWFyY2hfYmlnIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDAiIGhlaWdodD0iMTA0IiB2aWV3Qm94PSIwIDAgMTAwIDEwNCI+DQogIDxnIGlkPSJQYXRoXzc0NTciIGRhdGEtbmFtZT0iUGF0aCA3NDU3IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcxNC44MTggLTY0OS41MTIpIiBmaWxsPSJyZ2JhKDEwMCwxODQsMjIzLDAuMSkiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCI+DQogICAgPHBhdGggZD0iTSAxNzE4LjYwMTY4NDU3MDMxMyA3NTIuNTA1ODU5Mzc1IEMgMTcyMS41NjE2NDU1MDc4MTMgNzUwLjM3MDQyMjM2MzI4MTMgMTcyNC4zMTk3MDIxNDg0MzggNzQ3LjEzMzIzOTc0NjA5MzggMTcyNi44MzQ1OTQ3MjY1NjMgNzQyLjgzNTgxNTQyOTY4NzUgQyAxNzI5LjQyMTI2NDY0ODQzOCA3MzguNDE1NTg4Mzc4OTA2MyAxNzMwLjc1NTM3MTA5Mzc1IDczNC41MjIwMzM2OTE0MDYzIDE3MzAuODEwOTEzMDg1OTM4IDczNC4zNTgzOTg0Mzc1IEwgMTczMS4wMDY1OTE3OTY4NzUgNzMzLjc4MTkyMTM4NjcxODggTCAxNzMwLjU4NDM1MDU4NTkzOCA3MzMuMzQzMzIyNzUzOTA2MyBDIDE3MjYuMjg1NTIyNDYwOTM4IDcyOC44NzkzMzM0OTYwOTM4IDE3MjIuOTE0MzA2NjQwNjI1IDcyMy43MTg5MzMxMDU0Njg4IDE3MjAuNTY0MzMxMDU0Njg4IDcxOC4wMDUzNzEwOTM3NSBDIDE3MTguMTI5NTE2NjAxNTYzIDcxMi4wODU1NzEyODkwNjI1IDE3MTYuODk1MDE5NTMxMjUgNzA1LjgwNzY3ODIyMjY1NjMgMTcxNi44OTUwMTk1MzEyNSA2OTkuMzQ2MDA4MzAwNzgxMyBDIDE3MTYuODk1MDE5NTMxMjUgNjkyLjc1MTk1MzEyNSAxNzE4LjE3NjUxMzY3MTg3NSA2ODYuMzU1NzczOTI1NzgxMyAxNzIwLjcwMzczNTM1MTU2MyA2ODAuMzM1MjY2MTEzMjgxMyBDIDE3MjMuMTQ0ODk3NDYwOTM4IDY3NC41MTk5NTg0OTYwOTM4IDE3MjYuNjM5NzcwNTA3ODEzIDY2OS4yOTczMDIyNDYwOTM4IDE3MzEuMDkxMTg2NTIzNDM4IDY2NC44MTIzMTY4OTQ1MzEzIEMgMTczNS41NDIxMTQyNTc4MTMgNjYwLjMyNzgxOTgyNDIxODggMTc0MC43MjQ4NTM1MTU2MjUgNjU2LjgwNzEyODkwNjI1IDE3NDYuNDk1MzYxMzI4MTI1IDY1NC4zNDgwODM0OTYwOTM4IEMgMTc1Mi40Njg3NSA2NTEuODAyNjczMzM5ODQzOCAxNzU4LjgxNDY5NzI2NTYyNSA2NTAuNTEyMDIzOTI1NzgxMyAxNzY1LjM1NzA1NTY2NDA2MyA2NTAuNTEyMDIzOTI1NzgxMyBDIDE3NzEuODk5MTY5OTIxODc1IDY1MC41MTIwMjM5MjU3ODEzIDE3NzguMjQ0ODczMDQ2ODc1IDY1MS44MDI2NzMzMzk4NDM4IDE3ODQuMjE4MjYxNzE4NzUgNjU0LjM0ODA4MzQ5NjA5MzggQyAxNzg5Ljk4ODc2OTUzMTI1IDY1Ni44MDcxMjg5MDYyNSAxNzk1LjE3MTUwODc4OTA2MyA2NjAuMzI3ODE5ODI0MjE4OCAxNzk5LjYyMjU1ODU5Mzc1IDY2NC44MTIzMTY4OTQ1MzEzIEMgMTgwNC4wNzM5NzQ2MDkzNzUgNjY5LjI5NzM2MzI4MTI1IDE4MDcuNTY4ODQ3NjU2MjUgNjc0LjUyMDAxOTUzMTI1IDE4MTAuMDEwMTMxODM1OTM4IDY4MC4zMzUyNjYxMTMyODEzIEMgMTgxMi41Mzc0NzU1ODU5MzggNjg2LjM1NTgzNDk2MDkzNzUgMTgxMy44MTg5Njk3MjY1NjMgNjkyLjc1MTk1MzEyNSAxODEzLjgxODk2OTcyNjU2MyA2OTkuMzQ2MDA4MzAwNzgxMyBDIDE4MTMuODE4OTY5NzI2NTYzIDcwNS45Mzk4MTkzMzU5Mzc1IDE4MTIuNTM3NDc1NTg1OTM4IDcxMi4zMzU3NTQzOTQ1MzEzIDE4MTAuMDEwMTMxODM1OTM4IDcxOC4zNTYxNDAxMzY3MTg4IEMgMTgwNy41Njg4NDc2NTYyNSA3MjQuMTcxMjY0NjQ4NDM3NSAxODA0LjA3Mzk3NDYwOTM3NSA3MjkuMzkzODU5ODYzMjgxMyAxNzk5LjYyMjU1ODU5Mzc1IDczMy44Nzg3ODQxNzk2ODc1IEMgMTc5NS4xNzE1MDg3ODkwNjMgNzM4LjM2MzI4MTI1IDE3ODkuOTg4NzY5NTMxMjUgNzQxLjg4MzkxMTEzMjgxMjUgMTc4NC4yMTgyNjE3MTg3NSA3NDQuMzQyOTU2NTQyOTY4OCBDIDE3NzguMjQ0ODczMDQ2ODc1IDc0Ni44ODgzNjY2OTkyMTg4IDE3NzEuODk5MDQ3ODUxNTYzIDc0OC4xNzkwMTYxMTMyODEzIDE3NjUuMzU3MDU1NjY0MDYzIDc0OC4xNzkwMTYxMTMyODEzIEMgMTc1OS42MDc1NDM5NDUzMTMgNzQ4LjE3OTAxNjExMzI4MTMgMTc1My45Nzk4NTgzOTg0MzggNzQ3LjE3MzUyMjk0OTIxODggMTc0OC42MzA2MTUyMzQzNzUgNzQ1LjE5MDM2ODY1MjM0MzggTCAxNzQ4LjA3MDQzNDU3MDMxMyA3NDQuOTgyNjY2MDE1NjI1IEwgMTc0Ny42MjIwNzAzMTI1IDc0NS4zNzc1MDI0NDE0MDYzIEMgMTc0Ny4yODQ3OTAwMzkwNjMgNzQ1LjY3NDQ5OTUxMTcxODggMTc0Ni45NDcxNDM1NTQ2ODggNzQ1LjkyMTgxMzk2NDg0MzggMTc0Ni41NTkzMjYxNzE4NzUgNzQ2LjE1NTgyMjc1MzkwNjMgQyAxNzM3LjA4NTQ0OTIxODc1IDc1MS44ODMxNzg3MTA5Mzc1IDE3MjkuNjYxNzQzMTY0MDYzIDc1Mi40NDk4MjkxMDE1NjI1IDE3MTguNjAxNjg0NTcwMzEzIDc1Mi41MDU4NTkzNzUgWiIgc3Ryb2tlPSJub25lIi8+DQogICAgPHBhdGggZD0iTSAxNzY1LjM1NzA1NTY2NDA2MyA2NTEuNTEyMDIzOTI1NzgxMyBDIDE3NTguOTUwMTk1MzEyNSA2NTEuNTEyMDIzOTI1NzgxMyAxNzUyLjczNjIwNjA1NDY4OCA2NTIuNzc1NzU2ODM1OTM3NSAxNzQ2Ljg4NzQ1MTE3MTg3NSA2NTUuMjY4MDY2NDA2MjUgQyAxNzQxLjIzNjIwNjA1NDY4OCA2NTcuNjc2MjA4NDk2MDkzOCAxNzM2LjE2MDQwMDM5MDYyNSA2NjEuMTI0Mzg5NjQ4NDM3NSAxNzMxLjgwMDkwMzMyMDMxMyA2NjUuNTE2Nzg0NjY3OTY4OCBDIDE3MjcuNDQwNDI5Njg3NSA2NjkuOTEwMTU2MjUgMTcyNC4wMTY5Njc3NzM0MzggNjc1LjAyNjA2MjAxMTcxODggMTcyMS42MjU4NTQ0OTIxODggNjgwLjcyMjI5MDAzOTA2MjUgQyAxNzE5LjE1MDI2ODU1NDY4OCA2ODYuNjE5NjI4OTA2MjUgMTcxNy44OTUwMTk1MzEyNSA2OTIuODg1NTU5MDgyMDMxMyAxNzE3Ljg5NTAxOTUzMTI1IDY5OS4zNDYwMDgzMDA3ODEzIEMgMTcxNy44OTUwMTk1MzEyNSA3MDUuNjc2NTEzNjcxODc1IDE3MTkuMTA0MjQ4MDQ2ODc1IDcxMS44MjY0NzcwNTA3ODEzIDE3MjEuNDg5MTM1NzQyMTg4IDcxNy42MjUgQyAxNzIzLjc5MTAxNTYyNSA3MjMuMjIxNjc5Njg3NSAxNzI3LjA5MzM4Mzc4OTA2MyA3MjguMjc2NjcyMzYzMjgxMyAxNzMxLjMwNDU2NTQyOTY4OCA3MzIuNjQ5NjU4MjAzMTI1IEwgMTczMi4xNDkyOTE5OTIxODggNzMzLjUyNjc5NDQzMzU5MzggTCAxNzMxLjc1NzgxMjUgNzM0LjY3OTg3MDYwNTQ2ODggQyAxNzMxLjU3OTIyMzYzMjgxMyA3MzUuMjA2MDU0Njg3NSAxNzI4LjEyNDc1NTg1OTM3NSA3NDUuMTg4OTY0ODQzNzUgMTcyMS4zOTczMzg4NjcxODggNzUxLjQ3NjY4NDU3MDMxMjUgQyAxNzI1LjExMzY0NzQ2MDkzOCA3NTEuNDEyNTk3NjU2MjUgMTcyOC40MDk1NDU4OTg0MzggNzUxLjIzMjIzODc2OTUzMTMgMTczMS41NzE0MTExMzI4MTMgNzUwLjcyNDc5MjQ4MDQ2ODggQyAxNzM2Ljc0NzMxNDQ1MzEyNSA3NDkuODk0MTA0MDAzOTA2MyAxNzQxLjIwOTk2MDkzNzUgNzQ4LjIyMTE5MTQwNjI1IDE3NDYuMDQyNjAyNTM5MDYzIDc0NS4yOTk2ODI2MTcxODc1IEMgMTc0Ni4zNzgwNTE3NTc4MTMgNzQ1LjA5NzI5MDAzOTA2MjUgMTc0Ni42Njk5MjE4NzUgNzQ0Ljg4MzU0NDkyMTg3NSAxNzQ2Ljk2MTA1OTU3MDMxMyA3NDQuNjI3MDc1MTk1MzEyNSBMIDE3NDcuODU3Nzg4MDg1OTM4IDc0My44MzczNDEzMDg1OTM4IEwgMTc0OC45NzgxNDk0MTQwNjMgNzQ0LjI1MjY4NTU0Njg3NSBDIDE3NTQuMjE1ODIwMzEyNSA3NDYuMTk0NDU4MDA3ODEyNSAxNzU5LjcyNjU2MjUgNzQ3LjE3OTAxNjExMzI4MTMgMTc2NS4zNTcwNTU2NjQwNjMgNzQ3LjE3OTAxNjExMzI4MTMgQyAxNzcxLjc2MzY3MTg3NSA3NDcuMTc5MDE2MTEzMjgxMyAxNzc3Ljk3NzUzOTA2MjUgNzQ1LjkxNTI4MzIwMzEyNSAxNzgzLjgyNjE3MTg3NSA3NDMuNDIyOTczNjMyODEyNSBDIDE3ODkuNDc3Mjk0OTIxODc1IDc0MS4wMTQ4MzE1NDI5Njg4IDE3OTQuNTUzMjIyNjU2MjUgNzM3LjU2NjcxMTQyNTc4MTMgMTc5OC45MTI3MTk3MjY1NjMgNzMzLjE3NDMxNjQwNjI1IEMgMTgwMy4yNzMzMTU0Mjk2ODggNzI4Ljc4MTAwNTg1OTM3NSAxODA2LjY5Njc3NzM0Mzc1IDcyMy42NjUyMjIxNjc5Njg4IDE4MDkuMDg4MDEyNjk1MzEzIDcxNy45NjkxMTYyMTA5Mzc1IEMgMTgxMS41NjM3MjA3MDMxMjUgNzEyLjA3MTg5OTQxNDA2MjUgMTgxMi44MTg5Njk3MjY1NjMgNzA1LjgwNjE1MjM0Mzc1IDE4MTIuODE4OTY5NzI2NTYzIDY5OS4zNDYwMDgzMDA3ODEzIEMgMTgxMi44MTg5Njk3MjY1NjMgNjkyLjg4NTU1OTA4MjAzMTMgMTgxMS41NjM3MjA3MDMxMjUgNjg2LjYxOTY4OTk0MTQwNjMgMTgwOS4wODgwMTI2OTUzMTMgNjgwLjcyMjI5MDAzOTA2MjUgQyAxODA2LjY5Njc3NzM0Mzc1IDY3NS4wMjYxMjMwNDY4NzUgMTgwMy4yNzMzMTU0Mjk2ODggNjY5LjkxMDIxNzI4NTE1NjMgMTc5OC45MTI3MTk3MjY1NjMgNjY1LjUxNjc4NDY2Nzk2ODggQyAxNzk0LjU1MzIyMjY1NjI1IDY2MS4xMjQzODk2NDg0Mzc1IDE3ODkuNDc3Mjk0OTIxODc1IDY1Ny42NzYyMDg0OTYwOTM4IDE3ODMuODI2MTcxODc1IDY1NS4yNjgwNjY0MDYyNSBDIDE3NzcuOTc3NTM5MDYyNSA2NTIuNzc1NzU2ODM1OTM3NSAxNzcxLjc2MzY3MTg3NSA2NTEuNTEyMDIzOTI1NzgxMyAxNzY1LjM1NzA1NTY2NDA2MyA2NTEuNTEyMDIzOTI1NzgxMyBNIDE3NjUuMzU3MDU1NjY0MDYzIDY0OS41MTIwMjM5MjU3ODEzIEMgMTc5Mi42NzUwNDg4MjgxMjUgNjQ5LjUxMjAyMzkyNTc4MTMgMTgxNC44MTg5Njk3MjY1NjMgNjcxLjgyMjk5ODA0Njg3NSAxODE0LjgxODk2OTcyNjU2MyA2OTkuMzQ2MDA4MzAwNzgxMyBDIDE4MTQuODE4OTY5NzI2NTYzIDcyNi44Njc5ODA5NTcwMzEzIDE3OTIuNjc1MDQ4ODI4MTI1IDc0OS4xNzkwMTYxMTMyODEzIDE3NjUuMzU3MDU1NjY0MDYzIDc0OS4xNzkwMTYxMTMyODEzIEMgMTc1OS4zNTQ5ODA0Njg3NSA3NDkuMTc5MDE2MTEzMjgxMyAxNzUzLjYwNDk4MDQ2ODc1IDc0OC4xMDEwMTMxODM1OTM4IDE3NDguMjgyOTU4OTg0Mzc1IDc0Ni4xMjc5OTA3MjI2NTYzIEMgMTc0Ny45NDc5OTgwNDY4NzUgNzQ2LjQyMjk3MzYzMjgxMjUgMTc0Ny41NjQ5NDE0MDYyNSA3NDYuNzE2OTc5OTgwNDY4OCAxNzQ3LjA3NjA0OTgwNDY4OCA3NDcuMDEyMDIzOTI1NzgxMyBDIDE3MzYuMzIzOTc0NjA5Mzc1IDc1My41MTIwMjM5MjU3ODEzIDE3MjguMDc5OTU2MDU0Njg4IDc1My41MTIwMjM5MjU3ODEzIDE3MTQuODE4OTY5NzI2NTYzIDc1My41MTIwMjM5MjU3ODEzIEMgMTcyNC41ODg5ODkyNTc4MTMgNzQ5LjM5Njk3MjY1NjI1IDE3MjkuNzc0MDQ3ODUxNTYzIDczNC4zMDIwMDE5NTMxMjUgMTcyOS44NjQwMTM2NzE4NzUgNzM0LjAzNjk4NzMwNDY4NzUgQyAxNzIxLjIyMzk5OTAyMzQzOCA3MjUuMDY1MDAyNDQxNDA2MyAxNzE1Ljg5NTAxOTUzMTI1IDcxMi44MzU5OTg1MzUxNTYzIDE3MTUuODk1MDE5NTMxMjUgNjk5LjM0NjAwODMwMDc4MTMgQyAxNzE1Ljg5NTAxOTUzMTI1IDY3MS44MjI5OTgwNDY4NzUgMTczOC4wMzc5NjM4NjcxODggNjQ5LjUxMjAyMzkyNTc4MTMgMTc2NS4zNTcwNTU2NjQwNjMgNjQ5LjUxMjAyMzkyNTc4MTMgWiIgc3Ryb2tlPSJub25lIiBmaWxsPSIjNjRiOGRmIi8+DQogIDwvZz4NCiAgPGcgaWQ9Ikdyb3VwXzc3NjAiIGRhdGEtbmFtZT0iR3JvdXAgNzc2MCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTE3MTQuODE4IC02NDkuNTEyKSI+DQogICAgPGNpcmNsZSBpZD0iRWxsaXBzZV8xMzM2IiBkYXRhLW5hbWU9IkVsbGlwc2UgMTMzNiIgY3g9IjEyLjI1IiBjeT0iMTIuMjUiIHI9IjEyLjI1IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNzQ4LjA2OSA2ODIuMDQyKSIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjNjRiOGRmIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHN0cm9rZS13aWR0aD0iMiIvPg0KICAgIDxsaW5lIGlkPSJMaW5lXzUxMyIgZGF0YS1uYW1lPSJMaW5lIDUxMyIgeDE9IjEyLjQ2MyIgeTE9IjEyLjQ2MyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTc2OS4xMDYgNzAyLjgyOSkiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzY0YjhkZiIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBzdHJva2Utd2lkdGg9IjIiLz4NCiAgPC9nPg0KPC9zdmc+DQo=);background-position:50%}.filterable-list-container .mat-icon-button{background-color:transparent}.filterable-list-container .mat-icon-button.favorite{background:no-repeat url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDE2IDE2Ij48ZGVmcz48c3R5bGU+LmF7ZmlsbDojZmZiNzRkO30uYntmaWxsOm5vbmU7fTwvc3R5bGU+PC9kZWZzPjxwYXRoIGNsYXNzPSJhIiBkPSJNOC41LDEuMWwyLjMsNC42NjcsNS4yLjcxLTMuNywzLjY1Mi44LDQuOTcxTDguNSwxMi43NjcsMy45LDE1LjFsLjktNC45NzFMMSw2LjQ3N2w1LjItLjcxIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMSAtMC4xKSIvPjxyZWN0IGNsYXNzPSJiIiB3aWR0aD0iMTYiIGhlaWdodD0iMTYiLz48L3N2Zz4=);background-position:50%}.filterable-list-container .mat-icon-button.regular{background:no-repeat url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDE2IDE2Ij48ZGVmcz48c3R5bGU+LmF7ZmlsbDojZGJkYmRiO30uYntmaWxsOm5vbmU7fTwvc3R5bGU+PC9kZWZzPjxwYXRoIGNsYXNzPSJhIiBkPSJNOC41LDMuMyw5LjksNi4ybC4yLjUuNS4xLDMuMi40TDExLjYsOS40bC0uNC40LjEuNS41LDMuMUw5LDExLjhsLS41LS4yLS41LjJMNS4yLDEzLjJsLjYtMywuMS0uNS0uNC0uNEwzLjIsNy4xbDMuMS0uNC41LS4xTDcsNi4xLDguNSwzLjNNOC41LDEsNi4yLDUuNywxLDYuNCw0LjgsMTBsLS45LDUsNC42LTIuM0wxMy4xLDE1bC0uOC01TDE2LDYuNGwtNS4yLS43WiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTEpIi8+PHJlY3QgY2xhc3M9ImIiIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIvPjwvc3ZnPg==);background-position:50%}.filterable-list-container .mat-icon-button.regular:hover{background:no-repeat url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDE2IDE2Ij4NCjxkZWZzPiA8c3R5bGU+LmF7ZmlsbDojZmZiNzRkO30uYntmaWxsOm5vbmU7fTwvc3R5bGU+PC9kZWZzPg0KPHBhdGggY2xhc3M9ImEiIGQ9Ik04LjUsMy4zLDkuOSw2LjJsLjIuNS41LjEsMy4yLjRMMTEuNiw5LjRsLS40LjQuMS41LjUsMy4xTDksMTEuOGwtLjUtLjItLjUuMkw1LjIsMTMuMmwuNi0zLC4xLS41LS40LS40TDMuMiw3LjFsMy4xLS40LjUtLjFMNyw2LjEsOC41LDMuM004LjUsMSw2LjIsNS43LDEsNi40LDQuOCwxMGwtLjksNSw0LjYtMi4zTDEzLjEsMTVsLS44LTVMMTYsNi40bC01LjItLjdaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMSkiLz4NCjxyZWN0IGNsYXNzPSJiIiB3aWR0aD0iMTYiIGhlaWdodD0iMTYiLz48L3N2Zz4=);background-position:50%}.filter-input-container{display:flex;flex-direction:row;margin-right:10px;padding-left:6px}.filter-input-container .mat-form-field{font-size:13px;width:100%}.filter-input-container .mat-form-field input{font-family:Open Sans,Regular,sans-serif;color:#444}.filter-input-container .mat-form-field .mat-input-element{vertical-align:middle}.filter-input-container .mat-form-field .mat-form-field-ripple{top:1px;height:1px;background:#006ce0}.filter-input-container .mat-form-field .mat-form-field-underline{border-bottom:1px solid #c8c8c8;background-color:transparent;margin-top:3px}.filter-input-container .mat-form-field .mat-form-field-wrapper{padding-top:5px;margin-bottom:-1.25em}.filter-input-container .mat-form-field .mat-form-field-empty.mat-form-field-label{padding-top:2px;color:#999}.filter-input-container .mat-form-field .mat-form-field-infix{border-top:none}.filter-input-container .mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon,.filter-input-container .mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{width:18px;height:18px;margin-right:8px}.filter-input-container .mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{color:#999;vertical-align:middle}.filter-input-container .mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon.search-icon{background:no-repeat url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxNiAxNiIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMTYgMTYiPjxnIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzgwOTViMyIgc3Ryb2tlLXdpZHRoPSIxLjIiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCI+PGNpcmNsZSBjeD0iNiIgY3k9IjYiIHI9IjQuNSIvPjxwYXRoIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgZD0iTSA5LjQsOS40IDE0LDE0Ii8+PC9nPjwvc3ZnPg==)}.filter-input-container .mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon.clear-icon{background:no-repeat url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDE2IDE2Ij4NCiAgPGcgaWQ9Ikdyb3VwXzIzNTUiIGRhdGEtbmFtZT0iR3JvdXAgMjM1NSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTk0MyAtMjEzNCkiPg0KICAgIDxsaW5lIGlkPSJMaW5lXzE0NiIgZGF0YS1uYW1lPSJMaW5lIDE0NiIgeTE9IjEwIiB4Mj0iMTAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDk0Ni41IDIxMzcuNSkiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzc1NzU3NSIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBzdHJva2Utd2lkdGg9IjEiLz4NCiAgICA8bGluZSBpZD0iTGluZV8xNDciIGRhdGEtbmFtZT0iTGluZSAxNDciIHgyPSIxMCIgeTI9IjEwIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg5NDYuNSAyMTM3LjUpIiBmaWxsPSJub25lIiBzdHJva2U9IiM3NTc1NzUiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc3Ryb2tlLXdpZHRoPSIxIi8+DQogICAgPHJlY3QgaWQ9IlJlY3RhbmdsZV8xMDkyIiBkYXRhLW5hbWU9IlJlY3RhbmdsZSAxMDkyIiB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDk0MyAyMTM0KSIgZmlsbD0ibm9uZSIvPg0KICA8L2c+DQo8L3N2Zz4NCg==)}.mat-list.mat-list-base.mat-action-list{padding-top:0;overflow:auto}.mat-list.mat-list-base.mat-action-list::-webkit-scrollbar{width:4px}.mat-list.mat-list-base.mat-action-list::-webkit-scrollbar-track{background:transparent;border:4px solid transparent;background-clip:content-box}.mat-list.mat-list-base.mat-action-list::-webkit-scrollbar-thumb{background:#999;border-radius:4px}.mat-list.mat-list-base.mat-action-list .mat-list-item{font-size:13px;font-family:Open Sans,Regular,sans-serif;color:#444;height:33px;padding-left:6px;box-sizing:border-box}.mat-list.mat-list-base.mat-action-list .mat-list-item.active{background-color:#e5ebfb}.mat-list.mat-list-base.mat-action-list .mat-list-item:hover{background:#f2f5ff}.mat-list.mat-list-base.mat-action-list .mat-list-item .mat-list-item-content{padding-left:8px}.mat-list.mat-list-base.mat-action-list .mat-list-item .mat-list-item-content .mat-icon-button{height:16px;width:16px}.mat-list.mat-list-base.mat-action-list .mat-list-item .mat-list-item-content .item-caption{padding-left:8px;display:block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}"],encapsulation:3}),Df=(0,a.gn)([Xs({type:"crt.FilterableList"}),(0,a.w6)("design:paramtypes",[Hm,l.ChangeDetectorRef,l.Injector])],Df);let Pf=(()=>{class e{}return e.ɵfac=function(t){return new(t||e)},e.ɵmod=l["ɵɵdefineNgModule"]({type:e}),e.ɵinj=l["ɵɵdefineInjector"]({providers:[Ze,Hm,{provide:Bm,useValue:new Gm("getFilterableListResources","setFilterableListResources",{localizableStrings:{NoDataPlaceholder:"No data",SearchPlaceholder:"Search",FilterFavoriteTitle:"Only favorites",RemoveFromFavoriteButtonTitle:"Remove from favorites",AddToFavoriteButtonTitle:"Add to favorites",ClearButtonTitle:"Cancel"}})}],imports:[[o.CommonModule,c.u5,x.lN,St.Ps,j.c,ue.ie,B.ot]]}),e})();("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](Pf,{declarations:[Df,yf],imports:[o.CommonModule,c.u5,x.lN,St.Ps,j.c,ue.ie,B.ot],exports:[Df]});const Tf=["dataViewWrapper"];function kf(e,t){if(1&e&&(l["ɵɵelementStart"](0,"div",10),l["ɵɵtext"](1),l["ɵɵelementEnd"]()),2&e){const e=l["ɵɵnextContext"]();l["ɵɵadvance"](1),l["ɵɵtextInterpolate"](e.additionalText)}}function Ef(e,t){if(1&e&&(l["ɵɵelementStart"](0,"div",11),l["ɵɵelementStart"](1,"a",12),l["ɵɵtext"](2),l["ɵɵelementEnd"](),l["ɵɵelementEnd"]()),2&e){const e=l["ɵɵnextContext"]();l["ɵɵadvance"](1),l["ɵɵproperty"]("href",e.helpLinkUrl.url,l["ɵɵsanitizeUrl"]),l["ɵɵadvance"](1),l["ɵɵtextInterpolate"](e.helpLinkUrl.caption)}}function Nf(e,t){if(1&e&&(l["ɵɵelementContainerStart"](0),l["ɵɵelementStart"](1,"button",13),l["ɵɵtext"](2),l["ɵɵpipe"](3,"translate"),l["ɵɵelementEnd"](),l["ɵɵelementStart"](4,"button",14),l["ɵɵtext"](5),l["ɵɵelementEnd"](),l["ɵɵelementContainerEnd"]()),2&e){const e=l["ɵɵnextContext"]();l["ɵɵadvance"](1),l["ɵɵproperty"]("mat-dialog-close",!1),l["ɵɵadvance"](1),l["ɵɵtextInterpolate1"](" ",l["ɵɵpipeBind1"](3,4,"TableDialog.Cancel")," "),l["ɵɵadvance"](2),l["ɵɵproperty"]("mat-dialog-close",!0),l["ɵɵadvance"](1),l["ɵɵtextInterpolate"](e.continueButtonCaption)}}function Of(e,t){1&e&&(l["ɵɵelementStart"](0,"button",13),l["ɵɵtext"](1),l["ɵɵpipe"](2,"translate"),l["ɵɵelementEnd"]()),2&e&&(l["ɵɵadvance"](1),l["ɵɵtextInterpolate1"](" ",l["ɵɵpipeBind1"](2,1,"TableDialog.Close")," "))}let jf=(()=>{class e{constructor(e,t){this.dialogData=e,this.scrollToBottomObserverFactory=t,this.title="",this.sortColumn="",this.additionalText="",this.continueButtonCaption=""}_initScrollToBottomObserver(){const e=this.dataViewWrapper.nativeElement;this._scrollToBottomObserver=this.scrollToBottomObserverFactory.createObserver(e,this._loadNextData.bind(this))}_loadNextData(){this.tableDataSource&&this.tableDataSource.loadNext()}ngAfterViewInit(){this._initScrollToBottomObserver()}ngOnInit(){this.dialogData&&this.dialogData.data&&(this.tableDataSource=new jh(this.dialogData.data),this.dataSchema=this.dialogData.dataSchema,this.title=this.dialogData.title||this.title,this.sortColumn=this.dialogData.sortColumn,this.additionalText=this.dialogData.additionalText,this.helpLinkUrl=this.dialogData.helpLinkUrl,this.continueButtonCaption=this.dialogData.continueButtonCaption)}ngOnDestroy(){this._scrollToBottomObserver&&this._scrollToBottomObserver.destroy()}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](G.WI),l["ɵɵdirectiveInject"](Qa))},e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["ts-table-dialog"]],viewQuery:function(e,t){if(1&e&&l["ɵɵviewQuery"](Tf,7),2&e){let e;l["ɵɵqueryRefresh"](e=l["ɵɵloadQuery"]())&&(t.dataViewWrapper=e.first)}},decls:13,vars:8,consts:[["mat-dialog-title",""],[1,"dialog-content-wrapper"],["class","table-dialog-additional-text",4,"ngIf"],["class","table-dialog-help-link-url",4,"ngIf"],["mat-dialog-content","",1,"data-table"],["dataViewWrapper",""],["headerSticky","true",3,"dataSource","dataSchema","sortColumn"],["mat-dialog-actions",""],[4,"ngIf","ngIfElse"],["withoutContinue",""],[1,"table-dialog-additional-text"],[1,"table-dialog-help-link-url"],["target","_blank","rel","noopener noreferrer",3,"href"],["mat-flat-button","","color","primary","cdkFocusInitial","",3,"mat-dialog-close"],["mat-button","",3,"mat-dialog-close"]],template:function(e,t){if(1&e&&(l["ɵɵelementStart"](0,"div",0),l["ɵɵelementStart"](1,"span"),l["ɵɵtext"](2),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵelementStart"](3,"div",1),l["ɵɵtemplate"](4,kf,2,1,"div",2),l["ɵɵtemplate"](5,Ef,3,2,"div",3),l["ɵɵelementStart"](6,"div",4,5),l["ɵɵelement"](8,"ts-table",6),l["ɵɵelementEnd"](),l["ɵɵelementStart"](9,"div",7),l["ɵɵtemplate"](10,Nf,6,6,"ng-container",8),l["ɵɵtemplate"](11,Of,3,3,"ng-template",null,9,l["ɵɵtemplateRefExtractor"]),l["ɵɵelementEnd"](),l["ɵɵelementEnd"]()),2&e){const e=l["ɵɵreference"](12);l["ɵɵadvance"](2),l["ɵɵtextInterpolate"](t.title),l["ɵɵadvance"](2),l["ɵɵproperty"]("ngIf",t.additionalText),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",t.helpLinkUrl),l["ɵɵadvance"](3),l["ɵɵproperty"]("dataSource",t.tableDataSource)("dataSchema",t.dataSchema)("sortColumn",t.sortColumn),l["ɵɵadvance"](2),l["ɵɵproperty"]("ngIf",t.continueButtonCaption)("ngIfElse",e)}},directives:[G.uh,o.NgIf,G.xY,ym,G.H8,B.lW,G.ZT],pipes:[u.X$],styles:["ts-table-dialog{min-width:850px;max-width:900px;margin:0 8px!important;padding:0}ts-table-dialog .table-dialog-additional-text{margin-bottom:4px;display:inline}ts-table-dialog .table-dialog-help-link-url{display:inline;cursor:pointer}ts-table-dialog .data-table{overflow-y:auto!important;max-height:330px;margin:0;padding:0}ts-table-dialog .data-table table{padding-top:0}ts-table-dialog [mat-dialog-actions]{display:flex;flex-direction:row;justify-content:flex-end;margin:20px 0 10px!important}"],encapsulation:2}),e})();function Af(e,t){if(1&e&&l["ɵɵelement"](0,"mat-icon",1),2&e){const e=l["ɵɵnextContext"]();l["ɵɵproperty"]("svgIcon",e.svgIconName)}}class Rf extends Fm{constructor(e){super(e),this.cellComponentClass=Ff}}let Ff=(()=>{class e extends wm{constructor(e,t){super(),this._matIconRegistry=e,this._domSanitizer=t,this.errorIconName="error-icon",this.warningIconName="warning-icon",this._registerIcons()}get svgIconName(){var e;return null!==(e={[Ma.Error]:this.errorIconName,[Ma.Warning]:this.warningIconName,[Ma.Information]:""}[this.getValue()])&&void 0!==e?e:""}_registerIcons(){[this.warningIconName,this.errorIconName].forEach((e=>{this._matIconRegistry.addSvgIconLiteral(e,this._domSanitizer.bypassSecurityTrustHtml(n(71477)("./"+e+".svg")))}))}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](St.jv),l["ɵɵdirectiveInject"](i.DomSanitizer))},e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["ts-error-type-icon-table-cell"]],features:[l["ɵɵInheritDefinitionFeature"]],decls:1,vars:1,consts:[["class","error-type-icon",3,"svgIcon",4,"ngIf"],[1,"error-type-icon",3,"svgIcon"]],template:function(e,t){1&e&&l["ɵɵtemplate"](0,Af,1,1,"mat-icon",0),2&e&&l["ɵɵproperty"]("ngIf",!t.isEmpty()&&t.getValue())},directives:[o.NgIf,St.Hw],styles:[".error-type-icon[_ngcontent-%COMP%]{height:16px;width:16px}"]}),e})();function Vf(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵelementStart"](0,"mat-checkbox",1),l["ɵɵlistener"]("change",(function(t){l["ɵɵrestoreView"](e);return l["ɵɵnextContext"]().setValue(t.checked)})),l["ɵɵelementEnd"]()}if(2&e){const e=l["ɵɵnextContext"]();l["ɵɵproperty"]("disabled",e.isDisabled())("checked",e.getValue())("matTooltip",e.getTooltipText())}}let Lf=(()=>{class e extends Nm{isDisabled(){const e=this.columnDataSchema.disabled;return"function"==typeof e?e(this.record):e}getTooltipText(){const e=this.columnDataSchema.tooltip;return"function"==typeof e?e(this.record):e}}return e.ɵfac=function(){let t;return function(n){return(t||(t=l["ɵɵgetInheritedFactory"](e)))(n||e)}}(),e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["ts-checkbox-table-cell"]],features:[l["ɵɵInheritDefinitionFeature"]],decls:1,vars:1,consts:[[3,"disabled","checked","matTooltip","change",4,"ngIf"],[3,"disabled","checked","matTooltip","change"]],template:function(e,t){1&e&&l["ɵɵtemplate"](0,Vf,1,3,"mat-checkbox",0),2&e&&l["ɵɵproperty"]("ngIf",!t.isEmpty())},directives:[o.NgIf,ce.oG,Dt.gM],encapsulation:2}),e})();var zf=n(72361);let Bf=(()=>{class e{constructor(e){this._cdr=e,this._delay=2e3,this._stop=new h.Subject,this._start=new h.Subject,this._datetime=_o()(),this._timer$=(0,h.timer)(0,this._delay).pipe((0,b.R)(this._stop),(0,zf.a)((()=>this._start)))}set datetime(e){this._stop.next(),this._datetime=_o()(e),this._start.next()}static _getDuration(e){const t=_o()();return e?_o().duration(e.diff(t)):_o().duration({hour:0,minute:0,second:0})}_getTimerSubscription$(){return this._timer$.subscribe((()=>{if(this.value="",this._datetime.isValid()){const t=e._getDuration(this._datetime);this.value=`${t.humanize(!0)}`}this._cdr.detectChanges()}))}ngOnDestroy(){this._stop.next(null),this._stop.complete(),this._timerSubscription$.unsubscribe()}ngOnInit(){this._timerSubscription$=this._getTimerSubscription$()}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](l.ChangeDetectorRef))},e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["ts-time-ago"]],inputs:{datetime:"datetime"},decls:2,vars:1,consts:[[1,"time-ago"]],template:function(e,t){1&e&&(l["ɵɵelementStart"](0,"span",0),l["ɵɵtext"](1),l["ɵɵelementEnd"]()),2&e&&(l["ɵɵadvance"](1),l["ɵɵtextInterpolate"](t.value))},styles:[""],changeDetection:0}),e})(),Gf=(()=>{class e{}return e.ɵfac=function(t){return new(t||e)},e.ɵmod=l["ɵɵdefineNgModule"]({type:e}),e.ɵinj=l["ɵɵdefineInjector"]({providers:[],imports:[[o.CommonModule,c.u5]]}),e})();("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](Gf,{declarations:[Bf],imports:[o.CommonModule,c.u5],exports:[Bf]});const Hf=function(e,t){return{"date-picker-filter-container":e,"date-picker-filter-container-rtl":t}},Uf=function(e){return{"clear-date-icon-wrap":!0,"icon-hidden":e}};let Zf=(()=>{class e{constructor(e,t){this._directionality=t,this._defaultCulture="en-US",this.dateChange=new l.EventEmitter,this.cultureCode=e&&e.cultureInfo&&e.cultureInfo.sysCultureName||this._defaultCulture}set selectedDate(e){this._selectedDate=e}get selectedDate(){return this._selectedDate}updateFormattedValue(e){this.formattedDate=e&&e.toLocaleDateString(this.cultureCode)}isRtl(){return this._directionality&&"rtl"===this._directionality.value}clearDate(){this.selectedDate=null,this.clearIconVisible=!1,this.onDateChange()}showClearIcon(){this.clearIconVisible=!0}onDateChange(){const e=this.selectedDate;e&&this.showClearIcon(),this.updateFormattedValue(e),this.dateChange.emit(e)}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](Yr),l["ɵɵdirectiveInject"](en.Is))},e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["ts-date-picker-filter"]],inputs:{selectedDate:"selectedDate",datePickerFilterFunction:"datePickerFilterFunction"},outputs:{dateChange:"dateChange"},decls:11,vars:12,consts:[[1,"date-picker-filter-component"],[3,"ngClass"],["matSuffix","",1,"datepicker-toggle",3,"for"],["svgIcon","datetime-picker-calendar-icon","matDatepickerToggleIcon","",1,"date-picker-calendar-icon"],["disabled","false","ngDefaultControl",""],["picker",""],[1,"date-time-buttom-marker"],["ngDefaultControl","",1,"date-time-value"],["ngDefaultControl","","disabled","",3,"matDatepickerFilter","matDatepicker","ngModel","dateInput","ngModelChange","dateChange"],[1,"close-icon",3,"ngClass","click"]],template:function(e,t){if(1&e&&(l["ɵɵelementStart"](0,"div",0),l["ɵɵelementStart"](1,"div",1),l["ɵɵelementStart"](2,"mat-datepicker-toggle",2),l["ɵɵelement"](3,"mat-icon",3),l["ɵɵelementEnd"](),l["ɵɵelement"](4,"mat-datepicker",4,5),l["ɵɵelement"](6,"span",6),l["ɵɵelementStart"](7,"span",7),l["ɵɵtext"](8),l["ɵɵelementEnd"](),l["ɵɵelementStart"](9,"input",8),l["ɵɵlistener"]("dateInput",(function(){return t.showClearIcon()}))("ngModelChange",(function(e){return t.selectedDate=e}))("dateChange",(function(){return t.onDateChange()})),l["ɵɵelementEnd"](),l["ɵɵelementStart"](10,"span",9),l["ɵɵlistener"]("click",(function(){return t.clearDate()})),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵelementEnd"]()),2&e){const e=l["ɵɵreference"](5);l["ɵɵadvance"](1),l["ɵɵproperty"]("ngClass",l["ɵɵpureFunction2"](7,Hf,!t.isRtl(),t.isRtl())),l["ɵɵadvance"](1),l["ɵɵproperty"]("for",e),l["ɵɵadvance"](6),l["ɵɵtextInterpolate"](t.formattedDate),l["ɵɵadvance"](1),l["ɵɵproperty"]("matDatepickerFilter",t.datePickerFilterFunction)("matDatepicker",e)("ngModel",t.selectedDate),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngClass",l["ɵɵpureFunction1"](10,Uf,!t.clearIconVisible))}},directives:[o.NgClass,Zp.nW,x.R9,St.Hw,Zp.Q0,Zp.Mq,c.Fj,Zp.hl,c.JJ,c.On],styles:['.mat-calendar-body-cell-content.mat-focus-indicator{--palette-primary-500:#f2f5ff}.mat-calendar-body-cell-content.mat-focus-indicator.mat-calendar-body-selected{background-color:#006ce0}.date-picker-filter-component{display:inline-block;max-width:150px}.date-picker-filter-component .date-picker-filter-container{display:flex;align-items:center;position:relative}.date-picker-filter-component .date-picker-filter-container .datepicker-toggle .mat-icon-button{height:30px;width:45px;line-height:20px;color:#006ce0}.date-picker-filter-component .date-picker-filter-container input:disabled{border:none;background:none;width:0}.date-picker-filter-component .date-picker-filter-container .mat-datepicker-toggle{display:inline-block}.date-picker-filter-component .date-picker-filter-container .clear-date-icon-wrap{max-height:15px}.date-picker-filter-component .date-picker-filter-container .clear-date-icon-wrap .mat-icon-button{height:17px;width:17px;margin-left:3px}.date-picker-filter-component .date-picker-filter-container span{font-size:14px}.date-picker-filter-component .date-picker-filter-container .date-time-buttom-marker{border-top:.32em solid #4d6a98;border-right:.32em solid transparent;border-left:.32em solid transparent;content:"";position:absolute;left:37px;z-index:-1}.date-picker-filter-component .date-picker-filter-container .date-time-value{margin-left:7px}.date-picker-filter-component .date-picker-filter-container .close-icon{margin-top:1px;display:inline-block;width:17px;height:17px;margin-left:0;margin-right:0;background:no-repeat url(data:image/svg+xml;base64,PHN2ZyBpZD0iR3JvdXBfNyIgZGF0YS1uYW1lPSJHcm91cCA3IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDE2IDE2Ij4NCiAgPHJlY3QgaWQ9IlJlY3RhbmdsZV83IiBkYXRhLW5hbWU9IlJlY3RhbmdsZSA3IiB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiLz4NCiAgPGxpbmUgaWQ9IkxpbmVfNSIgZGF0YS1uYW1lPSJMaW5lIDUiIHkxPSIxMCIgeDI9IjEwIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgzIDMpIiBmaWxsPSJub25lIiBzdHJva2U9IiM5OTkiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc3Ryb2tlLXdpZHRoPSIxIi8+DQogIDxsaW5lIGlkPSJMaW5lXzYiIGRhdGEtbmFtZT0iTGluZSA2IiB4Mj0iMTAiIHkyPSIxMCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMyAzKSIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjOTk5IiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHN0cm9rZS13aWR0aD0iMSIvPg0KPC9zdmc+DQo=);cursor:pointer}.date-picker-filter-component .date-picker-filter-container .close-icon.icon-hidden{display:none}.date-picker-filter-component .date-picker-filter-container-rtl{display:flex;align-items:center;position:relative}.date-picker-filter-component .date-picker-filter-container-rtl .datepicker-toggle .mat-icon-button{height:30px;width:45px;line-height:20px;color:#006ce0}.date-picker-filter-component .date-picker-filter-container-rtl input:disabled{border:none;background:none;width:0}.date-picker-filter-component .date-picker-filter-container-rtl .mat-datepicker-toggle{display:inline-block}.date-picker-filter-component .date-picker-filter-container-rtl .clear-date-icon-wrap{max-height:15px}.date-picker-filter-component .date-picker-filter-container-rtl .clear-date-icon-wrap .mat-icon-button{height:17px;width:17px;margin-right:3px}.date-picker-filter-component .date-picker-filter-container-rtl span{font-size:14px}.date-picker-filter-component .date-picker-filter-container-rtl .date-time-buttom-marker{border-top:.32em solid #4d6a98;border-right:.32em solid transparent;border-left:.32em solid transparent;content:"";position:absolute;right:37px;z-index:-1}.date-picker-filter-component .date-picker-filter-container-rtl .date-time-value{margin-right:7px}.date-picker-filter-component .date-picker-filter-container-rtl .close-icon{margin-top:1px;display:inline-block;width:17px;height:17px;margin-right:0;margin-left:0;background:no-repeat url(data:image/svg+xml;base64,PHN2ZyBpZD0iR3JvdXBfNyIgZGF0YS1uYW1lPSJHcm91cCA3IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDE2IDE2Ij4NCiAgPHJlY3QgaWQ9IlJlY3RhbmdsZV83IiBkYXRhLW5hbWU9IlJlY3RhbmdsZSA3IiB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiLz4NCiAgPGxpbmUgaWQ9IkxpbmVfNSIgZGF0YS1uYW1lPSJMaW5lIDUiIHkxPSIxMCIgeDI9IjEwIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgzIDMpIiBmaWxsPSJub25lIiBzdHJva2U9IiM5OTkiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc3Ryb2tlLXdpZHRoPSIxIi8+DQogIDxsaW5lIGlkPSJMaW5lXzYiIGRhdGEtbmFtZT0iTGluZSA2IiB4Mj0iMTAiIHkyPSIxMCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMyAzKSIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjOTk5IiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHN0cm9rZS13aWR0aD0iMSIvPg0KPC9zdmc+DQo=);cursor:pointer}.date-picker-filter-component .date-picker-filter-container-rtl .close-icon.icon-hidden{display:none}'],encapsulation:2}),e})(),$f=(()=>{class e{constructor(e,t){this._matIconRegistry=e,this._domSanitizer=t}registerIcons(){["datetime-picker-calendar-icon"].forEach((e=>{var t,i;null===(t=this._matIconRegistry)||void 0===t||t.addSvgIconLiteral(e,null===(i=this._domSanitizer)||void 0===i?void 0:i.bypassSecurityTrustHtml(n(38280)("./"+e+".svg")))}))}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](St.jv),l["ɵɵinject"](i.DomSanitizer))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})();function Wf(e){return e.cultureInfo.sysCultureName}let qf=(()=>{class e{constructor(e){this._assetsService=e,this._assetsService.registerIcons()}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"]($f))},e.ɵmod=l["ɵɵdefineNgModule"]({type:e}),e.ɵinj=l["ɵɵdefineInjector"]({providers:[{provide:R.Ad,useFactory:Wf,deps:[Yr]},Zp.FA,$f],imports:[[o.CommonModule,x.lN,Zp.FA,R.XK,j.c,d.PW,St.Ps,c.u5,s.HttpClientModule,G.Is],x.lN,Zp.FA]}),e})();function Yf(e,t){if(1&e&&(l["ɵɵelementStart"](0,"mat-option",9),l["ɵɵtext"](1),l["ɵɵelementEnd"]()),2&e){const e=t.$implicit;l["ɵɵproperty"]("value",e),l["ɵɵadvance"](1),l["ɵɵtextInterpolate"](e.caption)}}("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](qf,{declarations:[Zf],imports:[o.CommonModule,x.lN,Zp.FA,R.XK,j.c,d.PW,St.Ps,c.u5,s.HttpClientModule,G.Is],exports:[x.lN,Zf,Zp.FA]});let Jf=(()=>{class e{constructor(e,t,n,i){this._entitySchemaService=e,this._maskService=t,this._dialogService=n,this._translateService=i,this._destroyed$=new h.Subject,this._searchKey="",this.valueChange=new l.EventEmitter}get searchKey(){return this._searchKey}set searchKey(e){if(this._searchKey=e,this._selectedColumn){const t=!e;this._changeFilter(t)}}get filteredColumns(){return this._filteredColumns}set entitySchema(e){this._entitySchema=e,this._columns=e.columns.filter((e=>za.Text.includes(e.dataValueType)||e.dataValueType===r.DataValueType.Lookup||e.dataValueType===r.DataValueType.Guid)),this._filteredColumns=this._columns}get selectedColumn(){return this._selectedColumn}_buildFilterGroup(e){const t=new r.FilterGroup;t.logicalOperation=r.LogicalOperatorType.And;const n=this._selectedColumn.dataValueType===r.DataValueType.Guid?r.ComparisonType.Equal:r.ComparisonType.Contain;return t.addSchemaColumnFilterWithParameter(n,e,this._searchKey),t}_getFilterColumnPath(){return this._selectedColumn.dataValueType!==r.DataValueType.Lookup?(0,h.of)(this._selectedColumn.name):(this._maskService.showBodyMask(),this._entitySchemaService.getEntitySchemaByUId(this._selectedColumn.referenceSchemaUId).pipe((0,g.U)((e=>(this._maskService.hideBodyMask(),this._selectedColumn.name+"."+e.entitySchema.getPrimaryDisplayColumn().name)))))}_changeFilter(e=!1){e?this.valueChange.emit(null):this._selectedColumn.dataValueType!==r.DataValueType.Guid||(0,r.isGuid)(this._searchKey)?this._getFilterColumnPath().pipe((0,b.R)(this._destroyed$)).subscribe((e=>{const t=this._buildFilterGroup(e);this.valueChange.emit(t)})):this._dialogService.openInfoDialog(this._translateService.instant("QuickEntityFilter.NonGuidMessage"))}searchColumn(e){e||this.selectColumn(null),e=e.toLocaleLowerCase().trim(),this._filteredColumns=this._columns.filter((t=>t.caption.toLocaleLowerCase().includes(e)))}getColumnCaption(e){return e.caption}selectColumn(e){this._selectedColumn=e,e?this._searchKey&&this._changeFilter():this._changeFilter(!0)}ngOnInit(){var e;this._selectedColumn=null===(e=this._entitySchema)||void 0===e?void 0:e.getPrimaryDisplayColumn()}ngOnDestroy(){this._destroyed$.next(),this._destroyed$.complete()}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](ta),l["ɵɵdirectiveInject"](It),l["ɵɵdirectiveInject"](X),l["ɵɵdirectiveInject"](u.sK))},e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["ts-quick-entity-filter"]],inputs:{entitySchema:"entitySchema"},outputs:{valueChange:"valueChange"},decls:10,vars:5,consts:[[1,"select-column-container"],["type","text","matInput","","spellcheck","false",3,"matAutocomplete","value","input"],["matSuffix","",1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],[3,"displayWith","optionSelected"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[1,"search-container"],[3,"value","valueChange"],[3,"value"]],template:function(e,t){if(1&e&&(l["ɵɵelementStart"](0,"div",0),l["ɵɵelementStart"](1,"mat-form-field"),l["ɵɵelementStart"](2,"input",1),l["ɵɵlistener"]("input",(function(e){return t.searchColumn(e.target.value)})),l["ɵɵelementEnd"](),l["ɵɵelementStart"](3,"div",2),l["ɵɵelement"](4,"div",3),l["ɵɵelementEnd"](),l["ɵɵelementStart"](5,"mat-autocomplete",4,5),l["ɵɵlistener"]("optionSelected",(function(e){return t.selectColumn(e.option.value)})),l["ɵɵtemplate"](7,Yf,2,2,"mat-option",6),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵelementStart"](8,"div",7),l["ɵɵelementStart"](9,"ts-search-input",8),l["ɵɵlistener"]("valueChange",(function(e){return t.searchKey=e})),l["ɵɵelementEnd"](),l["ɵɵelementEnd"]()),2&e){const e=l["ɵɵreference"](6);l["ɵɵadvance"](2),l["ɵɵproperty"]("matAutocomplete",e)("value",null==t.selectedColumn?null:t.selectedColumn.caption),l["ɵɵadvance"](3),l["ɵɵproperty"]("displayWith",t.getColumnCaption),l["ɵɵadvance"](2),l["ɵɵproperty"]("ngForOf",t.filteredColumns),l["ɵɵadvance"](2),l["ɵɵproperty"]("value",t.searchKey)}},directives:[x.KE,j.Nt,O.ZL,x.R9,O.XC,o.NgForOf,vh,R.ey],styles:["ts-quick-entity-filter{display:flex}ts-quick-entity-filter .select-column-container{flex-basis:50%;padding-right:20px}ts-quick-entity-filter .select-column-container .mat-form-field{width:100%!important}ts-quick-entity-filter .search-container{flex-basis:50%}"],encapsulation:2}),e})();function Qf(e,t){if(1&e&&(l["ɵɵelementStart"](0,"div",1),l["ɵɵelement"](1,"mat-icon",2),l["ɵɵelementEnd"]()),2&e){const e=l["ɵɵnextContext"]();l["ɵɵadvance"](1),l["ɵɵproperty"]("svgIcon",e.iconName)}}let Kf=(()=>{class e extends wm{get iconName(){return this.columnDataSchema.iconName}}return e.ɵfac=function(){let t;return function(n){return(t||(t=l["ɵɵgetInheritedFactory"](e)))(n||e)}}(),e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["ts-icon-table-cell"]],features:[l["ɵɵInheritDefinitionFeature"]],decls:1,vars:1,consts:[["class","drag-drop-icon-wrapper","cdkDragHandle","",4,"ngIf"],["cdkDragHandle","",1,"drag-drop-icon-wrapper"],[3,"svgIcon"]],template:function(e,t){1&e&&l["ɵɵtemplate"](0,Qf,2,1,"div",0),2&e&&l["ɵɵproperty"]("ngIf",!t.isEmpty())},directives:[o.NgIf,St.Hw],styles:[""]}),e})();var Xf=n(88043),ev=n(73423);const tv=["originalPickerToggle"];function nv(e,t){1&e&&l["ɵɵelement"](0,"mat-icon",11)}function iv(e,t){1&e&&l["ɵɵelement"](0,"mat-icon",12)}function rv(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵelementStart"](0,"button",8),l["ɵɵlistener"]("click",(function(){l["ɵɵrestoreView"](e);return l["ɵɵnextContext"]().onPickerIconClick()})),l["ɵɵtemplate"](1,nv,1,0,"mat-icon",9),l["ɵɵtemplate"](2,iv,1,0,"ng-template",null,10,l["ɵɵtemplateRefExtractor"]),l["ɵɵelementEnd"]()}if(2&e){const e=l["ɵɵreference"](3),t=l["ɵɵnextContext"]();l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf","time"===t.type)("ngIfElse",e)}}let av=(()=>{class e extends _{constructor(e,t,n,i,r){super(e,t,n),this._matIconRegistry=i,this._domSanitizer=r,this.controlType="ts-datetime-picker",this.type="datetime",this._registerIcons()}get convertedValue(){return this._convertedValue}set convertedValue(e){this._convertedValue=e,this.innerValue=e.toDate()}_registerIcons(){["datetime-picker-toggle-date","datetime-picker-toggle-time"].forEach((e=>{this._matIconRegistry.addSvgIconLiteral(e,this._domSanitizer.bypassSecurityTrustHtml(n(86634)("./"+e+"-icon.svg")))})),this._matIconRegistry.addSvgIconLiteral("read-only",this._domSanitizer.bypassSecurityTrustHtml(n(94309)))}writeValue(e){this._convertedValue=_o()(e),super.writeValue(e)}onPickerIconClick(){this.originalPickerToggle.nativeElement.dispatchEvent(new MouseEvent("click"))}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](c.a5,10),l["ɵɵdirectiveInject"](C.Lq),l["ɵɵdirectiveInject"](y.tE),l["ɵɵdirectiveInject"](St.jv),l["ɵɵdirectiveInject"](i.DomSanitizer))},e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["ts-datetime-picker"]],viewQuery:function(e,t){if(1&e&&l["ɵɵviewQuery"](tv,5,l.ElementRef),2&e){let e;l["ɵɵqueryRefresh"](e=l["ɵɵloadQuery"]())&&(t.originalPickerToggle=e.first)}},inputs:{label:"label",minDate:"minDate",maxDate:"maxDate",type:"type"},features:[l["ɵɵProvidersFeature"]([{provide:x.Eo,useExisting:e}]),l["ɵɵInheritDefinitionFeature"]],decls:8,vars:10,consts:[[1,"datetime-picker-input-wrapper"],["matInput","","type","text","autocomplete","false","spellcheck","false",3,"ngModel","matDatetimepicker","required","min","max","disabled","ngModelChange"],["input",""],[3,"for"],["originalPickerToggle",""],["mat-icon-button","",3,"click",4,"ngIf"],["openOnFocus","true","mode","portrait",3,"type","disabled"],["datetimePicker",""],["mat-icon-button","",3,"click"],["svgIcon","datetime-picker-toggle-time",4,"ngIf","ngIfElse"],["dateIcon",""],["svgIcon","datetime-picker-toggle-time"],["svgIcon","datetime-picker-toggle-date"]],template:function(e,t){if(1&e&&(l["ɵɵelementStart"](0,"div",0),l["ɵɵelementStart"](1,"input",1,2),l["ɵɵlistener"]("ngModelChange",(function(e){return t.convertedValue=e})),l["ɵɵelementEnd"](),l["ɵɵelement"](3,"mat-datetimepicker-toggle",3,4),l["ɵɵtemplate"](5,rv,4,2,"button",5),l["ɵɵelement"](6,"mat-datetimepicker",6,7),l["ɵɵelementEnd"]()),2&e){const e=l["ɵɵreference"](7);l["ɵɵadvance"](1),l["ɵɵproperty"]("ngModel",t.convertedValue)("matDatetimepicker",e)("required",t.required)("min",t.minDate)("max",t.maxDate)("disabled",t.disabled),l["ɵɵadvance"](2),l["ɵɵproperty"]("for",e),l["ɵɵadvance"](2),l["ɵɵproperty"]("ngIf",!t.disabled),l["ɵɵadvance"](1),l["ɵɵproperty"]("type",t.type)("disabled",t.disabled)}},directives:[j.Nt,c.Fj,Xf.Ry,c.JJ,c.On,c.Q7,Xf.KA,o.NgIf,Xf.k1,B.lW,St.Hw],styles:["ts-datetime-picker{width:100%}ts-datetime-picker .datetime-picker-input-wrapper{display:flex;align-items:center;position:relative;min-width:calc(18ch + 26px)}ts-datetime-picker .datetime-picker-input-wrapper mat-datetimepicker-toggle{display:none}ts-datetime-picker .datetime-picker-input-wrapper button[mat-icon-button]{height:26px;width:26px;line-height:26px;position:absolute;right:0}ts-datetime-picker .datetime-picker-input-wrapper button[mat-icon-button] mat-icon{height:16px!important;width:16px!important;line-height:16px;position:relative;bottom:2px}"],encapsulation:2}),e})(),ov=(()=>{class e{}return e.ɵfac=function(t){return new(t||e)},e.ɵmod=l["ɵɵdefineNgModule"]({type:e}),e.ɵinj=l["ɵɵdefineInjector"]({imports:[[o.CommonModule,c.u5,B.ot,Zp.FA,Xf.ni,x.lN,St.Ps,j.c,ev.OC]]}),e})();("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](ov,{declarations:[av],imports:[o.CommonModule,c.u5,B.ot,Zp.FA,Xf.ni,x.lN,St.Ps,j.c,ev.OC],exports:[av]});let sv=(()=>{class e{constructor(e){this._queryExecutor=e}_getColumnPath(e){return"string"==typeof e?e:e.columnPath}_addSchemaColumn(e,t){e.addSchemaColumn(this._getColumnPath(t))}_addPrimaryColumnIfNeeded(e,t,n){const i=e.getPrimaryColumn().name;t.some((e=>this._getColumnPath(e)===i))||n.addSchemaColumn(i)}_getEsqOrderDirection(e){return e?"asc"===e?r.OrderDirection.Asc:r.OrderDirection.Desc:r.OrderDirection.None}_applySort(e,t){if(!(null==t?void 0:t.sort))return;const n=this._getEsqOrderDirection(t.sort.direction);e.getColumn(t.sort.columnName).withOrdering(n,0)}_buildEsq(e,t){const n=new r.EntitySchemaQuery(e.name);return t.columns.forEach((e=>this._addSchemaColumn(n,e))),this._addPrimaryColumnIfNeeded(e,t.columns,n),this._applySort(n,t),t.filter&&n.filters.add(t.filter),n.rowCount=t.rowCount,n.rowsOffset=t.rowsOffset,n}loadEntityData(e,t){r.ValidationUtilities.checkArgumentEmpty("entitySchema",e),r.ValidationUtilities.checkArgumentEmpty("config",t);const n=this._buildEsq(e,t);return this._queryExecutor.executeSelectQuery(n)}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](ps))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"root"}),e})(),lv=(()=>{class e{_mapEntityColumnDataSchema(e){return{name:e.name,caption:e.caption,valueType:e.dataValueType}}_getColumnPath(e){return"string"==typeof e?e:e.columnPath}buildTableDataSchema(e,t){r.ValidationUtilities.checkArgumentEmpty("entitySchema",e),r.ValidationUtilities.checkArgumentEmpty("columns",t);const n=t.map((t=>e.columns.find((e=>this._getColumnPath(t)===e.name)))),i=e.getPrimaryColumn().name;return{columns:n.map(this._mapEntityColumnDataSchema.bind(this)),trackBy:e=>e[i]}}}return e.ɵfac=function(t){return new(t||e)},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"root"}),e})();const cv=["dataViewWrapper"];let dv=(()=>{class e{constructor(e,t,n,i,r){this._restHandler=e,this._entitySchemaService=t,this._loaderService=n,this._tableDataSchemaBuilder=i,this._scrollToBottomObserverFactory=r,this._destroyed$=new h.Subject,this._defaultPageSize=20,this._data=[],this._tableDataSchema={columns:[]},this._allPagesWasLoaded=!1,this._isDataLoading=!1,this.selectedIds=[],this.selectedIdsChange=new l.EventEmitter,this.dataChange=new l.EventEmitter,this.rowDoubleClick=new l.EventEmitter}set config(e){this._validateConfig(e);const t=this._config;this._config=e,(0,Ed.Z)(e,t)||this._applyConfig(e,t)}get sort(){return this._sort}get selectedRecords(){if(!this._entitySchema)return[];const e=this._entitySchema.getPrimaryColumn().name;return this.selectedIds?this._data.filter((t=>this.selectedIds.includes(t[e]))):[]}set selectedRecords(e){const t=this._entitySchema.getPrimaryColumn().name,n=this.selectedIds.filter((e=>!this.data.some((n=>n[t]===e)))),i=new Set(this.selectedIds),r=new Set(e.map((e=>e[t])).concat(n));this.selectedIds=[...r],(0,Ed.Z)(i,r)||this.selectedIdsChange.emit(this.selectedIds)}get tableDataSchema(){return this._tableDataSchema}get data(){return this._data}get tableConfig(){var e;return null===(e=this._config)||void 0===e?void 0:e.tableConfig}_getPageSize(e){var t;return null!==(t=e.pageSize)&&void 0!==t?t:this._defaultPageSize}_afterLoaded(e,t){const n=t.length<this._getPageSize(e);this._allPagesWasLoaded=n,this.dataChange.emit({data:this._data.slice(),isLastPage:n})}_executeLoading(e,t){const n=this._restHandler.handleRequest(t()).pipe((0,Or.B)());return n.subscribe((t=>this._afterLoaded(e,t))),n}_validateConfig(e){if(r.ValidationUtilities.checkArgumentEmpty("config",e),r.ValidationUtilities.checkArgumentEmpty("entitySchema",e.entitySchema),"string"==typeof e.entitySchema&&r.ValidationUtilities.checkStringIsNotEmpty("entitySchema",e.entitySchema),r.ValidationUtilities.checkArgumentEmpty("columns",e.columns),0===e.columns.length)throw new Error("Entity data view config should contain at least one column.")}_initScrollToBottomObserver(){this._scrollToBottomObserver=this._scrollToBottomObserverFactory.createObserver(this.dataViewWrapper.nativeElement,this._onScrollToBottom.bind(this))}_initDefaultSort(e,t){var n;const i=null===(n=e.getPrimaryDisplayColumn())||void 0===n?void 0:n.name,r=i&&t.columns.some((e=>this._getColumnPath(e)===i))?i:this._getColumnPath(t.columns[0]);this._sort={columnName:r,direction:"asc"}}_getEntitySchema(e){if("object"==typeof e)return this._entitySchema=e,(0,h.of)(e);const t=this._restHandler.handleRequest(this._entitySchemaService.getEntitySchemaByUId(e),{skipBodyMask:!0}).pipe((0,b.R)(this._destroyed$),(0,g.U)((e=>e.entitySchema)),(0,Or.B)());return t.subscribe((e=>this._entitySchema=e)),t}_prepareLoaderFilters(e){var t;let n=null;if((null===(t=e.excludedIds)||void 0===t?void 0:t.length)>0){let t;t=new r.FilterGroup,t.addSchemaColumnInFilterWithParameters(r.ComparisonType.Not_equal,this._entitySchema.getPrimaryColumn().name,e.excludedIds),e.filter&&t.add(e.filter),n=t}else n=e.filter;return n}_createDefaultLoaderConfig(e){return{rowCount:this._getPageSize(e),rowsOffset:-1,sort:this._sort,columns:e.columns,filter:this._prepareLoaderFilters(e)}}_loadRows(e,t){return this._isDataLoading=!0,this._loaderService.loadEntityData(e,t).pipe((0,b.R)(this._destroyed$),(0,Tn.q)(1),(0,En.b)((()=>this._isDataLoading=!1)),(0,Or.B)())}_loadNextData(e,t){const n=this._createDefaultLoaderConfig(t);n.rowsOffset=this._data.length;const i=this._loadRows(e,n);return i.subscribe((e=>this._data=this._data.concat(e))),i}_getColumnPath(e){return"string"==typeof e?e:e.columnPath}_resetScroll(){var e,t;(null===(e=this.dataViewWrapper)||void 0===e?void 0:e.nativeElement)&&(this.dataViewWrapper.nativeElement.scrollTop=0),null===(t=this._scrollToBottomObserver)||void 0===t||t.resetScrollMaxPosition()}_loadFirstData(e,t){this._resetScroll();const n=this._createDefaultLoaderConfig(t),i=this._loadRows(e,n);return this._data=[],i.subscribe((n=>{this._data=n,this._tableDataSchema=this._tableDataSchemaBuilder.buildTableDataSchema(e,t.columns)})),i}_applyConfig(e,t){const n=e.columns;let i;if(t&&(0,Ed.Z)(e.entitySchema,t.entitySchema)){const r=!(0,Ed.Z)(n,t.columns);r&&this._initDefaultSort(this._entitySchema,e);this._entitySchema&&(r||!(0,Ed.Z)(e.filter,t.filter)||!(0,Ed.Z)(e.excludedIds,t.excludedIds))&&(i=this._loadFirstData(this._entitySchema,e))}else i=this._getEntitySchema(e.entitySchema).pipe((0,En.b)((t=>this._initDefaultSort(t,e))),(0,$r.zg)((t=>this._loadFirstData(t,e))));i&&this._executeLoading(e,(()=>i))}_onScrollToBottom(){if(this._isDataLoading||this._allPagesWasLoaded)return;const e=this._config;this._executeLoading(e,(()=>this._loadNextData(this._entitySchema,e)))}onSortChange(e){if((0,Ed.Z)(e,this._sort))return;const t=this._config;this._sort=e,this._executeLoading(t,(()=>this._loadFirstData(this._entitySchema,t)))}ngAfterViewInit(){this._initScrollToBottomObserver()}ngOnDestroy(){this._destroyed$.next(),this._destroyed$.complete(),this._scrollToBottomObserver.destroy()}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"]($m),l["ɵɵdirectiveInject"](ta),l["ɵɵdirectiveInject"](sv),l["ɵɵdirectiveInject"](lv),l["ɵɵdirectiveInject"](Qa))},e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["ts-entity-data-view"]],viewQuery:function(e,t){if(1&e&&l["ɵɵviewQuery"](cv,7),2&e){let e;l["ɵɵqueryRefresh"](e=l["ɵɵloadQuery"]())&&(t.dataViewWrapper=e.first)}},inputs:{config:"config",selectedIds:"selectedIds"},outputs:{selectedIdsChange:"selectedIdsChange",dataChange:"dataChange",rowDoubleClick:"rowDoubleClick"},decls:3,vars:7,consts:[[1,"entity-data-view-wrapper"],["dataViewWrapper",""],[3,"data","dataSchema","sort","config","selected","selectedChange","sortChange","rowDoubleClick"]],template:function(e,t){1&e&&(l["ɵɵelementStart"](0,"div",0,1),l["ɵɵelementStart"](2,"ts-table",2),l["ɵɵlistener"]("selectedChange",(function(e){return t.selectedRecords=e}))("sortChange",(function(e){return t.onSortChange(e)}))("rowDoubleClick",(function(e){return t.rowDoubleClick.emit(e)})),l["ɵɵelementEnd"](),l["ɵɵelementEnd"]()),2&e&&(l["ɵɵstyleProp"]("display",t.data.length>0?null:"none"),l["ɵɵadvance"](2),l["ɵɵproperty"]("data",t.data)("dataSchema",t.tableDataSchema)("sort",t.sort)("config",t.tableConfig)("selected",t.selectedRecords))},directives:[ym],styles:[".entity-data-view-wrapper[_ngcontent-%COMP%]{height:100%;overflow:auto}"]}),e})(),uv=(()=>{class e{}return e.ɵfac=function(t){return new(t||e)},e.ɵmod=l["ɵɵdefineNgModule"]({type:e}),e.ɵinj=l["ɵɵdefineInjector"]({imports:[[o.CommonModule,zm]]}),e})();function pv(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵelementStart"](0,"ts-quick-entity-filter",13),l["ɵɵlistener"]("valueChange",(function(t){l["ɵɵrestoreView"](e);return l["ɵɵnextContext"]().onFilterChanged(t)})),l["ɵɵelementEnd"]()}if(2&e){const e=l["ɵɵnextContext"]();l["ɵɵproperty"]("entitySchema",e.entitySchema)}}function mv(e,t){1&e&&l["ɵɵelement"](0,"mat-spinner",19)}("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](uv,{declarations:[dv],imports:[o.CommonModule,zm],exports:[dv]});const hv=function(e){return{"lookup-dialog-counter-value-hidden":e}};function gv(e,t){if(1&e&&(l["ɵɵelementStart"](0,"div",14),l["ɵɵelementStart"](1,"span",15),l["ɵɵtext"](2),l["ɵɵpipe"](3,"translate"),l["ɵɵelementEnd"](),l["ɵɵelementStart"](4,"div",16),l["ɵɵelementStart"](5,"div",17),l["ɵɵtext"](6),l["ɵɵelementEnd"](),l["ɵɵtemplate"](7,mv,1,0,"mat-spinner",18),l["ɵɵelementEnd"](),l["ɵɵelementEnd"]()),2&e){const e=l["ɵɵnextContext"]();l["ɵɵadvance"](2),l["ɵɵtextInterpolate"](l["ɵɵpipeBind1"](3,4,"LookupDialog.Selected")),l["ɵɵadvance"](3),l["ɵɵproperty"]("ngClass",l["ɵɵpureFunction1"](6,hv,null===e.displayedSelectedRecordsCount)),l["ɵɵadvance"](1),l["ɵɵtextInterpolate"](e.displayedSelectedRecordsCount||0),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",null===e.displayedSelectedRecordsCount)}}function fv(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵelementStart"](0,"ts-entity-data-view",20),l["ɵɵlistener"]("dataChange",(function(t){l["ɵɵrestoreView"](e);return l["ɵɵnextContext"]().onEntityRecordsLoaded(t)}))("selectedIdsChange",(function(t){l["ɵɵrestoreView"](e);return l["ɵɵnextContext"]().selectedIds=t}))("selectedIdsChange",(function(){l["ɵɵrestoreView"](e);return l["ɵɵnextContext"]().onSelectedIdsChange()}))("rowDoubleClick",(function(t){l["ɵɵrestoreView"](e);return l["ɵɵnextContext"]().onRowDoubleClick(t)})),l["ɵɵelementEnd"]()}if(2&e){const e=l["ɵɵnextContext"]();l["ɵɵproperty"]("config",e.entityDataViewConfig)("selectedIds",e.selectedIds)}}function vv(e,t){1&e&&(l["ɵɵelementContainerStart"](0),l["ɵɵelementStart"](1,"span"),l["ɵɵtext"](2),l["ɵɵpipe"](3,"translate"),l["ɵɵelementEnd"](),l["ɵɵelementContainerEnd"]()),2&e&&(l["ɵɵadvance"](2),l["ɵɵtextInterpolate"](l["ɵɵpipeBind1"](3,1,"LookupDialog.Blankslate")))}function bv(e,t){1&e&&(l["ɵɵelementStart"](0,"span"),l["ɵɵtext"](1),l["ɵɵpipe"](2,"translate"),l["ɵɵelementEnd"]()),2&e&&(l["ɵɵadvance"](1),l["ɵɵtextInterpolate"](l["ɵɵpipeBind1"](2,1,"BaseTableDetail.BlankslateWithFilters")))}function Cv(e,t){if(1&e&&(l["ɵɵelementStart"](0,"div",21),l["ɵɵtemplate"](1,vv,4,3,"ng-container",22),l["ɵɵtemplate"](2,bv,3,3,"ng-template",null,23,l["ɵɵtemplateRefExtractor"]),l["ɵɵelementEnd"]()),2&e){const e=l["ɵɵreference"](3),t=l["ɵɵnextContext"]();l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",!t.entityFilter)("ngIfElse",e)}}let yv=(()=>{class e{constructor(e,t,n,i,a,o,s){var l,c;this._dialogData=e,this._dialogRef=t,this._entitySchemaService=n,this._restHandler=i,this._translateService=a,this._queryExecutor=o,this._dialogService=s,this._pageSize=20,this._allPagesSelectionWarningRecordsNumber=1e3,this._destroyed$=new h.Subject,this._allPagesRecordsCountRequestCancel$=new h.Subject,this._defaultBlankslateVisible=!1,this._loadedRecords=[],this._allPagesWasLoaded=!1,this._allPagesSelectionEnabled=!1,this._allPagesUnselectedIds=null,this._allPagesRecordsCount=null,this._allPagesSelectedCount=null,this._allRowsSelectState=null,this._loadedSelectedCount=0,this.selectedIds=[],r.ValidationUtilities.checkArgumentEmpty("data",e),r.ValidationUtilities.checkArgumentEmpty("lookupDialogConfig",e.lookupDialogConfig),this.selectedIds=null!==(c=null===(l=e.lookupDialogConfig.selectedIds)||void 0===l?void 0:l.slice())&&void 0!==c?c:[],this._getEntitySchema(e.lookupDialogConfig.entitySchema).pipe((0,b.R)(this._destroyed$)).subscribe((e=>this._entitySchema=e)),this._applyIncomingFilter()}get entityFilter(){return this._quickEntityFilter}get entityDataViewConfig(){return{entitySchema:this._entitySchema,columns:this._getDisplayedColumns(),tableConfig:this._getTableConfig(),excludedIds:this._getLookupDialogConfig().excludedIds,filter:this._quickEntityFilter,pageSize:this._pageSize}}get selectMode(){return this._dialogData.tableConfig.selectMode}get entitySchema(){return this._entitySchema}get defaultBlankslateVisible(){return this._defaultBlankslateVisible}get displayedSelectedRecordsCount(){return this._allPagesSelectionEnabled?this._allPagesSelectedCount:this._loadedSelectedCount}_getPrimaryColumnName(){return this._entitySchema.getPrimaryColumn().name}_getLoadedRecordIds(){const e=this._getPrimaryColumnName();return this._loadedRecords.map((t=>t[e]))}_unselectAllExceptLoaded(){const e=this.selectedIds;this.selectedIds=this._getLoadedRecordIds().filter((t=>e.includes(t)))}_getLookupDialogConfig(){return this._dialogData.lookupDialogConfig}_actualizeLoadedSelectedCount(){this._loadedSelectedCount=this.selectedIds.length}_canExistNotLoadedSelectedRecords(e){return e===vm.None&&!this._allPagesSelectionEnabled&&!this._allPagesWasLoaded}_actualizeAllPagesUnselectedIds(){const e=this.selectedIds,t=this._getLoadedRecordIds(),n=t.filter((t=>!e.includes(t))),i=t.filter((t=>e.includes(t)));for(const e of n)this._allPagesUnselectedIds.add(e);for(const e of i)this._allPagesUnselectedIds.delete(e)}_calculateAllPagesSelectedCount(){this._allPagesSelectedCount=null===this._allPagesRecordsCount?null:this._allPagesRecordsCount-this._allPagesUnselectedIds.size}_setAllPagesRecordsCount(e){this._allPagesRecordsCount=e,this._calculateAllPagesSelectedCount()}_handleRequest(e){return t=>this._restHandler.handleRequest(t,e)}_getDisplayedColumns(){let e=this._getLookupDialogConfig().displayedColumns;if(!e){const t=this._entitySchema.getPrimaryDisplayColumn();e=t?[t.name]:[this._getPrimaryColumnName()]}return e}_getTableConfig(){return Object.assign(Object.assign({},this._dialogData.tableConfig),{allRowsSelectState:()=>this._allRowsSelectState,allRowsSelectToggleHandler:()=>this._allRowsSelectToggle()})}_applyIncomingFilter(){const e=this._getLookupDialogConfig().filter;e&&(this._quickEntityFilter||(this._quickEntityFilter=new r.FilterGroup),this._quickEntityFilter.add(e))}_getEntitySchema(e){return"object"==typeof e?(0,h.of)(e):this._entitySchemaService.getEntitySchemaByUId(e).pipe(this._handleRequest(),(0,g.U)((e=>e.entitySchema)))}_actualizeDefaultBlankslateVisibility(e){this._defaultBlankslateVisible=0===e.length}_confirmAllPagesSelection(){if(this.displayedSelectedRecordsCount<this._allPagesSelectionWarningRecordsNumber)return(0,h.of)(!0);const e=this._translateService.instant("LookupDialog.AllPagesSelectionWarning");return this._dialogService.openConfirmationDialog(e).pipe((0,g.U)((e=>e===U.result)))}_enableAllPagesSelection(){this._unselectAllExceptLoaded(),this._allPagesSelectionEnabled=!0,this._allPagesRecordsCount||this._loadAllPagesRecordsCount(),this._allRowsSelectState=vm.All,this._allPagesUnselectedIds=new Set}_disableAllPagesSelection({unselectAllRecords:e}){this._allPagesRecordsCountRequestCancel$.next(),this._allPagesSelectionEnabled=!1,e&&(this.selectedIds=[],this._allRowsSelectState=vm.None),this._actualizeLoadedSelectedCount(),this._allPagesUnselectedIds=null}_createAllFilteredRecordsEsq(){const e=this._getPrimaryColumnName(),t=new r.EntitySchemaQuery(this._entitySchema.name);this._quickEntityFilter&&t.filters.add(this._quickEntityFilter);const n=this._getLookupDialogConfig().excludedIds;return(null==n?void 0:n.length)>0&&t.filters.addSchemaColumnInFilterWithParameters(r.ComparisonType.Not_equal,e,n),t}_createAllFilteredIdsEsq(){const e=this._createAllFilteredRecordsEsq();return e.addSchemaColumn(this._getPrimaryColumnName()),e}_loadAllPagesRecordsCount(){const e=this._getPrimaryColumnName(),t=this._createAllFilteredRecordsEsq();t.addAggregationFunctionColumn(e,r.AggregationType.Count,"Count"),this._queryExecutor.executeSelectQuery(t).pipe(this._handleRequest({skipBodyMask:!0}),(0,b.R)((0,h.merge)(this._allPagesRecordsCountRequestCancel$,this._destroyed$)),(0,dr.K)((()=>(this._disableAllPagesSelection({unselectAllRecords:!1}),h.EMPTY))),(0,g.U)((e=>e[0].Count))).subscribe((e=>this._setAllPagesRecordsCount(e)))}_loadIsAnyRecordExist(e){const t=this._createAllFilteredIdsEsq();return t.rowCount=1,e(t),this._queryExecutor.executeSelectQuery(t).pipe((0,b.R)(this._destroyed$),this._handleRequest({maskDelay:0}),(0,g.U)((e=>1===e.length)),(0,dr.K)((()=>(0,h.of)(!0))),(0,Ul.d)())}_clearNotLoadedRecordsCachedInfo(){this._isAnyNotLoadedRecordSelected$=null,this._isAnyNotLoadedRecordUnselected$=null}_loadIsAnyNotLoadedRecordSelected(){var e;return null!==(e=this._isAnyNotLoadedRecordSelected$)&&void 0!==e?e:this._isAnyNotLoadedRecordSelected$=this._loadIsAnyRecordExist((e=>e.filters.addSchemaColumnInFilterWithParameters(r.ComparisonType.Equal,this._getPrimaryColumnName(),this.selectedIds)))}_loadIsAnyNotLoadedRecordUnselected(){var e;return null!==(e=this._isAnyNotLoadedRecordUnselected$)&&void 0!==e?e:this._isAnyNotLoadedRecordUnselected$=this._loadIsAnyRecordExist((e=>e.filters.addSchemaColumnInFilterWithParameters(r.ComparisonType.Not_equal,this._getPrimaryColumnName(),this.selectedIds)))}_loadAllPagesSelectedIds(){const e=this._getPrimaryColumnName(),t=this._getLoadedRecordIds().filter((e=>this._allPagesUnselectedIds.has(e)));return this._queryExecutor.executeSelectQuery(this._createAllFilteredIdsEsq()).pipe((0,b.R)(this._destroyed$),this._handleRequest(),(0,g.U)((t=>t.map((t=>t[e])))),(0,g.U)((e=>e.filter((e=>!t.includes(e))))))}_actualizeAllRowsSelectState(){let e;const t=this._getLoadedRecordIds(),n=t.length>0&&t.some((e=>this.selectedIds.includes(e))),i=n&&t.every((e=>this.selectedIds.includes(e)));return e=0===this.selectedIds.length||!n&&this._allPagesWasLoaded?(0,h.of)(vm.None):i&&(this._allPagesWasLoaded||this._allPagesSelectionEnabled)?(0,h.of)(vm.All):n&&!i?(0,h.of)(vm.Intermediate):n?this._loadIsAnyNotLoadedRecordUnselected().pipe((0,g.U)((e=>e?vm.Intermediate:vm.All))):this._loadIsAnyNotLoadedRecordSelected().pipe((0,g.U)((e=>e?vm.Intermediate:vm.None))),e.subscribe((e=>this._allRowsSelectState=e)),e}_unselectNotLoadedRecords(){const e=this._getPrimaryColumnName(),t=this._createAllFilteredIdsEsq();t.filters.addSchemaColumnInFilterWithParameters(r.ComparisonType.Equal,e,this.selectedIds);const n=this._queryExecutor.executeSelectQuery(t).pipe(this._handleRequest(),(0,b.R)((0,h.merge)(this._destroyed$)),(0,g.U)((t=>t.map((t=>t[e])))),(0,dr.K)((()=>(0,h.of)([]))),(0,Or.B)());return n.subscribe((e=>{this.selectedIds=this.selectedIds.filter((t=>!e.includes(t)))})),n}_toggleLoadedRecordsSelection(e){const t=this._getLoadedRecordIds();e===vm.None?this.selectedIds=this.selectedIds.filter((e=>!t.includes(e))):this.selectedIds=[...new Set(this.selectedIds.concat(t))]}_toggleAllPagesSelectionIfRequired(e){const t=!this._allPagesSelectionEnabled&&this.selectedIds.length>0&&e===vm.All&&!this._allPagesWasLoaded,n=this._allPagesSelectionEnabled&&e===vm.None;return t?(this._enableAllPagesSelection(),!0):n?(this._disableAllPagesSelection({unselectAllRecords:!0}),!1):null}_allRowsSelectToggle(){const e=this._allRowsSelectState===vm.All?vm.None:vm.All;this._allRowsSelectState=e,this._toggleLoadedRecordsSelection(e),this._canExistNotLoadedSelectedRecords(e)?(this._loadedSelectedCount=null,this._unselectNotLoadedRecords().subscribe((()=>this._actualizeLoadedSelectedCount()))):this._actualizeLoadedSelectedCount();null===this._toggleAllPagesSelectionIfRequired(e)&&this._allPagesSelectionEnabled&&(this._allPagesUnselectedIds.clear(),this._calculateAllPagesSelectedCount())}_resetSelectionOnFilterChanged(){this._allPagesSelectionEnabled&&this._disableAllPagesSelection({unselectAllRecords:!0}),"multi"!==this.selectMode&&(this.selectedIds=[]),this._setAllPagesRecordsCount(null),this._allRowsSelectState=null}_closeWithSelection(e){const t=this._getPrimaryColumnName();this._dialogRef.close({selectedIds:e,selectedRecords:this._loadedRecords.filter((n=>e.includes(n[t])))})}getDialogTitle(){if(!this._entitySchema)return"";const e=this._translateService.instant("LookupDialog.TitleTemplate");return ur.String.Format(e,this._entitySchema.caption)}ngOnDestroy(){this._destroyed$.next()}onFilterChanged(e){this._resetSelectionOnFilterChanged(),this._quickEntityFilter=e,this._applyIncomingFilter()}onEntityRecordsLoaded({data:e,isLastPage:t}){if(this._loadedRecords=e,this._clearNotLoadedRecordsCachedInfo(),this._actualizeDefaultBlankslateVisibility(e),this._allPagesWasLoaded=t,this._allPagesSelectionEnabled){const n=this._getPrimaryColumnName();this.selectedIds=e.map((e=>e[n])).filter((e=>!this._allPagesUnselectedIds.has(e))),this._actualizeLoadedSelectedCount(),t&&this._disableAllPagesSelection({unselectAllRecords:!1})}this._allRowsSelectState||"multi"!==this.selectMode||this._actualizeAllRowsSelectState()}isAnyRecordSelected(){return this.displayedSelectedRecordsCount>0}onRowDoubleClick(e){if("single"!==this.selectMode)return;const t=this._getPrimaryColumnName();this._dialogRef.close({selectedIds:[e[t]],selectedRecords:[e]})}closeWithCurrentSelection(){this._allPagesSelectionEnabled?this._confirmAllPagesSelection().pipe((0,f.h)((e=>e)),(0,$r.zg)((()=>this._loadAllPagesSelectedIds()))).subscribe((e=>this._closeWithSelection(e))):this._closeWithSelection(this.selectedIds)}onSelectedIdsChange(){this._allPagesSelectionEnabled?(this._actualizeAllPagesUnselectedIds(),this._calculateAllPagesSelectedCount()):this._actualizeLoadedSelectedCount(),this._actualizeAllRowsSelectState()}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](G.WI),l["ɵɵdirectiveInject"](G.so),l["ɵɵdirectiveInject"](ta),l["ɵɵdirectiveInject"]($m),l["ɵɵdirectiveInject"](u.sK),l["ɵɵdirectiveInject"](ps),l["ɵɵdirectiveInject"](X))},e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["ts-lookup-dialog"]],decls:20,vars:12,consts:[["mat-dialog-title",""],["mat-icon-button","",1,"close-dialog",3,"mat-dialog-close"],["svgIcon","close",1,"close-button-icon"],[1,"lookup-dialog-top-panel"],[1,"dialog-filters"],[3,"entitySchema","valueChange",4,"ngIf"],["class","counter-container",4,"ngIf"],["mat-dialog-content",""],[3,"config","selectedIds","dataChange","selectedIdsChange","rowDoubleClick",4,"ngIf"],["class","lookup-dialog-blank-slate",4,"ngIf"],["mat-dialog-actions",""],["mat-button","","cdkFocusInitial","",3,"mat-dialog-close"],["mat-flat-button","","color","primary",3,"disabled","click"],[3,"entitySchema","valueChange"],[1,"counter-container"],[1,"counter-label"],[1,"lookup-dialog-counter-value-wrapper"],[1,"counter-value",3,"ngClass"],["diameter","18",4,"ngIf"],["diameter","18"],[3,"config","selectedIds","dataChange","selectedIdsChange","rowDoubleClick"],[1,"lookup-dialog-blank-slate"],[4,"ngIf","ngIfElse"],["blankslateWithFilters",""]],template:function(e,t){1&e&&(l["ɵɵelementStart"](0,"div",0),l["ɵɵelementStart"](1,"div"),l["ɵɵelementStart"](2,"span"),l["ɵɵtext"](3),l["ɵɵelementEnd"](),l["ɵɵelementStart"](4,"button",1),l["ɵɵelement"](5,"mat-icon",2),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵelementStart"](6,"div",3),l["ɵɵelementStart"](7,"div",4),l["ɵɵtemplate"](8,pv,1,1,"ts-quick-entity-filter",5),l["ɵɵelementEnd"](),l["ɵɵtemplate"](9,gv,8,8,"div",6),l["ɵɵelementEnd"](),l["ɵɵelementStart"](10,"div",7),l["ɵɵtemplate"](11,fv,1,2,"ts-entity-data-view",8),l["ɵɵtemplate"](12,Cv,4,2,"div",9),l["ɵɵelementEnd"](),l["ɵɵelementStart"](13,"div",10),l["ɵɵelementStart"](14,"button",11),l["ɵɵtext"](15),l["ɵɵpipe"](16,"translate"),l["ɵɵelementEnd"](),l["ɵɵelementStart"](17,"button",12),l["ɵɵlistener"]("click",(function(){return t.closeWithCurrentSelection()})),l["ɵɵtext"](18),l["ɵɵpipe"](19,"translate"),l["ɵɵelementEnd"](),l["ɵɵelementEnd"]()),2&e&&(l["ɵɵadvance"](3),l["ɵɵtextInterpolate"](t.getDialogTitle()),l["ɵɵadvance"](5),l["ɵɵproperty"]("ngIf",t.entitySchema),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf","multi"===t.selectMode),l["ɵɵadvance"](2),l["ɵɵproperty"]("ngIf",t.entitySchema),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",t.defaultBlankslateVisible),l["ɵɵadvance"](3),l["ɵɵtextInterpolate"](l["ɵɵpipeBind1"](16,8,"LookupDialog.CancelButton")),l["ɵɵadvance"](2),l["ɵɵproperty"]("disabled",!t.isAnyRecordSelected()),l["ɵɵadvance"](1),l["ɵɵtextInterpolate"](l["ɵɵpipeBind1"](19,10,"LookupDialog.SelectButton")))},directives:[G.uh,B.lW,G.ZT,St.Hw,o.NgIf,G.xY,G.H8,Jf,o.NgClass,ze.$g,dv],pipes:[u.X$],styles:["[_nghost-%COMP%]{padding:4px 10px;width:834px;max-width:100%;min-width:420px;box-sizing:border-box}.counter-container[_ngcontent-%COMP%]{display:flex;align-items:baseline}.counter-container[_ngcontent-%COMP%]   .counter-label[_ngcontent-%COMP%]{font-size:13px;color:#757575;margin-right:4px}.counter-container[_ngcontent-%COMP%]   .lookup-dialog-counter-value-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center}.counter-container[_ngcontent-%COMP%]   .lookup-dialog-counter-value-wrapper[_ngcontent-%COMP%]   .counter-value[_ngcontent-%COMP%]{font-size:14px;color:#444}.counter-container[_ngcontent-%COMP%]   .lookup-dialog-counter-value-wrapper[_ngcontent-%COMP%]   .counter-value.lookup-dialog-counter-value-hidden[_ngcontent-%COMP%]{visibility:hidden;width:0}[mat-dialog-content][_ngcontent-%COMP%]{max-height:55vh!important;min-height:267px;height:862px}[mat-dialog-content][_ngcontent-%COMP%]   .lookup-dialog-blank-slate[_ngcontent-%COMP%]{display:flex;justify-content:center;font-size:14px;color:#999;text-align:center;padding-top:22px}[mat-dialog-actions][_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-end}"]}),e})(),wv=(()=>{class e{constructor(e){this._dialogService=e,this._defaultTableConfig={headerSticky:!0}}_createTableConfig(e){return Object.assign(Object.assign({},this._defaultTableConfig),e)}openWithMultiselect(e){const t={lookupDialogConfig:e,tableConfig:this._createTableConfig({selectMode:"multi"}),gtmData:null};return this._dialogService.open(yv,{data:t}).pipe((0,g.U)((e=>({selectedIds:null==e?void 0:e.selectedIds}))))}open(e){const t={lookupDialogConfig:e,tableConfig:this._createTableConfig({selectMode:"single"}),gtmData:null};return this._dialogService.open(yv,{data:t}).pipe((0,g.U)((e=>({selectedId:null==e?void 0:e.selectedIds[0],selectedRecord:null==e?void 0:e.selectedRecords[0]}))))}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](X))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})(),_v=(()=>{class e{}return e.ɵfac=function(t){return new(t||e)},e.ɵmod=l["ɵɵdefineNgModule"]({type:e}),e.ɵinj=l["ɵɵdefineInjector"]({providers:[wv],imports:[[o.CommonModule,ee,uv,O.Bb,B.ot,G.Is,x.lN,St.Ps,j.c,ze.Cq,bh,u.aw]]}),e})();function xv(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵelementStart"](0,"mat-checkbox",6),l["ɵɵlistener"]("ngModelChange",(function(t){l["ɵɵrestoreView"](e);return l["ɵɵnextContext"](2).innerValue=t})),l["ɵɵtext"](1),l["ɵɵelementEnd"]()}if(2&e){const e=l["ɵɵnextContext"](2);l["ɵɵproperty"]("ngModel",e.innerValue)("disabled",e.disabled),l["ɵɵadvance"](1),l["ɵɵtextInterpolate"](e.label)}}function Iv(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵelementStart"](0,"button",11),l["ɵɵlistener"]("click",(function(){l["ɵɵrestoreView"](e);return l["ɵɵnextContext"](3).openSelectLookupValueDialog()})),l["ɵɵelement"](1,"mat-icon",12),l["ɵɵelementEnd"]()}}function Sv(e,t){1&e&&l["ɵɵelement"](0,"mat-icon",13)}function Mv(e,t){if(1&e&&(l["ɵɵelementStart"](0,"mat-form-field",7),l["ɵɵelementStart"](1,"mat-label"),l["ɵɵtext"](2),l["ɵɵelementEnd"](),l["ɵɵelement"](3,"input",8),l["ɵɵtemplate"](4,Iv,2,0,"button",9),l["ɵɵtemplate"](5,Sv,1,0,"mat-icon",10),l["ɵɵelementEnd"]()),2&e){const e=l["ɵɵnextContext"](2);l["ɵɵadvance"](2),l["ɵɵtextInterpolate"](e.label),l["ɵɵadvance"](1),l["ɵɵproperty"]("value",e.getLookupDisplayValue())("required",e.required),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",!e.disabled),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",e.disabled)}}function Dv(e,t){1&e&&l["ɵɵelement"](0,"mat-icon",13)}function Pv(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵelementStart"](0,"mat-form-field",7),l["ɵɵelementStart"](1,"mat-label"),l["ɵɵtext"](2),l["ɵɵelementEnd"](),l["ɵɵelementStart"](3,"input",14),l["ɵɵlistener"]("ngModelChange",(function(t){l["ɵɵrestoreView"](e);return l["ɵɵnextContext"](2).innerValue=t})),l["ɵɵelementEnd"](),l["ɵɵtemplate"](4,Dv,1,0,"mat-icon",10),l["ɵɵelementEnd"]()}if(2&e){const e=l["ɵɵnextContext"](2);l["ɵɵadvance"](2),l["ɵɵtextInterpolate"](e.label),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngModel",e.innerValue)("required",e.required)("disabled",e.disabled),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",e.disabled)}}function Tv(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵelementStart"](0,"textarea",14),l["ɵɵlistener"]("ngModelChange",(function(t){l["ɵɵrestoreView"](e);return l["ɵɵnextContext"](3).innerValue=t})),l["ɵɵelementEnd"]()}if(2&e){const e=l["ɵɵnextContext"](3);l["ɵɵproperty"]("ngModel",e.innerValue)("required",e.required)("disabled",e.disabled)}}function kv(e,t){if(1&e&&(l["ɵɵelementStart"](0,"mat-form-field",7),l["ɵɵelementStart"](1,"mat-label"),l["ɵɵtext"](2),l["ɵɵelementEnd"](),l["ɵɵtemplate"](3,Tv,1,3,"textarea",15),l["ɵɵelementEnd"]()),2&e){const e=l["ɵɵnextContext"](2);l["ɵɵadvance"](2),l["ɵɵtextInterpolate"](e.label),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngSwitchCase",e.inputTypes.LongText)}}function Ev(e,t){1&e&&l["ɵɵelement"](0,"mat-icon",13)}function Nv(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵelementStart"](0,"mat-form-field",7),l["ɵɵelementStart"](1,"mat-label"),l["ɵɵtext"](2),l["ɵɵelementEnd"](),l["ɵɵelementStart"](3,"ts-datetime-picker",17),l["ɵɵlistener"]("ngModelChange",(function(t){l["ɵɵrestoreView"](e);return l["ɵɵnextContext"](3).innerValue=t})),l["ɵɵelementEnd"](),l["ɵɵtemplate"](4,Ev,1,0,"mat-icon",10),l["ɵɵelementEnd"]()}if(2&e){const e=l["ɵɵnextContext"](3);l["ɵɵadvance"](2),l["ɵɵtextInterpolate"](e.label),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngModel",e.innerValue)("label",e.label)("required",e.required)("disabled",e.disabled)("type",e.getDatetimePickerType()),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",e.disabled)}}function Ov(e,t){1&e&&l["ɵɵelement"](0,"mat-icon",13)}function jv(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵelementStart"](0,"mat-form-field",7),l["ɵɵelementStart"](1,"mat-label"),l["ɵɵtext"](2),l["ɵɵelementEnd"](),l["ɵɵelementStart"](3,"ts-number-input",18),l["ɵɵlistener"]("ngModelChange",(function(t){l["ɵɵrestoreView"](e);return l["ɵɵnextContext"](3).innerValue=t})),l["ɵɵelementEnd"](),l["ɵɵtemplate"](4,Ov,1,0,"mat-icon",10),l["ɵɵelementEnd"]()}if(2&e){const e=l["ɵɵnextContext"](3);l["ɵɵadvance"](2),l["ɵɵtextInterpolate"](e.label),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngModel",e.innerValue)("required",e.required)("disabled",e.disabled)("precision",e.getNumberInputPrecision())("maxValue",e.numberMaxValue),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",e.disabled)}}function Av(e,t){if(1&e&&(l["ɵɵelementContainerStart"](0),l["ɵɵtemplate"](1,Nv,5,7,"mat-form-field",16),l["ɵɵtemplate"](2,jv,5,7,"mat-form-field",16),l["ɵɵelementContainerEnd"]()),2&e){const e=l["ɵɵnextContext"](2);l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",e.useDatepicker()),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",e.useNumberInput())}}function Rv(e,t){if(1&e&&(l["ɵɵelementStart"](0,"div",1),l["ɵɵelementContainerStart"](1,2),l["ɵɵtemplate"](2,xv,2,3,"mat-checkbox",3),l["ɵɵtemplate"](3,Mv,6,5,"mat-form-field",4),l["ɵɵtemplate"](4,Pv,5,5,"mat-form-field",4),l["ɵɵtemplate"](5,kv,4,2,"mat-form-field",4),l["ɵɵtemplate"](6,Av,3,2,"ng-container",5),l["ɵɵelementContainerEnd"](),l["ɵɵelementEnd"]()),2&e){const e=l["ɵɵnextContext"]();l["ɵɵproperty"]("ngClass","input-type-"+e.inputTypes[e.inputType].toLowerCase()),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngSwitch",e.inputType),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngSwitchCase",e.inputTypes.Boolean),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngSwitchCase",e.inputTypes.Lookup),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngSwitchCase",e.inputTypes.Text),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngSwitchCase",e.inputTypes.LongText)}}("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](_v,{declarations:[yv,Jf],imports:[o.CommonModule,ee,uv,O.Bb,B.ot,G.Is,x.lN,St.Ps,j.c,ze.Cq,bh,u.aw]});var Fv=(()=>(function(e){e[e.Boolean=0]="Boolean",e[e.Integer=1]="Integer",e[e.Float=2]="Float",e[e.Date=3]="Date",e[e.Time=4]="Time",e[e.DateTime=5]="DateTime",e[e.Lookup=6]="Lookup",e[e.Text=7]="Text",e[e.LongText=8]="LongText"}(Fv||(Fv={})),Fv))();const Vv={[Fv.Boolean]:[r.DataValueType.Boolean],[Fv.Integer]:[r.DataValueType.Integer],[Fv.Float]:[r.DataValueType.Float,r.DataValueType.FLOAT1,r.DataValueType.FLOAT2,r.DataValueType.FLOAT3,r.DataValueType.FLOAT4,r.DataValueType.FLOAT8,r.DataValueType.Money],[Fv.Date]:[r.DataValueType.Date],[Fv.Time]:[r.DataValueType.Time],[Fv.DateTime]:[r.DataValueType.DateTime],[Fv.Lookup]:[r.DataValueType.Lookup],[Fv.Text]:[r.DataValueType.Text,r.DataValueType.SHORT_TEXT,r.DataValueType.MEDIUM_TEXT,r.DataValueType.COLOR],[Fv.LongText]:[r.DataValueType.LONG_TEXT,r.DataValueType.MAXSIZE_TEXT]};let Lv=(()=>{class e extends _{constructor(e,t,n,i,r,a,o,s,l){super(e,t,n),this._entitySchemaService=i,this._lookupDialogService=r,this._restErrorHandler=a,this._maskService=o,this._matIconRegistry=s,this._domSanitizer=l,this._integerMaxValue=2147483647,this._floatMaxValue=1175494351e29,this.inputTypes=Fv,this._registerIcons()}get column(){return this._column}set column(e){this._specifyInputType(e),this._column=e}get inputType(){return this._inputType}get numberMaxValue(){var e;return(null===(e=this._column)||void 0===e?void 0:e.dataValueType)===r.DataValueType.Integer?this._integerMaxValue:this._floatMaxValue}_specifyInputType(e){const t=Object.keys(Vv).find((t=>Vv[t].includes(e.dataValueType)));this._inputType=t?parseInt(t):null}_registerIcons(){this._matIconRegistry.addSvgIconLiteral("read-only",this._domSanitizer.bypassSecurityTrustHtml(n(94309)))}_getLookupDialogConfig(e){const t=this.innerValue;return{entitySchema:e,displayedColumns:null,selectedIds:(null==t?void 0:t.value)?[t.value]:null}}_setLookupValue(e,t){if(!t.selectedRecord)return;const n=e.getPrimaryDisplayColumn();this.innerValue={value:t.selectedId,displayValue:n?t.selectedRecord[n.name]:t.selectedId}}focusElementViaMouse(){}initMonitors(){}useDatepicker(){return[Fv.Date,Fv.Time,Fv.DateTime].includes(this._inputType)}getDatetimePickerType(){return{[r.DataValueType.Date]:"date",[r.DataValueType.Time]:"time",[r.DataValueType.DateTime]:"datetime"}[this._column.dataValueType]}useNumberInput(){return[Fv.Integer,Fv.Float].includes(this._inputType)}getNumberInputPrecision(){return{[r.DataValueType.Integer]:0,[r.DataValueType.Float]:2,[r.DataValueType.FLOAT1]:1,[r.DataValueType.FLOAT2]:2,[r.DataValueType.FLOAT3]:3,[r.DataValueType.FLOAT4]:4,[r.DataValueType.FLOAT8]:8,[r.DataValueType.Money]:2}[this._column.dataValueType]}openSelectLookupValueDialog(){let e;this._maskService.showBodyMask(),this._restErrorHandler.handleRequest(this._entitySchemaService.getEntitySchemaByUId(this._column.referenceSchemaUId)).pipe((0,En.b)((t=>{this._maskService.hideBodyMask(),e=t.entitySchema})),(0,$r.zg)((e=>this._lookupDialogService.open(this._getLookupDialogConfig(e.entitySchema))))).subscribe((t=>this._setLookupValue(e,t)))}getLookupDisplayValue(){var e,t;const n=this.innerValue;return null!==(t=null!==(e=null==n?void 0:n.displayValue)&&void 0!==e?e:null==n?void 0:n.value)&&void 0!==t?t:""}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](c.a5,10),l["ɵɵdirectiveInject"](C.Lq),l["ɵɵdirectiveInject"](y.tE),l["ɵɵdirectiveInject"](ta),l["ɵɵdirectiveInject"](wv),l["ɵɵdirectiveInject"](Um),l["ɵɵdirectiveInject"](It),l["ɵɵdirectiveInject"](St.jv),l["ɵɵdirectiveInject"](i.DomSanitizer))},e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["ts-entity-column-value-input"]],inputs:{column:"column",label:"label"},features:[l["ɵɵInheritDefinitionFeature"]],decls:1,vars:1,consts:[["class","entity-column-value-input-wrapper",3,"ngClass",4,"ngIf"],[1,"entity-column-value-input-wrapper",3,"ngClass"],[3,"ngSwitch"],[3,"ngModel","disabled","ngModelChange",4,"ngSwitchCase"],["floatLabel","always",4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"ngModel","disabled","ngModelChange"],["floatLabel","always"],["matInput","","type","text","disabled","true",3,"value","required"],["matSuffix","","mat-icon-button","",3,"click",4,"ngIf"],["matSuffix","","svgIcon","read-only",4,"ngIf"],["matSuffix","","mat-icon-button","",3,"click"],["svgIcon","search"],["matSuffix","","svgIcon","read-only"],["matInput","","type","text",3,"ngModel","required","disabled","ngModelChange"],["matInput","","type","text",3,"ngModel","required","disabled","ngModelChange",4,"ngSwitchCase"],["floatLabel","always",4,"ngIf"],[3,"ngModel","label","required","disabled","type","ngModelChange"],[3,"ngModel","required","disabled","precision","maxValue","ngModelChange"]],template:function(e,t){1&e&&l["ɵɵtemplate"](0,Rv,7,6,"div",0),2&e&&l["ɵɵproperty"]("ngIf",null!==t.inputType)},directives:[o.NgIf,o.NgClass,o.NgSwitch,o.NgSwitchCase,o.NgSwitchDefault,ce.oG,c.JJ,c.On,x.KE,x.hX,j.Nt,B.lW,x.R9,St.Hw,c.Fj,c.Q7,av,rh],styles:["ts-entity-column-value-input .entity-column-value-input-wrapper{display:flex;align-items:center}ts-entity-column-value-input .entity-column-value-input-wrapper:not(.input-type-longtext){height:44px}ts-entity-column-value-input .entity-column-value-input-wrapper.input-type-lookup button[matsuffix]{height:25px;width:25px}ts-entity-column-value-input .entity-column-value-input-wrapper.input-type-lookup button[matsuffix] mat-icon{height:16px;width:16px}ts-entity-column-value-input .entity-column-value-input-wrapper mat-form-field{width:100%}ts-entity-column-value-input .entity-column-value-input-wrapper mat-form-field textarea{min-height:calc(1em + 1px)}"],encapsulation:2}),e})(),zv=(()=>{class e{}return e.ɵfac=function(t){return new(t||e)},e.ɵmod=l["ɵɵdefineNgModule"]({type:e}),e.ɵinj=l["ɵɵdefineInjector"]({imports:[[o.CommonModule,c.u5,ov,B.ot,ce.p9,x.lN,St.Ps,j.c,ah]]}),e})();("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](zv,{declarations:[Lv],imports:[o.CommonModule,c.u5,ov,B.ot,ce.p9,x.lN,St.Ps,j.c,ah],exports:[Lv]});const Bv=function(e,t){return{"forecast-hint-content":e,"forecast-hint-content-rtl":t}};let Gv=(()=>{class e{constructor(e){this._directionality=e,this._defaultCssClass="simple-hint"}set hintConfig(e){this._hintConfig!==e&&(this._hintConfig=e)}get hintConfig(){return this._hintConfig}get cssClasses(){var e;return(null===(e=this._hintConfig)||void 0===e?void 0:e.cssClasses)||this._defaultCssClass}isRtl(){return"rtl"===this._directionality.value}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](en.Is))},e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["ts-simple-hint"]],inputs:{hintConfig:"hintConfig"},decls:4,vars:8,consts:[[1,"simple-hint-value",3,"ngClass"]],template:function(e,t){1&e&&(l["ɵɵelementStart"](0,"div"),l["ɵɵelementStart"](1,"span",0),l["ɵɵtext"](2),l["ɵɵelementEnd"](),l["ɵɵelement"](3,"br"),l["ɵɵelementEnd"]()),2&e&&(l["ɵɵclassMap"](t.cssClasses),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngClass",l["ɵɵpureFunction2"](5,Bv,!t.isRtl(),t.isRtl())),l["ɵɵadvance"](1),l["ɵɵtextInterpolate1"](" ",null==t.hintConfig?null:t.hintConfig.displayValue," "))},directives:[o.NgClass],styles:['.simple-hint[_ngcontent-%COMP%]{margin:15px 30px;min-width:60px;max-width:300px;display:inline-block;align-items:center;background:#fff;position:relative;min-height:50px;padding:10px;text-align:left;box-shadow:0 0 .6em .02em rgba(0,0,0,.3);-moz-box-shadow:0 0 .2em rgba(0,0,0,.3);-webkit-box-shadow:0 0 .2em rgba(0,0,0,.3);font-size:13px;border-top:4px solid #20c964}.simple-hint[_ngcontent-%COMP%]   .simple-hint-content[_ngcontent-%COMP%]{direction:ltr}.simple-hint[_ngcontent-%COMP%]   .simple-hint-content-rtl[_ngcontent-%COMP%]{direction:ltr;text-align:right}.simple-hint[_ngcontent-%COMP%]:before{border-color:transparent transparent #20c964}.simple-hint[_ngcontent-%COMP%]:after, .simple-hint[_ngcontent-%COMP%]:before{content:"";display:block;position:absolute;width:0;height:0;border-style:solid}.simple-hint[_ngcontent-%COMP%]:after{left:calc(50% - 6px);top:-12px;border-color:transparent transparent #fff;border-width:6px}.simple-hint[_ngcontent-%COMP%]:before{left:calc(50% - 7px);top:-17px;border-width:7px}']}),e})(),Hv=(()=>{class e{}return e.ɵfac=function(t){return new(t||e)},e.ɵmod=l["ɵɵdefineNgModule"]({type:e}),e.ɵinj=l["ɵɵdefineInjector"]({imports:[[o.CommonModule]]}),e})();("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](Hv,{declarations:[go,Gv],imports:[o.CommonModule],exports:[go,Gv]});var Uv=n(13239);function Zv(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵelementContainerStart"](0),l["ɵɵelementStart"](1,"button",6),l["ɵɵlistener"]("click",(function(){l["ɵɵrestoreView"](e);return l["ɵɵnextContext"]().onFullScreenClicked()})),l["ɵɵelement"](2,"mat-icon",7),l["ɵɵelementEnd"](),l["ɵɵelementContainerEnd"]()}if(2&e){const e=l["ɵɵnextContext"]();l["ɵɵadvance"](1),l["ɵɵproperty"]("disableRipple",!0),l["ɵɵadvance"](1),l["ɵɵproperty"]("svgIcon",e.fullScreenIcon)}}function $v(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵelementContainerStart"](0),l["ɵɵelementStart"](1,"button",13),l["ɵɵlistener"]("click",(function(){const t=l["ɵɵrestoreView"](e).$implicit;return l["ɵɵnextContext"](2).onSettingActionClicked(null==t?null:t.code)})),l["ɵɵelement"](2,"mat-icon",14),l["ɵɵelementStart"](3,"span"),l["ɵɵtext"](4),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵelementContainerEnd"]()}if(2&e){const e=t.$implicit;l["ɵɵadvance"](2),l["ɵɵproperty"]("svgIcon",null==e?null:e.imageName),l["ɵɵadvance"](2),l["ɵɵtextInterpolate"](null==e?null:e.name)}}function Wv(e,t){if(1&e&&(l["ɵɵelementContainerStart"](0),l["ɵɵelementStart"](1,"button",8),l["ɵɵelementStart"](2,"div"),l["ɵɵelement"](3,"mat-icon",9),l["ɵɵelement"](4,"span",10),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵelementStart"](5,"mat-menu",null,11),l["ɵɵtemplate"](7,$v,5,2,"ng-container",12),l["ɵɵelementEnd"](),l["ɵɵelementContainerEnd"]()),2&e){const e=l["ɵɵreference"](6),t=l["ɵɵnextContext"]();l["ɵɵadvance"](1),l["ɵɵproperty"]("disableRipple",!0)("matMenuTriggerFor",e),l["ɵɵadvance"](6),l["ɵɵproperty"]("ngForOf",t.settingActions)}}const qv=function(e){return{"panel-collapse-button-close":e}};function Yv(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵelementContainerStart"](0),l["ɵɵelementStart"](1,"button",6),l["ɵɵlistener"]("click",(function(){l["ɵɵrestoreView"](e);return l["ɵɵnextContext"]().onCollapseButtonClicked()})),l["ɵɵelement"](2,"mat-icon",15),l["ɵɵelementEnd"](),l["ɵɵelementContainerEnd"]()}if(2&e){const e=l["ɵɵnextContext"]();l["ɵɵadvance"](1),l["ɵɵproperty"]("disableRipple",!0),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngClass",l["ɵɵpureFunction1"](2,qv,e.isCollapsed))}}function Jv(e,t){1&e&&(l["ɵɵelementContainerStart"](0),l["ɵɵprojection"](1,2),l["ɵɵelementContainerEnd"]())}const Qv=[[["",8,"panel-title-item"]],[["",8,"panel-action-button-left"]],[["",8,"panel-main-content"]]],Kv=function(e,t){return{"panel-main-container":e,"panel-main-container-rtl":t}},Xv=function(e){return{"panel-header-collapsed-container":e}},eb=function(e){return{clickable:e}},tb=[".panel-title-item",".panel-action-button-left",".panel-main-content"];let nb=(()=>{class e{constructor(e,t){this._directionality=e,this._eventService=t,this.titleClicked=new l.EventEmitter,this.fullScreenClicked=new l.EventEmitter,this.collapseClicked=new l.EventEmitter,this.fullScreenIcon="full-screen-open"}isRtl(){return"rtl"===this._directionality.value}onTitleClicked(){var e,t;(null===(e=this.titleConfig)||void 0===e?void 0:e.isClickable)&&this.titleClicked.emit(null===(t=this.titleConfig)||void 0===t?void 0:t.recordId)}onSettingActionClicked(e){this._eventService.emit({name:"settingActionClicked",value:e})}onFullScreenClicked(){this.isShowFullScreenButton&&(this.isFullScreen=!this.isFullScreen,this.fullScreenIcon=this.isFullScreen?"full-screen-close":"full-screen-open",this.fullScreenClicked.emit(this.isFullScreen))}onCollapseButtonClicked(){this.isShowCollapseButton&&(this.isCollapsed=!this.isCollapsed,this.collapseClicked.emit(this.isCollapsed))}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](en.Is),l["ɵɵdirectiveInject"](fo))},e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["ts-panel-content"]],inputs:{isFullScreen:"isFullScreen",isCollapsed:"isCollapsed",isShowCollapseButton:"isShowCollapseButton",isShowFullScreenButton:"isShowFullScreenButton",titleConfig:"titleConfig",settingActions:"settingActions"},outputs:{titleClicked:"titleClicked",fullScreenClicked:"fullScreenClicked",collapseClicked:"collapseClicked"},ngContentSelectors:tb,decls:12,vars:15,consts:[[3,"ngClass"],[1,"panel-header-container",3,"ngClass"],[1,"panel-left-container"],[1,"panel-caption",3,"ngClass","click"],[1,"panel-right-container"],[4,"ngIf"],["mat-icon-button","",3,"disableRipple","click"],[1,"panel-full-screen-button",3,"svgIcon"],["mat-icon-button","",1,"panel-settings-button",3,"disableRipple","matMenuTriggerFor"],["svgIcon","settings",1,"panel-settings-button-icon"],[1,"panel-arrow-down-icon"],["menu","matMenu"],[4,"ngFor","ngForOf"],["mat-menu-item","",1,"panel-settings-action-button",3,"click"],[1,"panel-action-button-image",3,"svgIcon"],["svgIcon","arrow-down",1,"panel-collapse-button",3,"ngClass"]],template:function(e,t){1&e&&(l["ɵɵprojectionDef"](Qv),l["ɵɵelementStart"](0,"div",0),l["ɵɵelementStart"](1,"div",1),l["ɵɵelementStart"](2,"div",2),l["ɵɵelementStart"](3,"label",3),l["ɵɵlistener"]("click",(function(){return t.onTitleClicked()})),l["ɵɵtext"](4),l["ɵɵelementEnd"](),l["ɵɵprojection"](5),l["ɵɵelementEnd"](),l["ɵɵelementStart"](6,"div",4),l["ɵɵprojection"](7,1),l["ɵɵtemplate"](8,Zv,3,2,"ng-container",5),l["ɵɵtemplate"](9,Wv,8,3,"ng-container",5),l["ɵɵtemplate"](10,Yv,3,4,"ng-container",5),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵtemplate"](11,Jv,2,0,"ng-container",5),l["ɵɵelementEnd"]()),2&e&&(l["ɵɵproperty"]("ngClass",l["ɵɵpureFunction2"](8,Kv,!t.isRtl(),t.isRtl())),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngClass",l["ɵɵpureFunction1"](11,Xv,t.isCollapsed)),l["ɵɵadvance"](2),l["ɵɵproperty"]("ngClass",l["ɵɵpureFunction1"](13,eb,null==t.titleConfig?null:t.titleConfig.isClickable)),l["ɵɵadvance"](1),l["ɵɵtextInterpolate1"](" ",null==t.titleConfig?null:t.titleConfig.displayValue," "),l["ɵɵadvance"](4),l["ɵɵproperty"]("ngIf",t.isShowFullScreenButton),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",t.settingActions),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",t.isShowCollapseButton),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",!t.isCollapsed))},directives:[o.NgClass,o.NgIf,B.lW,St.Hw,$p.p6,$p.VK,o.NgForOf,$p.OP],styles:['.panel-settings-action-button{align-items:center}.panel-settings-action-button .panel-action-button-image{height:19px;width:19px;display:inline-block}.panel-main-container{width:100%;display:flex;flex-direction:column}.panel-main-container .panel-header-container{min-height:40px;padding-top:16px;padding-left:16px;display:flex;justify-content:space-between;flex-direction:row;flex-wrap:nowrap;align-items:center;background-color:#fff}.panel-main-container .panel-header-container .panel-left-container{display:flex;justify-content:flex-start;align-content:center;align-items:center;height:100%;flex-direction:row}.panel-main-container .panel-header-container .panel-left-container .panel-caption{color:#006ce0;font-size:18px}.panel-main-container .panel-header-container .panel-left-container .panel-caption.clickable:hover{cursor:pointer;text-decoration:underline}.panel-main-container .panel-header-container .panel-right-container{display:flex;justify-content:flex-end;align-items:center;height:100%;flex-direction:row}.panel-main-container .panel-header-container .panel-right-container .panel-collapse-button{width:16px;height:16px;display:inline-block;margin-right:16px}.panel-main-container .panel-header-container .panel-right-container .panel-collapse-button-close{transform:rotate(180deg)}.panel-main-container .panel-header-container .panel-right-container .panel-full-screen-button{width:16px;height:16px;display:inline-block;margin-right:16px}.panel-main-container .panel-header-container .panel-right-container .panel-settings-button{width:32px;height:32px;display:inline-block;margin-right:16px}.panel-main-container .panel-header-container .panel-right-container .panel-settings-button div{display:flex;flex-direction:row;justify-content:center;align-items:center}.panel-main-container .panel-header-container .panel-right-container .panel-settings-button div .panel-settings-button-icon{width:16px;height:16px;display:inline-block}.panel-main-container .panel-header-container .panel-right-container .panel-settings-button div .panel-arrow-down-icon{position:relative;top:2px;bottom:0;right:0;height:0;content:"";font-size:14px;border-right:.32em solid transparent;border-left:.32em solid transparent;border-top:.32em solid #54657d;margin-left:3px}.panel-main-container .panel-header-container .panel-right-container .panel-settings-button:hover{cursor:pointer}.panel-main-container-rtl{width:100%;display:flex;flex-direction:column}.panel-main-container-rtl .panel-header-container{min-height:40px;padding-top:16px;padding-right:16px;display:flex;justify-content:space-between;flex-direction:row;flex-wrap:nowrap;align-items:center;background-color:#fff}.panel-main-container-rtl .panel-header-container .panel-left-container{display:flex;justify-content:flex-start;align-content:center;align-items:center;height:100%;flex-direction:row}.panel-main-container-rtl .panel-header-container .panel-left-container .panel-caption{color:#006ce0;font-size:18px}.panel-main-container-rtl .panel-header-container .panel-left-container .panel-caption.clickable:hover{cursor:pointer;text-decoration:underline}.panel-main-container-rtl .panel-header-container .panel-right-container{display:flex;justify-content:flex-end;align-items:center;height:100%;flex-direction:row}.panel-main-container-rtl .panel-header-container .panel-right-container .panel-collapse-button{width:16px;height:16px;display:inline-block;margin-left:16px}.panel-main-container-rtl .panel-header-container .panel-right-container .panel-collapse-button-close{transform:rotate(180deg)}.panel-main-container-rtl .panel-header-container .panel-right-container .panel-full-screen-button{width:16px;height:16px;display:inline-block;margin-left:16px}.panel-main-container-rtl .panel-header-container .panel-right-container .panel-settings-button{width:32px;height:32px;display:inline-block;margin-left:16px}.panel-main-container-rtl .panel-header-container .panel-right-container .panel-settings-button div{display:flex;flex-direction:row;justify-content:center;align-items:center}.panel-main-container-rtl .panel-header-container .panel-right-container .panel-settings-button div .panel-settings-button-icon{width:16px;height:16px;display:inline-block}.panel-main-container-rtl .panel-header-container .panel-right-container .panel-settings-button div .panel-arrow-down-icon{position:relative;top:2px;bottom:0;right:0;height:0;content:"";font-size:14px;border-right:.32em solid transparent;border-left:.32em solid transparent;border-top:.32em solid #54657d;margin-right:3px}.panel-main-container-rtl .panel-header-container .panel-right-container .panel-settings-button:hover{cursor:pointer}'],encapsulation:2}),e})();function ib(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵelementContainerStart"](0,7),l["ɵɵelementStart"](1,"div",8),l["ɵɵelementStart"](2,"mat-icon",9,10),l["ɵɵlistener"]("mouseover",(function(){l["ɵɵrestoreView"](e);return l["ɵɵreference"](3).show()}))("mouseout",(function(){l["ɵɵrestoreView"](e);return l["ɵɵreference"](3).hide()})),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵelementContainerEnd"]()}if(2&e){const e=l["ɵɵnextContext"]();l["ɵɵadvance"](2),l["ɵɵproperty"]("libHintOverlay",e.infoHintConfig)}}const rb=[[["",8,"panel-list-action-button-left"]]],ab=function(e,t){return{"main-panel-list-container":e,"main-panel-list-container-rtl":t}},ob=function(){return[0]},sb=function(e){return{threshold:e}},lb=[".panel-list-action-button-left"];let cb=(()=>{class e{constructor(e){this._directionality=e,this.titleClicked=new l.EventEmitter,this.settingActionClicked=new l.EventEmitter,this.fullScreenClicked=new l.EventEmitter,this.collapseClicked=new l.EventEmitter,this.loadMore=new l.EventEmitter,this.sortChange=new l.EventEmitter}isRtl(){return"rtl"===this._directionality.value}onTitleClicked(e){this.titleClicked.emit(e)}onSettingActionClicked(e){this.settingActionClicked.emit(e)}onFullScreenClicked(e){this.isFullScreen=e,this.fullScreenClicked.emit(e)}onCollapseButtonClicked(e){this.isCollapsed=e,this.collapseClicked.emit(e)}onLoadMore(){this.isLoadMore&&this.loadMore.emit()}onSortChange(e){this.sortChange.emit(e)}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](en.Is))},e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["ts-panel-list"]],inputs:{isShowInfoButton:"isShowInfoButton",infoHintConfig:"infoHintConfig",tableConfig:"tableConfig",tableDataSchema:"tableDataSchema",selected:"selected",tableData:"tableData",isFullScreen:"isFullScreen",isCollapsed:"isCollapsed",isShowCollapseButton:"isShowCollapseButton",isShowFullScreenButton:"isShowFullScreenButton",titleConfig:"titleConfig",settingActions:"settingActions",loadMoreButtonLczCaption:"loadMoreButtonLczCaption",isLoadMore:"isLoadMore",sortColumn:"sortColumn",sortDirection:"sortDirection"},outputs:{titleClicked:"titleClicked",settingActionClicked:"settingActionClicked",fullScreenClicked:"fullScreenClicked",collapseClicked:"collapseClicked",loadMore:"loadMore",sortChange:"sortChange"},ngContentSelectors:lb,decls:8,vars:22,consts:[[3,"ngClass"],[3,"isFullScreen","isCollapsed","isShowFullScreenButton","isShowCollapseButton","settingActions","titleConfig","collapseClicked","fullScreenClicked","settingActionClicked","titleClicked"],[1,"panel-action-button-left"],["class","panel-title-item",4,"ngIf"],[1,"panel-main-content","panel-table"],[3,"data","dataSchema","selected","headerSticky","config","sortColumn","sortDirection","selectedChange","sortChange"],["inViewport","",1,"panel-table-load-more-container",3,"inViewportOptions","inViewportAction"],[1,"panel-title-item"],[1,"panel-title-info-button"],["svgIcon","info",3,"libHintOverlay","mouseover","mouseout"],["titleInfoIcon","libHintOverlay"]],template:function(e,t){1&e&&(l["ɵɵprojectionDef"](rb),l["ɵɵelementStart"](0,"div",0),l["ɵɵelementStart"](1,"ts-panel-content",1),l["ɵɵlistener"]("collapseClicked",(function(e){return t.onCollapseButtonClicked(e)}))("fullScreenClicked",(function(e){return t.onFullScreenClicked(e)}))("settingActionClicked",(function(e){return t.onSettingActionClicked(e)}))("titleClicked",(function(e){return t.onTitleClicked(e)})),l["ɵɵelementContainerStart"](2,2),l["ɵɵprojection"](3),l["ɵɵelementContainerEnd"](),l["ɵɵtemplate"](4,ib,4,1,"ng-container",3),l["ɵɵelementStart"](5,"div",4),l["ɵɵelementStart"](6,"ts-table",5),l["ɵɵlistener"]("selectedChange",(function(e){return t.selected=e}))("sortChange",(function(e){return t.onSortChange(e)})),l["ɵɵelementEnd"](),l["ɵɵelementStart"](7,"div",6),l["ɵɵlistener"]("inViewportAction",(function(){return t.onLoadMore()})),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵelementEnd"]()),2&e&&(l["ɵɵproperty"]("ngClass",l["ɵɵpureFunction2"](16,ab,!t.isRtl(),t.isRtl())),l["ɵɵadvance"](1),l["ɵɵproperty"]("isFullScreen",t.isFullScreen)("isCollapsed",t.isCollapsed)("isShowFullScreenButton",t.isShowFullScreenButton)("isShowCollapseButton",t.isShowCollapseButton)("settingActions",t.settingActions)("titleConfig",t.titleConfig),l["ɵɵadvance"](3),l["ɵɵproperty"]("ngIf",t.isShowInfoButton),l["ɵɵadvance"](2),l["ɵɵproperty"]("data",t.tableData)("dataSchema",t.tableDataSchema)("selected",t.selected)("headerSticky",!0)("config",t.tableConfig)("sortColumn",t.sortColumn)("sortDirection",t.sortDirection),l["ɵɵadvance"](1),l["ɵɵproperty"]("inViewportOptions",l["ɵɵpureFunction1"](20,sb,l["ɵɵpureFunction0"](19,ob))))},directives:[o.NgClass,nb,o.NgIf,ym,Uv.wt,St.Hw,go],styles:[".main-panel-list-container .panel-main-container,.main-panel-list-container .panel-main-container-rtl{height:100%}.main-panel-list-container .panel-main-container-rtl .panel-left-container .panel-title-info-button,.main-panel-list-container .panel-main-container .panel-left-container .panel-title-info-button{align-items:center;margin-left:8px;height:24px;width:24px}.main-panel-list-container .panel-main-container-rtl .panel-table,.main-panel-list-container .panel-main-container .panel-table{flex-grow:2;overflow:auto}.main-panel-list-container .panel-main-container-rtl .panel-table::-webkit-scrollbar,.main-panel-list-container .panel-main-container .panel-table::-webkit-scrollbar{-webkit-appearance:none;width:5px;height:5px}.main-panel-list-container .panel-main-container-rtl .panel-table::-webkit-scrollbar-thumb,.main-panel-list-container .panel-main-container .panel-table::-webkit-scrollbar-thumb{background-color:rgba(0,0,0,.2)}.main-panel-list-container .panel-main-container-rtl .panel-table td.mat-cell:first-of-type,.main-panel-list-container .panel-main-container-rtl .panel-table td.mat-footer-cell:first-of-type,.main-panel-list-container .panel-main-container-rtl .panel-table th.mat-header-cell:first-of-type,.main-panel-list-container .panel-main-container .panel-table td.mat-cell:first-of-type,.main-panel-list-container .panel-main-container .panel-table td.mat-footer-cell:first-of-type,.main-panel-list-container .panel-main-container .panel-table th.mat-header-cell:first-of-type{padding-left:24px}.main-panel-list-container .panel-main-container-rtl .panel-table .panel-table-load-more-container,.main-panel-list-container .panel-main-container .panel-table .panel-table-load-more-container{display:block;text-align:center}.main-panel-list-container .panel-main-container-rtl .panel-table .panel-table-load-more-container .panel-table-load-more-button,.main-panel-list-container .panel-main-container .panel-table .panel-table-load-more-container .panel-table-load-more-button{cursor:pointer}.main-panel-list-container .panel-main-container-rtl .panel-table .panel-table-load-more-container .panel-table-load-more-button button.mat-icon-button,.main-panel-list-container .panel-main-container .panel-table .panel-table-load-more-container .panel-table-load-more-button button.mat-icon-button{height:16px;width:16px}.main-panel-list-container .panel-main-container-rtl .panel-table .panel-table-load-more-container .panel-table-load-more-button button.mat-icon-button mat-icon.panel-table-load-more-button-icon.mat-icon,.main-panel-list-container .panel-main-container .panel-table .panel-table-load-more-container .panel-table-load-more-button button.mat-icon-button mat-icon.panel-table-load-more-button-icon.mat-icon{height:16px;width:16px;line-height:16px}.main-panel-list-container .panel-main-container-rtl .panel-table .panel-table-load-more-container .panel-table-load-more-button .panel-table-load-more-button-text,.main-panel-list-container .panel-main-container .panel-table .panel-table-load-more-container .panel-table-load-more-button .panel-table-load-more-button-text{font-size:14px;color:#444;padding-left:4px;line-height:16px}.main-panel-list-container .panel-main-container-rtl .panel-table .panel-table-load-more-container .panel-table-load-more-button .panel-table-load-more-button-text:hover,.main-panel-list-container .panel-main-container .panel-table .panel-table-load-more-container .panel-table-load-more-button .panel-table-load-more-button-text:hover{color:#10a0e3}.main-panel-list-container .panel-main-container-rtl .panel-table .panel-table-load-more-container .panel-table-load-more-button,.main-panel-list-container .panel-main-container-rtl .panel-table .panel-table-load-more-container .panel-table-load-more-button-icon,.main-panel-list-container .panel-main-container-rtl .panel-table .panel-table-load-more-container .panel-table-load-more-button-text,.main-panel-list-container .panel-main-container .panel-table .panel-table-load-more-container .panel-table-load-more-button,.main-panel-list-container .panel-main-container .panel-table .panel-table-load-more-container .panel-table-load-more-button-icon,.main-panel-list-container .panel-main-container .panel-table .panel-table-load-more-container .panel-table-load-more-button-text{display:inline-block;vertical-align:top}.main-panel-list-container-rtl .panel-main-container,.main-panel-list-container-rtl .panel-main-container-rtl{height:100%}.main-panel-list-container-rtl .panel-main-container-rtl .panel-left-container .panel-title-info-button,.main-panel-list-container-rtl .panel-main-container .panel-left-container .panel-title-info-button{align-items:center;margin-right:8px;height:24px;width:24px}.main-panel-list-container-rtl .panel-main-container-rtl .panel-table,.main-panel-list-container-rtl .panel-main-container .panel-table{flex-grow:2;overflow:auto}.main-panel-list-container-rtl .panel-main-container-rtl .panel-table::-webkit-scrollbar,.main-panel-list-container-rtl .panel-main-container .panel-table::-webkit-scrollbar{-webkit-appearance:none;width:5px;height:5px}.main-panel-list-container-rtl .panel-main-container-rtl .panel-table::-webkit-scrollbar-thumb,.main-panel-list-container-rtl .panel-main-container .panel-table::-webkit-scrollbar-thumb{background-color:rgba(0,0,0,.2)}.main-panel-list-container-rtl .panel-main-container-rtl .panel-table td.mat-cell:first-of-type,.main-panel-list-container-rtl .panel-main-container-rtl .panel-table td.mat-footer-cell:first-of-type,.main-panel-list-container-rtl .panel-main-container-rtl .panel-table th.mat-header-cell:first-of-type,.main-panel-list-container-rtl .panel-main-container .panel-table td.mat-cell:first-of-type,.main-panel-list-container-rtl .panel-main-container .panel-table td.mat-footer-cell:first-of-type,.main-panel-list-container-rtl .panel-main-container .panel-table th.mat-header-cell:first-of-type{padding-right:24px}.main-panel-list-container-rtl .panel-main-container-rtl .panel-table .panel-table-load-more-container,.main-panel-list-container-rtl .panel-main-container .panel-table .panel-table-load-more-container{display:block;text-align:center}.main-panel-list-container-rtl .panel-main-container-rtl .panel-table .panel-table-load-more-container .panel-table-load-more-button,.main-panel-list-container-rtl .panel-main-container .panel-table .panel-table-load-more-container .panel-table-load-more-button{cursor:pointer}.main-panel-list-container-rtl .panel-main-container-rtl .panel-table .panel-table-load-more-container .panel-table-load-more-button button.mat-icon-button,.main-panel-list-container-rtl .panel-main-container .panel-table .panel-table-load-more-container .panel-table-load-more-button button.mat-icon-button{height:16px;width:16px}.main-panel-list-container-rtl .panel-main-container-rtl .panel-table .panel-table-load-more-container .panel-table-load-more-button button.mat-icon-button mat-icon.panel-table-load-more-button-icon.mat-icon,.main-panel-list-container-rtl .panel-main-container .panel-table .panel-table-load-more-container .panel-table-load-more-button button.mat-icon-button mat-icon.panel-table-load-more-button-icon.mat-icon{height:16px;width:16px;line-height:16px}.main-panel-list-container-rtl .panel-main-container-rtl .panel-table .panel-table-load-more-container .panel-table-load-more-button .panel-table-load-more-button-text,.main-panel-list-container-rtl .panel-main-container .panel-table .panel-table-load-more-container .panel-table-load-more-button .panel-table-load-more-button-text{font-size:14px;color:#444;padding-right:4px;line-height:16px}.main-panel-list-container-rtl .panel-main-container-rtl .panel-table .panel-table-load-more-container .panel-table-load-more-button .panel-table-load-more-button-text:hover,.main-panel-list-container-rtl .panel-main-container .panel-table .panel-table-load-more-container .panel-table-load-more-button .panel-table-load-more-button-text:hover{color:#10a0e3}.main-panel-list-container-rtl .panel-main-container-rtl .panel-table .panel-table-load-more-container .panel-table-load-more-button,.main-panel-list-container-rtl .panel-main-container-rtl .panel-table .panel-table-load-more-container .panel-table-load-more-button-icon,.main-panel-list-container-rtl .panel-main-container-rtl .panel-table .panel-table-load-more-container .panel-table-load-more-button-text,.main-panel-list-container-rtl .panel-main-container .panel-table .panel-table-load-more-container .panel-table-load-more-button,.main-panel-list-container-rtl .panel-main-container .panel-table .panel-table-load-more-container .panel-table-load-more-button-icon,.main-panel-list-container-rtl .panel-main-container .panel-table .panel-table-load-more-container .panel-table-load-more-button-text{display:inline-block;vertical-align:top}"],encapsulation:2}),e})(),db=(()=>{class e{constructor(e,t){this._matIconRegistry=e,this._domSanitizer=t}registerIcons(){["arrow-down","full-screen-open","full-screen-close","settings","info","show-more-icon"].forEach((e=>{var t,i;null===(t=this._matIconRegistry)||void 0===t||t.addSvgIconLiteral(e,null===(i=this._domSanitizer)||void 0===i?void 0:i.bypassSecurityTrustHtml(n(46377)("./"+e+".svg")))}))}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](St.jv),l["ɵɵinject"](i.DomSanitizer))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})(),ub=(()=>{class e{constructor(e){this._assetsService=e,this._assetsService.registerIcons()}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](db))},e.ɵmod=l["ɵɵdefineNgModule"]({type:e}),e.ɵinj=l["ɵɵdefineInjector"]({providers:[db],imports:[[o.CommonModule,zm,c.u5,B.ot,$p.Tx,St.Ps,d.PW,Hv,Uv.Yn]]}),e})();function pb(e,t){if(1&e&&(l["ɵɵelementStart"](0,"span",7),l["ɵɵtext"](1),l["ɵɵelementEnd"]()),2&e){const e=l["ɵɵnextContext"]();l["ɵɵadvance"](1),l["ɵɵtextInterpolate"](e.data.additionalText)}}function mb(e,t){if(1&e&&(l["ɵɵelementContainerStart"](0),l["ɵɵelementStart"](1,"button",8),l["ɵɵtext"](2),l["ɵɵpipe"](3,"translate"),l["ɵɵelementEnd"](),l["ɵɵelementStart"](4,"button",9),l["ɵɵtext"](5),l["ɵɵelementEnd"](),l["ɵɵelementContainerEnd"]()),2&e){const e=l["ɵɵnextContext"]();l["ɵɵadvance"](1),l["ɵɵproperty"]("mat-dialog-close",!1),l["ɵɵadvance"](1),l["ɵɵtextInterpolate"](l["ɵɵpipeBind1"](3,4,"ValidationErrorDialogComponent.Cancel")),l["ɵɵadvance"](2),l["ɵɵproperty"]("mat-dialog-close",!0),l["ɵɵadvance"](1),l["ɵɵtextInterpolate"](e.data.continueButtonCaption)}}function hb(e,t){1&e&&(l["ɵɵelementStart"](0,"button",8),l["ɵɵtext"](1),l["ɵɵpipe"](2,"translate"),l["ɵɵelementEnd"]()),2&e&&(l["ɵɵadvance"](1),l["ɵɵtextInterpolate"](l["ɵɵpipeBind1"](2,1,"ValidationErrorDialogComponent.Close")))}("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](ub,{declarations:[nb,cb],imports:[o.CommonModule,zm,c.u5,B.ot,$p.Tx,St.Ps,d.PW,Hv,Uv.Yn],exports:[nb,cb]});let gb=(()=>{class e{constructor(e){this.data=e}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](G.WI))},e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["ts-validation-error-dialog"]],decls:11,vars:5,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["class","validation-dialog-additional-text",4,"ngIf"],[1,"validation-dialog-error"],["mat-dialog-actions",""],[4,"ngIf","ngIfElse"],["withoutContinue",""],[1,"validation-dialog-additional-text"],["mat-flat-button","","color","primary","cdkFocusInitial","",3,"mat-dialog-close"],["mat-button","",3,"mat-dialog-close"]],template:function(e,t){if(1&e&&(l["ɵɵelementStart"](0,"div",0),l["ɵɵelementStart"](1,"span"),l["ɵɵtext"](2),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵelementStart"](3,"div",1),l["ɵɵtemplate"](4,pb,2,1,"span",2),l["ɵɵelementStart"](5,"span",3),l["ɵɵtext"](6),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵelementStart"](7,"div",4),l["ɵɵtemplate"](8,mb,6,6,"ng-container",5),l["ɵɵtemplate"](9,hb,3,3,"ng-template",null,6,l["ɵɵtemplateRefExtractor"]),l["ɵɵelementEnd"]()),2&e){const e=l["ɵɵreference"](10);l["ɵɵadvance"](2),l["ɵɵtextInterpolate"](t.data.title),l["ɵɵadvance"](2),l["ɵɵproperty"]("ngIf",t.data.additionalText),l["ɵɵadvance"](2),l["ɵɵtextInterpolate"](t.data.validationError),l["ɵɵadvance"](2),l["ɵɵproperty"]("ngIf",t.data.continueButtonCaption)("ngIfElse",e)}},directives:[G.uh,G.xY,o.NgIf,G.H8,B.lW,G.ZT],pipes:[u.X$],styles:["ts-validation-error-dialog{margin:0!important;padding:0 6px;width:720px}ts-validation-error-dialog [mat-dialog-actions]{float:right}ts-validation-error-dialog [mat-dialog-content] .validation-dialog-additional-text,ts-validation-error-dialog [mat-dialog-content] .validation-dialog-error{white-space:pre-wrap}ts-validation-error-dialog [mat-dialog-content] .validation-dialog-error{font-family:monospace;font-size:13px}"],encapsulation:2}),e})();var fb=(()=>(function(e){e.OnlyText="only-text",e.LeftIcon="left-icon",e.RightIcon="right-icon",e.OnlyIcon="only-icon"}(fb||(fb={})),fb))(),vb=(()=>(function(e){e.None="none",e.Default="default",e.Small="small",e.Medium="medium",e.Large="large",e.ExtraLarge="extra-large"}(vb||(vb={})),vb))();const bb=Object.values(vb);function Cb(e){return Boolean(e)&&"string"==typeof e&&bb.includes(e.toLowerCase())}function yb(e){if("number"==typeof e)return!0;if("string"==typeof e){const t=Number.parseInt(e);return String(t)===e}return!1}const wb=["container"],_b={Primary:{key:"primary",value:"#FFFFFF"}};class xb extends Us{constructor(e){super(e),this.injector=e,this.destroyed$=new h.Subject,this.items=[],this.visiblePadding=!0,this.borderRadius=vb.None,this.width=Number.MAX_VALUE,this.window=this.injector.get(xa),this._featureService=this.injector.get(ls),this.renderer=this.injector.get(l.Renderer2)}get isResponsive(){return this.responsiveWidth<Number.MAX_VALUE}get isResponsiveWidth(){return this.width<this.responsiveWidth}get isSafari(){const e=navigator.userAgent.toLowerCase(),t=!!e.match("safari"),n=!!e.match("chrome");return t&&!n}get responsiveWidth(){return 565*this.window.devicePixelRatio}set responsiveWidth(e){throw new Error("responsiveWidth is not supported yet")}get noSafariBordersObservable(){return this._featureService.getFeatureState("DisableRemovingBorderInSafari").pipe((0,b.R)(this.destroyed$),(0,Pn.w)((e=>e||!this.isSafari?(0,h.of)(!1):(0,h.of)(!0))))}static isBaseColorKey(e){if(e&&"string"==typeof e){const t=e.toLowerCase();return xb._baseColors.some((e=>e.key===t))}return!1}static isBaseColorValue(e){if(e&&"string"==typeof e){const t=e.toLowerCase();return xb._baseColors.some((e=>e.value===t))}return!1}static getBaseColorKey(e){var t;const n=e.toLowerCase();return null===(t=xb._baseColors.find((e=>e.value===n)))||void 0===t?void 0:t.key}static getBaseColorValue(e){var t;const n=e.toLowerCase();return null===(t=xb._baseColors.find((e=>e.key===n)))||void 0===t?void 0:t.value}_paddingClasses(){const e=[],t=this.padding;if(t)if((0,Xu.Z)(t)){const{top:n,bottom:i,left:r,right:a}=t;this.applySizeClass("container-padding-top-{0}",n,e),this.applySizeClass("container-padding-bottom-{0}",i,e),this.applySizeClass("container-padding-left-{0}",r,e),this.applySizeClass("container-padding-right-{0}",a,e)}else this.applySizeClass("container-padding-{0}",t,e);return e}_paddingStyles(){const e={},t=this.padding;if((0,Xu.Z)(t)){const{bottom:n,top:i,left:r,right:a}=t;this.applySizeStyle("paddingTop",i,e),this.applySizeStyle("paddingRight",a,e),this.applySizeStyle("paddingBottom",n,e),this.applySizeStyle("paddingLeft",r,e)}else this.applySizeStyle("padding",t,e);return e}_borderRadiusClasses(){const e=[],t=this.borderRadius;return t&&t!==vb.None&&(this.applySizeClass("container-border-radius-{0}",t,e),this.noSafariBordersObservable.pipe((0,b.R)(this.destroyed$)).subscribe((t=>{t||e.push("container-border-area")}))),e}_borderRadiusStyles(){const e={},t=this.borderRadius;return t&&(yb(t)?e.borderRadius=`${t}px`:Cb(t)||(e.borderRadius=t)),e}_colorClasses(){var e;const t=null===(e=this.color)||void 0===e?void 0:e.toLowerCase(),n=[];return xb.isBaseColorKey(t)&&n.push(`container-background-color-${t}`),n}_colorStyles(){const e={};return this.color&&!xb.isBaseColorKey(this.color)&&(e.backgroundColor=this.color),e}applySizeClass(e,t,n){if("string"==typeof t&&Cb(t)&&t!==vb.None){const i=ur.String.Format(e,t.toLowerCase());n.push(i)}}onResize(){this.window.requestAnimationFrame((()=>{this.zone.run((()=>{this.isResponsive&&(this.width=this.window.innerWidth,this.detectChanges())}))}))}getClasses(){return[...super.getClasses(),...this._paddingClasses(),...this._colorClasses(),...this._borderRadiusClasses()]}applySizeStyle(e,t,n){t&&(yb(t)?n[e]=`${t}px`:"string"!=typeof t||Cb(t)||(n[e]=t))}setValuesFromConfig(e,t=[]){super.setValuesFromConfig(e,["items"])}get containerStyles(){return Object.assign(Object.assign(Object.assign(Object.assign({},this.styles||{}),this._paddingStyles()),this._borderRadiusStyles()),this._colorStyles())}detectChangesAsync(){this.window.requestAnimationFrame((()=>{setTimeout((()=>{this.detectChanges()}))}))}ngOnInit(){this._featureService.getFeatureState("HideDesignPadding").subscribe((e=>{this.visiblePadding=!e}))}ngAfterViewInit(){this.zone=this.injector.get(l.NgZone),this.resizeObserver=new On.Z((()=>this.onResize())),this.container&&this.resizeObserver.observe(this.container.nativeElement)}ngOnDestroy(){var e;null===(e=this.resizeObserver)||void 0===e||e.disconnect(),this.destroyed$.next(),this.destroyed$.complete()}}xb._baseColors=Object.values(_b).map((({key:e,value:t})=>({key:e.toLowerCase(),value:t.toLowerCase()}))),xb.ɵfac=function(e){return new(e||xb)(l["ɵɵdirectiveInject"](l.Injector))},xb.ɵdir=l["ɵɵdefineDirective"]({type:xb,viewQuery:function(e,t){if(1&e&&l["ɵɵviewQuery"](wb,5),2&e){let e;l["ɵɵqueryRefresh"](e=l["ɵɵloadQuery"]())&&(t.container=e.first)}},inputs:{items:"items",visiblePadding:"visiblePadding",padding:"padding",borderRadius:"borderRadius",color:"color",responsiveWidth:"responsiveWidth"},features:[l["ɵɵInheritDefinitionFeature"]]});var Ib=n(65613);let Sb=(()=>{class e extends xb{constructor(){super(...arguments),this.slotHTMLElements=[]}setSlotElementStyles(e){e=this.castSlotElements(e),this.applySlotElementStyles(e)}castSlotElements(e){}getItemLayout(e){}castElementStylesToLayoutConfig(e){}applySlotElementStyles(e){e.forEach((e=>{const t=this.getItemLayout(e.layoutConfig);Object.entries(t).forEach((([t,n])=>{const i=(0,Gu.Z)(t);this.renderer.setStyle(e,i,n)}))}))}get shouldUseSlots(){return!this.items||!this.items.length}}return e.ɵfac=function(){let t;return function(n){return(t||(t=l["ɵɵgetInheritedFactory"](e)))(n||e)}}(),e.ɵdir=l["ɵɵdefineDirective"]({type:e,features:[l["ɵɵInheritDefinitionFeature"]]}),e})();const Mb=["items"];function Db(e,t){1&e&&l["ɵɵelementContainer"](0)}function Pb(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵelementStart"](0,"slot",4),l["ɵɵlistener"]("slotchange",(function(t){l["ɵɵrestoreView"](e);return l["ɵɵnextContext"]().slotChange(t)})),l["ɵɵelementEnd"](),l["ɵɵprojection"](1)}}function Tb(e,t){if(1&e&&(l["ɵɵelementStart"](0,"div",6),l["ɵɵelementContainer"](1,7),l["ɵɵelementEnd"]()),2&e){const e=t.$implicit,n=l["ɵɵnextContext"](2);l["ɵɵproperty"]("ngStyle",n.getItemLayout(e.layoutConfig)),l["ɵɵadvance"](1),l["ɵɵproperty"]("crtViewElement",e)}}function kb(e,t){if(1&e&&l["ɵɵtemplate"](0,Tb,2,2,"div",5),2&e){const e=l["ɵɵnextContext"]();l["ɵɵproperty"]("ngForOf",e.items)}}const Eb=(e,t)=>{const i=e.charAt(0).toUpperCase()+e.slice(1);return{caption:`LayoutElements.Flex${i}.Caption`,hint:`LayoutElements.Flex${i}.Hint`,name:`flex-${e}`,icon:n(20470)(`./flex-${e}-icon.svg`),defaultPropertyValues:{direction:e,items:[]},groupType:Mu.LayoutElements,position:t}},Nb={direction:"row",justifyContent:"start",alignItems:"stretch",gap:vb.Small};let Ob=class extends Sb{constructor(e){super(e),this.injector=e,this.direction=Nb.direction,this.justifyContent=Nb.justifyContent,this.alignItems=Nb.alignItems,this.gap=Nb.gap}getClasses(){return[...super.getClasses(),...this._gapClasses()]}_gapClasses(){const e=[],t=this.gap||Nb.gap;return this.applySizeClass("container-gap-{0}",t,e),e}castElementStylesToLayoutConfig(e){const[t,n,i,r,a,o]=["basis","align-self","grow","shrink","width","height"].map((t=>{const n=`layout-config-${t}`,i=e.getAttribute(n);if(i)return i}));return{basis:t,alignSelf:n,grow:Number(i),shrink:Number(r),width:Number(a),height:Number(o)}}castSlotElements(e){for(const t of e){const e=this.castElementStylesToLayoutConfig(t);t.layoutConfig=e}return e}get flexStyles(){const e={};e.justifyContent=this.justifyContent||Nb.justifyContent,e.alignItems=this.alignItems||Nb.alignItems,e.flexWrap=this.wrap||(this.isVertical?"nowrap":"wrap");const t=this.gap;return t&&(yb(t)?e.gap=t+"px":Cb(t)||(e.gap=t)),Object.assign(Object.assign({},this.containerStyles),e)}get flexDirection(){var e,t,n;return this.isVertical?this.direction||(null===(e=this.styles)||void 0===e?void 0:e.flexDirection):this.isResponsiveWidth?(null===(t=this.classes)||void 0===t||t.push("crt-flex-responsive"),"row-reverse"===this.direction?"column-reverse":"column"):((0,Ib.Z)(this.classes,(e=>"crt-flex-responsive"===e)),this.direction||(null===(n=this.styles)||void 0===n?void 0:n.flexDirection))}get isVertical(){return["column","column-reverse"].includes(this.direction)}getItemLayout(e){let t={};return(null==e?void 0:e.basis)&&(t.flexBasis=e.basis),void 0!==(null==e?void 0:e.grow)&&(t.flexGrow=e.grow),void 0!==(null==e?void 0:e.shrink)&&(t.flexShrink=e.shrink),(null==e?void 0:e.alignSelf)&&(t.alignSelf=e.alignSelf),(null==e?void 0:e.width)&&(t.width=`${e.width}px`,t.minWidth=`${e.width}px`),(null==e?void 0:e.height)&&(t.height=`${e.height}px`,t.minHeight=`${e.height}px`),e&&e.styles&&(t=Object.assign(Object.assign({},t),e.styles)),t}ngAfterContentInit(){this.children.changes.pipe((0,v.O)(this.children),(0,b.R)(this.destroyed$)).subscribe((()=>{const e=this.children.map((({nativeElement:e})=>e));(null==e?void 0:e.length)&&(this.slotHTMLElements=e,this.setSlotElementStyles(this.slotHTMLElements))}))}slotChange(e){const t=e.target.assignedNodes();t&&t.length&&(this.slotHTMLElements=t,this.setSlotElementStyles(this.slotHTMLElements))}};Ob.ɵfac=function(e){return new(e||Ob)(l["ɵɵdirectiveInject"](l.Injector))},Ob.ɵcmp=l["ɵɵdefineComponent"]({type:Ob,selectors:[["crt-flex"]],contentQueries:function(e,t,n){if(1&e&&l["ɵɵcontentQuery"](n,Mb,4,l.ElementRef),2&e){let e;l["ɵɵqueryRefresh"](e=l["ɵɵloadQuery"]())&&(t.children=e)}},inputs:{direction:"direction",justifyContent:"justifyContent",wrap:"wrap",alignItems:"alignItems",gap:"gap"},features:[l["ɵɵInheritDefinitionFeature"]],ngContentSelectors:["*"],decls:6,vars:9,consts:[[1,"crt-flex",3,"ngStyle","ngClass"],[4,"ngIf","ngIfThen","ngIfElse"],["slotsTemplate",""],["itemsTemplate",""],[3,"slotchange"],["class","crt-view-element-container",3,"ngStyle",4,"ngFor","ngForOf"],[1,"crt-view-element-container",3,"ngStyle"],[3,"crtViewElement"]],template:function(e,t){if(1&e&&(l["ɵɵprojectionDef"](),l["ɵɵelementStart"](0,"div",0),l["ɵɵtemplate"](1,Db,1,0,"ng-container",1),l["ɵɵtemplate"](2,Pb,2,0,"ng-template",null,2,l["ɵɵtemplateRefExtractor"]),l["ɵɵtemplate"](4,kb,1,1,"ng-template",null,3,l["ɵɵtemplateRefExtractor"]),l["ɵɵelementEnd"]()),2&e){const e=l["ɵɵreference"](3),n=l["ɵɵreference"](5);l["ɵɵstyleProp"]("flex-direction",t.flexDirection),l["ɵɵproperty"]("ngStyle",t.flexStyles)("ngClass",t.classes),l["ɵɵattribute"]("id",t.id)("flex-direction",t.flexDirection),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",t.shouldUseSlots)("ngIfThen",e)("ngIfElse",n)}},directives:[o.NgStyle,o.NgClass,o.NgIf,o.NgForOf,_u],styles:[".crt-flex[_ngcontent-%COMP%], [_nghost-%COMP%], web-flex-container[_ngcontent-%COMP%]{display:flex;width:100%;height:100%;overflow:auto}.crt-view-element-container[_ngcontent-%COMP%]:empty{display:none}@media screen and (max-width: 600px){.crt-flex[_ngcontent-%COMP%]:not(.crt-flex-responsive){flex-direction:column!important;width:100%}}"]}),Ob=(0,a.gn)([Xs({type:"crt.FlexContainer",contentSlots:["items"]}),Ks({type:"crt.FlexContainer",toolbarConfig:[Eb("row",80),Eb("column",90)],designControlConfig:{allowDesignContent:!0},propertiesPanelComponentTypeName:"crt.FlexPropertiesPanel"}),(0,a.w6)("design:paramtypes",[l.Injector])],Ob);let jb=(()=>{class e{constructor(){this._maxGridLayoutRow=1,this._maxColumnsCount=12,this._defaultItemLayout={colSpan:1,row:1,column:1,rowSpan:1},this._defaultRowSpan=1,this._defaultColSpan=6}_applyExplicitPositions(e,t){if(e.every((e=>!(null==e?void 0:e.layoutConfig)))){let n=1,i=1;e.forEach((e=>{const r=e.layoutConfig||{};void 0===r.column&&(r.column=i,i++),void 0===r.colSpan&&(r.colSpan=1),void 0===r.row&&(r.row=n),void 0===r.rowSpan&&(r.rowSpan=1),1===r.column&&-1===r.colSpan&&n++,i>t&&(i=1,n++),e.layoutConfig=r}))}return e}_checkBitmapIntersection(e,t){let n,i;for(n=0,i=e.length;n<i;n++)if((e[n]&t[n])>0)return!0;return!1}_calculateBitMask(e,t,n){const i=n-e;return Math.pow(2,i)-Math.pow(2,i-t)}_isEmpty(e){return null==e||""===e||(0,Ku.Z)(e)&&0===e.length}_getItemBitmap(e,t){const n=[];if(this._isEmpty(e))return n;const i=e.column,r=e.row,a=e.colSpan||this._defaultColSpan;let o,s;for(o=r,s=r+(e.rowSpan||this._defaultRowSpan);o<s;o++)n[o]=this._calculateBitMask(i,a,t);return n}_setDefaultValue(e,t,n,i){e[n]||(e[n]=i),t[n]||(t[n]=i)}_fixItemIntersect(e,t){const n=e.layoutConfig,i=t.layoutConfig,r=this._tryFixColumns(n,i);let a=!0;return r||(a=this._tryFixRows(n,i)),!r&&!a&&n.row>this._maxGridLayoutRow&&(this._maxGridLayoutRow+=1),r||a||this._moveDownItem(e),e}_moveDownItem(e){this._maxGridLayoutRow++;const t=e.layoutConfig;t.row=this._maxGridLayoutRow,t.column=1;const n=this._originalItems.find((t=>t.name===e.name));n&&(t.colSpan=n.layoutConfig.colSpan||1)}_tryFixColumns(e,t){return this._setDefaultValue(e,t,"colSpan",this._defaultColSpan),this._calculateNewParameters(e,t,"column","colSpan")}_tryFixRows(e,t){return this._setDefaultValue(e,t,"rowSpan",this._defaultRowSpan),this._calculateNewParameters(e,t,"row","rowSpan")}_calculateNewParameters(e,t,n,i){const r=e[i],a=t[i],o=t[n],s=o+a,l=e[n],c=o<=l,d=c?s-l:l+r-o;return!(r<=d)&&(c&&(e[n]=s),e[i]=r-d,!0)}_compareItemsPositions(e,t){const n=e.layoutConfig||(0,so.Z)(this._defaultItemLayout),i=t.layoutConfig||(0,so.Z)(this._defaultItemLayout),r=Math.max(n.colSpan||this._defaultColSpan,n.rowSpan||this._defaultRowSpan),a=Math.max(i.colSpan||this._defaultColSpan,i.rowSpan||this._defaultRowSpan);return n.row!==i.row?n.row<i.row?-1:1:r<a||n.column<i.column&&r<=a?-1:1}_getMaxGridLayoutRow(e){const t=e.map((e=>{const t=e.layoutConfig||{};return(t.row||1)+(t.rowSpan||1)-1}));return Math.max(...t)||1}_getMaxColumnsCount(e,t){const n=e.map((e=>{const t=e.layoutConfig||{};return(t.column||1)+(t.colSpan||1)-1}));return Math.max(...n,t,this._maxColumnsCount)}fixItemsOverlap(e,t){this._originalItems=(0,so.Z)(e);const n=[],i=[];this._maxGridLayoutRow=this._getMaxGridLayoutRow(e),this._maxColumnsCount=this._getMaxColumnsCount(e,t);return[...e].sort(((e,t)=>this._compareItemsPositions(e,t))).forEach((e=>{let t=this._getItemBitmap(e.layoutConfig,this._maxColumnsCount);i.forEach((i=>{const r=this._getItemBitmap(i.layoutConfig,this._maxColumnsCount);this._checkBitmapIntersection(r,t)&&(e=this._fixItemIntersect(e,i),t=this._getItemBitmap(e.layoutConfig,this._maxColumnsCount),n.push(e.name))})),i.push(e)})),this._applyExplicitPositions(e,t),{items:e,affectedItems:n}}}return e.ɵfac=function(t){return new(t||e)},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})();const Ab=["items"];function Rb(e,t){1&e&&l["ɵɵelementContainer"](0)}function Fb(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵelementStart"](0,"slot",5),l["ɵɵlistener"]("slotchange",(function(t){l["ɵɵrestoreView"](e);return l["ɵɵnextContext"]().slotChange(t)})),l["ɵɵelementEnd"](),l["ɵɵprojection"](1)}}function Vb(e,t){if(1&e&&(l["ɵɵelementStart"](0,"div",9),l["ɵɵelementContainer"](1,10),l["ɵɵelementEnd"]()),2&e){const e=t.$implicit,n=l["ɵɵnextContext"](3);l["ɵɵproperty"]("ngStyle",n.getItemLayout(e.layoutConfig)),l["ɵɵadvance"](1),l["ɵɵproperty"]("crtViewElement",e)}}function Lb(e,t){if(1&e&&(l["ɵɵelementContainerStart"](0),l["ɵɵtemplate"](1,Vb,2,2,"div",8),l["ɵɵelementContainerEnd"]()),2&e){const e=l["ɵɵnextContext"](2);l["ɵɵadvance"](1),l["ɵɵproperty"]("ngForOf",e.items)}}function zb(e,t){if(1&e&&(l["ɵɵelementStart"](0,"div",9),l["ɵɵelementContainer"](1,10),l["ɵɵelementEnd"]()),2&e){const e=t.$implicit,n=l["ɵɵnextContext"](3);l["ɵɵproperty"]("ngStyle",n.getItemLayout(e.layoutConfig)),l["ɵɵadvance"](1),l["ɵɵproperty"]("crtViewElement",e)}}function Bb(e,t){if(1&e&&l["ɵɵtemplate"](0,zb,2,2,"div",8),2&e){const e=l["ɵɵnextContext"](2),t=l["ɵɵreference"](1);l["ɵɵproperty"]("ngForOf",e.fixItemsOverlap(e.items,t).items)}}function Gb(e,t){if(1&e&&(l["ɵɵtemplate"](0,Lb,2,1,"ng-container",6),l["ɵɵtemplate"](1,Bb,1,1,"ng-template",null,7,l["ɵɵtemplateRefExtractor"])),2&e){const e=l["ɵɵreference"](2),t=l["ɵɵnextContext"]();l["ɵɵproperty"]("ngIf",t.gridContainerAllowOverlapFeature)("ngIfElse",e)}}const Hb="minmax(32px, 1fr)",Ub=(e,t,i={},r="column")=>{const a=new Array(e).fill("minmax(32px, 1fr)");return{caption:`LayoutElements.Grid${r.charAt(0).toUpperCase()+r.slice(1)}${e}.Caption`,groupType:Mu.LayoutElements,name:`grid-${r}-${e}`,icon:n(83028)(`./grid-${r}-${e}-icon.svg`),defaultPropertyValues:Object.assign({columns:a,rows:"minmax(max-content, 32px)",gap:{columnGap:vb.Large},items:[]},i),position:t}};let Zb=class extends Sb{constructor(e){super(e),this.injector=e,this.stretch=!0,this.featureService=this.injector.get(ls),this._gridContainerItemsLayoutService=this.injector.get(jb),this.featureService.getFeatureState("GridContainerAllowOverlap").pipe((0,b.R)(this.destroyed$)).subscribe((e=>this.gridContainerAllowOverlapFeature=e))}ngAfterContentInit(){this.children.changes.pipe((0,v.O)(this.children),(0,b.R)(this.destroyed$)).subscribe((()=>{const e=this.children.map((({nativeElement:e})=>e));(null==e?void 0:e.length)&&(this.slotHTMLElements=e,this.setSlotElementStyles(this.slotHTMLElements))}))}getClasses(){return[...super.getClasses()||[],...this._gridTemplateColumnsClasses(),...this._gapClasses()]}get gridStyles(){const e={};return this.justifyItems&&(e.justifyItems=this.justifyItems),this.alignItems&&(e.alignItems=this.alignItems),this.isResponsiveWidth&&(e.gridTemplateAreas="initial"),this.stretch||(e.position="absolute"),Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},this.containerStyles),e),this._gapStyles()),this._rowsStyles()),this._columnsStyles())}get gridTemplateColumns(){return this.width<this.responsiveWidth?Hb:this.gridStyles.gridTemplateColumns}_gapStyles(){const e={},t=this.gap;if((0,Xu.Z)(t)){const{columnGap:n,rowGap:i}=t;this.applySizeStyle("columnGap",n,e),this.applySizeStyle("rowGap",i,e)}else this.applySizeStyle("gap",this.gap,e);return e}_rowsStyles(){const e={};return"string"==typeof this.rows?e.gridAutoRows=this.rows:this.rows instanceof Array&&(e.gridTemplateRows=this.rows.join(" ")),e}_columnsStyles(){const e={};return"string"==typeof this.columns?e.gridAutoColumns=this.columns:this.columns instanceof Array&&(e.gridTemplateColumns=this.columns.join(" ")),e}_gridTemplateColumnsClasses(){const e=[];return this.width<this.responsiveWidth&&e.push("crt-grid-responsive"),e}_gapClasses(){const e=[],t=this.gap;if(t)if((0,Xu.Z)(t)){const{columnGap:n,rowGap:i}=t;this.applySizeClass("container-column-gap-{0}",n,e),this.applySizeClass("container-row-gap-{0}",i,e)}else this.applySizeClass("container-gap-{0}",t,e);return e}_fullLayoutConfig(e){const t={};let n="";void 0!==(null==e?void 0:e.column)&&(n+=e.column),void 0!==(null==e?void 0:e.colSpan)&&(n&&(n+="/"),-1!==e.colSpan&&(n+="span "),n+=e.colSpan);let i="";return void 0!==(null==e?void 0:e.row)&&(i+=e.row),void 0!==(null==e?void 0:e.rowSpan)&&(i&&(i+="/"),-1!==e.rowSpan&&(i+="span "),i+=e.rowSpan),n&&(t.gridColumn=n),i&&(t.gridRow=i),t}_responsiveLayoutConfig(e){const t={},n=null==e?void 0:e.rowSpan;return void 0!==n&&-1!==n&&(t.gridRow=`span ${n}`),t}_computedGridColumns(e){return getComputedStyle(e).getPropertyValue("container-template-columns").split(" ")}_applySlotElementsResponsiveStyles(e){var t;for(const n of e){const e=null===(t=null==n?void 0:n.layoutConfig)||void 0===t?void 0:t.rowSpan;void 0!==e&&-1!==e&&(this.renderer.setStyle(n,"grid-row-start",`span ${e}`),this.renderer.setStyle(n,"grid-row-end","auto")),this.renderer.setStyle(n,"grid-column-start","auto"),this.renderer.setStyle(n,"grid-column-end","auto")}}applySlotElementStyles(e){this.isResponsiveWidth?this._applySlotElementsResponsiveStyles(e):super.applySlotElementStyles(e)}castElementStylesToLayoutConfig(e){const[t,n,i,r]=["row","column","row-span","col-span"].map((t=>{const n=`layout-config-${t}`,i=e.getAttribute(n);if(i)return Number(i)}));return{row:t,column:n,rowSpan:i,colSpan:r}}castSlotElements(e){for(const t of e)t.layoutConfig=this.castElementStylesToLayoutConfig(t);let t=e;return this.gridContainerAllowOverlapFeature&&(t=this.fixItemsOverlap(e,this.container).items),t}onResize(){super.onResize(),this.shouldUseSlots&&this.window.requestAnimationFrame((()=>{this.zone.run((()=>{this.setSlotElementStyles(this.slotHTMLElements)}))}))}getItemLayout(e){return e?this.isResponsiveWidth?this._responsiveLayoutConfig(e):this._fullLayoutConfig(e):null}fixItemsOverlap(e,t){let n=[];if(!0!==this.allowOverlap&&e){const i=this._computedGridColumns(t);n=this._gridContainerItemsLayoutService.fixItemsOverlap(e,i.length).affectedItems}return{items:e,affectedItems:n}}slotChange(e){const t=e.target.assignedNodes();t&&t.length&&(this.slotHTMLElements=t,this.setSlotElementStyles(this.slotHTMLElements))}};function $b(e,t){if(1&e&&(l["ɵɵelementStart"](0,"div",2),l["ɵɵelementContainer"](1,3),l["ɵɵelementEnd"]()),2&e){const e=t.$implicit;l["ɵɵadvance"](1),l["ɵɵproperty"]("crtViewElement",e)}}Zb.ɵfac=function(e){return new(e||Zb)(l["ɵɵdirectiveInject"](l.Injector))},Zb.ɵcmp=l["ɵɵdefineComponent"]({type:Zb,selectors:[["crt-grid"]],contentQueries:function(e,t,n){if(1&e&&l["ɵɵcontentQuery"](n,Ab,4,l.ElementRef),2&e){let e;l["ɵɵqueryRefresh"](e=l["ɵɵloadQuery"]())&&(t.children=e)}},inputs:{rows:"rows",columns:"columns",gap:"gap",justifyItems:"justifyItems",alignItems:"alignItems",allowOverlap:"allowOverlap",stretch:"stretch"},features:[l["ɵɵInheritDefinitionFeature"]],ngContentSelectors:["*"],decls:7,vars:8,consts:[[1,"crt-grid",3,"ngStyle","ngClass"],["container",""],[4,"ngIf","ngIfThen","ngIfElse"],["slotsTemplate",""],["itemsTemplate",""],[3,"slotchange"],[4,"ngIf","ngIfElse"],["fixItemsLayoutConfig",""],[3,"ngStyle",4,"ngFor","ngForOf"],[3,"ngStyle"],[3,"crtViewElement"]],template:function(e,t){if(1&e&&(l["ɵɵprojectionDef"](),l["ɵɵelementStart"](0,"div",0,1),l["ɵɵtemplate"](2,Rb,1,0,"ng-container",2),l["ɵɵtemplate"](3,Fb,2,0,"ng-template",null,3,l["ɵɵtemplateRefExtractor"]),l["ɵɵtemplate"](5,Gb,3,2,"ng-template",null,4,l["ɵɵtemplateRefExtractor"]),l["ɵɵelementEnd"]()),2&e){const e=l["ɵɵreference"](4),n=l["ɵɵreference"](6);l["ɵɵstyleProp"]("grid-template-columns",t.gridTemplateColumns),l["ɵɵproperty"]("ngStyle",t.gridStyles)("ngClass",t.classes),l["ɵɵattribute"]("id",t.id),l["ɵɵadvance"](2),l["ɵɵproperty"]("ngIf",t.shouldUseSlots)("ngIfThen",e)("ngIfElse",n)}},directives:[o.NgStyle,o.NgClass,o.NgIf,o.NgForOf,_u],styles:["[_nghost-%COMP%], crt-grid[_ngcontent-%COMP%], web-grid-container[_ngcontent-%COMP%]{display:block;width:100%;height:100%;position:relative}[_nghost-%COMP%]   .crt-grid[_ngcontent-%COMP%], crt-grid[_ngcontent-%COMP%]   .crt-grid[_ngcontent-%COMP%], web-grid-container[_ngcontent-%COMP%]   .crt-grid[_ngcontent-%COMP%]{display:grid;overflow:auto;height:100%;width:100%}[_nghost-%COMP%]   .crt-grid[_ngcontent-%COMP%] > *[_ngcontent-%COMP%], crt-grid[_ngcontent-%COMP%]   .crt-grid[_ngcontent-%COMP%] > *[_ngcontent-%COMP%], web-grid-container[_ngcontent-%COMP%]   .crt-grid[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{overflow:auto}@media screen and (max-width: 600px){.crt-grid[_ngcontent-%COMP%]:not(.crt-grid-responsive){grid-template-columns:1fr!important}}"]}),Zb=(0,a.gn)([Xs({type:"crt.GridContainer",contentSlots:["items"]}),Ks({type:"crt.GridContainer",toolbarConfig:[((e,t)=>{const n={padding:{top:vb.Large,right:vb.Large,bottom:vb.Large,left:vb.Large},color:_b.Primary.key,borderRadius:vb.Medium};return Ub(e,t,n,"area")})(1,30),Ub(1,40),Ub(2,50),Ub(3,60),Ub(4,70)],designControlConfig:{allowDesignContent:!0},propertiesPanelComponentTypeName:"crt.GridPropertiesPanel"}),(0,a.w6)("design:paramtypes",[l.Injector])],Zb);let Wb=class extends xb{};function qb(e,t){if(1&e&&l["ɵɵelementContainer"](0,3),2&e){const e=t.$implicit,n=l["ɵɵnextContext"](2);l["ɵɵproperty"]("crtViewModel",e)("crtViewElement",n.itemViewConfig)}}function Yb(e,t){if(1&e&&(l["ɵɵelementStart"](0,"div"),l["ɵɵtemplate"](1,qb,1,2,"ng-container",2),l["ɵɵelementEnd"]()),2&e){const e=l["ɵɵnextContext"]();l["ɵɵadvance"](1),l["ɵɵproperty"]("ngForOf",e.viewModels)}}Wb.ɵfac=function(){let e;return function(t){return(e||(e=l["ɵɵgetInheritedFactory"](Wb)))(t||Wb)}}(),Wb.ɵcmp=l["ɵɵdefineComponent"]({type:Wb,selectors:[["crt-header"]],features:[l["ɵɵInheritDefinitionFeature"]],ngContentSelectors:["*"],decls:3,vars:1,consts:[[1,"header-content"],["class","header-content-item",4,"ngFor","ngForOf"],[1,"header-content-item"],[3,"crtViewElement"]],template:function(e,t){1&e&&(l["ɵɵprojectionDef"](),l["ɵɵelementStart"](0,"div",0),l["ɵɵprojection"](1),l["ɵɵtemplate"](2,$b,2,1,"div",1),l["ɵɵelementEnd"]()),2&e&&(l["ɵɵadvance"](2),l["ɵɵproperty"]("ngForOf",t.items))},directives:[o.NgForOf,_u],styles:["[_nghost-%COMP%]{display:block;padding-bottom:6px}"]}),Wb=(0,a.gn)([Xs({type:"crt.HeaderContainer",contentSlots:["items"]}),Ks({type:"crt.HeaderContainer"})],Wb);let Jb=class extends Us{};Jb.ɵfac=function(){let e;return function(t){return(e||(e=l["ɵɵgetInheritedFactory"](Jb)))(t||Jb)}}(),Jb.ɵcmp=l["ɵɵdefineComponent"]({type:Jb,selectors:[["ts-component-list"]],inputs:{itemViewConfig:"itemViewConfig",viewModels:"viewModels"},features:[l["ɵɵInheritDefinitionFeature"]],decls:2,vars:4,consts:[[1,"ts-component-list",3,"ngStyle","ngClass"],[4,"ngIf"],[3,"crtViewModel","crtViewElement",4,"ngFor","ngForOf"],[3,"crtViewModel","crtViewElement"]],template:function(e,t){1&e&&(l["ɵɵelementStart"](0,"div",0),l["ɵɵtemplate"](1,Yb,2,1,"div",1),l["ɵɵelementEnd"]()),2&e&&(l["ɵɵproperty"]("ngStyle",t.styles)("ngClass",t.classes),l["ɵɵattribute"]("id",t.id),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",t.viewModels))},directives:[o.NgStyle,o.NgClass,o.NgIf,o.NgForOf,Su,_u],encapsulation:2}),Jb=(0,a.gn)([Xs({type:"crt.ComponentList"})],Jb);let Qb=class extends Us{};Qb.ɵfac=function(){let e;return function(t){return(e||(e=l["ɵɵgetInheritedFactory"](Qb)))(t||Qb)}}(),Qb.ɵcmp=l["ɵɵdefineComponent"]({type:Qb,selectors:[["ts-label"]],inputs:{label:"label"},features:[l["ɵɵInheritDefinitionFeature"]],decls:3,vars:4,consts:[[1,"ts-label",3,"ngStyle","ngClass"]],template:function(e,t){1&e&&(l["ɵɵelementStart"](0,"div",0),l["ɵɵelementStart"](1,"label"),l["ɵɵtext"](2),l["ɵɵelementEnd"](),l["ɵɵelementEnd"]()),2&e&&(l["ɵɵproperty"]("ngStyle",t.styles)("ngClass",t.classes),l["ɵɵattribute"]("id",t.id),l["ɵɵadvance"](2),l["ɵɵtextInterpolate"](t.label))},directives:[o.NgStyle,o.NgClass],encapsulation:2}),(0,a.gn)([(0,r.CrtInput)(),(0,a.w6)("design:type",String)],Qb.prototype,"label",void 0),Qb=(0,a.gn)([Xs({type:"crt.DeprecatedLabel"})],Qb);let Kb=class extends Us{};Kb.ɵfac=function(){let e;return function(t){return(e||(e=l["ɵɵgetInheritedFactory"](Kb)))(t||Kb)}}(),Kb.ɵcmp=l["ɵɵdefineComponent"]({type:Kb,selectors:[["ts-list"]],features:[l["ɵɵInheritDefinitionFeature"]],decls:16,vars:3,consts:[[1,"ts-list",3,"ngStyle","ngClass"]],template:function(e,t){1&e&&(l["ɵɵelementStart"](0,"div",0),l["ɵɵelementStart"](1,"ul"),l["ɵɵelementStart"](2,"li"),l["ɵɵtext"](3,"1 Item"),l["ɵɵelementEnd"](),l["ɵɵelementStart"](4,"li"),l["ɵɵtext"](5,"2 Item"),l["ɵɵelementEnd"](),l["ɵɵelementStart"](6,"li"),l["ɵɵtext"](7,"3 Item"),l["ɵɵelementEnd"](),l["ɵɵelementStart"](8,"li"),l["ɵɵtext"](9,"4 Item"),l["ɵɵelementEnd"](),l["ɵɵelementStart"](10,"li"),l["ɵɵtext"](11,"5 Item"),l["ɵɵelementEnd"](),l["ɵɵelementStart"](12,"li"),l["ɵɵtext"](13,"6 Item"),l["ɵɵelementEnd"](),l["ɵɵelementStart"](14,"li"),l["ɵɵtext"](15,"7 Item"),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵelementEnd"]()),2&e&&(l["ɵɵproperty"]("ngStyle",t.styles)("ngClass",t.classes),l["ɵɵattribute"]("id",t.id))},directives:[o.NgStyle,o.NgClass],encapsulation:2}),Kb=(0,a.gn)([Xs({type:"crt.List"})],Kb);let Xb=(()=>{class e{constructor(){this._direction="right",this.animationState="initial",this.isExpanded=!1,this.toggle=new l.EventEmitter}set direction(e){this._direction=e}get direction(){return this._direction}set animationDisabled(e){this._animationDisabled=e}get animationDisabled(){return this._animationDisabled}_setDefaultAnimationState(){this.animationState="initial"}_changeAnimationState(e){this.animationState=e}_onMouseEnter(){this._changeAnimationState(`slide-${this.direction}`)}_onMouseLeave(){this._changeAnimationState("initial")}onMouseAction(e){if(this.animationDisabled)this._setDefaultAnimationState();else switch(e){case"enter":this._onMouseEnter();break;case"leave":this._onMouseLeave()}}onToggle(){this.toggle.emit()}}return e.ɵfac=function(t){return new(t||e)},e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["crt-expansion-button"]],inputs:{isExpanded:"isExpanded",direction:"direction",animationDisabled:"animationDisabled"},outputs:{toggle:"toggle"},decls:3,vars:8,consts:[[3,"mouseenter","mouseleave","click"],["svgIcon","collapse",1,"arrow-icon"]],template:function(e,t){1&e&&(l["ɵɵelementStart"](0,"div",0),l["ɵɵlistener"]("mouseenter",(function(){return t.onMouseAction("enter")}))("mouseleave",(function(){return t.onMouseAction("leave")}))("click",(function(){return t.onToggle()})),l["ɵɵelementStart"](1,"div"),l["ɵɵelement"](2,"mat-icon",1),l["ɵɵelementEnd"](),l["ɵɵelementEnd"]()),2&e&&(l["ɵɵclassMapInterpolate1"]("expansion-button-wrapper ",t.direction,""),l["ɵɵadvance"](1),l["ɵɵclassMapInterpolate1"]("expansion-btn ",t.animationState,""),l["ɵɵadvance"](1),l["ɵɵclassProp"]("reversed",t.isExpanded))},directives:[St.Hw],styles:[".expansion-button-wrapper{width:29px;height:40px;display:flex;position:absolute}.expansion-button-wrapper.left{justify-content:flex-end;left:-17px}.expansion-button-wrapper.left .expansion-btn{border-radius:8px 0 0 8px}.expansion-button-wrapper.left .expansion-btn .arrow-icon{transform:rotate(0)}.expansion-button-wrapper.left .expansion-btn .arrow-icon.reversed{transform:rotate(180deg)}.expansion-button-wrapper.right{justify-content:flex-start;left:17px}.expansion-button-wrapper.right .expansion-btn{border-radius:0 8px 8px 0}.expansion-button-wrapper.right .expansion-btn .arrow-icon{transform:rotate(180deg)}.expansion-button-wrapper.right .expansion-btn .arrow-icon.reversed{transform:rotate(0)}.expansion-button-wrapper .expansion-btn{display:flex;justify-content:center;align-items:center;height:100%;cursor:pointer;transition:.3s cubic-bezier(.18,.89,.32,1.28)}.expansion-button-wrapper .expansion-btn.initial{width:16px}.expansion-button-wrapper .expansion-btn.slide-left,.expansion-button-wrapper .expansion-btn.slide-right{width:25px}.expansion-button-wrapper .expansion-btn .arrow-icon{height:16px;width:16px}"],encapsulation:2}),e})(),eC=(()=>{class e{constructor(e,t){this._matIconRegistry=e,this._domSanitizer=t,this._registerIcons()}_registerIcons(){["collapse"].forEach((e=>{this._matIconRegistry.addSvgIconLiteral(e,this._domSanitizer.bypassSecurityTrustHtml(n(88395)("./"+e+".svg")))}))}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](St.jv),l["ɵɵinject"](i.DomSanitizer))},e.ɵmod=l["ɵɵdefineNgModule"]({type:e}),e.ɵinj=l["ɵɵdefineInjector"]({imports:[[o.CommonModule,St.Ps]]}),e})();function tC(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵelementStart"](0,"crt-expansion-button",2),l["ɵɵlistener"]("toggle",(function(){l["ɵɵrestoreView"](e);return l["ɵɵnextContext"]().onToggle()})),l["ɵɵelementEnd"]()}if(2&e){const e=l["ɵɵnextContext"]();l["ɵɵproperty"]("direction",null==e.panelConfig?null:e.panelConfig.direction)("animationDisabled",null==e.panelConfig?null:e.panelConfig.animationDisabled)("isExpanded",e.isExpanded)}}("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](eC,{declarations:[Xb],imports:[o.CommonModule,St.Ps],exports:[Xb]});const nC=function(e){return{show:e}},iC=["*"];let rC=(()=>{class e{constructor(){this.isExpanded=!1,this.toggle=new l.EventEmitter}onToggle(){this.toggle.emit()}}return e.ɵfac=function(t){return new(t||e)},e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["ts-vertical-expansion-panel"]],inputs:{isExpanded:"isExpanded",panelConfig:"panelConfig"},outputs:{toggle:"toggle"},ngContentSelectors:iC,decls:4,vars:7,consts:[["class","expansion-button",3,"direction","animationDisabled","isExpanded","toggle",4,"ngIf"],[1,"panel",3,"ngClass"],[1,"expansion-button",3,"direction","animationDisabled","isExpanded","toggle"]],template:function(e,t){1&e&&(l["ɵɵprojectionDef"](),l["ɵɵelementStart"](0,"div"),l["ɵɵtemplate"](1,tC,1,3,"crt-expansion-button",0),l["ɵɵelementStart"](2,"div",1),l["ɵɵprojection"](3),l["ɵɵelementEnd"](),l["ɵɵelementEnd"]()),2&e&&(l["ɵɵclassMapInterpolate1"]("container button-placement-",null==t.panelConfig?null:t.panelConfig.direction,""),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",null==t.panelConfig?null:t.panelConfig.showToggleButton),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngClass",l["ɵɵpureFunction1"](5,nC,t.isExpanded)))},directives:[o.NgIf,o.NgClass,Xb],styles:[".container[_ngcontent-%COMP%]{position:relative;height:100%}.expansion-button[_ngcontent-%COMP%]{position:absolute;z-index:2}.button-placement-left[_ngcontent-%COMP%]   .expansion-button[_ngcontent-%COMP%]{right:calc(100% + 10px)}.button-placement-right[_ngcontent-%COMP%]   .expansion-button[_ngcontent-%COMP%]{left:100%}.panel[_ngcontent-%COMP%]{display:none}.panel.show[_ngcontent-%COMP%]{display:block;height:100%}"]}),e})(),aC=(()=>{class e{}return e.ɵfac=function(t){return new(t||e)},e.ɵmod=l["ɵɵdefineNgModule"]({type:e}),e.ɵinj=l["ɵɵdefineInjector"]({imports:[[o.CommonModule]]}),e})();("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](aC,{imports:[o.CommonModule]});let oC=(()=>{class e{constructor(e){this._featureService=e}getCurrentThemeName(){var e;return this.currentTheme=null!==(e=this.currentTheme)&&void 0!==e?e:this._featureService.getFeatureState("UseOrangeThemeForALM").pipe((0,g.U)((e=>e?"orange-theme":"")),(0,Ul.d)()),this.currentTheme}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](ls))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"root"}),e})();const sC=["*"];let lC=(()=>{class e{constructor(e,t){this._almThemeService=e,this._materialIconsRegistrator=t;const i=[{name:"ellipse-logo",icon:n(8341)},{name:"rectangle-logo",icon:n(78254)},{name:"polygon-logo",icon:n(33517)},{name:"header-logo",icon:n(64478)}];this._materialIconsRegistrator.addIcons(i)}_getTheme(){return this._almThemeService.getCurrentThemeName()}ngOnInit(){this.themeName||this._getTheme().subscribe((e=>this.themeName=e))}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](oC),l["ɵɵdirectiveInject"](Dn))},e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["ts-alm-pages-container"]],inputs:{themeName:"themeName"},ngContentSelectors:sC,decls:17,vars:2,consts:[[1,"pages-wrapper"],[1,"header"],["svgIcon","header-logo",1,"header-logo-icon"],["svgIcon","ellipse-logo",1,"ellipse-logo-icon"],["svgIcon","rectangle-logo",1,"rectangle-logo-icon"],["svgIcon","polygon-logo",1,"polygon-logo-icon"],[1,"page-wrap"],[1,"footer"],[1,"slogan"]],template:function(e,t){1&e&&(l["ɵɵprojectionDef"](),l["ɵɵelementStart"](0,"div",0),l["ɵɵelementStart"](1,"div",1),l["ɵɵelement"](2,"mat-icon",2),l["ɵɵelementEnd"](),l["ɵɵelement"](3,"mat-icon",3),l["ɵɵelement"](4,"mat-icon",4),l["ɵɵelement"](5,"mat-icon",5),l["ɵɵelementStart"](6,"div",6),l["ɵɵelement"](7,"router-outlet"),l["ɵɵprojection"](8),l["ɵɵelementEnd"](),l["ɵɵelementStart"](9,"div",7),l["ɵɵelementStart"](10,"div",8),l["ɵɵelementStart"](11,"span"),l["ɵɵtext"](12,"One Platform"),l["ɵɵelementEnd"](),l["ɵɵelementStart"](13,"span"),l["ɵɵtext"](14,"Freedom"),l["ɵɵelementEnd"](),l["ɵɵelementStart"](15,"span"),l["ɵɵtext"](16,"Genuine Care"),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵelementEnd"]()),2&e&&l["ɵɵclassMap"](t.themeName)},directives:[St.Hw,Wp.lC],styles:[".pages-wrapper[_ngcontent-%COMP%]{min-width:100vw;min-height:100vh}.pages-wrapper[_ngcontent-%COMP%]   .page-wrap[_ngcontent-%COMP%]{width:100%;height:calc(100vh - 52px)}.pages-wrapper[_ngcontent-%COMP%]   .ellipse-logo-icon[_ngcontent-%COMP%]{width:537px;height:537px;position:fixed;left:37vw;bottom:-100px;overflow:hidden}.pages-wrapper[_ngcontent-%COMP%]   .rectangle-logo-icon[_ngcontent-%COMP%]{width:127px;height:127px;position:fixed;bottom:-25px;right:10vh;overflow:hidden}.pages-wrapper[_ngcontent-%COMP%]   .polygon-logo-icon[_ngcontent-%COMP%]{width:74px;height:85px;position:absolute;left:4vw;bottom:3vh}.pages-wrapper[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{z-index:10}.pages-wrapper[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-logo-icon[_ngcontent-%COMP%]{position:absolute;top:6px;right:9px;width:115px;height:25px}.pages-wrapper[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{position:fixed;bottom:0;left:0;width:100%;z-index:10;height:52px}.pages-wrapper[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .slogan[_ngcontent-%COMP%]{position:absolute;bottom:18px;left:20px}.pages-wrapper[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .slogan[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding-right:50px}"]}),e})();const cC=[];let dC=(()=>{class e{}return e.ɵfac=function(t){return new(t||e)},e.ɵmod=l["ɵɵdefineNgModule"]({type:e}),e.ɵinj=l["ɵɵdefineInjector"]({imports:[[Wp.Bz.forChild(cC),u.aw,St.Ps]]}),e})();("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](dC,{declarations:[lC],imports:[Wp.Bz,u.aw,St.Ps],exports:[lC]});let uC=(()=>{class e{constructor(e){this._rightsService=e}transform(e,t){return e?this._rightsService.getCanExecuteOperation(t).pipe((0,g.U)((t=>e&&t))):(0,h.of)(!1)}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](Fs,16))},e.ɵpipe=l["ɵɵdefinePipe"]({name:"checkOperationPermission",type:e,pure:!0}),e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"root"}),e})(),pC=(()=>{class e{}return e.ɵfac=function(t){return new(t||e)},e.ɵmod=l["ɵɵdefineNgModule"]({type:e}),e.ɵinj=l["ɵɵdefineInjector"]({}),e})();function mC(e,t){if(1&e&&(l["ɵɵelementStart"](0,"mat-option",9),l["ɵɵtext"](1),l["ɵɵelementEnd"]()),2&e){const e=t.$implicit,n=l["ɵɵnextContext"]();l["ɵɵproperty"]("value",e),l["ɵɵadvance"](1),l["ɵɵtextInterpolate1"](" ",n.selectDisplayValue(e)," ")}}("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](pC,{declarations:[uC],exports:[uC]});let hC=(()=>{class e{constructor(){this.label="",this.selectedItem=null,this.selectedItemChange=new l.EventEmitter,this.list=[],this.fieldFocus=new l.EventEmitter,this.disabled="false"}_filterList(e){this.filteredList=e?this.list.filter((t=>t.displayValue.toLowerCase().indexOf(e.toLowerCase())>=0)):this.list}ngOnInit(){console.error('Component "ComboboxEditComponent" is deprecated and will removed in future versions'),this.list$&&this.list$.pipe((0,g.U)((e=>this.list=e))).subscribe()}selectDisplayValue(e){return e&&e.displayValue||""}onOptionSelected(e){const t=e.option.value;this.selectedItem=t,this.selectedItemChange.emit(t)}onFieldInput(e){this._filterList(e.target.value)}onFieldFocus(){this.filteredList=this.list,this.fieldFocus.emit()}onAutocompleteClosed(e){this.list.some((t=>t.displayValue.toLowerCase()===e.toLowerCase()))||(this.selectedItem=null,this.selectedItemChange.emit(null),this._filterList(""))}}return e.ɵfac=function(t){return new(t||e)},e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["ts-combobox-edit"]],inputs:{label:"label",selectedItem:"selectedItem",list$:"list$",disabled:"disabled"},outputs:{selectedItemChange:"selectedItemChange",fieldFocus:"fieldFocus"},decls:11,vars:6,consts:[["floatLabel","always",1,"combobox-edit"],[1,"combobox-edit-search-input"],["type","text","matInput","","spellcheck","false",3,"matAutocomplete","value","disabled","input","focus"],["input",""],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],[3,"displayWith","optionSelected","closed"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵelementStart"](0,"mat-form-field",0),l["ɵɵelementStart"](1,"mat-label"),l["ɵɵtext"](2),l["ɵɵelementEnd"](),l["ɵɵelementStart"](3,"div",1),l["ɵɵelementStart"](4,"input",2,3),l["ɵɵlistener"]("input",(function(e){return t.onFieldInput(e)}))("focus",(function(){return t.onFieldFocus()})),l["ɵɵelementEnd"](),l["ɵɵelementStart"](6,"div",4),l["ɵɵelement"](7,"div",5),l["ɵɵelementEnd"](),l["ɵɵelementStart"](8,"mat-autocomplete",6,7),l["ɵɵlistener"]("optionSelected",(function(e){return t.onOptionSelected(e)}))("closed",(function(){l["ɵɵrestoreView"](e);const n=l["ɵɵreference"](5);return t.onAutocompleteClosed(n.value)})),l["ɵɵtemplate"](10,mC,2,2,"mat-option",8),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵelementEnd"]()}if(2&e){const e=l["ɵɵreference"](9);l["ɵɵadvance"](2),l["ɵɵtextInterpolate"](t.label),l["ɵɵadvance"](2),l["ɵɵproperty"]("matAutocomplete",e)("value",t.selectDisplayValue(t.selectedItem))("disabled",t.disabled),l["ɵɵadvance"](4),l["ɵɵproperty"]("displayWith",t.selectDisplayValue),l["ɵɵadvance"](2),l["ɵɵproperty"]("ngForOf",t.filteredList)}},directives:[x.KE,x.hX,j.Nt,O.ZL,O.XC,o.NgForOf,R.ey],styles:[".combobox-edit[_ngcontent-%COMP%]{width:100%}.combobox-edit[_ngcontent-%COMP%]   .combobox-edit-search-input[_ngcontent-%COMP%]{width:100%;display:inline-flex;align-items:center}"]}),e})();function gC(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵelementStart"](0,"mat-form-field",1),l["ɵɵelementStart"](1,"mat-label"),l["ɵɵtext"](2),l["ɵɵelementEnd"](),l["ɵɵelementStart"](3,"input",2),l["ɵɵlistener"]("keydown.enter",(function(t){l["ɵɵrestoreView"](e);return l["ɵɵnextContext"]().onEnterKeyDown(t)})),l["ɵɵelementEnd"](),l["ɵɵelementEnd"]()}if(2&e){const e=l["ɵɵnextContext"]();l["ɵɵproperty"]("ngStyle",e.styles)("ngClass",e.classes),l["ɵɵattribute"]("id",e.id),l["ɵɵadvance"](2),l["ɵɵtextInterpolate"](e.caption),l["ɵɵadvance"](1),l["ɵɵproperty"]("formControl",e.value)("value",null==e.value?null:e.value.value)}}let fC=class extends Us{constructor(){super(...arguments),this.enterKeyDown=new l.EventEmitter}onEnterKeyDown(e){this.enterKeyDown.next(e)}};fC.ɵfac=function(){let e;return function(t){return(e||(e=l["ɵɵgetInheritedFactory"](fC)))(t||fC)}}(),fC.ɵcmp=l["ɵɵdefineComponent"]({type:fC,selectors:[["ts-input"]],inputs:{caption:"caption",value:"value"},outputs:{enterKeyDown:"enterKeyDown"},features:[l["ɵɵInheritDefinitionFeature"]],decls:1,vars:1,consts:[["class","full-width ts-input","appearance","fill",3,"ngStyle","ngClass",4,"ngIf"],["appearance","fill",1,"full-width","ts-input",3,"ngStyle","ngClass"],["matInput","","autocomplete","off",3,"formControl","value","keydown.enter"]],template:function(e,t){1&e&&l["ɵɵtemplate"](0,gC,4,6,"mat-form-field",0),2&e&&l["ɵɵproperty"]("ngIf",t.value)},directives:[o.NgIf,x.KE,o.NgStyle,o.NgClass,x.hX,j.Nt,c.Fj,c.JJ,c.oH],encapsulation:2}),(0,a.gn)([(0,r.CrtInput)(),(0,a.w6)("design:type",String)],fC.prototype,"caption",void 0),(0,a.gn)([(0,r.CrtInput)(),(0,a.w6)("design:type",c.NI)],fC.prototype,"value",void 0),fC=(0,a.gn)([Xs({type:"crt.DeprecatedInput",formControlConfig:{relatesTo:"value"}})],fC);var vC=(()=>(function(e){e.Input="Input",e.CheckBox="CheckBox",e.Select="Select",e.Button="Button",e.LocalizableText="LocalizableText",e.FieldsGroup="FieldsGroup",e.FormGroup="FormGroup",e.Autocomplete="Autocomplete",e.RadioButtonGroup="RadioButtonGroup",e.Custom="Custom",e.Lookup="Lookup"}(vC||(vC={})),vC))();const bC=new l.InjectionToken("FIELD_CONFIG");var CC=(()=>(function(e){e.General="general",e.Editability="editability",e.Appearance="appearance",e.Advanced="advanced",e.ObjectSettings="objectsettings",e.Inheritance="inheritance",e.Behavior="behavior",e.DataSource="datasource",e.AccessRights="accessRights",e.HistoryColumns="historyColumns"}(CC||(CC={})),CC))();let yC=(()=>{class e{get invalid(){return this.group.get(this.field.name).invalid}get required(){return this.field.validations&&this.field.validations.some((e=>"required"===e.name))}get error(){const{validations:e,asyncValidations:t}=this.field;let n="";return[e,t].some((e=>{if(e)for(const t of e)if(this.group.get(this.field.name).hasError(t.name))return n=t.message,!0})),n}ngOnInit(){void 0!==this.field.value&&this.group.get(this.field.name)&&this.group.get(this.field.name).setValue(this.field.value)}}return e.ɵfac=function(t){return new(t||e)},e.ɵdir=l["ɵɵdefineDirective"]({type:e}),e})(),wC=(()=>{class e extends yC{}return e.ɵfac=function(){let t;return function(n){return(t||(t=l["ɵɵgetInheritedFactory"](e)))(n||e)}}(),e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["ts-button-control"]],features:[l["ɵɵInheritDefinitionFeature"]],decls:3,vars:2,consts:[[1,"full-width","ts-button-control",3,"formGroup"],["type","submit","mat-raised-button","","color","primary"]],template:function(e,t){1&e&&(l["ɵɵelementStart"](0,"div",0),l["ɵɵelementStart"](1,"button",1),l["ɵɵtext"](2),l["ɵɵelementEnd"](),l["ɵɵelementEnd"]()),2&e&&(l["ɵɵproperty"]("formGroup",t.group),l["ɵɵadvance"](2),l["ɵɵtextInterpolate"](t.field.label))},directives:[c.JL,c.sg,B.lW],styles:["[_nghost-%COMP%]{display:block}"]}),e})();function _C(e,t){if(1&e&&(l["ɵɵelementStart"](0,"mat-error"),l["ɵɵtext"](1),l["ɵɵelementEnd"]()),2&e){const e=l["ɵɵnextContext"]();l["ɵɵadvance"](1),l["ɵɵtextInterpolate"](e.error)}}let xC=(()=>{class e extends yC{}return e.ɵfac=function(){let t;return function(n){return(t||(t=l["ɵɵgetInheritedFactory"](e)))(n||e)}}(),e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["ts-checkbox-control"]],features:[l["ɵɵInheritDefinitionFeature"]],decls:4,vars:4,consts:[[1,"full-width","ts-checkbox-control",3,"formGroup"],["disableRipple","",3,"formControlName"],[4,"ngIf"]],template:function(e,t){1&e&&(l["ɵɵelementStart"](0,"div",0),l["ɵɵelementStart"](1,"mat-checkbox",1),l["ɵɵtext"](2),l["ɵɵelementEnd"](),l["ɵɵtemplate"](3,_C,2,1,"mat-error",2),l["ɵɵelementEnd"]()),2&e&&(l["ɵɵproperty"]("formGroup",t.group),l["ɵɵadvance"](1),l["ɵɵproperty"]("formControlName",t.field.name),l["ɵɵadvance"](1),l["ɵɵtextInterpolate"](t.field.label),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",t.invalid))},directives:[c.JL,c.sg,ce.oG,c.JJ,c.u,o.NgIf,x.TO],styles:[":host{display:block}.ts-checkbox-control .mat-checkbox{display:block}"],encapsulation:2}),e})();function IC(e,t){if(1&e&&(l["ɵɵelementStart"](0,"mat-error"),l["ɵɵtext"](1),l["ɵɵelementEnd"]()),2&e){const e=l["ɵɵnextContext"]();l["ɵɵadvance"](1),l["ɵɵtextInterpolate"](e.error)}}let SC=(()=>{class e extends yC{}return e.ɵfac=function(){let t;return function(n){return(t||(t=l["ɵɵgetInheritedFactory"](e)))(n||e)}}(),e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["ts-input-control"]],features:[l["ɵɵInheritDefinitionFeature"]],decls:5,vars:5,consts:[["floatLabel","always",1,"full-width","ts-input-control",3,"formGroup"],["matInput","","autocomplete","off",3,"formControlName","required"],[4,"ngIf"]],template:function(e,t){1&e&&(l["ɵɵelementStart"](0,"mat-form-field",0),l["ɵɵelementStart"](1,"mat-label"),l["ɵɵtext"](2),l["ɵɵelementEnd"](),l["ɵɵelement"](3,"input",1),l["ɵɵtemplate"](4,IC,2,1,"mat-error",2),l["ɵɵelementEnd"]()),2&e&&(l["ɵɵproperty"]("formGroup",t.group),l["ɵɵadvance"](2),l["ɵɵtextInterpolate"](t.field.label),l["ɵɵadvance"](1),l["ɵɵproperty"]("formControlName",t.field.name)("required",t.required),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",t.invalid))},directives:[x.KE,c.JL,c.sg,x.hX,j.Nt,c.Fj,c.JJ,c.u,c.Q7,o.NgIf,x.TO],styles:["[_nghost-%COMP%]{display:block}"]}),e})();function MC(e,t){if(1&e&&(l["ɵɵelementStart"](0,"div"),l["ɵɵelementContainer"](1,4),l["ɵɵelementEnd"]()),2&e){const e=t.$implicit,n=l["ɵɵnextContext"]();l["ɵɵattribute"]("data-item-marker",n.field.name+" "+n.field.label),l["ɵɵadvance"](1),l["ɵɵproperty"]("field",e)("group",n.nestedGroup)}}let DC=(()=>{class e extends yC{get nestedGroup(){return this.group.get(this.field.name)}}return e.ɵfac=function(){let t;return function(n){return(t||(t=l["ɵɵgetInheritedFactory"](e)))(n||e)}}(),e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["ts-form-group-control"]],features:[l["ɵɵInheritDefinitionFeature"]],decls:4,vars:3,consts:[[3,"formGroup"],[1,"column-editor-cell-group",3,"formGroupName"],[1,"form-group"],[4,"ngFor","ngForOf"],["tsDynamicField","",3,"field","group"]],template:function(e,t){1&e&&(l["ɵɵelementStart"](0,"div",0),l["ɵɵelementStart"](1,"div",1),l["ɵɵelementStart"](2,"div",2),l["ɵɵtemplate"](3,MC,2,3,"div",3),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵelementEnd"]()),2&e&&(l["ɵɵproperty"]("formGroup",t.group),l["ɵɵadvance"](1),l["ɵɵproperty"]("formGroupName",t.field.name),l["ɵɵadvance"](2),l["ɵɵproperty"]("ngForOf",t.field.nestedItems))},styles:["[_nghost-%COMP%]{display:block}"]}),e})();function PC(e,t){if(1&e&&(l["ɵɵelementStart"](0,"mat-error"),l["ɵɵtext"](1),l["ɵɵelementEnd"]()),2&e){const e=l["ɵɵnextContext"]();l["ɵɵadvance"](1),l["ɵɵtextInterpolate"](e.error)}}let TC=(()=>{class e extends yC{}return e.ɵfac=function(){let t;return function(n){return(t||(t=l["ɵɵgetInheritedFactory"](e)))(n||e)}}(),e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["ts-localizable-text-control"]],features:[l["ɵɵInheritDefinitionFeature"]],decls:5,vars:6,consts:[["floatLabel","always",1,"full-width","ts-localizable-text-control",3,"formGroup"],[3,"formControlName","label","required"],[4,"ngIf"]],template:function(e,t){1&e&&(l["ɵɵelementStart"](0,"mat-form-field",0),l["ɵɵelementStart"](1,"mat-label"),l["ɵɵtext"](2),l["ɵɵelementEnd"](),l["ɵɵelement"](3,"ts-localizable-text-input",1),l["ɵɵtemplate"](4,PC,2,1,"mat-error",2),l["ɵɵelementEnd"]()),2&e&&(l["ɵɵproperty"]("formGroup",t.group),l["ɵɵadvance"](2),l["ɵɵtextInterpolate"](t.field.label),l["ɵɵadvance"](1),l["ɵɵproperty"]("formControlName",t.field.name)("label",t.field.label)("required",t.required),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",t.invalid))},directives:[x.KE,c.JL,c.sg,x.hX,Yh,c.JJ,c.u,c.Q7,o.NgIf,x.TO],styles:["[_nghost-%COMP%]{display:block}"]}),e})();class kC{}function EC(e,t){1&e&&(l["ɵɵelementStart"](0,"mat-error"),l["ɵɵtext"](1),l["ɵɵpipe"](2,"translate"),l["ɵɵelementEnd"]()),2&e&&(l["ɵɵadvance"](1),l["ɵɵtextInterpolate1"](" ",l["ɵɵpipeBind1"](2,1,"columnEmpty")," "))}const NC=function(e){return[e]};function OC(e,t){if(1&e&&(l["ɵɵelementStart"](0,"mat-error"),l["ɵɵtext"](1),l["ɵɵpipe"](2,"stringFormat"),l["ɵɵpipe"](3,"translate"),l["ɵɵelementEnd"]()),2&e){const e=l["ɵɵnextContext"](2);l["ɵɵadvance"](1),l["ɵɵtextInterpolate1"](" ",l["ɵɵpipeBind2"](2,1,l["ɵɵpipeBind1"](3,4,e.codeError.message),l["ɵɵpureFunction1"](6,NC,e.codeError.parameter))," ")}}function jC(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵelementStart"](0,"form",1),l["ɵɵelementStart"](1,"div",2),l["ɵɵtext"](2),l["ɵɵelementEnd"](),l["ɵɵelementStart"](3,"mat-form-field",3),l["ɵɵelementStart"](4,"mat-label"),l["ɵɵtext"](5),l["ɵɵpipe"](6,"translate"),l["ɵɵelementEnd"](),l["ɵɵelement"](7,"ts-localizable-text-input",4),l["ɵɵtemplate"](8,EC,3,3,"mat-error",5),l["ɵɵelementEnd"](),l["ɵɵelementStart"](9,"mat-form-field",6),l["ɵɵelementStart"](10,"mat-label"),l["ɵɵtext"](11),l["ɵɵpipe"](12,"translate"),l["ɵɵelementEnd"](),l["ɵɵelement"](13,"input",7),l["ɵɵtemplate"](14,OC,4,8,"mat-error",5),l["ɵɵelementEnd"](),l["ɵɵelementStart"](15,"div",8),l["ɵɵelementStart"](16,"button",9),l["ɵɵlistener"]("click",(function(){l["ɵɵrestoreView"](e);return l["ɵɵnextContext"]().dialogRef.close()})),l["ɵɵtext"](17),l["ɵɵpipe"](18,"translate"),l["ɵɵelementEnd"](),l["ɵɵelementStart"](19,"button",10),l["ɵɵlistener"]("click",(function(){l["ɵɵrestoreView"](e);return l["ɵɵnextContext"]().onSaveClick()})),l["ɵɵtext"](20),l["ɵɵpipe"](21,"translate"),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵelementEnd"]()}if(2&e){const e=l["ɵɵnextContext"]();l["ɵɵproperty"]("formGroup",e.lookupForm),l["ɵɵadvance"](2),l["ɵɵtextInterpolate"](e.title),l["ɵɵadvance"](1),l["ɵɵproperty"]("formGroup",e.lookupForm),l["ɵɵadvance"](2),l["ɵɵtextInterpolate"](l["ɵɵpipeBind1"](6,11,"captionLabel")),l["ɵɵadvance"](2),l["ɵɵproperty"]("label",e.captionLabel),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",null==e.caption?null:e.caption.invalid),l["ɵɵadvance"](1),l["ɵɵproperty"]("formGroup",e.lookupForm),l["ɵɵadvance"](2),l["ɵɵtextInterpolate"](l["ɵɵpipeBind1"](12,13,"nameLabel")),l["ɵɵadvance"](3),l["ɵɵproperty"]("ngIf",null==e.name?null:e.name.invalid),l["ɵɵadvance"](3),l["ɵɵtextInterpolate1"](" ",l["ɵɵpipeBind1"](18,15,"cancelButton")," "),l["ɵɵadvance"](3),l["ɵɵtextInterpolate1"](" ",l["ɵɵpipeBind1"](21,17,"saveButton")," ")}}let AC=(()=>{class e{constructor(e,t,n){this.translateService=e,this.dialogRef=t,this.data=n}setLookupFormDefaultValues(){this.name.setValue(this.data.schemaNamePrefix)}get caption(){return this.lookupForm.get("caption")}get name(){return this.lookupForm.get("name")}get codeError(){const e=this.name.errors,t={message:"",parameter:null};switch(!0){case!(0,Hl.Z)(e.required):t.message="columnEmpty";break;case!(0,Hl.Z)(e.requiredWithPrefix):t.message="wrongColumnNameWithPrefix",t.parameter=e.requiredWithPrefix.prefix;break;case!(0,Hl.Z)(e.pattern):t.message="wrongColumnName";break;case!(0,Hl.Z)(e.duplicate):t.message="duplicateColumnName";break;case!(0,Hl.Z)(e.maxlength):t.message="wrongCaptionLength",t.parameter=e.maxlength.requiredLength;break;case!(0,Hl.Z)(e.prefix):t.message="wrongPrefix",t.parameter=e.prefix.requiredPrefix}return t}ngOnInit(){this.captionLabel=this.translateService.instant("captionLabel"),this.lookupForm=this.data.group,this.title=this.data.title,null===this.name.value&&this.setLookupFormDefaultValues()}onSaveClick(){this.lookupForm.valid?this.dialogRef.close(!0):(this.lookupForm.updateValueAndValidity(),this.lookupForm.markAllAsTouched())}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](u.sK),l["ɵɵdirectiveInject"](G.so),l["ɵɵdirectiveInject"](G.WI))},e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["ts-lookup-form"]],decls:1,vars:1,consts:[["class","lookup-dialog-form",3,"formGroup",4,"ngIf"],[1,"lookup-dialog-form",3,"formGroup"],["mat-dialog-title",""],["data-item-marker","new-lookup-caption","floatLabel","always",1,"full-width","ts-localizable-text-control",3,"formGroup"],["formControlName","caption","required","",3,"label"],[4,"ngIf"],["data-item-marker","new-lookup-name","floatLabel","always",1,"full-width","ts-input-control",3,"formGroup"],["matInput","","formControlName","name","autocomplete","off","required",""],["mat-dialog-actions",""],["mat-button","","data-item-marker","new-lookup-cancel",3,"click"],["mat-flat-button","","color","primary","data-item-marker","new-lookup-save",3,"click"]],template:function(e,t){1&e&&l["ɵɵtemplate"](0,jC,22,19,"form",0),2&e&&l["ɵɵproperty"]("ngIf",t.lookupForm)},directives:[o.NgIf,c._Y,c.JL,c.sg,G.uh,x.KE,x.hX,Yh,c.JJ,c.u,c.Q7,j.Nt,c.Fj,G.H8,B.lW,x.TO],pipes:[u.X$,to],styles:["[_nghost-%COMP%]{display:block;margin:0;min-width:440px}[_nghost-%COMP%]   .lookup-dialog-form[_ngcontent-%COMP%]{display:flex;flex-direction:column}[_nghost-%COMP%]   .lookup-dialog-form[_ngcontent-%COMP%]   .mat-dialog-actions[_ngcontent-%COMP%]{padding:0;margin-bottom:0;min-height:32px;margin-top:24px;justify-content:flex-end}"]}),e})();function RC(e,t){if(1&e&&(l["ɵɵelementStart"](0,"mat-option",9),l["ɵɵtext"](1),l["ɵɵelementEnd"]()),2&e){const e=t.$implicit;l["ɵɵproperty"]("value",e),l["ɵɵadvance"](1),l["ɵɵtextInterpolate1"](" ",e.name," ")}}function FC(e,t){if(1&e&&(l["ɵɵelementStart"](0,"mat-error"),l["ɵɵtext"](1),l["ɵɵelementEnd"]()),2&e){const e=l["ɵɵnextContext"]();l["ɵɵadvance"](1),l["ɵɵtextInterpolate"](e.error)}}let VC=(()=>{class e extends yC{get _filterValue$(){return this.group.get(this.field.name).valueChanges.pipe((0,v.O)(""),(0,g.U)((e=>"string"==typeof e?e.toLowerCase():e.name.toLowerCase())))}filterByContains(e,t){return e.filter((e=>{var n,i;return(null===(i=null===(n=null==e?void 0:e.name)||void 0===n?void 0:n.toLowerCase())||void 0===i?void 0:i.indexOf(t))>=0}))}sortByLengthAsc(e){return e.sort(((e,t)=>{var n,i;return(null===(n=null==e?void 0:e.name)||void 0===n?void 0:n.length)>(null===(i=null==t?void 0:t.name)||void 0===i?void 0:i.length)?1:-1}))}sortByStartWithAsc(e,t){return e.sort(((e,n)=>{var i,r,a,o,s,l;return(null===(r=null===(i=null==e?void 0:e.name)||void 0===i?void 0:i.toLowerCase())||void 0===r?void 0:r.startsWith(t))&&(null===(o=null===(a=null==n?void 0:n.name)||void 0===a?void 0:a.toLowerCase())||void 0===o?void 0:o.startsWith(t))?0:(null===(l=null===(s=null==e?void 0:e.name)||void 0===s?void 0:s.toLowerCase())||void 0===l?void 0:l.startsWith(t))?-1:0}))}updateValue(e){const t=this.group.get(this.field.name),n=t.value;if(null==n?void 0:n.value){const i=e.find((e=>(0,Ed.Z)(e.value,n.value)));i&&!(0,Ed.Z)(n,i)&&t.setValue(i)}}getOptions(){return(this.field.options instanceof Array?(0,h.of)(this.field.options):this.field.options).pipe((0,En.b)(this.updateValue.bind(this)))}initOptions(){this.options=(0,h.combineLatest)([this._filterValue$,this.getOptions()]).pipe((0,g.U)((([e,t])=>({filterValue:e,options:e?this.filterByContains(t,e):t}))),(0,g.U)((({filterValue:e,options:t})=>({filterValue:e,options:e?this.sortByLengthAsc(t):t}))),(0,g.U)((({filterValue:e,options:t})=>this.sortByStartWithAsc(t,e))))}ngOnInit(){super.ngOnInit(),this.initOptions()}displayFn(e){return(null==e?void 0:e.name)||""}}return e.ɵfac=function(){let t;return function(n){return(t||(t=l["ɵɵgetInheritedFactory"](e)))(n||e)}}(),e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["ts-autocomplete-control"]],features:[l["ɵɵInheritDefinitionFeature"]],decls:12,vars:10,consts:[["floatLabel","always",1,"full-width","ts-autocomplete-control",3,"formGroup"],[1,"input-wrapper"],["type","text","matInput","",3,"formControlName","matAutocomplete","required"],["autoActiveFirstOption","",3,"displayWith"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["matSuffix","",1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],[4,"ngIf"],[3,"value"]],template:function(e,t){if(1&e&&(l["ɵɵelementStart"](0,"mat-form-field",0),l["ɵɵelementStart"](1,"mat-label"),l["ɵɵtext"](2),l["ɵɵelementEnd"](),l["ɵɵelementStart"](3,"div",1),l["ɵɵelement"](4,"input",2),l["ɵɵelementStart"](5,"mat-autocomplete",3,4),l["ɵɵtemplate"](7,RC,2,2,"mat-option",5),l["ɵɵpipe"](8,"async"),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵelementStart"](9,"div",6),l["ɵɵelement"](10,"div",7),l["ɵɵelementEnd"](),l["ɵɵtemplate"](11,FC,2,1,"mat-error",8),l["ɵɵelementEnd"]()),2&e){const e=l["ɵɵreference"](6);l["ɵɵproperty"]("formGroup",t.group),l["ɵɵadvance"](2),l["ɵɵtextInterpolate"](t.field.label),l["ɵɵadvance"](2),l["ɵɵproperty"]("formControlName",t.field.name)("matAutocomplete",e)("required",t.required),l["ɵɵadvance"](1),l["ɵɵproperty"]("displayWith",t.displayFn),l["ɵɵadvance"](2),l["ɵɵproperty"]("ngForOf",l["ɵɵpipeBind1"](8,8,t.options)),l["ɵɵadvance"](4),l["ɵɵproperty"]("ngIf",t.invalid)}},directives:[x.KE,c.JL,c.sg,x.hX,j.Nt,c.Fj,O.ZL,c.JJ,c.u,c.Q7,O.XC,o.NgForOf,x.R9,o.NgIf,R.ey,x.TO],pipes:[o.AsyncPipe],styles:[".ts-autocomplete-control{justify-content:space-between}.ts-autocomplete-control,.ts-autocomplete-control .mat-form-field-infix{display:flex;align-items:center}.ts-autocomplete-control .mat-form-field-wrapper{width:100%}.ts-autocomplete-control .input-wrapper{flex-grow:1}"],encapsulation:2}),e})();function LC(e,t){if(1&e&&(l["ɵɵelementStart"](0,"mat-option",11),l["ɵɵtext"](1),l["ɵɵelementEnd"]()),2&e){const e=t.$implicit;l["ɵɵproperty"]("value",e),l["ɵɵadvance"](1),l["ɵɵtextInterpolate1"](" ",e.name," ")}}function zC(e,t){if(1&e&&(l["ɵɵelementStart"](0,"mat-error"),l["ɵɵtext"](1),l["ɵɵelementEnd"]()),2&e){const e=l["ɵɵnextContext"]();l["ɵɵadvance"](1),l["ɵɵtextInterpolate"](e.error)}}function BC(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵelementStart"](0,"button",12),l["ɵɵlistener"]("click",(function(t){l["ɵɵrestoreView"](e);return l["ɵɵnextContext"]().openLookupDialog(t)})),l["ɵɵpipe"](1,"translate"),l["ɵɵelement"](2,"mat-icon",13),l["ɵɵelementEnd"]()}if(2&e){const e=l["ɵɵnextContext"]();l["ɵɵproperty"]("matTooltip",l["ɵɵpipeBind1"](1,2,e.allowEdit?"editLookupTooltipCaption":"createLookupTooltipCaption")),l["ɵɵadvance"](2),l["ɵɵproperty"]("svgIcon",e.lookupDialogIcon)}}let GC=(()=>{class e extends VC{constructor(e,t,i,r,a){super(),this.lookupService=i,this.dialogService=r,this.translateService=a,this.editedItems={},e.addSvgIconLiteral("create-lookup-icon",t.bypassSecurityTrustHtml(n(77578))),e.addSvgIconLiteral("edit-lookup-icon",t.bypassSecurityTrustHtml(n(50312)))}get allowEdit(){var e,t;return(null===(e=this.control.value)||void 0===e?void 0:e.allowEdit)||(null===(t=this.control.value)||void 0===t?void 0:t.isNewLookup)}get lookupDialogIcon(){return this.allowEdit?"edit-lookup-icon":"create-lookup-icon"}get control(){return this.group.get(this.field.name)}setLookupControl(e){var t,n;const i=this.lookupForm.get("caption"),r=this.lookupForm.get("name"),a=i.value.getValue(this.translateService.currentLang),o=null===(t=this.control.value)||void 0===t?void 0:t.value;this.control.patchValue({name:a,value:e?r.value:o,isNewLookup:e||(null===(n=this.control.value)||void 0===n?void 0:n.isNewLookup),newLookupCaption:i.value,newLookupName:r.value,allowEdit:!0}),this.editedItems[e?r.value:o]=this.control.value,this.control.updateValueAndValidity(),this.initOptions()}openDialog(e){this.dialogService.open(AC,{data:{group:this.lookupForm,title:this.translateService.instant(e?"newLookupCaption":"editLookupCaption"),schemaNamePrefix:this.field.validationConfig.schemaNamePrefix},panelClass:"lookup-detail-dialog",scrollStrategy:new dn.RZ}).pipe((0,Tn.q)(1)).subscribe((t=>{t&&this.setLookupControl(e)}))}openEditLookupDialog(){const{newLookupCaption:e,newLookupName:t}=this.control.value;(e||t?(0,h.of)({caption:e,name:t}):this.lookupService.getLookupInfo(this.control.value.value)).subscribe((({caption:e,name:t})=>{const n=this.lookupService.getLookupNameList().pipe((0,g.U)((e=>e.filter((e=>e!==t)))));this.lookupForm=this.createLookupForm(n),this.lookupForm.patchValue({caption:new Hr(e),name:t}),this.openDialog(!1)}))}openCreateLookupDialog(){const e=this.lookupService.getLookupNameList();this.lookupForm=this.createLookupForm(e),this.openDialog(!0)}getOptions(){return super.getOptions().pipe((0,g.U)((e=>{for(const t of e)this.editedItems[t.value]&&Object.assign(t,this.editedItems[t.value]);return e})))}createLookupForm(e){const t=this.field.validationConfig;return new c.cw({caption:new c.NI(null,{validators:[Wg.required(this.translateService.currentLang)]}),name:new c.NI(null,{validators:[c.kI.required,Xa.requiredWithPrefix(t.schemaNamePrefix),c.kI.pattern(/^[a-zA-Z_]{1}[a-zA-Z0-9_]*$/),c.kI.maxLength(t.maxColumnNameLength),Xa.prefix(t.schemaNamePrefix)],asyncValidators:[Xa.duplicateAsync(e)]})},{updateOn:"change"})}openLookupDialog(e){e.preventDefault(),this.allowEdit?this.openEditLookupDialog():this.openCreateLookupDialog()}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](St.jv),l["ɵɵdirectiveInject"](i.DomSanitizer),l["ɵɵdirectiveInject"](kC),l["ɵɵdirectiveInject"](X),l["ɵɵdirectiveInject"](u.sK))},e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["ts-lookup-control"]],features:[l["ɵɵInheritDefinitionFeature"]],decls:14,vars:11,consts:[[1,"full-width","ts-lookup-control"],["floatLabel","always",3,"formGroup"],[1,"input-wrapper"],["type","text","matInput","",3,"formControlName","matAutocomplete","required"],["autoActiveFirstOption","",3,"displayWith"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["matSuffix","",1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],[4,"ngIf"],["class","show-lookup-dialog","mat-icon-button","","data-item-marker","show-lookup-dialog",3,"matTooltip","click",4,"ngIf"],[3,"value"],["mat-icon-button","","data-item-marker","show-lookup-dialog",1,"show-lookup-dialog",3,"matTooltip","click"],[1,"lookup-form-icon",3,"svgIcon"]],template:function(e,t){if(1&e&&(l["ɵɵelementStart"](0,"div",0),l["ɵɵelementStart"](1,"mat-form-field",1),l["ɵɵelementStart"](2,"mat-label"),l["ɵɵtext"](3),l["ɵɵelementEnd"](),l["ɵɵelementStart"](4,"div",2),l["ɵɵelement"](5,"input",3),l["ɵɵelementStart"](6,"mat-autocomplete",4,5),l["ɵɵtemplate"](8,LC,2,2,"mat-option",6),l["ɵɵpipe"](9,"async"),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵelementStart"](10,"div",7),l["ɵɵelement"](11,"div",8),l["ɵɵelementEnd"](),l["ɵɵtemplate"](12,zC,2,1,"mat-error",9),l["ɵɵelementEnd"](),l["ɵɵtemplate"](13,BC,3,4,"button",10),l["ɵɵelementEnd"]()),2&e){const e=l["ɵɵreference"](7);l["ɵɵadvance"](1),l["ɵɵproperty"]("formGroup",t.group),l["ɵɵadvance"](2),l["ɵɵtextInterpolate"](t.field.label),l["ɵɵadvance"](2),l["ɵɵproperty"]("formControlName",t.field.name)("matAutocomplete",e)("required",t.required),l["ɵɵadvance"](1),l["ɵɵproperty"]("displayWith",t.displayFn),l["ɵɵadvance"](2),l["ɵɵproperty"]("ngForOf",l["ɵɵpipeBind1"](9,9,t.options)),l["ɵɵadvance"](4),l["ɵɵproperty"]("ngIf",t.invalid),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",t.field.isSupportCreatingMode)}},directives:[x.KE,c.JL,c.sg,x.hX,j.Nt,c.Fj,O.ZL,c.JJ,c.u,c.Q7,O.XC,o.NgForOf,x.R9,o.NgIf,R.ey,x.TO,B.lW,Dt.gM,St.Hw],pipes:[o.AsyncPipe,u.X$],styles:[".ts-lookup-control{justify-content:space-between}.ts-lookup-control,.ts-lookup-control .mat-form-field-infix{display:flex;align-items:center}.ts-lookup-control .input-wrapper{flex-grow:1}.ts-lookup-control .mat-icon-button.show-lookup-dialog{display:flex;align-items:center;justify-content:center;height:32px;width:32px;min-width:32px;padding:0;border-radius:0;position:relative;bottom:4px}.ts-lookup-control .mat-icon-button.show-lookup-dialog:hover{background-color:#f2f5ff}.ts-lookup-control .mat-icon-button.show-lookup-dialog[disabled]{opacity:.6}.ts-lookup-control .mat-icon-button.show-lookup-dialog .mat-button-wrapper{line-height:16px}.ts-lookup-control .mat-icon-button.show-lookup-dialog .mat-button-wrapper .mat-icon{height:16px;width:16px;line-height:16px}.ts-lookup-control .mat-icon-button.show-lookup-dialog .mat-button-wrapper .mat-icon svg{position:relative;bottom:1px}"],encapsulation:2}),e})();function HC(e,t){if(1&e&&(l["ɵɵelementStart"](0,"mat-option",4),l["ɵɵtext"](1),l["ɵɵelementEnd"]()),2&e){const e=t.$implicit;l["ɵɵproperty"]("value",e.value),l["ɵɵadvance"](1),l["ɵɵtextInterpolate"](e.name)}}function UC(e,t){if(1&e&&(l["ɵɵelementStart"](0,"mat-error"),l["ɵɵtext"](1),l["ɵɵelementEnd"]()),2&e){const e=l["ɵɵnextContext"]();l["ɵɵadvance"](1),l["ɵɵtextInterpolate"](e.error)}}let ZC=(()=>{class e extends yC{get options$(){return this.field.options instanceof Array?(0,h.of)(this.field.options):this.field.options}}return e.ɵfac=function(){let t;return function(n){return(t||(t=l["ɵɵgetInheritedFactory"](e)))(n||e)}}(),e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["ts-select-control"]],features:[l["ɵɵInheritDefinitionFeature"]],decls:7,vars:8,consts:[["floatLabel","always",1,"full-width","ts-select-control",3,"formGroup"],["disableRipple","","disableOptionCentering","",3,"formControlName","required"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"value"]],template:function(e,t){1&e&&(l["ɵɵelementStart"](0,"mat-form-field",0),l["ɵɵelementStart"](1,"mat-label"),l["ɵɵtext"](2),l["ɵɵelementEnd"](),l["ɵɵelementStart"](3,"mat-select",1),l["ɵɵtemplate"](4,HC,2,2,"mat-option",2),l["ɵɵpipe"](5,"async"),l["ɵɵelementEnd"](),l["ɵɵtemplate"](6,UC,2,1,"mat-error",3),l["ɵɵelementEnd"]()),2&e&&(l["ɵɵproperty"]("formGroup",t.group),l["ɵɵadvance"](2),l["ɵɵtextInterpolate"](t.field.label),l["ɵɵadvance"](1),l["ɵɵproperty"]("formControlName",t.field.name)("required",t.required),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngForOf",l["ɵɵpipeBind1"](5,6,t.options$)),l["ɵɵadvance"](2),l["ɵɵproperty"]("ngIf",t.invalid))},directives:[x.KE,c.JL,c.sg,x.hX,zt.gD,c.JJ,c.u,c.Q7,o.NgForOf,o.NgIf,R.ey,x.TO],pipes:[o.AsyncPipe],styles:["[_nghost-%COMP%]{display:block}"]}),e})();function $C(e,t){if(1&e&&(l["ɵɵelementStart"](0,"div"),l["ɵɵelementContainer"](1,3),l["ɵɵelementEnd"]()),2&e){const e=t.$implicit,n=l["ɵɵnextContext"]();l["ɵɵattribute"]("data-item-marker",e.name+" "+e.label),l["ɵɵadvance"](1),l["ɵɵproperty"]("field",e)("group",n.group)}}let WC=(()=>{class e extends yC{}return e.ɵfac=function(){let t;return function(n){return(t||(t=l["ɵɵgetInheritedFactory"](e)))(n||e)}}(),e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["ts-fields-group-control"]],features:[l["ɵɵInheritDefinitionFeature"]],decls:8,vars:6,consts:[[1,"full-width","ts-fields-group-control",3,"formGroup"],[3,"expanded"],[4,"ngFor","ngForOf"],["tsDynamicField","",3,"field","group"]],template:function(e,t){1&e&&(l["ɵɵelementStart"](0,"div",0),l["ɵɵelementStart"](1,"mat-accordion"),l["ɵɵelementStart"](2,"mat-expansion-panel",1),l["ɵɵelementStart"](3,"mat-expansion-panel-header"),l["ɵɵelementStart"](4,"mat-panel-title"),l["ɵɵelement"](5,"div"),l["ɵɵtext"](6),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵtemplate"](7,$C,2,3,"div",2),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵelementEnd"]()),2&e&&(l["ɵɵproperty"]("formGroup",t.group),l["ɵɵadvance"](2),l["ɵɵproperty"]("expanded",!0),l["ɵɵadvance"](3),l["ɵɵclassMap"]("expansion-panel-icon expansion-panel-icon-"+t.field.name),l["ɵɵadvance"](1),l["ɵɵtextInterpolate1"](" ",t.field.label," "),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngForOf",t.field.children))},styles:["[_nghost-%COMP%]{display:block}"]}),e})();function qC(e,t){if(1&e&&(l["ɵɵelementStart"](0,"mat-radio-button",5),l["ɵɵtext"](1),l["ɵɵelementEnd"]()),2&e){const e=t.$implicit,n=l["ɵɵnextContext"]();l["ɵɵproperty"]("value",e.value)("checked",e.checked)("disabled",n.field.disabled),l["ɵɵadvance"](1),l["ɵɵtextInterpolate1"](" ",e.name," ")}}function YC(e,t){if(1&e&&(l["ɵɵelementStart"](0,"mat-error"),l["ɵɵtext"](1),l["ɵɵelementEnd"]()),2&e){const e=l["ɵɵnextContext"]();l["ɵɵadvance"](1),l["ɵɵtextInterpolate"](e.error)}}let JC=(()=>{class e extends yC{ngOnInit(){super.ngOnInit(),this.options=this.field.options.map((e=>({name:e.name,value:e.value,checked:e.value===this.field.value})))}}return e.ɵfac=function(){let t;return function(n){return(t||(t=l["ɵɵgetInheritedFactory"](e)))(n||e)}}(),e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["ts-radio-button-group"]],features:[l["ɵɵInheritDefinitionFeature"]],decls:6,vars:5,consts:[[1,"full-width","ts-radio-button-group",3,"formGroup"],["id","radio-group-label"],[1,"ts-radio-group",3,"formControlName"],["disableRipple","","class","ts-radio-button",3,"value","checked","disabled",4,"ngFor","ngForOf"],[4,"ngIf"],["disableRipple","",1,"ts-radio-button",3,"value","checked","disabled"]],template:function(e,t){1&e&&(l["ɵɵelementStart"](0,"div",0),l["ɵɵelementStart"](1,"label",1),l["ɵɵtext"](2),l["ɵɵelementEnd"](),l["ɵɵelementStart"](3,"mat-radio-group",2),l["ɵɵtemplate"](4,qC,2,4,"mat-radio-button",3),l["ɵɵelementEnd"](),l["ɵɵtemplate"](5,YC,2,1,"mat-error",4),l["ɵɵelementEnd"]()),2&e&&(l["ɵɵproperty"]("formGroup",t.group),l["ɵɵadvance"](2),l["ɵɵtextInterpolate"](t.field.label),l["ɵɵadvance"](1),l["ɵɵproperty"]("formControlName",t.field.name),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngForOf",t.options),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",t.invalid))},directives:[c.JL,c.sg,pe.VQ,c.JJ,c.u,o.NgForOf,o.NgIf,pe.U0,x.TO],styles:[".ts-radio-button-group   [_nghost-%COMP%]{display:block}.ts-radio-button-group[_ngcontent-%COMP%]   .ts-radio-group[_ngcontent-%COMP%]{display:flex;flex-direction:column}"]}),e})();function QC(e,t){1&e&&l["ɵɵelementContainer"](0)}let KC=(()=>{class e extends yC{constructor(e){super(),this.injector=e}ngOnInit(){this.customComponentInjector=l.Injector.create({providers:[{provide:bC,useValue:this.field},{provide:c.cw,useValue:this.group}],parent:this.injector})}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](l.Injector))},e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["ts-custom-template-control"]],features:[l["ɵɵInheritDefinitionFeature"]],decls:2,vars:3,consts:[[1,"full-width","ts-custom-template",3,"formGroup"],[4,"ngComponentOutlet","ngComponentOutletInjector"]],template:function(e,t){1&e&&(l["ɵɵelementStart"](0,"div",0),l["ɵɵtemplate"](1,QC,1,0,"ng-container",1),l["ɵɵelementEnd"]()),2&e&&(l["ɵɵproperty"]("formGroup",t.group),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngComponentOutlet",t.field.component)("ngComponentOutletInjector",t.customComponentInjector))},directives:[c.JL,c.sg,o.NgComponentOutlet],styles:["[_nghost-%COMP%]{display:block}"]}),e})(),XC=(()=>{class e{constructor(){this.controlRegistry=new Map}getControlsConfig(){return{[vC.Button]:wC,[vC.CheckBox]:xC,[vC.Input]:SC,[vC.FormGroup]:DC,[vC.Select]:ZC,[vC.LocalizableText]:TC,[vC.FieldsGroup]:WC,[vC.Autocomplete]:VC,[vC.RadioButtonGroup]:JC,[vC.Custom]:KC,[vC.Lookup]:GC}}registerDynamicControlComponent(e,t){this.controlRegistry.set(e,t)}unregisterDynamicControlComponent(e){this.controlRegistry.delete(e)}getDynamicControlComponent(e){return this.controlRegistry.get(e)}}return e.ɵfac=function(t){return new(t||e)},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})();class ey{static _createControlConfig(e,t){return e.type=t,e}static findFieldByName(e,t){let n=null;return e.forEach((e=>{n||(e.name===t?n=e:e.type===vC.FieldsGroup&&(n=this.findFieldByName(e.children,t)))})),n}static addField(e,t,n){void 0===n&&(n=e.length),e.splice(n,0,t)}static addFieldToGroup(e,t,n,i){const r=this.findFieldByName(e,t);r&&r.type===vC.FieldsGroup&&this.addField(r.children,n,i)}static createCheckBoxFieldConfig(e){return this._createControlConfig(e,vC.CheckBox)}static createInputFieldConfig(e){return this._createControlConfig(e,vC.Input)}static createAutocompleteFieldConfig(e){return this._createControlConfig(e,vC.Autocomplete)}static createSelectFieldConfig(e){return this._createControlConfig(e,vC.Select)}static createLocalizableTextFieldConfig(e){return this._createControlConfig(e,vC.LocalizableText)}}let ty=(()=>{class e{constructor(e,t,n){this.resolver=e,this.container=t,this.dynamicFieldsService=n}ngOnInit(){if(this.components=this.dynamicFieldsService.getControlsConfig(),this.components[this.field.type]){const e=this.resolver.resolveComponentFactory(this.components[this.field.type]);this.componentRef=this.container.createComponent(e),this.componentRef.instance.field=this.field,this.componentRef.instance.group=this.group,this.dynamicFieldsService.registerDynamicControlComponent(this.field.name,this.componentRef.instance)}}ngOnDestroy(){var e;null===(e=this.componentRef)||void 0===e||e.destroy(),this.dynamicFieldsService.unregisterDynamicControlComponent(this.field.name)}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](l.ComponentFactoryResolver),l["ɵɵdirectiveInject"](l.ViewContainerRef),l["ɵɵdirectiveInject"](XC))},e.ɵdir=l["ɵɵdefineDirective"]({type:e,selectors:[["","tsDynamicField",""]],inputs:{field:"field",group:"group"}}),e})();function ny(e,t){if(1&e&&(l["ɵɵelementStart"](0,"div"),l["ɵɵelementContainer"](1,2),l["ɵɵelementEnd"]()),2&e){const e=t.$implicit,n=l["ɵɵnextContext"]();l["ɵɵattribute"]("data-item-marker",e.name+" "+e.label),l["ɵɵadvance"](1),l["ɵɵproperty"]("field",e)("group",n.form)}}let iy=(()=>{class e{constructor(e,t){this.formBuilder=e,this.dynamicFieldsService=t,this.fields=[],this.submit=new l.EventEmitter}get value(){return this.form.value}get invalid(){return this.form.invalid}set updateOn(e){this.form&&this.form.updateOn===e||(this.form=this.createForm(e))}createForm(e="change"){const t=this.formBuilder.group({},{updateOn:e});return this.fields.forEach((e=>{const n=e.children;n?n.forEach((e=>this.setFormControl(t,e))):this.setFormControl(t,e)})),t}setFormControl(e,t){t.type===vC.FormGroup?this.setFormGroup(e,t):this.setFormField(e,t)}setFormGroup(e,t){const n=this.formBuilder.group({});t.nestedItems.forEach((e=>{const i={value:t.value,disabled:e.disabled},r=this.formBuilder.control(i,this.bindValidations(t.validations||[]));n.addControl(e.name,r)})),e.addControl(t.name,n)}setFormField(e,t){if(t.type===vC.Button||t.type===vC.FieldsGroup)return;const n=this.formBuilder.control(t.value,this.bindValidations(t.validations||[]),this.bindAsyncValidations(t.asyncValidations||[]));!0===t.disabled&&n.disable(),e.addControl(t.name,n)}bindValidations(e){if(e.length>0){const t=this.getValidList(e);return c.kI.compose(t)}return null}bindAsyncValidations(e){if(e.length>0){const t=this.getValidList(e);return c.kI.composeAsync(t)}return null}getValidList(e){const t=[];return e.forEach((e=>{t.push(e.validator)})),t}validateAllFormFields(e){Object.keys(e.controls).forEach((t=>{e.get(t).markAsTouched({onlySelf:!0})}))}ngOnInit(){this.form||(this.form=this.createForm())}onSubmit(e){e.preventDefault(),e.stopPropagation(),this.form.valid?this.submit.emit(this.form.value):this.validateAllFormFields(this.form)}addFieldValidation(e,t){const n=ey.findFieldByName(this.fields,e);n&&(n.validations||(n.validations=[]),n.validations.push(t),this.form.get(e).setValidators(this.bindValidations(n.validations||[])))}setFieldValidations(e,t=[]){const n=ey.findFieldByName(this.fields,e);n.validations=t,this.form.get(e).setValidators(this.bindValidations(n.validations))}findControlComponent(e){return this.dynamicFieldsService.getDynamicControlComponent(e)}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](c.qu),l["ɵɵdirectiveInject"](XC))},e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["ts-dynamic-form"]],inputs:{updateOn:"updateOn",fields:"fields"},outputs:{submit:"submit"},decls:2,vars:2,consts:[[1,"dynamic-form",3,"formGroup","submit"],[4,"ngFor","ngForOf"],["tsDynamicField","",3,"field","group"]],template:function(e,t){1&e&&(l["ɵɵelementStart"](0,"form",0),l["ɵɵlistener"]("submit",(function(e){return t.onSubmit(e)})),l["ɵɵtemplate"](1,ny,2,3,"div",1),l["ɵɵelementEnd"]()),2&e&&(l["ɵɵproperty"]("formGroup",t.form),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngForOf",t.fields))},directives:[c._Y,c.JL,c.sg,o.NgForOf,ty],styles:[".dynamic-form .mat-expansion-panel-body{display:grid;grid-column-gap:32px;grid-template-columns:repeat(auto-fill,minmax(318px,1fr));max-width:768px;width:100%}@media all and (-ms-high-contrast: none){.dynamic-form .mat-expansion-panel-body{display:flex;flex-direction:column}}.dynamic-form .full-width{width:100%}.dynamic-form .mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}"],encapsulation:2}),e})(),ry=(()=>{class e{}return e.ɵfac=function(t){return new(t||e)},e.ɵmod=l["ɵɵdefineNgModule"]({type:e}),e.ɵinj=l["ɵɵdefineInjector"]({imports:[[j.c,zt.LD,ce.p9,B.ot,x.lN,ie.To,O.Bb,St.Ps,pe.Fk,Dt.AV],j.c,zt.LD,ce.p9,B.ot,x.lN,ie.To,O.Bb,St.Ps,pe.Fk,Dt.AV]}),e})();("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](ry,{imports:[j.c,zt.LD,ce.p9,B.ot,x.lN,ie.To,O.Bb,St.Ps,pe.Fk,Dt.AV],exports:[j.c,zt.LD,ce.p9,B.ot,x.lN,ie.To,O.Bb,St.Ps,pe.Fk,Dt.AV]});let ay=(()=>{class e{}return e.ɵfac=function(t){return new(t||e)},e.ɵmod=l["ɵɵdefineNgModule"]({type:e}),e.ɵinj=l["ɵɵdefineInjector"]({providers:[XC],imports:[[o.CommonModule,ry,c.UX,c.u5,Zg,G.Is,u.aw.forChild()]]}),e})();("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](ay,{declarations:[iy,ty,SC,DC,ZC,xC,wC,TC,WC,VC,JC,KC,GC,AC,to],imports:[o.CommonModule,ry,c.UX,c.u5,Zg,G.Is,u.aw],exports:[iy]}),l["ɵɵsetComponentScope"](DC,[c.JL,c.sg,c.x0,o.NgForOf,ty],[]),l["ɵɵsetComponentScope"](WC,[c.JL,c.sg,ie.pp,ie.ib,ie.yz,ie.yK,o.NgForOf,ty],[]);class oy{static prefixValidator(e,t){return t?()=>null:Xa.prefix(e)}static lookupPrimaryDisplayColumn(e){return t=>(0,bi.Z)(t.value)||!t.value.value||t.value.isNewLookup?(0,h.of)(null):e.checkLookupPrimaryDisplayColumn(t.value).pipe((0,g.U)((e=>e?null:{primaryDisplayColumn:{value:t.value}})))}}let sy=(()=>{class e{constructor(e,t,n){this.resolver=e,this.container=t,this.translateService=n,this.destroyed$=new h.Subject,this.formCreated=new l.EventEmitter,this.valueChanged=new l.EventEmitter}get formComponent(){return this.componentRef.instance}onConfigLoaded(e){for(const t of Object.keys(e)){const n=this.formComponent.form.get(t);if(n){this.getField(t).type===vC.LocalizableText&&(e[t]=new Hr(e[t])),n.setValue(e[t]),n.updateValueAndValidity()}}const{validationConfig:t}=e;this.setAdditionalValidators(t,e)}setAdditionalValidators(e,t){e.maxColumnCaptionLength&&this.formComponent.addFieldValidation("caption",{message:Ea(this.translateService.instant("wrongCaptionLength"),[e.maxColumnCaptionLength]),name:"maxlength",validator:Wg.maxLength(this.translateService.currentLang,e.maxColumnCaptionLength)}),t.allowEmptyCaption||this.formComponent.addFieldValidation("caption",{message:this.translateService.instant("columnEmpty"),name:"required",validator:Wg.required(this.translateService.currentLang)}),e.maxColumnNameLength&&this.formComponent.addFieldValidation("name",{message:Ea(this.translateService.instant("wrongCaptionLength"),[e.maxColumnNameLength]),name:"maxlength",validator:c.kI.maxLength(e.maxColumnNameLength)}),this.formComponent.addFieldValidation("name",{message:Ea(this.translateService.instant("wrongPrefix"),[e.schemaNamePrefix]),name:"prefix",validator:oy.prefixValidator(e.schemaNamePrefix,e.isInherited)}),this.formComponent.addFieldValidation("name",{message:Ea(this.translateService.instant("duplicateColumnName"),[]),name:"duplicate",validator:Xa.duplicate(e.schemaColumnsNames)})}ngOnInit(){const e=this.resolver.resolveComponentFactory(iy);this.componentRef=this.container.createComponent(e),this.componentRef.instance.fields=this.fields,this.componentRef.instance.updateOn="change",this.onConfigLoaded(this.model),this.formCreated.emit(this.formComponent),this.formComponent.form.valueChanges.pipe((0,b.R)(this.destroyed$)).subscribe((e=>{this.valueChanged.next(e)}))}getField(e){return ey.findFieldByName(this.fields,e)}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](l.ComponentFactoryResolver),l["ɵɵdirectiveInject"](l.ViewContainerRef),l["ɵɵdirectiveInject"](u.sK))},e.ɵdir=l["ɵɵdefineDirective"]({type:e,selectors:[["","tsMetaItemPropertiesPage",""]],inputs:{fields:"fields",model:"model"},outputs:{formCreated:"formCreated",valueChanged:"valueChanged"}}),e})(),ly=(()=>{class e{constructor(e){this.translateService=e,this.destroyed$=new h.Subject,this.valueChanged=new l.EventEmitter}setAllControlDisableState(){this.model.isDisabled&&this.formComponent.form.disable()}onFormCreated(e){this.formComponent=e,this.formComponent.form.valueChanges.pipe((0,b.R)(this.destroyed$)).subscribe((e=>{this.valueChanged.next(e)})),this.setAllControlDisableState()}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}checkValidity(){const e=this.formComponent.form;return!!e.valid||(e.updateValueAndValidity(),e.markAllAsTouched(),!1)}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](u.sK))},e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["ts-meta-item-properties-page"]],inputs:{model:"model",fields:"fields"},outputs:{valueChanged:"valueChanged"},decls:1,vars:2,consts:[["tsMetaItemPropertiesPage","",3,"model","fields","formCreated"]],template:function(e,t){1&e&&(l["ɵɵelementContainerStart"](0,0),l["ɵɵlistener"]("formCreated",(function(e){return t.onFormCreated(e)})),l["ɵɵelementContainerEnd"]()),2&e&&l["ɵɵproperty"]("model",t.model)("fields",t.fields)},directives:[sy],encapsulation:2}),e})(),cy=(()=>{class e extends ly{constructor(e,t){super(t),this.snackBar=e,this.messageDuration=1e4}showChangeTypeMessage(){const e=this.formComponent.form.get("name"),t=Ea(this.translateService.instant("changeTypeMessage"),[e.value]),n=this.translateService.instant("undoButtonCaption");return this.snackBar.open(t,n,{duration:this.messageDuration,panelClass:"change-type-message"})}showPageDateValueTypeMessage(){return this.snackBar.open(this.translateService.instant("pageDataValueTypeTypeMessage"),null,{duration:this.messageDuration,panelClass:"page-data-value-type-message"})}setDataValueType(e){const t=this.formComponent.form.get("dataValueType");t.setValue(e),t.updateValueAndValidity({emitEvent:!1})}onDataValueTypeValueChanges(e,t,n){if(this.needShowNotice(e,t,n)){this.showChangeTypeMessage().afterDismissed().pipe((0,A.P)(),(0,f.h)((e=>e.dismissedByAction))).subscribe((t=>{setTimeout((()=>this.setDataValueType(e)),0)}))}else{this.snackBar.dismiss();const e=ey.findFieldByName(this.formComponent.fields,"dataValueType");this.fillAllowedDataValueType(t,e)}}needShowNotice(e,t,n){return n.checkTypeConversion&&n.dataValueType!==t&&eo.isPrecisionLost(e,t)}fillAllowedDataValueType(e,t){t.value=e,t.options=eo.getAllowedChangeTypes(e).map((e=>({name:this.translateService.instant(La[e.type].translateKey),value:e.type}))),t.options.unshift({name:this.translateService.instant(La[e].translateKey),value:La[e].type})}ngOnInit(){const e={name:"dataValueType",type:vC.Select,label:this.translateService.instant("columnFormat")};ey.addFieldToGroup(this.fields,CC.General,e,2),this.fillAllowedDataValueType(this.model.dataValueType,e)}ngAfterViewInit(){this.model.needShowPageDataValueTypeMessage&&this.showPageDateValueTypeMessage()}onFormCreated(e){super.onFormCreated(e);const t=e.form.get("dataValueType"),n=this.model.initialDataValueType||this.model.dataValueType;this.changeFormatSubscription=t.valueChanges.subscribe((e=>this.onDataValueTypeValueChanges(n,e,this.model)))}ngOnDestroy(){this.snackBar.dismiss(),this.changeFormatSubscription&&this.changeFormatSubscription.unsubscribe()}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](Mt.ux),l["ɵɵdirectiveInject"](u.sK))},e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["ts-meta-item-with-data-value-type-properties-page"]],features:[l["ɵɵInheritDefinitionFeature"]],decls:1,vars:2,consts:[["tsMetaItemPropertiesPage","",3,"model","fields","formCreated"]],template:function(e,t){1&e&&(l["ɵɵelementContainerStart"](0,0),l["ɵɵlistener"]("formCreated",(function(e){return t.onFormCreated(e)})),l["ɵɵelementContainerEnd"]()),2&e&&l["ɵɵproperty"]("model",t.model)("fields",t.fields)},directives:[sy],encapsulation:2}),e})(),dy=(()=>{class e extends cy{ngOnInit(){super.ngOnInit();ey.findFieldByName(this.fields,"dataValueType").label=this.translateService.instant("columnTextFormat"),ey.addFieldToGroup(this.fields,CC.Appearance,{name:"isMultilineText",value:this.model.isMultilineText,type:vC.CheckBox,label:this.translateService.instant("isMultilineTextLabel")})}}return e.ɵfac=function(){let t;return function(n){return(t||(t=l["ɵɵgetInheritedFactory"](e)))(n||e)}}(),e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["ts-text-meta-item-properties-page"]],features:[l["ɵɵInheritDefinitionFeature"]],decls:1,vars:2,consts:[["tsMetaItemPropertiesPage","",3,"model","fields","formCreated"]],template:function(e,t){1&e&&(l["ɵɵelementContainerStart"](0,0),l["ɵɵlistener"]("formCreated",(function(e){return t.onFormCreated(e)})),l["ɵɵelementContainerEnd"]()),2&e&&l["ɵɵproperty"]("model",t.model)("fields",t.fields)},directives:[sy],encapsulation:2}),e})(),uy=(()=>{class e extends cy{ngOnInit(){super.ngOnInit();ey.findFieldByName(this.fields,"dataValueType").label=this.translateService.instant("columnNumberFormat")}}return e.ɵfac=function(){let t;return function(n){return(t||(t=l["ɵɵgetInheritedFactory"](e)))(n||e)}}(),e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["ts-number-meta-item-properties-page"]],features:[l["ɵɵInheritDefinitionFeature"]],decls:1,vars:2,consts:[["tsMetaItemPropertiesPage","",3,"model","fields","formCreated"]],template:function(e,t){1&e&&(l["ɵɵelementContainerStart"](0,0),l["ɵɵlistener"]("formCreated",(function(e){return t.onFormCreated(e)})),l["ɵɵelementContainerEnd"]()),2&e&&l["ɵɵproperty"]("model",t.model)("fields",t.fields)},directives:[sy],encapsulation:2}),e})(),py=(()=>{class e extends cy{}return e.ɵfac=function(){let t;return function(n){return(t||(t=l["ɵɵgetInheritedFactory"](e)))(n||e)}}(),e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["ts-date-time-meta-item-properties-page"]],features:[l["ɵɵInheritDefinitionFeature"]],decls:1,vars:2,consts:[["tsMetaItemPropertiesPage","",3,"model","fields","formCreated"]],template:function(e,t){1&e&&(l["ɵɵelementContainerStart"](0,0),l["ɵɵlistener"]("formCreated",(function(e){return t.onFormCreated(e)})),l["ɵɵelementContainerEnd"]()),2&e&&l["ɵɵproperty"]("model",t.model)("fields",t.fields)},directives:[sy],encapsulation:2}),e})(),my=(()=>{class e extends ly{}return e.ɵfac=function(){let t;return function(n){return(t||(t=l["ɵɵgetInheritedFactory"](e)))(n||e)}}(),e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["ts-boolean-meta-item-properties-page"]],features:[l["ɵɵInheritDefinitionFeature"]],decls:1,vars:2,consts:[["tsMetaItemPropertiesPage","",3,"model","fields","formCreated"]],template:function(e,t){1&e&&(l["ɵɵelementContainerStart"](0,0),l["ɵɵlistener"]("formCreated",(function(e){return t.onFormCreated(e)})),l["ɵɵelementContainerEnd"]()),2&e&&l["ɵɵproperty"]("model",t.model)("fields",t.fields)},directives:[sy],encapsulation:2}),e})();class hy{static acceptableOptionsValidator(e){return t=>t.value&&t.value.isNewLookup?(0,h.of)(null):class{static acceptableOptionsValidator(e){return t=>{const n=t.value;return(e instanceof Array?(0,h.of)(e):e).pipe((0,g.U)((e=>{if((0,bi.Z)(n))return!0;const t="string"==typeof n?n.toLowerCase():n.name.toLowerCase();return e.some((e=>{var i;return(null===(i=null==e?void 0:e.name)||void 0===i?void 0:i.toLowerCase())===t||(null==e?void 0:e.value)===(null==n?void 0:n.value)}))})),(0,A.P)(),(0,g.U)((e=>e?null:{acceptableOptions:{value:name}})))}}}.acceptableOptionsValidator(e)(t)}}let gy=(()=>{class e extends ly{constructor(e,t){super(e),this.translateService=e,this.lookupService=t,this._isCascadeDisabled=!1,this.lookupControlValidations=[{name:"required",validator:c.kI.required,message:this.translateService.instant("selectValueCaption")}]}setLookupControlDisabledState(){this.model.canChangeReferenceSchema||this.formComponent.form.get(this.lookupControlName).disable()}get referenceSchemaList(){return this.lookupService.getLookupList()}get lookupControlName(){return"lookup"}addDataSourceFieldsGroup(){ey.addField(this.fields,{name:CC.DataSource,label:this.translateService.instant("dataSource"),type:vC.FieldsGroup,children:[]},1)}addLookupField(){var e;const t=this.referenceSchemaList;ey.addFieldToGroup(this.fields,CC.DataSource,{label:this.translateService.instant(this.lookupControlName),name:this.lookupControlName,type:vC.Lookup,value:(null===(e=this.model.referenceSchemaConfig)||void 0===e?void 0:e.uId)?{value:this.model.referenceSchemaConfig.uId,name:this.model.referenceSchemaConfig.caption,allowEdit:this.model.referenceSchemaConfig.allowEdit}:null,options:t,isSupportCreatingMode:this.model.canCreateReferenceSchema,validationConfig:this.model.validationConfig,validations:this.lookupControlValidations,asyncValidations:[{name:"acceptableOptions",validator:hy.acceptableOptionsValidator(t),message:this.translateService.instant("selectValueCaption")},{name:"primaryDisplayColumn",validator:oy.lookupPrimaryDisplayColumn(this.lookupService),message:this.translateService.instant("lookupSchemaDoesNotHavePrimaryDisplayColumnMsg")}]})}addIsSimpleLookupField(){ey.addFieldToGroup(this.fields,CC.DataSource,{type:vC.RadioButtonGroup,label:this.translateService.instant("lookupView"),name:"isSimpleLookup",value:this.model.isSimpleLookup,options:[{name:this.translateService.instant("selectionWindow"),value:!1},{name:this.translateService.instant("list"),value:!0}]})}get isCascadeDisabled(){return this._isCascadeDisabled}set isCascadeDisabled(e){this._isCascadeDisabled=e}addIsCascadeField(){const e="boolean"==typeof this.model.isCascade&&this.model.isCascade;ey.addFieldToGroup(this.fields,CC.DataSource,{type:vC.RadioButtonGroup,label:this.translateService.instant("lookupValueDeletion"),disabled:this.isCascadeDisabled,name:"isCascade",value:e,options:[{name:this.translateService.instant("blockDeletionCaption"),value:!1},{name:this.translateService.instant("DeleteRecordsCaption"),value:!0}]})}addFields(){this.addDataSourceFieldsGroup(),this.addLookupField(),this.addIsSimpleLookupField(),this.addIsCascadeField()}ngOnInit(){this.addFields()}onFormCreated(e){super.onFormCreated(e),this.setLookupControlDisabledState()}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](u.sK),l["ɵɵdirectiveInject"](kC))},e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["ts-lookup-meta-item-properties-page"]],features:[l["ɵɵProvidersFeature"]([]),l["ɵɵInheritDefinitionFeature"]],decls:1,vars:2,consts:[["tsMetaItemPropertiesPage","",3,"model","fields","formCreated"]],template:function(e,t){1&e&&(l["ɵɵelementContainerStart"](0,0),l["ɵɵlistener"]("formCreated",(function(e){return t.onFormCreated(e)})),l["ɵɵelementContainerEnd"]()),2&e&&l["ɵɵproperty"]("model",t.model)("fields",t.fields)},directives:[sy],encapsulation:2}),e})(),fy=(()=>{class e extends kC{constructor(e){super(),this.customEventService=e}checkLookupPrimaryDisplayColumn(e){return this.customEventService.getDataViaEvent("CheckLookupPrimaryDisplayColumn",e)}getLookupInfo(e){return this.customEventService.getDataViaEvent("GetLookupInfo",e)}getLookupList(){return this.customEventService.getDataViaEvent("GetLookupList")}getLookupNameList(){return this.customEventService.getDataViaEvent("GetLookupNameList")}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](Ze))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})(),vy=(()=>{class e{}return e.ɵfac=function(t){return new(t||e)},e.ɵmod=l["ɵɵdefineNgModule"]({type:e}),e.ɵinj=l["ɵɵdefineInjector"]({providers:[{provide:kC,useClass:fy}],imports:[[o.CommonModule,ay,Mt.ZX,St.Ps,j.c,B.ot,c.UX]]}),e})();("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](vy,{declarations:[sy,ly,cy,my,py,uy,dy,gy],imports:[o.CommonModule,ay,Mt.ZX,St.Ps,j.c,B.ot,c.UX],exports:[sy,ly,cy,my,py,uy,dy,gy]});function by(e){return e.cultureInfo.sysCultureName}let Cy=class{constructor(e){this._injector=e,ci.init({injector:this._injector,tag:"web-grid-container",component:Zb}),ci.init({injector:this._injector,tag:"web-flex-container",component:Ob})}};Cy.ɵfac=function(e){return new(e||Cy)(l["ɵɵinject"](l.Injector))},Cy.ɵmod=l["ɵɵdefineNgModule"]({type:Cy}),Cy.ɵinj=l["ɵɵdefineInjector"]({providers:[Ia,Wm,jb,{provide:R.Ad,useFactory:by,deps:[Yr]},{provide:R.sG,useValue:Up.$o},{provide:R._A,useClass:Up.t7,deps:[R.Ad]},{provide:Dt.Jm,useValue:{showDelay:300,hideDelay:300,touchendHideDelay:1e3,position:"above"}}],imports:[[o.CommonModule,ov,$g,ay,zv,uv,Pf,c.u5,_v,O.Bb,B.ot,ce.p9,Zp.FA,G.Is,Lt.t,x.lN,St.Ps,j.c,$p.Tx,Up.Yd,ze.Cq,R.si,zt.LD,Dt.AV,bh,Wp.Bz,zm,Ya,u.aw,c.UX,Pu,ie.To,eC,kt],ov,ay,zv,uv,_v,vy,bh,zm]}),Cy=(0,a.gn)([(0,r.CrtModule)({viewElements:[Zb,Ob,Wb,fC,Qb,Jb,Df,eg,Kb],converters:[r.InvertBooleanValueConverter,r.ToBooleanConverter,r.ToEmailLinkConverter,r.ToObjectPropConverter,r.ToPhoneLinkConverter,r.ToLookupConverter],requestHandlers:[ud]}),(0,a.w6)("design:paramtypes",[l.Injector])],Cy),("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](Cy,{declarations:[lf,Lf,hC,df,Ym,Oh,Ff,Eg,Xm,Kf,zh,gf,th,ih,jf,gb,Zb,Ob,Wb,Qb,Jb,fC,Kb,rC,Lg,zg],imports:[o.CommonModule,ov,$g,ay,zv,uv,Pf,c.u5,_v,O.Bb,B.ot,ce.p9,Zp.FA,G.Is,Lt.t,x.lN,St.Ps,j.c,$p.Tx,Up.Yd,ze.Cq,R.si,zt.LD,Dt.AV,bh,Wp.Bz,zm,Ya,u.aw,c.UX,Pu,ie.To,eC,kt],exports:[lf,Lf,hC,df,Ym,ov,Oh,ay,zv,uv,Ff,Eg,Xm,fC,_v,vy,zh,gf,th,bh,ih,jf,zm,Zb,Ob,Wb,Qb,Jb,rC,Lg,zg]});const yy={minWidth:0,maxWidth:Number.MAX_VALUE},wy=new l.InjectionToken("A horizontal resizing configuration");let _y=(()=>{class e{constructor(e,t){this._isRtl="rtl"===e.value,this._defaultResizingConfig=this._mergeConfigs(t,yy)}get resizeEdges(){return this._isRtl?{left:!0}:{right:!0}}_mergeConfigs(e,t){var n,i,r;return{minWidth:null!==(n=null==e?void 0:e.minWidth)&&void 0!==n?n:null==t?void 0:t.minWidth,maxWidth:null!==(i=null==e?void 0:e.maxWidth)&&void 0!==i?i:null==t?void 0:t.maxWidth,defaultWidth:null!==(r=null==e?void 0:e.defaultWidth)&&void 0!==r?r:null==t?void 0:t.defaultWidth}}isAvailableEdges(e){return this._isRtl?Boolean(null==e?void 0:e.left):Boolean(null==e?void 0:e.right)}getAdjustedWidth(e,t){const{minWidth:n,maxWidth:i,defaultWidth:r}=this._mergeConfigs(t,this._defaultResizingConfig);return"number"!=typeof e?r:(e=Math.min(e,i),e=Math.max(e,n))}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](en.Is),l["ɵɵinject"](wy,8))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})(),xy=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[_y,{provide:wy,useValue:t}]}}}return e.ɵfac=function(t){return new(t||e)},e.ɵmod=l["ɵɵdefineNgModule"]({type:e}),e.ɵinj=l["ɵɵdefineInjector"]({providers:[_y]}),e})();const Iy={[vb.None]:0,[vb.Small]:8,[vb.Medium]:16,[vb.Large]:24};var Sy=n(24217);const My="DataSourceStructureExplorerDataProvider";var Dy=n(63282),Py=n(2590);let Ty=(()=>{class e{_mapDataSchemaAttributeToStructureItem(e){return{name:e.name,caption:e.caption,dataValueType:e.dataValueType,item:e}}_mapToStructureExplorerItem(e){return{columnPath:e.path,caption:e.caption,metaPath:e.path,metaPathCaption:e.caption,hasChildren:!0,name:e.name,id:e.name,tags:[e.caption,e.name],data:{name:e.name,caption:e.caption,isDataSource:!1,item:e}}}_mapDataSchemaToStructureItem(e,t){return{name:e,caption:t.caption,item:t,isDataSource:!0}}getDataSchemaAttributeStructureItemsBySchemaName(e){return this.getDataSchemaByName(e).pipe((0,jr.j)("attributes"),(0,g.U)((e=>e.map((e=>this._mapDataSchemaAttributeToStructureItem(e))))))}getDataSchemaAttributeStructureExplorerItemByPath(e){return this.getDataSchemaAttributeByPath(e).pipe((0,g.U)((e=>this._mapToStructureExplorerItem(e))))}getDataSourceStructureItemByName(e){return this.getDataSourceByName(e).pipe((0,Pn.w)((e=>(0,h.forkJoin)([(0,h.of)(e),e.getSchema().pipe((0,Tn.q)(1))]))),(0,g.U)((([e,t])=>this._mapDataSchemaToStructureItem(e.dataSourceName,t))))}getDataSourceStructureItems(){return this.getDataSources().pipe((0,Dy.J)(),(0,Pn.w)((e=>(0,h.forkJoin)([(0,h.of)(e),e.getSchema().pipe((0,Tn.q)(1))]))),(0,g.U)((([e,t])=>this._mapDataSchemaToStructureItem(e.dataSourceName,t))),(0,Py.q)())}}return e.ɵfac=function(t){return new(t||e)},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})(),ky=(()=>{class e extends sr{constructor(e,t){super(),this._translateService=e,this._dataSourceStructureItemService=t,this._defaultCaptionKey="CDK.DataGroupCaption",this.name=My,this.setMapFunction(this._mapItemToExplorerItem)}_setDefaultCaption(){this._defaultCaption=this._translateService.instant(this._defaultCaptionKey)}_getAttributes(e){return this._dataSourceStructureItemService.getDataSchemaAttributeStructureItemsBySchemaName(e)}_getDataSources(){return this._dataSourceStructureItemService.getDataSourceStructureItems()}_getDataSourceStructureItemByName(e){return this._dataSourceStructureItemService.getDataSourceStructureItemByName(e)}_joinPath(...e){return e.filter(m.Ig).join(".")}_setStructureExplorerItemPaths(e,t){e.metaPath=this._joinPath(null==t?void 0:t.metaPath,e.metaPath),e.columnPath=this._joinPath(null==t?void 0:t.columnPath,e.columnPath),e.metaPathCaption=this._joinPath(null==t?void 0:t.caption,e.metaPathCaption)}getCaption(){var e;return(null===(e=this._currentSelectedItem)||void 0===e?void 0:e.caption)||this._defaultCaption}mapItemsToResult(e){const t={items:[],relatedItems:[],hideItems:!1};return e.forEach((e=>{e.data.isDataSource?(t.relatedItems.push(e),t.hideItems=!0):e.data.item.dataValueType===r.DataValueType.Lookup&&t.relatedItems.push(e),t.items.push(e)})),t}getChildItems(e){return this._getAttributes(e)}getAllItems(e){const t=null==e.data;if(this._currentSelectedItem=e.data,t)return this._getDataSources();const n=e.data.item;return this._getAttributes(n.referenceSchemaName||n.name)}_mapItemToExplorerItem(e){return{columnPath:e.item.name,data:e,hasChildren:!0,tags:[e.caption,e.name],caption:e.caption,id:e.name,name:e.name,metaPathCaption:e.caption,metaPath:e.name}}_mapDataSourceItemToStructureExplorerItem(e){return{columnPath:e.item.name,hasChildren:!0,caption:e.caption,metaPath:e.name,id:e.name,metaPathCaption:e.caption,name:e.name,tags:[e.caption,e.name],data:{name:e.name,caption:e.caption,isDataSource:!0,item:e.item}}}_findOwnAttribute(e,t){return this._getAttributes(e).pipe((0,g.U)((e=>e.map((e=>this._mapItemToExplorerItem(e))))),(0,g.U)((e=>e.find((e=>e.name===t)))))}_getSelectedReferenceAttributes(e,t){const n=t.split("."),i=e.item.name,r=e.item.caption;return(0,h.combineLatest)(n.map(((e,t)=>{const r=`${i}.${n.slice(0,t+1).join(".")}`;return this._dataSourceStructureItemService.getDataSchemaAttributeStructureExplorerItemByPath(r)}))).pipe((0,En.b)((t=>{t.forEach(((e,n)=>{const i=t[n-1];this._setStructureExplorerItemPaths(e,i)})),t.forEach((t=>{t.metaPath=this._joinPath(e.name,t.metaPath),t.columnPath=this._joinPath(i,t.columnPath),t.metaPathCaption=this._joinPath(r,t.metaPathCaption)}))})))}_getSelectedAttributes(e,t){const n=e.item.name;return this._findOwnAttribute(n,t).pipe((0,$r.zg)((n=>{if(n){n.columnPath=`${e.name}.${n.columnPath}`,n.metaPath=`${e.name}.${n.name}`;const t=`${e.caption}.${n.caption}`;return n.metaPathCaption=t,(0,h.of)([n])}return this._getSelectedReferenceAttributes(e,t)})))}_getSelectedPath(e){if(!e||0===e.length)return null;this._currentSelectedItem=null;const t=e[0].split(".");return{dataSourceName:t.shift(),path:t.join(".")}}_getRootItem(){const e=this.getDefaultRootItem();return e.caption=this.getCaption(),e}_getInitialStataForDataSource(e){const t=this._getRootItem();return this._getDataSourceStructureItemByName(e).pipe((0,En.b)((e=>{t.id=e.name,t.caption=e.caption,t.data=e})),(0,g.U)((e=>this._mapDataSourceItemToStructureExplorerItem(e))),(0,g.U)((e=>new cr([[t,e]]))))}_getInitialStateForSelectedPath({dataSourceName:e,path:t}){return this._getDataSources().pipe((0,$r.zg)((n=>{const i=n.find((t=>t.name===e)),r=this._mapDataSourceItemToStructureExplorerItem(i),a=this._getRootItem();return this._getSelectedAttributes(i,t).pipe((0,g.U)((e=>new cr([[a,r,...e]]))))})))}getInitialState(e){var t;if(this._setDefaultCaption(),this._currentSelectedItem=null,e.navigateOnlyThroughDataSource)return this._getInitialStataForDataSource(e.navigateOnlyThroughDataSource);const n=this._getSelectedPath(null===(t=e.options)||void 0===t?void 0:t.selectedMetaPaths);return n?this._getInitialStateForSelectedPath(n):(0,h.of)(new cr([]))}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](u.sK),l["ɵɵinject"](Ty))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})(),Ey=(()=>{class e{}return e.ɵfac=function(t){return new(t||e)},e.ɵmod=l["ɵɵdefineNgModule"]({type:e}),e.ɵinj=l["ɵɵdefineInjector"]({providers:[ky,{provide:Tr,useExisting:ky,multi:!0}],imports:[[Nr],Nr]}),e})();function Ny(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵelementContainerStart"](0),l["ɵɵelementStart"](1,"div",9),l["ɵɵelementStart"](2,"crt-menu-action-item",10),l["ɵɵlistener"]("itemSelected",(function(){l["ɵɵrestoreView"](e);const t=l["ɵɵnextContext"](2).$implicit,n=l["ɵɵnextContext"]().$implicit;return l["ɵɵnextContext"]().onItemSelected({code:t.code,data:n})})),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵelementContainerEnd"]()}if(2&e){const e=l["ɵɵnextContext"](2).$implicit,t=l["ɵɵnextContext"]().$implicit;l["ɵɵadvance"](1),l["ɵɵproperty"]("disableRipple",!0)("disabled",e.disabled),l["ɵɵadvance"](1),l["ɵɵproperty"]("crtMenuItem",e)("item",e)("data",t)}}function Oy(e,t){if(1&e&&(l["ɵɵelementContainerStart"](0),l["ɵɵelement"](1,"crt-menu-divider-item",11),l["ɵɵelementContainerEnd"]()),2&e){const e=l["ɵɵnextContext"](2).$implicit;l["ɵɵadvance"](1),l["ɵɵproperty"]("crtMenuItem",e)}}("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](Ey,{imports:[Nr],exports:[Nr]});const jy=function(e){return{$implicit:e}};function Ay(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵelementContainerStart"](0),l["ɵɵelementStart"](1,"div",13),l["ɵɵelementStart"](2,"crt-menu-action-item",14),l["ɵɵlistener"]("itemSelected",(function(){l["ɵɵrestoreView"](e);const t=l["ɵɵnextContext"](3).$implicit,n=l["ɵɵnextContext"]().$implicit;return l["ɵɵnextContext"]().onItemSelected({code:t.code,data:n})})),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵelementStart"](3,"crt-menu",15,16),l["ɵɵlistener"]("itemSelected",(function(t){l["ɵɵrestoreView"](e);return l["ɵɵnextContext"](5).onItemSelected(t)})),l["ɵɵelementEnd"](),l["ɵɵelementContainerEnd"]()}if(2&e){const e=l["ɵɵreference"](4),t=l["ɵɵnextContext"](3).$implicit,n=l["ɵɵnextContext"]().$implicit,i=l["ɵɵnextContext"]();l["ɵɵadvance"](1),l["ɵɵproperty"]("disableRipple",!0)("crtMenuItem",t)("crtMenuTriggerFor",e)("crtMenuTriggerData",l["ɵɵpureFunction1"](9,jy,n))("disabled",t.disabled),l["ɵɵadvance"](1),l["ɵɵproperty"]("item",t)("data",n),l["ɵɵadvance"](1),l["ɵɵproperty"]("menuItems",t.items)("panelClass",i.nestedMenuClasses)}}function Ry(e,t){if(1&e&&(l["ɵɵelementContainerStart"](0),l["ɵɵtemplate"](1,Ay,5,11,"ng-container",12),l["ɵɵelementContainerEnd"]()),2&e){const e=l["ɵɵnextContext"](2).$implicit;l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",e.items&&e.items.length>0)}}function Fy(e,t){if(1&e&&(l["ɵɵelementContainerStart"](0,7),l["ɵɵtemplate"](1,Ny,3,5,"ng-container",8),l["ɵɵtemplate"](2,Oy,2,1,"ng-container",8),l["ɵɵtemplate"](3,Ry,2,1,"ng-container",8),l["ɵɵelementContainerEnd"]()),2&e){const e=l["ɵɵnextContext"]().$implicit;l["ɵɵproperty"]("ngSwitch",e.type),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngSwitchCase","action"),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngSwitchCase","divider"),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngSwitchCase","menu")}}function Vy(e,t){if(1&e&&(l["ɵɵelementContainerStart"](0),l["ɵɵtemplate"](1,Fy,4,4,"ng-container",6),l["ɵɵelementContainerEnd"]()),2&e){const e=t.$implicit,n=l["ɵɵnextContext"]().$implicit,i=l["ɵɵnextContext"]();l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",i.isItemVisible(e,n))}}function Ly(e,t){if(1&e&&(l["ɵɵelementContainerStart"](0),l["ɵɵelementStart"](1,"div",20),l["ɵɵelementContainer"](2,21),l["ɵɵelementEnd"](),l["ɵɵelementContainerEnd"]()),2&e){const e=l["ɵɵnextContext"](2).$implicit;l["ɵɵadvance"](1),l["ɵɵproperty"]("disableRipple",!0)("disabled",e.disabled)("crtMenuViewElementItem",e),l["ɵɵadvance"](1),l["ɵɵproperty"]("crtViewElement",e)}}function zy(e,t){if(1&e&&(l["ɵɵelementContainerStart"](0),l["ɵɵelementStart"](1,"div",22),l["ɵɵelementContainer"](2,21),l["ɵɵelementEnd"](),l["ɵɵelement"](3,"crt-menu",23,16),l["ɵɵelementContainerEnd"]()),2&e){const e=l["ɵɵreference"](4),t=l["ɵɵnextContext"](3).$implicit,n=l["ɵɵnextContext"](2);l["ɵɵadvance"](1),l["ɵɵproperty"]("disableRipple",!0)("crtMenuTriggerFor",e)("disabled",t.disabled)("crtMenuViewElementItem",t),l["ɵɵadvance"](1),l["ɵɵproperty"]("crtViewElement",t),l["ɵɵadvance"](1),l["ɵɵproperty"]("items",t.items)("panelClass",n.nestedMenuClasses)}}function By(e,t){if(1&e&&l["ɵɵtemplate"](0,zy,5,7,"ng-container",17),2&e){l["ɵɵnextContext"]();const e=l["ɵɵreference"](5),t=l["ɵɵnextContext"]().$implicit;l["ɵɵproperty"]("ngIf",(null==t||null==t.items?null:t.items.length)>0)("ngIfElse",e)}}function Gy(e,t){if(1&e&&(l["ɵɵelementStart"](0,"div",24),l["ɵɵelementContainer"](1,21),l["ɵɵelementEnd"]()),2&e){const e=l["ɵɵnextContext"](2).$implicit;l["ɵɵproperty"]("crtMenuViewElementItem",e),l["ɵɵadvance"](1),l["ɵɵproperty"]("crtViewElement",e)}}function Hy(e,t){if(1&e&&(l["ɵɵelementContainerStart"](0),l["ɵɵtemplate"](1,Ly,3,4,"ng-container",17),l["ɵɵtemplate"](2,By,1,2,"ng-template",null,18,l["ɵɵtemplateRefExtractor"]),l["ɵɵtemplate"](4,Gy,2,2,"ng-template",null,19,l["ɵɵtemplateRefExtractor"]),l["ɵɵelementContainerEnd"]()),2&e){const e=l["ɵɵreference"](3),t=l["ɵɵnextContext"]().$implicit;l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf","crt.MenuItem"===t.type&&!t.items)("ngIfElse",e)}}function Uy(e,t){if(1&e&&(l["ɵɵelementContainerStart"](0),l["ɵɵtemplate"](1,Hy,6,2,"ng-container",12),l["ɵɵelementContainerEnd"]()),2&e){const e=t.$implicit,n=l["ɵɵnextContext"]().$implicit,i=l["ɵɵnextContext"]();l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",i.isItemVisible(e,n))}}function Zy(e,t){if(1&e&&(l["ɵɵelementContainerStart"](0),l["ɵɵtemplate"](1,Vy,2,1,"ng-container",4),l["ɵɵtemplate"](2,Uy,2,1,"ng-container",5),l["ɵɵelementContainerEnd"]()),2&e){const e=l["ɵɵnextContext"]();l["ɵɵadvance"](1),l["ɵɵproperty"]("ngForOf",e.menuItems)("ngForTrackBy",e.trackByIndex),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngForOf",e.items)}}const $y="nested-menu";let Wy=(()=>{class e{constructor(){this.xPosition="after",this.yPosition="below",this.itemSelected=new l.EventEmitter}set menuItems(e){this._menuItems=Array.isArray(e)?e:[]}get menuItems(){return this._menuItems}get nestedMenuClasses(){return this.panelClass?`${this.panelClass} nested-menu`:$y}isItemVisible(e,t){const{visible:n}=e;return"boolean"==typeof n?n:"function"!=typeof n||n(t)}onItemSelected(e){this.itemSelected.emit(e)}trackByIndex(e){return e}}return e.ɵfac=function(t){return new(t||e)},e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["crt-menu"]],viewQuery:function(e,t){if(1&e&&l["ɵɵviewQuery"]($p.VK,7),2&e){let e;l["ɵɵqueryRefresh"](e=l["ɵɵloadQuery"]())&&(t.menu=e.first)}},inputs:{menuItems:"menuItems",items:"items",xPosition:"xPosition",yPosition:"yPosition",panelClass:"panelClass"},outputs:{itemSelected:"itemSelected"},decls:4,vars:5,consts:[[3,"xPosition","yPosition","overlapTrigger"],["menu","matMenu"],[1,"menu-items-container"],[4,"matMenuContent"],[4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngFor","ngForOf"],[3,"ngSwitch",4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],["mat-menu-item","",3,"disableRipple","disabled"],[3,"crtMenuItem","item","data","itemSelected"],[3,"crtMenuItem"],[4,"ngIf"],["mat-menu-item","",3,"disableRipple","crtMenuItem","crtMenuTriggerFor","crtMenuTriggerData","disabled"],[3,"item","data","itemSelected"],[3,"menuItems","panelClass","itemSelected"],["nestedMenu",""],[4,"ngIf","ngIfElse"],["menu",""],["other",""],["mat-menu-item","",3,"disableRipple","disabled","crtMenuViewElementItem"],[3,"crtViewElement"],["mat-menu-item","",3,"disableRipple","crtMenuTriggerFor","disabled","crtMenuViewElementItem"],[3,"items","panelClass"],[3,"crtMenuViewElementItem"]],template:function(e,t){1&e&&(l["ɵɵelementStart"](0,"mat-menu",0,1),l["ɵɵelementStart"](2,"div",2),l["ɵɵtemplate"](3,Zy,3,3,"ng-container",3),l["ɵɵelementEnd"](),l["ɵɵelementEnd"]()),2&e&&(l["ɵɵclassMap"]("crt-menu "+t.panelClass||0),l["ɵɵproperty"]("xPosition",t.xPosition)("yPosition",t.yPosition)("overlapTrigger",!1))},styles:[".menu-items-container[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]{padding:0}"]}),e})(),qy=(()=>{class e{}return e.ɵfac=function(t){return new(t||e)},e.ɵdir=l["ɵɵdefineDirective"]({type:e,inputs:{item:"item"}}),e})();function Yy(e,t){if(1&e&&l["ɵɵelement"](0,"mat-icon",3),2&e){const e=l["ɵɵnextContext"]();l["ɵɵproperty"]("svgIcon",e.item.icon)}}function Jy(e,t){if(1&e&&(l["ɵɵelementStart"](0,"span"),l["ɵɵtext"](1),l["ɵɵpipe"](2,"translate"),l["ɵɵelementEnd"]()),2&e){const e=l["ɵɵnextContext"]();l["ɵɵadvance"](1),l["ɵɵtextInterpolate"](l["ɵɵpipeBind1"](2,1,e.item.caption))}}let Qy=(()=>{class e extends qy{}return e.ɵfac=function(){let t;return function(n){return(t||(t=l["ɵɵgetInheritedFactory"](e)))(n||e)}}(),e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["crt-menu-clickable-item"]],features:[l["ɵɵInheritDefinitionFeature"]],decls:3,vars:4,consts:[[1,"crt-menu-clickable-item",3,"disabled","tsDataItemMarker"],[3,"svgIcon",4,"ngIf"],[4,"ngIf"],[3,"svgIcon"]],template:function(e,t){1&e&&(l["ɵɵelementStart"](0,"button",0),l["ɵɵtemplate"](1,Yy,1,1,"mat-icon",1),l["ɵɵtemplate"](2,Jy,3,3,"span",2),l["ɵɵelementEnd"]()),2&e&&(l["ɵɵproperty"]("disabled",null==t.item?null:t.item.disabled)("tsDataItemMarker",(null==t.item?null:t.item.caption)||(null==t.item?null:t.item.icon)),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",null==t.item?null:t.item.icon),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",null==t.item?null:t.item.caption))},directives:[Gh,o.NgIf,St.Hw],pipes:[u.X$],styles:["[_nghost-%COMP%]{width:100%;height:100%;display:flex;align-items:center}.crt-menu-clickable-item[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;border:none;background:none;outline:none;cursor:pointer;padding:8px 16px 8px 40px;position:relative}.crt-menu-clickable-item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{min-width:16px;width:16px;min-height:16px;height:16px;margin-right:0;position:absolute;left:16px}.crt-menu-clickable-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{white-space:nowrap;text-overflow:ellipsis;overflow:hidden}"]}),e})(),Ky=(()=>{class e extends qy{constructor(){super(...arguments),this.itemSelected=new l.EventEmitter}onClick(){this.item.handler&&this.item.handler(this.data),this.itemSelected.emit(this.item)}}return e.ɵfac=function(){let t;return function(n){return(t||(t=l["ɵɵgetInheritedFactory"](e)))(n||e)}}(),e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["crt-menu-action-item"]],hostBindings:function(e,t){1&e&&l["ɵɵlistener"]("click",(function(){return t.onClick()}))},inputs:{data:"data"},outputs:{itemSelected:"itemSelected"},features:[l["ɵɵInheritDefinitionFeature"]],decls:1,vars:1,consts:[[3,"item"]],template:function(e,t){1&e&&l["ɵɵelement"](0,"crt-menu-clickable-item",0),2&e&&l["ɵɵproperty"]("item",t.item)},directives:[Qy],encapsulation:2}),e})(),Xy=(()=>{class e extends qy{}return e.ɵfac=function(){let t;return function(n){return(t||(t=l["ɵɵgetInheritedFactory"](e)))(n||e)}}(),e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["crt-menu-divider-item"]],features:[l["ɵɵInheritDefinitionFeature"]],decls:1,vars:0,template:function(e,t){1&e&&l["ɵɵelement"](0,"mat-divider")},directives:[Lt.d],styles:["mat-divider[_ngcontent-%COMP%]{margin:5px 0}"]}),e})(),ew=class{};ew.ɵfac=function(e){return new(e||ew)},ew.ɵcmp=l["ɵɵdefineComponent"]({type:ew,selectors:[["crt-menu-divider"]],decls:1,vars:0,template:function(e,t){1&e&&l["ɵɵelement"](0,"mat-divider")},directives:[Lt.d],styles:["mat-divider[_ngcontent-%COMP%]{margin:8px 0}"]}),ew=(0,a.gn)([Xs({type:"crt.MenuDivider"})],ew);var tw=n(93600),nw=n.n(tw);function iw(e,t){if(1&e&&l["ɵɵelement"](0,"mat-icon",3),2&e){const e=l["ɵɵnextContext"]();l["ɵɵstyleProp"]("filter",e.getIconFilter()),l["ɵɵproperty"]("svgIcon",e.icon)}}function rw(e,t){if(1&e&&(l["ɵɵelementStart"](0,"span",4),l["ɵɵtext"](1),l["ɵɵpipe"](2,"translate"),l["ɵɵelementEnd"]()),2&e){const e=l["ɵɵnextContext"]();l["ɵɵadvance"](1),l["ɵɵtextInterpolate1"](" ",l["ɵɵpipeBind1"](2,1,e.caption)," ")}}let aw=class extends Us{constructor(e){super(e),this.injector=e,this.clicked=new l.EventEmitter}handleItemClick(e){e.stopPropagation(),this.disabled||this.clicked.next(e)}getIconFilter(){return this.iconColor?nw().hexToFilter(this.iconColor).color:""}};aw.ɵfac=function(e){return new(e||aw)(l["ɵɵdirectiveInject"](l.Injector))},aw.ɵcmp=l["ɵɵdefineComponent"]({type:aw,selectors:[["crt-menu-item"]],inputs:{caption:"caption",icon:"icon",iconColor:"iconColor",visible:"visible",disabled:"disabled",items:"items"},outputs:{clicked:"clicked"},features:[l["ɵɵInheritDefinitionFeature"]],decls:3,vars:4,consts:[["mat-flat-button","",1,"crt-menu-item",3,"disabled","tsDataItemMarker","click"],[3,"svgIcon","filter",4,"ngIf"],["class","caption",4,"ngIf"],[3,"svgIcon"],[1,"caption"]],template:function(e,t){1&e&&(l["ɵɵelementStart"](0,"button",0),l["ɵɵlistener"]("click",(function(e){return t.handleItemClick(e)})),l["ɵɵtemplate"](1,iw,1,3,"mat-icon",1),l["ɵɵtemplate"](2,rw,3,3,"span",2),l["ɵɵelementEnd"]()),2&e&&(l["ɵɵproperty"]("disabled",t.disabled)("tsDataItemMarker",t.caption||t.icon),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",t.icon),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",t.caption))},directives:[Gh,o.NgIf,St.Hw],pipes:[u.X$],styles:["[_nghost-%COMP%]{width:100%;height:100%;display:flex;align-items:center}.crt-menu-item[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;border:none;background:none;outline:none;cursor:pointer;padding:8px 16px 8px 40px;position:relative}.crt-menu-item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{min-width:16px;width:16px;min-height:16px;height:16px;margin-right:0;position:absolute;left:16px}.crt-menu-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{white-space:nowrap;text-overflow:ellipsis;overflow:hidden}"]}),aw=(0,a.gn)([Xs({type:"crt.MenuItem"}),Ks({type:"crt.MenuItem",propertiesPanelComponentTypeName:"crt.MenuItemPropertiesPanel"}),(0,a.w6)("design:paramtypes",[l.Injector])],aw);let ow=(()=>{class e{constructor(){this.crtMenuItem=""}get itemType(){var e;return null===(e=this.item)||void 0===e?void 0:e.type}}return e.ɵfac=function(t){return new(t||e)},e.ɵdir=l["ɵɵdefineDirective"]({type:e,selectors:[["","crtMenuItem",""]],hostVars:2,hostBindings:function(e,t){2&e&&l["ɵɵattribute"]("crt-menu-item",t.crtMenuItem)("crt-menu-item-type",t.itemType)},inputs:{item:["crtMenuItem","item"]}}),e})(),sw=(()=>{class e extends $p.p6{constructor(e,t,n,i,r,a,o,s){super(e,t,n,i,r,a,o,s),this._elementRef=t}set crtMenuTriggerFor(e){this.menu=null==e?void 0:e.menu}set crtMenuTriggerData(e){this.menuData=e}onClick(e){super._handleClick(e)}_handleClick(e){"crt-button"!==this._elementRef.nativeElement.localName&&super._handleClick(e)}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](dn.aV),l["ɵɵdirectiveInject"](l.ElementRef),l["ɵɵdirectiveInject"](l.ViewContainerRef),l["ɵɵdirectiveInject"]($p.CP),l["ɵɵdirectiveInject"]($p.Sj,8),l["ɵɵdirectiveInject"]($p.OP,10),l["ɵɵdirectiveInject"](en.Is,8),l["ɵɵdirectiveInject"](y.tE))},e.ɵdir=l["ɵɵdefineDirective"]({type:e,selectors:[["","crtMenuTriggerFor",""]],hostBindings:function(e,t){1&e&&l["ɵɵlistener"]("clicked",(function(e){return t.onClick(e)}))},inputs:{crtMenuTriggerFor:"crtMenuTriggerFor",crtMenuTriggerData:"crtMenuTriggerData"},exportAs:["crtMenuTrigger"],features:[l["ɵɵInheritDefinitionFeature"]]}),e})(),lw=(()=>{class e{get itemName(){var e;return(null===(e=this.item)||void 0===e?void 0:e.name)||""}}return e.ɵfac=function(t){return new(t||e)},e.ɵdir=l["ɵɵdefineDirective"]({type:e,selectors:[["","crtMenuViewElementItem",""]],hostVars:1,hostBindings:function(e,t){2&e&&l["ɵɵattribute"]("crt-menu-view-element-item",t.itemName)},inputs:{item:["crtMenuViewElementItem","item"]}}),e})();const cw=JSON.parse('{"Input":{"Readonly":"Neupravitelné pole"},"Carousel":{"NoData":"Žádná data"},"ComboBox":{"Readonly":"Neupravitelné pole","InvalidValueSyntax":"Vyberte prosím hodnotu ze seznamu","NoData":"No data","EmptyDisplayValue":"No display value","AddNewRecord":"Add new","IsGoToSourceAllowedTooltip":"Go to record list"},"DateTimePicker":{"AriaNextMonthLabel":"Další měsíc","AriaPrevMonthLabel":"Minulý měsíc","AriaNextYearLabel":"Další rok","AriaPrevYearLabel":"Minulý rok","Readonly":"Neupravitelné pole"},"DataGrid":{"AddColumns":"Přidejte sloupce","ColumnToolbar":{"Hide":"Skrýt","Freeze":"Zmrazit","Unfreeze":"Uvolnit"},"RowToolbar":{"Open":"Otevřít","Copy":"Kopírovat","Delete":"Smazat","RunBusinessProcess":"Spusťte obchodní proces"},"ActionsToolbar":{"AriaLabel":"Actions","SaveForAll":"Save list settings","ResetToDefault":"Reset to default settings"}},"DataTable":{"NoData":"Žádná data","NotFoundColumn":"Sloupec nenalezen","ColumnSticky":"Frozen column","ColumnStickyDeactivated":"Frozen columns cannot be wider than 75% of the list width"},"Gallery":{"NoData":"Žádná data"},"FolderTreeActions":{"MenuButton":"Folders","MenuButtonAriaLabel":"Folders menu","ShowFolderTreeMenuItem":"Show folders","ClearButtonAriaLabel":"Hide folders"},"FolderTree":{"AddFilter":"Add","AddFilterHint":"Add new folder","BlankslateMessage":"No folders","CloseFolderTree":"Hide folders","SetUpFilter":"Set up filter","DefaultFolderName":"New folder","CopyFolderSuffix":"Copy","DeleteConfirmation":"Are you sure that you want to delete the selected folder?","MenuActions":{"AddFolder":"Add folder","RenameFolder":"Rename","CopyFolder":"Copy","DeleteFolder":"Delete","AddToFavorite":"Add to favorites","RemoveFromFavorite":"Remove from favorites"},"FavoritesNodeCaption":"Favorites"},"FolderTreeFilters":{"SaveButton":"Save","CancelButton":"Cancel","DialogTitle":"Setup filters"}}'),dw=JSON.parse('{"Input":{"Readonly":"Nicht editierbares Feld"},"Carousel":{"NoData":"Keine Daten"},"ComboBox":{"Readonly":"Nicht editierbares Feld","InvalidValueSyntax":"Please select value from the list","NoData":"No data","EmptyDisplayValue":"No display value","AddNewRecord":"Add new","IsGoToSourceAllowedTooltip":"Go to record list"},"DateTimePicker":{"AriaNextMonthLabel":"Nächster Monat","AriaPrevMonthLabel":"Vorheriger Monat","AriaNextYearLabel":"Next year","AriaPrevYearLabel":"Previous year","Readonly":"Nicht editierbares Feld"},"DataGrid":{"AddColumns":"Add columns","ColumnToolbar":{"Hide":"Verstecken","Freeze":"Freeze","Unfreeze":"Unfreeze"},"RowToolbar":{"Open":"Öffnen","Copy":"Kopieren","Delete":"Löschen","RunBusinessProcess":"Run business process"},"ActionsToolbar":{"AriaLabel":"Actions","SaveForAll":"Save list settings","ResetToDefault":"Reset to default settings"}},"DataTable":{"NoData":"Keine Daten","NotFoundColumn":"Column not found","ColumnSticky":"Frozen column","ColumnStickyDeactivated":"Frozen columns cannot be wider than 75% of the list width"},"Gallery":{"NoData":"Keine Daten"},"FolderTreeActions":{"MenuButton":"Folders","MenuButtonAriaLabel":"Folders menu","ShowFolderTreeMenuItem":"Show folders","ClearButtonAriaLabel":"Hide folders"},"FolderTree":{"AddFilter":"Add","AddFilterHint":"Add new folder","BlankslateMessage":"No folders","CloseFolderTree":"Hide folders","SetUpFilter":"Set up filter","DefaultFolderName":"New folder","CopyFolderSuffix":"Copy","DeleteConfirmation":"Are you sure that you want to delete the selected folder?","MenuActions":{"AddFolder":"Add folder","RenameFolder":"Rename","CopyFolder":"Copy","DeleteFolder":"Delete","AddToFavorite":"Add to favorites","RemoveFromFavorite":"Remove from favorites"},"FavoritesNodeCaption":"Favorites"},"FolderTreeFilters":{"SaveButton":"Save","CancelButton":"Cancel","DialogTitle":"Setup filters"}}'),uw=JSON.parse('{"Input":{"Readonly":"حقل غير قابل للتعديل"},"Carousel":{"NoData":"لا توجد بيانات"},"ComboBox":{"Readonly":"حقل غير قابل للتعديل","InvalidValueSyntax":"Please select value from the list","NoData":"لا توجد بيانات","EmptyDisplayValue":"No display value","AddNewRecord":"إضافة جديد","IsGoToSourceAllowedTooltip":"Go to record list"},"DateTimePicker":{"AriaNextMonthLabel":"الشهر القادم","AriaPrevMonthLabel":"الشهر الماضي","AriaNextYearLabel":"Next year","AriaPrevYearLabel":"Previous year","Readonly":"حقل غير قابل للتعديل"},"DataGrid":{"AddColumns":"Add columns","ColumnToolbar":{"Hide":"إخفاء","Freeze":"Freeze","Unfreeze":"Unfreeze"},"RowToolbar":{"Open":"فتح","Copy":"نسخ","Delete":"حذف","RunBusinessProcess":"Run business process"},"ActionsToolbar":{"AriaLabel":"Actions","SaveForAll":"Save list settings","ResetToDefault":"Reset to default settings"}},"DataTable":{"NoData":"لا توجد بيانات","NotFoundColumn":"Column not found","ColumnSticky":"Frozen column","ColumnStickyDeactivated":"Frozen columns cannot be wider than 75% of the list width"},"Gallery":{"NoData":"لا توجد بيانات"},"FolderTreeActions":{"MenuButton":"Folders","MenuButtonAriaLabel":"Folders menu","ShowFolderTreeMenuItem":"Show folders","ClearButtonAriaLabel":"Hide folders"},"FolderTree":{"AddFilter":"Add","AddFilterHint":"Add new folder","BlankslateMessage":"No folders","CloseFolderTree":"Hide folders","SetUpFilter":"Set up filter","DefaultFolderName":"New folder","CopyFolderSuffix":"Copy","DeleteConfirmation":"Are you sure that you want to delete the selected folder?","MenuActions":{"AddFolder":"Add folder","RenameFolder":"Rename","CopyFolder":"Copy","DeleteFolder":"Delete","AddToFavorite":"Add to favorites","RemoveFromFavorite":"Remove from favorites"},"FavoritesNodeCaption":"Favorites"},"FolderTreeFilters":{"SaveButton":"Save","CancelButton":"Cancel","DialogTitle":"Setup filters"}}'),pw=JSON.parse('{"Input":{"Readonly":"Non-editable field","ShowPassword":"Show password","HidePassword":"Hide password"},"Carousel":{"NoData":"No data"},"ComboBox":{"Readonly":"Non-editable field","NoData":"No data","EmptyDisplayValue":"No display value","AddNewRecord":"Add new","InvalidValueSyntax":"Please select value from the list","IsGoToSourceAllowedTooltip":"Go to record list"},"DateTimePicker":{"AriaNextMonthLabel":"Next month","AriaPrevMonthLabel":"Previous month","AriaNextYearLabel":"Next year","AriaPrevYearLabel":"Previous year","Readonly":"Non-editable field"},"DataGrid":{"AddColumns":"Add columns","ColumnToolbar":{"Hide":"Hide","Freeze":"Freeze","Unfreeze":"Unfreeze","Rename":"Rename","Title":"Column actions"},"ActionsToolbar":{"AriaLabel":"Actions","SaveForAll":"Save list settings for all users","ResetToDefault":"Reset to default list settings","Title":"List actions"},"RowToolbar":{"Open":"Open","Copy":"Copy","Delete":"Delete","RunBusinessProcess":"Run business process","Title":"Row actions"}},"DataTable":{"NoData":"No data","NoColumns":"No columns added","NotFoundColumn":"Column not found","ColumnSticky":"Frozen column","ColumnStickyDeactivated":"Frozen columns cannot be wider than 75% of the list width","Hints":{"Sort":"Sort"}},"Gallery":{"NoData":"No data"},"FolderTreeActions":{"MenuButton":"Folders","MenuButtonAriaLabel":"Folders menu","ShowFolderTreeMenuItem":"Show folders","ClearButtonAriaLabel":"Hide folders"},"FolderTree":{"AddFilter":"Add","AddFilterHint":"Add new folder","BlankslateMessage":"No folders","CloseFolderTree":"Hide folders","SetUpFilter":"Set up filter","DefaultFolderName":"New folder","CopyFolderSuffix":"Copy","DeleteConfirmation":"Are you sure that you want to delete the selected folder?","MenuActions":{"AddFolder":"Add folder","RenameFolder":"Rename","CopyFolder":"Copy","DeleteFolder":"Delete","AddToFavorite":"Add to favorites","RemoveFromFavorite":"Remove from favorites","ChangeFolderRights":"Set up access rights"},"ShowMenuActions":"Show actions","FavoritesNodeCaption":"Favorites"},"FolderTreeFilters":{"SaveButton":"Save","CancelButton":"Cancel","DialogTitle":"Setup filters"},"DataTableBooleanCell":{"BooleanValue":{"True":"Yes","False":"No"}}}'),mw=JSON.parse('{"Input":{"Readonly":"Campo no editable"},"Carousel":{"NoData":"Sin datos"},"ComboBox":{"Readonly":"Campo no editable","InvalidValueSyntax":"Seleccione el valor de la lista","NoData":"Sin datos","EmptyDisplayValue":"No display value","AddNewRecord":"Añadir nuevo","IsGoToSourceAllowedTooltip":"Go to record list"},"DateTimePicker":{"AriaNextMonthLabel":"Next month","AriaPrevMonthLabel":"Previous month","AriaNextYearLabel":"Next year","AriaPrevYearLabel":"Previous year","Readonly":"Campo no editable"},"DataGrid":{"AddColumns":"Agregar columnas","ColumnToolbar":{"Hide":"Esconder","Freeze":"Freeze","Unfreeze":"Unfreeze"},"RowToolbar":{"Open":"Open","Copy":"Copy","Delete":"Delete","RunBusinessProcess":"Run business process"},"ActionsToolbar":{"AriaLabel":"Actions","SaveForAll":"Save list settings","ResetToDefault":"Reset to default settings"}},"DataTable":{"NoData":"Sin datos","NotFoundColumn":"Column not found","ColumnSticky":"Frozen column","ColumnStickyDeactivated":"Las columnas congeladas no pueden tener más del 75 % del ancho de la lista"},"Gallery":{"NoData":"Sin datos"},"FolderTreeActions":{"MenuButton":"Folders","MenuButtonAriaLabel":"Folders menu","ShowFolderTreeMenuItem":"Show folders","ClearButtonAriaLabel":"Hide folders"},"FolderTree":{"AddFilter":"Add","AddFilterHint":"Add new folder","BlankslateMessage":"No folders","CloseFolderTree":"Hide folders","SetUpFilter":"Set up filter","DefaultFolderName":"New folder","CopyFolderSuffix":"Copy","DeleteConfirmation":"Are you sure that you want to delete the selected folder?","MenuActions":{"AddFolder":"Add folder","RenameFolder":"Rename","CopyFolder":"Copy","DeleteFolder":"Delete","AddToFavorite":"Add to favorites","RemoveFromFavorite":"Remove from favorites"},"FavoritesNodeCaption":"Favorites"},"FolderTreeFilters":{"SaveButton":"Save","CancelButton":"Cancel","DialogTitle":"Setup filters"}}'),hw=JSON.parse('{"Input":{"Readonly":"فیلد غیرقابل ویرایش"},"Carousel":{"NoData":"اطلاعاتی وجود ندارد"},"ComboBox":{"Readonly":"فیلد غیرقابل ویرایش","InvalidValueSyntax":"Please select value from the list","NoData":"No data","EmptyDisplayValue":"No display value","AddNewRecord":"Add new","IsGoToSourceAllowedTooltip":"Go to record list"},"DateTimePicker":{"AriaNextMonthLabel":"ماه بعدی","AriaPrevMonthLabel":"ماه قبل","AriaNextYearLabel":"Next year","AriaPrevYearLabel":"Previous year","Readonly":"فیلد غیرقابل ویرایش"},"DataGrid":{"AddColumns":"Add columns","ColumnToolbar":{"Hide":"پنهان سازی","Freeze":"Freeze","Unfreeze":"Unfreeze"},"RowToolbar":{"Open":"بازکردن","Copy":"کپی","Delete":"حذف","RunBusinessProcess":"Run business process"},"ActionsToolbar":{"AriaLabel":"Actions","SaveForAll":"Save list settings","ResetToDefault":"Reset to default settings"}},"DataTable":{"NoData":"اطلاعاتی وجود ندارد","NotFoundColumn":"Column not found","ColumnSticky":"Frozen column","ColumnStickyDeactivated":"Frozen columns cannot be wider than 75% of the list width"},"Gallery":{"NoData":"اطلاعاتی وجود ندارد"},"FolderTreeActions":{"MenuButton":"Folders","MenuButtonAriaLabel":"Folders menu","ShowFolderTreeMenuItem":"Show folders","ClearButtonAriaLabel":"Hide folders"},"FolderTree":{"AddFilter":"Add","AddFilterHint":"Add new folder","BlankslateMessage":"No folders","CloseFolderTree":"Hide folders","SetUpFilter":"Set up filter","DefaultFolderName":"New folder","CopyFolderSuffix":"Copy","DeleteConfirmation":"Are you sure that you want to delete the selected folder?","MenuActions":{"AddFolder":"Add folder","RenameFolder":"Rename","CopyFolder":"Copy","DeleteFolder":"Delete","AddToFavorite":"Add to favorites","RemoveFromFavorite":"Remove from favorites"},"FavoritesNodeCaption":"Favorites"},"FolderTreeFilters":{"SaveButton":"Save","CancelButton":"Cancel","DialogTitle":"Setup filters"}}'),gw=JSON.parse('{"Input":{"Readonly":"Champ non-éditable"},"Carousel":{"NoData":"Pas de données"},"ComboBox":{"Readonly":"Champ non-éditable","InvalidValueSyntax":"Merci de sélectionner la valeur dans la liste","NoData":"Pas de données","EmptyDisplayValue":"Pas de valeur d\'affichage","AddNewRecord":"Ajout","IsGoToSourceAllowedTooltip":"Aller à la liste des enregistrements"},"DateTimePicker":{"AriaNextMonthLabel":"Mois suivant","AriaPrevMonthLabel":"Mois précédent","AriaNextYearLabel":"Année suivante","AriaPrevYearLabel":"Année précédente","Readonly":"Champ non-éditable"},"DataGrid":{"AddColumns":"Ajouter des colonnes","ColumnToolbar":{"Hide":"Cacher","Freeze":"Geler","Unfreeze":"Libérer"},"RowToolbar":{"Open":"Ouvrir","Copy":"Copier","Delete":"Supprimer","RunBusinessProcess":"Exécuter le process"},"ActionsToolbar":{"AriaLabel":"Actions","SaveForAll":"Sauvegarder la liste des paramètres","ResetToDefault":"Réinitialiser les paramètres par défaut"}},"DataTable":{"NoData":"Pas de données","NotFoundColumn":"Colonne non trouvée","ColumnSticky":"Colonne figée","ColumnStickyDeactivated":"Les colonnes figées ne peuvent pas dépasser 75 % de la largeur de la liste"},"Gallery":{"NoData":"Pas de données"},"FolderTreeActions":{"MenuButton":"Dossiers","MenuButtonAriaLabel":"Menu des dossiers","ShowFolderTreeMenuItem":"Afficher les dossiers","ClearButtonAriaLabel":"Masque les dossiers"},"FolderTree":{"AddFilter":"Ajouter","AddFilterHint":"Ajouter un nouveau dossier","BlankslateMessage":"Pas de dossiers","CloseFolderTree":"Masque les dossiers","SetUpFilter":"Configurer le filtre","DefaultFolderName":"Nouveau dossier","CopyFolderSuffix":"Copier","DeleteConfirmation":"Êtes-vous sûr de vouloir supprimer le dossier sélectionné?","MenuActions":{"AddFolder":"Ajouter un dossier","RenameFolder":"Renommer","CopyFolder":"Copier","DeleteFolder":"Supprimer","AddToFavorite":"Ajouter aux favoris","RemoveFromFavorite":"Enlever des favoris"},"FavoritesNodeCaption":"Favoris"},"FolderTreeFilters":{"SaveButton":"Enregistrer","CancelButton":"Annuler","DialogTitle":"Configurer les filtres"}}'),fw=JSON.parse('{"Input":{"Readonly":"שדה לא ניתן לעריכה"},"Carousel":{"NoData":"אין נתונים"},"ComboBox":{"Readonly":"שדה לא ניתן לעריכה","InvalidValueSyntax":"Please select value from the list","NoData":"אין נתונים","EmptyDisplayValue":"No display value","AddNewRecord":"הוסף כחדש","IsGoToSourceAllowedTooltip":"Go to record list"},"DateTimePicker":{"AriaNextMonthLabel":"חודש הבא","AriaPrevMonthLabel":"חודש קודם","AriaNextYearLabel":"Next year","AriaPrevYearLabel":"Previous year","Readonly":"שדה לא ניתן לעריכה"},"DataGrid":{"AddColumns":"Add columns","ColumnToolbar":{"Hide":"הסתר","Freeze":"Freeze","Unfreeze":"Unfreeze"},"RowToolbar":{"Open":"פתח","Copy":"העתק","Delete":"מחק","RunBusinessProcess":"Run business process"},"ActionsToolbar":{"AriaLabel":"Actions","SaveForAll":"Save list settings","ResetToDefault":"Reset to default settings"}},"DataTable":{"NoData":"אין נתונים","NotFoundColumn":"Column not found","ColumnSticky":"Frozen column","ColumnStickyDeactivated":"Frozen columns cannot be wider than 75% of the list width"},"Gallery":{"NoData":"אין נתונים"},"FolderTreeActions":{"MenuButton":"Folders","MenuButtonAriaLabel":"Folders menu","ShowFolderTreeMenuItem":"Show folders","ClearButtonAriaLabel":"Hide folders"},"FolderTree":{"AddFilter":"Add","AddFilterHint":"Add new folder","BlankslateMessage":"No folders","CloseFolderTree":"Hide folders","SetUpFilter":"Set up filter","DefaultFolderName":"New folder","CopyFolderSuffix":"Copy","DeleteConfirmation":"Are you sure that you want to delete the selected folder?","MenuActions":{"AddFolder":"Add folder","RenameFolder":"Rename","CopyFolder":"Copy","DeleteFolder":"Delete","AddToFavorite":"Add to favorites","RemoveFromFavorite":"Remove from favorites"},"FavoritesNodeCaption":"Favorites"},"FolderTreeFilters":{"SaveButton":"Save","CancelButton":"Cancel","DialogTitle":"Setup filters"}}'),vw=JSON.parse('{"Input":{"Readonly":"Kolom yang tidak dapat diubah"},"Carousel":{"NoData":"Tidak ada data"},"ComboBox":{"Readonly":"Kolom yang tidak dapat diubah","InvalidValueSyntax":"Please select value from the list","NoData":"No data","EmptyDisplayValue":"No display value","AddNewRecord":"Add new","IsGoToSourceAllowedTooltip":"Go to record list"},"DateTimePicker":{"AriaNextMonthLabel":"Bulan berikutnya","AriaPrevMonthLabel":"Bulan sebelumnya","AriaNextYearLabel":"Next year","AriaPrevYearLabel":"Previous year","Readonly":"Kolom yang tidak dapat diubah"},"DataGrid":{"AddColumns":"Add columns","ColumnToolbar":{"Hide":"Sembunyikan","Freeze":"Freeze","Unfreeze":"Unfreeze"},"RowToolbar":{"Open":"Buka","Copy":"Salin","Delete":"Hapus","RunBusinessProcess":"Run business process"},"ActionsToolbar":{"AriaLabel":"Actions","SaveForAll":"Save list settings","ResetToDefault":"Reset to default settings"}},"DataTable":{"NoData":"Tidak ada data","NotFoundColumn":"Column not found","ColumnSticky":"Frozen column","ColumnStickyDeactivated":"Frozen columns cannot be wider than 75% of the list width"},"Gallery":{"NoData":"Tidak ada data"},"FolderTreeActions":{"MenuButton":"Folders","MenuButtonAriaLabel":"Folders menu","ShowFolderTreeMenuItem":"Show folders","ClearButtonAriaLabel":"Hide folders"},"FolderTree":{"AddFilter":"Add","AddFilterHint":"Add new folder","BlankslateMessage":"No folders","CloseFolderTree":"Hide folders","SetUpFilter":"Set up filter","DefaultFolderName":"New folder","CopyFolderSuffix":"Copy","DeleteConfirmation":"Are you sure that you want to delete the selected folder?","MenuActions":{"AddFolder":"Add folder","RenameFolder":"Rename","CopyFolder":"Copy","DeleteFolder":"Delete","AddToFavorite":"Add to favorites","RemoveFromFavorite":"Remove from favorites"},"FavoritesNodeCaption":"Favorites"},"FolderTreeFilters":{"SaveButton":"Save","CancelButton":"Cancel","DialogTitle":"Setup filters"}}'),bw=JSON.parse('{"Input":{"Readonly":"Campo non-editabile"},"Carousel":{"NoData":"Nessun dato"},"ComboBox":{"Readonly":"Campo non-editabile","InvalidValueSyntax":"Please select value from the list","NoData":"No data","EmptyDisplayValue":"No display value","AddNewRecord":"Add new","IsGoToSourceAllowedTooltip":"Go to record list"},"DateTimePicker":{"AriaNextMonthLabel":"Mese successivo","AriaPrevMonthLabel":"Mese precedente","AriaNextYearLabel":"Next year","AriaPrevYearLabel":"Previous year","Readonly":"Campo non-editabile"},"DataGrid":{"AddColumns":"Add columns","ColumnToolbar":{"Hide":"Nascondi","Freeze":"Freeze","Unfreeze":"Unfreeze"},"RowToolbar":{"Open":"Apri","Copy":"Copia","Delete":"Elimina","RunBusinessProcess":"Run business process"},"ActionsToolbar":{"AriaLabel":"Actions","SaveForAll":"Save list settings","ResetToDefault":"Reset to default settings"}},"DataTable":{"NoData":"Nessun dato","NotFoundColumn":"Column not found","ColumnSticky":"Frozen column","ColumnStickyDeactivated":"Frozen columns cannot be wider than 75% of the list width"},"Gallery":{"NoData":"Nessun dato"},"FolderTreeActions":{"MenuButton":"Folders","MenuButtonAriaLabel":"Folders menu","ShowFolderTreeMenuItem":"Show folders","ClearButtonAriaLabel":"Hide folders"},"FolderTree":{"AddFilter":"Add","AddFilterHint":"Add new folder","BlankslateMessage":"No folders","CloseFolderTree":"Hide folders","SetUpFilter":"Set up filter","DefaultFolderName":"New folder","CopyFolderSuffix":"Copy","DeleteConfirmation":"Are you sure that you want to delete the selected folder?","MenuActions":{"AddFolder":"Add folder","RenameFolder":"Rename","CopyFolder":"Copy","DeleteFolder":"Delete","AddToFavorite":"Add to favorites","RemoveFromFavorite":"Remove from favorites"},"FavoritesNodeCaption":"Favorites"},"FolderTreeFilters":{"SaveButton":"Save","CancelButton":"Cancel","DialogTitle":"Setup filters"}}'),Cw=JSON.parse('{"Input":{"Readonly":"Non-editable field"},"Carousel":{"NoData":"No data"},"ComboBox":{"Readonly":"Non-editable field","InvalidValueSyntax":"Please select value from the list","NoData":"No data","EmptyDisplayValue":"No display value","AddNewRecord":"Add new","IsGoToSourceAllowedTooltip":"Go to record list"},"DateTimePicker":{"AriaNextMonthLabel":"Next month","AriaPrevMonthLabel":"Previous month","AriaNextYearLabel":"Next year","AriaPrevYearLabel":"Previous year","Readonly":"Non-editable field"},"DataGrid":{"AddColumns":"Add columns","ColumnToolbar":{"Hide":"Hide","Freeze":"Freeze","Unfreeze":"Unfreeze"},"RowToolbar":{"Open":"Open","Copy":"Copy","Delete":"Delete","RunBusinessProcess":"Run business process"},"ActionsToolbar":{"AriaLabel":"Actions","SaveForAll":"Save list settings","ResetToDefault":"Reset to default settings"}},"DataTable":{"NoData":"No data","NotFoundColumn":"Column not found","ColumnSticky":"Frozen column","ColumnStickyDeactivated":"Frozen columns cannot be wider than 75% of the list width"},"Gallery":{"NoData":"No data"},"FolderTreeActions":{"MenuButton":"Folders","MenuButtonAriaLabel":"Folders menu","ShowFolderTreeMenuItem":"Show folders","ClearButtonAriaLabel":"Hide folders"},"FolderTree":{"AddFilter":"Add","AddFilterHint":"Add new folder","BlankslateMessage":"No folders","CloseFolderTree":"Hide folders","SetUpFilter":"Set up filter","DefaultFolderName":"New folder","CopyFolderSuffix":"Copy","DeleteConfirmation":"Are you sure that you want to delete the selected folder?","MenuActions":{"AddFolder":"Add folder","RenameFolder":"Rename","CopyFolder":"Copy","DeleteFolder":"Delete","AddToFavorite":"Add to favorites","RemoveFromFavorite":"Remove from favorites"},"FavoritesNodeCaption":"Favorites"},"FolderTreeFilters":{"SaveButton":"Save","CancelButton":"Cancel","DialogTitle":"Setup filters"}}'),yw=JSON.parse('{"Input":{"Readonly":"Non-editable field"},"Carousel":{"NoData":"No data"},"ComboBox":{"Readonly":"Non-editable field","InvalidValueSyntax":"Please select value from the list","NoData":"No data","EmptyDisplayValue":"No display value","AddNewRecord":"Add new","IsGoToSourceAllowedTooltip":"Go to record list"},"DateTimePicker":{"AriaNextMonthLabel":"Next month","AriaPrevMonthLabel":"Previous month","AriaNextYearLabel":"Next year","AriaPrevYearLabel":"Previous year","Readonly":"Non-editable field"},"DataGrid":{"AddColumns":"Add columns","ColumnToolbar":{"Hide":"Hide","Freeze":"Freeze","Unfreeze":"Unfreeze"},"RowToolbar":{"Open":"Open","Copy":"Copy","Delete":"Delete","RunBusinessProcess":"Run business process"},"ActionsToolbar":{"AriaLabel":"Actions","SaveForAll":"Save list settings","ResetToDefault":"Reset to default settings"}},"DataTable":{"NoData":"No data","NotFoundColumn":"Column not found","ColumnSticky":"Frozen column","ColumnStickyDeactivated":"Frozen columns cannot be wider than 75% of the list width"},"Gallery":{"NoData":"No data"},"FolderTreeActions":{"MenuButton":"Folders","MenuButtonAriaLabel":"Folders menu","ShowFolderTreeMenuItem":"Show folders","ClearButtonAriaLabel":"Hide folders"},"FolderTree":{"AddFilter":"Add","AddFilterHint":"Add new folder","BlankslateMessage":"No folders","CloseFolderTree":"Hide folders","SetUpFilter":"Set up filter","DefaultFolderName":"New folder","CopyFolderSuffix":"Copy","DeleteConfirmation":"Are you sure that you want to delete the selected folder?","MenuActions":{"AddFolder":"Add folder","RenameFolder":"Rename","CopyFolder":"Copy","DeleteFolder":"Delete","AddToFavorite":"Add to favorites","RemoveFromFavorite":"Remove from favorites"},"FavoritesNodeCaption":"Favorites"},"FolderTreeFilters":{"SaveButton":"Save","CancelButton":"Cancel","DialogTitle":"Setup filters"}}'),ww=JSON.parse('{"Input":{"Readonly":"Niet-wijzigbaar veld"},"Carousel":{"NoData":"Geen gegevens"},"ComboBox":{"Readonly":"Niet-wijzigbaar veld","InvalidValueSyntax":"Selecteer een waarde uit de lijst","NoData":"No data","EmptyDisplayValue":"No display value","AddNewRecord":"Add new","IsGoToSourceAllowedTooltip":"Go to record list"},"DateTimePicker":{"AriaNextMonthLabel":"Volgende maand","AriaPrevMonthLabel":"Vorige maand","AriaNextYearLabel":"Next year","AriaPrevYearLabel":"Vorig jaar","Readonly":"Niet-wijzigbaar veld"},"DataGrid":{"AddColumns":"Add columns","ColumnToolbar":{"Hide":"Verberg","Freeze":"Freeze","Unfreeze":"Unfreeze"},"RowToolbar":{"Open":"Openen","Copy":"Kopieer","Delete":"Verwijderen","RunBusinessProcess":"Run business process"},"ActionsToolbar":{"AriaLabel":"Actions","SaveForAll":"Save list settings","ResetToDefault":"Reset to default settings"}},"DataTable":{"NoData":"Geen gegevens","NotFoundColumn":"Column not found","ColumnSticky":"Frozen column","ColumnStickyDeactivated":"Frozen columns cannot be wider than 75% of the list width"},"Gallery":{"NoData":"Geen gegevens"},"FolderTreeActions":{"MenuButton":"Folders","MenuButtonAriaLabel":"Folders menu","ShowFolderTreeMenuItem":"Show folders","ClearButtonAriaLabel":"Hide folders"},"FolderTree":{"AddFilter":"Add","AddFilterHint":"Add new folder","BlankslateMessage":"No folders","CloseFolderTree":"Hide folders","SetUpFilter":"Set up filter","DefaultFolderName":"New folder","CopyFolderSuffix":"Copy","DeleteConfirmation":"Are you sure that you want to delete the selected folder?","MenuActions":{"AddFolder":"Add folder","RenameFolder":"Rename","CopyFolder":"Copy","DeleteFolder":"Delete","AddToFavorite":"Add to favorites","RemoveFromFavorite":"Remove from favorites"},"FavoritesNodeCaption":"Favorites"},"FolderTreeFilters":{"SaveButton":"Save","CancelButton":"Cancel","DialogTitle":"Setup filters"}}'),_w=JSON.parse('{"Input":{"Readonly":"Non-editable field"},"Carousel":{"NoData":"No data"},"ComboBox":{"Readonly":"Non-editable field","InvalidValueSyntax":"Please select value from the list","NoData":"No data","EmptyDisplayValue":"No display value","AddNewRecord":"Add new","IsGoToSourceAllowedTooltip":"Go to record list"},"DateTimePicker":{"AriaNextMonthLabel":"Next month","AriaPrevMonthLabel":"Previous month","AriaNextYearLabel":"Next year","AriaPrevYearLabel":"Previous year","Readonly":"Non-editable field"},"DataGrid":{"AddColumns":"Add columns","ColumnToolbar":{"Hide":"Hide","Freeze":"Freeze","Unfreeze":"Unfreeze"},"RowToolbar":{"Open":"Open","Copy":"Copy","Delete":"Delete","RunBusinessProcess":"Run business process"},"ActionsToolbar":{"AriaLabel":"Actions","SaveForAll":"Save list settings","ResetToDefault":"Reset to default settings"}},"DataTable":{"NoData":"No data","NotFoundColumn":"Column not found","ColumnSticky":"Frozen column","ColumnStickyDeactivated":"Frozen columns cannot be wider than 75% of the list width"},"Gallery":{"NoData":"No data"},"FolderTreeActions":{"MenuButton":"Folders","MenuButtonAriaLabel":"Folders menu","ShowFolderTreeMenuItem":"Show folders","ClearButtonAriaLabel":"Hide folders"},"FolderTree":{"AddFilter":"Add","AddFilterHint":"Add new folder","BlankslateMessage":"No folders","CloseFolderTree":"Hide folders","SetUpFilter":"Set up filter","DefaultFolderName":"New folder","CopyFolderSuffix":"Copy","DeleteConfirmation":"Are you sure that you want to delete the selected folder?","MenuActions":{"AddFolder":"Add folder","RenameFolder":"Rename","CopyFolder":"Copy","DeleteFolder":"Delete","AddToFavorite":"Add to favorites","RemoveFromFavorite":"Remove from favorites"},"FavoritesNodeCaption":"Favorites"},"FolderTreeFilters":{"SaveButton":"Save","CancelButton":"Cancel","DialogTitle":"Setup filters"}}'),xw=JSON.parse('{"Input":{"Readonly":"Pole nieedytowalne"},"Carousel":{"NoData":"Brak danych"},"ComboBox":{"Readonly":"Pole nieedytowalne","InvalidValueSyntax":"Please select value from the list","NoData":"No data","EmptyDisplayValue":"No display value","AddNewRecord":"Add new","IsGoToSourceAllowedTooltip":"Go to record list"},"DateTimePicker":{"AriaNextMonthLabel":"Następny miesiąc","AriaPrevMonthLabel":"Poprzedni miesiąc","AriaNextYearLabel":"Next year","AriaPrevYearLabel":"Previous year","Readonly":"Pole nieedytowalne"},"DataGrid":{"AddColumns":"Add columns","ColumnToolbar":{"Hide":"Ukryj","Freeze":"Freeze","Unfreeze":"Unfreeze"},"RowToolbar":{"Open":"Otwórz","Copy":"Skopiuj","Delete":"Skasuj","RunBusinessProcess":"Run business process"},"ActionsToolbar":{"AriaLabel":"Actions","SaveForAll":"Save list settings","ResetToDefault":"Reset to default settings"}},"DataTable":{"NoData":"Brak danych","NotFoundColumn":"Column not found","ColumnSticky":"Frozen column","ColumnStickyDeactivated":"Frozen columns cannot be wider than 75% of the list width"},"Gallery":{"NoData":"Brak danych"},"FolderTreeActions":{"MenuButton":"Folders","MenuButtonAriaLabel":"Folders menu","ShowFolderTreeMenuItem":"Show folders","ClearButtonAriaLabel":"Hide folders"},"FolderTree":{"AddFilter":"Add","AddFilterHint":"Add new folder","BlankslateMessage":"No folders","CloseFolderTree":"Hide folders","SetUpFilter":"Set up filter","DefaultFolderName":"New folder","CopyFolderSuffix":"Copy","DeleteConfirmation":"Are you sure that you want to delete the selected folder?","MenuActions":{"AddFolder":"Add folder","RenameFolder":"Rename","CopyFolder":"Copy","DeleteFolder":"Delete","AddToFavorite":"Add to favorites","RemoveFromFavorite":"Remove from favorites"},"FavoritesNodeCaption":"Favorites"},"FolderTreeFilters":{"SaveButton":"Save","CancelButton":"Cancel","DialogTitle":"Setup filters"}}'),Iw=JSON.parse('{"Input":{"Readonly":"Campo não editável"},"Carousel":{"NoData":"Não existem dados"},"ComboBox":{"Readonly":"Campo não editável","InvalidValueSyntax":"Please select value from the list","NoData":"Não existem dados","EmptyDisplayValue":"No display value","AddNewRecord":"Adicionar novo","IsGoToSourceAllowedTooltip":"Go to record list"},"DateTimePicker":{"AriaNextMonthLabel":"Próximo mês","AriaPrevMonthLabel":"Mês anterior","AriaNextYearLabel":"Next year","AriaPrevYearLabel":"Previous year","Readonly":"Campo não editável"},"DataGrid":{"AddColumns":"Add columns","ColumnToolbar":{"Hide":"Ocultar","Freeze":"Freeze","Unfreeze":"Unfreeze"},"RowToolbar":{"Open":"Abrir","Copy":"Copiar","Delete":"Deletar","RunBusinessProcess":"Run business process"},"ActionsToolbar":{"AriaLabel":"Actions","SaveForAll":"Save list settings","ResetToDefault":"Reset to default settings"}},"DataTable":{"NoData":"Não existem dados","NotFoundColumn":"Column not found","ColumnSticky":"Frozen column","ColumnStickyDeactivated":"Frozen columns cannot be wider than 75% of the list width"},"Gallery":{"NoData":"Não existem dados"},"FolderTreeActions":{"MenuButton":"Folders","MenuButtonAriaLabel":"Folders menu","ShowFolderTreeMenuItem":"Show folders","ClearButtonAriaLabel":"Hide folders"},"FolderTree":{"AddFilter":"Add","AddFilterHint":"Add new folder","BlankslateMessage":"No folders","CloseFolderTree":"Hide folders","SetUpFilter":"Set up filter","DefaultFolderName":"New folder","CopyFolderSuffix":"Copy","DeleteConfirmation":"Are you sure that you want to delete the selected folder?","MenuActions":{"AddFolder":"Add folder","RenameFolder":"Rename","CopyFolder":"Copy","DeleteFolder":"Delete","AddToFavorite":"Add to favorites","RemoveFromFavorite":"Remove from favorites"},"FavoritesNodeCaption":"Favorites"},"FolderTreeFilters":{"SaveButton":"Save","CancelButton":"Cancel","DialogTitle":"Setup filters"}}'),Sw=JSON.parse('{"Input":{"Readonly":"Campo não editável"},"Carousel":{"NoData":"Sem Dados"},"ComboBox":{"Readonly":"Campo não editável","InvalidValueSyntax":"Selecione um valor da lista","NoData":"Sem Dados","EmptyDisplayValue":"No display value","AddNewRecord":"Adicionar novo","IsGoToSourceAllowedTooltip":"Go to record list"},"DateTimePicker":{"AriaNextMonthLabel":"Próximo mês","AriaPrevMonthLabel":"Mês anterior","AriaNextYearLabel":"Próximo ano","AriaPrevYearLabel":"Ano anterior","Readonly":"Campo não editável"},"DataGrid":{"AddColumns":"Adicionar colunas","ColumnToolbar":{"Hide":"Esconder","Freeze":"Bloquear","Unfreeze":"Desbloquear"},"RowToolbar":{"Open":"Abrir","Copy":"Copiar","Delete":"Apagar","RunBusinessProcess":"Correr processo de negócio"},"ActionsToolbar":{"AriaLabel":"Actions","SaveForAll":"Save list settings","ResetToDefault":"Reset to default settings"}},"DataTable":{"NoData":"Sem Dados","NotFoundColumn":"Coluna não encontrada","ColumnSticky":"Coluna bloqueada","ColumnStickyDeactivated":"Colunas bloqueaadas não podem ser maiores do 75% da largura da lista"},"Gallery":{"NoData":"Sem Dados"},"FolderTreeActions":{"MenuButton":"Folders","MenuButtonAriaLabel":"Folders menu","ShowFolderTreeMenuItem":"Show folders","ClearButtonAriaLabel":"Hide folders"},"FolderTree":{"AddFilter":"Add","AddFilterHint":"Add new folder","BlankslateMessage":"No folders","CloseFolderTree":"Hide folders","SetUpFilter":"Set up filter","DefaultFolderName":"New folder","CopyFolderSuffix":"Copy","DeleteConfirmation":"Are you sure that you want to delete the selected folder?","MenuActions":{"AddFolder":"Add folder","RenameFolder":"Rename","CopyFolder":"Copy","DeleteFolder":"Delete","AddToFavorite":"Add to favorites","RemoveFromFavorite":"Remove from favorites"},"FavoritesNodeCaption":"Favorites"},"FolderTreeFilters":{"SaveButton":"Save","CancelButton":"Cancel","DialogTitle":"Setup filters"}}'),Mw=JSON.parse('{"Input":{"Readonly":"Camp non-editabil"},"Carousel":{"NoData":"Fara date"},"ComboBox":{"Readonly":"Camp non-editabil","InvalidValueSyntax":"Please select value from the list","NoData":"No data","EmptyDisplayValue":"No display value","AddNewRecord":"Add new","IsGoToSourceAllowedTooltip":"Go to record list"},"DateTimePicker":{"AriaNextMonthLabel":"Luna urmatoare","AriaPrevMonthLabel":"Luna trecuta","AriaNextYearLabel":"Next year","AriaPrevYearLabel":"Previous year","Readonly":"Camp non-editabil"},"DataGrid":{"AddColumns":"Add columns","ColumnToolbar":{"Hide":"Ascunde","Freeze":"Freeze","Unfreeze":"Unfreeze"},"RowToolbar":{"Open":"Deschideti","Copy":"Copiati","Delete":"Stergere","RunBusinessProcess":"Run business process"},"ActionsToolbar":{"AriaLabel":"Actions","SaveForAll":"Save list settings","ResetToDefault":"Reset to default settings"}},"DataTable":{"NoData":"Fara date","NotFoundColumn":"Column not found","ColumnSticky":"Frozen column","ColumnStickyDeactivated":"Frozen columns cannot be wider than 75% of the list width"},"Gallery":{"NoData":"Fara date"},"FolderTreeActions":{"MenuButton":"Folders","MenuButtonAriaLabel":"Folders menu","ShowFolderTreeMenuItem":"Show folders","ClearButtonAriaLabel":"Hide folders"},"FolderTree":{"AddFilter":"Add","AddFilterHint":"Add new folder","BlankslateMessage":"No folders","CloseFolderTree":"Hide folders","SetUpFilter":"Set up filter","DefaultFolderName":"New folder","CopyFolderSuffix":"Copy","DeleteConfirmation":"Are you sure that you want to delete the selected folder?","MenuActions":{"AddFolder":"Add folder","RenameFolder":"Rename","CopyFolder":"Copy","DeleteFolder":"Delete","AddToFavorite":"Add to favorites","RemoveFromFavorite":"Remove from favorites"},"FavoritesNodeCaption":"Favorites"},"FolderTreeFilters":{"SaveButton":"Save","CancelButton":"Cancel","DialogTitle":"Setup filters"}}'),Dw=JSON.parse('{"Input":{"Readonly":"Нередактируемое поле","ShowPassword":"Показать пароль","HidePassword":"Скрыть пароль"},"Carousel":{"NoData":"Нет данных"},"ComboBox":{"Readonly":"Нередактируемое поле","NoData":"Нет данных","EmptyDisplayValue":"Нет отображаемого значения","AddNewRecord":"Добавить","InvalidValueSyntax":"Выберите значение из списка","IsGoToSourceAllowedTooltip":"Перейти к списку записей"},"DateTimePicker":{"AriaNextMonthLabel":"Следующий месяц","AriaPrevMonthLabel":"Предыдущий месяц","AriaNextYearLabel":"Следующий год","AriaPrevYearLabel":"Предыдущий год","Readonly":"Нередактируемое поле"},"DataGrid":{"AddColumns":"Добавить колонки","ColumnToolbar":{"Hide":"Спрятать","Freeze":"Закрепить","Unfreeze":"Открепить","Rename":"Переименовать","Title":"Меню колонки"},"ActionsToolbar":{"AriaLabel":"Действия","SaveForAll":"Сохранить настройки для всех","ResetToDefault":"Вернуть исходные настройки","Title":"Меню списка"},"RowToolbar":{"Open":"Открыть","Copy":"Копировать","Delete":"Удалить","Title":"Меню строки"}},"DataTable":{"NoData":"Нет данных","NoColumns":"Нет добавленных колонок","NotFoundColumn":"Колонка не найдена","ColumnSticky":"Закрепленная колонка","ColumnStickyDeactivated":"Закрепённые колонки не могут быть больше 75% ширины списка","Hints":{"Sort":"Сортировать"}},"Gallery":{"NoData":"Нет данных"},"FolderTreeActions":{"MenuButton":"Группы","MenuButtonAriaLabel":"Меню групп","ShowFolderTreeMenuItem":"Показать группы","ClearButtonAriaLabel":"Скрыть группы"},"FolderTree":{"AddFilter":"Добавить","AddFilterHint":"Добавить новую группу","BlankslateMessage":"Нет групп","CloseFolderTree":"Скрыть группы","SetUpFilter":"Настроить фильтр","DefaultFolderName":"Новая группа","CopyFolderSuffix":"Копия","DeleteConfirmation":"Вы действительно хотите удалить выделенную группу?","MenuActions":{"AddFolder":"Добавить группу","CopyFolder":"Скопировать","RenameFolder":"Переименовать","DeleteFolder":"Удалить","AddToFavorite":"Добавить в избранные","RemoveFromFavorite":"Исключить из избранных","ChangeFolderRights":"Настройка прав"},"ShowMenuActions":"Показать действия","FavoritesNodeCaption":"Избранные"},"FolderTreeFilters":{"SaveButton":"Сохранить","CancelButton":"Отмена","DialogTitle":"Установить фильтры"},"DataTableBooleanCell":{"BooleanValue":{"True":"Да","False":"Нет"}}}'),Pw=JSON.parse('{"Input":{"Readonly":"Non-editable field"},"Carousel":{"NoData":"No data"},"ComboBox":{"Readonly":"Non-editable field","InvalidValueSyntax":"Please select value from the list","NoData":"No data","EmptyDisplayValue":"No display value","AddNewRecord":"Add new","IsGoToSourceAllowedTooltip":"Go to record list"},"DateTimePicker":{"AriaNextMonthLabel":"Next month","AriaPrevMonthLabel":"Previous month","AriaNextYearLabel":"Next year","AriaPrevYearLabel":"Previous year","Readonly":"Non-editable field"},"DataGrid":{"AddColumns":"Add columns","ColumnToolbar":{"Hide":"Hide","Freeze":"Freeze","Unfreeze":"Unfreeze"},"RowToolbar":{"Open":"Open","Copy":"Copy","Delete":"Delete","RunBusinessProcess":"Run business process"},"ActionsToolbar":{"AriaLabel":"Actions","SaveForAll":"Save list settings","ResetToDefault":"Reset to default settings"}},"DataTable":{"NoData":"No data","NotFoundColumn":"Column not found","ColumnSticky":"Frozen column","ColumnStickyDeactivated":"Frozen columns cannot be wider than 75% of the list width"},"Gallery":{"NoData":"No data"},"FolderTreeActions":{"MenuButton":"Folders","MenuButtonAriaLabel":"Folders menu","ShowFolderTreeMenuItem":"Show folders","ClearButtonAriaLabel":"Hide folders"},"FolderTree":{"AddFilter":"Add","AddFilterHint":"Add new folder","BlankslateMessage":"No folders","CloseFolderTree":"Hide folders","SetUpFilter":"Set up filter","DefaultFolderName":"New folder","CopyFolderSuffix":"Copy","DeleteConfirmation":"Are you sure that you want to delete the selected folder?","MenuActions":{"AddFolder":"Add folder","RenameFolder":"Rename","CopyFolder":"Copy","DeleteFolder":"Delete","AddToFavorite":"Add to favorites","RemoveFromFavorite":"Remove from favorites"},"FavoritesNodeCaption":"Favorites"},"FolderTreeFilters":{"SaveButton":"Save","CancelButton":"Cancel","DialogTitle":"Setup filters"}}'),Tw=JSON.parse('{"Input":{"Readonly":"ฟิลด์ที่แก้ไขไม่ได้"},"Carousel":{"NoData":"ไม่มีข้อมูล"},"ComboBox":{"Readonly":"ฟิลด์ที่แก้ไขไม่ได้","InvalidValueSyntax":"Please select value from the list","NoData":"No data","EmptyDisplayValue":"No display value","AddNewRecord":"Add new","IsGoToSourceAllowedTooltip":"Go to record list"},"DateTimePicker":{"AriaNextMonthLabel":"เดือนหน้า","AriaPrevMonthLabel":"เดือนที่ผ่านมา","AriaNextYearLabel":"Next year","AriaPrevYearLabel":"Previous year","Readonly":"ฟิลด์ที่แก้ไขไม่ได้"},"DataGrid":{"AddColumns":"Add columns","ColumnToolbar":{"Hide":"ซ่อน","Freeze":"Freeze","Unfreeze":"Unfreeze"},"RowToolbar":{"Open":"เปิด","Copy":"คัดลอก","Delete":"ลบ","RunBusinessProcess":"Run business process"},"ActionsToolbar":{"AriaLabel":"Actions","SaveForAll":"Save list settings","ResetToDefault":"Reset to default settings"}},"DataTable":{"NoData":"ไม่มีข้อมูล","NotFoundColumn":"Column not found","ColumnSticky":"Frozen column","ColumnStickyDeactivated":"Frozen columns cannot be wider than 75% of the list width"},"Gallery":{"NoData":"ไม่มีข้อมูล"},"FolderTreeActions":{"MenuButton":"Folders","MenuButtonAriaLabel":"Folders menu","ShowFolderTreeMenuItem":"Show folders","ClearButtonAriaLabel":"Hide folders"},"FolderTree":{"AddFilter":"Add","AddFilterHint":"Add new folder","BlankslateMessage":"No folders","CloseFolderTree":"Hide folders","SetUpFilter":"Set up filter","DefaultFolderName":"New folder","CopyFolderSuffix":"Copy","DeleteConfirmation":"Are you sure that you want to delete the selected folder?","MenuActions":{"AddFolder":"Add folder","RenameFolder":"Rename","CopyFolder":"Copy","DeleteFolder":"Delete","AddToFavorite":"Add to favorites","RemoveFromFavorite":"Remove from favorites"},"FavoritesNodeCaption":"Favorites"},"FolderTreeFilters":{"SaveButton":"Save","CancelButton":"Cancel","DialogTitle":"Setup filters"}}'),kw=JSON.parse('{"Input":{"Readonly":"Non-editable field"},"Carousel":{"NoData":"Veri yok"},"ComboBox":{"Readonly":"Non-editable field","InvalidValueSyntax":"Please select value from the list","NoData":"No data","EmptyDisplayValue":"No display value","AddNewRecord":"Add new","IsGoToSourceAllowedTooltip":"Go to record list"},"DateTimePicker":{"AriaNextMonthLabel":"Next month","AriaPrevMonthLabel":"Previous month","AriaNextYearLabel":"Next year","AriaPrevYearLabel":"Geçen yıl","Readonly":"Non-editable field"},"DataGrid":{"AddColumns":"Add columns","ColumnToolbar":{"Hide":"Hide","Freeze":"Freeze","Unfreeze":"Unfreeze"},"RowToolbar":{"Open":"Açma sayısı","Copy":"Kopyala","Delete":"Sil","RunBusinessProcess":"Run business process"},"ActionsToolbar":{"AriaLabel":"Actions","SaveForAll":"Save list settings","ResetToDefault":"Reset to default settings"}},"DataTable":{"NoData":"Veri yok","NotFoundColumn":"Column not found","ColumnSticky":"Frozen column","ColumnStickyDeactivated":"Frozen columns cannot be wider than 75% of the list width"},"Gallery":{"NoData":"Veri yok"},"FolderTreeActions":{"MenuButton":"Folders","MenuButtonAriaLabel":"Folders menu","ShowFolderTreeMenuItem":"Show folders","ClearButtonAriaLabel":"Hide folders"},"FolderTree":{"AddFilter":"Add","AddFilterHint":"Add new folder","BlankslateMessage":"No folders","CloseFolderTree":"Hide folders","SetUpFilter":"Set up filter","DefaultFolderName":"New folder","CopyFolderSuffix":"Copy","DeleteConfirmation":"Are you sure that you want to delete the selected folder?","MenuActions":{"AddFolder":"Add folder","RenameFolder":"Rename","CopyFolder":"Copy","DeleteFolder":"Delete","AddToFavorite":"Add to favorites","RemoveFromFavorite":"Remove from favorites"},"FavoritesNodeCaption":"Favorites"},"FolderTreeFilters":{"SaveButton":"Save","CancelButton":"Cancel","DialogTitle":"Setup filters"}}'),Ew=JSON.parse('{"Input":{"Readonly":"Trường không thể chỉnh sửa"},"Carousel":{"NoData":"Không có dữ liệu"},"ComboBox":{"Readonly":"Trường không thể chỉnh sửa","InvalidValueSyntax":"Vui lòng chọn giá trị từ danh sách","NoData":"No data","EmptyDisplayValue":"No display value","AddNewRecord":"Add new","IsGoToSourceAllowedTooltip":"Go to record list"},"DateTimePicker":{"AriaNextMonthLabel":"Tháng tới","AriaPrevMonthLabel":"Tháng trước","AriaNextYearLabel":"Next year","AriaPrevYearLabel":"Năm trước","Readonly":"Trường không thể chỉnh sửa"},"DataGrid":{"AddColumns":"Add columns","ColumnToolbar":{"Hide":"Ẩn","Freeze":"Freeze","Unfreeze":"Unfreeze"},"RowToolbar":{"Open":"Mở","Copy":"Sao chép","Delete":"Xóa","RunBusinessProcess":"Run business process"},"ActionsToolbar":{"AriaLabel":"Actions","SaveForAll":"Save list settings","ResetToDefault":"Reset to default settings"}},"DataTable":{"NoData":"Không có dữ liệu","NotFoundColumn":"Column not found","ColumnSticky":"Frozen column","ColumnStickyDeactivated":"Frozen columns cannot be wider than 75% of the list width"},"Gallery":{"NoData":"Không có dữ liệu"},"FolderTreeActions":{"MenuButton":"Folders","MenuButtonAriaLabel":"Folders menu","ShowFolderTreeMenuItem":"Show folders","ClearButtonAriaLabel":"Hide folders"},"FolderTree":{"AddFilter":"Add","AddFilterHint":"Add new folder","BlankslateMessage":"No folders","CloseFolderTree":"Hide folders","SetUpFilter":"Set up filter","DefaultFolderName":"New folder","CopyFolderSuffix":"Copy","DeleteConfirmation":"Are you sure that you want to delete the selected folder?","MenuActions":{"AddFolder":"Add folder","RenameFolder":"Rename","CopyFolder":"Copy","DeleteFolder":"Delete","AddToFavorite":"Add to favorites","RemoveFromFavorite":"Remove from favorites"},"FavoritesNodeCaption":"Favorites"},"FolderTreeFilters":{"SaveButton":"Save","CancelButton":"Cancel","DialogTitle":"Setup filters"}}'),Nw={zh:JSON.parse('{"Input":{"Readonly":"Non-editable field"},"Carousel":{"NoData":"No data"},"ComboBox":{"Readonly":"Non-editable field","NoData":"No data","EmptyDisplayValue":"No display value","AddNewRecord":"Add new","InvalidValueSyntax":"Please select value from the list","IsGoToSourceAllowedTooltip":"Go to record list"},"DateTimePicker":{"AriaNextMonthLabel":"Next month","AriaPrevMonthLabel":"Previous month","AriaNextYearLabel":"Next year","AriaPrevYearLabel":"Previous year","Readonly":"Non-editable field"},"DataGrid":{"AddColumns":"Add columns","ColumnToolbar":{"Hide":"Hide","Freeze":"Freeze","Unfreeze":"Unfreeze"},"ActionsToolbar":{"AriaLabel":"Actions","SaveForAll":"Save list settings","ResetToDefault":"Reset to default settings"},"RowToolbar":{"Open":"Open","Copy":"Copy","Delete":"Delete","RunBusinessProcess":"Run business process"}},"DataTable":{"NoData":"No data","NotFoundColumn":"Column not found","ColumnSticky":"Frozen column","ColumnStickyDeactivated":"Frozen columns cannot be wider than 75% of the list width"},"Gallery":{"NoData":"No data"},"FolderTreeActions":{"MenuButton":"Folders","MenuButtonAriaLabel":"Folders menu","ShowFolderTreeMenuItem":"Show folders","ClearButtonAriaLabel":"Hide folders"},"FolderTree":{"AddFilter":"Add","AddFilterHint":"Add new folder","BlankslateMessage":"No folders","CloseFolderTree":"Hide folders","SetUpFilter":"Set up filter","DefaultFolderName":"New folder","CopyFolderSuffix":"Copy","DeleteConfirmation":"Are you sure that you want to delete the selected folder?","MenuActions":{"AddFolder":"Add folder","RenameFolder":"Rename","CopyFolder":"Copy","DeleteFolder":"Delete","AddToFavorite":"Add to favorites","RemoveFromFavorite":"Remove from favorites"},"FavoritesNodeCaption":"Favorites"},"FolderTreeFilters":{"SaveButton":"Save","CancelButton":"Cancel","DialogTitle":"Setup filters"}}'),"vi-VN":Ew,"tr-TR":kw,"th-TH":Tw,"sv-SE":Pw,"ro-RO":Mw,"pt-PT":Sw,"pt-BR":Iw,"pl-PL":xw,no:_w,"nl-NL":ww,"lv-LV":yw,"kk-KZ":Cw,"it-IT":bw,"id-ID":vw,"he-IL":fw,"fr-FR":gw,"fa-IR":hw,"es-ES":mw,"de-DE":dw,"cs-CZ":cw,"ar-SA":uw,"en-US":pw,"ru-RU":Dw};let Ow=class{};function jw(e,t){if(1&e&&l["ɵɵelement"](0,"crt-skeleton-loader",3),2&e){const e=l["ɵɵnextContext"]();l["ɵɵproperty"]("styles",e.skeletonStyles)}}function Aw(e,t){1&e&&l["ɵɵelementContainer"](0)}function Rw(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵelementContainerStart"](0),l["ɵɵelementStart"](1,"button",6),l["ɵɵlistener"]("click",(function(t){l["ɵɵrestoreView"](e);return l["ɵɵnextContext"](2).onClick(t)}))("focus",(function(t){l["ɵɵrestoreView"](e);return l["ɵɵnextContext"](2).onFocus(t)}))("blur",(function(t){l["ɵɵrestoreView"](e);return l["ɵɵnextContext"](2).onBlur(t)})),l["ɵɵtemplate"](2,Aw,1,0,"ng-container",7),l["ɵɵelementEnd"](),l["ɵɵelementContainerEnd"]()}if(2&e){const e=l["ɵɵnextContext"](2),t=l["ɵɵreference"](4);l["ɵɵadvance"](1),l["ɵɵstyleProp"]("text-transform",e.textTransform),l["ɵɵclassProp"]("icon-mode",e.isIconMode),l["ɵɵproperty"]("color",e.colorThemePalette)("disabled",e.disabled)("disableRipple",e.isRippleDisabled)("ngClass",e.classes)("title",e.getTitle()),l["ɵɵattribute"]("ariaLabel",e.ariaLabel)("type",e.type)("tabIndex",e.tabIndex),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngTemplateOutlet",t)}}function Fw(e,t){1&e&&l["ɵɵelementContainer"](0)}Ow.ɵfac=function(e){return new(e||Ow)},Ow.ɵmod=l["ɵɵdefineNgModule"]({type:Ow}),Ow.ɵinj=l["ɵɵdefineInjector"]({imports:[[Pu,o.CommonModule,pt.forRoot({i18n:Nw}),Lt.t,St.Ps,$p.Tx,ne,Hg]]}),Ow=(0,a.gn)([(0,r.CrtModule)({viewElements:[ew,aw]})],Ow),("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](Ow,{declarations:[Ky,Qy,Wy,Xy,ow,lw,sw,ew,aw],imports:[Pu,o.CommonModule,pt,Lt.t,St.Ps,$p.Tx,ne,Hg],exports:[Wy,sw,ew,aw]}),l["ɵɵsetComponentScope"](Wy,[$p.VK,$p.KA,o.NgForOf,o.NgIf,o.NgSwitch,o.NgSwitchCase,$p.OP,Ky,ow,Xy,sw,Wy,lw,_u],[]);const Vw=function(e){return{$implicit:e}};function Lw(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵelementContainerStart"](0),l["ɵɵelementStart"](1,"div",9),l["ɵɵelementStart"](2,"button",10),l["ɵɵlistener"]("click",(function(t){l["ɵɵrestoreView"](e);return l["ɵɵnextContext"](3).onClick(t)}))("focus",(function(t){l["ɵɵrestoreView"](e);return l["ɵɵnextContext"](3).onFocus(t)}))("blur",(function(t){l["ɵɵrestoreView"](e);return l["ɵɵnextContext"](3).onBlur(t)})),l["ɵɵtemplate"](3,Fw,1,0,"ng-container",7),l["ɵɵelement"](4,"mat-divider",11),l["ɵɵelementEnd"](),l["ɵɵelementStart"](5,"button",12),l["ɵɵlistener"]("click",(function(e){return e.preventDefault(),e.stopPropagation()})),l["ɵɵelement"](6,"mat-icon",13),l["ɵɵelementEnd"](),l["ɵɵelement"](7,"crt-menu",14,15),l["ɵɵelementEnd"](),l["ɵɵelementContainerEnd"]()}if(2&e){const e=l["ɵɵreference"](8),t=l["ɵɵnextContext"](3),n=l["ɵɵreference"](4);l["ɵɵadvance"](2),l["ɵɵstyleProp"]("text-transform",t.textTransform),l["ɵɵclassProp"]("icon-mode",t.isIconMode),l["ɵɵproperty"]("color",t.colorThemePalette)("disabled",t.disabled)("disableRipple",t.isRippleDisabled)("ngClass",t.classes)("title",t.getTitle()),l["ɵɵattribute"]("ariaLabel",t.ariaLabel)("type",t.type)("tabIndex",t.tabIndex),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngTemplateOutlet",n),l["ɵɵadvance"](1),l["ɵɵproperty"]("vertical",!0),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngClass",t.classes)("color",t.colorThemePalette)("disabled",t.disabled)("disableRipple",t.isRippleDisabled)("crtMenuTriggerFor",e)("crtMenuTriggerData",l["ɵɵpureFunction1"](21,Vw,t.menuItems)),l["ɵɵadvance"](2),l["ɵɵproperty"]("items",t.menuItems)}}function zw(e,t){1&e&&l["ɵɵelementContainer"](0)}function Bw(e,t){1&e&&l["ɵɵelement"](0,"mat-icon",13)}function Gw(e,t){if(1&e&&(l["ɵɵelementStart"](0,"button",16),l["ɵɵtemplate"](1,zw,1,0,"ng-container",7),l["ɵɵtemplate"](2,Bw,1,0,"mat-icon",17),l["ɵɵelementEnd"](),l["ɵɵelement"](3,"crt-menu",14,15)),2&e){const e=l["ɵɵreference"](4),t=l["ɵɵnextContext"](3),n=l["ɵɵreference"](4);l["ɵɵstyleProp"]("text-transform",t.textTransform),l["ɵɵclassProp"]("icon-mode",t.isIconMode),l["ɵɵproperty"]("color",t.colorThemePalette)("disabled",t.disabled)("disableRipple",t.isRippleDisabled)("ngClass",t.classes)("title",t.getTitle())("crtMenuTriggerFor",e)("crtMenuTriggerData",l["ɵɵpureFunction1"](17,Vw,t.menuItems)),l["ɵɵattribute"]("ariaLabel",t.ariaLabel)("type",t.type)("tabIndex",t.tabIndex),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngTemplateOutlet",n),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",t.isTextVisible),l["ɵɵadvance"](1),l["ɵɵproperty"]("items",t.menuItems)}}function Hw(e,t){if(1&e&&(l["ɵɵtemplate"](0,Lw,9,23,"ng-container",4),l["ɵɵtemplate"](1,Gw,5,19,"ng-template",null,8,l["ɵɵtemplateRefExtractor"])),2&e){const e=l["ɵɵreference"](2),t=l["ɵɵnextContext"](2);l["ɵɵproperty"]("ngIf",t.isDividerShown())("ngIfElse",e)}}function Uw(e,t){if(1&e&&(l["ɵɵtemplate"](0,Rw,3,13,"ng-container",4),l["ɵɵtemplate"](1,Hw,3,2,"ng-template",null,5,l["ɵɵtemplateRefExtractor"])),2&e){const e=l["ɵɵreference"](2),t=l["ɵɵnextContext"]();l["ɵɵproperty"]("ngIf",!(null!=t.menuItems&&t.menuItems.length))("ngIfElse",e)}}function Zw(e,t){if(1&e&&(l["ɵɵelementContainerStart"](0),l["ɵɵtext"](1),l["ɵɵelementContainerEnd"]()),2&e){const e=l["ɵɵnextContext"](3);l["ɵɵadvance"](1),l["ɵɵtextInterpolate1"](" ",e.caption," ")}}function $w(e,t){1&e&&l["ɵɵprojection"](0)}function Ww(e,t){if(1&e&&(l["ɵɵelementContainerStart"](0),l["ɵɵtemplate"](1,Zw,2,1,"ng-container",4),l["ɵɵtemplate"](2,$w,1,0,"ng-template",null,21,l["ɵɵtemplateRefExtractor"]),l["ɵɵelementContainerEnd"]()),2&e){const e=l["ɵɵreference"](3),t=l["ɵɵnextContext"](2);l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",t.caption)("ngIfElse",e)}}function qw(e,t){if(1&e&&l["ɵɵelement"](0,"mat-icon",22),2&e){const e=l["ɵɵnextContext"](2);l["ɵɵproperty"]("svgIcon",e.icon)}}function Yw(e,t){if(1&e&&(l["ɵɵelementStart"](0,"span",18),l["ɵɵtemplate"](1,Ww,4,2,"ng-container",19),l["ɵɵtemplate"](2,qw,1,1,"mat-icon",20),l["ɵɵelementEnd"]()),2&e){const e=l["ɵɵnextContext"]();l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",e.isTextVisible),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",e.isIconVisible)}}let Jw=class extends Us{constructor(e){super(e),this._isIconModeSizePx=40,this._size=vb.Large,this._destroyed$=new h.Subject,this.caption="",this.iconPosition=fb.RightIcon,this.title="",this.isIconModeSizePx=this._isIconModeSizePx,this.clickMode="default",this._menuItems=[],this.clicked=new l.EventEmitter,this.focused=new l.EventEmitter,this.blurred=new l.EventEmitter,this.skeletonStyles={height:"36px",width:"120px"},this.isRippleDisabled=!1,this._subscribeSchemaChanged()}set size(e){e===vb.Default?this._size=vb.Large:this._size=e}set type(e){e&&"button"!==e&&"reset"!==e&&"submit"!==e||(this._type=e)}get type(){return this._type}set disableRipple(e){this.isRippleDisabled=!0===e||null}get menuItems(){return this._menuItems}set menuItems(e){this._menuItems=e}get isIconVisible(){return Boolean(this.icon)&&this.iconPosition!==fb.OnlyText}get isTextVisible(){return!this.isIconMode&&this.iconPosition!==fb.OnlyIcon}set color(e){this.colorThemePalette=this._getColorTheme(e)}onClick(e){null==e||e.stopPropagation(),null==e||e.preventDefault(),this.disabled||"default"!==this.clickMode||this.clicked.next(e)}onFocus(e){this.focused.next(e)}onBlur(e){this.blurred.next(e)}_getColorTheme(e){if("default"!==e)return e}_subscribeSchemaChanged(){this.injector.get(Fp).schemaChanged$.pipe((0,b.R)(this._destroyed$),(0,f.h)((({changes:{parentName:e}})=>e===this.name))).subscribe({next:({changes:{viewConfig:e,operation:t}})=>{switch(t){case kp.Insert:this._onAfterInsertViewConfig(e);break;case kp.Remove:this._onAfterDeleteViewConfig(e);break;default:return}this.detectChanges()}})}_onAfterInsertViewConfig(e){this.menuItems.push(e)}_onAfterDeleteViewConfig(e){const t=this.menuItems.findIndex((t=>t.name===e.name));this.menuItems.splice(t,1)}getClasses(){const e=super.getClasses();return this.switchClass(e,this.iconPosition,[[fb.LeftIcon,"button-icon-position-left"],[fb.RightIcon,"button-icon-position-right"],[fb.OnlyIcon,"button-icon-position-only-icon"]]),this.switchClass(e,this._size,[[vb.Small,"button-size-small"],[vb.Medium,"button-size-medium"],[vb.Large,"button-size-large"],[vb.ExtraLarge,"button-size-extra-large"]]),this.toggleClass(e,Boolean(this.icon),"button-with-icon"),e}onResized(e){}getTitle(){return this.title?this.title:this.isIconMode||this.iconPosition===fb.OnlyIcon?this.caption:""}isDividerShown(){var e;return!!(null===(e=this.menuItems)||void 0===e?void 0:e.length)&&"default"===this.clickMode&&this.isTextVisible}ngOnDestroy(){this._destroyed$.next(),this._destroyed$.complete()}};Jw.ɵfac=function(e){return new(e||Jw)(l["ɵɵdirectiveInject"](l.Injector))},Jw.ɵcmp=l["ɵɵdefineComponent"]({type:Jw,selectors:[["crt-button"]],hostBindings:function(e,t){1&e&&l["ɵɵlistener"]("click",(function(e){return t.onClick(e)}))("focus",(function(e){return t.onFocus(e)}))("blur",(function(e){return t.onBlur(e)}))},inputs:{disabled:"disabled",caption:"caption",icon:"icon",size:"size",iconPosition:"iconPosition",ariaLabel:"ariaLabel",title:"title",textTransform:"textTransform",type:"type",disableRipple:"disableRipple",isIconModeSizePx:"isIconModeSizePx",clickMode:"clickMode",menuItems:"menuItems",color:"color"},outputs:{clicked:"clicked",focused:"focused",blurred:"blurred"},features:[l["ɵɵInheritDefinitionFeature"]],ngContentSelectors:["*"],decls:5,vars:2,consts:[[3,"styles",4,"ngIf","ngIfElse"],["button",""],["defaultBtnContent",""],[3,"styles"],[4,"ngIf","ngIfElse"],["btnWithMenu",""],["mat-flat-button","",1,"crt-button",3,"color","disabled","disableRipple","ngClass","title","click","focus","blur"],[4,"ngTemplateOutlet"],["btnWithMenuClickMode",""],[1,"crt-button-wrapper"],["mat-flat-button","",1,"crt-button","crt-button-with-menu","crt-menu-with-default-action",3,"color","disabled","disableRipple","ngClass","title","click","focus","blur"],[3,"vertical"],["mat-flat-button","",1,"crt-button","crt-button-menu-trigger-icon",3,"ngClass","color","disabled","disableRipple","crtMenuTriggerFor","crtMenuTriggerData","click"],["svgIcon","menu-arrow"],[3,"items"],["itemsMenu",""],["mat-flat-button","",1,"crt-button","crt-button-with-menu",3,"color","disabled","disableRipple","ngClass","title","crtMenuTriggerFor","crtMenuTriggerData"],["svgIcon","menu-arrow",4,"ngIf"],[1,"btn-reversible-content"],[4,"ngIf"],["matSuffix","",3,"svgIcon",4,"ngIf"],["content",""],["matSuffix","",3,"svgIcon"]],template:function(e,t){if(1&e&&(l["ɵɵprojectionDef"](),l["ɵɵtemplate"](0,jw,1,1,"crt-skeleton-loader",0),l["ɵɵtemplate"](1,Uw,3,2,"ng-template",null,1,l["ɵɵtemplateRefExtractor"]),l["ɵɵtemplate"](3,Yw,3,2,"ng-template",null,2,l["ɵɵtemplateRefExtractor"])),2&e){const e=l["ɵɵreference"](2);l["ɵɵproperty"]("ngIf",t.loading)("ngIfElse",e)}},directives:[o.NgIf,di,B.lW,o.NgClass,o.NgTemplateOutlet,Lt.d,sw,St.Hw,Wy],styles:["[_nghost-%COMP%]{display:inline-block;height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;max-width:100%}.crt-button[_ngcontent-%COMP%]{display:block;max-width:100%;min-width:0}.crt-button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{display:flex;height:16px;width:16px;min-width:16px}.crt-button.icon-mode[_ngcontent-%COMP%]{width:100%;padding:0 4px}.crt-button.crt-button-with-menu[_ngcontent-%COMP%]{padding-right:8px}.crt-button.crt-button-with-menu.crt-menu-with-default-action[_ngcontent-%COMP%]{padding:0;margin-right:-2px}.crt-button.crt-button-with-menu.crt-menu-with-default-action[_ngcontent-%COMP%]   .mat-divider[_ngcontent-%COMP%]{margin-right:2px}.crt-button.crt-button-with-menu.crt-menu-with-default-action[_ngcontent-%COMP%]   .btn-reversible-content[_ngcontent-%COMP%]{padding:0 8px 0 16px}.crt-button.crt-button-with-menu[_ngcontent-%COMP%]:not(.button-icon-position-only-icon)   .btn-reversible-content[_ngcontent-%COMP%]{padding-right:8px}.crt-button[_ngcontent-%COMP%]   .btn-reversible-content[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;grid-gap:8px;gap:8px}.crt-button[_ngcontent-%COMP%]   .mat-divider[_ngcontent-%COMP%]{border-color:currentColor;border-width:1px;height:16px}.crt-button.button-size-small[_ngcontent-%COMP%]{line-height:16px}.crt-button.button-size-medium[_ngcontent-%COMP%]{line-height:24px}.crt-button.button-size-large[_ngcontent-%COMP%]{line-height:32px}.crt-button.button-size-extra-large[_ngcontent-%COMP%]{line-height:40px}.crt-button.button-size-small[_ngcontent-%COMP%]{height:16px}.crt-button.button-size-medium[_ngcontent-%COMP%]{height:24px}.crt-button.button-size-large[_ngcontent-%COMP%]{height:32px}.crt-button.button-size-extra-large[_ngcontent-%COMP%]{height:40px}.crt-button.button-size-small[_ngcontent-%COMP%]{font-size:10px}.crt-button.button-size-medium[_ngcontent-%COMP%]{font-size:12px}.crt-button.button-size-extra-large[_ngcontent-%COMP%], .crt-button.button-size-large[_ngcontent-%COMP%]{font-size:14px}.crt-button.button-size-small[_ngcontent-%COMP%]{padding:0 4px}.crt-button.button-size-medium[_ngcontent-%COMP%]{padding:0 8px}.crt-button.button-size-extra-large[_ngcontent-%COMP%], .crt-button.button-size-large[_ngcontent-%COMP%]{padding:0 16px}.crt-button.button-icon-position-only-icon.button-size-small[_ngcontent-%COMP%]{padding:0}.crt-button.button-icon-position-only-icon.button-size-medium[_ngcontent-%COMP%]{padding:0 4px}.crt-button.button-icon-position-only-icon.button-size-large[_ngcontent-%COMP%]{padding:0 8px}.crt-button.button-icon-position-only-icon.button-size-extra-large[_ngcontent-%COMP%]{padding:0 12px}.crt-button.button-size-extra-large[_ngcontent-%COMP%], .crt-button.button-size-large[_ngcontent-%COMP%]{text-transform:uppercase}.crt-button-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center}.crt-button-wrapper[_ngcontent-%COMP%]   .crt-button.crt-button-menu-trigger-icon[_ngcontent-%COMP%]{width:32px;padding:0 8px}[dir=rtl][_nghost-%COMP%]   .crt-button.crt-button-with-menu[_ngcontent-%COMP%]{padding-left:8px}[dir=rtl][_nghost-%COMP%]   .crt-button.crt-button-with-menu.crt-menu-with-default-action[_ngcontent-%COMP%]{padding:0;margin-left:-2px}[dir=rtl][_nghost-%COMP%]   .crt-button.crt-button-with-menu.crt-menu-with-default-action[_ngcontent-%COMP%]   .mat-divider[_ngcontent-%COMP%]{margin-left:2px}[dir=rtl][_nghost-%COMP%]   .crt-button.crt-button-with-menu.crt-menu-with-default-action[_ngcontent-%COMP%]   .btn-reversible-content[_ngcontent-%COMP%]{padding:0 16px 0 8px}[dir=rtl][_nghost-%COMP%]   .crt-button.crt-button-with-menu[_ngcontent-%COMP%]:not(.button-icon-position-only-icon)   .btn-reversible-content[_ngcontent-%COMP%]{padding-left:8px}"],changeDetection:0}),(0,a.gn)([(0,r.CrtInput)(),(0,a.w6)("design:type",Object)],Jw.prototype,"title",void 0),Jw=(0,a.gn)([Xs({type:"crt.Button"}),Ks({type:"crt.Button",toolbarConfig:[{name:"primary-button",groupType:Mu.Components,position:10,caption:"Components.Button.Caption",icon:n(13474),defaultPropertyValues:{caption:"",color:"default",disabled:!1},defaultLocalizableStrings:{caption:"Components.Button.Caption"}}],interfaceDesignerPropertiesPanelSchemaName:"InterfaceDesignerButtonPropertiesPanel",propertiesPanelComponentTypeName:"crt.ButtonPropertiesPanel",collectionPropertyNames:["menuItems"]}),(0,a.w6)("design:paramtypes",[l.Injector])],Jw);const Qw=["settings-button-icon","actions-button-icon","add-button-icon","back-button-icon","calculator-button-icon","close-button-icon","delete-button-icon","document-button-icon","document-new-button-icon","email-button-icon","gear-button-icon","open-button-icon","process-button-icon","reload-button-icon","save-button-icon","bars-button-icon","disk-warn-button-icon","flag-button-icon","import-button-icon","lock-button-icon","message-warn-button-icon","more-button-icon","pencil-button-icon","print-button-icon","social-button-icon"];let Kw=class{constructor(e){this._materialIconsRegistrator=e,Qw.forEach((e=>{this._materialIconsRegistrator.addIcons([{name:e,icon:n(98781)(`./${e}.svg`)}])})),this._materialIconsRegistrator.addIcons([{name:"menu-arrow",icon:n(40899)}])}};Kw.ɵfac=function(e){return new(e||Kw)(l["ɵɵinject"](Dn))},Kw.ɵmod=l["ɵɵdefineNgModule"]({type:Kw}),Kw.ɵinj=l["ɵɵdefineInjector"]({imports:[[B.ot,o.CommonModule,Rn,St.Ps,ui,Lt.t,Ow]]}),Kw=(0,a.gn)([(0,r.CrtModule)({viewElements:[Jw]}),(0,a.w6)("design:paramtypes",[Dn])],Kw),("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](Kw,{declarations:[Jw],imports:[B.ot,o.CommonModule,Rn,St.Ps,ui,Lt.t,Ow],exports:[Jw]});let Xw=(()=>{class e{constructor(){this._gap=20,this._viewSettingsShipper$=new h.Subject,this._carouselSlideSpeed=250,this._prepend=[],this._append=[],this._isRtl=!1,this._stageModel={transform:"translate3d(0px,0px,0px)",transition:"0s"},this._navigationModel={prevDisabled:!0,nextDisabled:!0},this._currentSlideId="",this._currentPosition=0,this._slidesWidth=[],this._slidesCoordinates=[]}get _allSlides(){return[...this._prepend,...this._slides,...this._append]}_setupSlides(e){this._prepend=e.prependSlides||[],this._slides=e.realSlides,this._append=e.appendSlides||[]}_setupCarouselWidth(e){this._carouselWidth=e}_setupAlignCenter(e){this._alignCenter=e}_setupInfinityLoop(e){this._loop=e}_setupSelectedItem(e){if(!e)return;const t=this._findSlideIndex(e.id)||0;this._currentPosition=t}_setupIsRtl(e){this._isRtl=e}_refreshCarousel(){this._setupSlidesDataWidth(),this._setupSlidesCoordinates()}_setupSlidesDataWidth(){const e=[];let t=this._slides.length;for(;t--;)e[t]=this._slides[t].width;this._slidesWidth=e}_setupSlidesCoordinates(){const e=this._allSlides.length,t=[];let n=-1,i=0,r=0;const a=this._isRtl?1:-1;for(;++n<e;){i=t[n-1]||0,r=this._slidesWidth[this._getRelativePosition(n)];const e=i+(r+this._gap)*a;t.push(e)}this._slidesCoordinates=t}_getRelativePosition(e){return e-=this._prepend.length,this._normalizePosition(e)}_normalizePosition(e){const t=this._slides.length;return(e<0||e>=t)&&(e=(e%t+t)%t),e}_resetCurrentPosition(){const e=this._getCurrentSlideId();let t=this._findSlideIndex(e);t=Math.max(this.minimum(),Math.min(this.maximum(),t)),this._setCurrentPosition(t,0)}_resetCurrentPositionBySlideId(){let e=this._findSlideIndex(this._currentSlideId);e=Math.max(this.minimum(),Math.min(this.maximum(),e)),this._setCurrentPosition(e,this._getSpeed())}_getCurrentSlideId(){return this._allSlides&&this._allSlides[this._currentPosition].slideId}_getCurrentItem(){return this._allSlides&&this._allSlides[this._currentPosition].record}_findSlideIndex(e,t){return t||(t=this._allSlides),e?t.findIndex((t=>t.slideId===e)):0}_setNewPosition(e){const t=this._currentPosition+(e?1:-1);this._refreshToNewPosition(t)}_refreshToNewPosition(e){let t=0;this._loop?(t=30,e=this._getLoopNewPosition(e)):e=Math.max(this.minimum(),Math.min(this.maximum(),e)),setTimeout((()=>{this._refreshPosition(e)}),t)}_getLoopNewPosition(e){const t=this._getShiftDistance(e);e=this._currentPosition+t;const n=this._getRevertPosition(e);if(this._isPositionShifted(e,t,n)){const i=n-t;e=n,this._refreshPosition(i,0)}return e}_getShiftDistance(e){let t=e-this._currentPosition;const n=+(t>0)-+(t<0),i=this._prepend.length+this._append.length;return Math.abs(t)>i&&(t+=-1*n*this._slides.length),t}_getRevertPosition(e){return((e-this.minimum())%this._slides.length+this._slides.length)%this._slides.length+this.minimum()}_isPositionShifted(e,t,n){return n!==e&&n-t<=this.maximum()&&n-t>0}_refreshPosition(e,t=this._getSpeed()){this._setCurrentPosition(e,t),this._sendChanges()}_setCurrentPosition(e,t){this._currentPosition=e,this._setStageModelAnimate(this._getSlideCoordinates(e),t)}_setStageModelAnimate(e,t){this._stageModel.transform=`translate3d(${e}px,0px,0px)`,this._stageModel.transition=t/1e3+"s"}_clearStageTransition(){this._stageModel.transition="0s"}_getSlideCoordinates(e){let t;return t=this._alignCenter?this._getCenterSlideCoordinates(e):this._slidesCoordinates[e-1]||0,t}_getCenterSlideCoordinates(e){const t=this._isRtl?-1:1;let n=this._slidesCoordinates[e]*t;const i=this._slidesCoordinates[e-1]*t||0;return n+=(this._carouselWidth-n+i)/2,n+=this._gap/2,n*t}_getSpeed(){return this._carouselSlideSpeed}_sendChanges(){this._refreshNavigationActions(),this._viewSettingsShipper$.next({stageModel:this._stageModel,prevActionDisabled:this._navigationModel.prevDisabled,nextActionDisabled:this._navigationModel.nextDisabled,selectedItem:this._getCurrentItem()})}_refreshNavigationActions(){this._navigationModel.prevDisabled=!this._loop&&this._currentPosition<=this.minimum(),this._navigationModel.nextDisabled=!this._loop&&this._currentPosition>=this.maximum()}setup(e){this._setupSlides(e.slides),this._setupCarouselWidth(e.carouselWidth),this._setupAlignCenter(e.alignCenter),this._setupInfinityLoop(e.loop),this._setupSelectedItem(e.selectedItem),this._setupIsRtl(e.isRtl)}initialize(){this._setCurrentPosition(this._currentPosition,0),this._refreshCarousel(),this._resetCurrentPosition(),this._sendChanges()}refreshCurrentSlideId(){this._currentSlideId=this._allSlides&&this._allSlides[this._currentPosition].slideId}onResize(e){this._refreshCarousel(),this._resetCurrentPositionBySlideId(),e||this._clearStageTransition(),this._sendChanges()}getViewSettings(){return this._viewSettingsShipper$.asObservable()}minimum(){return this._prepend.length}maximum(){let e;return e=this._loop?this._slides.length-1+this._append.length:this._slides.length-1,Math.max(e,0)}moveToSlide(e){const t=this._findSlideIndex(e);this._refreshToNewPosition(t)}prev(){this._setNewPosition(!1)}next(){this._setNewPosition(!0)}}return e.ɵfac=function(t){return new(t||e)},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})();function e_(e,t){if(1&e&&l["ɵɵelement"](0,"crt-skeleton-loader",3),2&e){const e=l["ɵɵnextContext"]();l["ɵɵproperty"]("styles",e.skeletonStyles)}}function t_(e,t){if(1&e&&(l["ɵɵelementContainerStart"](0),l["ɵɵelement"](1,"crt-carousel-item-wrapper",13),l["ɵɵelementContainerEnd"]()),2&e){const e=t.$implicit,n=l["ɵɵnextContext"](3);l["ɵɵadvance"](1),l["ɵɵproperty"]("record",e)("itemConfig",n.itemConfig)}}function n_(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵelementContainerStart"](0),l["ɵɵelementStart"](1,"div",5),l["ɵɵlistener"]("wheel",(function(t){l["ɵɵrestoreView"](e);return l["ɵɵnextContext"](2).onWheel(t)})),l["ɵɵelementStart"](2,"button",6),l["ɵɵlistener"]("click",(function(){l["ɵɵrestoreView"](e);return l["ɵɵnextContext"](2).prev()})),l["ɵɵelementStart"](3,"div",7),l["ɵɵelement"](4,"span",8),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵelementStart"](5,"crt-carousel-stage",9),l["ɵɵtemplate"](6,t_,2,2,"ng-container",10),l["ɵɵelementEnd"](),l["ɵɵelementStart"](7,"button",11),l["ɵɵlistener"]("click",(function(){l["ɵɵrestoreView"](e);return l["ɵɵnextContext"](2).next()})),l["ɵɵelementStart"](8,"div",7),l["ɵɵelement"](9,"span",12),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵelementContainerEnd"]()}if(2&e){const e=l["ɵɵnextContext"](2);l["ɵɵadvance"](2),l["ɵɵproperty"]("disabled",e.prevActionDisabled),l["ɵɵadvance"](3),l["ɵɵproperty"]("alignCenter",e.alignCenter)("loop",e.loop)("selectable",e.selectable)("selectedItem",e.selectedItem),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngForOf",e.items),l["ɵɵadvance"](1),l["ɵɵproperty"]("disabled",e.nextActionDisabled)}}function i_(e,t){if(1&e&&l["ɵɵtemplate"](0,n_,10,7,"ng-container",4),2&e){const e=l["ɵɵnextContext"](),t=l["ɵɵreference"](4);l["ɵɵproperty"]("ngIf",e.hasData())("ngIfElse",t)}}function r_(e,t){1&e&&(l["ɵɵelementStart"](0,"div",14),l["ɵɵelementStart"](1,"div",15),l["ɵɵtext"](2),l["ɵɵpipe"](3,"translate"),l["ɵɵelementEnd"](),l["ɵɵelementEnd"]()),2&e&&(l["ɵɵadvance"](2),l["ɵɵtextInterpolate"](l["ɵɵpipeBind1"](3,1,"Carousel.NoData")))}let a_=(()=>{class e extends Us{constructor(e,t,n){super(n),this._carouselService=e,this._changeDetectorRef=t,this.injector=n,this._subscription=new h.Subscription,this.skeletonStyles={height:"60px"},this.stageModel={transform:"",transition:""},this.prevActionDisabled=!1,this.nextActionDisabled=!1,this.alignCenter=!0,this.loop=!1,this.selectable=!0,this.itemConfig={},this.selectedItemChange=new l.EventEmitter}set selectedItem(e){this._setSelectedItem(e)}get selectedItem(){return this._selectedItem}_subscribeViewSettings(){const e=this._carouselService.getViewSettings().pipe((0,En.b)((e=>{this.prevActionDisabled=e.prevActionDisabled,this.nextActionDisabled=e.nextActionDisabled,this._setSelectedItem(e.selectedItem),this._changeDetectorRef.detectChanges()})));this._subscription.add(e.subscribe((()=>{})))}_setSelectedItem(e){this._isItemAlreadySelected(e)||(this._selectedItem=e,this.selectedItemChange.emit(e))}_isItemAlreadySelected(e){return this._selectedItem===e}ngOnInit(){this._subscribeViewSettings()}ngOnDestroy(){this._subscription.unsubscribe()}hasData(){var e;return!!(null===(e=this.items)||void 0===e?void 0:e.length)}prev(){this._carouselService.prev()}next(){this._carouselService.next()}onWheel(e){e.preventDefault(),e.deltaY>0?this.next():this.prev()}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](Xw),l["ɵɵdirectiveInject"](l.ChangeDetectorRef),l["ɵɵdirectiveInject"](l.Injector))},e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["crt-carousel"]],inputs:{items:"items",selectedItem:"selectedItem",alignCenter:"alignCenter",loop:"loop",selectable:"selectable",itemConfig:"itemConfig"},outputs:{selectedItemChange:"selectedItemChange"},features:[l["ɵɵInheritDefinitionFeature"]],decls:5,vars:2,consts:[[3,"styles",4,"ngIf","ngIfElse"],["carousel",""],["noData",""],[3,"styles"],[4,"ngIf","ngIfElse"],[1,"crt-carousel-wrap",3,"wheel"],["prev","",1,"crt-carousel-scroll-button",3,"disabled","click"],[1,"crt-carousel-scroll-button-icon"],[1,"arrow-left"],[1,"crt-carousel-stage-container",3,"alignCenter","loop","selectable","selectedItem"],[4,"ngFor","ngForOf"],["next","",1,"crt-carousel-scroll-button",3,"disabled","click"],[1,"arrow-right"],[3,"record","itemConfig"],[1,"blank-slate-wrap"],[1,"blank-slate-label"]],template:function(e,t){if(1&e&&(l["ɵɵtemplate"](0,e_,1,1,"crt-skeleton-loader",0),l["ɵɵtemplate"](1,i_,1,2,"ng-template",null,1,l["ɵɵtemplateRefExtractor"]),l["ɵɵtemplate"](3,r_,4,3,"ng-template",null,2,l["ɵɵtemplateRefExtractor"])),2&e){const e=l["ɵɵreference"](2);l["ɵɵproperty"]("ngIf",t.loading)("ngIfElse",e)}},styles:["[_nghost-%COMP%]{display:block;width:100%}[dir=rtl][_nghost-%COMP%]   .crt-carousel-wrap[_ngcontent-%COMP%]{flex-direction:row-reverse}.crt-carousel-wrap[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center}.crt-carousel-wrap[_ngcontent-%COMP%]   .crt-carousel-stage-container[_ngcontent-%COMP%]{margin:0 5px}.crt-carousel-wrap[_ngcontent-%COMP%]   .crt-carousel-scroll-button[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer;box-sizing:content-box;padding:0}.crt-carousel-wrap[_ngcontent-%COMP%]   .crt-carousel-scroll-button[_ngcontent-%COMP%]:disabled   .crt-carousel-scroll-button-icon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{opacity:.4}.crt-carousel-wrap[_ngcontent-%COMP%]   .crt-carousel-scroll-button[_ngcontent-%COMP%]   .crt-carousel-scroll-button-icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:26px;height:100%}.blank-slate-wrap[_ngcontent-%COMP%]{height:64px;display:flex;justify-content:center;align-items:center}.blank-slate-wrap[_ngcontent-%COMP%]   .blank-slate-label[_ngcontent-%COMP%]{text-align:center;text-transform:none}.blank-slate-wrap[_ngcontent-%COMP%]   .blank-slate-label[_ngcontent-%COMP%]:hover{background-color:transparent}.arrow-left[_ngcontent-%COMP%]{transform:rotate(135deg);-webkit-transform:rotate(135deg)}.arrow-left[_ngcontent-%COMP%], .arrow-right[_ngcontent-%COMP%]{border-color:#5d5d5d;border-style:solid;border-width:0 3px 3px 0;display:inline-block;padding:3.5px}.arrow-right[_ngcontent-%COMP%]{transform:rotate(-45deg);-webkit-transform:rotate(-45deg)}"]}),e})(),o_=(()=>{class e extends Us{constructor(e,t){super(e),this.injector=e,this.sanitizer=t}createImageResource(e){return this.sanitizer.bypassSecurityTrustResourceUrl(e)}getImageValue(e){return"string"==typeof e?e:null==e?void 0:e.url}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](l.Injector),l["ɵɵdirectiveInject"](i.DomSanitizer))},e.ɵdir=l["ɵɵdefineDirective"]({type:e,inputs:{record:"record"},features:[l["ɵɵInheritDefinitionFeature"]]}),e})();function s_(e,t){if(1&e&&l["ɵɵelement"](0,"crt-skeleton-loader",3),2&e){const e=l["ɵɵnextContext"]();l["ɵɵproperty"]("styles",e.skeletonStyles)}}function l_(e,t){if(1&e&&l["ɵɵelement"](0,"img",4),2&e){const e=l["ɵɵnextContext"]();l["ɵɵproperty"]("src",e.getImageSource(),l["ɵɵsanitizeUrl"])("alt",e.record.alt)}}let c_=(()=>{class e extends o_{constructor(e,t){super(e,t),this.injector=e,this.sanitizer=t,this.skeletonStyles={height:"50px"}}getImageSource(){const e=this.record.source,t=this.getImageValue(e);return this.createImageResource(t)}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](l.Injector),l["ɵɵdirectiveInject"](i.DomSanitizer))},e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["crt-carousel-default-item"]],features:[l["ɵɵInheritDefinitionFeature"]],decls:4,vars:2,consts:[[1,"carousel-item-wrap"],[3,"styles",4,"ngIf","ngIfElse"],["carouselItem",""],[3,"styles"],[1,"carousel-item",3,"src","alt"]],template:function(e,t){if(1&e&&(l["ɵɵelementStart"](0,"div",0),l["ɵɵtemplate"](1,s_,1,1,"crt-skeleton-loader",1),l["ɵɵtemplate"](2,l_,1,2,"ng-template",null,2,l["ɵɵtemplateRefExtractor"]),l["ɵɵelementEnd"]()),2&e){const e=l["ɵɵreference"](3);l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",t.loading)("ngIfElse",e)}},directives:[o.NgIf,di],styles:["[_nghost-%COMP%]{display:block;width:40px;height:40px}.carousel-item-wrap[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%}.carousel-item-wrap[_ngcontent-%COMP%]   .carousel-item[_ngcontent-%COMP%]{width:81%;object-fit:contain}"]}),e})();const d_=["carouselItem"];let u_=(()=>{class e extends Us{constructor(e,t,n,i,r){super(i),this._componentFactoryResolver=e,this._render=t,this._carouselService=n,this.injector=i,this.element=r,this._itemEventsUnListens=[]}_destroyItemComponentRef(){this._itemComponentRef&&this._itemComponentRef.destroy()}_clearItemViewContainerRef(){this.itemViewContainerRef.clear()}_getItemComponentClass(){var e;return(null===(e=this.itemConfig)||void 0===e?void 0:e.componentClass)||c_}_generateItemComponentRef(e){this._clearItemViewContainerRef();const t=this._componentFactoryResolver.resolveComponentFactory(e);return this.itemViewContainerRef.createComponent(t)}_getItemComponentNativeElement(){var e;return null===(e=this._itemComponentRef)||void 0===e?void 0:e.location.nativeElement}_moveToSlide(e){const t=this._getSlideIdFromEvent(e);this._carouselService.moveToSlide(t)}_getSlideIdFromEvent(e){return(0,r.isEmptyGuid)(e.slideId)?e.item.id:e.slideId}_initializeItem(){this._initializeItemComponentRef(),this._initializeItemComponentProperties(),this._initializeItemComponentEvents()}_initializeItemComponentRef(){const e=this._getItemComponentClass();this._itemComponentRef=this._generateItemComponentRef(e)}_initializeItemComponentProperties(){var e;const t=null===(e=this._itemComponentRef)||void 0===e?void 0:e.instance;t&&(t.record=this.record)}_initializeItemComponentEvents(){const e=this._getItemComponentNativeElement();if(!e)return;const t=this.record,n=this.slideId;this._itemEventsUnListens.push(this._render.listen(e,"click",(e=>this._moveToSlide({event:e,item:t,slideId:n}))))}_destroyItemEventListeners(){this._itemEventsUnListens.forEach((e=>e())),this._itemEventsUnListens=[]}ngOnInit(){this._initializeItem()}ngOnDestroy(){this._destroyItemComponentRef(),this._clearItemViewContainerRef(),this._destroyItemEventListeners()}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](l.ComponentFactoryResolver),l["ɵɵdirectiveInject"](l.Renderer2),l["ɵɵdirectiveInject"](Xw),l["ɵɵdirectiveInject"](l.Injector),l["ɵɵdirectiveInject"](l.ElementRef))},e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["crt-carousel-item-wrapper"]],viewQuery:function(e,t){if(1&e&&l["ɵɵviewQuery"](d_,7,l.ViewContainerRef),2&e){let e;l["ɵɵqueryRefresh"](e=l["ɵɵloadQuery"]())&&(t.itemViewContainerRef=e.first)}},inputs:{slideId:"slideId",record:"record",itemConfig:"itemConfig"},features:[l["ɵɵInheritDefinitionFeature"]],decls:2,vars:0,consts:[["carouselItem",""]],template:function(e,t){1&e&&l["ɵɵelementContainer"](0,null,0)},styles:["[_nghost-%COMP%]{cursor:pointer}"]}),e})();const p_=function(e,t,n,i){return{width:e,height:t,transform:n,transition:i}};function m_(e,t){if(1&e&&(l["ɵɵelementContainerStart"](0),l["ɵɵelement"](1,"div",4),l["ɵɵelementContainerEnd"]()),2&e){const e=l["ɵɵnextContext"]();l["ɵɵadvance"](1),l["ɵɵproperty"]("ngStyle",l["ɵɵpureFunction4"](1,p_,(null==e.selectedContainerOptions?null:e.selectedContainerOptions.width)+"px",(null==e.selectedContainerOptions?null:e.selectedContainerOptions.height)+"px",null==e.selectedContainerOptions?null:e.selectedContainerOptions.transform,"transform "+(null==e.selectedContainerOptions?null:e.selectedContainerOptions.transition)))}}function h_(e,t){if(1&e&&(l["ɵɵelementContainerStart"](0),l["ɵɵelement"](1,"crt-carousel-item-wrapper",5),l["ɵɵelementContainerEnd"]()),2&e){const e=t.$implicit;l["ɵɵadvance"](1),l["ɵɵproperty"]("slideId",e.slideId)("record",e.record)}}function g_(e,t){if(1&e&&(l["ɵɵelementContainerStart"](0),l["ɵɵelement"](1,"crt-carousel-item-wrapper",5),l["ɵɵelementContainerEnd"]()),2&e){const e=t.$implicit;l["ɵɵadvance"](1),l["ɵɵproperty"]("slideId",e.slideId)("record",e.record)}}const f_=function(e,t){return{transform:e,transition:t}},v_=["*"];let b_=(()=>{class e extends Us{constructor(e,t,n){super(n),this._el=e,this._carouselService=t,this.injector=n,this._gap=20,this._updateSlidesCoordinatesDelay=20,this._subscription=new h.Subscription,this._updateSlidesCoordinateThrottling=!1,this.slides=new l.QueryList,this.prepend=[],this.append=[],this.alignCenter=!0,this.loop=!1,this.selectable=!0,this.stageModel={transform:"",transition:""}}_subscribeViewSettings(){const e=this._carouselService.getViewSettings().pipe((0,En.b)((e=>{this.stageModel=e.stageModel,this._setSelectedSlide(e.selectedItem),this._clearTransitions(),this._updateSlidesCoordinatesIfNeedWithDaley()})));this._subscription.add(e.subscribe((()=>{})))}_setSelectedSlide(e){if(!this.isNeedShowSelectedBlock())return;const t=this.slides.toArray().find((t=>t.record.id===e.id)).element,n=this._getNativeElementWidth(t),i=t.nativeElement.getBoundingClientRect().height,r=this._getSelectedContainerCoordinate(e);this.selectedContainerOptions={width:n,height:i,transform:`translate3d(${r}px,0px,0px)`,transition:this.stageModel.transition}}_clearTransitions(){setTimeout((()=>{this.stageModel.transition="0s",this.isNeedShowSelectedBlock()&&(this.selectedContainerOptions.transition="0s")}),25)}_isRtl(){return"rtl"===this.documentDirection}_isCarouselStageSizeChanged(e){return this._carouselWidth!==e}_isNeedResetCarousel(e){const t=this._carouselWidth-e;return Math.abs(t)>2}_setupCarouselWidth(){this._carouselWidth=this._getNativeElementWidth(this._el)}_subscribeSlidesChanged(){const e=this.slides.changes.pipe((0,En.b)((()=>{this._resetCarousel(),this._setupMinimumCarouselWidth()})));this._subscription.add(e.subscribe((()=>{})))}_updateSlidesCoordinatesIfNeedWithDaley(){setTimeout((()=>{this._updateSlidesCoordinatesIfNeed()}),this._updateSlidesCoordinatesDelay)}_updateSlidesCoordinatesIfNeed(){this._isNeedUpdateSlidesCoordinates()&&this._updateSlidesCoordinateWithThrottling()}_isNeedUpdateSlidesCoordinates(){const e=this._getNativeElementWidth(this._el);return this._isNeedUpdateSelectedContainerCoordinate()||this._isCarouselStageSizeChanged(e)}_isNeedUpdateSelectedContainerCoordinate(){var e;if(!this.isNeedShowSelectedBlock())return!1;const t=this._getTransformX(null===(e=this.selectedContainerOptions)||void 0===e?void 0:e.transform);if(0===t)return!1;return t!==this._getSelectedContainerCoordinate(this.selectedItem)}_getSelectedContainerCoordinate(e){if(!e)return 0;const t=this._getNativeElementWidth(this._el),n=this.slides.toArray().find((t=>t.record.id===e.id)).element,i=this._isRtl()?-1:1;return(t/2-this._getNativeElementWidth(n)/2)*i}_updateSlidesCoordinateWithThrottling(){this._updateSlidesCoordinateThrottling||(this._updateSlidesCoordinateThrottling=!0,setTimeout((()=>{this._updateSlidesCoordinates(),this._updateSlidesCoordinateThrottling=!1}),this._updateSlidesCoordinatesDelay))}_updateSlidesCoordinates(){this._carouselService.refreshCurrentSlideId(),this._setupCarouselWidth(),this._setupCarouselSettings(),this._onResizeCarousel(!1)}_resetCarousel(){this._carouselService.refreshCurrentSlideId();const e=this.prepend.slice();this._refreshCarousel(),this._refreshCarouselSlidePosition(e),this._onResizeCarousel(!0)}_onResizeCarousel(e){setTimeout((()=>{this._carouselService.onResize(e)}),10)}_setupMinimumCarouselWidth(){const e=this.slides.toArray().map((e=>this._getNativeElementWidth(e.element))),t=Math.min(...e);this.minimumCarouselWidth=t,this._carouselWidth<t&&(this._carouselWidth=t)}_refreshCarousel(){this._setupClonedSlides(),this._setupCarouselSettings()}_setupClonedSlides(){if(!this.loop)return void this._resetClonedSlides();const e=this.slides.toArray();this._getSlidesWidth(e)<=this._getLoopCarouselWidth()?this._resetClonedSlides():(this._setupPrependSlides(e),this._setupAppendSlides(e))}_getSlidesWidth(e){let t=0;return e.forEach((e=>t+=this._getNativeElementWidth(e.element)+this._gap)),t-=this._gap,t}_getLoopCarouselWidth(){return this.alignCenter?this._carouselWidth/2+this.minimumCarouselWidth/2:this._carouselWidth}_resetClonedSlides(){this.prepend=[],this.append=[]}_setupPrependSlides(e){let t=e.length;const n=[];let i=0;for(;t--;){const r=this._createCarouselSlideModel(e[t],"cloned-prepend-");if(n.unshift(r),i+=r.width,i>this._carouselWidth)break;i+=this._gap}this.prepend=n}_setupAppendSlides(e){let t=0;const n=[];let i=0;for(;t<e.length;){const r=this._createCarouselSlideModel(e[t],"cloned-append-");if(n.push(r),i+=r.width,t++,i>this._carouselWidth)break;i+=this._gap}this.append=n}_setupCarouselSettings(){const e={slides:{prependSlides:this.prepend,realSlides:this.slides.toArray().map((e=>this._createCarouselSlideModel(e))),appendSlides:this.append},carouselWidth:this._carouselWidth,alignCenter:this.alignCenter,loop:this._isNeedShowLoop(),selectedItem:this.selectedItem,isRtl:this._isRtl()};this._carouselService.setup(e)}_createCarouselSlideModel(e,t=""){return{record:e.record,slideId:t+e.record.id,width:this._getNativeElementWidth(e.element)}}_getNativeElementWidth(e){return e.nativeElement.getBoundingClientRect().width}_isNeedShowLoop(){return this.loop&&this.prepend.length+this.append.length>0}_refreshCarouselSlidePosition(e){if(e.length===this.prepend.length)return;const t=this._getTransformX(this.stageModel.transform)-this._getDifferencePositionChanged(e,this.prepend);this._setStageModelAnimate(t,0)}_getTransformX(e){const t=null==e?void 0:e.replace(/.*\(|\)| |]^.-\d]\w|\)/g,"").split("px");return t?parseFloat(t[0]):0}_getDifferencePositionChanged(e,t){const n=this._spliceFoundedSlides(e,t),i=this._spliceFoundedSlides(t,e);let r=0;return n.forEach((e=>{r+=e.width})),i.forEach((e=>{r-=e.width})),r}_spliceFoundedSlides(e,t){const n=t.slice();return e.forEach((e=>{const t=n.findIndex((t=>t.slideId===e.slideId));n.splice(t,1)})),n}_setStageModelAnimate(e,t){this.stageModel.transform=`translate3d(${e}px,0px,0px)`,this.stageModel.transition=t/1e3+"s"}_initializeCarouselService(){this._carouselService.initialize()}isNeedShowSelectedBlock(){return this.alignCenter&&this.selectable}onResized(){const e=this._getNativeElementWidth(this._el);if(this._isCarouselStageSizeChanged(e))return this._isNeedResetCarousel(e)?(this._carouselWidth=e,void this._resetCarousel()):void this._updateSlidesCoordinatesIfNeed()}ngOnChanges(e){const t=e.loop||e.alignCenter;t&&!t.isFirstChange()&&this._resetCarousel()}ngOnInit(){this._subscribeViewSettings(),this._setupCarouselWidth()}ngAfterContentInit(){this._subscribeSlidesChanged(),this._setupMinimumCarouselWidth(),this._refreshCarousel(),this._initializeCarouselService()}ngOnDestroy(){this._subscription.unsubscribe()}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](l.ElementRef),l["ɵɵdirectiveInject"](Xw),l["ɵɵdirectiveInject"](l.Injector))},e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["crt-carousel-stage"]],contentQueries:function(e,t,n){if(1&e&&l["ɵɵcontentQuery"](n,u_,4,u_),2&e){let e;l["ɵɵqueryRefresh"](e=l["ɵɵloadQuery"]())&&(t.slides=e)}},hostVars:2,hostBindings:function(e,t){2&e&&l["ɵɵstyleProp"]("min-width",t.minimumCarouselWidth,"px")},inputs:{alignCenter:"alignCenter",loop:"loop",selectable:"selectable",selectedItem:"selectedItem"},features:[l["ɵɵInheritDefinitionFeature"],l["ɵɵNgOnChangesFeature"]],ngContentSelectors:v_,decls:6,vars:7,consts:[["crtResizable","",1,"crt-carousel-stage",3,"resized"],[4,"ngIf"],[1,"crt-carousel-stage-wrap",3,"ngStyle"],[4,"ngFor","ngForOf"],[1,"crt-carousel-stage-selected",3,"ngStyle"],[3,"slideId","record"]],template:function(e,t){1&e&&(l["ɵɵprojectionDef"](),l["ɵɵelementStart"](0,"div",0),l["ɵɵlistener"]("resized",(function(){return t.onResized()})),l["ɵɵtemplate"](1,m_,2,6,"ng-container",1),l["ɵɵelementStart"](2,"div",2),l["ɵɵtemplate"](3,h_,2,2,"ng-container",3),l["ɵɵprojection"](4),l["ɵɵtemplate"](5,g_,2,2,"ng-container",3),l["ɵɵelementEnd"](),l["ɵɵelementEnd"]()),2&e&&(l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",t.isNeedShowSelectedBlock()),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngStyle",l["ɵɵpureFunction2"](4,f_,t.stageModel.transform,"transform "+t.stageModel.transition)),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngForOf",t.prepend),l["ɵɵadvance"](2),l["ɵɵproperty"]("ngForOf",t.append))},styles:["[_nghost-%COMP%]{display:block;width:100%;position:relative;overflow:hidden}.crt-carousel-stage[_ngcontent-%COMP%]{position:relative}.crt-carousel-stage[_ngcontent-%COMP%]   .crt-carousel-stage-selected[_ngcontent-%COMP%]{position:absolute;background-color:#5d5d5d24;border:1px solid #5d5d5d30;border-radius:3px;box-sizing:border-box}.crt-carousel-stage[_ngcontent-%COMP%]   .crt-carousel-stage-wrap[_ngcontent-%COMP%]{grid-gap:20px;gap:20px;position:relative;display:flex;flex-direction:row}"]}),e})(),C_=(()=>{class e{}return e.ɵfac=function(t){return new(t||e)},e.ɵmod=l["ɵɵdefineNgModule"]({type:e}),e.ɵinj=l["ɵɵdefineInjector"]({providers:[Xw],imports:[[o.CommonModule,c.u5,pt.forRoot({i18n:Nw}),ui,Rn]]}),e})();("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](C_,{declarations:[a_,b_,u_,c_],imports:[o.CommonModule,c.u5,pt,ui,Rn],exports:[a_]}),l["ɵɵsetComponentScope"](a_,[o.NgIf,di,b_,o.NgForOf,u_],[u.X$]),l["ɵɵsetComponentScope"](b_,[An,o.NgIf,o.NgStyle,o.NgForOf,u_],[]);var y_=n(79104),w_=n(71701);class __ extends Us{constructor(e,t,n,i){super(e),this.defaultValue=t,this.elementRef=n,this.changeDetectorRef=i,this._controlDestroyed$=new h.Subject,this._componentDestroyed$=new h.Subject,this.keyUp=new l.EventEmitter,this.blurred=new l.EventEmitter,this.focused=new l.EventEmitter,this.label="",this.ariaLabel="",this.appearance="legacy",this.placeholder="",this.labelOverModeResponsiveSize=320,this.required=!1,this._initControl(t)}set disabled(e){var t,n;e?null===(t=this.control)||void 0===t||t.disable():null===(n=this.control)||void 0===n||n.enable()}get skeletonStyles(){return{height:"above"===this._displayLabelPosition?"52px":"32px"}}set rowModeSizePx(e){this.labelOverModeResponsiveSize=e}get rowModeSizePx(){return this.labelOverModeResponsiveSize}set control(e){this._controlDestroyed$.next(),this._control=e,this._calculateRequired(),this._updateOnControlStatusChanged()}get control(){return this._control}set labelPosition(e){this._initialLabelPosition=e,this.isAutoLabelPosition="auto"===e,this._initLabelPosition()}get labelPosition(){return this._initialLabelPosition}get invalid(){return this.control.invalid&&(this.control.dirty||this.control.touched)}get displayLabelPosition(){return this._displayLabelPosition}_getDisplayLabelPosition(e){return null==this._initialLabelPosition||"auto"===this._initialLabelPosition?e>this.labelOverModeResponsiveSize?"left":"above":this._initialLabelPosition}_initLabelPosition(){var e,t,n;const i=null===(n=null===(t=null===(e=this.elementRef)||void 0===e?void 0:e.nativeElement)||void 0===t?void 0:t.getBoundingClientRect())||void 0===n?void 0:n.width;this._displayLabelPosition=this._getDisplayLabelPosition(i)}_calculateRequired(){var e;const t=null===(e=this.control)||void 0===e?void 0:e.validator,n=t&&t(new c.NI(this.defaultValue));this.required=Boolean(null==n?void 0:n.required)}_initControl(e){this.control=new c.NI(e)}_updateOnControlStatusChanged(){this._control.statusChanges.pipe((0,b.R)(this._controlDestroyed$)).subscribe((()=>this._calculateRequired()))}ngAfterViewInit(){this._initLabelPosition(),this.changeDetectorRef.detectChanges()}ngOnDestroy(){this._controlDestroyed$.next(),this._controlDestroyed$.complete(),this._componentDestroyed$.next(),this._componentDestroyed$.complete()}onResized(e){this._displayLabelPosition=this._getDisplayLabelPosition(null==e?void 0:e.width)}}__.ɵfac=function(e){l["ɵɵinvalidFactory"]()},__.ɵdir=l["ɵɵdefineDirective"]({type:__,inputs:{label:"label",ariaLabel:"ariaLabel",appearance:"appearance",placeholder:"placeholder",disabled:"disabled",rowModeSizePx:"rowModeSizePx",control:"control",labelPosition:"labelPosition"},outputs:{keyUp:"keyUp",blurred:"blurred",focused:"focused"},features:[l["ɵɵInheritDefinitionFeature"]]}),(0,a.gn)([(0,r.CrtInput)(),(0,a.w6)("design:type",c.NI),(0,a.w6)("design:paramtypes",[c.NI])],__.prototype,"control",null);const x_=["colorBox"];function I_(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵelementStart"](0,"color-github",9),l["ɵɵlistener"]("onChangeComplete",(function(t){l["ɵɵrestoreView"](e);return l["ɵɵnextContext"]().onChangeColor(t)})),l["ɵɵelementEnd"]()}if(2&e){const e=l["ɵɵnextContext"]();l["ɵɵstyleProp"]("top",e.paletteTopOffset,"px")("left",e.paletteLeftOffset,"px"),l["ɵɵproperty"]("triangle",e.isRtl()?"top-right":"top-left")("color",e.selectedColor)("colors",e.colors)("width",e.paletteWidth)}}let S_=class extends __{constructor(e,t,n){super(e,null,t,n),this.elementRef=t,this._colors=["#FF2031","#C40069","#C400A9","#8400C4","#5200C4","#2B00C4","#009FC4","#29A5A1","#00C4A8","#00C46D","#00C407","#A3C400"],this.defaultPaletteLeftOffset=-8,this.paletteOffsetVerticalModeWithLabel=64,this.paletteOffsetVerticalModeWithoutLabel=35,this.id=(0,r.generateGuid)(),this.selectedColorChange=new l.EventEmitter,this.rowSize=4,this.verticalMode=!1,this.closeAfterSelected=!0,this.isPaletteVisible=!1,this.paletteWidth=116,this.paletteLeftOffset=this.defaultPaletteLeftOffset,this.isMouseDown=!1,this.tabIndex=0}get readonly(){var e;return!!(null===(e=this.control)||void 0===e?void 0:e.disabled)}set colors(e){this._colors=e}get colors(){return this._colors}set selectedColor(e){var t;null===(t=this.control)||void 0===t||t.setValue(e)}get selectedColor(){var e;return null===(e=this.control)||void 0===e?void 0:e.value}get pickerBoxBackground(){return this.isTransparentColor?"":this.selectedColor}get isTransparentColor(){return"transparent"===this.selectedColor.toLowerCase()}get paletteTopOffset(){return!this.verticalMode||this._isLabelHidden()||this._isLabelNullOrEmpty()?this.paletteOffsetVerticalModeWithoutLabel:this.paletteOffsetVerticalModeWithLabel}_isLabelHidden(){return"hidden"===this.labelPosition}_isLabelNullOrEmpty(){var e;return!this.label||0===(null===(e=this.label)||void 0===e?void 0:e.length)}showPalette(){this.isPaletteVisible||0===this.colors.length||this.control.disabled||(this.initializePaletteWidth(),this.initializePalettePosition(),this.setPaletteVisible(!0))}hidePalette(){this.setPaletteVisible(!1)}initializeSelectedColor(){const e=Math.floor(Math.random()*Math.floor(this.colors.length-1));this.selectedColor=this.colors[e]}initializePalettePosition(){var e;const t=null===(e=this.colorBox)||void 0===e?void 0:e.nativeElement;if(!t)return;let n=t.offsetLeft;if(n+=this.defaultPaletteLeftOffset,this.isRtl()){const e=36;n-=this.paletteWidth-e}this.paletteLeftOffset=n}initializePaletteWidth(){this.paletteWidth=29*this.rowSize}setPaletteVisible(e){this.isPaletteVisible=e}ngOnInit(){this.selectedColor||this.initializeSelectedColor()}onControlClick(){this.isPaletteVisible?this.hidePalette():this.showPalette()}onChangeColor(e){this.selectedColor=e.color.hex.toUpperCase(),this.selectedColorChange.emit(this.selectedColor),this.closeAfterSelected&&this.hidePalette()}isRtl(){return"rtl"===this.documentDirection}onMouseDown(){this.isMouseDown=!0}onMouseUp(){this.isMouseDown=!1}onGlobalClick(e){this.isPaletteVisible&&!this.elementRef.nativeElement.contains(e.target)&&this.hidePalette()}onKeyDown(e){const t=e.key;this.isPaletteVisible||t!==w_.s.Enter||this.showPalette(),this.isPaletteVisible&&t===w_.s.Escape&&this.hidePalette()}onFocus(){this.isMouseDown||this.showPalette()}getColorPickerWrapClasses(){return{"crt-color-picker-wrap":!0,"crt-color-picker-column-view":this.verticalMode,[`label-position-${this.displayLabelPosition}`]:!0}}};S_.ɵfac=function(e){return new(e||S_)(l["ɵɵdirectiveInject"](l.Injector),l["ɵɵdirectiveInject"](l.ElementRef),l["ɵɵdirectiveInject"](l.ChangeDetectorRef))},S_.ɵcmp=l["ɵɵdefineComponent"]({type:S_,selectors:[["crt-color-picker"]],viewQuery:function(e,t){if(1&e&&l["ɵɵviewQuery"](x_,5,l.ElementRef),2&e){let e;l["ɵɵqueryRefresh"](e=l["ɵɵloadQuery"]())&&(t.colorBox=e.first)}},hostVars:3,hostBindings:function(e,t){1&e&&l["ɵɵlistener"]("mousedown",(function(){return t.onMouseDown()}))("mouseup",(function(){return t.onMouseUp()}))("mousedown",(function(e){return t.onGlobalClick(e)}),!1,l["ɵɵresolveDocument"])("keydown",(function(e){return t.onKeyDown(e)}))("focus",(function(){return t.onFocus()})),2&e&&(l["ɵɵattribute"]("tabIndex",t.tabIndex),l["ɵɵclassProp"]("readonly",t.readonly))},inputs:{id:"id",colors:"colors",selectedColor:"selectedColor",rowSize:"rowSize",verticalMode:"verticalMode",closeAfterSelected:"closeAfterSelected"},outputs:{selectedColorChange:"selectedColorChange"},features:[l["ɵɵInheritDefinitionFeature"]],decls:10,vars:9,consts:[["crtResizable","",3,"ngClass","crtResizableDisabled","resized"],[1,"crt-color-picker-label-container"],[1,"crt-color-picker-label",3,"for"],[1,"crt-color-picker-control-container"],[1,"crt-color-picker-box",3,"click"],["colorBox",""],[1,"crt-color-picker-choose-button",3,"click"],["svgIcon","color-picker-arrow"],["class","crt-color-picker-palette",3,"top","left","triangle","color","colors","width","onChangeComplete",4,"ngIf"],[1,"crt-color-picker-palette",3,"triangle","color","colors","width","onChangeComplete"]],template:function(e,t){1&e&&(l["ɵɵelementStart"](0,"div",0),l["ɵɵlistener"]("resized",(function(e){return t.onResized(e)})),l["ɵɵelementStart"](1,"div",1),l["ɵɵelementStart"](2,"label",2),l["ɵɵtext"](3),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵelementStart"](4,"div",3),l["ɵɵelementStart"](5,"div",4,5),l["ɵɵlistener"]("click",(function(){return t.onControlClick()})),l["ɵɵelementEnd"](),l["ɵɵelementStart"](7,"div",6),l["ɵɵlistener"]("click",(function(){return t.onControlClick()})),l["ɵɵelement"](8,"mat-icon",7),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵtemplate"](9,I_,1,8,"color-github",8),l["ɵɵelementEnd"]()),2&e&&(l["ɵɵproperty"]("ngClass",t.getColorPickerWrapClasses())("crtResizableDisabled",!t.isAutoLabelPosition),l["ɵɵadvance"](2),l["ɵɵproperty"]("for",t.id),l["ɵɵadvance"](1),l["ɵɵtextInterpolate"](t.label),l["ɵɵadvance"](2),l["ɵɵstyleProp"]("background",t.pickerBoxBackground),l["ɵɵclassProp"]("transparent-background",t.isTransparentColor),l["ɵɵadvance"](4),l["ɵɵproperty"]("ngIf",t.isPaletteVisible))},directives:[An,o.NgClass,St.Hw,o.NgIf,y_.Fk],styles:['[_nghost-%COMP%]{display:block;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}[_nghost-%COMP%]   .crt-color-picker-wrap.label-position-left[_ngcontent-%COMP%]{min-height:32px;flex-direction:row}[_nghost-%COMP%]   .crt-color-picker-wrap.label-position-left[_ngcontent-%COMP%]   .crt-color-picker-control-container[_ngcontent-%COMP%]{align-self:center}[_nghost-%COMP%]   .crt-color-picker-wrap.label-position-left[_ngcontent-%COMP%]   .crt-color-picker-label-container[_ngcontent-%COMP%]{text-align:right;width:136px;align-items:flex-start;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin:7px 10px 7px 0}[_nghost-%COMP%]   .crt-color-picker-wrap.label-position-above[_ngcontent-%COMP%]{min-height:52px;flex-direction:column}[_nghost-%COMP%]   .crt-color-picker-wrap.label-position-above[_ngcontent-%COMP%]   .crt-color-picker-label-container[_ngcontent-%COMP%]{width:100%;display:flex;text-align:left;line-height:20px;margin-top:8px}[_nghost-%COMP%]   .crt-color-picker-wrap.label-position-above[_ngcontent-%COMP%]   .crt-color-picker-label-container[_ngcontent-%COMP%]   .crt-color-picker-label[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_nghost-%COMP%]   .crt-color-picker-wrap.label-position-above[_ngcontent-%COMP%]   .crt-color-picker-palette[_ngcontent-%COMP%]{top:57px!important}[_nghost-%COMP%]   .crt-color-picker-wrap.label-position-hidden[_ngcontent-%COMP%]   .crt-color-picker-label-container[_ngcontent-%COMP%]   .crt-color-picker-label[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]:focus{outline:none}[dir=rtl][_nghost-%COMP%]   .crt-color-picker-wrap[_ngcontent-%COMP%]{margin-left:10px;margin-right:0}[dir=rtl][_nghost-%COMP%]   .crt-color-picker-wrap[_ngcontent-%COMP%]   .crt-color-picker-control-container[_ngcontent-%COMP%]   .crt-color-picker-choose-button[_ngcontent-%COMP%]{margin-left:0;margin-right:5px}[dir=rtl][_nghost-%COMP%]   .crt-color-picker-wrap.label-position-left[_ngcontent-%COMP%]   .crt-color-picker-label-container[_ngcontent-%COMP%]{margin:7px 0 7px 10px}[dir=rtl][_nghost-%COMP%]   .crt-color-picker-wrap.label-position-left[_ngcontent-%COMP%]   .crt-color-picker-label-container[_ngcontent-%COMP%]   .crt-color-picker-label[_ngcontent-%COMP%]{text-align:left}.readonly[_nghost-%COMP%]   .crt-color-picker-wrap[_ngcontent-%COMP%]   .crt-color-picker-control-container[_ngcontent-%COMP%]   .crt-color-picker-choose-button[_ngcontent-%COMP%]:hover{cursor:unset}.crt-color-picker-wrap[_ngcontent-%COMP%]{display:flex;flex-direction:row;position:relative}.crt-color-picker-wrap[_ngcontent-%COMP%]   .crt-color-picker-control-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:41px}.crt-color-picker-wrap[_ngcontent-%COMP%]   .crt-color-picker-control-container[_ngcontent-%COMP%]   .crt-color-picker-box[_ngcontent-%COMP%]{display:block;box-sizing:content-box;height:17px;width:17px;border-radius:3px;opacity:1;border:.5px solid #5d5d5d}.crt-color-picker-wrap[_ngcontent-%COMP%]   .crt-color-picker-control-container[_ngcontent-%COMP%]   .transparent-background[_ngcontent-%COMP%]{background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAADFJREFUOE9jZGBgEGHAD97gk2YcNYBhmIQBgWSAP52AwoAQwJvQRg1gACckQoC2gQgAIF8IscwEtKYAAAAASUVORK5CYII=);background-size:10px}.crt-color-picker-wrap[_ngcontent-%COMP%]   .crt-color-picker-control-container[_ngcontent-%COMP%]   .crt-color-picker-choose-button[_ngcontent-%COMP%]{height:18px;width:16px;margin-left:5px}.crt-color-picker-wrap[_ngcontent-%COMP%]   .crt-color-picker-control-container[_ngcontent-%COMP%]   .crt-color-picker-choose-button[_ngcontent-%COMP%]:hover{cursor:pointer}.crt-color-picker-wrap[_ngcontent-%COMP%]   .crt-color-picker-control-container[_ngcontent-%COMP%]   .crt-color-picker-choose-button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{width:inherit;height:inherit}.crt-color-picker-wrap[_ngcontent-%COMP%]   .crt-color-picker-palette[_ngcontent-%COMP%]{z-index:2600;position:absolute}.crt-color-picker-wrap[_ngcontent-%COMP%]   .crt-color-picker-palette[_ngcontent-%COMP%]     .github-picker{box-sizing:content-box}.crt-color-picker-wrap[_ngcontent-%COMP%]   .crt-color-picker-palette[_ngcontent-%COMP%]     .github-picker .github-swatch{padding:2px;box-sizing:content-box}.crt-color-picker-wrap[_ngcontent-%COMP%]   .crt-color-picker-palette[_ngcontent-%COMP%]     .github-picker .github-swatch color-swatch .grid, .crt-color-picker-wrap[_ngcontent-%COMP%]   .crt-color-picker-palette[_ngcontent-%COMP%]     .github-picker .github-swatch color-swatch .swatch{border-radius:4px}.crt-color-picker-wrap[_ngcontent-%COMP%]   .crt-color-picker-palette[_ngcontent-%COMP%]     .github-picker .github-swatch color-swatch .swatch[title="#FFFFFF"]{box-shadow:inset 0 0 0 1px rgba(0,0,0,.1)}.crt-color-picker-wrap.crt-color-picker-column-view[_ngcontent-%COMP%]{flex-direction:column;margin:0}.crt-color-picker-wrap.crt-color-picker-column-view[_ngcontent-%COMP%]   .crt-color-picker-label-container[_ngcontent-%COMP%]   .crt-color-picker-label[_ngcontent-%COMP%]{text-align:left;margin:0 0 8px}']}),(0,a.gn)([(0,r.CrtInput)(),(0,a.w6)("design:type",String),(0,a.w6)("design:paramtypes",[String])],S_.prototype,"selectedColor",null),S_=(0,a.gn)([Xs({type:"crt.ColorPicker",formControlConfig:{relatesTo:"control"}}),Ks({type:"crt.ColorPicker",toolbarConfig:[{name:"color-picker",useDevMode:!0,groupType:Mu.Components,position:50,caption:"Components.ColorPicker.Caption",icon:n(75413),defaultPropertyValues:{label:""},defaultLocalizableStrings:{label:"Components.ColorPicker.Caption"}}],dataValueTypes:[r.DataValueType.COLOR],designControlConfig:{allowDesignContent:!0}}),(0,a.w6)("design:paramtypes",[l.Injector,l.ElementRef,l.ChangeDetectorRef])],S_);let M_=class{constructor(e){this._materialIconsRegistrator=e,this._materialIconsRegistrator.addIcons([{name:"color-picker-arrow",icon:n(75588)}])}};M_.ɵfac=function(e){return new(e||M_)(l["ɵɵinject"](Dn))},M_.ɵmod=l["ɵɵdefineNgModule"]({type:M_}),M_.ɵinj=l["ɵɵdefineInjector"]({imports:[[y_.be,ee,o.CommonModule,St.Ps,c.u5,c.UX,Rn]]}),M_=(0,a.gn)([(0,r.CrtModule)({viewElements:[S_]}),(0,a.w6)("design:paramtypes",[Dn])],M_),("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](M_,{declarations:[S_],imports:[y_.be,ee,o.CommonModule,St.Ps,c.u5,c.UX,Rn],exports:[S_]});var D_=(()=>(function(e){e.AddRecord="addRecord",e.GoToRecordList="goToRecordList"}(D_||(D_={})),D_))();let P_=(()=>{class e{constructor(){this.validationErrors=new h.Subject}}return e.ɵfac=function(t){return new(t||e)},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})();class T_{static isLookupValue(e){return null!==e&&"object"==typeof e&&"value"in e&&"displayValue"in e}static isLookupValuesArray(e){if(!(0,Ku.Z)(e))return!1;return!(e.find((e=>!T_.isLookupValue(e)))||null)}static isNullableLookupValue(e){return T_.isLookupValue(e)||null===e}static isEmptyString(e){return""===e}static filterLookupItemsByDefault(e,t){const n=t.toLowerCase();return(0,h.of)(e.filter((e=>{var t;return!!(null===(t=e.displayValue)||void 0===t?void 0:t.toLowerCase().includes(n))})))}}function k_(e,t){if(1&e&&l["ɵɵelement"](0,"crt-skeleton-loader",2),2&e){const e=l["ɵɵnextContext"]();l["ɵɵproperty"]("styles",e.skeletonStyles)}}function E_(e,t){if(1&e&&(l["ɵɵelementContainerStart"](0),l["ɵɵelementContainer"](1,12),l["ɵɵelementContainerEnd"]()),2&e){const e=t.$implicit;l["ɵɵadvance"](1),l["ɵɵproperty"]("crtViewElement",e)}}function N_(e,t){if(1&e&&(l["ɵɵelementContainerStart"](0),l["ɵɵtemplate"](1,E_,2,1,"ng-container",11),l["ɵɵelementContainerEnd"]()),2&e){const e=l["ɵɵnextContext"](3);l["ɵɵadvance"](1),l["ɵɵproperty"]("ngForOf",e.controlActionButtons)}}function O_(e,t){if(1&e&&(l["ɵɵelementContainerStart"](0),l["ɵɵelementStart"](1,"div",9),l["ɵɵtemplate"](2,N_,2,1,"ng-container",10),l["ɵɵelementEnd"](),l["ɵɵelementContainerEnd"]()),2&e){l["ɵɵnextContext"]();const e=l["ɵɵreference"](8),t=l["ɵɵnextContext"]();l["ɵɵadvance"](2),l["ɵɵproperty"]("ngIf",1===t.controlActions.length||!t.groupControlActions)("ngIfElse",e)}}const j_=function(e){return{$implicit:e}};function A_(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵelementStart"](0,"button",13,14),l["ɵɵlistener"]("menuClosed",(function(){l["ɵɵrestoreView"](e);return l["ɵɵreference"](1).blur()}))("click",(function(e){return e.preventDefault(),e.stopPropagation()})),l["ɵɵelement"](3,"mat-icon",15),l["ɵɵelementEnd"](),l["ɵɵelement"](4,"crt-menu",16,17)}if(2&e){const e=l["ɵɵreference"](2),t=l["ɵɵreference"](5),n=l["ɵɵnextContext"](2);l["ɵɵclassProp"]("crt-toolbar-visible",null==e?null:e.menuOpen),l["ɵɵproperty"]("crtMenuTriggerFor",t)("crtMenuTriggerData",l["ɵɵpureFunction1"](5,j_,n.controlActions)),l["ɵɵadvance"](4),l["ɵɵproperty"]("items",n.controlActionButtons)}}const R_=function(e){return{"crt-input-required":e}};function F_(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵelementStart"](0,"div",3),l["ɵɵlistener"]("resized",(function(t){l["ɵɵrestoreView"](e);return l["ɵɵnextContext"]().onResized(t)})),l["ɵɵelementStart"](1,"div",4),l["ɵɵelementStart"](2,"label",5),l["ɵɵtext"](3),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵelementStart"](4,"crt-autocomplete",6),l["ɵɵlistener"]("changed",(function(t){l["ɵɵrestoreView"](e);return l["ɵɵnextContext"]().onChanged(t)}))("addRecord",(function(t){l["ɵɵrestoreView"](e);return l["ɵɵnextContext"]().onAddRecord(t)}))("optionsScroll",(function(){l["ɵɵrestoreView"](e);return l["ɵɵnextContext"]().onScroll()})),l["ɵɵpipe"](5,"async"),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵtemplate"](6,O_,3,2,"ng-container",7),l["ɵɵtemplate"](7,A_,6,7,"ng-template",null,8,l["ɵɵtemplateRefExtractor"])}if(2&e){const e=l["ɵɵnextContext"]();l["ɵɵproperty"]("ngClass","label-position-"+e.displayLabelPosition+" appearance-"+e.appearance)("crtResizableDisabled",!e.isAutoLabelPosition),l["ɵɵadvance"](2),l["ɵɵproperty"]("ngClass",l["ɵɵpureFunction1"](21,R_,e.isShownRequiredMark))("for",e.id),l["ɵɵadvance"](1),l["ɵɵtextInterpolate"](e.label),l["ɵɵadvance"](1),l["ɵɵproperty"]("id",e.id)("formControl",e.control)("items",l["ɵɵpipeBind1"](5,19,e.items$))("readonly",e.readonly)("isRequired",e.required)("isAddAllowed",e.isAddAllowed)("showValueAsLink",e.showValueAsLink)("linkViewConfig",e.linkViewConfig)("debounceTime",e.debounceTime)("ariaLabel",e.ariaLabel||e.label)("placeholder",e.placeholder)("appearance",e.appearance)("listActions",e.listActions),l["ɵɵadvance"](2),l["ɵɵproperty"]("ngIf",null==e.controlActions?null:e.controlActions.length)}}const V_={code:D_.AddRecord,type:"crt.ComboboxSearchTextAction",icon:"combobox-add-new",caption:"ComboBox.AddNewRecord",clicked:{request:"crt.CreateRecordFromLookupRequest",params:{}}},L_={code:D_.GoToRecordList,type:"crt.ComboboxAction",icon:"combobox-go-to-source",caption:"ComboBox.IsGoToSourceAllowedTooltip",clicked:{request:"crt.OpenLookupSourceRequest",params:{}}};let z_=class extends __{constructor(e,t,n,i){super(e,null,t,n),this.validationService=i,this._items=[],this._useStaticFiltering=!1,this._filterValueSubject=new h.BehaviorSubject(""),this._groupControlActions=!1,this._controlActions=[],this._listActions=[],this._controlActionButtons=[],this.items$=(0,h.of)([]),this.id=(0,r.generateGuid)(),this.actionControlIconPosition=fb.OnlyIcon,this.isAddAllowed=!1,this.isGoToSourceAllowed=!1,this.showValueAsLink=!1,this.readonly=!1,this.debounceTime=500,this.showList=new l.EventEmitter,this.addRecord=new l.EventEmitter,this.goToSource=new l.EventEmitter,this.optionsScroll=new l.EventEmitter}set value(e){var t;T_.isNullableLookupValue(e)&&(null===(t=this.control)||void 0===t||t.setValue(e))}get groupControlActions(){return this._groupControlActions}set groupControlActions(e){this._groupControlActions=e,this._initControlActionButtons()}get controlActions(){return this._controlActions}set controlActions(e){this._controlActions=e,this._initControlActionButtons()}get controlActionButtons(){return this._controlActionButtons}get listActions(){return this._listActions}set listActions(e){this._listActions=e}set useStaticFiltering(e){this._useStaticFiltering=e,this._setupItems()}set items(e){this._isViewModelCollection(e)?this._initializeDataItemsFromCollection(e):T_.isLookupValuesArray(e)&&this._setItems(e)}_initControlActionButtons(){var e;this._controlActionButtons=(null===(e=this._controlActions)||void 0===e?void 0:e.map((e=>Object.assign(Object.assign({},e),{iconPosition:this.groupControlActions?fb.LeftIcon:fb.OnlyIcon}))))||[]}_isViewModelCollection(e){return e instanceof Rl}_getViewModelCollectionValues(e){const t=e,n=[];for(const e of t)n.push(e.attributes);return n}_initializeDataItemsFromCollection(e){var t;const n=this._getViewModelCollectionValues(e);null===(t=this._itemsChangedSubscription)||void 0===t||t.unsubscribe(),this._itemsChangedSubscription=e.changed.subscribe((()=>this._initializeDataItemsFromCollection(e))),this._setItems(n)}_setItems(e){this._items=e,this._setupItems()}_setupItems(){this.items$=this._useStaticFiltering?this._filterValueSubject.pipe((0,Nn.x)(),(0,$r.zg)((e=>{if(!e)return(0,h.of)(this._items);return(this.filteringFn?this.filteringFn:T_.filterLookupItemsByDefault)(this._items,e)}))):(0,h.of)(this._items),this.detectChanges()}ngOnInit(){setTimeout((()=>{this.showList.emit(null)}),0)}ngDoCheck(){this.validationService.validationErrors.next({errors:Object.assign({},this.control.errors),touched:this.control.touched})}onChanged(e){this._filterValueSubject.next(e),!this._useStaticFiltering&&this.showList instanceof l.EventEmitter&&this.showList.emit({filterValue:e,viewElement:"crt.ComboBox"})}ngOnDestroy(){var e;super.ngOnDestroy(),null===(e=this._itemsChangedSubscription)||void 0===e||e.unsubscribe(),this._filterValueSubject.complete()}onAddRecord(e){this.addRecord.emit(e)}goToSourceList(){this.goToSource.emit()}onScroll(){this.optionsScroll.emit()}get isShownRequiredMark(){return this.required&&"outline"!==this.appearance}};function B_(e,t){if(1&e&&l["ɵɵelement"](0,"crt-skeleton-loader",2),2&e){const e=l["ɵɵnextContext"]();l["ɵɵproperty"]("styles",e.skeletonStyles)}}function G_(e,t){if(1&e&&(l["ɵɵelementContainerStart"](0),l["ɵɵtext"](1),l["ɵɵelementContainerEnd"]()),2&e){const e=l["ɵɵnextContext"](3);l["ɵɵadvance"](1),l["ɵɵtextInterpolate"](e.caption)}}function H_(e,t){if(1&e&&(l["ɵɵelementStart"](0,"h1",7),l["ɵɵtemplate"](1,G_,2,1,"ng-container",8),l["ɵɵelementEnd"]()),2&e){l["ɵɵnextContext"]();const e=l["ɵɵreference"](8),t=l["ɵɵnextContext"]();l["ɵɵclassMap"]("mat-"+t.labelType),l["ɵɵstyleProp"]("font-size",t.labelFontSize)("font-family",t.labelFontFamily)("height",t.labelHeight)("line-height",t.labelLineHeight)("letter-spacing",t.labelLetterSpacing),l["ɵɵclassProp"]("ellipsis",t.labelEllipsis),l["ɵɵproperty"]("ngStyle",t.labelStyle),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",t.caption)("ngIfElse",e)}}function U_(e,t){if(1&e&&(l["ɵɵelementContainerStart"](0),l["ɵɵtext"](1),l["ɵɵelementContainerEnd"]()),2&e){const e=l["ɵɵnextContext"](3);l["ɵɵadvance"](1),l["ɵɵtextInterpolate"](e.caption)}}function Z_(e,t){if(1&e&&(l["ɵɵelementStart"](0,"h2",7),l["ɵɵtemplate"](1,U_,2,1,"ng-container",8),l["ɵɵelementEnd"]()),2&e){l["ɵɵnextContext"]();const e=l["ɵɵreference"](8),t=l["ɵɵnextContext"]();l["ɵɵclassMap"]("mat-"+t.labelType),l["ɵɵstyleProp"]("font-size",t.labelFontSize)("font-family",t.labelFontFamily)("height",t.labelHeight)("line-height",t.labelLineHeight)("letter-spacing",t.labelLetterSpacing),l["ɵɵclassProp"]("ellipsis",t.labelEllipsis),l["ɵɵproperty"]("ngStyle",t.labelStyle),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",t.caption)("ngIfElse",e)}}function $_(e,t){if(1&e&&(l["ɵɵelementContainerStart"](0),l["ɵɵtext"](1),l["ɵɵelementContainerEnd"]()),2&e){const e=l["ɵɵnextContext"](3);l["ɵɵadvance"](1),l["ɵɵtextInterpolate"](e.caption)}}function W_(e,t){if(1&e&&(l["ɵɵelementStart"](0,"h3",7),l["ɵɵtemplate"](1,$_,2,1,"ng-container",8),l["ɵɵelementEnd"]()),2&e){l["ɵɵnextContext"]();const e=l["ɵɵreference"](8),t=l["ɵɵnextContext"]();l["ɵɵclassMap"]("mat-"+t.labelType),l["ɵɵstyleProp"]("font-size",t.labelFontSize)("font-family",t.labelFontFamily)("height",t.labelHeight)("line-height",t.labelLineHeight)("letter-spacing",t.labelLetterSpacing),l["ɵɵclassProp"]("ellipsis",t.labelEllipsis),l["ɵɵproperty"]("ngStyle",t.labelStyle),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",t.caption)("ngIfElse",e)}}function q_(e,t){if(1&e&&(l["ɵɵelementContainerStart"](0),l["ɵɵtext"](1),l["ɵɵelementContainerEnd"]()),2&e){const e=l["ɵɵnextContext"](3);l["ɵɵadvance"](1),l["ɵɵtextInterpolate"](e.caption)}}function Y_(e,t){if(1&e&&(l["ɵɵelementStart"](0,"h4",7),l["ɵɵtemplate"](1,q_,2,1,"ng-container",8),l["ɵɵelementEnd"]()),2&e){l["ɵɵnextContext"]();const e=l["ɵɵreference"](8),t=l["ɵɵnextContext"]();l["ɵɵclassMap"]("mat-"+t.labelType),l["ɵɵstyleProp"]("font-size",t.labelFontSize)("font-family",t.labelFontFamily)("height",t.labelHeight)("line-height",t.labelLineHeight)("letter-spacing",t.labelLetterSpacing),l["ɵɵclassProp"]("ellipsis",t.labelEllipsis),l["ɵɵproperty"]("ngStyle",t.labelStyle),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",t.caption)("ngIfElse",e)}}function J_(e,t){if(1&e&&(l["ɵɵelementContainerStart"](0),l["ɵɵtext"](1),l["ɵɵelementContainerEnd"]()),2&e){const e=l["ɵɵnextContext"](3);l["ɵɵadvance"](1),l["ɵɵtextInterpolate"](e.caption)}}function Q_(e,t){if(1&e&&(l["ɵɵelementStart"](0,"label",7),l["ɵɵtemplate"](1,J_,2,1,"ng-container",8),l["ɵɵelementEnd"]()),2&e){l["ɵɵnextContext"]();const e=l["ɵɵreference"](8),t=l["ɵɵnextContext"]();l["ɵɵclassMap"]("mat-"+t.labelType),l["ɵɵstyleProp"]("font-size",t.labelFontSize)("font-family",t.labelFontFamily)("height",t.labelHeight)("line-height",t.labelLineHeight)("letter-spacing",t.labelLetterSpacing)("color",t.labelColor),l["ɵɵclassProp"]("ellipsis",t.labelEllipsis),l["ɵɵproperty"]("ngStyle",t.labelStyle),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",t.caption)("ngIfElse",e)}}function K_(e,t){1&e&&l["ɵɵprojection"](0)}function X_(e,t){if(1&e&&(l["ɵɵelementStart"](0,"div"),l["ɵɵelementContainerStart"](1,3),l["ɵɵtemplate"](2,H_,2,18,"h1",4),l["ɵɵtemplate"](3,Z_,2,18,"h2",4),l["ɵɵtemplate"](4,W_,2,18,"h3",4),l["ɵɵtemplate"](5,Y_,2,18,"h4",4),l["ɵɵtemplate"](6,Q_,2,20,"label",5),l["ɵɵtemplate"](7,K_,1,0,"ng-template",null,6,l["ɵɵtemplateRefExtractor"]),l["ɵɵelementContainerEnd"](),l["ɵɵelementEnd"]()),2&e){const e=l["ɵɵnextContext"]();l["ɵɵclassMap"]("crt-label "+e.labelThickness),l["ɵɵstyleProp"]("color",e.labelColor)("background-color",e.labelBackgroundColor)("text-align",e.labelTextAlign)("align-content",e.labelTextAlign)("justify-content",e.labelTextAlign)("margin",e.labelMargin)("text-transform",e.labelTextTransform),l["ɵɵattribute"]("required",e.required),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngSwitch",e.labelElementType),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngSwitchCase","h1"),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngSwitchCase","h2"),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngSwitchCase","h3"),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngSwitchCase","h4")}}z_.ɵfac=function(e){return new(e||z_)(l["ɵɵdirectiveInject"](l.Injector),l["ɵɵdirectiveInject"](l.ElementRef),l["ɵɵdirectiveInject"](l.ChangeDetectorRef),l["ɵɵdirectiveInject"](P_))},z_.ɵcmp=l["ɵɵdefineComponent"]({type:z_,selectors:[["crt-combobox"]],inputs:{value:"value",groupControlActions:"groupControlActions",isAddAllowed:"isAddAllowed",isGoToSourceAllowed:"isGoToSourceAllowed",controlActions:"controlActions",listActions:"listActions",showValueAsLink:"showValueAsLink",linkViewConfig:"linkViewConfig",readonly:"readonly",debounceTime:"debounceTime",useStaticFiltering:"useStaticFiltering",filteringFn:"filteringFn",items:"items"},outputs:{showList:"showList",addRecord:"addRecord",goToSource:"goToSource",optionsScroll:"optionsScroll"},features:[l["ɵɵProvidersFeature"]([P_]),l["ɵɵInheritDefinitionFeature"]],decls:3,vars:2,consts:[[3,"styles",4,"ngIf","ngIfElse"],["autocomplete",""],[3,"styles"],["crtResizable","",1,"crt-input",3,"ngClass","crtResizableDisabled","resized"],[1,"crt-input-label-container"],[1,"crt-input-label",3,"ngClass","for"],[3,"id","formControl","items","readonly","isRequired","isAddAllowed","showValueAsLink","linkViewConfig","debounceTime","ariaLabel","placeholder","appearance","listActions","changed","addRecord","optionsScroll"],[4,"ngIf"],["menu_actions",""],[1,"control-actions-inline"],[4,"ngIf","ngIfElse"],[4,"ngFor","ngForOf"],[3,"crtViewElement"],[1,"crt-toolbar","crt-row-toolbar",3,"crtMenuTriggerFor","crtMenuTriggerData","menuClosed","click"],["button","","trigger","crtMenuTrigger"],["svgIcon","kebab",1,"menu-icon"],[3,"items"],["controlActionsMenu",""]],template:function(e,t){if(1&e&&(l["ɵɵtemplate"](0,k_,1,1,"crt-skeleton-loader",0),l["ɵɵtemplate"](1,F_,9,23,"ng-template",null,1,l["ɵɵtemplateRefExtractor"])),2&e){const e=l["ɵɵreference"](2);l["ɵɵproperty"]("ngIf",t.loading)("ngIfElse",e)}},styles:["[_nghost-%COMP%]{display:flex;flex-direction:row;width:100%;justify-content:space-between;align-items:flex-end}[_nghost-%COMP%]   .crt-input[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   crt-autocomplete[_ngcontent-%COMP%]{min-width:0;width:100%;display:flex;flex-direction:column;justify-content:flex-end}[_nghost-%COMP%]   .combobox-icon[_ngcontent-%COMP%]{padding-bottom:8px;padding-left:8px;width:16px;height:16px;min-width:16px;min-height:16px;cursor:pointer}[_nghost-%COMP%]   .control-actions-inline[_ngcontent-%COMP%]{display:flex}[dir=rtl][_nghost-%COMP%]   .combobox-icon[_ngcontent-%COMP%]{padding-left:0;padding-right:8px}","[_nghost-%COMP%]   .crt-input[_ngcontent-%COMP%]{overflow:hidden;padding-bottom:1px}[_nghost-%COMP%]   .crt-input.label-position-left[_ngcontent-%COMP%]{min-height:32px;flex-direction:row;padding-top:8px}[_nghost-%COMP%]   .crt-input.label-position-left[_ngcontent-%COMP%]   .crt-input-control-container[_ngcontent-%COMP%]{align-self:flex-end}[_nghost-%COMP%]   .crt-input.label-position-left[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]{margin-right:10px;display:flex;align-items:flex-start;width:136px;min-width:136px}[_nghost-%COMP%]   .crt-input.label-position-left[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]   .crt-input-label[_ngcontent-%COMP%]{text-align:right;width:100%;margin:9px 0 4px;overflow:hidden;display:-webkit-box;line-height:18px;-webkit-line-clamp:2;-webkit-box-orient:vertical}[_nghost-%COMP%]   .crt-input.label-position-above[_ngcontent-%COMP%]{min-height:52px;flex-direction:column;padding-top:0}[_nghost-%COMP%]   .crt-input.label-position-above[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]{display:flex}[_nghost-%COMP%]   .crt-input.label-position-above[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]   .crt-input-label[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-top:8px}[_nghost-%COMP%]   .crt-input.label-position-above.appearance-outline[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]{margin-bottom:8px}[_nghost-%COMP%]   .crt-input.label-position-hidden[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]   .crt-input-label[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   .crt-input[_ngcontent-%COMP%], [_nghost-%COMP%]   .crt-input[_ngcontent-%COMP%]   .crt-input-control[_ngcontent-%COMP%]{display:flex}[dir=rtl][_nghost-%COMP%]   .crt-input.label-position-left[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]{margin-right:0;margin-left:10px}[dir=rtl][_nghost-%COMP%]   .crt-input.label-position-left[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]   .crt-input-label[_ngcontent-%COMP%]{text-align:left}"],changeDetection:0}),(0,a.gn)([(0,r.CrtInput)(),(0,a.w6)("design:type",Object),(0,a.w6)("design:paramtypes",[Object])],z_.prototype,"value",null),(0,a.gn)([(0,r.CrtInput)(),(0,a.w6)("design:type",Object),(0,a.w6)("design:paramtypes",[Object])],z_.prototype,"items",null),z_=(0,a.gn)([Xs({type:"crt.ComboBox",formControlConfig:{relatesTo:"control"}}),Ks({type:"crt.ComboBox",toolbarConfig:[{name:"base-combobox",groupType:Mu.Inputs,position:10,caption:"Components.Combobox.Caption",icon:n(26208),defaultPropertyValues:{label:"",ariaLabel:"",isAddAllowed:!0,showValueAsLink:!0,labelPosition:"auto",controlActions:[],listActions:[Object.assign(Object.assign({},V_),{name:"addRecord_"+r.GENERATE_GUID_MACRO,defaultLocalizableStrings:{caption:"Components.Combobox.AddNewRecord"}})]},defaultLocalizableStrings:{label:"Components.Combobox.Caption",ariaLabel:"Components.Combobox.Caption"}}],dataValueTypes:[r.DataValueType.Lookup],designViewItemCommands:{remove:"crt.RemoveComboBoxViewItemCommand"},propertiesPanelComponentTypeName:"crt.ComboboxPropertiesPanelComponent",collectionPropertyNames:["listActions","controlActions"]}),(0,a.w6)("design:paramtypes",[l.Injector,l.ElementRef,l.ChangeDetectorRef,P_])],z_);let ex=class extends Us{constructor(e){super(e),this.skeletonStyles={height:"20px"},this.labelType="body",this.labelElementType="label",this.labelStyle={}}};function tx(e,t){if(1&e&&l["ɵɵelement"](0,"mat-icon",5),2&e){const e=l["ɵɵnextContext"](2);l["ɵɵproperty"]("svgIcon",e.icon)}}function nx(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵelementContainerStart"](0),l["ɵɵelementStart"](1,"button",2),l["ɵɵlistener"]("click",(function(){l["ɵɵrestoreView"](e);return l["ɵɵnextContext"]().handleActionClick()})),l["ɵɵtemplate"](2,tx,1,1,"mat-icon",3),l["ɵɵelement"](3,"crt-label",4),l["ɵɵelementEnd"](),l["ɵɵelementContainerEnd"]()}if(2&e){const e=l["ɵɵnextContext"]();l["ɵɵadvance"](1),l["ɵɵproperty"]("disabled",e.disabled)("tsDataItemMarker",e.caption||e.icon),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",e.icon),l["ɵɵadvance"](1),l["ɵɵpropertyInterpolate"]("caption",e.getTitle()),l["ɵɵproperty"]("labelEllipsis",!0)}}function ix(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵelementStart"](0,"button",6),l["ɵɵlistener"]("click",(function(t){l["ɵɵrestoreView"](e);return l["ɵɵnextContext"]().handleActionClick(t)})),l["ɵɵelement"](1,"mat-icon",7),l["ɵɵelementEnd"]()}if(2&e){const e=l["ɵɵnextContext"]();l["ɵɵadvance"](1),l["ɵɵpropertyInterpolate"]("svgIcon",e.icon),l["ɵɵproperty"]("matTooltip",e.getTitle())}}ex.ɵfac=function(e){return new(e||ex)(l["ɵɵdirectiveInject"](l.Injector))},ex.ɵcmp=l["ɵɵdefineComponent"]({type:ex,selectors:[["crt-label"]],inputs:{caption:"caption",required:"required",labelType:"labelType",labelElementType:"labelElementType",labelMargin:"labelMargin",labelFontSize:"labelFontSize",labelFontFamily:"labelFontFamily",labelHeight:"labelHeight",labelLineHeight:"labelLineHeight",labelLetterSpacing:"labelLetterSpacing",labelThickness:"labelThickness",labelEllipsis:"labelEllipsis",labelTextAlign:"labelTextAlign",labelTextTransform:"labelTextTransform",labelColor:"labelColor",labelBackgroundColor:"labelBackgroundColor",labelStyle:"labelStyle"},features:[l["ɵɵInheritDefinitionFeature"]],ngContentSelectors:["*"],decls:3,vars:2,consts:[[3,"styles",4,"ngIf","ngIfElse"],["label_template",""],[3,"styles"],[3,"ngSwitch"],[3,"class","ellipsis","font-size","font-family","height","line-height","letter-spacing","ngStyle",4,"ngSwitchCase"],[3,"class","ellipsis","font-size","font-family","height","line-height","letter-spacing","ngStyle","color",4,"ngSwitchDefault"],["content",""],[3,"ngStyle"],[4,"ngIf","ngIfElse"]],template:function(e,t){if(1&e&&(l["ɵɵprojectionDef"](),l["ɵɵtemplate"](0,B_,1,1,"crt-skeleton-loader",0),l["ɵɵtemplate"](1,X_,9,23,"ng-template",null,1,l["ɵɵtemplateRefExtractor"])),2&e){const e=l["ɵɵreference"](2);l["ɵɵproperty"]("ngIf",t.loading)("ngIfElse",e)}},directives:[o.NgIf,di,o.NgSwitch,o.NgSwitchCase,o.NgSwitchDefault,o.NgStyle],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:block}.crt-label.light[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{font-weight:300}.crt-label.normal[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{font-weight:400}.crt-label.semibold[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{font-weight:600}.crt-label.bold[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{font-weight:700}.crt-label.default[_ngcontent-%COMP%]{font-weight:unset}.crt-label[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .crt-label[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0}.crt-label[_ngcontent-%COMP%]   label.mat-body-1[_ngcontent-%COMP%], .crt-label[_ngcontent-%COMP%]   label.mat-caption[_ngcontent-%COMP%]{display:block}.crt-label[_ngcontent-%COMP%]   .ellipsis[_ngcontent-%COMP%]{white-space:nowrap;text-overflow:ellipsis;overflow:hidden;display:inherit}.crt-label[_ngcontent-%COMP%]:first-child{word-break:break-word}.crt-label[_ngcontent-%COMP%]:first-child[required]{display:flex}.crt-label[_ngcontent-%COMP%]:first-child[required]:after{content:" *"}'],changeDetection:0}),(0,a.gn)([(0,r.CrtInput)(),(0,a.w6)("design:type",String)],ex.prototype,"caption",void 0),ex=(0,a.gn)([Xs({type:"crt.Label"}),Ks({type:"crt.Label",toolbarConfig:[{name:"base-label",groupType:Mu.Components,position:40,caption:"Components.Label.Caption",icon:n(47747),defaultPropertyValues:{caption:"",labelType:"headline-1",labelThickness:"default",labelEllipsis:!1,labelColor:"#181818",labelBackgroundColor:"transparent",labelTextAlign:"start"},defaultLocalizableStrings:{caption:"Components.Label.Caption"}}],interfaceDesignerPropertiesPanelSchemaName:"InterfaceDesignerLabelPropertiesPanel",propertiesPanelComponentTypeName:"crt.LabelPropertiesPanel"}),(0,a.w6)("design:paramtypes",[l.Injector])],ex);let rx=class extends aw{constructor(e,t){super(e),this.injector=e,this.translateService=t,this.iconPosition=fb.LeftIcon}get details(){return this._details}set details(e){this._details=e,this.applyDetails(e)}get title(){return this._title}applyDetails(e){}getTitle(){return!this._title&&this.caption&&(this._title=this.translateService.instant(this.caption)),this.title||this.caption}handleActionClick(e){null==e||e.stopPropagation(),this.clicked.next({detail:this.details})}};function ax(e,t){if(1&e&&l["ɵɵelement"](0,"mat-icon",5),2&e){const e=l["ɵɵnextContext"](2);l["ɵɵproperty"]("svgIcon",e.icon)}}function ox(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵelementContainerStart"](0),l["ɵɵelementStart"](1,"button",2),l["ɵɵlistener"]("click",(function(){l["ɵɵrestoreView"](e);return l["ɵɵnextContext"]().handleActionClick()})),l["ɵɵtemplate"](2,ax,1,1,"mat-icon",3),l["ɵɵelement"](3,"crt-label",4),l["ɵɵelementEnd"](),l["ɵɵelementContainerEnd"]()}if(2&e){const e=l["ɵɵnextContext"]();l["ɵɵadvance"](1),l["ɵɵproperty"]("disabled",e.disabled)("tsDataItemMarker",e.caption||e.icon),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",e.icon),l["ɵɵadvance"](1),l["ɵɵpropertyInterpolate"]("caption",e.getTitle()),l["ɵɵproperty"]("labelEllipsis",!0)}}function sx(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵelementStart"](0,"button",6),l["ɵɵlistener"]("click",(function(t){l["ɵɵrestoreView"](e);return l["ɵɵnextContext"]().handleActionClick(t)})),l["ɵɵelement"](1,"mat-icon",7),l["ɵɵelementEnd"]()}if(2&e){const e=l["ɵɵnextContext"]();l["ɵɵadvance"](1),l["ɵɵpropertyInterpolate"]("svgIcon",e.icon),l["ɵɵproperty"]("matTooltip",e.getTitle())}}rx.ɵfac=function(e){return new(e||rx)(l["ɵɵdirectiveInject"](l.Injector),l["ɵɵdirectiveInject"](u.sK))},rx.ɵcmp=l["ɵɵdefineComponent"]({type:rx,selectors:[["crt-combobox-action"]],inputs:{iconPosition:"iconPosition",details:"details"},features:[l["ɵɵInheritDefinitionFeature"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["icon_button",""],["mat-flat-button","",1,"combobox-action-button","full-width",3,"disabled","tsDataItemMarker","click"],["class","combobox-icon",3,"svgIcon",4,"ngIf"],["labelColor","var(--palette-primary-500)",3,"caption","labelEllipsis"],[1,"combobox-icon",3,"svgIcon"],[1,"combobox-action-button",3,"click"],["matSuffix","",1,"combobox-icon",3,"matTooltip","svgIcon"]],template:function(e,t){if(1&e&&(l["ɵɵtemplate"](0,nx,4,5,"ng-container",0),l["ɵɵtemplate"](1,ix,2,2,"ng-template",null,1,l["ɵɵtemplateRefExtractor"])),2&e){const e=l["ɵɵreference"](2);l["ɵɵproperty"]("ngIf","left-icon"===t.iconPosition)("ngIfElse",e)}},directives:[o.NgIf,Gh,ex,St.Hw,x.R9,Dt.gM],styles:["[_nghost-%COMP%]{cursor:pointer;display:block;width:100%;height:100%}[_nghost-%COMP%]   .combobox-icon[_ngcontent-%COMP%]{padding-bottom:8px;padding-left:8px;width:16px;height:16px;min-width:16px;min-height:16px}[_nghost-%COMP%]   .combobox-action-button[_ngcontent-%COMP%]{background:transparent;border:none;padding:6px 0;cursor:pointer}[_nghost-%COMP%]   .combobox-action-button.full-width[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center}[_nghost-%COMP%]   .combobox-action-button.full-width[_ngcontent-%COMP%]   .combobox-icon[_ngcontent-%COMP%]{padding-bottom:0;padding-left:16px}[_nghost-%COMP%]   .combobox-action-button.full-width[_ngcontent-%COMP%]   .crt-label[_ngcontent-%COMP%]{cursor:pointer;max-width:calc(100% - 40px)}[dir=rtl][_nghost-%COMP%]   .combobox-icon[_ngcontent-%COMP%]{padding-left:0;padding-right:8px}[dir=rtl][_nghost-%COMP%]   .combobox-action-button.full-width[_ngcontent-%COMP%]   .combobox-icon[_ngcontent-%COMP%]{padding-left:0;padding-right:16px}"]}),rx=(0,a.gn)([Xs({type:"crt.ComboboxAction"}),Ks({type:"crt.ComboboxAction"}),(0,a.w6)("design:paramtypes",[l.Injector,u.sK])],rx);let lx=class extends rx{constructor(e,t){super(e,t),this.injector=e,this.translateService=t}applyDetails(e){this._searchValue=(null==e?void 0:e.searchValue)||""}getTitle(){return this._searchValue?`${this.title} "${this._searchValue}"`:super.getTitle()}handleActionClick(e){super.handleActionClick(e),this.details={}}};lx.ɵfac=function(e){return new(e||lx)(l["ɵɵdirectiveInject"](l.Injector),l["ɵɵdirectiveInject"](u.sK))},lx.ɵcmp=l["ɵɵdefineComponent"]({type:lx,selectors:[["crt-combobox-search-text-action"]],features:[l["ɵɵInheritDefinitionFeature"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["icon_button",""],["mat-flat-button","",1,"combobox-action-button","full-width",3,"disabled","tsDataItemMarker","click"],["class","combobox-icon",3,"svgIcon",4,"ngIf"],["labelColor","var(--palette-primary-500)",3,"caption","labelEllipsis"],[1,"combobox-icon",3,"svgIcon"],[1,"combobox-action-button",3,"click"],["matSuffix","",1,"combobox-icon",3,"matTooltip","svgIcon"]],template:function(e,t){if(1&e&&(l["ɵɵtemplate"](0,ox,4,5,"ng-container",0),l["ɵɵtemplate"](1,sx,2,2,"ng-template",null,1,l["ɵɵtemplateRefExtractor"])),2&e){const e=l["ɵɵreference"](2);l["ɵɵproperty"]("ngIf","left-icon"===t.iconPosition)("ngIfElse",e)}},directives:[o.NgIf,Gh,ex,St.Hw,x.R9,Dt.gM],styles:["[_nghost-%COMP%]{cursor:pointer;display:block;width:100%;height:100%}[_nghost-%COMP%]   .combobox-icon[_ngcontent-%COMP%]{padding-bottom:8px;padding-left:8px;width:16px;height:16px;min-width:16px;min-height:16px}[_nghost-%COMP%]   .combobox-action-button[_ngcontent-%COMP%]{background:transparent;border:none;padding:6px 0;cursor:pointer}[_nghost-%COMP%]   .combobox-action-button.full-width[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center}[_nghost-%COMP%]   .combobox-action-button.full-width[_ngcontent-%COMP%]   .combobox-icon[_ngcontent-%COMP%]{padding-bottom:0;padding-left:16px}[_nghost-%COMP%]   .combobox-action-button.full-width[_ngcontent-%COMP%]   .crt-label[_ngcontent-%COMP%]{cursor:pointer;max-width:calc(100% - 40px)}[dir=rtl][_nghost-%COMP%]   .combobox-icon[_ngcontent-%COMP%]{padding-left:0;padding-right:8px}[dir=rtl][_nghost-%COMP%]   .combobox-action-button.full-width[_ngcontent-%COMP%]   .combobox-icon[_ngcontent-%COMP%]{padding-left:0;padding-right:16px}"]}),lx=(0,a.gn)([Xs({type:"crt.ComboboxSearchTextAction"}),Ks({type:"crt.ComboboxSearchTextAction"}),(0,a.w6)("design:paramtypes",[l.Injector,u.sK])],lx);let cx=class{};cx.ɵfac=function(e){return new(e||cx)},cx.ɵmod=l["ɵɵdefineNgModule"]({type:cx}),cx.ɵinj=l["ɵɵdefineInjector"]({imports:[[o.CommonModule,ui]]}),cx=(0,a.gn)([(0,r.CrtModule)({viewElements:[ex]})],cx),("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](cx,{declarations:[ex],imports:[o.CommonModule,ui],exports:[ex]});const dx={headline:"headline-1",title:"headline-1-small","subheading-2":"headline-2","subheading-1":"headline-3","body-1":"body"},ux=function(){return{mode:"textOnly"}};function px(e,t){if(1&e&&(l["ɵɵelementContainerStart"](0),l["ɵɵtext"](1),l["ɵɵpipe"](2,"decodeHtml"),l["ɵɵpipe"](3,"sanitizeHtml"),l["ɵɵpipe"](4,"decodeHtml"),l["ɵɵelementContainerEnd"]()),2&e){const e=l["ɵɵnextContext"]();l["ɵɵadvance"](1),l["ɵɵtextInterpolate1"](" ",l["ɵɵpipeBind1"](2,1,l["ɵɵpipeBind2"](3,3,l["ɵɵpipeBind1"](4,6,e.caption),l["ɵɵpureFunction0"](8,ux)))," ")}}function mx(e,t){1&e&&l["ɵɵprojection"](0)}let hx=class{constructor(e,t){this._sanitizer=e,this._changeDetector=t,this._defaultTarget="_self",this._defaultMode="native",this._target=this._defaultTarget,this._mode=this._defaultMode,this.clicked=new l.EventEmitter}set href(e){this.safeUrl=this._sanitizer.sanitize(l.SecurityContext.URL,e)}set target(e){this._target=e||this._defaultTarget}get target(){return this._target}set mode(e){this._mode=e||this._defaultMode}get mode(){return this._mode}onDoubleClick(e){e.stopPropagation()}onClick(e){if(e.stopPropagation(),"native"===this.mode)return;e.preventDefault();const t={event:e,payload:this.payload};this.clicked.next(t)}ngAfterViewChecked(){this.safeUrl&&this._changeDetector.detectChanges()}};hx.ɵfac=function(e){return new(e||hx)(l["ɵɵdirectiveInject"](i.DomSanitizer),l["ɵɵdirectiveInject"](l.ChangeDetectorRef))},hx.ɵcmp=l["ɵɵdefineComponent"]({type:hx,selectors:[["crt-link"]],hostVars:1,hostBindings:function(e,t){1&e&&l["ɵɵlistener"]("dblclick",(function(e){return t.onDoubleClick(e)}))("click",(function(e){return t.onClick(e)})),2&e&&l["ɵɵattribute"]("title",t.caption)},inputs:{href:"href",target:"target",caption:"caption",ariaLabel:"ariaLabel",payload:"payload",mode:"mode"},outputs:{clicked:"clicked"},ngContentSelectors:["*"],decls:4,vars:5,consts:[[1,"crt-link",3,"href","target","click"],[4,"ngIf","ngIfElse"],["content",""]],template:function(e,t){if(1&e&&(l["ɵɵprojectionDef"](),l["ɵɵelementStart"](0,"a",0),l["ɵɵlistener"]("click",(function(e){return t.onClick(e)})),l["ɵɵtemplate"](1,px,5,9,"ng-container",1),l["ɵɵtemplate"](2,mx,1,0,"ng-template",null,2,l["ɵɵtemplateRefExtractor"]),l["ɵɵelementEnd"]()),2&e){const e=l["ɵɵreference"](3);l["ɵɵproperty"]("href",t.safeUrl,l["ɵɵsanitizeUrl"])("target",t.target),l["ɵɵattribute"]("ariaLabel",t.ariaLabel||t.caption),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",t.caption)("ngIfElse",e)}},directives:[o.NgIf],pipes:[Ti,Qo],styles:["[_nghost-%COMP%]{display:block;max-width:100%}.crt-link[_ngcontent-%COMP%]{text-decoration:none;display:block;outline:none;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}"],changeDetection:0}),hx=(0,a.gn)([Xs({type:"crt.Link"}),(0,a.w6)("design:paramtypes",[i.DomSanitizer,l.ChangeDetectorRef])],hx);let gx=class{};gx.ɵfac=function(e){return new(e||gx)},gx.ɵmod=l["ɵɵdefineNgModule"]({type:gx}),gx.ɵinj=l["ɵɵdefineInjector"]({imports:[[o.CommonModule,Xo,Ei]]}),gx=(0,a.gn)([(0,r.CrtModule)({viewElements:[hx]})],gx),("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](gx,{declarations:[hx],imports:[o.CommonModule,Xo,Ei],exports:[hx]});class fx extends pc{constructor(){super(...arguments),this.i18nMessageKey="Validators.Autocomplete.Message"}validate(e){return T_.isNullableLookupValue(e.value)||T_.isEmptyString(e.value)?null:{invalidValueSyntax:this.defaultValidationError()}}}let vx=(()=>{class e{constructor(e){this._autoCompleteTrigger=e}get _autocomplete(){return this._autoCompleteTrigger.autocomplete}onEnter(){if(!this._autocomplete.isOpen||0===this._autocomplete.options.filter((e=>!e.disabled)).length)return;this._autocomplete.options.find((e=>!e.disabled)).select()}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](O.ZL))},e.ɵdir=l["ɵɵdefineDirective"]({type:e,selectors:[["","crtEnterClickAutocomplete",""]],hostBindings:function(e,t){1&e&&l["ɵɵlistener"]("keyup.enter",(function(){return t.onEnter()}))}}),e})(),bx=(()=>{class e{constructor(e){this._autoComplete=e,this.thresholdPercent=.8,this.crtOptionsScroll=new l.EventEmitter,this._destroyed$=new h.Subject,this._closed$=new h.Subject,this._subscribe()}_subscribe(){this._subscribeAutoCompleteOpened(),this._subscribeAutoCompleteClosed()}_subscribeAutoCompleteOpened(){this._autoComplete.opened.pipe((0,rl.g)(0),(0,b.R)(this._destroyed$)).subscribe((()=>this._subscribeAutoCompleteScroll()))}_subscribeAutoCompleteClosed(){this._autoComplete.closed.pipe((0,b.R)(this._destroyed$)).subscribe((()=>this._closed$.next()))}_subscribeAutoCompleteScroll(){var e,t;const n=null===(t=null===(e=this._autoComplete)||void 0===e?void 0:e.panel)||void 0===t?void 0:t.nativeElement;n&&(0,h.fromEvent)(n,"scroll").pipe((0,b.R)((0,h.merge)(this._destroyed$,this._closed$))).subscribe((e=>this._onScroll(e)))}_onScroll(e){if(void 0===this.thresholdPercent)this.crtOptionsScroll.next({autoComplete:this._autoComplete,scrollEvent:e});else{const t=e.target,n=100*this.thresholdPercent*t.scrollHeight/100;t.scrollTop+t.clientHeight>n&&this.crtOptionsScroll.next({autoComplete:this._autoComplete,scrollEvent:e})}}ngOnDestroy(){this._destroyed$.next(),this._destroyed$.complete()}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](O.XC))},e.ɵdir=l["ɵɵdefineDirective"]({type:e,selectors:[["mat-autocomplete","crtOptionsScroll",""]],inputs:{thresholdPercent:"thresholdPercent"},outputs:{crtOptionsScroll:"crtOptionsScroll"}}),e})();const Cx=["input"];function yx(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵelementStart"](0,"div",17),l["ɵɵlistener"]("click",(function(t){l["ɵɵrestoreView"](e);return l["ɵɵnextContext"]().onLinkWrapClick(t)})),l["ɵɵelementContainer"](1,18),l["ɵɵelementEnd"]()}if(2&e){const e=l["ɵɵnextContext"]();l["ɵɵadvance"](1),l["ɵɵproperty"]("crtViewElement",e.linkViewConfig)}}function wx(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵelementStart"](0,"mat-icon",19),l["ɵɵlistener"]("click",(function(){l["ɵɵrestoreView"](e);return l["ɵɵnextContext"]().clearValue()})),l["ɵɵelementEnd"]()}}function _x(e,t){if(1&e&&l["ɵɵelement"](0,"mat-icon",20),2&e){l["ɵɵnextContext"]();const e=l["ɵɵreference"](12);l["ɵɵproperty"]("ngClass","combobox-expander "+(e.isOpen?"opened":"closed"))}}function xx(e,t){1&e&&(l["ɵɵelement"](0,"mat-icon",21),l["ɵɵpipe"](1,"translate")),2&e&&l["ɵɵproperty"]("matTooltip",l["ɵɵpipeBind1"](1,1,"ComboBox.Readonly"))}function Ix(e,t){if(1&e&&(l["ɵɵelementContainerStart"](0),l["ɵɵelementStart"](1,"span",22),l["ɵɵtext"](2),l["ɵɵelementEnd"](),l["ɵɵelement"](3,"mat-icon",23),l["ɵɵelementContainerEnd"]()),2&e){const e=l["ɵɵnextContext"]();l["ɵɵadvance"](2),l["ɵɵtextInterpolate"](e.errorMessages),l["ɵɵadvance"](1),l["ɵɵproperty"]("tooltipConfig",e.getTooltip(e.errorMessages))}}function Sx(e,t){if(1&e&&l["ɵɵelement"](0,"mat-icon",25),2&e){const e=l["ɵɵnextContext"](2);l["ɵɵproperty"]("tooltipConfig",e.getTooltip(e.tooltip))}}function Mx(e,t){if(1&e&&l["ɵɵtemplate"](0,Sx,1,1,"mat-icon",24),2&e){const e=l["ɵɵnextContext"]();l["ɵɵproperty"]("ngIf",e.tooltip)}}function Dx(e,t){if(1&e&&(l["ɵɵelementStart"](0,"mat-option",26,27),l["ɵɵtext"](2),l["ɵɵpipe"](3,"translate"),l["ɵɵelementEnd"]()),2&e){const e=t.$implicit,n=l["ɵɵreference"](1),i=l["ɵɵnextContext"]();l["ɵɵproperty"]("ngClass",i.getClasses(e,n))("value",e),l["ɵɵadvance"](2),l["ɵɵtextInterpolate1"](" ",e.displayValue?e.displayValue:l["ɵɵpipeBind1"](3,3,"ComboBox.EmptyDisplayValue")," ")}}function Px(e,t){1&e&&(l["ɵɵelementStart"](0,"mat-option",28),l["ɵɵtext"](1),l["ɵɵpipe"](2,"translate"),l["ɵɵelementEnd"]()),2&e&&(l["ɵɵadvance"](1),l["ɵɵtextInterpolate1"](" ",l["ɵɵpipeBind1"](2,1,"ComboBox.NoData")," "))}function Tx(e,t){if(1&e&&(l["ɵɵelementStart"](0,"mat-option",32),l["ɵɵelementContainer"](1,33),l["ɵɵelementEnd"]()),2&e){const e=t.$implicit;l["ɵɵpropertyInterpolate"]("id",e.name),l["ɵɵproperty"]("disabled",e.disabled),l["ɵɵadvance"](1),l["ɵɵproperty"]("crtViewElement",e)}}function kx(e,t){if(1&e&&(l["ɵɵelementStart"](0,"mat-optgroup",29),l["ɵɵelementStart"](1,"mat-option",30),l["ɵɵlistener"]("click",(function(e){return null==e?null:e.stopPropagation()})),l["ɵɵtemplate"](2,Tx,2,3,"mat-option",31),l["ɵɵelementEnd"](),l["ɵɵelementEnd"]()),2&e){const e=l["ɵɵnextContext"]();l["ɵɵadvance"](1),l["ɵɵpropertyInterpolate"]("id",e.stickyBottomOptionName),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngForOf",e.listActions)}}let Ex=(()=>{class e extends Gg{constructor(e,t,n,i){super(new c.NI(null,{validators:[new fx(e,!1).validateFn]})),this._injector=e,this._translate=t,this._comboboxValidationErrorsService=n,this._changeDetector=i,this._touched$=new h.Subject,this._stickyBottomOption="stickyBottomOption",this._destroyed$=new h.Subject,this._itemsSnapshot=[],this.focused=!1,this.id="",this.ariaLabel="",this.items$=new h.BehaviorSubject([]),this.isAddAllowed=!1,this._listActions=[],this.showValueAsLink=!1,this.readonly=!1,this.isRequired=!1,this.appearance="legacy",this.changed=new l.EventEmitter,this.addRecord=new l.EventEmitter,this.optionsScroll=new l.EventEmitter,this._handleFocus=()=>{},this._disableFocusHandling=()=>this.autoCompleteTrigger._handleFocus=this._handleFocus}get isShowNoDataOption(){return this._isShowNoDataOption}get listActions(){return this._listActions}set listActions(e){this._applyListActions(e)}set items(e){this._itemsSnapshot=e,this.items$.next(e),this._isShowNoDataOption=0===this._itemsSnapshot.length}get items(){return this._itemsSnapshot}get stickyBottomOptionName(){return this._stickyBottomOption}get errorMessages(){var e;const t=null===(e=this.control)||void 0===e?void 0:e.errors;return t?Object.values(t).map((e=>e.message)).join("\n"):""}get invalid(){return this.control.invalid&&(this.control.dirty||this.control.touched)}_applyListActions(e){this._listActions=(null==e?void 0:e.map((e=>Object.assign(Object.assign({},e),{details:{searchValue:this._lastSearchValue}}))))||[]}_subscribeOnParentValidationErrors(){this._comboboxValidationErrorsService.validationErrors.subscribe({next:e=>{const t=Object.assign(Object.assign({},this.control.errors),e.errors);e.touched&&this.control.markAsTouched(),this.control.setErrors((0,bi.Z)(t)?null:t),this._changeDetector.detectChanges()}})}_subscribeOnValueChange(){this.control.valueChanges.pipe((0,En.b)((()=>this._onTouched())),(0,f.h)((e=>T_.isNullableLookupValue(e)))).subscribe({next:e=>{this._onChange(e)}})}_subscribeOnSearchValueChanged(){this.control.valueChanges.pipe((0,f.h)((e=>"string"==typeof e||null===e))).subscribe({next:e=>{this._lastSearchValue=e,this._applyListActions(this.listActions)}})}_subscribeOnSearch(){this.control.valueChanges.pipe((0,En.b)((()=>this._onTouched())),(0,f.h)((e=>!T_.isLookupValue(e))),(0,En.b)((()=>this._onChange(null))),(0,kn.b)(this.debounceTime)).subscribe({next:e=>{this.changed.emit(e)}})}getClasses(e,t){var n;return{"crt-combobox-autocomplete-option":!0,"crt-combobox-autocomplete-option-selected":this.isSelected(e),"crt-combobox-autocomplete-option-active":t.active,"crt-combobox-autocomplete-option-empty-value":0===(null===(n=e.displayValue)||void 0===n?void 0:n.length)}}ngOnInit(){this._subscribeOnParentValidationErrors(),this._subscribeOnValueChange(),this._subscribeOnSearch(),this._subscribeOnSearchValueChanged(),this._touched$.pipe((0,f.h)(Boolean),(0,En.b)((()=>this._changeDetector.detectChanges())),(0,Tn.q)(1),(0,b.R)(this._destroyed$)).subscribe()}ngOnDestroy(){this._destroyed$.next(),this._destroyed$.complete()}ngDoCheck(){super.ngDoCheck(),this._touched$.next(this.control.touched)}ngAfterViewInit(){this._disableFocusHandling(),this.autoCompleteTrigger.autocomplete.optionSelected.subscribe((()=>this.changed.emit(null)))}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){setTimeout((()=>{e?this.control.disable():this.control.enable()}),0)}writeValue(e){this.control.setValue(e,{emitEvent:!1})}extractDisplayValue(e){const t=(null==e?void 0:e.displayValue)||null;return e&&ur.String.IsNullOrWhiteSpace(t)?this._translate.instant("ComboBox.EmptyDisplayValue"):t}togglePanel(){this.autoCompleteTrigger.autocomplete.isOpen?this.autoCompleteTrigger.closePanel():(this.focused=!0,this.autoCompleteTrigger.openPanel())}onClosed(){const e=this.control.value;this.focused=!e||"string"==typeof e}onLinkWrapClick(e){this.readonly||this.togglePanel()}isSelected(e){return!!T_.isLookupValue(this.control.value)&&e.value===this.control.value.value}clearValue(){this.control.setValue(null)}getAddButtonCaption(e){const t=this._translate.instant("ComboBox.AddNewRecord");return(0,bi.Z)(this._lastSearchValue)?t:`${t} "${this._lastSearchValue}"`}getActionCaption(e){return"addRecord"!==e.name||(0,bi.Z)(this._lastSearchValue)?e.caption:`${e.caption} "${this._lastSearchValue}"`}getIsShowValueAsLink(){return this.showValueAsLink&&this.linkViewConfig&&this.control.value&&!this.focused}onOptionChanged(e){(this.listActions.find((t=>t.name===e.option.id))||e.option.id===this.stickyBottomOptionName)&&this.control.setErrors(null)}prepareValue(e){return null==e||(e.displayValue=e.displayValue?e.displayValue:this._translate.instant("ComboBox.EmptyDisplayValue")),e}onScroll(){this.optionsScroll.emit()}getTooltip(e){if(e)return new mn({tooltipConfig:{value:e},componentType:rn})}validate(e){const t=super.validate(e);return this.ngDoCheck(),t}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](l.Injector),l["ɵɵdirectiveInject"](u.sK),l["ɵɵdirectiveInject"](P_),l["ɵɵdirectiveInject"](l.ChangeDetectorRef))},e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["crt-autocomplete"]],viewQuery:function(e,t){if(1&e&&l["ɵɵviewQuery"](Cx,5,O.ZL),2&e){let e;l["ɵɵqueryRefresh"](e=l["ɵɵloadQuery"]())&&(t.autoCompleteTrigger=e.first)}},inputs:{id:"id",ariaLabel:"ariaLabel",placeholder:"placeholder",debounceTime:"debounceTime",initialConfig:"initialConfig",isAddAllowed:"isAddAllowed",listActions:"listActions",showValueAsLink:"showValueAsLink",linkViewConfig:"linkViewConfig",readonly:"readonly",isRequired:"isRequired",appearance:"appearance",items:"items"},outputs:{changed:"changed",addRecord:"addRecord",optionsScroll:"optionsScroll"},features:[l["ɵɵProvidersFeature"]([{provide:c.JU,useExisting:(0,l.forwardRef)((()=>e)),multi:!0},Bg(e)]),l["ɵɵInheritDefinitionFeature"]],decls:20,vars:23,consts:[["floatLabel","never",1,"crt-input-control-container",3,"appearance","click"],[1,"crt-input-control"],["matInput","","crtEnterClickAutocomplete","",3,"id","ngClass","readonly","formControl","matAutocomplete","crtAriaRequired","placeholder"],["input",""],["class","link-wrap",3,"click",4,"ngIf"],["matSuffix","","svgIcon","combobox-clear","ngClass","combobox-expander clear",3,"click",4,"ngIf"],["matSuffix","","svgIcon","combobox-arrow",3,"ngClass",4,"ngIf"],["matSuffix","","svgIcon","lock",3,"matTooltip",4,"ngIf"],[4,"ngIf","ngIfElse"],["tooltipIcon",""],[1,"crt-combobox-autocomplete-panel",3,"displayWith","optionSelected","closed","crtOptionsScroll"],["autocomplete","","auto","matAutocomplete"],[1,"crt-combobox-autocomplete-main-group"],[3,"ngClass","value",4,"ngFor","ngForOf"],["disabled","true",1,"crt-combobox-autocomplete-option","crt-combobox-autocomplete-option-hidden"],["disabled","true","class","crt-combobox-autocomplete-option no-items",4,"ngIf"],["class","crt-combobox-autocomplete-sticky-group",4,"ngIf"],[1,"link-wrap",3,"click"],["crtViewModel","",3,"crtViewElement"],["matSuffix","","svgIcon","combobox-clear","ngClass","combobox-expander clear",3,"click"],["matSuffix","","svgIcon","combobox-arrow",3,"ngClass"],["matSuffix","","svgIcon","lock",3,"matTooltip"],[1,"cdk-visually-hidden"],["matSuffix","","svgIcon","error-icon","matTooltipPosition","after","matTooltipClass","crt-input-error-tooltip","crtTooltip","",3,"tooltipConfig"],["crtTooltip","","matSuffix","","svgIcon","tooltip-icon",3,"tooltipConfig",4,"ngIf"],["crtTooltip","","matSuffix","","svgIcon","tooltip-icon",3,"tooltipConfig"],[3,"ngClass","value"],["option",""],["disabled","true",1,"crt-combobox-autocomplete-option","no-items"],[1,"crt-combobox-autocomplete-sticky-group"],[1,"crt-combobox-autocomplete-option-group",3,"id","click"],["class","inner-option",3,"disabled","id",4,"ngFor","ngForOf"],[1,"inner-option",3,"disabled","id"],[3,"crtViewElement"]],template:function(e,t){if(1&e&&(l["ɵɵelementStart"](0,"mat-form-field",0),l["ɵɵlistener"]("click",(function(){return!t.readonly&&t.togglePanel()})),l["ɵɵelementStart"](1,"div",1),l["ɵɵelement"](2,"input",2,3),l["ɵɵtemplate"](4,yx,2,1,"div",4),l["ɵɵtemplate"](5,wx,1,0,"mat-icon",5),l["ɵɵtemplate"](6,_x,1,1,"mat-icon",6),l["ɵɵtemplate"](7,xx,2,3,"mat-icon",7),l["ɵɵtemplate"](8,Ix,4,2,"ng-container",8),l["ɵɵtemplate"](9,Mx,1,1,"ng-template",null,9,l["ɵɵtemplateRefExtractor"]),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵelementStart"](11,"mat-autocomplete",10,11),l["ɵɵlistener"]("optionSelected",(function(e){return t.onOptionChanged(e)}))("closed",(function(){return t.onClosed()}))("crtOptionsScroll",(function(){return t.onScroll()})),l["ɵɵelementStart"](14,"mat-optgroup",12),l["ɵɵtemplate"](15,Dx,4,5,"mat-option",13),l["ɵɵpipe"](16,"async"),l["ɵɵelement"](17,"mat-option",14),l["ɵɵtemplate"](18,Px,3,3,"mat-option",15),l["ɵɵelementEnd"](),l["ɵɵtemplate"](19,kx,3,2,"mat-optgroup",16),l["ɵɵelementEnd"]()),2&e){const e=l["ɵɵreference"](10),n=l["ɵɵreference"](13);l["ɵɵclassProp"]("crt-input-control-container--invalid",t.invalid),l["ɵɵproperty"]("appearance",t.appearance),l["ɵɵadvance"](2),l["ɵɵproperty"]("id",t.id)("ngClass",t.getIsShowValueAsLink()?"hide":"")("readonly",t.readonly)("formControl",t.control)("matAutocomplete",n)("crtAriaRequired",t.isRequired)("placeholder",t.placeholder),l["ɵɵattribute"]("aria-label",t.ariaLabel),l["ɵɵadvance"](2),l["ɵɵproperty"]("ngIf",t.getIsShowValueAsLink()),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",!t.readonly&&(null==t.control?null:t.control.value)),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",!t.readonly),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",t.readonly),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",t.invalid)("ngIfElse",e),l["ɵɵadvance"](3),l["ɵɵproperty"]("displayWith",t.extractDisplayValue.bind(t)),l["ɵɵadvance"](4),l["ɵɵproperty"]("ngForOf",l["ɵɵpipeBind1"](16,21,t.items$)),l["ɵɵadvance"](3),l["ɵɵproperty"]("ngIf",t.isShowNoDataOption),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",null==t.listActions?null:t.listActions.length)}},directives:[x.KE,j.Nt,c.Fj,O.ZL,vx,o.NgClass,c.JJ,c.oH,zg,o.NgIf,O.XC,bx,R.Nv,o.NgForOf,R.ey,Su,_u,St.Hw,x.R9,Dt.gM,un],pipes:[o.AsyncPipe,u.X$],styles:[".crt-combobox-autocomplete-panel{border-bottom-left-radius:0!important;border-bottom-right-radius:0!important}.crt-combobox-autocomplete-panel.mat-autocomplete-panel{padding:0 1px}.crt-combobox-autocomplete-panel .mat-optgroup.crt-combobox-autocomplete-sticky-group .mat-option.crt-combobox-autocomplete-option-group{border-top-width:1px;border-top-style:solid;padding:0;height:auto;position:sticky;z-index:10;bottom:0}.crt-combobox-autocomplete-panel .mat-optgroup.crt-combobox-autocomplete-sticky-group .mat-option.crt-combobox-autocomplete-option-group>.mat-option-text{padding:6px}.crt-combobox-autocomplete-panel .mat-optgroup.crt-combobox-autocomplete-sticky-group .mat-option.crt-combobox-autocomplete-option-group .inner-option{padding:0}.crt-combobox-autocomplete-panel .mat-optgroup.crt-combobox-autocomplete-sticky-group .mat-option.crt-combobox-autocomplete-option-group .inner-option.mat-option .mat-icon{margin-right:8px}.crt-combobox-autocomplete-panel .mat-optgroup.crt-combobox-autocomplete-sticky-group .crt-combobox-autocomplete-option{padding:0 16px}.crt-combobox-autocomplete-panel .mat-optgroup.crt-combobox-autocomplete-main-group .mat-optgroup-label,.crt-combobox-autocomplete-panel .mat-optgroup.crt-combobox-autocomplete-sticky-group .mat-optgroup-label{display:none}.crt-combobox-autocomplete-panel .mat-optgroup.crt-combobox-autocomplete-main-group{display:flex;flex-direction:column;padding:6px}.crt-combobox-autocomplete-panel .mat-optgroup.crt-combobox-autocomplete-main-group .mat-option.crt-combobox-autocomplete-option{padding-left:16px}.crt-input-control-container.mat-form-field .crt-input-control input.mat-input-element.hide{opacity:0}.crt-input-control{display:flex;align-items:center}.crt-input-control .combobox-expander{cursor:pointer;opacity:0}.crt-input-control .link-wrap{max-width:80%;position:absolute;bottom:2px;pointer-events:auto;cursor:text}.crt-input-control .link-wrap crt-link{display:inline-block;width:auto;max-width:100%}.crt-input-control .link-wrap .crt-link:hover{text-decoration:underline}.crt-input-control:focus-within .combobox-expander,.crt-input-control:hover .combobox-expander{opacity:1}"],encapsulation:2,changeDetection:0}),e})(),Nx=class{constructor(e){this._materialIconsRegistrator=e,this._materialIconsRegistrator.addIcons([{name:"lock",icon:n(47056)},{name:"combobox-arrow",icon:n(95264)},{name:"combobox-clear",icon:n(6342)},{name:"combobox-add-new",icon:n(68874)},{name:"error-icon",icon:n(91348)},{name:"combobox-go-to-source",icon:n(21942)},{name:"tooltip-icon",icon:n(87726)}])}};Nx.ɵfac=function(e){return new(e||Nx)(l["ɵɵinject"](Dn))},Nx.ɵmod=l["ɵɵdefineNgModule"]({type:Nx}),Nx.ɵinj=l["ɵɵdefineInjector"]({imports:[[o.CommonModule,c.u5,j.c,zt.LD,O.Bb,St.Ps,x.lN,c.UX,Rn,pt.forRoot({i18n:Nw}),Dt.AV,ui,gx,Cy,Pu,pC,Ow,$p.Tx,Kw,cx,Hg,pn]]}),Nx=(0,a.gn)([(0,r.CrtModule)({viewElements:[z_,rx,lx]}),(0,a.w6)("design:paramtypes",[Dn])],Nx),("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](Nx,{declarations:[Ex,vx,z_,rx,lx,bx],imports:[o.CommonModule,c.u5,j.c,zt.LD,O.Bb,St.Ps,x.lN,c.UX,Rn,pt,Dt.AV,ui,gx,Cy,Pu,pC,Ow,$p.Tx,Kw,cx,Hg,pn],exports:[Ex,z_,rx,lx]}),l["ɵɵsetComponentScope"](z_,[o.NgIf,di,An,o.NgClass,Ex,c.JJ,c.oH,o.NgForOf,_u,sw,St.Hw,Wy],[o.AsyncPipe]);var Ox=n(88141);let jx=(()=>{class e{constructor(){this.cellDataType=""}set value(e){this._value=e,this.title=this.getTitle(e)}get value(){return this._value}set column(e){this._column=e,this.cellDataType=this._getCellDataType(e)}get column(){return this._column}get isClickable(){var e,t,n;return!!(null===(n=null===(t=null===(e=this.column)||void 0===e?void 0:e.cellView)||void 0===t?void 0:t.linkable)||void 0===n?void 0:n.clicked)}_getCellDataType(e){const t=null==e?void 0:e.dataValueType;if(null==t)return"";const n=r.DataValueType[t];return null==n?"":n}getTitle(e){return`${e}`}}return e.ɵfac=function(t){return new(t||e)},e.ɵdir=l["ɵɵdefineDirective"]({type:e,hostVars:2,hostBindings:function(e,t){2&e&&l["ɵɵattribute"]("title",t.title)("crt-cell-data-type",t.cellDataType)},inputs:{value:"value",record:"record",column:"column"}}),e})();const Ax=new l.InjectionToken("A data table boolean cell component type"),Rx=new l.InjectionToken("A data table datetime cell component type"),Fx=new l.InjectionToken("A data table lookup cell component type"),Vx=new l.InjectionToken("A data table numeric cell component type"),Lx=new l.InjectionToken("A data table text cell component type"),zx=new l.InjectionToken("A cell component type factory"),Bx="escape",Gx="copyValue",Hx="arrowLeft",Ux="arrowRight",Zx="arrowUp",$x="arrowDown",Wx={keydown:{[Bx]:{sequence:w_.s.Escape},[Gx]:{sequence:"copy"},[Hx]:{sequence:"left"},[Ux]:{sequence:"right"},[Zx]:{sequence:"up"},[$x]:{sequence:"down"}}},qx=new l.InjectionToken("A data table hotkeys map factory",{providedIn:"root",factory:()=>{let e=Wx;try{const t=null===localStorage||void 0===localStorage?void 0:localStorage.getItem("DATA_TABLE_HOTKEYS");t&&(e=JSON.parse(t))}catch(e){}return new h.BehaviorSubject(e)}});let Yx=(()=>{class e{constructor(e,t,n,i,r){this._injector=e,this._templateRef=t,this._viewContainerRef=n,this._componentFactoryResolver=i,this._cellComponentTypeFactory=r}_createOrUpdateView(){const e=this._cellComponentTypeFactory.create(this.column.dataValueType);e?(this._cleanupTemplate(),this._createOrUpdateComponent(e)):(this._cleanupComponent(),this._createOrUpdateTemplate(this.data[this.column.code]))}_createOrUpdateComponent(e){e===this._cellComponentType?this._updateComponent():this._createComponent(e),this._cellComponentType=e}_createComponent(e){const t=this._componentFactoryResolver.resolveComponentFactory(e);this._componentRef=t.create(this._injector),this._componentRef.instance.value=this.data[this.column.code],this._componentRef.instance.record=this.data,this._componentRef.instance.column=this.column,this._viewContainerRef.insert(this._componentRef.hostView,0)}_updateComponent(){this._componentRef.instance.value=this.data[this.column.code],this._componentRef.instance.column=this.column,this._componentRef.changeDetectorRef.detectChanges()}_createOrUpdateTemplate(e){const t={$implicit:e};this._cleanupTemplate(),this._embeddedViewRef=this._viewContainerRef.createEmbeddedView(this._templateRef,t)}_cleanupTemplate(){this._embeddedViewRef&&(this._embeddedViewRef.destroy(),this._viewContainerRef.clear())}_cleanupComponent(){this._componentRef&&(this._componentRef.destroy(),this._viewContainerRef.clear())}ngOnChanges(){this.data&&this.column?this._createOrUpdateView():(this._cleanupTemplate(),this._cleanupComponent())}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](l.Injector),l["ɵɵdirectiveInject"](l.TemplateRef),l["ɵɵdirectiveInject"](l.ViewContainerRef),l["ɵɵdirectiveInject"](l.ComponentFactoryResolver),l["ɵɵdirectiveInject"](zx))},e.ɵdir=l["ɵɵdefineDirective"]({type:e,selectors:[["","crtDataTableCellView",""]],inputs:{column:["crtDataTableCellViewColumn","column"],data:["crtDataTableCellViewData","data"]},features:[l["ɵɵNgOnChangesFeature"]]}),e})(),Jx=(()=>{class e{}return e.ɵfac=function(t){return new(t||e)},e.ɵmod=l["ɵɵdefineNgModule"]({type:e}),e.ɵinj=l["ɵɵdefineInjector"]({}),e})();("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](Jx,{declarations:[Yx],exports:[Yx]});var Qx=n(84903);let Kx=(()=>{class e{constructor(e){this._selected=!1,this.disableSelection=!1,this.clicked=new l.EventEmitter,this.focused=new l.EventEmitter,this.blurred=new l.EventEmitter,this._element=null==e?void 0:e.nativeElement}get rowId(){var e,t,n;return null!==(n=null===(t=null===(e=this._element)||void 0===e?void 0:e.closest("tr"))||void 0===t?void 0:t.getAttribute("row-id"))&&void 0!==n?n:""}get columnId(){var e,t;return null!==(t=null===(e=this._element)||void 0===e?void 0:e.getAttribute("column-id"))&&void 0!==t?t:""}get element(){return this._element}set selected(e){this._selected=!0===e&&!this.disableSelection}get selected(){return this._selected}onCellClick(e){e.preventDefault(),e.stopPropagation(),this.clicked.emit(e)}onFocus(e){this.focused.emit(e)}onBlur(e){this.blurred.emit(e)}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](l.ElementRef))},e.ɵdir=l["ɵɵdefineDirective"]({type:e,selectors:[["","crtDataTableSelectableCell",""]],hostVars:2,hostBindings:function(e,t){1&e&&l["ɵɵlistener"]("click",(function(e){return t.onCellClick(e)}))("focus",(function(e){return t.onFocus(e)}))("blur",(function(e){return t.onBlur(e)})),2&e&&l["ɵɵclassProp"]("crt-data-table-cell-selected",t._selected)},inputs:{disableSelection:"disableSelection"},outputs:{clicked:"clicked",focused:"focused",blurred:"blurred"}}),e})(),Xx=(()=>{class e{constructor(e){this._destroyed$=new h.Subject,this._selectedCells=[],this.disableCellsSelection=!1,this.selectedCellsChange=new l.EventEmitter,this._element=null==e?void 0:e.nativeElement}set selectedCells(e){this._selectedCells=this._getDefinedSelectedCells(e),this._selectCells(this._selectedCells)}get selectedCells(){return this._selectedCells}set cells(e){this._cells=e,this._subscribeCells(this._cells),this._selectCells(this._selectedCells)}get cells(){return this._cells}_getDefinedSelectedCells(e){return this.disableCellsSelection?[]:Array.isArray(e)?[...e].filter((e=>(null==e?void 0:e.rowId)&&(null==e?void 0:e.columnId))):[]}_selectCells(e){var t;const n=(0,Qx.Z)(e);null===(t=this.cells)||void 0===t||t.forEach((t=>{t.selected=this._isCellSelected(t,e);n&&this._isCellSelected(t,[n])?this._focusCell(t):this._blurCell(t)}))}_focusCell(e){const t=null==e?void 0:e.element;t&&(t.focus(),this._scrollToCellElement(t))}_blurCell(e){var t;null===(t=null==e?void 0:e.element)||void 0===t||t.blur()}_scrollToCellElement(e){const{top:t,bottom:n,left:i,right:r}=this._getScrollableClientRect(),a=e.classList.contains("mat-table-sticky"),{right:o,bottom:s}=e.getBoundingClientRect();o>r&&!a&&(this._element.scrollLeft+=o-r),s>n&&(this._element.scrollTop+=s-n);const{top:l,left:c}=e.getBoundingClientRect();c<i&&!a&&(this._element.scrollLeft+=c-i),l<t&&(this._element.scrollTop+=l-t)}_getScrollableClientRect(){var e,t,n,i,r,a;const o=this._element.getBoundingClientRect(),s=null===(e=this._element.querySelector(".mat-table-sticky-border-elem-top"))||void 0===e?void 0:e.getBoundingClientRect(),l=null===(t=this._element.querySelector(".mat-table-sticky-border-elem-left"))||void 0===t?void 0:t.getBoundingClientRect(),c=null===(n=this._element.querySelector(".mat-table-sticky-border-elem-right"))||void 0===n?void 0:n.getBoundingClientRect();return{left:null!==(i=null==l?void 0:l.right)&&void 0!==i?i:o.left,top:null!==(r=null==s?void 0:s.bottom)&&void 0!==r?r:o.top,right:null!==(a=null==c?void 0:c.left)&&void 0!==a?a:o.right,bottom:o.bottom}}_selectCell(e){this._isCellSelected(e,this._selectedCells)||(this._selectedCells.push({rowId:e.rowId,columnId:e.columnId}),this.selectedCellsChange.emit(this._selectedCells))}_unselectCell(e){this._isCellSelected(e,this._selectedCells)&&(this._selectedCells=this._selectedCells.filter((({rowId:t,columnId:n})=>t!==e.rowId||n!==e.columnId)),this.selectedCellsChange.emit(this._selectedCells))}_isCellSelected(e,t){return t.some((({rowId:t,columnId:n})=>t===e.rowId&&n===e.columnId))}_subscribeCells(e){this._destroyed$.next(),null==e||e.forEach((e=>{e.clicked.pipe((0,f.h)((()=>!this.disableCellsSelection)),(0,En.b)((()=>this._selectCell(e))),(0,b.R)(this._destroyed$)).subscribe(),e.focused.pipe((0,f.h)((()=>!this.disableCellsSelection)),(0,En.b)((()=>this._selectCell(e))),(0,b.R)(this._destroyed$)).subscribe(),e.blurred.pipe((0,f.h)((()=>!this.disableCellsSelection)),(0,En.b)((()=>this._unselectCell(e))),(0,b.R)(this._destroyed$)).subscribe(),e.disableSelection=this.disableCellsSelection||e.disableSelection}))}ngOnDestroy(){this._destroyed$.next(),this._destroyed$.complete()}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](l.ElementRef))},e.ɵdir=l["ɵɵdefineDirective"]({type:e,selectors:[["","crtDataTableCellsSelection",""]],contentQueries:function(e,t,n){if(1&e&&l["ɵɵcontentQuery"](n,Kx,5),2&e){let e;l["ɵɵqueryRefresh"](e=l["ɵɵloadQuery"]())&&(t.cells=e)}},inputs:{selectedCells:["crtDataTableCellsSelection","selectedCells"],disableCellsSelection:"disableCellsSelection"},outputs:{selectedCellsChange:"selectedCellsChange"},exportAs:["cellsSelection"]}),e})();const eI={[Zx]:"up",[$x]:"down",[Hx]:"left",[Ux]:"right"};let tI=(()=>{class e{constructor(e,t,n){this._keyboardHotkeysDirective=t,this._cellsSelectionDirective=n,this._destroyed$=new h.Subject,this._isRtl="rtl"===(null==e?void 0:e.value),this._subscribeKeyboardSelection()}_subscribeKeyboardSelection(){this._keyboardHotkeysDirective.crtKeyboardHotkeyPressed.pipe((0,f.h)((({action:e})=>null!=eI[e])),(0,En.b)((({event:e})=>e.preventDefault())),(0,g.U)((({action:e})=>eI[e])),(0,ve.p)(17),(0,En.b)((e=>this._selectNextCellByDirection(e))),(0,b.R)(this._destroyed$)).subscribe(),this._keyboardHotkeysDirective.crtKeyboardHotkeyPressed.pipe((0,f.h)((({action:e})=>e===Bx)),(0,En.b)((({event:e})=>e.preventDefault())),(0,En.b)((()=>this._unSelectAllCells())),(0,b.R)(this._destroyed$)).subscribe()}_unSelectAllCells(){var e;null===(e=this._cellsSelectionDirective)||void 0===e||e.selectedCellsChange.emit([])}_selectNextCellByDirection(e){var t;const n=(0,Qx.Z)(null===(t=this._cellsSelectionDirective)||void 0===t?void 0:t.selectedCells);if(!n)return;const i=this._findNextSelectedCell(n,e);this._cellsSelectionDirective.selectedCellsChange.emit([i])}_findNextSelectedCell(e,t){var n,i;const r=null!==(i=null===(n=this._cellsSelectionDirective)||void 0===n?void 0:n.cells)&&void 0!==i?i:new l.QueryList,a=(0,dt.Z)(r.map((e=>e.rowId))),o=(0,dt.Z)(r.map((e=>e.columnId)));this._isRtl&&o.reverse();const{rowId:s,columnId:c}=e,d=a.findIndex((e=>e===s)),u=o.findIndex((e=>e===c));if(-1===d||-1===u)return e;switch(t){case"up":return{rowId:0===d?s:a[d-1],columnId:c};case"down":return{rowId:d===a.length-1?s:a[d+1],columnId:c};case"left":return{rowId:s,columnId:0===u?c:o[u-1]};case"right":return{rowId:s,columnId:u===o.length-1?c:o[u+1]};default:return e}}ngOnDestroy(){this._destroyed$.next(),this._destroyed$.complete()}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](en.Is),l["ɵɵdirectiveInject"](Yi),l["ɵɵdirectiveInject"](Xx))},e.ɵdir=l["ɵɵdefineDirective"]({type:e,selectors:[["","crtDataTableCellsKeyboardSelection",""]]}),e})(),nI=(()=>{class e extends jx{get isLinkable(){return!!this.linkable}set linkable(e){this._linkable=e}get linkable(){var e,t;return this._linkable||(null===(t=null===(e=this.column)||void 0===e?void 0:e.cellView)||void 0===t?void 0:t.linkable)}}return e.ɵfac=function(){let t;return function(n){return(t||(t=l["ɵɵgetInheritedFactory"](e)))(n||e)}}(),e.ɵdir=l["ɵɵdefineDirective"]({type:e,inputs:{linkable:"linkable"},features:[l["ɵɵInheritDefinitionFeature"]]}),e})(),iI=(()=>{class e{}return e.ɵfac=function(t){return new(t||e)},e.ɵdir=l["ɵɵdefineDirective"]({type:e,selectors:[["","crtDataTableColumnToolbar",""]]}),e})(),rI=(()=>{class e{}return e.ɵfac=function(t){return new(t||e)},e.ɵdir=l["ɵɵdefineDirective"]({type:e,selectors:[["","crtDataTableHeaderToolbar",""]]}),e})(),aI=(()=>{class e{constructor(e){this.templateRef=e,this.position="before"}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](l.TemplateRef))},e.ɵdir=l["ɵɵdefineDirective"]({type:e,selectors:[["","crtDataTableRowToolbar",""]],inputs:{position:["crtDataTableRowToolbarPosition","position"]}}),e})(),oI=(()=>{class e{constructor(){this._defaultPrimaryColumnName="Id",this._context=new h.ReplaySubject(1),this.context$=this._context.asObservable(),this.rowId$=this.context$.pipe((0,g.U)((e=>e.rowId)))}_getRowId(e){return(0,a.mG)(this,void 0,void 0,(function*(){return e?e[this.primaryColumnName||this._defaultPrimaryColumnName]:Promise.resolve(e)}))}ngOnChanges(e){this._getRowId(this.row).then((e=>{this._context.next({row:this.row,rowId:e})}))}}return e.ɵfac=function(t){return new(t||e)},e.ɵdir=l["ɵɵdefineDirective"]({type:e,selectors:[["","crtDataTableRowContext",""]],inputs:{row:["crtDataTableRowContext","row"],primaryColumnName:"primaryColumnName"},exportAs:["rowContext"],features:[l["ɵɵNgOnChangesFeature"]]}),e})(),sI=(()=>{class e{constructor(){this._destroyed$=new h.Subject,this._isActive=!1,this._isSelected=!1,this.rowDoubleClick=new l.EventEmitter}_onDoubleClick(){this.rowDoubleClick.emit(this.context)}_isActiveRow(){var e;return(0,m.Ig)(this.activeRowId)&&this.activeRowId===(null===(e=this.context)||void 0===e?void 0:e.rowId)}_isSelectedRow(){var e;return this.selectedRows.isSelected(null===(e=this.context)||void 0===e?void 0:e.rowId)}ngOnChanges(e){var t;const n=e.context,i=e.activeRowId;e.selectedRows&&this.selectedRows.changed.pipe((0,b.R)(this._destroyed$)).subscribe((()=>this._isSelected=this._isSelectedRow())),(n||i)&&(this._rowId=null===(t=this.context)||void 0===t?void 0:t.rowId,this._isActive=this._isActiveRow(),this._isSelected=this._isSelectedRow())}ngOnDestroy(){this._destroyed$.next(),this._destroyed$.complete()}}return e.ɵfac=function(t){return new(t||e)},e.ɵdir=l["ɵɵdefineDirective"]({type:e,selectors:[["","crtDataTableRow",""]],hostVars:5,hostBindings:function(e,t){1&e&&l["ɵɵlistener"]("dblclick",(function(){return t._onDoubleClick()})),2&e&&(l["ɵɵattribute"]("row-id",t._rowId),l["ɵɵclassProp"]("crt-active-row",t._isActive)("crt-data-table-selected-row",t._isSelected))},inputs:{context:["crtDataTableRow","context"],activeRowId:"activeRowId",selectedRows:"selectedRows"},outputs:{rowDoubleClick:"rowDoubleClick"},features:[l["ɵɵNgOnChangesFeature"]]}),e})();function lI(e,t){if(1&e&&l["ɵɵelement"](0,"crt-skeleton-loader",2),2&e){const e=l["ɵɵnextContext"]();l["ɵɵproperty"]("styles",e.skeletonStyles)}}function cI(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵelementStart"](0,"div",3),l["ɵɵlistener"]("resized",(function(t){l["ɵɵrestoreView"](e);return l["ɵɵnextContext"]().onResized(t)})),l["ɵɵelementStart"](1,"mat-checkbox",4),l["ɵɵlistener"]("change",(function(t){l["ɵɵrestoreView"](e);return l["ɵɵnextContext"]().onChange(t)})),l["ɵɵtext"](2),l["ɵɵelementEnd"](),l["ɵɵelementEnd"]()}if(2&e){const e=l["ɵɵnextContext"]();l["ɵɵproperty"]("crtResizableDisabled",!e.isAutoLabelPosition),l["ɵɵadvance"](1),l["ɵɵclassProp"]("crt-checkbox--inversed",e.inversed)("crt-checkbox--no-label",!e.label)("crt-checkbox--label-above",e.label&&"above"===e.displayLabelPosition)("crt-checkbox--label-right",e.label&&"right"===e.displayLabelPosition)("crt-checkbox--label-hidden","hidden"===e.displayLabelPosition),l["ɵɵproperty"]("dir",e.documentDirection)("formControl",e.control)("aria-label",e.ariaLabel||e.label)("labelPosition","right"===e.displayLabelPosition?"after":"before"),l["ɵɵadvance"](1),l["ɵɵtextInterpolate1"](" ",e.label," ")}}let dI=class extends __{constructor(e,t,n){super(e,!1,t,n),this._elementRef=t,this._changeDetectorRef=n,this.inversed=!1,this.valueChange=new l.EventEmitter}set value(e){this.control.setValue(e)}onChange(e){this.valueChange.emit(e.checked)}};dI.ɵfac=function(e){return new(e||dI)(l["ɵɵdirectiveInject"](l.Injector),l["ɵɵdirectiveInject"](l.ElementRef),l["ɵɵdirectiveInject"](l.ChangeDetectorRef))},dI.ɵcmp=l["ɵɵdefineComponent"]({type:dI,selectors:[["crt-checkbox"]],inputs:{value:"value",inversed:"inversed",ariaLabel:"ariaLabel"},outputs:{valueChange:"valueChange"},features:[l["ɵɵInheritDefinitionFeature"]],decls:3,vars:2,consts:[[3,"styles",4,"ngIf","ngIfElse"],["checkbox",""],[3,"styles"],["crtResizable","",3,"crtResizableDisabled","resized"],[1,"crt-checkbox",3,"dir","formControl","aria-label","labelPosition","change"]],template:function(e,t){if(1&e&&(l["ɵɵtemplate"](0,lI,1,1,"crt-skeleton-loader",0),l["ɵɵtemplate"](1,cI,3,16,"ng-template",null,1,l["ɵɵtemplateRefExtractor"])),2&e){const e=l["ɵɵreference"](2);l["ɵɵproperty"]("ngIf",t.loading)("ngIfElse",e)}},directives:[o.NgIf,di,An,ce.oG,en.Lv,c.JJ,c.oH],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0}),(0,a.gn)([(0,r.CrtInput)(),(0,a.w6)("design:type",Boolean),(0,a.w6)("design:paramtypes",[Boolean])],dI.prototype,"value",null),dI=(0,a.gn)([Xs({type:"crt.Checkbox",formControlConfig:{relatesTo:"control"}}),Ks({type:"crt.Checkbox",toolbarConfig:[{name:"base-checkbox",groupType:Mu.Inputs,position:50,caption:"Components.Checkbox.Caption",icon:n(89567),defaultPropertyValues:{value:!0,disabled:!1,inversed:!1,label:"",ariaLabel:"",labelPosition:"auto"},defaultLocalizableStrings:{label:"Components.Checkbox.Caption",ariaLabel:"Components.Checkbox.Caption"}}],dataValueTypes:[r.DataValueType.Boolean],interfaceDesignerPropertiesPanelSchemaName:"InterfaceDesignerCheckboxPropertiesPanel",propertiesPanelComponentTypeName:"crt.CheckboxPropertiesPanelComponent"}),(0,a.w6)("design:paramtypes",[l.Injector,l.ElementRef,l.ChangeDetectorRef])],dI);let uI=class extends jx{constructor(e){super(),this._translateService=e}getTitle(e){const t=e?"DataTableBooleanCell.BooleanValue.True":"DataTableBooleanCell.BooleanValue.False";return this._translateService.instant(t)}};uI.ɵfac=function(e){return new(e||uI)(l["ɵɵdirectiveInject"](u.sK))},uI.ɵcmp=l["ɵɵdefineComponent"]({type:uI,selectors:[["crt-data-table-boolean-cell"]],features:[l["ɵɵInheritDefinitionFeature"]],decls:1,vars:1,consts:[["disabled","true","labelPosition","hidden",3,"value"]],template:function(e,t){1&e&&l["ɵɵelement"](0,"crt-checkbox",0),2&e&&l["ɵɵproperty"]("value",t.value)},directives:[dI],styles:["[_nghost-%COMP%]{display:flex;justify-content:flex-start}"]}),uI=(0,a.gn)([Xs({type:"crt.TableBooleanCell"}),(0,a.w6)("design:paramtypes",[u.sK])],uI);let pI=class{};pI.ɵfac=function(e){return new(e||pI)},pI.ɵmod=l["ɵɵdefineNgModule"]({type:pI}),pI.ɵinj=l["ɵɵdefineInjector"]({imports:[[o.CommonModule,ce.p9,c.u5,c.UX,Rn,ui]]}),pI=(0,a.gn)([(0,r.CrtModule)({viewElements:[dI]})],pI),("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](pI,{declarations:[dI],imports:[o.CommonModule,ce.p9,c.u5,c.UX,Rn,ui],exports:[dI]});let mI=class{};mI.ɵfac=function(e){return new(e||mI)},mI.ɵmod=l["ɵɵdefineNgModule"]({type:mI}),mI.ɵinj=l["ɵɵdefineInjector"]({imports:[[o.CommonModule,pI]]}),mI=(0,a.gn)([(0,r.CrtModule)({viewElements:[uI]})],mI),("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](mI,{declarations:[uI],imports:[o.CommonModule,pI],exports:[uI]});const hI=function(e){return{dataType:e}};let gI=class extends jx{constructor(e){super(),this._dataTimeFormatPipe=e}getTitle(e){var t;const n={dataType:null===(t=this.column)||void 0===t?void 0:t.dataValueType};return this._dataTimeFormatPipe.transform(e,n)}};gI.ɵfac=function(e){return new(e||gI)(l["ɵɵdirectiveInject"](qo))},gI.ɵcmp=l["ɵɵdefineComponent"]({type:gI,selectors:[["crt-data-table-date-time-cell"]],features:[l["ɵɵInheritDefinitionFeature"]],decls:2,vars:6,template:function(e,t){1&e&&(l["ɵɵtext"](0),l["ɵɵpipe"](1,"dateTimeFormat")),2&e&&l["ɵɵtextInterpolate1"]("",l["ɵɵpipeBind2"](1,1,t.value,l["ɵɵpureFunction1"](4,hI,null==t.column?null:t.column.dataValueType)),"\n")},pipes:[qo],styles:["[_nghost-%COMP%]{white-space:nowrap;text-overflow:ellipsis;overflow:hidden}"]}),gI=(0,a.gn)([Xs({type:"crt.TableDateTimeCell"}),(0,a.w6)("design:paramtypes",[qo])],gI);let fI=class{};fI.ɵfac=function(e){return new(e||fI)},fI.ɵmod=l["ɵɵdefineNgModule"]({type:fI}),fI.ɵinj=l["ɵɵdefineInjector"]({imports:[[o.CommonModule,Ko]]}),fI=(0,a.gn)([(0,r.CrtModule)({viewElements:[gI]})],fI),("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](fI,{declarations:[gI],imports:[o.CommonModule,Ko],exports:[gI]});const vI=function(e){return{dataType:e}};let bI=class extends jx{};bI.ɵfac=function(){let e;return function(t){return(e||(e=l["ɵɵgetInheritedFactory"](bI)))(t||bI)}}(),bI.ɵcmp=l["ɵɵdefineComponent"]({type:bI,selectors:[["crt-data-table-numeric-cell"]],features:[l["ɵɵInheritDefinitionFeature"]],decls:2,vars:6,template:function(e,t){1&e&&(l["ɵɵtext"](0),l["ɵɵpipe"](1,"numberFormat")),2&e&&l["ɵɵtextInterpolate1"]("",l["ɵɵpipeBind2"](1,1,t.value,l["ɵɵpureFunction1"](4,vI,null==t.column?null:t.column.dataValueType)),"\n")},pipes:[Jo],styles:[""]}),bI=(0,a.gn)([Xs({type:"crt.TableNumericCell"})],bI);let CI=class{};CI.ɵfac=function(e){return new(e||CI)},CI.ɵmod=l["ɵɵdefineNgModule"]({type:CI}),CI.ɵinj=l["ɵɵdefineInjector"]({imports:[[o.CommonModule,es]]}),CI=(0,a.gn)([(0,r.CrtModule)({viewElements:[bI]})],CI),("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](CI,{declarations:[bI],imports:[o.CommonModule,es],exports:[bI]});const yI=["*"];let wI=(()=>{class e{set link(e){"string"==typeof e?this._initLinkByHref(e):this._initLinkByOptions(e)}_initLinkByHref(e){this.href=e,this.mode=null,this.target=null,this._clicked=null}_initLinkByOptions(e){const{href:t,mode:n,target:i,payload:r,clicked:a}=e||{};this.href=t,this.mode=n,this.target=i,this.payload=r||this.payload,this._clicked=a}onClick(e){this._clicked&&this._clicked.next(e)}}return e.ɵfac=function(t){return new(t||e)},e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["crt-data-table-linkable-cell"]],inputs:{payload:"payload",link:"link"},ngContentSelectors:yI,decls:2,vars:4,consts:[[3,"href","mode","target","payload","clicked"]],template:function(e,t){1&e&&(l["ɵɵprojectionDef"](),l["ɵɵelementStart"](0,"crt-link",0),l["ɵɵlistener"]("clicked",(function(e){return t.onClick(e)})),l["ɵɵprojection"](1),l["ɵɵelementEnd"]()),2&e&&l["ɵɵproperty"]("href",t.href)("mode",t.mode)("target",t.target)("payload",t.payload)},directives:[hx],styles:[""]}),e})();function _I(e,t){1&e&&l["ɵɵelementContainer"](0)}function xI(e,t){if(1&e&&(l["ɵɵelementStart"](0,"crt-data-table-linkable-cell",4),l["ɵɵtemplate"](1,_I,1,0,"ng-container",5),l["ɵɵelementEnd"]()),2&e){const e=l["ɵɵnextContext"](),t=l["ɵɵreference"](4);l["ɵɵproperty"]("link",e.linkable)("payload",e.record),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngTemplateOutlet",t)}}function II(e,t){1&e&&l["ɵɵelementContainer"](0)}function SI(e,t){if(1&e&&(l["ɵɵelementStart"](0,"div"),l["ɵɵtemplate"](1,II,1,0,"ng-container",5),l["ɵɵelementEnd"]()),2&e){l["ɵɵnextContext"]();const e=l["ɵɵreference"](4);l["ɵɵadvance"](1),l["ɵɵproperty"]("ngTemplateOutlet",e)}}const MI=function(){return{mode:"textOnly"}};function DI(e,t){if(1&e&&(l["ɵɵtext"](0),l["ɵɵpipe"](1,"decodeHtml"),l["ɵɵpipe"](2,"sanitizeHtml"),l["ɵɵpipe"](3,"decodeHtml")),2&e){const e=l["ɵɵnextContext"]();l["ɵɵtextInterpolate1"](" ",l["ɵɵpipeBind1"](1,1,l["ɵɵpipeBind2"](2,3,l["ɵɵpipeBind1"](3,6,e.value),l["ɵɵpureFunction0"](8,MI))),"\n")}}let PI=class extends nI{};PI.ɵfac=function(){let e;return function(t){return(e||(e=l["ɵɵgetInheritedFactory"](PI)))(t||PI)}}(),PI.ɵcmp=l["ɵɵdefineComponent"]({type:PI,selectors:[["crt-data-table-text-cell"]],features:[l["ɵɵInheritDefinitionFeature"]],decls:5,vars:2,consts:[[3,"ngSwitch"],[3,"link","payload",4,"ngSwitchCase"],[4,"ngSwitchDefault"],["text",""],[3,"link","payload"],[4,"ngTemplateOutlet"]],template:function(e,t){1&e&&(l["ɵɵelementContainerStart"](0,0),l["ɵɵtemplate"](1,xI,2,3,"crt-data-table-linkable-cell",1),l["ɵɵtemplate"](2,SI,2,1,"div",2),l["ɵɵelementContainerEnd"](),l["ɵɵtemplate"](3,DI,4,9,"ng-template",null,3,l["ɵɵtemplateRefExtractor"])),2&e&&(l["ɵɵproperty"]("ngSwitch",!0),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngSwitchCase",t.isLinkable))},directives:[o.NgSwitch,o.NgSwitchCase,o.NgSwitchDefault,wI,o.NgTemplateOutlet],pipes:[Ti,Qo],styles:["[_nghost-%COMP%]{white-space:nowrap;text-overflow:ellipsis;overflow:hidden}"]}),PI=(0,a.gn)([Xs({type:"crt.TableTextCell"})],PI);let TI=(()=>{class e{}return e.ɵfac=function(t){return new(t||e)},e.ɵmod=l["ɵɵdefineNgModule"]({type:e}),e.ɵinj=l["ɵɵdefineInjector"]({imports:[[o.CommonModule,gx]]}),e})();("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](TI,{declarations:[wI],imports:[o.CommonModule,gx],exports:[wI]});let kI=class{};function EI(e,t){1&e&&l["ɵɵelementContainer"](0)}function NI(e,t){if(1&e&&(l["ɵɵelementContainerStart"](0),l["ɵɵelementStart"](1,"crt-data-table-linkable-cell",2),l["ɵɵtemplate"](2,EI,1,0,"ng-container",3),l["ɵɵelementEnd"](),l["ɵɵelementContainerEnd"]()),2&e){const e=l["ɵɵnextContext"](),t=l["ɵɵreference"](2);l["ɵɵadvance"](1),l["ɵɵproperty"]("link",e.linkable),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngTemplateOutlet",t)}}kI.ɵfac=function(e){return new(e||kI)},kI.ɵmod=l["ɵɵdefineNgModule"]({type:kI}),kI.ɵinj=l["ɵɵdefineInjector"]({imports:[[o.CommonModule,TI,Xo,Ei]]}),kI=(0,a.gn)([(0,r.CrtModule)({viewElements:[PI]})],kI),("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](kI,{declarations:[PI],imports:[o.CommonModule,TI,Xo,Ei],exports:[PI]});const OI=function(){return{mode:"textOnly"}};function jI(e,t){if(1&e&&(l["ɵɵtext"](0),l["ɵɵpipe"](1,"decodeHtml"),l["ɵɵpipe"](2,"sanitizeHtml"),l["ɵɵpipe"](3,"decodeHtml")),2&e){const e=l["ɵɵnextContext"]();l["ɵɵtextInterpolate1"](" ",l["ɵɵpipeBind1"](1,1,l["ɵɵpipeBind2"](2,3,l["ɵɵpipeBind1"](3,6,(null==e.value?null:e.value.displayValue)||""),l["ɵɵpureFunction0"](8,OI))),"\n")}}let AI=(()=>{class e extends nI{getTitle(e){return e.displayValue}}return e.ɵfac=function(){let t;return function(n){return(t||(t=l["ɵɵgetInheritedFactory"](e)))(n||e)}}(),e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["crt-data-table-lookup-cell"]],features:[l["ɵɵInheritDefinitionFeature"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["text",""],[3,"link"],[4,"ngTemplateOutlet"]],template:function(e,t){if(1&e&&(l["ɵɵtemplate"](0,NI,3,2,"ng-container",0),l["ɵɵtemplate"](1,jI,4,9,"ng-template",null,1,l["ɵɵtemplateRefExtractor"])),2&e){const e=l["ɵɵreference"](2);l["ɵɵproperty"]("ngIf",t.isLinkable)("ngIfElse",e)}},directives:[o.NgIf,wI,o.NgTemplateOutlet],pipes:[Ti,Qo],styles:[""]}),e})(),RI=(()=>{class e{}return e.ɵfac=function(t){return new(t||e)},e.ɵmod=l["ɵɵdefineNgModule"]({type:e}),e.ɵinj=l["ɵɵdefineInjector"]({imports:[[o.CommonModule,TI,Xo,Ei]]}),e})();("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](RI,{declarations:[AI],imports:[o.CommonModule,TI,Xo,Ei],exports:[AI]});var FI=n(12247);function VI(e,t){const n=Boolean(null==e?void 0:e.sticky);return n===Boolean(null==t?void 0:t.sticky)?0:n?-1:1}let LI=(()=>{class e{constructor(e){this._horizontalResizingService=e}_toColumnViewDefinition(e,t){const{width:n,hidden:i,sticky:r}=t;return Object.assign(Object.assign({},t),{id:e,width:this._horizontalResizingService.getAdjustedWidth(n),hidden:!0===i,sticky:{active:Boolean(r),enabled:Boolean(r)}})}toColumnsDefinitionMap(e){const t=new Map;return e.forEach((e=>{var n;const i=null!==(n=e.id)&&void 0!==n?n:(0,r.generateGuid)(),a=(0,so.Z)(e);t.set(i,a)})),t}toColumnViewDefinitions(e){return Array.from(e.entries()).map((([e,t])=>this._toColumnViewDefinition(e,t)))}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](_y))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})();var zI=n(44136);let BI=(()=>{class e{constructor(e){this._isRtl="rtl"===e.value}_getReverseIndex(e,t){return t-1-e}changeColumnPosition(e,t,n){const i=[...e];return this._isRtl&&(n=this._getReverseIndex(n,e.length),t=this._getReverseIndex(t,e.length)),(0,Yp.bA)(i,t,n),i}canChangeColumnPosition(e,t,n){this._isRtl&&(n=this._getReverseIndex(n,t.length));const i=e.sticky.enabled,r=(0,zI.Z)(t,(({sticky:e})=>e.enabled));return i?n<=r:n>r}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](en.Is))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})();var GI=n(19793);let HI=(()=>{class e extends __{constructor(e,t,n){super(e,"",t,n),this.elementRef=t,this.changeDetectorRef=n,this._touched$=new h.Subject,this.id=(0,r.generateGuid)(),this.readonly=!1,this.autofocus=!1,this.autocomplete="off"}set value(e){var t;null===(t=this.control)||void 0===t||t.setValue(e)}get errorMessages(){var e;const t=null===(e=this.control)||void 0===e?void 0:e.errors;return t?Object.values(t).map((e=>e.message)).join("\n"):""}ngOnInit(){this._touched$.pipe((0,f.h)(Boolean),(0,En.b)((()=>this.changeDetectorRef.detectChanges())),(0,Tn.q)(1),(0,b.R)(this._componentDestroyed$)).subscribe()}ngDoCheck(){this._touched$.next(this.control.touched)}getTooltip(e){if(e)return new mn({tooltipConfig:{value:e},componentType:rn})}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](l.Injector),l["ɵɵdirectiveInject"](l.ElementRef),l["ɵɵdirectiveInject"](l.ChangeDetectorRef))},e.ɵdir=l["ɵɵdefineDirective"]({type:e,inputs:{id:"id",value:"value",readonly:"readonly",autofocus:"autofocus",autocomplete:"autocomplete",tooltip:"tooltip"},features:[l["ɵɵInheritDefinitionFeature"]]}),e})();const UI=["autosize"],ZI=["textinput"];function $I(e,t){if(1&e&&l["ɵɵelement"](0,"crt-skeleton-loader",2),2&e){const e=l["ɵɵnextContext"]();l["ɵɵproperty"]("styles",e.skeletonStyles)}}function WI(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵelementStart"](0,"input",13,14),l["ɵɵlistener"]("blur",(function(){l["ɵɵrestoreView"](e);return l["ɵɵnextContext"](2).onBlur()}))("keyup",(function(t){l["ɵɵrestoreView"](e);return l["ɵɵnextContext"](2).onKeyUp(t)})),l["ɵɵelementEnd"]()}if(2&e){const e=l["ɵɵnextContext"](2);l["ɵɵproperty"]("id",e.id)("formControl",e.control)("value",null==e.control?null:e.control.value)("readonly",e.readonly)("autocomplete",e.autocomplete)("placeholder",e.placeholder)("crtAriaRequired",e.required),l["ɵɵattribute"]("aria-label",e.ariaLabel||e.label)}}function qI(e,t){if(1&e&&l["ɵɵelement"](0,"textarea",15,16),2&e){const e=l["ɵɵnextContext"](2);l["ɵɵproperty"]("id",e.id)("formControl",e.control)("value",null==e.control?null:e.control.value)("readonly",e.readonly)("crtAriaRequired",e.required)("placeholder",e.placeholder)}}function YI(e,t){1&e&&(l["ɵɵelement"](0,"mat-icon",17),l["ɵɵpipe"](1,"translate")),2&e&&l["ɵɵproperty"]("matTooltip",l["ɵɵpipeBind1"](1,1,"Input.Readonly"))}function JI(e,t){if(1&e&&(l["ɵɵelementContainerStart"](0),l["ɵɵelementStart"](1,"span",18),l["ɵɵtext"](2),l["ɵɵelementEnd"](),l["ɵɵelement"](3,"mat-icon",19),l["ɵɵelementContainerEnd"]()),2&e){const e=l["ɵɵnextContext"](2);l["ɵɵadvance"](2),l["ɵɵtextInterpolate"](e.errorMessages),l["ɵɵadvance"](1),l["ɵɵproperty"]("tooltipConfig",e.getTooltip(e.errorMessages))}}function QI(e,t){if(1&e&&l["ɵɵelement"](0,"mat-icon",21),2&e){const e=l["ɵɵnextContext"](3);l["ɵɵproperty"]("tooltipConfig",e.getTooltip(e.tooltip))}}function KI(e,t){if(1&e&&l["ɵɵtemplate"](0,QI,1,1,"mat-icon",20),2&e){const e=l["ɵɵnextContext"](2);l["ɵɵproperty"]("ngIf",e.tooltip)}}const XI=function(e){return{"crt-input-required":e}};function eS(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵelementStart"](0,"div",3),l["ɵɵlistener"]("resized",(function(t){l["ɵɵrestoreView"](e);return l["ɵɵnextContext"]().onResized(t)})),l["ɵɵelementStart"](1,"div",4),l["ɵɵelementStart"](2,"label",5),l["ɵɵtext"](3),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵelementStart"](4,"mat-form-field",6),l["ɵɵelementStart"](5,"div",7),l["ɵɵtemplate"](6,WI,2,8,"input",8),l["ɵɵtemplate"](7,qI,3,6,"textarea",9),l["ɵɵtemplate"](8,YI,2,3,"mat-icon",10),l["ɵɵtemplate"](9,JI,4,2,"ng-container",11),l["ɵɵtemplate"](10,KI,1,1,"ng-template",null,12,l["ɵɵtemplateRefExtractor"]),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵelementEnd"]()}if(2&e){const e=l["ɵɵreference"](11),t=l["ɵɵnextContext"]();l["ɵɵproperty"]("ngClass","label-position-"+t.displayLabelPosition+" appearance-"+t.appearance)("crtResizableDisabled",!t.isAutoLabelPosition),l["ɵɵadvance"](2),l["ɵɵproperty"]("ngClass",l["ɵɵpureFunction1"](14,XI,t.isShownRequiredMark))("for",t.id),l["ɵɵadvance"](1),l["ɵɵtextInterpolate"](t.label),l["ɵɵadvance"](1),l["ɵɵclassProp"]("crt-input-control-container--invalid",t.invalid),l["ɵɵproperty"]("appearance",t.appearance)("ngClass","label-position-"+t.displayLabelPosition),l["ɵɵadvance"](2),l["ɵɵproperty"]("ngIf",!t.multiline),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",t.multiline),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",t.readonly),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",t.invalid)("ngIfElse",e)}}let tS=class extends HI{constructor(e,t,n){super(e,t,n),this._multiline=!1,this.inputType="text"}set multiline(e){var t;this._multiline=e,this._multiline&&(null===(t=this._autosize)||void 0===t||t.resizeToFitContent(!0))}get multiline(){return this._multiline}set autosize(e){var t;this._autosize=e,this._multiline&&(null===(t=this._autosize)||void 0===t||t.resizeToFitContent(!0))}get isShownRequiredMark(){return this.required&&"outline"!==this.appearance}onBlur(){this.blurred.emit()}onFocus(){this.focused.emit()}onKeyUp(e){this.keyUp.next(e)}ngAfterViewInit(){super.ngAfterViewInit(),this.autofocus&&this.focus()}select(){this.textInput.nativeElement.select()}focus(){this.textInput.nativeElement.focus()}};tS.ɵfac=function(e){return new(e||tS)(l["ɵɵdirectiveInject"](l.Injector),l["ɵɵdirectiveInject"](l.ElementRef),l["ɵɵdirectiveInject"](l.ChangeDetectorRef))},tS.ɵcmp=l["ɵɵdefineComponent"]({type:tS,selectors:[["crt-input"]],viewQuery:function(e,t){if(1&e&&(l["ɵɵviewQuery"](UI,5),l["ɵɵviewQuery"](ZI,5)),2&e){let e;l["ɵɵqueryRefresh"](e=l["ɵɵloadQuery"]())&&(t.autosize=e.first),l["ɵɵqueryRefresh"](e=l["ɵɵloadQuery"]())&&(t.textInput=e.first)}},inputs:{multiline:"multiline",inputType:"inputType"},features:[l["ɵɵInheritDefinitionFeature"]],decls:3,vars:2,consts:[[3,"styles",4,"ngIf","ngIfElse"],["input",""],[3,"styles"],["crtResizable","",1,"crt-input",3,"ngClass","crtResizableDisabled","resized"],[1,"crt-input-label-container"],[1,"crt-input-label",3,"ngClass","for"],["floatLabel","never",1,"crt-input-control-container",3,"appearance","ngClass"],[1,"crt-input-control"],["matInput","",3,"id","formControl","value","readonly","autocomplete","placeholder","crtAriaRequired","blur","keyup",4,"ngIf"],["class","multiline-input","cdkTextareaAutosize","","matInput","",3,"id","formControl","value","readonly","crtAriaRequired","placeholder",4,"ngIf"],["matSuffix","","svgIcon","lock",3,"matTooltip",4,"ngIf"],[4,"ngIf","ngIfElse"],["tooltipIcon",""],["matInput","",3,"id","formControl","value","readonly","autocomplete","placeholder","crtAriaRequired","blur","keyup"],["textinput",""],["cdkTextareaAutosize","","matInput","",1,"multiline-input",3,"id","formControl","value","readonly","crtAriaRequired","placeholder"],["textarea","","autosize","cdkTextareaAutosize"],["matSuffix","","svgIcon","lock",3,"matTooltip"],[1,"cdk-visually-hidden"],["matSuffix","","svgIcon","error-icon","matTooltipPosition","after","matTooltipClass","crt-input-error-tooltip","crtTooltip","",3,"tooltipConfig"],["crtTooltip","","matSuffix","","svgIcon","tooltip-icon",3,"tooltipConfig",4,"ngIf"],["crtTooltip","","matSuffix","","svgIcon","tooltip-icon",3,"tooltipConfig"]],template:function(e,t){if(1&e&&(l["ɵɵtemplate"](0,$I,1,1,"crt-skeleton-loader",0),l["ɵɵtemplate"](1,eS,12,16,"ng-template",null,1,l["ɵɵtemplateRefExtractor"])),2&e){const e=l["ɵɵreference"](2);l["ɵɵproperty"]("ngIf",t.loading)("ngIfElse",e)}},directives:[o.NgIf,di,An,o.NgClass,x.KE,j.Nt,c.Fj,c.JJ,c.oH,zg,C.IC,St.Hw,x.R9,Dt.gM,un],pipes:[u.X$],styles:["[_nghost-%COMP%]   .crt-input[_ngcontent-%COMP%]{overflow:hidden;padding-bottom:1px}[_nghost-%COMP%]   .crt-input.label-position-left[_ngcontent-%COMP%]{min-height:32px;flex-direction:row;padding-top:8px}[_nghost-%COMP%]   .crt-input.label-position-left[_ngcontent-%COMP%]   .crt-input-control-container[_ngcontent-%COMP%]{align-self:flex-end}[_nghost-%COMP%]   .crt-input.label-position-left[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]{margin-right:10px;display:flex;align-items:flex-start;width:136px;min-width:136px}[_nghost-%COMP%]   .crt-input.label-position-left[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]   .crt-input-label[_ngcontent-%COMP%]{text-align:right;width:100%;margin:9px 0 4px;overflow:hidden;display:-webkit-box;line-height:18px;-webkit-line-clamp:2;-webkit-box-orient:vertical}[_nghost-%COMP%]   .crt-input.label-position-above[_ngcontent-%COMP%]{min-height:52px;flex-direction:column;padding-top:0}[_nghost-%COMP%]   .crt-input.label-position-above[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]{display:flex}[_nghost-%COMP%]   .crt-input.label-position-above[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]   .crt-input-label[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-top:8px}[_nghost-%COMP%]   .crt-input.label-position-above.appearance-outline[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]{margin-bottom:8px}[_nghost-%COMP%]   .crt-input.label-position-hidden[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]   .crt-input-label[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   .crt-input[_ngcontent-%COMP%], [_nghost-%COMP%]   .crt-input[_ngcontent-%COMP%]   .crt-input-control[_ngcontent-%COMP%]{display:flex}[dir=rtl][_nghost-%COMP%]   .crt-input.label-position-left[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]{margin-right:0;margin-left:10px}[dir=rtl][_nghost-%COMP%]   .crt-input.label-position-left[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]   .crt-input-label[_ngcontent-%COMP%]{text-align:left}",".password-icon[_ngcontent-%COMP%]:hover{cursor:pointer}"],changeDetection:0}),tS=(0,a.gn)([Xs({type:"crt.Input",formControlConfig:{relatesTo:"control"}}),Ks({type:"crt.Input",toolbarConfig:[{name:"base-text-input",groupType:Mu.Inputs,position:20,caption:"Components.Input.Caption",icon:n(65834),defaultPropertyValues:{label:"",control:"",placeholder:"",tooltip:"",readonly:!1,multiline:!1,labelPosition:"auto"},defaultLocalizableStrings:{label:"Components.Input.Caption"}}],dataValueTypes:[r.DataValueType.Text,r.DataValueType.SHORT_TEXT,r.DataValueType.MEDIUM_TEXT,r.DataValueType.MAXSIZE_TEXT,r.DataValueType.LONG_TEXT],interfaceDesignerPropertiesPanelSchemaName:"InterfaceDesignerInputPropertiesPanel",propertiesPanelComponentTypeName:"crt.TextInputPropertiesPanelComponent"}),(0,a.w6)("design:paramtypes",[l.Injector,l.ElementRef,l.ChangeDetectorRef])],tS);var nS=n(73985);const iS=["dataTableContainer"];function rS(e,t){1&e&&(l["ɵɵelementContainerStart"](0),l["ɵɵelement"](1,"crt-placeholder",4),l["ɵɵelementContainerEnd"]())}function aS(e,t){if(1&e&&l["ɵɵelement"](0,"th",23),2&e){const e=l["ɵɵnextContext"](2);l["ɵɵclassProp"]("crt-toolbar-cell-custom",e.rowToolbarDirective)("crt-toolbar-cell-numeration",null==e.rowsFeatures?null:e.rowsFeatures.numeration)}}function oS(e,t){1&e&&l["ɵɵelementContainer"](0)}const sS=function(e){return{$implicit:e}};function lS(e,t){if(1&e&&(l["ɵɵelementContainerStart"](0),l["ɵɵtemplate"](1,oS,1,0,"ng-container",27),l["ɵɵpipe"](2,"async"),l["ɵɵelementContainerEnd"]()),2&e){l["ɵɵnextContext"]();const e=l["ɵɵreference"](1),t=l["ɵɵnextContext"](2);l["ɵɵadvance"](1),l["ɵɵproperty"]("ngTemplateOutlet",t.rowToolbarDirective.templateRef)("ngTemplateOutletContext",l["ɵɵpureFunction1"](4,sS,l["ɵɵpipeBind1"](2,2,e.context$)))}}function cS(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵelementStart"](0,"crt-checkbox",30),l["ɵɵlistener"]("valueChange",(function(){l["ɵɵrestoreView"](e),l["ɵɵnextContext"](2);const t=l["ɵɵreference"](1);return l["ɵɵnextContext"](2).onSelectRow(t.rowId$)}))("click",(function(e){return e.stopPropagation()})),l["ɵɵpipe"](1,"async"),l["ɵɵelementEnd"]()}if(2&e){l["ɵɵnextContext"](2);const e=l["ɵɵreference"](1),t=l["ɵɵnextContext"](2);l["ɵɵproperty"]("value",t.isSelectedRow(l["ɵɵpipeBind1"](1,1,e.rowId$)))}}function dS(e,t){if(1&e&&(l["ɵɵelementContainerStart"](0),l["ɵɵtemplate"](1,cS,2,3,"crt-checkbox",28),l["ɵɵelementStart"](2,"div",29),l["ɵɵtext"](3),l["ɵɵelementEnd"](),l["ɵɵelementContainerEnd"]()),2&e){const e=l["ɵɵnextContext"]().index,t=l["ɵɵnextContext"](2);l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",null==t.rowsFeatures?null:t.rowsFeatures.selectionCheckbox),l["ɵɵadvance"](2),l["ɵɵtextInterpolate"](e+1)}}function uS(e,t){if(1&e&&(l["ɵɵelementStart"](0,"td",24,25),l["ɵɵelementStart"](2,"div",26),l["ɵɵtemplate"](3,lS,3,6,"ng-container",17),l["ɵɵtemplate"](4,dS,4,2,"ng-container",17),l["ɵɵelementEnd"](),l["ɵɵelementEnd"]()),2&e){const e=t.$implicit,n=l["ɵɵnextContext"](2);l["ɵɵclassProp"]("crt-toolbar-cell-custom",n.rowToolbarDirective)("crt-toolbar-cell-numeration",null==n.rowsFeatures?null:n.rowsFeatures.numeration)("crt-toolbar-cell-with-checkbox",null==n.rowsFeatures?null:n.rowsFeatures.selectionCheckbox),l["ɵɵproperty"]("crtDataTableRowContext",e)("primaryColumnName",n.primaryColumnName),l["ɵɵadvance"](3),l["ɵɵproperty"]("ngIf",n.rowToolbarDirective),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",null==n.rowsFeatures?null:n.rowsFeatures.numeration)}}function pS(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵelementStart"](0,"crt-input",39),l["ɵɵlistener"]("blurred",(function(){l["ɵɵrestoreView"](e);const t=l["ɵɵnextContext"](3).$implicit;return l["ɵɵnextContext"](2).onColumnCaptionChanged(t.id)})),l["ɵɵelementEnd"]()}if(2&e){const e=l["ɵɵnextContext"](5);l["ɵɵproperty"]("autofocus",!0)("control",e.renameColumnControl)}}function mS(e,t){if(1&e&&(l["ɵɵelementStart"](0,"div",47),l["ɵɵpipe"](1,"translate"),l["ɵɵelement"](2,"mat-icon",48),l["ɵɵelementEnd"]()),2&e){const e=l["ɵɵnextContext"](4).$implicit,t=l["ɵɵnextContext"](2);let n;l["ɵɵclassProp"]("crt-data-table-sort-indicator-active",t.getColumnSorting(e.code)),l["ɵɵproperty"]("title",l["ɵɵpipeBind1"](1,4,"DataTable.Hints.Sort")),l["ɵɵattribute"]("aria-sort",t.ariaSortDirection[null==(n=t.getColumnSorting(e.code))?null:n.direction])}}function hS(e,t){if(1&e&&(l["ɵɵelement"](0,"mat-icon",49),l["ɵɵpipe"](1,"translate")),2&e){const e=l["ɵɵnextContext"](4).$implicit;l["ɵɵclassProp"]("crt-data-table-pin-indicator-deactivated",!e.sticky.active),l["ɵɵproperty"]("title",l["ɵɵpipeBind1"](1,3,e.sticky.active?"DataTable.ColumnSticky":"DataTable.ColumnStickyDeactivated"))}}function gS(e,t){1&e&&l["ɵɵelementContainer"](0)}function fS(e,t){if(1&e&&(l["ɵɵelementStart"](0,"div",50),l["ɵɵelement"](1,"div",51),l["ɵɵelementEnd"]()),2&e){const e=l["ɵɵnextContext"](6);l["ɵɵproperty"]("resizeEdges",e.columnResizeEdges)}}function vS(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵelementStart"](0,"span",40),l["ɵɵlistener"]("click",(function(){l["ɵɵrestoreView"](e);const t=l["ɵɵnextContext"](3).$implicit;return l["ɵɵnextContext"](2).onColumnSortChanged(t.code)})),l["ɵɵelementStart"](1,"span",41),l["ɵɵlistener"]("dblclick",(function(){l["ɵɵrestoreView"](e);const t=l["ɵɵnextContext"](3).$implicit;return l["ɵɵnextContext"](2).startRenaming(t)})),l["ɵɵtext"](2),l["ɵɵelementEnd"](),l["ɵɵelementStart"](3,"button",42),l["ɵɵlistener"]("focus",(function(){l["ɵɵrestoreView"](e);const t=l["ɵɵnextContext"](3).$implicit;return l["ɵɵnextContext"](2).setActiveColumn(t.id)}))("blur",(function(){l["ɵɵrestoreView"](e);return l["ɵɵnextContext"](5).setActiveColumn(null)})),l["ɵɵtemplate"](4,mS,3,6,"div",43),l["ɵɵelementEnd"](),l["ɵɵtemplate"](5,hS,2,5,"mat-icon",44),l["ɵɵelementEnd"](),l["ɵɵtemplate"](6,gS,1,0,"ng-container",27),l["ɵɵelementStart"](7,"div",45),l["ɵɵtemplate"](8,fS,2,1,"div",46),l["ɵɵelementEnd"]()}if(2&e){const e=l["ɵɵnextContext"](3).$implicit,t=l["ɵɵnextContext"](2);l["ɵɵadvance"](1),l["ɵɵproperty"]("title",e.caption),l["ɵɵadvance"](1),l["ɵɵtextInterpolate1"](" ",e.caption," "),l["ɵɵadvance"](2),l["ɵɵproperty"]("ngIf",t.columnsFeatures.sorting),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",e.sticky.enabled),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngTemplateOutlet",t.columnToolbarTemplate)("ngTemplateOutletContext",l["ɵɵpureFunction1"](7,sS,t.getColumnDefinition(e.id))),l["ɵɵadvance"](2),l["ɵɵproperty"]("ngIf",t.columnsFeatures.resizing)}}function bS(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵelementStart"](0,"th",35),l["ɵɵlistener"]("focus",(function(){l["ɵɵrestoreView"](e);const t=l["ɵɵnextContext"](2).$implicit;return l["ɵɵnextContext"](2).setActiveColumn(t.id)}))("blur",(function(){l["ɵɵrestoreView"](e);return l["ɵɵnextContext"](4).setActiveColumn(null)}))("mouseleave",(function(){l["ɵɵrestoreView"](e);return l["ɵɵnextContext"](4).setActiveColumn(null)}))("resizing",(function(t){l["ɵɵrestoreView"](e);const n=l["ɵɵnextContext"](2).$implicit;return l["ɵɵnextContext"](2).onColumnResizing(t,n)}))("resizeEnd",(function(){l["ɵɵrestoreView"](e);const t=l["ɵɵnextContext"](2).$implicit;return l["ɵɵnextContext"](2).onColumnResizeEnd(t)}))("mousedown",(function(e){return e.stopPropagation()}))("cdkDragStarted",(function(){l["ɵɵrestoreView"](e);const t=l["ɵɵnextContext"](2).$implicit,n=l["ɵɵnextContext"](2);return t.sticky.active&&n.resetHorizontalScrollPosition()})),l["ɵɵelementStart"](1,"div",36),l["ɵɵtemplate"](2,pS,1,2,"crt-input",37),l["ɵɵtemplate"](3,vS,9,9,"ng-template",null,38,l["ɵɵtemplateRefExtractor"]),l["ɵɵelementEnd"](),l["ɵɵelementEnd"]()}if(2&e){const e=l["ɵɵreference"](4),t=l["ɵɵnextContext"](2).$implicit,n=l["ɵɵnextContext"](2),i=l["ɵɵreference"](1);l["ɵɵstyleProp"]("width",t.width,"px"),l["ɵɵclassProp"]("crt-data-table-header-last-sticky-cell",n.lastStickyColumnId===t.id),l["ɵɵproperty"]("ngClass","cdk-column-"+t.code)("resizeCursors",n.columnResizeCursors)("cdkDragData",t)("cdkDragPreviewContainer",i)("cdkDragDisabled",!n.columnsFeatures.dragAndDrop)("cdkDragBoundary",n.headerRowElementRef),l["ɵɵattribute"]("data-item-marker",t.caption+" column"),l["ɵɵadvance"](1),l["ɵɵclassProp"]("crt-header-cell-active",t.id===n.activeColumnId)("crt-header-cell-renamed",t.id===n.renamingColumnId),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",t.id===n.renamingColumnId)("ngIfElse",e)}}function CS(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵelementStart"](0,"mat-icon",58),l["ɵɵlistener"]("click",(function(){l["ɵɵrestoreView"](e);const t=l["ɵɵnextContext"](2).$implicit;return l["ɵɵnextContext"](4).onNodeExpandClick(t)})),l["ɵɵelementEnd"]()}if(2&e){const e=l["ɵɵnextContext"](2).$implicit,t=l["ɵɵnextContext"](4);l["ɵɵproperty"]("svgIcon",t.getTreeIcon(e))}}function yS(e,t){if(1&e&&(l["ɵɵelementStart"](0,"div",56),l["ɵɵtemplate"](1,CS,1,1,"mat-icon",57),l["ɵɵelementEnd"]()),2&e){const e=l["ɵɵnextContext"]().$implicit,t=l["ɵɵnextContext"](4);l["ɵɵstyleProp"]("min-width",t.getNodePrefixWidth(e),"px"),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",t.hasNodeChildren(e))}}function wS(e,t){if(1&e&&l["ɵɵelementContainer"](0,62),2&e){const e=l["ɵɵnextContext"](2).$implicit,t=l["ɵɵnextContext"](2).$implicit;l["ɵɵproperty"]("crtViewElement",null==t?null:t.cellView)("crtViewModel",e)}}function _S(e,t){if(1&e&&(l["ɵɵelementStart"](0,"div",64),l["ɵɵtext"](1),l["ɵɵpipe"](2,"async"),l["ɵɵelementEnd"]()),2&e){const e=t.$implicit;l["ɵɵproperty"]("title",e),l["ɵɵadvance"](1),l["ɵɵtextInterpolate1"](" ",l["ɵɵpipeBind1"](2,2,e)," ")}}function xS(e,t){if(1&e&&l["ɵɵtemplate"](0,_S,3,4,"div",63),2&e){const e=l["ɵɵnextContext"](2).$implicit,t=l["ɵɵnextContext"](2).$implicit;l["ɵɵproperty"]("crtDataTableCellViewData",e)("crtDataTableCellViewColumn",t)}}function IS(e,t){if(1&e&&(l["ɵɵelementContainerStart"](0),l["ɵɵtemplate"](1,wS,1,2,"ng-container",59),l["ɵɵtemplate"](2,xS,1,2,"ng-template",60,61,l["ɵɵtemplateRefExtractor"]),l["ɵɵelementContainerEnd"]()),2&e){const e=l["ɵɵreference"](3),t=l["ɵɵnextContext"](3).$implicit,n=l["ɵɵnextContext"](2);l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",n.isBaseViewModelCollection&&(null==t?null:t.cellView))("ngIfElse",e)}}function SS(e,t){1&e&&(l["ɵɵelementStart"](0,"span",65),l["ɵɵtext"](1),l["ɵɵpipe"](2,"translate"),l["ɵɵelementEnd"]()),2&e&&(l["ɵɵadvance"](1),l["ɵɵtextInterpolate"](l["ɵɵpipeBind1"](2,1,"DataTable.NotFoundColumn")))}function MS(e,t){if(1&e&&(l["ɵɵelementStart"](0,"td",52),l["ɵɵelementStart"](1,"div",53),l["ɵɵtemplate"](2,yS,2,3,"div",54),l["ɵɵtemplate"](3,IS,4,2,"ng-container",2),l["ɵɵtemplate"](4,SS,3,3,"ng-template",null,55,l["ɵɵtemplateRefExtractor"]),l["ɵɵelementEnd"](),l["ɵɵelementEnd"]()),2&e){const e=t.$implicit,n=l["ɵɵreference"](5),i=l["ɵɵnextContext"](2),r=i.$implicit,a=i.index,o=l["ɵɵnextContext"](2);l["ɵɵstyleProp"]("width",r.width,"px"),l["ɵɵproperty"]("ngClass","cdk-column-"+r.code),l["ɵɵattribute"]("column-id",r.id),l["ɵɵadvance"](2),l["ɵɵproperty"]("ngIf",o.rowsFeatures.hierarchical&&0===a),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",e.hasOwnProperty(r.code))("ngIfElse",n)}}function DS(e,t){if(1&e&&(l["ɵɵelementContainerStart"](0,32),l["ɵɵtemplate"](1,bS,5,17,"th",33),l["ɵɵtemplate"](2,MS,6,7,"td",34),l["ɵɵelementContainerEnd"]()),2&e){const e=l["ɵɵnextContext"]().$implicit;l["ɵɵproperty"]("sticky",e.sticky.active)("matColumnDef",e.id)}}function PS(e,t){if(1&e&&(l["ɵɵelementContainerStart"](0),l["ɵɵtemplate"](1,DS,3,2,"ng-container",31),l["ɵɵelementContainerEnd"]()),2&e){const e=t.$implicit;l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",e)}}function TS(e,t){1&e&&l["ɵɵelement"](0,"th",66),2&e&&l["ɵɵstyleProp"]("width","auto")}function kS(e,t){1&e&&l["ɵɵelement"](0,"td",67),2&e&&l["ɵɵstyleProp"]("width","auto")}function ES(e,t){1&e&&l["ɵɵelementContainer"](0)}function NS(e,t){if(1&e&&(l["ɵɵelementStart"](0,"th",68),l["ɵɵtemplate"](1,ES,1,0,"ng-container",69),l["ɵɵelementEnd"]()),2&e){const e=l["ɵɵnextContext"](2);l["ɵɵstyleProp"]("width",null==e.header||null==e.header.toolbar?null:e.header.toolbar.width,"px"),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngTemplateOutlet",e.headerToolbarTemplate)}}function OS(e,t){if(1&e&&l["ɵɵelement"](0,"td",70),2&e){const e=l["ɵɵnextContext"](2);l["ɵɵstyleProp"]("width",null==e.header||null==e.header.toolbar?null:e.header.toolbar.width,"px")}}function jS(e,t){1&e&&l["ɵɵelement"](0,"mat-progress-bar",73)}function AS(e,t){if(1&e&&(l["ɵɵelementStart"](0,"td",71),l["ɵɵtemplate"](1,jS,1,0,"mat-progress-bar",72),l["ɵɵelementEnd"]()),2&e){const e=l["ɵɵnextContext"](2);l["ɵɵattribute"]("colspan",e.displayedColumnIds.length),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",e.loading)}}function RS(e,t){1&e&&l["ɵɵelement"](0,"tr",75)}function FS(e,t){if(1&e&&(l["ɵɵelementStart"](0,"div"),l["ɵɵtemplate"](1,RS,1,0,"tr",74),l["ɵɵelementEnd"]()),2&e){const e=l["ɵɵnextContext"](2);l["ɵɵadvance"](1),l["ɵɵproperty"]("matHeaderRowDef",e.displayedColumnIds)("matHeaderRowDefSticky",null==e.header?null:e.header.sticky)}}function VS(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵelementStart"](0,"tr",76,77),l["ɵɵlistener"]("rowDoubleClick",(function(t){l["ɵɵrestoreView"](e);return l["ɵɵnextContext"](2).rowDoubleClick.emit(t)}))("click",(function(){l["ɵɵrestoreView"](e);const t=l["ɵɵreference"](1);return l["ɵɵnextContext"](2).onSelectRow(t.rowId$)})),l["ɵɵpipe"](2,"async"),l["ɵɵelementEnd"]()}if(2&e){const e=t.$implicit,n=l["ɵɵreference"](1),i=l["ɵɵnextContext"](2);l["ɵɵproperty"]("crtDataTableRowContext",e)("primaryColumnName",i.primaryColumnName)("crtDataTableRow",l["ɵɵpipeBind1"](2,5,n.context$))("activeRowId",i.activeRowId)("selectedRows",i.rowsSelection)}}function LS(e,t){if(1&e&&(l["ɵɵelementStart"](0,"tr",78),l["ɵɵelementStart"](1,"td",79),l["ɵɵtext"](2),l["ɵɵpipe"](3,"translate"),l["ɵɵelementEnd"](),l["ɵɵelementEnd"]()),2&e){const e=l["ɵɵnextContext"](2);l["ɵɵadvance"](1),l["ɵɵattribute"]("colspan",e.displayedColumnIds.length),l["ɵɵadvance"](1),l["ɵɵtextInterpolate1"](" ",l["ɵɵpipeBind1"](3,2,e.hasColumns?"DataTable.NoData":"DataTable.NoColumns")," ")}}function zS(e,t){1&e&&l["ɵɵelement"](0,"tr",80)}function BS(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵelementStart"](0,"div",81),l["ɵɵlistener"]("elementStateChange",(function(t){l["ɵɵrestoreView"](e);return l["ɵɵnextContext"](2).onLastTableRowInViewportStateChange(t)})),l["ɵɵelementEnd"]()}}function GS(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵelementStart"](0,"table",5),l["ɵɵlistener"]("cdkDropListDropped",(function(t){l["ɵɵrestoreView"](e);return l["ɵɵnextContext"]().onColumnDropped(t)}))("cdkDropListSorted",(function(t){l["ɵɵrestoreView"](e);return l["ɵɵnextContext"]().onColumnDragSorted(t)}))("crtKeyboardHotkeyPressed",(function(t){l["ɵɵrestoreView"](e);return l["ɵɵnextContext"]().onKeyboardAction(t)})),l["ɵɵpipe"](1,"async"),l["ɵɵelementContainerStart"](2,6),l["ɵɵtemplate"](3,aS,1,4,"th",7),l["ɵɵtemplate"](4,uS,5,10,"td",8),l["ɵɵelementContainerEnd"](),l["ɵɵtemplate"](5,PS,2,1,"ng-container",9),l["ɵɵelementContainerStart"](6,10),l["ɵɵtemplate"](7,TS,1,2,"th",11),l["ɵɵtemplate"](8,kS,1,2,"td",12),l["ɵɵelementContainerEnd"](),l["ɵɵelementContainerStart"](9,13),l["ɵɵtemplate"](10,NS,2,3,"th",14),l["ɵɵtemplate"](11,OS,1,2,"td",15),l["ɵɵelementContainerEnd"](),l["ɵɵelementContainerStart"](12,10),l["ɵɵtemplate"](13,AS,2,2,"td",16),l["ɵɵelementContainerEnd"](),l["ɵɵtemplate"](14,FS,2,2,"div",17),l["ɵɵtemplate"](15,VS,3,7,"tr",18),l["ɵɵtemplate"](16,LS,4,4,"tr",19),l["ɵɵtemplate"](17,zS,1,0,"tr",20),l["ɵɵelementEnd"](),l["ɵɵelementStart"](18,"div",21),l["ɵɵtemplate"](19,BS,1,0,"div",22),l["ɵɵpipe"](20,"async"),l["ɵɵelementEnd"]()}if(2&e){const e=l["ɵɵnextContext"]();let t;l["ɵɵproperty"]("dataSource",e.matTableItems)("dir",e.documentDirection)("cdkDropListSortPredicate",e.getColumnDropSortPredicate())("crtKeyboardHotkeys",l["ɵɵpipeBind1"](1,17,e.keyboardHotkeys$)),l["ɵɵattribute"]("aria-label",e.ariaLabel),l["ɵɵadvance"](2),l["ɵɵproperty"]("matColumnDef",e.rowToolbarColumnId)("sticky",!e.rowToolbarDirective||"before"===e.rowToolbarDirective.position)("stickyEnd","after"===(null==e.rowToolbarDirective?null:e.rowToolbarDirective.position)),l["ɵɵadvance"](3),l["ɵɵproperty"]("ngForOf",e.displayedColumns)("ngForTrackBy",e.trackByIndex),l["ɵɵadvance"](1),l["ɵɵproperty"]("matColumnDef",e.autoResizedColumnId),l["ɵɵadvance"](3),l["ɵɵproperty"]("matColumnDef",e.headerToolbarColumnId),l["ɵɵadvance"](3),l["ɵɵproperty"]("matColumnDef",e.loaderColumnId),l["ɵɵadvance"](2),l["ɵɵproperty"]("ngIf",!e.rowsFeatures.hierarchical),l["ɵɵadvance"](1),l["ɵɵproperty"]("matRowDefColumns",e.displayedColumnIds),l["ɵɵadvance"](2),l["ɵɵproperty"]("matFooterRowDef",e.footerDisplayedColumnIds),l["ɵɵadvance"](2),l["ɵɵproperty"]("ngIf",(null==(t=l["ɵɵpipeBind1"](20,19,e.matTableItems))?null:t.length)&&!e.loading)}}let HS=(()=>{class e extends Us{constructor(e,t,n,i,r,a,o){super(e),this._columnDefinitionConverter=t,this._columnsPositionChangeService=n,this._horizontalResizingService=i,this._copyClipboardService=r,this.keyboardHotkeys$=a,this._zone=o,this._destroyed$=new h.Subject,this._defaultPrimaryColumnName="Id",this._directionSwitchMap={asc:"desc",desc:"none",none:"asc"},this._gutterWidth=24,this._gutterPaddingLeft=8,this._hiddenColumns=[],this._primaryColumnName=this._defaultPrimaryColumnName,this._matTableItems=new h.BehaviorSubject([]),this._subscriptions=new h.Subscription,this._sortingConfigs=[],this._items=[],this._itemsExpanded=new Map,this._itemsLevel=new Map,this._itemsHasChildren=new Map,this.columnResizeCursors={leftOrRight:"ew-resize"},this.rowToolbarColumnId="rowToolbar",this.headerToolbarColumnId="headerToolbar",this.autoResizedColumnId="autoResized",this.loaderColumnId="loader",this.footerDisplayedColumnIds=[this.loaderColumnId],this.ariaSortDirection={asc:"ascending",desc:"descending",none:"none"},this.renameColumnControl=new c.NI,this.hasStickyColumns=!1,this.columnsFeatures={sorting:!1,renaming:!1,resizing:!1,dragAndDrop:!1},this.rowsFeatures={hierarchical:!1,rowSelection:!0},this.rowsSelection=new qp.Ov,this.displayedColumns=[],this.displayedColumnIds=[],this.isBaseViewModelCollection=!1,this.header={},this.hierarchicalColumnName="parentId",this.defaultNodeExpanded=!1,this.columnCaptionChange=new l.EventEmitter,this.columnsChange=new l.EventEmitter,this.selectedRowsChange=new l.EventEmitter,this.sortingChange=new l.EventEmitter,this.paginationChange=new l.EventEmitter,this.rowDoubleClick=new l.EventEmitter,this.columnResizeEdges=i.resizeEdges}set items(e){this._setItemsCache(e),this.isBaseViewModelCollection=e instanceof Rl,this.hasColumns&&this._updateMatTableItems()}get matTableItems(){return this._matTableItems.asObservable()}set columns(e){const t=Array.isArray(e)?e.filter((e=>e)).sort(VI):[];this.hasColumns=t.length>0,this.hasColumns?this._updateMatTableItems():this._matTableItems.next([]),this.hasStickyColumns=t.some((e=>e.sticky)),this._columnsMap=this._columnDefinitionConverter.toColumnsDefinitionMap(t),this._setDisplayedColumns(),this._setDisplayedColumnIds(),this._setFeatures(),this._checkColumnsStickinessActivity()}set features(e){this._features=e,this._setFeatures()}get features(){return this._features}set sorting(e){this._sortingConfigs=null==e?void 0:e.map((({columnCode:e,direction:t})=>({columnCode:e,direction:(0,r.isValidSortDirection)(t)?t:"none"})))}set selectedRows(e){const t=(e||[]).find((e=>null!=e));this.rowsSelection.select(t)}set primaryColumnName(e){this._primaryColumnName=e||this._defaultPrimaryColumnName}get primaryColumnName(){return this._primaryColumnName}set renamingColumnId(e){const t=this.displayedColumns.find((({id:t})=>e===t));this.renameColumnControl.patchValue(null==t?void 0:t.caption),this._renamingColumnId=e}get renamingColumnId(){return this._renamingColumnId}set matTable(e){var t;this._matTable=e;const n=!!this.headerToolbarTemplate||!!this.rowToolbarDirective;(this.hasStickyColumns||n)&&(null===(t=this._matTable)||void 0===t||t.updateStickyColumnStyles())}_setDisplayedColumns(){this._hiddenColumns=[],this.displayedColumns=[];this._columnDefinitionConverter.toColumnViewDefinitions(this._columnsMap).forEach((e=>{e.hidden?this._hiddenColumns.push(e):this.displayedColumns.push(e)})),this._setLastStickyColumnId(this.displayedColumns)}_setDisplayedColumnIds(){var e;this.displayedColumnIds=this.displayedColumns.map((e=>e.id)),(this.rowToolbarDirective||this.rowsFeatures.numeration)&&("after"===(null===(e=this.rowToolbarDirective)||void 0===e?void 0:e.position)?this.displayedColumnIds.push(this.rowToolbarColumnId):this.displayedColumnIds.unshift(this.rowToolbarColumnId)),this.rowsFeatures.hierarchical||this.displayedColumnIds.push(this.autoResizedColumnId),this.headerToolbarTemplate&&this.displayedColumnIds.push(this.headerToolbarColumnId)}_getLastTableBodyRowId(){var e;const t=null===(e=this.dataTableContainer)||void 0===e?void 0:e.nativeElement,n=null==t?void 0:t.querySelector("[row-id]:last-of-type");return null==n?void 0:n.getAttribute("row-id")}_setFeatures(){var e,t,n,i,r,a,o,s,l,c,d,u,p,m,h,g;this.columnsFeatures={sorting:Boolean(null===(t=null===(e=this._features)||void 0===e?void 0:e.columns)||void 0===t?void 0:t.sorting),renaming:Boolean(null===(i=null===(n=this._features)||void 0===n?void 0:n.columns)||void 0===i?void 0:i.renaming),resizing:Boolean(null===(a=null===(r=this._features)||void 0===r?void 0:r.columns)||void 0===a?void 0:a.resizing),dragAndDrop:Boolean(null===(s=null===(o=this._features)||void 0===o?void 0:o.columns)||void 0===s?void 0:s.dragAndDrop)&&this.displayedColumns.length>1},this.rowsFeatures={hierarchical:Boolean(null===(c=null===(l=this._features)||void 0===l?void 0:l.rows)||void 0===c?void 0:c.hierarchical),numeration:Boolean(null===(u=null===(d=this._features)||void 0===d?void 0:d.rows)||void 0===u?void 0:u.numeration),selectionCheckbox:Boolean(null===(m=null===(p=this._features)||void 0===p?void 0:p.rows)||void 0===m?void 0:m.selectionCheckbox),rowSelection:!1!==(null===(g=null===(h=this._features)||void 0===h?void 0:h.rows)||void 0===g?void 0:g.rowSelection)}}_emitColumnsChangeEvent(){const e=this._hiddenColumns.map((({id:e})=>this.getColumnDefinition(e))),t=this.displayedColumns.map((({id:e})=>this.getColumnDefinition(e)));this.columnsChange.emit([...t,...e])}_checkColumnsStickinessActivity(){var e,t;if(!this.hasStickyColumns)return;const n=null===(e=this.dataTableContainer)||void 0===e?void 0:e.nativeElement,i=null===(t=null==n?void 0:n.getBoundingClientRect())||void 0===t?void 0:t.width;if(!i)return;const r=.75*i;let a=0;this.displayedColumns.forEach((e=>{e.sticky.enabled&&(a+=e.width,e.sticky.active=a<=r)})),this._setLastStickyColumnId(this.displayedColumns),this._zone.onMicrotaskEmpty.pipe((0,Tn.q)(1)).subscribe((()=>{var e;return null===(e=this._matTable)||void 0===e?void 0:e.updateStickyColumnStyles()}))}_updateMatTableItems(){let e=this._items||[];this.rowsFeatures.hierarchical&&(e=this._filterHierarchicalData(e)),this._matTableItems.next(e),e instanceof Rl&&(this._subscriptions.unsubscribe(),this._subscriptions=new h.Subscription,this._subscriptions.add(e.changed.subscribe((()=>{this._matTableItems.next(e),this.changeDetectorRef.markForCheck()}))))}_setItemsCache(e){this._items=e,this._itemsExpanded.clear(),this._itemsLevel.clear(),this._itemsHasChildren.clear()}_filterHierarchicalData(e){this._items=[...e];const t=this.hierarchicalColumnName;return this._items.filter((e=>{const n=e[t];return!n||this._isItemExpanded(n)}))}_toggleNodeState(e){const t=!this._isItemExpanded(e);this._itemsExpanded.set(e,t);!t&&this._collapseNodeChildren(e)}_collapseNodeChildren(e){const t=this.primaryColumnName,n=this.hierarchicalColumnName;this._items.filter((t=>t[n]===e)).forEach((e=>{const n=e[t];this._itemsExpanded.set(n,!1),this._collapseNodeChildren(n)}))}_getNodeLevel(e){if(this._itemsLevel.has(e))return this._itemsLevel.get(e);const t=this.primaryColumnName,n=this._items.find((n=>n[t]===e));let i=1;const r=this.hierarchicalColumnName;let a=n[r];for(;a;){i++;const e=this._items.find((e=>e[t]===a));a=null==e?void 0:e[r]}return this._itemsLevel.set(e,i),i}_setLastStickyColumnId(e){var t;this.lastStickyColumnId=null===(t=(0,FI.Z)(e,(({sticky:e})=>e.active)))||void 0===t?void 0:t.id}_onCopyValue(e){return(0,a.mG)(this,void 0,void 0,(function*(){if(this.selectedCells.length>0){const t=[{data:e.target.innerText,mimeType:"text/plain"}];yield this._copyClipboardService.copyToBuffer(t)}}))}_deselectAllRows(){this.rowsSelection.deselect(...this.rowsSelection.selected),this.changeDetectorRef.detectChanges(),this.selectedRowsChange.emit(this.rowsSelection.selected)}_toggleRowSelection(e){this.rowsSelection.toggle(e),this.changeDetectorRef.detectChanges(),this.selectedRowsChange.emit(this.rowsSelection.selected),this.selectedCells=[]}_isItemExpanded(e){var t;return null!==(t=this._itemsExpanded.get(e))&&void 0!==t?t:this.defaultNodeExpanded}ngAfterContentInit(){this._setDisplayedColumnIds()}ngOnDestroy(){this._subscriptions.unsubscribe(),this._destroyed$.next(),this._destroyed$.complete()}trackByIndex(e){return e}onSelectRow(e){return(0,a.mG)(this,void 0,void 0,(function*(){if(this.rowsFeatures.rowSelection){const t=yield e.pipe((0,A.P)()).toPromise();this._toggleRowSelection(t)}}))}onSelectedCellsChanged(e){this.selectedCells=e,e.length>0?(this.activeRowId=e[0].rowId,this._deselectAllRows()):this.activeRowId=void 0}isSelectedRow(e){return this.rowsSelection.isSelected(e)}isActiveRow(e){return null!=this.activeRowId&&this.activeRowId===e}setActiveColumn(e){this.activeColumnId=e}getColumnDefinition(e){return this._columnsMap.get(e)}getColumnSorting(e){var t;return null===(t=this._sortingConfigs)||void 0===t?void 0:t.find((({columnCode:t})=>t===e))}onColumnResizing(e,t){const{edges:n,rectangle:i}=e;this._horizontalResizingService.isAvailableEdges(n)&&(t.sticky.active&&this.resetHorizontalScrollPosition(),t.width=this._horizontalResizingService.getAdjustedWidth(i.width),this._checkColumnsStickinessActivity())}onColumnResizeEnd(e){this.getColumnDefinition(e.id).width=e.width,this._emitColumnsChangeEvent()}onColumnCaptionChanged(e){this._renamingColumnId=null,this.columnCaptionChange.next({columnCaption:this.renameColumnControl.value.trim(),columnId:e}),this.renameColumnControl.patchValue(null)}startRenaming(e){this.features.columns.renaming&&(this.renameColumnControl.patchValue(e.caption),this._renamingColumnId=e.id)}resetHorizontalScrollPosition(){this.dataTableContainer&&(this.dataTableContainer.nativeElement.scrollLeft=0)}onColumnDragSorted(e){var t;const n=null!==(t=this._sortedWhenDraggingColumns)&&void 0!==t?t:this.displayedColumns;this._sortedWhenDraggingColumns=this._columnsPositionChangeService.changeColumnPosition(n,e.previousIndex,e.currentIndex),this._setLastStickyColumnId(this._sortedWhenDraggingColumns),this.changeDetectorRef.detectChanges()}onColumnDropped(e){var t;this._sortedWhenDraggingColumns=null,null===(t=this._matTable)||void 0===t||t.updateStickyHeaderRowStyles(),this.displayedColumns=this._columnsPositionChangeService.changeColumnPosition(this.displayedColumns,e.previousIndex,e.currentIndex),this._setDisplayedColumnIds(),this._emitColumnsChangeEvent(),this._checkColumnsStickinessActivity()}columnDropSortPredicate(e,t){return this._columnsPositionChangeService.canChangeColumnPosition(t.data,this.displayedColumns,e)}getColumnDropSortPredicate(){return this.columnDropSortPredicate.bind(this)}onColumnSortChanged(e){var t,n;if(!this.features.columns.sorting)return;const i=null!==(n=null===(t=this.getColumnSorting(e))||void 0===t?void 0:t.direction)&&void 0!==n?n:"none",r=this._directionSwitchMap[i],a="none"===r?[]:[{columnCode:e,direction:r}];this.sortingChange.emit(a)}onTableContainerResized(){this._checkColumnsStickinessActivity()}onLastTableRowInViewportStateChange(e){if(!1===e.visible)return;if(this.loading)return;const t=this._getLastTableBodyRowId();t!==this._lastTableBodyRowId&&(this._lastTableBodyRowId=t,this.paginationChange.emit({type:"infiniteScroll"}))}hasNodeChildren(e){const t=e[this.primaryColumnName];if(this._itemsHasChildren.has(t))return this._itemsHasChildren.get(t);const n=this.hierarchicalColumnName,i=!!this._items.find((e=>e[n]===t));return this._itemsHasChildren.set(t,i),i}isNodeExpanded(e){const t=e[this.primaryColumnName];return this._isItemExpanded(t)}onNodeExpandClick(e){const t=e[this.primaryColumnName];this._toggleNodeState(t),this._updateMatTableItems()}getNodePrefixWidth(e){const t=e[this.primaryColumnName],n=this._getNodeLevel(t);return this._gutterPaddingLeft+this._gutterWidth*n}getTreeIcon(e){if(this.hasNodeChildren(e))return this.isNodeExpanded(e)?"tree_opened_parent":"tree_parent"}onKeyboardAction({action:e,event:t}){switch(e){case Gx:return this._onCopyValue(t)}}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](l.Injector),l["ɵɵdirectiveInject"](LI),l["ɵɵdirectiveInject"](BI),l["ɵɵdirectiveInject"](_y),l["ɵɵdirectiveInject"](zi),l["ɵɵdirectiveInject"](qx),l["ɵɵdirectiveInject"](l.NgZone))},e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["crt-data-table"]],contentQueries:function(e,t,n){if(1&e&&(l["ɵɵcontentQuery"](n,iI,5,l.TemplateRef),l["ɵɵcontentQuery"](n,rI,5,l.TemplateRef),l["ɵɵcontentQuery"](n,aI,5)),2&e){let e;l["ɵɵqueryRefresh"](e=l["ɵɵloadQuery"]())&&(t.columnToolbarTemplate=e.first),l["ɵɵqueryRefresh"](e=l["ɵɵloadQuery"]())&&(t.headerToolbarTemplate=e.first),l["ɵɵqueryRefresh"](e=l["ɵɵloadQuery"]())&&(t.rowToolbarDirective=e.first)}},viewQuery:function(e,t){if(1&e&&(l["ɵɵviewQuery"](iS,5),l["ɵɵviewQuery"](Qp.BZ,5),l["ɵɵviewQuery"](Qp.XQ,7,l.ElementRef)),2&e){let e;l["ɵɵqueryRefresh"](e=l["ɵɵloadQuery"]())&&(t.dataTableContainer=e.first),l["ɵɵqueryRefresh"](e=l["ɵɵloadQuery"]())&&(t.matTable=e.first),l["ɵɵqueryRefresh"](e=l["ɵɵloadQuery"]())&&(t.headerRowElementRef=e.first)}},inputs:{items:"items",columns:"columns",header:"header",ariaLabel:"ariaLabel",activeColumnId:"activeColumnId",activeRowId:"activeRowId",features:"features",placeholder:"placeholder",sorting:"sorting",selectedCells:"selectedCells",selectedRows:"selectedRows",primaryColumnName:"primaryColumnName",renamingColumnId:"renamingColumnId",hierarchicalColumnName:"hierarchicalColumnName",defaultNodeExpanded:"defaultNodeExpanded"},outputs:{columnCaptionChange:"columnCaptionChange",columnsChange:"columnsChange",selectedRowsChange:"selectedRowsChange",sortingChange:"sortingChange",paginationChange:"paginationChange",rowDoubleClick:"rowDoubleClick"},features:[l["ɵɵInheritDefinitionFeature"]],decls:6,vars:12,consts:[["crtResizable","","crtDataTableCellsKeyboardSelection","",1,"crt-data-table-container",3,"crtResizableDisabled","disableCellsSelection","crtKeyboardHotkeys","crtDataTableCellsSelection","resized","selectedCellsChange"],["dataTableContainer",""],[4,"ngIf","ngIfElse"],["table",""],["iconName","data-grid"],["mat-table","","cdkDropList","","cdkDropListLockAxis","x","cdkDropListOrientation","horizontal",1,"crt-data-table",3,"dataSource","dir","cdkDropListSortPredicate","crtKeyboardHotkeys","cdkDropListDropped","cdkDropListSorted","crtKeyboardHotkeyPressed"],[3,"matColumnDef","sticky","stickyEnd"],["mat-header-cell","","scope","col","class","crt-toolbar-cell",3,"crt-toolbar-cell-custom","crt-toolbar-cell-numeration",4,"matHeaderCellDef"],["mat-cell","","class","crt-toolbar-cell",3,"crt-toolbar-cell-custom","crt-toolbar-cell-numeration","crt-toolbar-cell-with-checkbox","crtDataTableRowContext","primaryColumnName",4,"matCellDef"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"matColumnDef"],["mat-header-cell","","scope","col",3,"width",4,"matHeaderCellDef"],["mat-cell","",3,"width",4,"matCellDef"],["stickyEnd","",3,"matColumnDef"],["mat-header-cell","","scope","col","class","crt-toolbar-cell crt-header-toolbar-cell",3,"width",4,"matHeaderCellDef"],["mat-cell","","class","crt-toolbar-cell crt-header-toolbar-cell",3,"width",4,"matCellDef"],["mat-footer-cell","","class","mat-cell crt-data-table-loading-cell",4,"matFooterCellDef"],[4,"ngIf"],["mat-row","",3,"crtDataTableRowContext","primaryColumnName","crtDataTableRow","activeRowId","selectedRows","rowDoubleClick","click",4,"matRowDef","matRowDefColumns"],["class","mat-row no-data-row",4,"matNoDataRow"],["mat-footer-row","",4,"matFooterRowDef"],[1,"observe-last-row"],["crtObserveElementInViewport","",3,"elementStateChange",4,"ngIf"],["mat-header-cell","","scope","col",1,"crt-toolbar-cell"],["mat-cell","",1,"crt-toolbar-cell",3,"crtDataTableRowContext","primaryColumnName"],["context","rowContext"],[1,"crt-toolbar-cell-container"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["labelPosition","hidden","class","selection-checkbox",3,"value","valueChange","click",4,"ngIf"],[1,"index-value"],["labelPosition","hidden",1,"selection-checkbox",3,"value","valueChange","click"],[3,"sticky","matColumnDef",4,"ngIf"],[3,"sticky","matColumnDef"],["mat-header-cell","","scope","col","tabindex","0","class","crt-data-table-header-cell-container","mwlResizable","","cdkDrag","",3,"ngClass","crt-data-table-header-last-sticky-cell","width","resizeCursors","cdkDragData","cdkDragPreviewContainer","cdkDragDisabled","cdkDragBoundary","focus","blur","mouseleave","resizing","resizeEnd","mousedown","cdkDragStarted",4,"matHeaderCellDef"],["mat-cell","","crtDataTableSelectableCell","","class","crt-data-table-cell-container","tabindex","0",3,"ngClass","width",4,"matCellDef"],["mat-header-cell","","scope","col","tabindex","0","mwlResizable","","cdkDrag","",1,"crt-data-table-header-cell-container",3,"ngClass","resizeCursors","cdkDragData","cdkDragPreviewContainer","cdkDragDisabled","cdkDragBoundary","focus","blur","mouseleave","resizing","resizeEnd","mousedown","cdkDragStarted"],[1,"crt-cell","crt-header-cell"],["labelPosition","hidden","type","text","class","crt-data-table-rename-column-input",3,"autofocus","control","blurred",4,"ngIf","ngIfElse"],["defaultColumn",""],["labelPosition","hidden","type","text",1,"crt-data-table-rename-column-input",3,"autofocus","control","blurred"],["cdkDragHandle","",1,"crt-header-cell-caption-container",3,"click"],[1,"crt-header-cell-caption",3,"title","dblclick"],[1,"crt-data-table-sort-indicator-btn",3,"focus","blur"],["class","crt-data-table-sort-indicator",3,"crt-data-table-sort-indicator-active","title",4,"ngIf"],["svgIcon","pin","class","crt-data-table-pin-indicator",3,"crt-data-table-pin-indicator-deactivated","title",4,"ngIf"],[1,"column-spacing"],["class","crt-data-table-column-resize-handle","mwlResizeHandle","",3,"resizeEdges",4,"ngIf"],[1,"crt-data-table-sort-indicator",3,"title"],["svgIcon","arrow",1,"menu-icon"],["svgIcon","pin",1,"crt-data-table-pin-indicator",3,"title"],["mwlResizeHandle","",1,"crt-data-table-column-resize-handle",3,"resizeEdges"],[1,"resize-handle-icon"],["mat-cell","","crtDataTableSelectableCell","","tabindex","0",1,"crt-data-table-cell-container",3,"ngClass"],[1,"crt-cell","crt-table-cell"],["class","prefix-node",3,"min-width",4,"ngIf"],["notFound",""],[1,"prefix-node"],["class","material-icons mat-icon-rtl-mirror node-toggle-icon",3,"svgIcon","click",4,"ngIf"],[1,"material-icons","mat-icon-rtl-mirror","node-toggle-icon",3,"svgIcon","click"],[3,"crtViewElement","crtViewModel",4,"ngIf","ngIfElse"],["class","data-table-cell-view"],["crtDataTableCellView",""],[3,"crtViewElement","crtViewModel"],[3,"title",4,"crtDataTableCellView","crtDataTableCellViewData","crtDataTableCellViewColumn"],[3,"title"],[1,"not-found-cell"],["mat-header-cell","","scope","col"],["mat-cell",""],["mat-header-cell","","scope","col",1,"crt-toolbar-cell","crt-header-toolbar-cell"],[4,"ngTemplateOutlet"],["mat-cell","",1,"crt-toolbar-cell","crt-header-toolbar-cell"],["mat-footer-cell","",1,"mat-cell","crt-data-table-loading-cell"],["class","crt-data-table-data-loader","mode","indeterminate",4,"ngIf"],["mode","indeterminate",1,"crt-data-table-data-loader"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-header-row",""],["mat-row","",3,"crtDataTableRowContext","primaryColumnName","crtDataTableRow","activeRowId","selectedRows","rowDoubleClick","click"],["rowContext","rowContext"],[1,"mat-row","no-data-row"],[1,"mat-cell","crt-data-table-cell-container"],["mat-footer-row",""],["crtObserveElementInViewport","",3,"elementStateChange"]],template:function(e,t){if(1&e&&(l["ɵɵelementStart"](0,"div",0,1),l["ɵɵlistener"]("resized",(function(){return t.onTableContainerResized()}))("selectedCellsChange",(function(e){return t.onSelectedCellsChanged(e)})),l["ɵɵpipe"](2,"async"),l["ɵɵtemplate"](3,rS,2,0,"ng-container",2),l["ɵɵtemplate"](4,GS,21,21,"ng-template",null,3,l["ɵɵtemplateRefExtractor"]),l["ɵɵelementEnd"]()),2&e){const e=l["ɵɵreference"](5);l["ɵɵclassProp"]("placeholder",t.placeholder)("hierarchical",t.rowsFeatures.hierarchical),l["ɵɵproperty"]("crtResizableDisabled",!t.hasStickyColumns)("disableCellsSelection",!(null!=t.features&&(null!=t.features.cells&&t.features.cells.selectable)))("crtKeyboardHotkeys",l["ɵɵpipeBind1"](2,10,t.keyboardHotkeys$))("crtDataTableCellsSelection",t.selectedCells),l["ɵɵadvance"](3),l["ɵɵproperty"]("ngIf",t.placeholder)("ngIfElse",e)}},directives:[An,tI,Yi,Xx,o.NgIf,pi,Qp.BZ,Yp.Wj,en.Lv,Qp.w1,Qp.fO,Qp.Dz,o.NgForOf,Qp.mD,Qp.nj,Qp.Ee,Qp.Ke,Qp.ge,Qp.ev,oI,o.NgTemplateOutlet,dI,GI.E$,Yp.Zt,o.NgClass,tS,Yp.Bh,St.Hw,GI.mC,Kx,_u,Su,Yx,Qp.yh,nS.pW,Qp.as,Qp.XQ,Qp.Gk,sI,Qp.Q2,Et],pipes:[o.AsyncPipe,u.X$],styles:["[_nghost-%COMP%]{display:block;width:100%;height:100%;max-height:inherit;overflow:auto}.crt-data-table-container[_ngcontent-%COMP%]{display:block;width:100%;height:100%;max-height:inherit;overflow:auto}.crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]{border-collapse:separate;position:relative;table-layout:fixed;z-index:1}.crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   tr.mat-row.crt-active-row[_ngcontent-%COMP%]   .crt-toolbar-cell-with-checkbox[_ngcontent-%COMP%]   .index-value[_ngcontent-%COMP%], .crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   tr.mat-row.crt-data-table-selected-row[_ngcontent-%COMP%]   .crt-toolbar-cell-with-checkbox[_ngcontent-%COMP%]   .index-value[_ngcontent-%COMP%], .crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   tr.mat-row[_ngcontent-%COMP%]:hover   .crt-toolbar-cell-with-checkbox[_ngcontent-%COMP%]   .index-value[_ngcontent-%COMP%]{display:none}.crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   tr.mat-row.crt-active-row[_ngcontent-%COMP%]   .crt-toolbar-cell-with-checkbox[_ngcontent-%COMP%]   .selection-checkbox[_ngcontent-%COMP%], .crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   tr.mat-row.crt-data-table-selected-row[_ngcontent-%COMP%]   .crt-toolbar-cell-with-checkbox[_ngcontent-%COMP%]   .selection-checkbox[_ngcontent-%COMP%], .crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   tr.mat-row[_ngcontent-%COMP%]:hover   .crt-toolbar-cell-with-checkbox[_ngcontent-%COMP%]   .selection-checkbox[_ngcontent-%COMP%]{display:block}.crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   tr.mat-footer-row[_ngcontent-%COMP%]{height:0}.crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   tr.mat-footer-row[_ngcontent-%COMP%]   td.mat-footer-cell[_ngcontent-%COMP%]{border-bottom:none;padding:0}.crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   tr.mat-footer-row[_ngcontent-%COMP%]   td.mat-footer-cell[_ngcontent-%COMP%]   .crt-data-table-data-loader[_ngcontent-%COMP%]{margin-top:8px}.crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   .crt-table-cell[_ngcontent-%COMP%]{white-space:nowrap;text-overflow:ellipsis;overflow:hidden;display:flex;align-items:center}.crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   .crt-data-table-header-cell-container[_ngcontent-%COMP%]{cursor:default}.crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   .crt-data-table-header-cell-container[_ngcontent-%COMP%]   .crt-header-cell[_ngcontent-%COMP%]{height:100%;display:flex;justify-content:space-between;flex-direction:row;align-items:center;border-bottom:2px solid transparent}.crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   .crt-data-table-header-cell-container[_ngcontent-%COMP%]   .crt-header-cell[_ngcontent-%COMP%]   .crt-header-cell-caption-container[_ngcontent-%COMP%]{display:flex;flex-grow:1;align-items:center;height:100%;min-width:0;padding-top:2px}.crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   .crt-data-table-header-cell-container[_ngcontent-%COMP%]   .crt-header-cell[_ngcontent-%COMP%]   .crt-header-cell-caption-container.cdk-drag-handle[_ngcontent-%COMP%]{cursor:pointer}.crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   .crt-data-table-header-cell-container[_ngcontent-%COMP%]   .crt-header-cell[_ngcontent-%COMP%]   .crt-header-cell-caption-container[_ngcontent-%COMP%]   .crt-header-cell-caption[_ngcontent-%COMP%]{white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   .crt-data-table-header-cell-container[_ngcontent-%COMP%]   .crt-header-cell[_ngcontent-%COMP%]   .crt-header-cell-caption-container[_ngcontent-%COMP%]   .crt-data-table-sort-indicator-btn[_ngcontent-%COMP%]{border:none;padding:0;cursor:pointer;background-color:transparent}.crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   .crt-data-table-header-cell-container[_ngcontent-%COMP%]   .crt-header-cell[_ngcontent-%COMP%]   .crt-header-cell-caption-container[_ngcontent-%COMP%]   .crt-data-table-sort-indicator-btn[_ngcontent-%COMP%]   .crt-data-table-sort-indicator[_ngcontent-%COMP%]{padding:0;display:flex;align-items:center;justify-content:center;width:16px;height:16px;display:block;visibility:hidden}.crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   .crt-data-table-header-cell-container[_ngcontent-%COMP%]   .crt-header-cell[_ngcontent-%COMP%]   .crt-header-cell-caption-container[_ngcontent-%COMP%]   .crt-data-table-sort-indicator-btn[_ngcontent-%COMP%]   .crt-data-table-sort-indicator[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{display:flex;width:16px;height:16px}.crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   .crt-data-table-header-cell-container[_ngcontent-%COMP%]   .crt-header-cell[_ngcontent-%COMP%]   .crt-header-cell-caption-container[_ngcontent-%COMP%]   .crt-data-table-sort-indicator-btn[_ngcontent-%COMP%]   .crt-data-table-sort-indicator[aria-sort=descending][_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{transform:rotate(180deg)}.crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   .crt-data-table-header-cell-container[_ngcontent-%COMP%]   .crt-header-cell[_ngcontent-%COMP%]   .crt-header-cell-caption-container[_ngcontent-%COMP%]   .crt-data-table-sort-indicator-btn[_ngcontent-%COMP%]   .crt-data-table-sort-indicator.crt-data-table-sort-indicator-active[_ngcontent-%COMP%]{visibility:visible}.crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   .crt-data-table-header-cell-container[_ngcontent-%COMP%]   .crt-header-cell[_ngcontent-%COMP%]   .crt-data-table-pin-indicator[_ngcontent-%COMP%]{width:12px;height:12px;display:flex;flex-shrink:0}.crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   .crt-data-table-header-cell-container[_ngcontent-%COMP%]   .crt-header-cell[_ngcontent-%COMP%]   .column-spacing[_ngcontent-%COMP%]{width:8px;height:16px;flex-shrink:0}.crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   .crt-data-table-header-cell-container[_ngcontent-%COMP%]   .crt-header-cell[_ngcontent-%COMP%]   .column-spacing[_ngcontent-%COMP%]   .crt-data-table-column-resize-handle[_ngcontent-%COMP%]{display:flex;width:100%;height:100%;justify-content:flex-end;position:relative;cursor:ew-resize}.crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   .crt-data-table-header-cell-container[_ngcontent-%COMP%]   .crt-header-cell[_ngcontent-%COMP%]   .column-spacing[_ngcontent-%COMP%]   .crt-data-table-column-resize-handle[_ngcontent-%COMP%]   .resize-handle-icon[_ngcontent-%COMP%]{display:none;width:0}.crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   .crt-data-table-header-cell-container[_ngcontent-%COMP%]   .crt-header-cell[_ngcontent-%COMP%]   .column-spacing[_ngcontent-%COMP%]   .crt-data-table-column-resize-handle[_ngcontent-%COMP%]:active   .resize-handle-icon[_ngcontent-%COMP%], .crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   .crt-data-table-header-cell-container[_ngcontent-%COMP%]   .crt-header-cell[_ngcontent-%COMP%]   .column-spacing[_ngcontent-%COMP%]   .crt-data-table-column-resize-handle[_ngcontent-%COMP%]:hover   .resize-handle-icon[_ngcontent-%COMP%]{display:block}.crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   .crt-data-table-header-cell-container[_ngcontent-%COMP%]   .crt-header-cell[_ngcontent-%COMP%]:hover   .crt-header-cell-caption-container[_ngcontent-%COMP%]   .crt-data-table-sort-indicator-btn[_ngcontent-%COMP%]   .crt-data-table-sort-indicator[_ngcontent-%COMP%]{visibility:visible}.crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   .crt-data-table-header-cell-container[_ngcontent-%COMP%]   .crt-header-cell[_ngcontent-%COMP%]:hover   .column-spacing[_ngcontent-%COMP%]   .crt-data-table-column-resize-handle[_ngcontent-%COMP%]   .resize-handle-icon[_ngcontent-%COMP%]{display:block}.crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   .crt-data-table-header-cell-container[_ngcontent-%COMP%]   .crt-header-cell.crt-header-cell-active[_ngcontent-%COMP%]   .crt-header-cell-caption-container[_ngcontent-%COMP%]   .crt-data-table-sort-indicator-btn[_ngcontent-%COMP%]   .crt-data-table-sort-indicator[_ngcontent-%COMP%]{visibility:visible}.crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   .crt-data-table-header-cell-container.cdk-drag-disabled[_ngcontent-%COMP%]   .crt-header-cell[_ngcontent-%COMP%]   .crt-header-cell-caption-container[_ngcontent-%COMP%]{cursor:default}.crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   .crt-toolbar-cell[_ngcontent-%COMP%]{padding:0 4px;box-sizing:border-box}.crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   .crt-toolbar-cell.crt-toolbar-cell-numeration[_ngcontent-%COMP%]{width:24px}.crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   .crt-toolbar-cell.crt-toolbar-cell-custom[_ngcontent-%COMP%]{width:32px}.crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   .crt-toolbar-cell.crt-toolbar-cell-numeration.crt-toolbar-cell-custom[_ngcontent-%COMP%]{width:52px}.crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   .crt-toolbar-cell-container[_ngcontent-%COMP%]{display:flex;align-items:center}.crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   .crt-toolbar-cell[_ngcontent-%COMP%]   .selection-checkbox[_ngcontent-%COMP%]{display:none;width:16px;margin-inline-start:auto}.crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   .crt-toolbar-cell[_ngcontent-%COMP%]   .index-value[_ngcontent-%COMP%]{white-space:nowrap;text-overflow:ellipsis;overflow:hidden;margin-inline-start:auto}.crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table.cdk-drop-list-dragging[_ngcontent-%COMP%]   .crt-data-table-header-cell-container[_ngcontent-%COMP%]{cursor:move}.crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table.cdk-drop-list-dragging[_ngcontent-%COMP%]   .crt-data-table-header-cell-container[_ngcontent-%COMP%]   .crt-header-cell[_ngcontent-%COMP%]   .crt-header-cell-caption-container.cdk-drag-handle[_ngcontent-%COMP%], .crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table.cdk-drop-list-dragging[_ngcontent-%COMP%]   .crt-data-table-header-cell-container[_ngcontent-%COMP%]   .crt-header-cell[_ngcontent-%COMP%]   .crt-header-cell-caption-container[_ngcontent-%COMP%]   .crt-data-table-sort-indicator-btn[_ngcontent-%COMP%]{cursor:inherit}.crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table.cdk-drop-list-dragging[_ngcontent-%COMP%]   .crt-data-table-header-cell-container[_ngcontent-%COMP%]   .crt-header-cell[_ngcontent-%COMP%]   .crt-header-cell-caption-container[_ngcontent-%COMP%]   .crt-data-table-sort-indicator-btn[_ngcontent-%COMP%]   .crt-data-table-sort-indicator[_ngcontent-%COMP%]{visibility:hidden}.crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table.cdk-drop-list-dragging[_ngcontent-%COMP%]   .crt-data-table-header-cell-container[_ngcontent-%COMP%]   .crt-header-cell[_ngcontent-%COMP%]   .column-spacing[_ngcontent-%COMP%]   .crt-data-table-column-resize-handle[_ngcontent-%COMP%]{cursor:inherit;visibility:hidden}.crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   .prefix-node[_ngcontent-%COMP%]{margin-right:4px}.crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   .prefix-node[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;box-sizing:content-box;cursor:pointer;float:right;font-size:16px;line-height:16px;padding-left:16px;-webkit-user-select:none;user-select:none}.crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table-header-cell-container.cdk-drag-preview[_ngcontent-%COMP%]{opacity:.7;padding:0}.crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table-header-cell-container.cdk-drag-preview[_ngcontent-%COMP%]   .crt-header-cell[_ngcontent-%COMP%]{height:100%;display:flex;justify-content:space-between;flex-direction:row;align-items:center;border-bottom:2px solid transparent}.crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table-header-cell-container.cdk-drag-preview[_ngcontent-%COMP%]   .crt-header-cell[_ngcontent-%COMP%]   .crt-header-cell-caption-container[_ngcontent-%COMP%]{display:flex;flex-grow:1;align-items:center;height:100%;min-width:0}.crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table-header-cell-container.cdk-drag-preview[_ngcontent-%COMP%]   .crt-header-cell[_ngcontent-%COMP%]   .crt-header-cell-caption-container[_ngcontent-%COMP%]   .crt-header-cell-caption[_ngcontent-%COMP%]{white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table-header-cell-container.cdk-drag-preview[_ngcontent-%COMP%]   .crt-header-cell[_ngcontent-%COMP%]   .crt-header-cell-caption-container[_ngcontent-%COMP%]   .crt-data-table-sort-indicator-btn[_ngcontent-%COMP%]{display:none}.crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table-header-cell-container.cdk-drag-preview[_ngcontent-%COMP%]   .crt-header-cell[_ngcontent-%COMP%]   .crt-data-table-pin-indicator[_ngcontent-%COMP%]{width:12px;height:12px;display:flex;flex-shrink:0;margin-left:8px}.crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table-header-cell-container.cdk-drag-preview[_ngcontent-%COMP%]   .crt-header-cell[_ngcontent-%COMP%]   .column-spacing[_ngcontent-%COMP%]   .crt-data-table-column-resize-handle[_ngcontent-%COMP%]{visibility:hidden}.crt-data-table-container[_ngcontent-%COMP%]   .observe-last-row[_ngcontent-%COMP%], .crt-data-table-container[_ngcontent-%COMP%]   .observe-last-row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:1px}.crt-data-table-container[_ngcontent-%COMP%]:not(.hierarchical)   .crt-data-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]:first-of-type:not(.crt-toolbar-cell):not(.crt-data-table-loading-cell).cdk-drag-placeholder + .mat-header-cell[style*=transform][_ngcontent-%COMP%]   .crt-cell[_ngcontent-%COMP%], .crt-data-table-container[_ngcontent-%COMP%]:not(.hierarchical)   .crt-data-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]:first-of-type:not(.crt-toolbar-cell):not(.crt-data-table-loading-cell):not(.cdk-drag-placeholder):not([style*=transform])   .crt-cell[_ngcontent-%COMP%], .crt-data-table-container[_ngcontent-%COMP%]:not(.hierarchical)   .crt-data-table[_ngcontent-%COMP%]   .mat-header-cell[_ngcontent-%COMP%]:first-of-type:not(.crt-toolbar-cell):not(.crt-data-table-loading-cell).cdk-drag-placeholder + .mat-header-cell[style*=transform][_ngcontent-%COMP%]   .crt-cell[_ngcontent-%COMP%], .crt-data-table-container[_ngcontent-%COMP%]:not(.hierarchical)   .crt-data-table[_ngcontent-%COMP%]   .mat-header-cell[_ngcontent-%COMP%]:first-of-type:not(.crt-toolbar-cell):not(.crt-data-table-loading-cell):not(.cdk-drag-placeholder):not([style*=transform])   .crt-cell[_ngcontent-%COMP%]{padding-left:8px}crt-data-table[dir=rtl][_ngcontent-%COMP%]   .crt-data-table-header-cell-container.cdk-drag-preview[_ngcontent-%COMP%]{right:auto!important}"],changeDetection:0}),e})();w_.s.ArrowUp,w_.s.ArrowDown,w_.s.ArrowLeft,w_.s.ArrowRight;var US=n(13237);let ZS=(()=>{class e{constructor(e,t){this._elementRef=e,this._numberFormatter=t,this._type="text",this._nativeElement=this._elementRef.nativeElement}set format(e){this._format=e||{type:"number"},this._formattingOn()}_getInputValue(){return this._nativeElement.value}_setInputValue(e){this._nativeElement.value=e}_parseValue(e){const t=this._numberFormatter.undoFormat(null==e?void 0:e.toString(),this._format),n=parseFloat(t);return isNaN(n)?[null,""]:[n,n.toString()]}_formattingOn(){const e=this._getInputValue();this.writeValue(e)}_formattingOff(){const e=this._getInputValue(),[t,n]=this._parseValue(e);this._setInputValue(n),this._setValueToFormControl(t)}_setValueToFormControl(e){this._changeFn&&this._changeFn(e)}registerOnChange(e){this._changeFn=e}registerOnTouched(e){this._touchedFn=e}writeValue(e){const[,t]=this._parseValue(e),n=this._numberFormatter.format(t,this._format);if(n){const[e]=this._parseValue(n);this._setInputValue(n),this._setValueToFormControl(e)}else this._setInputValue(""),this._setValueToFormControl(null)}onFocus(){this._formattingOff()}onBlur(){this._formattingOn(),this._touchedFn()}onKeyUp(){const e=this._getInputValue(),[t]=this._parseValue(e);this._setValueToFormControl(t)}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](l.ElementRef),l["ɵɵdirectiveInject"](Vo))},e.ɵdir=l["ɵɵdefineDirective"]({type:e,selectors:[["input","crtNumberControl",""]],hostVars:1,hostBindings:function(e,t){1&e&&l["ɵɵlistener"]("focus",(function(){return t.onFocus()}))("blur",(function(){return t.onBlur()}))("keyup",(function(){return t.onKeyUp()})),2&e&&l["ɵɵattribute"]("type",t._type)},inputs:{format:"format"},features:[l["ɵɵProvidersFeature"]([{provide:c.JU,useExisting:(0,l.forwardRef)((()=>e)),multi:!0},{provide:j.Jk,useExisting:(0,l.forwardRef)((()=>e))}])]}),e})();function $S(e,t){if(1&e&&l["ɵɵelement"](0,"crt-skeleton-loader",2),2&e){const e=l["ɵɵnextContext"]();l["ɵɵproperty"]("styles",e.skeletonStyles)}}function WS(e,t){1&e&&(l["ɵɵelement"](0,"mat-icon",12),l["ɵɵpipe"](1,"translate")),2&e&&l["ɵɵproperty"]("matTooltip",l["ɵɵpipeBind1"](1,1,"Input.Readonly"))}function qS(e,t){if(1&e&&(l["ɵɵelementContainerStart"](0),l["ɵɵelementStart"](1,"span",13),l["ɵɵtext"](2),l["ɵɵelementEnd"](),l["ɵɵelement"](3,"mat-icon",14),l["ɵɵelementContainerEnd"]()),2&e){const e=l["ɵɵnextContext"](2);l["ɵɵadvance"](2),l["ɵɵtextInterpolate"](e.errorMessages),l["ɵɵadvance"](1),l["ɵɵproperty"]("tooltipConfig",e.getTooltip(e.errorMessages))}}function YS(e,t){if(1&e&&l["ɵɵelement"](0,"mat-icon",16),2&e){const e=l["ɵɵnextContext"](3);l["ɵɵproperty"]("tooltipConfig",e.getTooltip(e.tooltip))}}function JS(e,t){if(1&e&&l["ɵɵtemplate"](0,YS,1,1,"mat-icon",15),2&e){const e=l["ɵɵnextContext"](2);l["ɵɵproperty"]("ngIf",e.tooltip)}}const QS=function(e){return{"crt-input-required":e}};function KS(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵelementStart"](0,"div",3),l["ɵɵlistener"]("resized",(function(t){l["ɵɵrestoreView"](e);return l["ɵɵnextContext"]().onResized(t)})),l["ɵɵelementStart"](1,"div",4),l["ɵɵelementStart"](2,"label",5),l["ɵɵtext"](3),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵelementStart"](4,"mat-form-field",6),l["ɵɵelementStart"](5,"div",7),l["ɵɵelement"](6,"input",8),l["ɵɵtemplate"](7,WS,2,3,"mat-icon",9),l["ɵɵtemplate"](8,qS,4,2,"ng-container",10),l["ɵɵtemplate"](9,JS,1,1,"ng-template",null,11,l["ɵɵtemplateRefExtractor"]),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵelementEnd"]()}if(2&e){const e=l["ɵɵreference"](10),t=l["ɵɵnextContext"]();l["ɵɵproperty"]("ngClass","label-position-"+t.displayLabelPosition)("crtResizableDisabled",!t.isAutoLabelPosition),l["ɵɵadvance"](2),l["ɵɵproperty"]("ngClass",l["ɵɵpureFunction1"](18,QS,t.required))("for",t.id),l["ɵɵadvance"](1),l["ɵɵtextInterpolate"](t.label),l["ɵɵadvance"](1),l["ɵɵclassProp"]("crt-input-control-container--invalid",t.invalid),l["ɵɵadvance"](2),l["ɵɵproperty"]("id",t.id)("format",t.format)("formControl",t.control)("readonly",t.readonly)("autocomplete",t.autocomplete)("crtAriaRequired",t.required)("placeholder",t.placeholder),l["ɵɵattribute"]("aria-label",t.ariaLabel||t.label),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",t.readonly),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",t.invalid)("ngIfElse",e)}}let XS=class extends HI{constructor(e,t,n){super(e,t,n)}};XS.ɵfac=function(e){return new(e||XS)(l["ɵɵdirectiveInject"](l.Injector),l["ɵɵdirectiveInject"](l.ElementRef),l["ɵɵdirectiveInject"](l.ChangeDetectorRef))},XS.ɵcmp=l["ɵɵdefineComponent"]({type:XS,selectors:[["crt-number-input"]],inputs:{format:"format"},features:[l["ɵɵInheritDefinitionFeature"]],decls:3,vars:2,consts:[[3,"styles",4,"ngIf","ngIfElse"],["input",""],[3,"styles"],["crtResizable","",1,"crt-input",3,"ngClass","crtResizableDisabled","resized"],[1,"crt-input-label-container"],[1,"crt-input-label",3,"ngClass","for"],["floatLabel","never",1,"crt-input-control-container"],[1,"crt-input-control"],["matInput","","crtNumberControl","",3,"id","format","formControl","readonly","autocomplete","crtAriaRequired","placeholder"],["matSuffix","","svgIcon","lock",3,"matTooltip",4,"ngIf"],[4,"ngIf","ngIfElse"],["tooltipIcon",""],["matSuffix","","svgIcon","lock",3,"matTooltip"],[1,"cdk-visually-hidden"],["matSuffix","","svgIcon","error-icon","matTooltipPosition","after","matTooltipClass","crt-input-error-tooltip","crtTooltip","",3,"tooltipConfig"],["crtTooltip","","matSuffix","","svgIcon","tooltip-icon",3,"tooltipConfig",4,"ngIf"],["crtTooltip","","matSuffix","","svgIcon","tooltip-icon",3,"tooltipConfig"]],template:function(e,t){if(1&e&&(l["ɵɵtemplate"](0,$S,1,1,"crt-skeleton-loader",0),l["ɵɵtemplate"](1,KS,11,20,"ng-template",null,1,l["ɵɵtemplateRefExtractor"])),2&e){const e=l["ɵɵreference"](2);l["ɵɵproperty"]("ngIf",t.loading)("ngIfElse",e)}},directives:[o.NgIf,di,An,o.NgClass,x.KE,j.Nt,ZS,c.Fj,c.JJ,c.oH,zg,St.Hw,x.R9,Dt.gM,un],pipes:[u.X$],styles:["[_nghost-%COMP%]   .crt-input[_ngcontent-%COMP%]{overflow:hidden;padding-bottom:1px}[_nghost-%COMP%]   .crt-input.label-position-left[_ngcontent-%COMP%]{min-height:32px;flex-direction:row;padding-top:8px}[_nghost-%COMP%]   .crt-input.label-position-left[_ngcontent-%COMP%]   .crt-input-control-container[_ngcontent-%COMP%]{align-self:flex-end}[_nghost-%COMP%]   .crt-input.label-position-left[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]{margin-right:10px;display:flex;align-items:flex-start;width:136px;min-width:136px}[_nghost-%COMP%]   .crt-input.label-position-left[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]   .crt-input-label[_ngcontent-%COMP%]{text-align:right;width:100%;margin:9px 0 4px;overflow:hidden;display:-webkit-box;line-height:18px;-webkit-line-clamp:2;-webkit-box-orient:vertical}[_nghost-%COMP%]   .crt-input.label-position-above[_ngcontent-%COMP%]{min-height:52px;flex-direction:column;padding-top:0}[_nghost-%COMP%]   .crt-input.label-position-above[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]{display:flex}[_nghost-%COMP%]   .crt-input.label-position-above[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]   .crt-input-label[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-top:8px}[_nghost-%COMP%]   .crt-input.label-position-above.appearance-outline[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]{margin-bottom:8px}[_nghost-%COMP%]   .crt-input.label-position-hidden[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]   .crt-input-label[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   .crt-input[_ngcontent-%COMP%], [_nghost-%COMP%]   .crt-input[_ngcontent-%COMP%]   .crt-input-control[_ngcontent-%COMP%]{display:flex}[dir=rtl][_nghost-%COMP%]   .crt-input.label-position-left[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]{margin-right:0;margin-left:10px}[dir=rtl][_nghost-%COMP%]   .crt-input.label-position-left[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]   .crt-input-label[_ngcontent-%COMP%]{text-align:left}"],changeDetection:0}),XS=(0,a.gn)([Xs({type:"crt.NumberInput",formControlConfig:{relatesTo:"control"}}),Ks({type:"crt.NumberInput",toolbarConfig:[{name:"base-number-input",groupType:Mu.Inputs,position:30,caption:"Components.NumberInput.Caption",icon:n(64620),defaultPropertyValues:{label:"",control:"",readonly:!1,placeholder:"",labelPosition:"auto"},defaultLocalizableStrings:{label:"Components.NumberInput.Caption"}}],dataValueTypes:[r.DataValueType.Integer,r.DataValueType.Float,r.DataValueType.FLOAT1,r.DataValueType.FLOAT2,r.DataValueType.FLOAT3,r.DataValueType.FLOAT4,r.DataValueType.FLOAT8,r.DataValueType.Money],propertiesPanelComponentTypeName:"crt.BaseInputPropertiesPanelComponent"}),(0,a.w6)("design:paramtypes",[l.Injector,l.ElementRef,l.ChangeDetectorRef])],XS);let eM=(()=>{class e{}return e.ɵfac=function(t){return new(t||e)},e.ɵmod=l["ɵɵdefineNgModule"]({type:e}),e.ɵinj=l["ɵɵdefineInjector"]({}),e})();("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](eM,{declarations:[ZS],exports:[ZS]});let tM=class{constructor(e){this._materialIconsRegistrator=e,this._materialIconsRegistrator.addIcons([{name:"lock",icon:n(47056)},{name:"error-icon",icon:n(91348)}])}};tM.ɵfac=function(e){return new(e||tM)(l["ɵɵinject"](Dn))},tM.ɵmod=l["ɵɵdefineNgModule"]({type:tM}),tM.ɵinj=l["ɵɵdefineInjector"]({imports:[[o.CommonModule,c.UX,j.c,St.Ps,Dt.AV,Rn,eM,pt.forRoot({i18n:Nw}),ui,Cy,pn]]}),tM=(0,a.gn)([(0,r.CrtModule)({viewElements:[XS]}),(0,a.w6)("design:paramtypes",[Dn])],tM),("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](tM,{declarations:[XS],imports:[o.CommonModule,c.UX,j.c,St.Ps,Dt.AV,Rn,eM,pt,ui,Cy,pn],exports:[XS]});let nM=class{constructor(e){this._materialIconsRegistrator=e,this._materialIconsRegistrator.addIcons([{name:"lock",icon:n(47056)},{name:"error-icon",icon:n(91348)},{name:"tooltip-icon",icon:n(87726)},{name:"eye",icon:n(8266)},{name:"eye-blue",icon:n(72373)}])}};function iM(e,t){if(1&e&&l["ɵɵelement"](0,"crt-skeleton-loader",2),2&e){const e=l["ɵɵnextContext"]();l["ɵɵproperty"]("styles",e.skeletonStyles)}}function rM(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵelementStart"](0,"input",12,13),l["ɵɵlistener"]("blur",(function(){l["ɵɵrestoreView"](e);return l["ɵɵnextContext"](2).onBlur()}))("focus",(function(){l["ɵɵrestoreView"](e);return l["ɵɵnextContext"](2).onFocus()}))("keyup",(function(t){l["ɵɵrestoreView"](e);return l["ɵɵnextContext"](2).onKeyUp(t)})),l["ɵɵelementEnd"]()}if(2&e){const e=l["ɵɵnextContext"](2);l["ɵɵproperty"]("type",e.hiddenPassword?"password":"text")("id",e.id)("formControl",e.control)("value",null==e.control?null:e.control.value)("readonly",e.readonly)("autocomplete",e.autocomplete)("placeholder",e.placeholder)("crtAriaRequired",e.required),l["ɵɵattribute"]("aria-label",e.ariaLabel||e.label)}}function aM(e,t){if(1&e&&(l["ɵɵelementContainerStart"](0),l["ɵɵelementStart"](1,"span",14),l["ɵɵtext"](2),l["ɵɵelementEnd"](),l["ɵɵelement"](3,"mat-icon",15),l["ɵɵelementContainerEnd"]()),2&e){const e=l["ɵɵnextContext"](2);l["ɵɵadvance"](2),l["ɵɵtextInterpolate"](e.errorMessages),l["ɵɵadvance"](1),l["ɵɵproperty"]("tooltipConfig",e.getTooltip(e.errorMessages))}}function oM(e,t){1&e&&l["ɵɵelement"](0,"mat-icon",17)}function sM(e,t){if(1&e&&l["ɵɵtemplate"](0,oM,1,0,"mat-icon",16),2&e){const e=l["ɵɵnextContext"](2);l["ɵɵproperty"]("ngIf",e.getTooltipIconVisibility())}}nM.ɵfac=function(e){return new(e||nM)(l["ɵɵinject"](Dn))},nM.ɵmod=l["ɵɵdefineNgModule"]({type:nM}),nM.ɵinj=l["ɵɵdefineInjector"]({imports:[[o.CommonModule,c.u5,j.c,St.Ps,x.lN,c.UX,Rn,pt.forRoot({i18n:Nw}),Dt.AV,ui,Cy,pn]]}),nM=(0,a.gn)([(0,r.CrtModule)({viewElements:[tS]}),(0,a.w6)("design:paramtypes",[Dn])],nM),("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](nM,{declarations:[tS],imports:[o.CommonModule,c.u5,j.c,St.Ps,x.lN,c.UX,Rn,pt,Dt.AV,ui,Cy,pn],exports:[tS]});const lM=function(e){return{"crt-input-required":e}},cM=function(e){return{"password-icon":!0,"opacity-icon":e}};function dM(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵelementStart"](0,"div",3),l["ɵɵelementStart"](1,"div",4),l["ɵɵelementStart"](2,"label",5),l["ɵɵtext"](3),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵelementStart"](4,"mat-form-field",6),l["ɵɵelementStart"](5,"div",7),l["ɵɵtemplate"](6,rM,2,9,"input",8),l["ɵɵelementStart"](7,"mat-icon",9),l["ɵɵlistener"]("mousedown",(function(){l["ɵɵrestoreView"](e);return l["ɵɵnextContext"]().switchPasswordMask()}))("keyup.enter",(function(){l["ɵɵrestoreView"](e);const t=l["ɵɵnextContext"]();return t.hiddenPassword=!t.hiddenPassword})),l["ɵɵpipe"](8,"translate"),l["ɵɵelementEnd"](),l["ɵɵtemplate"](9,aM,4,2,"ng-container",10),l["ɵɵtemplate"](10,sM,1,1,"ng-template",null,11,l["ɵɵtemplateRefExtractor"]),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵelementEnd"]()}if(2&e){const e=l["ɵɵreference"](11),t=l["ɵɵnextContext"]();l["ɵɵproperty"]("ngClass","label-position-"+t.displayLabelPosition+" appearance-"+t.appearance),l["ɵɵadvance"](2),l["ɵɵproperty"]("ngClass",l["ɵɵpureFunction1"](16,lM,t.isShownRequiredMark))("for",t.id),l["ɵɵadvance"](1),l["ɵɵtextInterpolate"](t.label),l["ɵɵadvance"](1),l["ɵɵclassProp"]("crt-input-control-container--invalid",t.invalid),l["ɵɵproperty"]("appearance",t.appearance)("ngClass","label-position-"+t.displayLabelPosition),l["ɵɵadvance"](2),l["ɵɵproperty"]("ngIf",!t.multiline),l["ɵɵadvance"](1),l["ɵɵproperty"]("svgIcon",t.hiddenPassword?"eye":"eye-blue")("ngClass",l["ɵɵpureFunction1"](18,cM,t.hiddenPassword))("tooltipConfig",t.getTooltip(l["ɵɵpipeBind1"](8,14,t.hiddenPassword?"Input.ShowPassword":"Input.HidePassword"))),l["ɵɵadvance"](2),l["ɵɵproperty"]("ngIf",t.invalid)("ngIfElse",e)}}let uM=class extends tS{constructor(e,t,n){super(e,t,n),this.hiddenPassword=!0}switchPasswordMask(){this.hiddenPassword=!this.hiddenPassword,this.textInput.nativeElement.blur()}getTooltipIconVisibility(){return this.validations&&this.validations.every((e=>null===e.valid))&&this.control.touched}};uM.ɵfac=function(e){return new(e||uM)(l["ɵɵdirectiveInject"](l.Injector),l["ɵɵdirectiveInject"](l.ElementRef),l["ɵɵdirectiveInject"](l.ChangeDetectorRef))},uM.ɵcmp=l["ɵɵdefineComponent"]({type:uM,selectors:[["crt-password-input"]],inputs:{validations:"validations"},features:[l["ɵɵInheritDefinitionFeature"]],decls:3,vars:2,consts:[[3,"styles",4,"ngIf","ngIfElse"],["input",""],[3,"styles"],[1,"crt-input","crt-password-input",3,"ngClass"],[1,"crt-input-label-container","crt-password-input-label-container"],[1,"crt-input-label","crt-password-input-label",3,"ngClass","for"],["floatLabel","never",1,"crt-input-control-container","crt-password-input-control-container",3,"appearance","ngClass"],[1,"crt-input-control","crt-password-input-control"],["matInput","",3,"type","id","formControl","value","readonly","autocomplete","placeholder","crtAriaRequired","blur","focus","keyup",4,"ngIf"],["matSuffix","","crtTooltip","","tabindex","0",3,"svgIcon","ngClass","tooltipConfig","mousedown","keyup.enter"],[4,"ngIf","ngIfElse"],["tooltipIcon",""],["matInput","",3,"type","id","formControl","value","readonly","autocomplete","placeholder","crtAriaRequired","blur","focus","keyup"],["textinput",""],[1,"cdk-visually-hidden"],["matSuffix","","svgIcon","error-icon","matTooltipPosition","after","matTooltipClass","crt-input-error-tooltip crt-password-input-error-tooltip","crtTooltip","",3,"tooltipConfig"],["crtTooltip","","matSuffix","","svgIcon","tooltip-icon",4,"ngIf"],["crtTooltip","","matSuffix","","svgIcon","tooltip-icon"]],template:function(e,t){if(1&e&&(l["ɵɵtemplate"](0,iM,1,1,"crt-skeleton-loader",0),l["ɵɵtemplate"](1,dM,12,20,"ng-template",null,1,l["ɵɵtemplateRefExtractor"])),2&e){const e=l["ɵɵreference"](2);l["ɵɵproperty"]("ngIf",t.loading)("ngIfElse",e)}},directives:[o.NgIf,di,o.NgClass,x.KE,St.Hw,x.R9,un,j.Nt,c.Fj,c.JJ,c.oH,zg],pipes:[u.X$],styles:["[_nghost-%COMP%]   .crt-input[_ngcontent-%COMP%]{overflow:hidden;padding-bottom:1px}[_nghost-%COMP%]   .crt-input.label-position-left[_ngcontent-%COMP%]{min-height:32px;flex-direction:row;padding-top:8px}[_nghost-%COMP%]   .crt-input.label-position-left[_ngcontent-%COMP%]   .crt-input-control-container[_ngcontent-%COMP%]{align-self:flex-end}[_nghost-%COMP%]   .crt-input.label-position-left[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]{margin-right:10px;display:flex;align-items:flex-start;width:136px;min-width:136px}[_nghost-%COMP%]   .crt-input.label-position-left[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]   .crt-input-label[_ngcontent-%COMP%]{text-align:right;width:100%;margin:9px 0 4px;overflow:hidden;display:-webkit-box;line-height:18px;-webkit-line-clamp:2;-webkit-box-orient:vertical}[_nghost-%COMP%]   .crt-input.label-position-above[_ngcontent-%COMP%]{min-height:52px;flex-direction:column;padding-top:0}[_nghost-%COMP%]   .crt-input.label-position-above[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]{display:flex}[_nghost-%COMP%]   .crt-input.label-position-above[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]   .crt-input-label[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-top:8px}[_nghost-%COMP%]   .crt-input.label-position-above.appearance-outline[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]{margin-bottom:8px}[_nghost-%COMP%]   .crt-input.label-position-hidden[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]   .crt-input-label[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   .crt-input[_ngcontent-%COMP%], [_nghost-%COMP%]   .crt-input[_ngcontent-%COMP%]   .crt-input-control[_ngcontent-%COMP%]{display:flex}[dir=rtl][_nghost-%COMP%]   .crt-input.label-position-left[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]{margin-right:0;margin-left:10px}[dir=rtl][_nghost-%COMP%]   .crt-input.label-position-left[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]   .crt-input-label[_ngcontent-%COMP%]{text-align:left}"]}),uM=(0,a.gn)([Xs({type:"crt.PasswordInput",formControlConfig:{relatesTo:"control"}}),(0,a.w6)("design:paramtypes",[l.Injector,l.ElementRef,l.ChangeDetectorRef])],uM);let pM=class{constructor(e){this._materialIconsRegistrator=e,this._materialIconsRegistrator.addIcons([{name:"lock",icon:n(47056)},{name:"error-icon",icon:n(91348)},{name:"tooltip-icon",icon:n(87726)},{name:"eye",icon:n(8266)},{name:"eye-blue",icon:n(72373)}])}};pM.ɵfac=function(e){return new(e||pM)(l["ɵɵinject"](Dn))},pM.ɵmod=l["ɵɵdefineNgModule"]({type:pM}),pM.ɵinj=l["ɵɵdefineInjector"]({imports:[[o.CommonModule,c.u5,j.c,St.Ps,x.lN,c.UX,Rn,pt.forRoot({i18n:Nw}),Dt.AV,ui,Cy,pn]]}),pM=(0,a.gn)([(0,r.CrtModule)({viewElements:[uM]}),(0,a.w6)("design:paramtypes",[Dn])],pM),("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](pM,{declarations:[uM],imports:[o.CommonModule,c.u5,j.c,St.Ps,x.lN,c.UX,Rn,pt,Dt.AV,ui,Cy,pn],exports:[uM]});const mM=st.create({token:zx,mappings:[{predicate:e=>r.NUMERIC_DATA_VALUE_TYPES.includes(e),injectable:Vx},{predicate:e=>r.DATE_TIME_DATA_VALUE_TYPES.includes(e),injectable:Rx},{predicate:r.DataValueType.Boolean,injectable:Ax},{predicate:r.DataValueType.Lookup,injectable:Fx}],default:Lx});let hM=class{constructor(e){this._materialIconsRegistrar=e,this._materialIconsRegistrar.addIcons([{name:"data-grid",icon:n(56068)},{name:"pin",icon:n(91912)},{name:"arrow",icon:n(48988)},{name:"tree_opened_parent",icon:n(23613)},{name:"tree_parent",icon:n(66520)}])}};hM.ɵfac=function(e){return new(e||hM)(l["ɵɵinject"](Dn))},hM.ɵmod=l["ɵɵdefineNgModule"]({type:hM}),hM.ɵinj=l["ɵɵdefineInjector"]({providers:[LI,BI,{provide:Rx,useValue:gI},{provide:Ax,useValue:uI},{provide:Lx,useValue:PI},{provide:Vx,useValue:bI},{provide:Fx,useValue:AI},mM,Ui],imports:[[nM,o.CommonModule,pt.forRoot({i18n:Nw}),mI,pI,Jx,fI,RI,CI,kI,xy.withConfig({minWidth:114,defaultWidth:250}),Nt,mi,Rn,ui,Yp._t,St.Ps,Qp.p0,nS.Cv,GI.ym,Oi,Pu,US.nZ,Ji,$i]]}),hM=(0,a.gn)([(0,r.CrtModule)({includes:[mI,fI,kI,CI]}),(0,a.w6)("design:paramtypes",[Dn])],hM),("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](hM,{declarations:[iI,HS,aI,oI,rI,sI,tI,Xx,Kx],imports:[nM,o.CommonModule,pt,mI,pI,Jx,fI,RI,CI,kI,xy,Nt,mi,Rn,ui,Yp._t,St.Ps,Qp.p0,nS.Cv,GI.ym,Oi,Pu,US.nZ,Ji,$i],exports:[iI,HS,rI,aI]});let gM=(()=>{class e{constructor(){this.items=[],this.header={},this.sorting=[],this.loading=!1,this.placeholder=!1,this.paginationChange=new l.EventEmitter}onColumnsChanged(e){this.columns=[...e]}onPaginationChanged(e){this.paginationChange.emit(e)}onSortingChanged(e){this.sorting=[...e]}onColumnCaptionChange(e){this.columns=this.columns.map((t=>Object.assign(Object.assign({},t),{caption:t.id===e.columnId?e.columnCaption:t.caption})))}}return e.ɵfac=function(t){return new(t||e)},e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["crt-data-table-host"]],inputs:{items:"items",header:"header",columns:"columns",sorting:"sorting",features:"features",loading:"loading",placeholder:"placeholder",primaryColumnName:"primaryColumnName",hierarchicalColumnName:"hierarchicalColumnName"},outputs:{paginationChange:"paginationChange"},decls:1,vars:9,consts:[[3,"header","columns","sorting","features","loading","placeholder","primaryColumnName","hierarchicalColumnName","items","columnsChange","sortingChange","paginationChange","columnCaptionChange"]],template:function(e,t){1&e&&(l["ɵɵelementStart"](0,"crt-data-table",0),l["ɵɵlistener"]("columnsChange",(function(e){return t.onColumnsChanged(e)}))("sortingChange",(function(e){return t.onSortingChanged(e)}))("paginationChange",(function(e){return t.onPaginationChanged(e)}))("columnCaptionChange",(function(e){return t.onColumnCaptionChange(e)})),l["ɵɵelementEnd"]()),2&e&&l["ɵɵproperty"]("header",t.header)("columns",t.columns)("sorting",t.sorting)("features",t.features)("loading",t.loading)("placeholder",t.placeholder)("primaryColumnName",t.primaryColumnName)("hierarchicalColumnName",t.hierarchicalColumnName)("items",t.items)},directives:[HS],encapsulation:2}),e})(),fM=(()=>{class e{}return e.ɵfac=function(t){return new(t||e)},e.ɵmod=l["ɵɵdefineNgModule"]({type:e}),e.ɵinj=l["ɵɵdefineInjector"]({imports:[[o.CommonModule,hM]]}),e})();function vM(e){return Object.values(e).forEach((e=>{var t,n;const i=null===(n=null===(t=e.cellView)||void 0===t?void 0:t.linkable)||void 0===n?void 0:n.clicked;null==i||i.subscribe((({payload:t})=>{window.alert(`You click column '${e.caption}' with value '${t[e.code]}'`)}))}))}("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](fM,{declarations:[gM],imports:[o.CommonModule,hM],exports:[gM]});const bM={position:{id:"position",code:"position",caption:"Position",dataValueType:r.DataValueType.Integer},name:{id:"name",code:"name",caption:"Name",dataValueType:r.DataValueType.Text,cellView:{linkable:{href:"https://www.google.com/search?q=chemical+element",target:"_blank"}}},symbol:{id:"symbol",code:"symbol",caption:"Symbol",dataValueType:r.DataValueType.Text,cellView:{linkable:{mode:"preventDefault",clicked:new l.EventEmitter}}},active:{id:"active",code:"active",caption:"Is Active",dataValueType:r.DataValueType.Boolean},weight:{id:"weight",code:"weight",caption:"Weight",dataValueType:r.DataValueType.FLOAT4},discoveryDate:{id:"discoveryDate",code:"discoveryDate",caption:"Discovery Date",dataValueType:r.DataValueType.Date},text:{id:"text",code:"text",caption:"Text",dataValueType:r.DataValueType.Text},id:{id:"id",code:"id",caption:"Id hidden",dataValueType:r.DataValueType.Guid,hidden:!0}},CM=(Object.keys(bM).reduce(((e,t)=>{const n=bM[t];return e[t]=Object.assign(Object.assign({},n),{width:void 0,hidden:!0===n.hidden,sticky:{active:!0===n.sticky,enabled:!0===n.sticky}}),e}),{}),"\nLorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore\nmagna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo\nconsequat.\n".trim()),yM={columns:[bM.position,bM.name,bM.symbol,bM.discoveryDate,bM.weight,bM.active,bM.text],items:[{position:1,name:"Hydrogen",text:CM,active:void 0,discoveryDate:new Date("01.01.1766"),weight:1.0079,symbol:"H",id:(0,r.generateGuid)()},{position:2,name:"Helium",text:CM,active:!0,discoveryDate:new Date("01.01.1868"),weight:4.0026,symbol:"He",id:(0,r.generateGuid)()},{position:3,name:"Lithium",text:CM,active:void 0,discoveryDate:new Date("01.01.1817"),weight:6.941,symbol:"Li",id:(0,r.generateGuid)()},{position:4,name:"Beryllium",text:CM,active:void 0,discoveryDate:new Date("01.01.1798"),weight:9.0122,symbol:"Be",id:(0,r.generateGuid)()},{position:5,name:"Boron",text:CM,active:void 0,discoveryDate:new Date("01.01.1808"),weight:10.811,symbol:"B",id:(0,r.generateGuid)()},{position:6,name:"Carbon",text:CM,active:void 0,discoveryDate:new Date("3750 BC"),weight:12.0107,symbol:"C",id:(0,r.generateGuid)()},{position:7,name:"Nitrogen",text:CM,active:void 0,discoveryDate:new Date("01.01.1772"),weight:14.0067,symbol:"N",id:(0,r.generateGuid)()},{position:8,name:"Oxygen",text:CM,active:void 0,discoveryDate:new Date("01.01.1771"),weight:15.9994,symbol:"O",id:(0,r.generateGuid)()},{position:9,name:"Fluorine",text:CM,active:void 0,discoveryDate:new Date("01.01.1810"),weight:18.9984,symbol:"F",id:(0,r.generateGuid)()},{position:10,name:"Neon",text:CM,active:void 0,discoveryDate:new Date("01.01.1898"),weight:20.1797,symbol:"Ne",id:(0,r.generateGuid)()}],primaryColumnName:"id",features:{columns:{sorting:!0,resizing:!0,renaming:!1,dragAndDrop:!0},rows:{numeration:!0,selectionCheckbox:!0},cells:{selectable:!0}},sorting:[{columnCode:bM.weight.code,direction:"asc"}]};vM(yM.columns);Object.assign(Object.assign({},yM),{activeColumnId:bM.name.id});const wM=[],_M={};Object.entries(r.DataValueType).forEach((([e,t])=>{wM.push({id:e,code:e,caption:e,dataValueType:r.DataValueType[t]}),_M[e]=""}));Object.assign(Object.assign({},yM),{columns:wM,items:[_M]}),Object.assign(Object.assign({},yM),{columns:[Object.assign(Object.assign({},bM.position),{width:114}),bM.name,Object.assign(Object.assign({},bM.symbol),{width:114}),bM.weight,Object.assign(Object.assign({},bM.text),{width:600})]}),Object.assign(Object.assign({},yM),{columns:[Object.assign(Object.assign({},bM.id),{hidden:!0}),Object.assign(Object.assign({},bM.position),{hidden:!0}),bM.name,bM.symbol,bM.weight,Object.assign(Object.assign({},bM.text),{hidden:!0})]}),Object.assign(Object.assign({},yM),{columns:[Object.assign(Object.assign({},bM.position),{width:10}),Object.assign(Object.assign({},bM.name),{width:0}),Object.assign(Object.assign({},bM.symbol),{width:-10})]}),Object.assign(Object.assign({},yM),{columns:[bM.position,bM.name,bM.active,bM.id,{id:"notFound",code:"notFound",caption:"Not Found Column",dataValueType:r.DataValueType.Text}]});const{items:xM,primaryColumnName:IM}=yM,SM=(Object.assign(Object.assign({},yM),{selectedRows:[xM[0][IM],xM[2][IM],xM[4][IM]]}),Object.assign(Object.assign({},yM),{columns:[Object.assign(Object.assign({},bM.position),{sticky:!0}),Object.assign(Object.assign({},bM.symbol),{sticky:!0}),bM.name,bM.weight,bM.active,bM.text]}),Object.assign(Object.assign({},yM),{header:{sticky:!0}}),new Rl(null));yM.items.forEach((e=>{SM.push(e)}));Object.assign(Object.assign({},yM),{items:SM,columns:[Object.assign(Object.assign({},bM.position),{cellView:{type:"crt.TestComponent",column:bM.position,value:"test value"}})]}),new Map([["crt.TestComponent","crt-test"]]);const MM={name:{id:"name",code:"name",caption:"Name",dataValueType:r.DataValueType.Text,cellView:{linkable:{mode:"preventDefault",clicked:new l.EventEmitter}}},dueDate:{id:"dueDate",code:"dueDate",caption:"Due date",dataValueType:r.DataValueType.Date},type:{id:"type",code:"type",caption:"Type",dataValueType:r.DataValueType.Text,cellView:{linkable:{mode:"preventDefault",clicked:new l.EventEmitter}}}};vM({columns:Object.values(MM),items:[{id:"item_1",parentId:null,name:"Item 1",type:"type 1",dueDate:new Date("05.01.2021")},{id:"item_1_1",parentId:"item_1",name:"Item 1 1",type:"type 1 1",dueDate:new Date("01.01.2022")},{id:"item_1_1_1",parentId:"item_1_1",name:"Item 1 1 1",type:"type 1 1 1",dueDate:null},{id:"item_1_2",parentId:"item_1",name:"Item 1 2",type:"type 1 2",dueDate:new Date("02.02.2022")},{id:"item_2",parentId:null,name:"Item 2",type:"type 2",dueDate:null},{id:"item_2_1",parentId:"item_2",name:"item 2 1",type:"type 2 1",dueDate:null},{id:"item_2_2",parentId:"item_2",name:"item 2 2",type:"type 2 2",dueDate:null},{id:"item_2_3",parentId:"item_2",name:"item 2 3",type:"type 2 3",dueDate:null},{id:"item_2_3_1",parentId:"item_2_3",name:"item 2 3 1",type:"type 2 3 1",dueDate:null},{id:"item_3",parentId:null,name:"Item 3",type:"type 3",dueDate:null},{id:"item_3_1",parentId:"item_3",name:"Item 3 1",type:"type 3 1",dueDate:null},{id:"item_3_2",parentId:"item_3",name:"Item 3 2",type:"type 3 2",dueDate:null},{id:"item_4",parentId:null,name:"Item 4",type:"type 4",dueDate:null}],primaryColumnName:"id",hierarchicalColumnName:"parentId",features:{rows:{hierarchical:!0,rowSelection:!1}}}.columns);let DM=(()=>{class e{constructor(){this._destroyed$=new h.Subject,this._itemsLoading$=new h.Subject,this.primaryColumnName=yM.primaryColumnName,this.columns=yM.columns,this.loading=!1,this.loadingDelay=1e3,this.paginationChange=new l.EventEmitter}set pageSize(e){this._pageSize=e,this.items=this._getItemsPage()}_appendNextItemsPage(){const e=[...this.items],t=Math.ceil(e.length/this._pageSize);this.items=this.pagesCount>t?[...e,...this._getItemsPage()]:e}_getItemsPage(){const e=[];for(;e.length<this._pageSize;)e.push(...yM.items);return e.slice(0,this._pageSize).map((e=>Object.assign(Object.assign({},e),{id:(0,r.generateGuid)()})))}ngOnInit(){this._itemsLoading$.pipe((0,En.b)((()=>this.loading=!0)),(0,rl.g)(this.loadingDelay),(0,En.b)((()=>this._appendNextItemsPage())),(0,En.b)((()=>this.loading=!1)),(0,b.R)(this._destroyed$)).subscribe()}ngOnDestroy(){this._destroyed$.next(),this._destroyed$.complete()}onPaginationChanged(){this.paginationChange.emit({type:"infiniteScroll"}),this._itemsLoading$.next()}}return e.ɵfac=function(t){return new(t||e)},e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["crt-data-table-infinite-scroll-host"]],inputs:{pagesCount:"pagesCount",pageSize:"pageSize",loadingDelay:"loadingDelay"},outputs:{paginationChange:"paginationChange"},decls:1,vars:4,consts:[[3,"items","columns","loading","primaryColumnName","paginationChange"]],template:function(e,t){1&e&&(l["ɵɵelementStart"](0,"crt-data-table-host",0),l["ɵɵlistener"]("paginationChange",(function(){return t.onPaginationChanged()})),l["ɵɵelementEnd"]()),2&e&&l["ɵɵproperty"]("items",t.items)("columns",t.columns)("loading",t.loading)("primaryColumnName",t.primaryColumnName)},directives:[gM],encapsulation:2}),e})(),PM=(()=>{class e{}return e.ɵfac=function(t){return new(t||e)},e.ɵmod=l["ɵɵdefineNgModule"]({type:e}),e.ɵinj=l["ɵɵdefineInjector"]({imports:[[o.CommonModule,fM]]}),e})();("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](PM,{declarations:[DM],imports:[o.CommonModule,fM],exports:[DM]});let TM=class extends Us{};TM.ɵfac=function(){let e;return function(t){return(e||(e=l["ɵɵgetInheritedFactory"](TM)))(t||TM)}}(),TM.ɵcmp=l["ɵɵdefineComponent"]({type:TM,selectors:[["crt-test"]],features:[l["ɵɵInheritDefinitionFeature"]],decls:0,vars:0,template:function(e,t){},encapsulation:2}),TM=(0,a.gn)([Xs({type:"crt.TestComponent"})],TM);let kM=class{};kM.ɵfac=function(e){return new(e||kM)},kM.ɵmod=l["ɵɵdefineNgModule"]({type:kM}),kM.ɵinj=l["ɵɵdefineInjector"]({}),kM=(0,a.gn)([(0,r.CrtModule)({viewElements:[TM]})],kM),("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](kM,{declarations:[TM],exports:[TM]});let EM=(()=>{class e{selectColumns(e){return(0,h.of)([])}}return e.ɵfac=function(t){return new(t||e)},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})();var NM=(()=>(function(e){e.Hide="hide",e.Pin="pin",e.Unpin="unpin",e.Rename="rename"}(NM||(NM={})),NM))();const OM=new l.InjectionToken("A row action menu item"),jM=new l.InjectionToken("A data grid features"),AM=new l.InjectionToken("A state handler interface for data grid.");let RM=(()=>{class e{constructor(e,t,n){this._injector=e,this._columnSelectionService=t,this._stateHandler=n,this._columns=[],this.renameColumnId$=new h.Subject}set columns(e){this._columns=null!=e?e:[]}get columns(){return this._columns}addColumn(){return this._columnSelectionService.selectColumns(this._injector).pipe((0,Pn.w)((e=>this.onColumnsChanged([...this.columns,...e]))))}deleteColumn(e){const t=this.columns.filter((t=>t.id!==e));return this.onColumnsChanged(t)}startRenamingColumn(e){this.renameColumnId$.next(e)}toggleColumnStickiness(e){const t=[...this.columns];return t.forEach((t=>{t.id===e&&(t.sticky=!t.sticky)})),this.onColumnsChanged(t)}onColumnsChanged(e){const t=e&&[...e].sort(VI);return this._stateHandler.handle({columns:t},this._injector).pipe((0,g.U)((()=>(0,so.Z)(t))))}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](l.Injector),l["ɵɵinject"](EM),l["ɵɵinject"](AM))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})(),FM=(()=>{class e{constructor(e){this._dataGridColumnsStateHandler=e,this._hideColumnActionMenuItem={type:"action",code:NM.Hide,icon:"eye-crossed",caption:"DataGrid.ColumnToolbar.Hide",handler:e=>(0,a.mG)(this,void 0,void 0,(function*(){const t=yield this._dataGridColumnsStateHandler.deleteColumn(e.id).toPromise();this._onColumnsChangedHandler(t)}))},this._renameColumnActionMenuItem={type:"action",code:NM.Rename,icon:"rename",caption:"DataGrid.ColumnToolbar.Rename",handler:e=>{this._dataGridColumnsStateHandler.startRenamingColumn(e.id)}},this._pinColumnActionMenuItem={type:"action",code:NM.Pin,icon:"freeze",caption:"DataGrid.ColumnToolbar.Freeze",handler:e=>(0,a.mG)(this,void 0,void 0,(function*(){const t=yield this._dataGridColumnsStateHandler.toggleColumnStickiness(e.id).toPromise();this._onColumnsChangedHandler(t)}))},this._unpinColumnActionMenuItem=Object.assign(Object.assign({},this._pinColumnActionMenuItem),{code:NM.Unpin,caption:"DataGrid.ColumnToolbar.Unfreeze"}),this._onColumnsChangedHandler=function(){}}registerColumnsChangedHandler(e){return this._onColumnsChangedHandler=e,this}getToolsMenuItems(e,t){const n=e.sticky?this._unpinColumnActionMenuItem:this._pinColumnActionMenuItem,i=t?[this._renameColumnActionMenuItem]:[];return[n,this._hideColumnActionMenuItem,...i]}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](RM))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})(),VM=(()=>{class e{handle(e,t){return(0,h.of)(void 0)}}return e.ɵfac=function(t){return new(t||e)},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})();const LM=function(e,t,n){return{row:e,rowId:t,injector:n}},zM=function(e){return{$implicit:e}};function BM(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵelementStart"](0,"crt-button",7,8),l["ɵɵlistener"]("focused",(function(){const t=l["ɵɵrestoreView"](e).ngIf;return l["ɵɵnextContext"](3).setFocusedRow(t.rowId)}))("blurred",(function(){l["ɵɵrestoreView"](e);return l["ɵɵnextContext"](3).setFocusedRow(null)}))("click",(function(e){return e.stopPropagation()}))("menuOpened",(function(){const t=l["ɵɵrestoreView"](e).ngIf;return l["ɵɵnextContext"](3).setActiveRow(t.rowId)}))("menuClosed",(function(){l["ɵɵrestoreView"](e);return l["ɵɵnextContext"](3).setActiveRow(null)})),l["ɵɵpipe"](2,"translate"),l["ɵɵelementEnd"]()}if(2&e){const e=t.ngIf,n=l["ɵɵreference"](1);l["ɵɵnextContext"]();const i=l["ɵɵreference"](3),r=l["ɵɵnextContext"](2);l["ɵɵclassProp"]("crt-toolbar-visible",(null==n?null:n.menuOpen)||e.rowId===r.focusedRowId),l["ɵɵproperty"]("crtMenuTriggerFor",i)("crtMenuTriggerData",l["ɵɵpureFunction1"](14,zM,l["ɵɵpureFunction3"](10,LM,e.row,e.rowId,r.injector)))("iconPosition","only-icon")("icon","actions-button-icon")("size",r.buttonSize)("title",l["ɵɵpipeBind1"](2,8,"DataGrid.RowToolbar.Title"))}}function GM(e,t){if(1&e&&(l["ɵɵelementStart"](0,"div",3),l["ɵɵtemplate"](1,BM,3,16,"crt-button",4),l["ɵɵelement"](2,"crt-menu",5,6),l["ɵɵelementEnd"]()),2&e){const e=t.$implicit,n=l["ɵɵnextContext"](2);l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",e),l["ɵɵadvance"](1),l["ɵɵproperty"]("menuItems",n.rowMenuItems)}}function HM(e,t){1&e&&(l["ɵɵelementContainerStart"](0),l["ɵɵtemplate"](1,GM,4,2,"div",2),l["ɵɵelementContainerEnd"]())}function UM(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵelementStart"](0,"div",10),l["ɵɵelementStart"](1,"crt-button",11,12),l["ɵɵlistener"]("focused",(function(){const t=l["ɵɵrestoreView"](e).$implicit;return l["ɵɵnextContext"](2).setFocusedColumn(t.id)}))("blurred",(function(){l["ɵɵrestoreView"](e);return l["ɵɵnextContext"](2).setFocusedColumn(null)}))("menuOpened",(function(){const t=l["ɵɵrestoreView"](e).$implicit;return l["ɵɵnextContext"](2).setActiveColumn(t.id)}))("menuClosed",(function(){l["ɵɵrestoreView"](e);return l["ɵɵnextContext"](2).setActiveColumn(null)})),l["ɵɵpipe"](4,"translate"),l["ɵɵelementEnd"](),l["ɵɵelement"](5,"crt-menu",5,13),l["ɵɵelementEnd"]()}if(2&e){const e=t.$implicit,n=l["ɵɵreference"](3),i=l["ɵɵreference"](6),r=l["ɵɵnextContext"](2);l["ɵɵadvance"](1),l["ɵɵclassProp"]("crt-toolbar-visible",(null==n?null:n.menuOpen)||e.id===r.focusedColumnId),l["ɵɵproperty"]("crtMenuTriggerFor",i)("crtMenuTriggerData",l["ɵɵpureFunction1"](12,zM,e))("size",r.buttonSize)("iconPosition","only-icon")("icon","actions-button-icon")("title",l["ɵɵpipeBind1"](4,10,"DataGrid.ColumnToolbar.Title")),l["ɵɵattribute"]("aria-label",null==e?null:e.caption),l["ɵɵadvance"](4),l["ɵɵproperty"]("menuItems",r.getColumnMenuItems(e))}}function ZM(e,t){1&e&&(l["ɵɵelementContainerStart"](0),l["ɵɵtemplate"](1,UM,7,14,"div",9),l["ɵɵelementContainerEnd"]())}function $M(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵelementContainerStart"](0),l["ɵɵelementStart"](1,"crt-button",16),l["ɵɵlistener"]("clicked",(function(){l["ɵɵrestoreView"](e);return l["ɵɵnextContext"](3).addColumns()})),l["ɵɵpipe"](2,"translate"),l["ɵɵpipe"](3,"translate"),l["ɵɵelementEnd"](),l["ɵɵelementContainerEnd"]()}if(2&e){const e=l["ɵɵnextContext"](3);l["ɵɵadvance"](1),l["ɵɵproperty"]("size",e.buttonSize)("title",l["ɵɵpipeBind1"](3,7,"DataGrid.AddColumns"))("icon","add-button-icon")("iconPosition","only-icon"),l["ɵɵattribute"]("aria-label",l["ɵɵpipeBind1"](2,5,"DataGrid.AddColumns"))}}function WM(e,t){if(1&e&&(l["ɵɵelementContainerStart"](0),l["ɵɵelement"](1,"crt-button",17,8),l["ɵɵpipe"](3,"translate"),l["ɵɵpipe"](4,"translate"),l["ɵɵelement"](5,"crt-menu",5,18),l["ɵɵelementContainerEnd"]()),2&e){const e=l["ɵɵreference"](6),t=l["ɵɵnextContext"](3);l["ɵɵadvance"](1),l["ɵɵproperty"]("crtMenuTriggerFor",e)("size",t.buttonSize)("iconPosition","only-icon")("icon","actions-button-icon")("title",l["ɵɵpipeBind1"](3,7,"DataGrid.ActionsToolbar.Title")),l["ɵɵattribute"]("aria-label",l["ɵɵpipeBind1"](4,9,"DataGrid.ActionsToolbar.AriaLabel")),l["ɵɵadvance"](4),l["ɵɵproperty"]("menuItems",t.actionsMenuItems)}}function qM(e,t){if(1&e&&(l["ɵɵelementStart"](0,"div",15),l["ɵɵtemplate"](1,$M,4,9,"ng-container",1),l["ɵɵtemplate"](2,WM,7,11,"ng-container",1),l["ɵɵelementEnd"]()),2&e){const e=l["ɵɵnextContext"](2);l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",null==e.features||null==e.features.header||null==e.features.header.toolbar?null:e.features.header.toolbar.columnsSelection),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",null==e.features||null==e.features.header||null==e.features.header.toolbar?null:e.features.header.toolbar.actions)}}function YM(e,t){1&e&&(l["ɵɵelementContainerStart"](0),l["ɵɵtemplate"](1,qM,3,2,"div",14),l["ɵɵelementContainerEnd"]())}let JM=class extends Us{constructor(e,t,n,i,r){super(e),this.injector=e,this.rowMenuItems=t,this._defaultFeatures=n,this._columnToolbar=i,this._dataGridColumnsStateHandler=r,this._defaultHeader={sticky:!0},this._destroyed$=new h.Subject,this._columns=[],this._header=this._defaultHeader,this._features=this._defaultFeatures||{},this.dataItems=[],this.actionsMenuItems=[{type:"action",code:"saveForAll",caption:"DataGrid.ActionsToolbar.SaveForAll",icon:"save",handler:()=>this._onSaveForAll(),visible:()=>{var e,t;return null===(t=null===(e=this._features)||void 0===e?void 0:e.operations)||void 0===t?void 0:t.canCreateDefaultGridSettings}},{type:"action",code:"resetToDefault",caption:"DataGrid.ActionsToolbar.ResetToDefault",icon:"reset",handler:()=>this._onResetToDefault()}],this.buttonSize=vb.Medium,this.columnsChange=new l.EventEmitter,this.columnCaptionChange=new l.EventEmitter,this.selectedRowsChange=new l.EventEmitter,this.sortingChange=new l.EventEmitter,this.paginationChange=new l.EventEmitter,this.saveForAll=new l.EventEmitter,this.resetToDefault=new l.EventEmitter,this.rowDoubleClick=new l.EventEmitter,this._setColumns([]),this._setHeaderToolbarWidth(),this._columnToolbar.registerColumnsChangedHandler((e=>{this.columns=e,this.columnsChange.emit(e)})),this._dataGridColumnsStateHandler.renameColumnId$.pipe((0,b.R)(this._destroyed$)).subscribe((e=>this.renamingColumnId=e))}set features(e){this._features=(0,Ox.Z)({},e,this._defaultFeatures),this._setHeaderToolbarWidth()}get features(){return this._features}set items(e){this.dataItems=e,this.setActiveRow(null)}set columns(e){this._setColumns(e)}get columns(){return this._columns}set header(e){this._header=null!=e?e:this._defaultHeader,this._setHeaderToolbarWidth()}get header(){return this._header}_setHeaderToolbarWidth(){var e,t;const n=Object.values((null===(t=null===(e=this._features)||void 0===e?void 0:e.header)||void 0===t?void 0:t.toolbar)||{}).filter((e=>e)).length,i=n?24*n+16:0;this._header=Object.assign(Object.assign({},this._header),{toolbar:{width:i}})}_setColumns(e){this._columns=Array.isArray(e)?e:[],this._columns=this._columns.filter((e=>e)).sort(VI),this._dataGridColumnsStateHandler.columns=this._columns,this.setActiveColumn(null),this.setFocusedColumn(null)}_onSaveForAll(){this.saveForAll.emit()}_onResetToDefault(){this.resetToDefault.emit()}addColumns(){return(0,a.mG)(this,void 0,void 0,(function*(){const e=yield this._dataGridColumnsStateHandler.addColumn().toPromise();this.columnsChange.emit(e)}))}setActiveColumn(e){this.activeColumnId=e}setFocusedColumn(e){this.focusedColumnId=e}setActiveRow(e){this.activeRowId=e,this.focusedRowId=null}setFocusedRow(e){this.focusedRowId=e}getColumnMenuItems(e){var t,n;const i=null===(n=null===(t=this.features)||void 0===t?void 0:t.columns)||void 0===n?void 0:n.renaming;return this._columnToolbar.getToolsMenuItems(e,i)}onColumnsChanged(e){return(0,a.mG)(this,void 0,void 0,(function*(){this.columns=yield this._dataGridColumnsStateHandler.onColumnsChanged(e).toPromise(),this.columnsChange.emit(this.columns)}))}onColumnCaptionChanged(e){this.renamingColumnId=null;const t=this.columns.find((({id:t})=>e.columnId===t)),n=e.columnCaption!==t.caption;(null==e?void 0:e.columnCaption)&&(null==e?void 0:e.columnId)&&n&&this.columnCaptionChange.next(e)}onSelectedRowsChanged(e){this.selectedRowsChange.emit(e)}onPaginationChanged(e){return(0,a.mG)(this,void 0,void 0,(function*(){this.loading||this.paginationChange.emit(e)}))}onSortingChanged(e){this.sortingChange.emit(e)}ngOnDestroy(){this._destroyed$.next(),this._destroyed$.complete()}};JM.ɵfac=function(e){return new(e||JM)(l["ɵɵdirectiveInject"](l.Injector),l["ɵɵdirectiveInject"](OM,8),l["ɵɵdirectiveInject"](jM,8),l["ɵɵdirectiveInject"](FM),l["ɵɵdirectiveInject"](RM))},JM.ɵcmp=l["ɵɵdefineComponent"]({type:JM,selectors:[["crt-data-grid"]],inputs:{features:"features",items:"items",columns:"columns",primaryColumnName:"primaryColumnName",selectedRows:"selectedRows",sorting:"sorting",placeholder:"placeholder",header:"header"},outputs:{columnsChange:"columnsChange",columnCaptionChange:"columnCaptionChange",selectedRowsChange:"selectedRowsChange",sortingChange:"sortingChange",paginationChange:"paginationChange",saveForAll:"saveForAll",resetToDefault:"resetToDefault",rowDoubleClick:"rowDoubleClick"},features:[l["ɵɵProvidersFeature"]([RM,FM]),l["ɵɵInheritDefinitionFeature"]],decls:4,vars:16,consts:[[1,"data-grid",3,"items","columns","features","placeholder","header","sorting","activeColumnId","activeRowId","selectedRows","primaryColumnName","renamingColumnId","loading","ngClass","columnsChange","columnCaptionChange","selectedRowsChange","sortingChange","paginationChange","rowDoubleClick"],[4,"ngIf"],["class","crt-row-toolbar-wrapper",4,"crtDataTableRowToolbar"],[1,"crt-row-toolbar-wrapper"],["class","crt-toolbar crt-row-toolbar",3,"crtMenuTriggerFor","crtMenuTriggerData","iconPosition","icon","size","crt-toolbar-visible","title","focused","blurred","click","menuOpened","menuClosed",4,"ngIf"],[3,"menuItems"],["rowMenu",""],[1,"crt-toolbar","crt-row-toolbar",3,"crtMenuTriggerFor","crtMenuTriggerData","iconPosition","icon","size","title","focused","blurred","click","menuOpened","menuClosed"],["trigger","crtMenuTrigger"],["class","crt-column-toolbar-wrapper",4,"crtDataTableColumnToolbar"],[1,"crt-column-toolbar-wrapper"],[1,"crt-toolbar","crt-column-toolbar",3,"crtMenuTriggerFor","crtMenuTriggerData","size","iconPosition","icon","title","focused","blurred","menuOpened","menuClosed"],["button","","trigger","crtMenuTrigger"],["columnMenu",""],["class","crt-header-toolbar",4,"crtDataTableHeaderToolbar"],[1,"crt-header-toolbar"],["data-qa","add-columns-button",1,"crt-toolbar",3,"size","title","icon","iconPosition","clicked"],["data-qa","data-grid-actions-button",1,"crt-toolbar",3,"crtMenuTriggerFor","size","iconPosition","icon","title"],["actionsMenu",""]],template:function(e,t){1&e&&(l["ɵɵelementStart"](0,"crt-data-table",0),l["ɵɵlistener"]("columnsChange",(function(e){return t.onColumnsChanged(e)}))("columnCaptionChange",(function(e){return t.onColumnCaptionChanged(e)}))("selectedRowsChange",(function(e){return t.onSelectedRowsChanged(e)}))("sortingChange",(function(e){return t.onSortingChanged(e)}))("paginationChange",(function(e){return t.onPaginationChanged(e)}))("rowDoubleClick",(function(e){return t.rowDoubleClick.emit(e)})),l["ɵɵtemplate"](1,HM,2,0,"ng-container",1),l["ɵɵtemplate"](2,ZM,2,0,"ng-container",1),l["ɵɵtemplate"](3,YM,2,0,"ng-container",1),l["ɵɵelementEnd"]()),2&e&&(l["ɵɵproperty"]("items",t.dataItems)("columns",t.columns)("features",t.features)("placeholder",t.placeholder)("header",t.header)("sorting",t.sorting)("activeColumnId",t.activeColumnId||t.focusedColumnId)("activeRowId",t.activeRowId||t.focusedRowId)("selectedRows",t.selectedRows)("primaryColumnName",t.primaryColumnName)("renamingColumnId",t.renamingColumnId)("loading",t.loading)("ngClass",t.classes),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",null==t.features||null==t.features.rows?null:t.features.rows.toolbar),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",null==t.features||null==t.features.columns?null:t.features.columns.toolbar),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",null==t.features||null==t.features.header?null:t.features.header.toolbar))},styles:["[_nghost-%COMP%]{display:block;width:100%;height:100%;overflow:auto}.menu-icon[_ngcontent-%COMP%]{width:16px;height:16px}"],changeDetection:0}),(0,a.gn)([(0,r.CrtInput)(),(0,a.w6)("design:type",Object),(0,a.w6)("design:paramtypes",[Object])],JM.prototype,"items",null),JM=(0,a.gn)([Xs({type:"crt.DataGrid"}),Ks({type:"crt.DataGrid",toolbarConfig:[{name:"data-grid",groupType:Mu.Components,position:20,caption:"Components.DataGrid.Caption",icon:n(56068),defaultPropertyValues:{}}],interfaceDesignerPropertiesPanelSchemaName:"InterfaceDesignerDataGridPropertiesPanel",propertiesPanelComponentTypeName:"crt.DataGridPropertiesPanel",designViewItemCommands:{copy:"crt.CopyDataGridItemCommand"},designControlConfig:{allowDesignContent:!0}}),(0,a.w6)("design:paramtypes",[l.Injector,Array,Object,FM,RM])],JM);var QM=n(90244);function KM(e,t){return e&&t?t+"_"+e:""}function XM(e,t){const n=(0,QM.Z)(t)+"_",i=new RegExp(`^(${n})`);return e?e.replace(i,""):""}function eD(e,t){return Array.isArray(e)?e.filter((e=>e)).map((({direction:e,columnName:n})=>({direction:e,columnCode:KM(n,t)}))):[]}function tD(e,t){return Array.isArray(e)?e.filter((e=>e)).map((({direction:e,columnCode:n})=>({direction:e,columnName:XM(n,t)}))):[]}let nD=(()=>{class e{constructor(e){this._materialIconsRegistrator=e,this._materialIconsRegistrator.addIcons([{name:"kebab",icon:n(8655)}])}static withItems(t){const{menuItemToken:n,menuItems:i}=t||{};return{ngModule:e,providers:i.map((e=>({provide:n,useExisting:e,multi:!0})))}}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](Dn))},e.ɵmod=l["ɵɵdefineNgModule"]({type:e}),e.ɵinj=l["ɵɵdefineInjector"]({}),e})(),iD=class{convert(e,t,n){return eD(e,null==t?void 0:t.getBoundDataSourceName(n))}};iD=(0,a.gn)([(0,r.CrtConverter)("crt.ToDataTableSortingConfig")],iD);let rD=class extends r.BaseRequestHandler{handle(e){return(0,a.mG)(this,void 0,void 0,(function*(){const{$context:t,itemsAttributeName:n,primaryAttributeValue:i,scopes:r}=e||{};if(!n)return;const a={type:"crt.ChangeViewModelAttributeValueRequest",scopes:r,$context:t,attributeName:`${n}SelectedRows`,attributeValue:[null==i?void 0:i.value]};return this.handlerChain.process(a)}))}};rD=(0,a.gn)([(0,r.CrtRequestHandler)({type:"crt.DataGridSetTopRecordHandler",requestType:"crt.SetTopRecordRequest"})],rD);let aD=class extends r.BaseRequest{};aD=(0,a.gn)([(0,r.CrtRequest)({type:"crt.DataGridSortDataRequest"})],aD);let oD=class extends r.BaseRequestHandler{constructor(e){super(),this._schemaPartsService=e}_setSorting(e,t){const{scopes:n,$context:i,sorting:r}=e,a={type:"crt.SortDataRequest",scopes:n,config:tD(r,t),$context:i,dataSourceName:t};return this.handlerChain.process(a)}_reloadData(e,t){const{scopes:n,$context:i}=e,r={type:"crt.LoadDataRequest",scopes:n,config:{loadType:zr.Reload},$context:i,dataSourceName:t};return this.handlerChain.process(r)}_getSortAttributeName(e,t){var n,i,r;const a=null===(n=e.viewModelConfig)||void 0===n?void 0:n.attributes[t],o=null===(r=null===(i=null==a?void 0:a.modelConfig)||void 0===i?void 0:i.sortingConfig)||void 0===r?void 0:r.attributeName;return o||`${t}Sorting`}handle(e){return(0,a.mG)(this,void 0,void 0,(function*(){const{$context:t,sorting:n,itemsAttributeName:i}=e||{},r=null==t?void 0:t.getBoundDataSourceName(i);if(!r||!i)return;yield this._setSorting(e,r),this._reloadData(e,r);const o=this._getSortAttributeName(t,i),s={attribute:i,config:{modelConfig:{sortingConfig:{attributeName:o,default:null}}}};yield this._schemaPartsService.apply((e=>(0,a.mG)(this,void 0,void 0,(function*(){e.updateViewModelAttribute(s.attribute,s.config);const t={attribute:o,config:{value:tD(n,r)}};e.setViewModelAttribute(t.attribute,t.config)})))),yield this._schemaPartsService.commit()}))}};oD.ɵfac=function(e){return new(e||oD)(l["ɵɵinject"](Lp))},oD.ɵprov=l["ɵɵdefineInjectable"]({token:oD,factory:oD.ɵfac,providedIn:"root"}),oD=(0,a.gn)([(0,r.CrtRequestHandler)({type:"crt.DataGridSortDataHandler",requestType:"crt.DataGridSortDataRequest"}),(0,a.w6)("design:paramtypes",[Lp])],oD);class sD extends r.BaseRequestHandler{constructor(e,t){super(),this._dialogService=e,this._translateService=t}isActionConfirmed(){return(0,a.mG)(this,void 0,void 0,(function*(){const e=this._translateService.instant(this.confirmationDialogMessage);return(yield this._dialogService.openConfirmationDialog({message:e,primaryButton:U,secondaryButton:Z}).toPromise())===U.result}))}applyGridProperties(e,t,n){var i,r,a,o,s,l;const c=t.getViewConfigInfoByName(n).viewConfig,d=c.items,u=(null==d?void 0:d.startsWith("$"))?d.slice(1):d,p=t.getMappedDataSourceAttributePath(u);Object.keys(c).forEach((e=>delete c[e]));const m=e.getViewConfigInfoByName(n).viewConfig;Object.assign(c,m);const h=Object.assign({},t.schema),g=e.schema;h.modelConfig.dataSources[p]=null===(r=null===(i=g.modelConfig)||void 0===i?void 0:i.dataSources)||void 0===r?void 0:r[p],h.viewModelConfig.attributes[u]=null===(o=null===(a=g.viewModelConfig)||void 0===a?void 0:a.attributes)||void 0===o?void 0:o[u],h.viewModelConfig.attributes[u+"Sorting"]=null===(l=null===(s=g.viewModelConfig)||void 0===s?void 0:s.attributes)||void 0===l?void 0:l[u+"Sorting"],t.init(this._normalizeSchema(h))}_normalizeSchema(e){return JSON.parse(JSON.stringify(e))}handle(e){return(0,a.mG)(this,void 0,void 0,(function*(){(yield this.isActionConfirmed())&&(yield this.invokeAction(e))}))}}let lD=class extends r.BaseRequest{};lD=(0,a.gn)([(0,r.CrtRequest)({type:"crt.DataGridResetConfigsToDefaultRequest"})],lD);let cD=class extends sD{constructor(e,t,n){super(e,t),this.dialogService=e,this.translateService=t,this._schemaPartsService=n,this.confirmationDialogMessage="ConfirmationDialog.ResetDataGridConfigsToDefault"}invokeAction({dataGridName:e}){return(0,a.mG)(this,void 0,void 0,(function*(){const t=yield this._schemaPartsService.use("ALL_EMPLOYERS");yield this._schemaPartsService.applyAfter((n=>(0,a.mG)(this,void 0,void 0,(function*(){this.applyGridProperties(t,n,e)}))),"ALL_EMPLOYERS"),yield this._schemaPartsService.commit({silent:!1})}))}};cD.ɵfac=function(e){return new(e||cD)(l["ɵɵinject"](X),l["ɵɵinject"](u.sK),l["ɵɵinject"](Lp))},cD.ɵprov=l["ɵɵdefineInjectable"]({token:cD,factory:cD.ɵfac,providedIn:"root"}),cD=(0,a.gn)([(0,r.CrtRequestHandler)({type:"crt.DataGridResetConfigsToDefaultHandler",requestType:"crt.DataGridResetConfigsToDefaultRequest"}),(0,a.w6)("design:paramtypes",[X,u.sK,Lp])],cD);let dD=class extends r.BaseRequest{};dD=(0,a.gn)([(0,r.CrtRequest)({type:"crt.DataGridSaveConfigsForAllRequest"})],dD);let uD=class extends sD{constructor(e,t,n){super(t,n),this._schemaPartsService=e,this.dialogService=t,this.translateService=n,this.confirmationDialogMessage="ConfirmationDialog.SaveDataGridConfigsForAllUsers"}invokeAction({dataGridName:e}){return(0,a.mG)(this,void 0,void 0,(function*(){const t=yield this._schemaPartsService.use("USER");yield this._schemaPartsService.apply((n=>(0,a.mG)(this,void 0,void 0,(function*(){this.applyGridProperties(t,n,e)}))),"ALL_EMPLOYERS"),yield this._schemaPartsService.commit({silent:!1})}))}};uD.ɵfac=function(e){return new(e||uD)(l["ɵɵinject"](Lp),l["ɵɵinject"](X),l["ɵɵinject"](u.sK))},uD.ɵprov=l["ɵɵdefineInjectable"]({token:uD,factory:uD.ɵfac,providedIn:"root"}),uD=(0,a.gn)([(0,r.CrtRequestHandler)({type:"crt.DataGridSaveConfigsForAllHandler",requestType:"crt.DataGridSaveConfigsForAllRequest"}),(0,a.w6)("design:paramtypes",[Lp,X,u.sK])],uD);let pD=class{constructor(e){this._materialIconsRegistrator=e;const t=["plus","eye-crossed","rename","freeze","snowflake","save","reset"].map((e=>({name:e,icon:n(19270)(`./${e}.svg`)})));this._materialIconsRegistrator.addIcons(t)}};pD.ɵfac=function(e){return new(e||pD)(l["ɵɵinject"](Dn))},pD.ɵmod=l["ɵɵdefineNgModule"]({type:pD}),pD.ɵinj=l["ɵɵdefineInjector"]({providers:[{provide:AM,useClass:VM},{provide:jM,useValue:{rows:{toolbar:!1,selectionCheckbox:!1},columns:{toolbar:!1,sorting:!1,renaming:!1,resizing:!1,dragAndDrop:!1},cells:{selectable:!1},header:{toolbar:{actions:!1,columnsSelection:!1}}}},EM],imports:[[Kw,o.CommonModule,nD,hM,Ow,St.Ps,$p.Tx,u.aw]]}),pD=(0,a.gn)([(0,r.CrtModule)({includes:[hM],viewElements:[JM],converters:[iD],requestHandlers:[cD,uD,rD,oD]}),(0,a.w6)("design:paramtypes",[Dn])],pD),("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](pD,{declarations:[JM],imports:[Kw,o.CommonModule,nD,hM,Ow,St.Ps,$p.Tx,u.aw],exports:[JM]}),l["ɵɵsetComponentScope"](JM,[HS,o.NgClass,o.NgIf,aI,Jw,sw,Wy,iI,rI],[u.X$]);let mD=(()=>{class e extends EM{setColumns(e){this.columns=[...e]}selectColumns(e){const t=function(e,t=0){return Math.floor(Math.random()*(e-t))+t}(this.columns.length),n=Object.assign(Object.assign({},this.columns[t]),{id:(0,r.generateGuid)()});return(0,h.of)([n])}}return e.ɵfac=function(){let t;return function(n){return(t||(t=l["ɵɵgetInheritedFactory"](e)))(n||e)}}(),e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})(),hD=(()=>{class e{constructor(){this._columns=new h.Subject}get columns(){return this._columns.asObservable()}handle(e,t){return this._columns.next(null==e?void 0:e.columns),h.EMPTY}}return e.ɵfac=function(t){return new(t||e)},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})(),gD=(()=>{class e{constructor(e,t){this._stateHandler=e,this._columnSelectionService=t,this._destroyed$=new h.Subject,this.sorting=[]}ngOnInit(){this._stateHandler.columns.pipe((0,b.R)(this._destroyed$)).subscribe({next:e=>this.columns=e}),this._columnSelectionService.setColumns(this.columns)}ngOnDestroy(){this._destroyed$.next(),this._destroyed$.complete()}onSortingChanged(e){this.sorting=[...e]}onColumnCaptionChange(e){this.columns=this.columns.map((t=>Object.assign(Object.assign({},t),{caption:t.id===e.columnId?e.columnCaption:t.caption})))}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](AM),l["ɵɵdirectiveInject"](mD))},e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["crt-data-grid-host"]],inputs:{columns:"columns",features:"features",primaryColumnName:"primaryColumnName",sorting:"sorting",items:"items"},features:[l["ɵɵProvidersFeature"]([mD,{provide:AM,useClass:hD},{provide:EM,useExisting:mD}])],decls:1,vars:5,consts:[[3,"items","columns","features","sorting","primaryColumnName","sortingChange","columnCaptionChange"]],template:function(e,t){1&e&&(l["ɵɵelementStart"](0,"crt-data-grid",0),l["ɵɵlistener"]("sortingChange",(function(e){return t.onSortingChanged(e)}))("columnCaptionChange",(function(e){return t.onColumnCaptionChange(e)})),l["ɵɵelementEnd"]()),2&e&&l["ɵɵproperty"]("items",t.items)("columns",t.columns)("features",t.features)("sorting",t.sorting)("primaryColumnName",t.primaryColumnName)},encapsulation:2}),e})(),fD=(()=>{class e{}return e.ɵfac=function(t){return new(t||e)},e.ɵmod=l["ɵɵdefineNgModule"]({type:e}),e.ɵinj=l["ɵɵdefineInjector"]({imports:[[pD]]}),e})();("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](fD,{declarations:[gD],imports:[pD],exports:[gD]}),l["ɵɵsetComponentScope"](gD,[JM],[]);var vD=(()=>(function(e){e.KeyEnterPressed="KeyEnterPressed",e.CaptionClick="CaptionClick"}(vD||(vD={})),vD))();const bD=["itemsContainer"];function CD(e,t){if(1&e&&l["ɵɵelement"](0,"crt-skeleton-loader",3),2&e){const e=l["ɵɵnextContext"]();l["ɵɵproperty"]("styles",e.skeletonStyles)}}const yD=function(e,t){return{"crt-gallery-item":!0,"crt-gallery-selectable-item":e,"crt-gallery-selected-item":t}};function wD(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵelementContainerStart"](0),l["ɵɵelementStart"](1,"crt-gallery-item-wrapper",8),l["ɵɵlistener"]("itemClick",(function(t){l["ɵɵrestoreView"](e);return l["ɵɵnextContext"](3).onItemClick(t)}))("itemDblClick",(function(t){l["ɵɵrestoreView"](e);return l["ɵɵnextContext"](3).onItemDblClick(t)}))("itemEvent",(function(t){l["ɵɵrestoreView"](e);return l["ɵɵnextContext"](3).onItemEvent(t)})),l["ɵɵelementEnd"](),l["ɵɵelementContainerEnd"]()}if(2&e){const e=t.$implicit,n=l["ɵɵnextContext"](3);l["ɵɵadvance"](1),l["ɵɵproperty"]("record",e)("itemElementId",n.getItemIdAttribute(e))("itemConfig",n.itemConfig)("itemStyles",n.itemStyles)("itemClasses",l["ɵɵpureFunction2"](5,yD,!0===n.selectable,n.isItemSelected(e)))}}function _D(e,t){if(1&e&&(l["ɵɵelementStart"](0,"div",5,6),l["ɵɵtemplate"](2,wD,2,8,"ng-container",7),l["ɵɵelementEnd"]()),2&e){const e=l["ɵɵnextContext"](2);l["ɵɵadvance"](2),l["ɵɵproperty"]("ngForOf",e.dataItems)}}function xD(e,t){if(1&e&&l["ɵɵtemplate"](0,_D,3,1,"div",4),2&e){const e=l["ɵɵnextContext"](),t=l["ɵɵreference"](4);l["ɵɵproperty"]("ngIf",e.hasData())("ngIfElse",t)}}function ID(e,t){1&e&&(l["ɵɵelementStart"](0,"div",11),l["ɵɵelementStart"](1,"div",12),l["ɵɵtext"](2),l["ɵɵpipe"](3,"translate"),l["ɵɵelementEnd"](),l["ɵɵelementEnd"]()),2&e&&(l["ɵɵadvance"](2),l["ɵɵtextInterpolate"](l["ɵɵpipeBind1"](3,1,"Gallery.NoData")))}function SD(e,t){1&e&&l["ɵɵelement"](0,"crt-placeholder",13)}function MD(e,t){if(1&e&&(l["ɵɵtemplate"](0,ID,4,3,"div",9),l["ɵɵtemplate"](1,SD,1,0,"crt-placeholder",10)),2&e){const e=l["ɵɵnextContext"]();l["ɵɵproperty"]("ngIf",!!e.dataItems),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",!e.dataItems)}}var DD=(()=>(function(e){e.Forward="forward",e.Back="back"}(DD||(DD={})),DD))();let PD=class extends Us{constructor(e){super(e),this._itemIdAttributePrefix="crt-gallery-item",this.skeletonStyles={height:"60px"},this.tabIndex=0,this.isEnterKeyPressed=!1,this.itemConfig={},this.itemClick=new l.EventEmitter,this.itemDblClick=new l.EventEmitter,this.itemEvent=new l.EventEmitter,this.selectedItemChange=new l.EventEmitter}get _itemKeyProperty(){const e=this.itemConfig.itemKeyProperty||"id";return this._getRecordMappingKey(e)||e}set items(e){e instanceof Rl?this._initializeDataItemsFromCollection(e):this._items=e}get dataItems(){return this._items}_initializeDataItemsFromCollection(e){var t;const n=this._convertToDataItems(e);null===(t=this._itemsChangedSubscription)||void 0===t||t.unsubscribe(),this._itemsChangedSubscription=e.changed.subscribe((()=>this._initializeDataItemsFromCollection(e))),this._items=n}_convertToDataItems(e){const t=[];return e.forEach((e=>t.push(e.attributes))),t}_handleButtonClick(e){switch(e.key){case w_.s.Enter:this._handleEnterClick(e);break;case w_.s.Escape:this._handleEscapeClick();break;case w_.s.Tab:this._handleTabClick(e)}}_handleEnterClick(e){if(this._isSelectedItemInItems()){const e={detail:vD.KeyEnterPressed};this.itemEvent.emit({event:e,item:this.selectedItem})}this.isEnterKeyPressed?this._onSelectedItemEnterClick(e):(this.isEnterKeyPressed=!0,this.selectedItem&&this._isSelectedItemInItems()||this._selectedNextItem())}_handleEscapeClick(){this.isEnterKeyPressed=!1,this.selectable||(this.selectedItem=null)}_onSelectedItemEnterClick(e){if(!this._isSelectedItemInItems())return;const t={event:e,item:this.selectedItem};this.onItemClick(t)}_isSelectedItemInItems(){return this._getSelectedItemIndex()>-1}_handleTabClick(e){if(!this.isEnterKeyPressed)return;this._eventStopPropagation(e);const t=e.shiftKey?DD.Back:DD.Forward;this._selectedNextItem(t)}_eventStopPropagation(e){e.stopPropagation(),e.preventDefault()}_selectedNextItem(e=DD.Forward){if(!this.hasData())return;const t=this._getSelectedItemIndex(),n=this.dataItems.length-1;let i=e===DD.Forward?0:n;t>-1&&(i=e===DD.Forward?t===n?0:t+1:0===t?n:t-1);const r=this.dataItems[i];this._setSelectedItem(r)}_setSelectedItem(e){this._isItemAlreadySelected(e)||(this.selectedItem=e,this.selectable&&this.selectedItemChange.emit(e))}_isItemAlreadySelected(e){var t;return(null===(t=this.selectedItem)||void 0===t?void 0:t[this._itemKeyProperty])===e[this._itemKeyProperty]}_getSelectedItemIndex(){return this.hasData()&&this.selectedItem?this.dataItems.findIndex((e=>this.selectedItem[this._itemKeyProperty]===e[this._itemKeyProperty])):-1}_needChangeEditMode(e){return this.isEnterKeyPressed&&this.itemsContainer&&!this.itemsContainer.nativeElement.contains(e.target)}_selectItem(e,t){this._eventStopPropagation(e.event),this.selectable&&this._setSelectedItem(e.item),t.emit(e.item)}_getRecordMappingKey(e){var t;return((null===(t=this.itemConfig)||void 0===t?void 0:t.templateValuesMapping)||{})[e]}hasData(){var e;return!!(null===(e=this.dataItems)||void 0===e?void 0:e.length)}getItemIdAttribute(e){return`${this._itemIdAttributePrefix}_${e[this._itemKeyProperty]}`}isItemSelected(e){return this._isItemAlreadySelected(e)}onItemClick(e){this._selectItem(e,this.itemClick)}onItemDblClick(e){this._selectItem(e,this.itemDblClick)}onItemEvent(e){this._eventStopPropagation(e.event),this.selectable&&this._setSelectedItem(e.item),this.itemEvent.emit(e)}onKeyDown(e){this.hasData()&&this._handleButtonClick(e)}onGlobalClick(e){this._needChangeEditMode(e)&&this._handleEscapeClick()}ngOnDestroy(){var e;null===(e=this._itemsChangedSubscription)||void 0===e||e.unsubscribe()}};PD.ɵfac=function(e){return new(e||PD)(l["ɵɵdirectiveInject"](l.Injector))},PD.ɵcmp=l["ɵɵdefineComponent"]({type:PD,selectors:[["crt-gallery"]],viewQuery:function(e,t){if(1&e&&l["ɵɵviewQuery"](bD,5,l.ElementRef),2&e){let e;l["ɵɵqueryRefresh"](e=l["ɵɵloadQuery"]())&&(t.itemsContainer=e.first)}},hostVars:3,hostBindings:function(e,t){1&e&&l["ɵɵlistener"]("keydown",(function(e){return t.onKeyDown(e)}))("mousedown",(function(e){return t.onGlobalClick(e)}),!1,l["ɵɵresolveDocument"]),2&e&&(l["ɵɵattribute"]("tabIndex",t.tabIndex),l["ɵɵclassProp"]("crt-gallery-entering",t.isEnterKeyPressed))},inputs:{isEnterKeyPressed:"isEnterKeyPressed",items:"items",selectable:"selectable",selectedItem:"selectedItem",itemStyles:"itemStyles",itemConfig:"itemConfig"},outputs:{itemClick:"itemClick",itemDblClick:"itemDblClick",itemEvent:"itemEvent",selectedItemChange:"selectedItemChange"},features:[l["ɵɵInheritDefinitionFeature"]],decls:5,vars:2,consts:[[3,"styles",4,"ngIf","ngIfElse"],["gallery",""],["noData",""],[3,"styles"],["class","crt-gallery-items-wrap",4,"ngIf","ngIfElse"],[1,"crt-gallery-items-wrap"],["itemsContainer",""],[4,"ngFor","ngForOf"],[1,"crt-gallery-item-wrap",3,"record","itemElementId","itemConfig","itemStyles","itemClasses","itemClick","itemDblClick","itemEvent"],["class","blank-slate-wrap",4,"ngIf"],["iconName","gallery_icon",4,"ngIf"],[1,"blank-slate-wrap"],[1,"blank-slate-label"],["iconName","gallery_icon"]],template:function(e,t){if(1&e&&(l["ɵɵtemplate"](0,CD,1,1,"crt-skeleton-loader",0),l["ɵɵtemplate"](1,xD,1,2,"ng-template",null,1,l["ɵɵtemplateRefExtractor"]),l["ɵɵtemplate"](3,MD,2,2,"ng-template",null,2,l["ɵɵtemplateRefExtractor"])),2&e){const e=l["ɵɵreference"](2);l["ɵɵproperty"]("ngIf",t.loading)("ngIfElse",e)}},styles:["[_nghost-%COMP%]{width:100%;height:100%;display:block;border-radius:8px;overflow-y:auto}[_nghost-%COMP%]:focus, [_nghost-%COMP%]:focus-visible{outline:none}.crt-gallery-items-wrap[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;box-sizing:border-box;grid-gap:16px;gap:16px;padding:16px}.blank-slate-wrap[_ngcontent-%COMP%]{height:64px;display:flex;justify-content:center;align-items:center}.blank-slate-wrap[_ngcontent-%COMP%]   .blank-slate-label[_ngcontent-%COMP%]{text-align:center;text-transform:none}.blank-slate-wrap[_ngcontent-%COMP%]   .blank-slate-label[_ngcontent-%COMP%]:hover{background-color:transparent}"]}),PD=(0,a.gn)([Xs({type:"crt.Gallery"}),Ks({type:"crt.Gallery",toolbarConfig:[{name:"gallery",useDevMode:!0,groupType:Mu.Components,position:60,caption:"Components.Gallery.Caption",icon:n(3692),defaultPropertyValues:{}}],propertiesPanelComponentTypeName:"crt.GalleryPropertiesPanel",designViewItemCommands:{copy:"crt.CopyGalleryItemCommand"},designControlConfig:{allowDesignContent:!0}}),(0,a.w6)("design:paramtypes",[l.Injector])],PD);let TD=(()=>{class e extends Us{constructor(e,t){super(e),this.injector=e,this.sanitizer=t,this.defaultItemImage=n(36645),this.elementRef=this.injector.get(l.ElementRef)}getImageValue(e){return"string"==typeof e?e:null==e?void 0:e.url}getDefaultImage(){var e;return(null===(e=this.itemConfig)||void 0===e?void 0:e.defaultImage)||this.defaultItemImage}createImageResource(e){return this.sanitizer.bypassSecurityTrustResourceUrl(e)}getRecordMappingKey(e){var t;return((null===(t=this.itemConfig)||void 0===t?void 0:t.templateValuesMapping)||{})[e]}onCaptionClick(){const e=document.createEvent("CustomEvent");e.initCustomEvent("itemEvent",!0,!0,vD.CaptionClick),this.elementRef.nativeElement.dispatchEvent(e)}hasActionsMenuItems(){var e,t;return(null===(t=null===(e=this.itemConfig)||void 0===e?void 0:e.actions)||void 0===t?void 0:t.length)>0}onActionsClick(e){e.stopPropagation()}getRecordValue(e){return(this.record||{})[this.getRecordMappingKey(e)||e]}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](l.Injector),l["ɵɵdirectiveInject"](i.DomSanitizer))},e.ɵdir=l["ɵɵdefineDirective"]({type:e,inputs:{record:"record",itemConfig:"itemConfig"},features:[l["ɵɵInheritDefinitionFeature"]]}),e})();function kD(e,t){if(1&e&&l["ɵɵelement"](0,"crt-skeleton-loader",2),2&e){const e=l["ɵɵnextContext"]();l["ɵɵproperty"]("styles",e.skeletonStyles)}}function ED(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵelementStart"](0,"crt-label",11),l["ɵɵlistener"]("click",(function(){l["ɵɵrestoreView"](e);return l["ɵɵnextContext"](2).onCaptionClick()})),l["ɵɵelementEnd"]()}if(2&e){const e=l["ɵɵnextContext"](2);l["ɵɵproperty"]("caption",e.getRecordValue("caption"))}}function ND(e,t){if(1&e&&(l["ɵɵelementStart"](0,"div",12),l["ɵɵtext"](1),l["ɵɵelementEnd"]()),2&e){const e=l["ɵɵnextContext"](2);l["ɵɵadvance"](1),l["ɵɵtextInterpolate1"](" ",e.getRecordValue("description")," ")}}function OD(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵelementStart"](0,"div",13),l["ɵɵelementStart"](1,"crt-button",14),l["ɵɵlistener"]("click",(function(t){l["ɵɵrestoreView"](e);return l["ɵɵnextContext"](2).onActionsClick(t)})),l["ɵɵelement"](2,"mat-icon",15),l["ɵɵelementEnd"](),l["ɵɵelement"](3,"crt-menu",16,17),l["ɵɵelementEnd"]()}if(2&e){const e=l["ɵɵreference"](4),t=l["ɵɵnextContext"](2);l["ɵɵadvance"](1),l["ɵɵproperty"]("crtMenuTriggerFor",e),l["ɵɵadvance"](2),l["ɵɵproperty"]("menuItems",t.itemConfig.actions)("panelClass","crt-gallery-item-actions-panel")}}function jD(e,t){if(1&e&&(l["ɵɵelementStart"](0,"div",3),l["ɵɵelementStart"](1,"div",4),l["ɵɵelement"](2,"img",5),l["ɵɵelementEnd"](),l["ɵɵelementStart"](3,"div",6),l["ɵɵelementStart"](4,"div",7),l["ɵɵtemplate"](5,ED,1,1,"crt-label",8),l["ɵɵtemplate"](6,ND,2,1,"div",9),l["ɵɵelementEnd"](),l["ɵɵtemplate"](7,OD,5,3,"div",10),l["ɵɵelementEnd"](),l["ɵɵelementEnd"]()),2&e){const e=l["ɵɵnextContext"]();l["ɵɵadvance"](2),l["ɵɵproperty"]("src",e.getImageSource(),l["ɵɵsanitizeUrl"])("alt",e.getRecordValue("caption")),l["ɵɵadvance"](3),l["ɵɵproperty"]("ngIf",e.isValueNotNullOrEmpty(e.getRecordValue("caption"))),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",e.isValueNotNullOrEmpty(e.getRecordValue("description"))),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",e.hasActionsMenuItems())}}let AD=(()=>{class e extends TD{constructor(e,t){super(e,t),this.injector=e,this.sanitizer=t,this.skeletonStyles={height:"36px",width:"120px"}}getRecordImage(){return this.getImageValue(this.getRecordValue("image"))}isValueNotNullOrEmpty(e){return(null==e?void 0:e.length)>0}hasImage(){var e;return(null===(e=this.getRecordImage())||void 0===e?void 0:e.length)>0}getImageSource(){const e=this.hasImage()?this.getRecordImage():this.getDefaultImage();return this.createImageResource(e)}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](l.Injector),l["ɵɵdirectiveInject"](i.DomSanitizer))},e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["crt-gallery-default-item"]],features:[l["ɵɵInheritDefinitionFeature"]],decls:3,vars:2,consts:[[3,"styles",4,"ngIf","ngIfElse"],["galleryDefaultItem",""],[3,"styles"],[1,"crt-gallery-item-content-wrap"],[1,"crt-gallery-item-image-wrap"],[3,"src","alt"],[1,"crt-gallery-item-template-wrap"],[1,"crt-gallery-item-info"],["class","crt-gallery-item-caption",3,"caption","click",4,"ngIf"],["class","crt-gallery-item-description",4,"ngIf"],["class","crt-gallery-item-actions-wrap",4,"ngIf"],[1,"crt-gallery-item-caption",3,"caption","click"],[1,"crt-gallery-item-description"],[1,"crt-gallery-item-actions-wrap"],[3,"crtMenuTriggerFor","click"],["svgIcon","gallery_kebab",1,"crt-gallery-item-actions-button-icon"],[3,"menuItems","panelClass"],["menu",""]],template:function(e,t){if(1&e&&(l["ɵɵtemplate"](0,kD,1,1,"crt-skeleton-loader",0),l["ɵɵtemplate"](1,jD,8,5,"ng-template",null,1,l["ɵɵtemplateRefExtractor"])),2&e){const e=l["ɵɵreference"](2);l["ɵɵproperty"]("ngIf",t.loading)("ngIfElse",e)}},styles:["[_nghost-%COMP%]{width:272px;min-width:144px;height:100%;display:flex;cursor:default}[_nghost-%COMP%]   .mat-menu-trigger[_ngcontent-%COMP%]{visibility:hidden}[_nghost-%COMP%]   .mat-menu-trigger[aria-expanded=true][_ngcontent-%COMP%]{visibility:visible}.crt-gallery-item[_nghost-%COMP%]{border-radius:8px}.crt-gallery-item.crt-gallery-selected-item[_nghost-%COMP%]:hover{cursor:pointer}.crt-gallery-item.crt-gallery-selected-item[_nghost-%COMP%]   .mat-menu-trigger[_ngcontent-%COMP%]{visibility:visible}.crt-gallery-item[_nghost-%COMP%]:hover   .mat-menu-trigger[_ngcontent-%COMP%]{visibility:visible}.crt-gallery-item-content-wrap[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;padding:8px;border-radius:8px}.crt-gallery-item-content-wrap[_ngcontent-%COMP%]   .crt-gallery-item-image-wrap[_ngcontent-%COMP%]{width:100%;height:200px}.crt-gallery-item-content-wrap[_ngcontent-%COMP%]   .crt-gallery-item-image-wrap[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;width:100%;border-radius:8px;object-fit:contain}.crt-gallery-item-content-wrap[_ngcontent-%COMP%]   .crt-gallery-item-template-wrap[_ngcontent-%COMP%]{display:flex}.crt-gallery-item-content-wrap[_ngcontent-%COMP%]   .crt-gallery-item-template-wrap[_ngcontent-%COMP%]   .crt-gallery-item-info[_ngcontent-%COMP%]{width:100%;padding:8px;box-sizing:border-box}.crt-gallery-item-content-wrap[_ngcontent-%COMP%]   .crt-gallery-item-template-wrap[_ngcontent-%COMP%]   .crt-gallery-item-info[_ngcontent-%COMP%]   .crt-gallery-item-caption[_ngcontent-%COMP%]{margin-bottom:8px;overflow:hidden;-webkit-box-orient:vertical;display:-webkit-box;-webkit-line-clamp:1}.crt-gallery-item-content-wrap[_ngcontent-%COMP%]   .crt-gallery-item-template-wrap[_ngcontent-%COMP%]   .crt-gallery-item-info[_ngcontent-%COMP%]   .crt-gallery-item-caption[_ngcontent-%COMP%]     label{cursor:pointer}.crt-gallery-item-content-wrap[_ngcontent-%COMP%]   .crt-gallery-item-template-wrap[_ngcontent-%COMP%]   .crt-gallery-item-info[_ngcontent-%COMP%]   .crt-gallery-item-description[_ngcontent-%COMP%]{overflow:hidden;-webkit-box-orient:vertical;display:-webkit-box;-webkit-line-clamp:3}.crt-gallery-item-content-wrap[_ngcontent-%COMP%]   .crt-gallery-item-template-wrap[_ngcontent-%COMP%]   .crt-gallery-item-actions-wrap[_ngcontent-%COMP%]{cursor:pointer;padding:8px;height:16px;margin-inline-start:auto}.crt-gallery-item-content-wrap[_ngcontent-%COMP%]   .crt-gallery-item-template-wrap[_ngcontent-%COMP%]   .crt-gallery-item-actions-wrap[_ngcontent-%COMP%]   .crt-gallery-item-actions-button-icon[_ngcontent-%COMP%]{width:16px;height:16px}"]}),e})();var RD=n(17806);const FD=["galleryItem"];let VD=(()=>{class e{constructor(e,t){this._componentFactoryResolver=e,this._render=t,this._itemEventsUnListens=[],this.itemClick=new l.EventEmitter,this.itemDblClick=new l.EventEmitter,this.itemEvent=new l.EventEmitter}set itemStyles(e){this._itemStyles!==e&&(this._itemStyles=e,this._initializeItemElementStyles(),this._oldItemStyles=e)}get itemStyles(){return this._itemStyles}set itemClasses(e){this._itemClasses!==e&&(this._itemClasses=e,this._initializeItemElementClasses())}get itemClasses(){return this._itemClasses}_getItemComponentNativeElement(){var e;return null===(e=this._itemComponentRef)||void 0===e?void 0:e.location.nativeElement}_initializeItem(){this._initializeItemComponentRef(),this._initializeItemElementClasses(),this._initializeItemElementStyles(),this._initializeItemElementAttributes(),this._initializeItemComponentProperties(),this._initializeItemComponentEvents()}_initializeItemComponentRef(){const e=this._getItemComponentClass();this._itemComponentRef=this._generateItemComponentRef(e)}_getItemComponentClass(){var e;return(null===(e=this.itemConfig)||void 0===e?void 0:e.componentClass)||AD}_generateItemComponentRef(e){this._clearItemViewContainerRef();const t=this._componentFactoryResolver.resolveComponentFactory(e);return this.itemViewContainerRef.createComponent(t)}_initializeItemComponentProperties(){var e;const t=null===(e=this._itemComponentRef)||void 0===e?void 0:e.instance;t&&(t.record=this.record,t.id=this.itemElementId,t.itemConfig=this.itemConfig)}_initializeItemElementAttributes(){const e=this._getItemComponentNativeElement();e&&this._render.setAttribute(e,"id",this.itemElementId)}_initializeItemElementClasses(){this._getItemComponentNativeElement()&&(0,RD.Z)(this.itemClasses,((e,t)=>this._toggleItemElementClass(t,e)))}_initializeItemElementStyles(){const e=this._getItemComponentNativeElement();e&&((0,RD.Z)(this._oldItemStyles,((t,n)=>this._render.removeStyle(e,n))),(0,RD.Z)(this.itemStyles,((t,n)=>this._render.setStyle(e,n,t))))}_initializeItemComponentEvents(){const e=this._getItemComponentNativeElement();if(!e)return;const t=this.record;this._itemEventsUnListens.push(this._render.listen(e,"click",(e=>this.itemClick.emit({event:e,item:t}))),this._render.listen(e,"dblclick",(e=>this.itemDblClick.emit({event:e,item:t}))),this._render.listen(e,"itemEvent",(e=>this.itemEvent.emit({event:e,item:t}))))}_toggleItemElementClass(e,t){const n=this._getItemComponentNativeElement();n&&(t?this._render.addClass(n,e):this._render.removeClass(n,e))}_clearItemViewContainerRef(){this.itemViewContainerRef.clear()}_destroyItemComponentRef(){this._itemComponentRef&&(this._itemComponentRef.destroy(),this._itemComponentRef=null)}_destroyItemEventListeners(){this._itemEventsUnListens.forEach((e=>e())),this._itemEventsUnListens=[]}ngOnInit(){this._initializeItem()}ngOnDestroy(){this._destroyItemComponentRef(),this._clearItemViewContainerRef(),this._destroyItemEventListeners()}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](l.ComponentFactoryResolver),l["ɵɵdirectiveInject"](l.Renderer2))},e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["crt-gallery-item-wrapper"]],viewQuery:function(e,t){if(1&e&&l["ɵɵviewQuery"](FD,7,l.ViewContainerRef),2&e){let e;l["ɵɵqueryRefresh"](e=l["ɵɵloadQuery"]())&&(t.itemViewContainerRef=e.first)}},inputs:{record:"record",itemElementId:"itemElementId",itemStyles:"itemStyles",itemClasses:"itemClasses",itemConfig:"itemConfig"},outputs:{itemClick:"itemClick",itemDblClick:"itemDblClick",itemEvent:"itemEvent"},decls:2,vars:0,consts:[["galleryItem",""]],template:function(e,t){1&e&&l["ɵɵelementContainer"](0,null,0)},encapsulation:2}),e})(),LD=class{constructor(e){this._materialIconsRegistrator=e,this._materialIconsRegistrator.addIcons([{name:"gallery_kebab",icon:n(6694)},{name:"gallery_icon",icon:n(3692)}])}};LD.ɵfac=function(e){return new(e||LD)(l["ɵɵinject"](Dn))},LD.ɵmod=l["ɵɵdefineNgModule"]({type:LD}),LD.ɵinj=l["ɵɵdefineInjector"]({imports:[[o.CommonModule,Kw,cx,Ow,St.Ps,pt.forRoot({i18n:Nw}),mi,ui]]}),LD=(0,a.gn)([(0,r.CrtModule)({viewElements:[PD]}),(0,a.w6)("design:paramtypes",[Dn])],LD),("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](LD,{declarations:[PD,AD,VD],imports:[o.CommonModule,Kw,cx,Ow,St.Ps,pt,mi,ui],exports:[PD]}),l["ɵɵsetComponentScope"](PD,[o.NgIf,di,o.NgForOf,VD,pi],[u.X$]),l["ɵɵsetComponentScope"](AD,[o.NgIf,di,ex,Jw,sw,St.Hw,Wy],[]);var zD=(()=>(function(e){e[e.AllChannels=1]="AllChannels",e[e.Channel=2]="Channel",e[e.Record=3]="Record"}(zD||(zD={})),zD))();function BD(e,t){if(1&e&&l["ɵɵelement"](0,"crt-skeleton-loader",2),2&e){const e=l["ɵɵnextContext"]();l["ɵɵproperty"]("styles",e.skeletonStyles)}}function GD(e,t){1&e&&l["ɵɵelement"](0,"crt-placeholder",3)}let HD=class extends Us{constructor(e){super(e)}};HD.ɵfac=function(e){return new(e||HD)(l["ɵɵdirectiveInject"](l.Injector))},HD.ɵcmp=l["ɵɵdefineComponent"]({type:HD,selectors:[["crt-esn-feed-7x-dt"]],inputs:{title:"title",dataSourceName:"dataSourceName",primaryColumnValue:"primaryColumnValue",primaryDisplayColumnValue:"primaryDisplayColumnValue",feedType:"feedType"},features:[l["ɵɵInheritDefinitionFeature"]],decls:3,vars:2,consts:[[3,"styles",4,"ngIf","ngIfElse"],["esn_feed_7x_template",""],[3,"styles"],["iconName","esn-feed"]],template:function(e,t){if(1&e&&(l["ɵɵtemplate"](0,BD,1,1,"crt-skeleton-loader",0),l["ɵɵtemplate"](1,GD,1,0,"ng-template",null,1,l["ɵɵtemplateRefExtractor"])),2&e){const e=l["ɵɵreference"](2);l["ɵɵproperty"]("ngIf",t.loading)("ngIfElse",e)}},directives:[o.NgIf,di,pi],styles:[""]}),(0,a.gn)([(0,r.CrtInput)(),(0,a.w6)("design:type",String)],HD.prototype,"title",void 0),(0,a.gn)([(0,r.CrtInput)(),(0,a.w6)("design:type",String)],HD.prototype,"dataSourceName",void 0),(0,a.gn)([(0,r.CrtInput)(),(0,a.w6)("design:type",String)],HD.prototype,"primaryColumnValue",void 0),(0,a.gn)([(0,r.CrtInput)(),(0,a.w6)("design:type",String)],HD.prototype,"primaryDisplayColumnValue",void 0),(0,a.gn)([(0,r.CrtInput)(),(0,a.w6)("design:type",Number)],HD.prototype,"feedType",void 0),HD=(0,a.gn)([(0,r.CrtViewElement)({type:"crt.EsnFeed",selector:"crt-esn-feed-7x"}),Ks({type:"crt.EsnFeed",toolbarConfig:[{name:"EsnFeed"+r.GENERATE_GUID_MACRO,groupType:Mu.Components,position:65,caption:"Components.EsnFeed.Caption",icon:n(39060),defaultPropertyValues:{items:[],title:"",feedType:zD.AllChannels},defaultLocalizableStrings:{title:"Components.EsnFeed.Caption"},useDevMode:!0}],interfaceDesignerPropertiesPanelSchemaName:"InterfaceDesignerEsnFeedPropertiesPanel",propertiesPanelComponentTypeName:"crt.EsnFeedPropertiesPanel",clientSchemaDeps:["EsnFeedComponent"]}),(0,a.w6)("design:paramtypes",[l.Injector])],HD);let UD=class{constructor(e){this._materialIconsRegistrator=e,this._materialIconsRegistrator.addIcons([{name:"esn-feed",icon:n(39060)}])}};UD.ɵfac=function(e){return new(e||UD)(l["ɵɵinject"](Dn))},UD.ɵmod=l["ɵɵdefineNgModule"]({type:UD}),UD.ɵinj=l["ɵɵdefineInjector"]({imports:[[o.CommonModule,St.Ps,Pu,Rn,ui,mi]]}),UD=(0,a.gn)([(0,r.CrtModule)({viewElements:[HD]}),(0,a.w6)("design:paramtypes",[Dn])],UD),("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](UD,{declarations:[HD],imports:[o.CommonModule,St.Ps,Pu,Rn,ui,mi],exports:[HD]});var ZD=(()=>(function(e){e.Call="Call",e.Email="Email",e.Feed="Feed",e.Task="Task"}(ZD||(ZD={})),ZD))();function $D(e,t){if(1&e&&l["ɵɵelement"](0,"crt-skeleton-loader",2),2&e){const e=l["ɵɵnextContext"]();l["ɵɵproperty"]("styles",e.skeletonStyles)}}function WD(e,t){1&e&&(l["ɵɵelementStart"](0,"div",6),l["ɵɵelement"](1,"mat-icon",11),l["ɵɵelement"](2,"div",12),l["ɵɵelement"](3,"mat-icon",23),l["ɵɵelementEnd"]())}function qD(e,t){1&e&&l["ɵɵelement"](0,"mat-icon",24)}function YD(e,t){1&e&&l["ɵɵelement"](0,"mat-icon",25)}function JD(e,t){1&e&&l["ɵɵelement"](0,"mat-icon",26)}function QD(e,t){1&e&&l["ɵɵelement"](0,"mat-icon",27)}function KD(e,t){1&e&&l["ɵɵelement"](0,"mat-icon",28)}function XD(e,t){1&e&&(l["ɵɵelementStart"](0,"div",29),l["ɵɵelementStart"](1,"div"),l["ɵɵelement"](2,"mat-icon",30),l["ɵɵelementEnd"](),l["ɵɵelementStart"](3,"div",31),l["ɵɵelement"](4,"mat-icon",32),l["ɵɵelementEnd"](),l["ɵɵelementEnd"]())}const eP=function(){return[]};function tP(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵelementStart"](0,"div",3),l["ɵɵlistener"]("resized",(function(t){l["ɵɵrestoreView"](e);return l["ɵɵnextContext"]().onResized(t)})),l["ɵɵelementStart"](1,"div",4),l["ɵɵelementStart"](2,"div",5),l["ɵɵelementStart"](3,"div",6),l["ɵɵelement"](4,"mat-icon",7),l["ɵɵelement"](5,"div",8),l["ɵɵelement"](6,"mat-icon",9),l["ɵɵelementEnd"](),l["ɵɵtemplate"](7,WD,4,0,"div",10),l["ɵɵelementStart"](8,"div",6),l["ɵɵelement"](9,"mat-icon",11),l["ɵɵelement"](10,"div",12),l["ɵɵelement"](11,"mat-icon",13),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵelementStart"](12,"div",14),l["ɵɵtemplate"](13,qD,1,0,"mat-icon",15),l["ɵɵtemplate"](14,YD,1,0,"mat-icon",16),l["ɵɵtemplate"](15,JD,1,0,"mat-icon",17),l["ɵɵtemplate"](16,QD,1,0,"mat-icon",18),l["ɵɵtemplate"](17,KD,1,0,"mat-icon",19),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵelement"](18,"hr",20),l["ɵɵelementStart"](19,"div",21),l["ɵɵtemplate"](20,XD,5,0,"div",22),l["ɵɵelementEnd"](),l["ɵɵelementEnd"]()}if(2&e){const e=l["ɵɵnextContext"]();l["ɵɵadvance"](7),l["ɵɵproperty"]("ngForOf",l["ɵɵpureFunction0"](7,eP).constructor(e.dashboardSize)),l["ɵɵadvance"](6),l["ɵɵproperty"]("ngIf",2===e.dashboardSize),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",e.isActionAllowed("Call")),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",e.isActionAllowed("Email")),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",e.isActionAllowed("Feed")),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",e.isActionAllowed("Task")),l["ɵɵadvance"](3),l["ɵɵproperty"]("ngForOf",l["ɵɵpureFunction0"](8,eP).constructor(e.dashboardSize))}}const nP=()=>[ZD.Call,ZD.Email,ZD.Feed,ZD.Task];var iP=(()=>(function(e){e[e.Small=1]="Small",e[e.Large=2]="Large"}(iP||(iP={})),iP))();let rP=class extends Us{constructor(){super(...arguments),this._allowedActions=nP(),this.dashboardSize=iP.Small}set allowedActions(e){this._allowedActions=e}get allowedActions(){return this._allowedActions}onResized(e){this.dashboardSize=(null==e?void 0:e.width)>550?iP.Large:iP.Small}isActionAllowed(e){return this.allowedActions.includes(e)}};rP.ɵfac=function(){let e;return function(t){return(e||(e=l["ɵɵgetInheritedFactory"](rP)))(t||rP)}}(),rP.ɵcmp=l["ɵɵdefineComponent"]({type:rP,selectors:[["crt-action-dashboard-7x-dt"]],inputs:{title:"title",dataSourceName:"dataSourceName",entitySchemaName:"entitySchemaName",primaryColumnValue:"primaryColumnValue",primaryDisplayColumnValue:"primaryDisplayColumnValue",allowedActions:"allowedActions"},features:[l["ɵɵInheritDefinitionFeature"]],decls:3,vars:2,consts:[[3,"styles",4,"ngIf","ngIfElse"],["actions_dashboard_7x_template",""],[3,"styles"],["crtResizable","",1,"designer-action-dashboard-wrap",3,"resized"],[1,"designer-action-dashboard-header"],[1,"designer-action-dashboard-dcm"],[1,"dcm-arrow"],["svgIcon","action-dashboard-dcm-arrow-start",1,"icon"],[1,"green-arrow-body"],["svgIcon","action-dashboard-dcm-arrow-green-end",1,"icon"],["class","dcm-arrow",4,"ngFor","ngForOf"],["svgIcon","action-dashboard-dcm-arrow-gray-start",1,"icon"],[1,"gray-arrow-body"],["svgIcon","action-dashboard-dcm-arrow-end",1,"icon"],[1,"designer-action-dashboard-actions"],["class","action action-description","svgIcon","action-dashboard-before-actions",4,"ngIf"],["class","action","svgIcon","action-dashboard-call",4,"ngIf"],["class","action","svgIcon","action-dashboard-email",4,"ngIf"],["class","action","svgIcon","action-dashboard-feed",4,"ngIf"],["class","action","svgIcon","action-dashboard-task",4,"ngIf"],[1,"designer-action-dashboard-line"],[1,"designer-action-dashboard-items"],["class","dashboard-item",4,"ngFor","ngForOf"],["svgIcon","action-dashboard-dcm-arrow-gray-end",1,"icon"],["svgIcon","action-dashboard-before-actions",1,"action","action-description"],["svgIcon","action-dashboard-call",1,"action"],["svgIcon","action-dashboard-email",1,"action"],["svgIcon","action-dashboard-feed",1,"action"],["svgIcon","action-dashboard-task",1,"action"],[1,"dashboard-item"],["svgIcon","action-dashboard-item-text",1,"item","description"],[1,"flag"],["svgIcon","action-dashboard-item-flag",1,"item"]],template:function(e,t){if(1&e&&(l["ɵɵtemplate"](0,$D,1,1,"crt-skeleton-loader",0),l["ɵɵtemplate"](1,tP,21,9,"ng-template",null,1,l["ɵɵtemplateRefExtractor"])),2&e){const e=l["ɵɵreference"](2);l["ɵɵproperty"]("ngIf",t.loading)("ngIfElse",e)}},directives:[o.NgIf,di,An,St.Hw,o.NgForOf],styles:["crt-action-dashboard-7x-dt mat-icon{min-height:16px;max-height:16px;height:-webkit-max-content;height:max-content;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}crt-action-dashboard-7x-dt #SectionActionDashboardContainer{width:calc(100% - 28px)}crt-action-dashboard-7x-dt .crt-placeholder{display:none;background-color:#f4f5f7}crt-action-dashboard-7x-dt .designer-action-dashboard-wrap{display:block;box-sizing:border-box;overflow:hidden;background:#fff;width:100%;background:#f4f5f7 0 0 no-repeat padding-box;border:1px solid #e6e6e6;border-radius:8px}crt-action-dashboard-7x-dt .designer-action-dashboard-header{margin:16px}crt-action-dashboard-7x-dt .designer-action-dashboard-dcm{height:16px;width:100%;opacity:1;display:flex}crt-action-dashboard-7x-dt .designer-action-dashboard-dcm .dcm-arrow{width:100%;display:flex}crt-action-dashboard-7x-dt .designer-action-dashboard-dcm .dcm-arrow .icon{min-width:8px;max-width:8px}crt-action-dashboard-7x-dt .designer-action-dashboard-dcm .green-arrow-body{width:100%;background-color:#22ac14}crt-action-dashboard-7x-dt .designer-action-dashboard-dcm .gray-arrow-body{width:100%;background-color:#cacaca;opacity:.4}crt-action-dashboard-7x-dt .designer-action-dashboard-actions{display:flex;margin-top:16px}crt-action-dashboard-7x-dt .designer-action-dashboard-actions .action{margin-right:24px}crt-action-dashboard-7x-dt .designer-action-dashboard-actions .action-description{width:-webkit-max-content;width:max-content}crt-action-dashboard-7x-dt .designer-action-dashboard-line{margin:0 16px;border-style:none;background-color:#cbcbcb;height:1px}crt-action-dashboard-7x-dt .designer-action-dashboard-items{display:flex;margin:16px 0 16px 16px}crt-action-dashboard-7x-dt .dashboard-item{display:grid;grid-template-columns:1fr 40px;background:#fff 0 0 no-repeat padding-box;border:1px solid #e6e6e6;border-radius:4px;width:100%;height:100px;margin-right:16px}crt-action-dashboard-7x-dt .dashboard-item .item.description{margin:23px 0 0 16px;height:auto;width:auto;max-height:56px;max-width:200px}crt-action-dashboard-7x-dt .dashboard-item .flag{margin:0 16px 23px 0;align-self:self-end;justify-self:right;width:16px;height:16px}"],encapsulation:2}),(0,a.gn)([(0,r.CrtInput)(),(0,a.w6)("design:type",String)],rP.prototype,"title",void 0),(0,a.gn)([(0,r.CrtInput)(),(0,a.w6)("design:type",String)],rP.prototype,"dataSourceName",void 0),(0,a.gn)([(0,r.CrtInput)(),(0,a.w6)("design:type",String)],rP.prototype,"entitySchemaName",void 0),(0,a.gn)([(0,r.CrtInput)(),(0,a.w6)("design:type",String)],rP.prototype,"primaryColumnValue",void 0),(0,a.gn)([(0,r.CrtInput)(),(0,a.w6)("design:type",String)],rP.prototype,"primaryDisplayColumnValue",void 0),(0,a.gn)([(0,r.CrtInput)(),(0,a.w6)("design:type",Object),(0,a.w6)("design:paramtypes",[Object])],rP.prototype,"allowedActions",null),rP=(0,a.gn)([(0,r.CrtViewElement)({type:"crt.ActionDashboard",selector:"crt-action-dashboard-7x"}),Ks({type:"crt.ActionDashboard",toolbarConfig:[{name:"ActionDashboard"+r.GENERATE_GUID_MACRO,groupType:Mu.Components,position:65,caption:"Components.ActionDashboard.Caption",hint:"Components.ActionDashboard.Hint",icon:n(90164),defaultPropertyValues:{allowedActions:nP()},defaultLocalizableStrings:{title:"Components.ActionDashboard.Caption"},useDevMode:!1}],interfaceDesignerPropertiesPanelSchemaName:"InterfaceDesignerActionDashboardPropertiesPanel",propertiesPanelComponentTypeName:"crt.ActionDashboardPropertiesPanel",clientSchemaDeps:["ActionDashboardComponent"]})],rP);let aP=class{constructor(e){this._materialIconsRegistrator=e;const t=["action-dashboard","action-dashboard-before-actions","action-dashboard-call","action-dashboard-dcm-arrow-end","action-dashboard-dcm-arrow-gray-end","action-dashboard-dcm-arrow-gray-start","action-dashboard-dcm-arrow-green-end","action-dashboard-dcm-arrow-start","action-dashboard-email","action-dashboard-feed","action-dashboard-item-flag","action-dashboard-item-text","action-dashboard-task"].map((e=>({name:e,icon:n(19270)(`./${e}.svg`)})));this._materialIconsRegistrator.addIcons(t)}};function oP({name:e,groupType:t,captionKey:i,iconName:a,position:o,hint:s,expansionPanelDefaultElements:l=[],expansionPanelDefaultTools:c=[],autoResizedRows:d=!0,fullWidthHeader:u=!0,useDevMode:p=!1}){return{name:e+r.GENERATE_GUID_MACRO,groupType:t,position:o,caption:i,hint:s,icon:n(19270)("./"+a+".svg"),useDevMode:p,defaultPropertyValues:{tools:[{name:"GridContainer_"+r.GENERATE_GUID_MACRO,type:"crt.GridContainer",rows:"minmax(max-content, 24px)",columns:["minmax(32px, 1fr)"],gap:{columnGap:"large",rowGap:0},styles:{"overflow-x":"hidden"},items:[{name:"FlexContainer_"+r.GENERATE_GUID_MACRO,type:"crt.FlexContainer",direction:"row",gap:"none",items:c,layoutConfig:{colSpan:1,column:1,row:1,rowSpan:1}}]}],items:[{name:"GridContainer_"+r.GENERATE_GUID_MACRO,type:"crt.GridContainer",rows:`minmax(${d?"max-content":" 32px"}, 32px)`,columns:["minmax(32px, 1fr)","minmax(32px, 1fr)"],gap:{columnGap:"large",rowGap:0},styles:{"overflow-x":"hidden"},items:l}],title:"",toggleType:"default",togglePosition:"before",expanded:!0,labelColor:"#004fd6",fullWidthHeader:u,titleWidth:20},defaultLocalizableStrings:{title:i}}}function sP(e,t){1&e&&(l["ɵɵelementContainerStart"](0),l["ɵɵprojection"](1,1),l["ɵɵelementContainerEnd"]())}function lP(e,t){1&e&&l["ɵɵelement"](0,"div",12)}function cP(e,t){if(1&e&&(l["ɵɵelementStart"](0,"div"),l["ɵɵelementContainer"](1,15),l["ɵɵelementEnd"]()),2&e){const e=t.$implicit;l["ɵɵadvance"](1),l["ɵɵproperty"]("crtViewElement",e)}}function dP(e,t){if(1&e&&(l["ɵɵelementContainerStart"](0),l["ɵɵtemplate"](1,cP,2,1,"div",14),l["ɵɵelementContainerEnd"]()),2&e){const e=l["ɵɵnextContext"](3);l["ɵɵadvance"](1),l["ɵɵproperty"]("ngForOf",e.items)}}function uP(e,t){if(1&e&&(l["ɵɵelementStart"](0,"div",13),l["ɵɵtemplate"](1,dP,2,1,"ng-container",1),l["ɵɵelementEnd"]()),2&e){const e=l["ɵɵnextContext"](2),t=l["ɵɵreference"](3);l["ɵɵstyleProp"]("width",e.toolsWidth),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",null==e.items?null:e.items.length)("ngIfElse",t)}}function pP(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵelementContainerStart"](0),l["ɵɵelementStart"](1,"div",7),l["ɵɵelementStart"](2,"div",7),l["ɵɵelementStart"](3,"crt-label",8),l["ɵɵlistener"]("click",(function(){l["ɵɵrestoreView"](e);return l["ɵɵnextContext"]().toggle()})),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵtemplate"](4,sP,2,0,"ng-container",9),l["ɵɵtemplate"](5,lP,1,0,"div",10),l["ɵɵtemplate"](6,uP,2,4,"div",11),l["ɵɵelementEnd"](),l["ɵɵelementContainerEnd"]()}if(2&e){const e=l["ɵɵnextContext"]();l["ɵɵadvance"](1),l["ɵɵproperty"]("ngClass",!e.expanded||e.isFullWidth?"expansion-panel-title full-width":"expansion-panel-title"),l["ɵɵadvance"](1),l["ɵɵstyleProp"]("width",e.titleWidth),l["ɵɵproperty"]("ngClass",e.title?"expansion-panel-label":"expansion-panel-label label-empty"),l["ɵɵadvance"](1),l["ɵɵproperty"]("caption",e.title)("labelColor",e.labelColor)("labelEllipsis",!0)("labelStyle",null==e.extraStyles?null:e.extraStyles.label),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",e.expanded),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",e.tooltip),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",e.expanded)}}function mP(e,t){1&e&&l["ɵɵprojection"](0,2)}function hP(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵelementStart"](0,"div",16),l["ɵɵelementStart"](1,"crt-label",17),l["ɵɵlistener"]("click",(function(){l["ɵɵrestoreView"](e);return l["ɵɵnextContext"]().toggle()})),l["ɵɵelementEnd"](),l["ɵɵelementEnd"]()}if(2&e){const e=l["ɵɵnextContext"]();l["ɵɵadvance"](1),l["ɵɵproperty"]("labelEllipsis",!0)("caption",e.description)}}aP.ɵfac=function(e){return new(e||aP)(l["ɵɵinject"](Dn))},aP.ɵmod=l["ɵɵdefineNgModule"]({type:aP}),aP.ɵinj=l["ɵɵdefineInjector"]({imports:[[o.CommonModule,St.Ps,Pu,Rn,ui,mi]]}),aP=(0,a.gn)([(0,r.CrtModule)({viewElements:[rP]}),(0,a.w6)("design:paramtypes",[Dn])],aP),("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](aP,{declarations:[rP],imports:[o.CommonModule,St.Ps,Pu,Rn,ui,mi],exports:[rP]});const gP=[[["","beforeToggleButtonContentWrapper",""]],[["","afterLabelContentWrapper",""]],"*"],fP=["[beforeToggleButtonContentWrapper]","[afterLabelContentWrapper]","*"];let vP=(()=>{class e extends xb{constructor(e){super(e),this._togglePosition="before",this.defaultToggleButtonSize=vb.Small,this.showEmptyTools=!1,this.isFullWidth=!1,this.expandedChange=new l.EventEmitter}set expanded(e){this._expanded=e,this._initToggleIcon(),this._initToggleIconClasses()}get expanded(){return this._expanded}set toggleType(e){this._toggleType=e,this._initToggleIcon(),this._initToggleButtonClasses(),this._initToggleIconClasses()}get toggleType(){return this._toggleType}set togglePosition(e){this._togglePosition=e,this._initHeaderClasses()}get togglePosition(){return this._togglePosition}get toggleIcon(){return this._toggleIcon}get headerClasses(){return this._headerClasses}get toggleButtonClasses(){return this._toggleButtonClasses}get toggleIconClasses(){return this._toggleIconClasses}get toolsWidth(){return this.expanded&&this.isFullWidth&&this.titleWidthValue?100-this.titleWidthValue+"%":null}get titleWidth(){return this.expanded&&this.isFullWidth&&this.titleWidthValue?`${this.titleWidthValue}%`:null}_initToggleIcon(){const e="material"===this.toggleType?"-mat":"",t=this.expanded?"-up":"-down";this._toggleIcon="expansion-panel-arrow"+t+e}_initHeaderClasses(){this._headerClasses={"toggle-position-before":"before"===this.togglePosition,"toggle-position-after":"after"===this.togglePosition}}_initToggleButtonClasses(){this._toggleButtonClasses={"expansion-panel-toggle":!0,"toggle-button-default":"default"===this.toggleType,"toggle-button-material":"material"===this.toggleType}}_initToggleIconClasses(){this._toggleIconClasses={"toggle-icon":!0,"toggle-icon-expanded":this.expanded,"toggle-icon-collapsed":!this.expanded,"toggle-icon-default":"default"===this.toggleType,"toggle-icon-material":"material"===this.toggleType}}ngAfterViewInit(){super.ngAfterViewInit(),this._initToggleIcon(),this._initHeaderClasses(),this._initToggleButtonClasses(),this._initToggleIconClasses()}toggle(){this.expanded=!this.expanded,this.expandedChange.emit(this.expanded)}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](l.Injector))},e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["crt-expansion-panel-header"]],inputs:{title:"title",tooltip:"tooltip",description:"description",expanded:"expanded",toggleType:"toggleType",togglePosition:"togglePosition",labelColor:"labelColor",extraStyles:"extraStyles",ariaLabel:"ariaLabel",showEmptyTools:"showEmptyTools",isFullWidth:"isFullWidth",titleWidthValue:"titleWidthValue"},outputs:{expandedChange:"expandedChange"},features:[l["ɵɵProvidersFeature"]([],[ie.ib]),l["ɵɵInheritDefinitionFeature"]],ngContentSelectors:fP,decls:9,vars:12,consts:[[1,"expansion-panel-header",3,"ngClass","ngStyle"],[4,"ngIf","ngIfElse"],["content",""],[1,"button-wrapper"],["type","button",3,"ariaLabel","ngClass","disableRipple","size","clicked"],["matSuffix","",3,"svgIcon","ngClass","ngStyle"],["class","expansion-panel-description",4,"ngIf"],[3,"ngClass"],["labelType","subheading-1",3,"caption","labelColor","labelEllipsis","labelStyle","click"],[4,"ngIf"],["class","expansion-panel-info",4,"ngIf"],["class","expansion-panel-tools",3,"width",4,"ngIf"],[1,"expansion-panel-info"],[1,"expansion-panel-tools"],[4,"ngFor","ngForOf"],["crtViewModel","",3,"crtViewElement"],[1,"expansion-panel-description"],["labelType","caption",3,"labelEllipsis","caption","click"]],template:function(e,t){if(1&e&&(l["ɵɵprojectionDef"](gP),l["ɵɵelementStart"](0,"div",0),l["ɵɵtemplate"](1,pP,7,11,"ng-container",1),l["ɵɵtemplate"](2,mP,1,0,"ng-template",null,2,l["ɵɵtemplateRefExtractor"]),l["ɵɵelementStart"](4,"div",3),l["ɵɵprojection"](5),l["ɵɵelementStart"](6,"crt-button",4),l["ɵɵlistener"]("clicked",(function(){return t.toggle()})),l["ɵɵelement"](7,"mat-icon",5),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵtemplate"](8,hP,2,2,"div",6)),2&e){const e=l["ɵɵreference"](3);l["ɵɵproperty"]("ngClass",t.headerClasses)("ngStyle",null==t.extraStyles?null:t.extraStyles.header),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",t.title||t.tooltip||t.description)("ngIfElse",e),l["ɵɵadvance"](5),l["ɵɵpropertyInterpolate"]("size",t.defaultToggleButtonSize),l["ɵɵproperty"]("ariaLabel",t.ariaLabel||t.title)("ngClass",t.toggleButtonClasses)("disableRipple",!0),l["ɵɵadvance"](1),l["ɵɵproperty"]("svgIcon",t.toggleIcon)("ngClass",t.toggleIconClasses)("ngStyle",null==t.extraStyles?null:t.extraStyles.toggle),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",t.description)}},styles:["crt-expansion-panel-header{display:flex;flex-direction:column;background-color:#fff}crt-expansion-panel-header .expansion-panel-header{min-height:48px;display:flex;flex-direction:row;justify-content:space-between;max-width:100%;align-items:center;-webkit-user-select:none;user-select:none;width:100%}crt-expansion-panel-header .expansion-panel-header.toggle-position-before{flex-direction:row-reverse;justify-content:flex-end}crt-expansion-panel-header .expansion-panel-header.toggle-position-before .expansion-panel-title{max-width:calc(100% - 16px);padding-right:0}crt-expansion-panel-header .expansion-panel-header.toggle-position-before .expansion-panel-label{padding-left:16px}crt-expansion-panel-header .expansion-panel-header.toggle-position-before .expansion-panel-label.label-empty{padding-left:8px}crt-expansion-panel-header .expansion-panel-header .expansion-panel-title{max-width:calc(100% - 32px);padding-right:16px;display:flex;flex-direction:row;align-items:center;min-width:30px;width:100%}crt-expansion-panel-header .expansion-panel-header .expansion-panel-title .expansion-panel-label{display:flex;justify-content:flex-start;overflow:auto;cursor:pointer}crt-expansion-panel-header .expansion-panel-header .expansion-panel-title .expansion-panel-label crt-label{width:100%}crt-expansion-panel-header .expansion-panel-header .expansion-panel-title .expansion-panel-label crt-label label{cursor:pointer;margin:0}crt-expansion-panel-header .expansion-panel-header .expansion-panel-title .expansion-panel-info{padding-left:8px}crt-expansion-panel-header .expansion-panel-header .expansion-panel-title .expansion-panel-tools{padding-left:5px}crt-expansion-panel-header .expansion-panel-header .expansion-panel-title.full-width .expansion-panel-label{width:100%}crt-expansion-panel-header .expansion-panel-header .button-wrapper{display:flex}crt-expansion-panel-header crt-button.expansion-panel-toggle{background-color:#fff;display:flex;height:16px}crt-expansion-panel-header crt-button.expansion-panel-toggle .crt-button{height:auto}crt-expansion-panel-header crt-button.expansion-panel-toggle .crt-button.button-size-small{padding:0}crt-expansion-panel-header crt-button.expansion-panel-toggle .crt-button .mat-icon.toggle-icon{width:16px;height:16px;display:flex;border-radius:2px}crt-expansion-panel-header crt-button.expansion-panel-toggle .crt-button .mat-icon.toggle-icon.toggle-icon-default{margin:1px;width:14px;height:14px}crt-expansion-panel-header .expansion-panel-description{width:100%;display:flex;justify-content:flex-start;overflow:auto;cursor:pointer}crt-expansion-panel-header .expansion-panel-description crt-label{width:100%}crt-expansion-panel-header .expansion-panel-description crt-label label{cursor:pointer}crt-expansion-panel-header[dir=rtl] .expansion-panel-header.toggle-position-before .expansion-panel-label{padding-right:16px;padding-left:0}crt-expansion-panel-header[dir=rtl] .expansion-panel-header .expansion-panel-title{padding-left:16px;padding-right:0}crt-expansion-panel-header[dir=rtl] .expansion-panel-header .expansion-panel-title .expansion-panel-tools{padding-left:0;padding-right:5px}"],encapsulation:2,changeDetection:0}),e})();function bP(e,t){if(1&e&&l["ɵɵelement"](0,"crt-skeleton-loader",2),2&e){const e=l["ɵɵnextContext"]();l["ɵɵproperty"]("styles",e.skeletonStyles)}}function CP(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵelementStart"](0,"crt-expansion-panel-header",8),l["ɵɵlistener"]("expandedChange",(function(t){l["ɵɵrestoreView"](e);return l["ɵɵnextContext"](2).expanded=t}))("expandedChange",(function(t){l["ɵɵrestoreView"](e);return l["ɵɵnextContext"](2).expandedChanged(t)})),l["ɵɵelementContainerStart"](1,9),l["ɵɵprojection"](2),l["ɵɵelementContainerEnd"](),l["ɵɵelementContainerStart"](3,10),l["ɵɵprojection"](4,1),l["ɵɵelementContainerEnd"](),l["ɵɵprojection"](5,2),l["ɵɵelementEnd"]()}if(2&e){const e=l["ɵɵnextContext"](2);l["ɵɵproperty"]("title",e.title)("tooltip",e.tooltip)("description",e.description)("expanded",e.expanded)("togglePosition",e.togglePosition)("toggleType",e.toggleType)("labelColor",e.labelColor)("dir",e.documentDirection)("items",e.tools)("ariaLabel",e.ariaLabel)("extraStyles",e.extraStyles)("isFullWidth",e.fullWidthHeader)("titleWidthValue",e.titleWidth)}}function yP(e,t){if(1&e&&(l["ɵɵelementStart"](0,"div",13),l["ɵɵelementStart"](1,"div",14),l["ɵɵelementContainer"](2,15),l["ɵɵelementEnd"](),l["ɵɵelementEnd"]()),2&e){const e=t.$implicit;l["ɵɵadvance"](2),l["ɵɵproperty"]("crtViewElement",e)}}function wP(e,t){if(1&e&&(l["ɵɵelementContainerStart"](0),l["ɵɵtemplate"](1,yP,3,1,"div",12),l["ɵɵelementContainerEnd"]()),2&e){const e=l["ɵɵnextContext"](3);l["ɵɵadvance"](1),l["ɵɵproperty"]("ngForOf",e.items)}}function _P(e,t){if(1&e&&l["ɵɵtemplate"](0,wP,2,1,"ng-container",11),2&e){l["ɵɵnextContext"]();const e=l["ɵɵreference"](5),t=l["ɵɵnextContext"]();l["ɵɵproperty"]("ngIf",null==t.items?null:t.items.length)("ngIfElse",e)}}function xP(e,t){1&e&&l["ɵɵprojection"](0,3)}function IP(e,t){if(1&e&&(l["ɵɵtemplate"](0,CP,6,13,"crt-expansion-panel-header",3),l["ɵɵelementStart"](1,"mat-expansion-panel",4,5),l["ɵɵtemplate"](3,_P,1,2,"ng-template",6),l["ɵɵtemplate"](4,xP,1,0,"ng-template",null,7,l["ɵɵtemplateRefExtractor"]),l["ɵɵelementEnd"]()),2&e){const e=l["ɵɵnextContext"]();l["ɵɵproperty"]("ngIf",e.title||e.tooltip||e.description||(null==e.tools?null:e.tools.length)),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngClass",e.expansionPanelClasses)("expanded",e.expanded)("hideToggle",!0)}}const SP=[[["","beforeToggleButtonContent",""]],[["","afterLabelContent",""]],[["","tools",""]],"*"];let MP=class extends xb{constructor(e){super(e),this._disableOverflow=!1,this.togglePosition="before",this.fullWidthHeader=!0,this.tools=[],this.opened=new l.EventEmitter,this.closed=new l.EventEmitter}set toggleType(e){this._toggleType=e,this._updateExpansionPanelClasses()}get toggleType(){return this._toggleType}set disableOverflow(e){this._disableOverflow=e,this._updateExpansionPanelClasses()}get disableOverflow(){return this._disableOverflow}get innerGridName(){return this._innerGridName}get expansionPanelClasses(){return this._expansionPanelClasses}ngOnInit(){var e;super.ngOnInit(),this._innerGridName=null===(e=this.items[0])||void 0===e?void 0:e.name}ngAfterViewInit(){super.ngAfterViewInit(),this._initContentState(),this._updateExpansionPanelClasses(),this.detectChanges()}_initContentState(){this.title||this.tooltip||this.description||(this.expanded=!0)}_updateExpansionPanelClasses(){this._expansionPanelClasses={"crt-expansion-panel":!0,"toggle-default":"default"===this.toggleType,"toggle-material":"material"===this.toggleType,"disable-overflow":this.disableOverflow}}onOpened(){this.opened.emit()}onClosed(){this.closed.emit()}expandedChanged(e){e?this.onOpened():this.onClosed()}};MP.ɵfac=function(e){return new(e||MP)(l["ɵɵdirectiveInject"](l.Injector))},MP.ɵcmp=l["ɵɵdefineComponent"]({type:MP,selectors:[["crt-expansion-panel"]],inputs:{expanded:"expanded",title:"title",toggleType:"toggleType",togglePosition:"togglePosition",labelColor:"labelColor",tooltip:"tooltip",description:"description",extraStyles:"extraStyles",ariaLabel:"ariaLabel",fullWidthHeader:"fullWidthHeader",titleWidth:"titleWidth",tools:"tools",disableOverflow:"disableOverflow"},outputs:{opened:"opened",closed:"closed"},features:[l["ɵɵInheritDefinitionFeature"]],ngContentSelectors:["[beforeToggleButtonContent]","[afterLabelContent]","[tools]","*"],decls:3,vars:2,consts:[[3,"styles",4,"ngIf","ngIfElse"],["expansion_panel_template",""],[3,"styles"],[3,"title","tooltip","description","expanded","togglePosition","toggleType","labelColor","dir","items","ariaLabel","extraStyles","isFullWidth","titleWidthValue","expandedChange",4,"ngIf"],[3,"ngClass","expanded","hideToggle"],["matExpansionPanel",""],["matExpansionPanelContent",""],["content",""],[3,"title","tooltip","description","expanded","togglePosition","toggleType","labelColor","dir","items","ariaLabel","extraStyles","isFullWidth","titleWidthValue","expandedChange"],["beforeToggleButtonContentWrapper",""],["afterLabelContentWrapper",""],[4,"ngIf","ngIfElse"],["class","expansion-panel-content-wrap",4,"ngFor","ngForOf"],[1,"expansion-panel-content-wrap"],[1,"content-wrap"],[3,"crtViewElement"]],template:function(e,t){if(1&e&&(l["ɵɵprojectionDef"](SP),l["ɵɵtemplate"](0,bP,1,1,"crt-skeleton-loader",0),l["ɵɵtemplate"](1,IP,6,4,"ng-template",null,1,l["ɵɵtemplateRefExtractor"])),2&e){const e=l["ɵɵreference"](2);l["ɵɵproperty"]("ngIf",t.loading)("ngIfElse",e)}},directives:[o.NgIf,di,ie.ib,o.NgClass,ie.HS,vP,en.Lv,o.NgForOf,_u],styles:["crt-designer-expansion-panel,crt-expansion-panel{border-radius:8px;padding:5px 16px;display:flex;flex-direction:column;height:100%;box-sizing:border-box;overflow:hidden}crt-designer-expansion-panel crt-designer-expansion-panel,crt-designer-expansion-panel crt-expansion-panel,crt-expansion-panel crt-designer-expansion-panel,crt-expansion-panel crt-expansion-panel{padding-left:16px;padding-right:0}crt-designer-expansion-panel crt-designer-expansion-panel[dir=rtl],crt-designer-expansion-panel crt-expansion-panel[dir=rtl],crt-expansion-panel crt-designer-expansion-panel[dir=rtl],crt-expansion-panel crt-expansion-panel[dir=rtl]{padding-left:0;padding-right:16px}crt-designer-expansion-panel .crt-expansion-panel.mat-expansion-panel,crt-expansion-panel .crt-expansion-panel.mat-expansion-panel{visibility:hidden;box-shadow:none}crt-designer-expansion-panel .crt-expansion-panel.mat-expansion-panel .mat-expansion-panel-content,crt-expansion-panel .crt-expansion-panel.mat-expansion-panel .mat-expansion-panel-content{min-height:0}crt-designer-expansion-panel .crt-expansion-panel.mat-expansion-panel .mat-expansion-panel-content .mat-expansion-panel-body,crt-expansion-panel .crt-expansion-panel.mat-expansion-panel .mat-expansion-panel-content .mat-expansion-panel-body{padding:0;height:100%;overflow:auto;display:flex;flex-direction:column}crt-designer-expansion-panel .crt-expansion-panel.mat-expansion-panel.disable-overflow .mat-expansion-panel-body,crt-expansion-panel .crt-expansion-panel.mat-expansion-panel.disable-overflow .mat-expansion-panel-body{overflow:hidden}crt-designer-expansion-panel .crt-expansion-panel.mat-expansion-panel.mat-expanded,crt-expansion-panel .crt-expansion-panel.mat-expansion-panel.mat-expanded{display:contents;visibility:visible}crt-designer-expansion-panel .crt-expansion-panel.mat-expansion-panel.mat-expanded.toggle-default .mat-expansion-panel-content,crt-expansion-panel .crt-expansion-panel.mat-expansion-panel.mat-expanded.toggle-default .mat-expansion-panel-content{height:calc(100% - 43px)}crt-designer-expansion-panel .crt-expansion-panel.mat-expansion-panel.mat-expanded.toggle-material .mat-expansion-panel-content,crt-expansion-panel .crt-expansion-panel.mat-expansion-panel.mat-expanded.toggle-material .mat-expansion-panel-content{height:calc(100% - 48px)}crt-designer-expansion-panel .crt-expansion-panel.mat-expansion-panel.mat-expanded>.mat-expansion-panel-content,crt-expansion-panel .crt-expansion-panel.mat-expansion-panel.mat-expanded>.mat-expansion-panel-content{padding-bottom:10px}"],encapsulation:2,changeDetection:0}),(0,a.gn)([(0,r.CrtInput)(),(0,a.w6)("design:type",String)],MP.prototype,"title",void 0),(0,a.gn)([(0,r.CrtInput)(),(0,a.w6)("design:type",String)],MP.prototype,"labelColor",void 0),MP=(0,a.gn)([Xs({type:"crt.ExpansionPanel",contentSlots:["items","tools"]}),Ks({type:"crt.ExpansionPanel",toolbarConfig:[oP({name:"ExpansionPanel",groupType:Mu.LayoutElements,position:10,captionKey:"Components.ExpansionPanel.Caption",iconName:"expansion-panel"}),oP({name:"ExpandedList",groupType:Mu.Components,position:30,captionKey:"Components.ExpandedList.Caption",hint:"Components.ExpandedList.Hint",iconName:"data-grid-detail",autoResizedRows:!1,fullWidthHeader:!1,expansionPanelDefaultElements:[{name:"DataGrid_"+r.GENERATE_GUID_MACRO,type:"crt.DataGrid",layoutConfig:{colSpan:2,column:1,row:1,rowSpan:6}}],expansionPanelDefaultTools:[{name:"GridDetailAddBtn_"+r.GENERATE_GUID_MACRO,type:"crt.Button",caption:"",icon:"add-button-icon",iconPosition:"only-icon",color:"default",size:vb.Medium,defaultLocalizableStrings:{caption:"Components.ExpandedList.AddBtnCaption"},clicked:{request:"crt.CreateRecordRequest"}},{name:"GridDetailRefreshBtn_"+r.GENERATE_GUID_MACRO,type:"crt.Button",caption:"",icon:"reload-button-icon",iconPosition:"only-icon",color:"default",size:vb.Medium,defaultLocalizableStrings:{caption:"Components.ExpandedList.RefreshBtnCaption"},clicked:{request:"crt.LoadDataRequest",config:{loadType:zr.Reload}}}]})],interfaceDesignerPropertiesPanelSchemaName:"InterfaceDesignerExpansionPanelPropertiesPanel",propertiesPanelComponentTypeName:"crt.ExpansionPanelPropertiesPanel",designControlConfig:{allowDesignContent:!0},collectionPropertyNames:["items","tools"]}),(0,a.w6)("design:paramtypes",[l.Injector])],MP);let DP=class{constructor(e){this._materialIconsRegistrator=e,this._materialIconsRegistrator.addIcons([{name:"expansion-panel-arrow-up",icon:n(60309)},{name:"expansion-panel-arrow-down",icon:n(70170)},{name:"expansion-panel-arrow-up-mat",icon:n(70626)},{name:"expansion-panel-arrow-down-mat",icon:n(4381)}])}};DP.ɵfac=function(e){return new(e||DP)(l["ɵɵinject"](Dn))},DP.ɵmod=l["ɵɵdefineNgModule"]({type:DP}),DP.ɵinj=l["ɵɵdefineInjector"]({providers:[Ia],imports:[[o.CommonModule,ie.To,St.Ps,Pu,Rn,ui,cx,Kw]]}),DP=(0,a.gn)([(0,r.CrtModule)({viewElements:[MP]}),(0,a.w6)("design:paramtypes",[Dn])],DP),("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](DP,{declarations:[MP,vP],imports:[o.CommonModule,ie.To,St.Ps,Pu,Rn,ui,cx,Kw],exports:[MP,vP]}),l["ɵɵsetComponentScope"](vP,[o.NgClass,o.NgStyle,o.NgIf,ex,o.NgForOf,Su,_u,Jw,St.Hw],[]);var PP=(()=>(function(e){e.CONTENT="expansionPanelContent",e.TOOLS="expansionPanelTools"}(PP||(PP={})),PP))();class TP{static getNewTabConfig(e){return{name:e,type:"crt.TabContainer",items:[{name:"GridContainer_"+r.GENERATE_GUID_MACRO,type:"crt.GridContainer",items:[],rows:"minmax(32px, max-content)",columns:["minmax(32px, 1fr)","minmax(32px, 1fr)"],gap:{columnGap:"large",rowGap:0}}]}}static getTabConfig(e,t,n,i,r){return{caption:t,icon:i,iconPosition:r,name:e,type:"crt.TabContainer",items:n}}}function kP(e,t){if(1&e&&l["ɵɵelement"](0,"crt-skeleton-loader",2),2&e){const e=l["ɵɵnextContext"]();l["ɵɵproperty"]("styles",e.skeletonStyles)}}function EP(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵelementStart"](0,"div"),l["ɵɵelementStart"](1,"div",13),l["ɵɵlistener"]("click",(function(t){l["ɵɵrestoreView"](e);const n=l["ɵɵnextContext"](2).index;return l["ɵɵnextContext"](2).selectTab(t,n-1)})),l["ɵɵelementEnd"](),l["ɵɵelementEnd"]()}if(2&e){const e=l["ɵɵnextContext"](2).index;l["ɵɵclassMap"]("tab-header-part-wrap "+(0===e?"first-tab":""))}}function NP(e,t){if(1&e&&(l["ɵɵelementStart"](0,"div",18),l["ɵɵelement"](1,"img",19),l["ɵɵpipe"](2,"bypassSecurityTrust"),l["ɵɵelementEnd"]()),2&e){const e=l["ɵɵnextContext"](3).$implicit;l["ɵɵproperty"]("title",e.hint||""),l["ɵɵadvance"](1),l["ɵɵproperty"]("src",l["ɵɵpipeBind2"](2,3,e.icon,"resourceUrl"),l["ɵɵsanitizeUrl"])("alt",e.hint)}}function OP(e,t){if(1&e&&(l["ɵɵelementStart"](0,"div",20),l["ɵɵelement"](1,"mat-icon",21),l["ɵɵelementEnd"]()),2&e){const e=l["ɵɵnextContext"](3).$implicit,t=l["ɵɵnextContext"](2);l["ɵɵproperty"]("title",e.hint||""),l["ɵɵadvance"](1),l["ɵɵstyleProp"]("color",e.selected?t.selectedTitleColor:t.titleColor),l["ɵɵproperty"]("svgIcon",e.icon||"default-tab-icon")}}function jP(e,t){1&e&&l["ɵɵelement"](0,"div",22)}function AP(e,t){if(1&e&&(l["ɵɵelementContainerStart"](0,14),l["ɵɵtemplate"](1,NP,3,6,"div",15),l["ɵɵtemplate"](2,OP,2,4,"div",16),l["ɵɵtemplate"](3,jP,1,0,"div",17),l["ɵɵelementContainerEnd"]()),2&e){const e=l["ɵɵnextContext"](2).$implicit;l["ɵɵproperty"]("ngSwitch",e.iconSource),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngSwitchCase","url"),l["ɵɵadvance"](2),l["ɵɵproperty"]("ngIf",e.caption&&"only-icon"!==e.iconPosition)}}function RP(e,t){if(1&e&&l["ɵɵelement"](0,"crt-label",23),2&e){const e=l["ɵɵnextContext"](2).$implicit,t=l["ɵɵnextContext"](2);l["ɵɵproperty"]("caption",e.caption)("labelColor",e.selected?t.selectedTitleColor:t.titleColor)("title",e.caption&&e.caption.toUpperCase())}}function FP(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵelementStart"](0,"div",24),l["ɵɵelementStart"](1,"div",25),l["ɵɵlistener"]("click",(function(t){l["ɵɵrestoreView"](e);const n=l["ɵɵnextContext"](2).index;return l["ɵɵnextContext"](2).selectTab(t,n+1)})),l["ɵɵelementEnd"](),l["ɵɵelementEnd"]()}}function VP(e,t){if(1&e&&(l["ɵɵtemplate"](0,EP,2,3,"div",8),l["ɵɵelementStart"](1,"div",9),l["ɵɵtemplate"](2,AP,4,3,"ng-container",10),l["ɵɵtemplate"](3,RP,1,3,"crt-label",11),l["ɵɵelementEnd"](),l["ɵɵtemplate"](4,FP,2,0,"div",12)),2&e){const e=l["ɵɵnextContext"]().$implicit,t=l["ɵɵnextContext"](2);l["ɵɵproperty"]("ngIf","fullyColored"===t.styleType&&e.selected),l["ɵɵadvance"](1),l["ɵɵproperty"]("matTooltip",e.hint),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf","only-text"!==e.iconPosition),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf","only-icon"!==e.iconPosition),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf","fullyColored"===t.styleType&&e.selected)}}const LP=function(e){return[e]};function zP(e,t){if(1&e&&(l["ɵɵelementContainerStart"](0),l["ɵɵelementContainer"](1,29),l["ɵɵelementContainerEnd"]()),2&e){const e=l["ɵɵnextContext"](2).$implicit;l["ɵɵadvance"](1),l["ɵɵproperty"]("viewConfig",l["ɵɵpureFunction1"](2,LP,e))("selector",e.name)}}function BP(e,t){if(1&e&&l["ɵɵelementContainer"](0,31),2&e){const e=l["ɵɵnextContext"](3).$implicit;l["ɵɵproperty"]("crtViewElement",e)}}function GP(e,t){if(1&e&&l["ɵɵtemplate"](0,BP,1,1,"ng-container",30),2&e){const e=l["ɵɵnextContext"](2).$implicit;l["ɵɵproperty"]("ngIf",e.selected)}}function HP(e,t){if(1&e&&(l["ɵɵelementStart"](0,"div",26),l["ɵɵtemplate"](1,zP,2,4,"ng-container",27),l["ɵɵtemplate"](2,GP,1,1,"ng-template",null,28,l["ɵɵtemplateRefExtractor"]),l["ɵɵelementEnd"]()),2&e){const e=l["ɵɵreference"](3),t=l["ɵɵnextContext"](3);l["ɵɵstyleProp"]("background",t.bodyBackground),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",t.useCompiledSchemaComponent)("ngIfElse",e)}}function UP(e,t){1&e&&(l["ɵɵelementStart"](0,"mat-tab",5),l["ɵɵtemplate"](1,VP,5,5,"ng-template",6),l["ɵɵtemplate"](2,HP,4,4,"ng-template",7),l["ɵɵelementEnd"]())}function ZP(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵelementStart"](0,"div"),l["ɵɵelementStart"](1,"mat-tab-group",3),l["ɵɵlistener"]("selectedIndexChange",(function(t){l["ɵɵrestoreView"](e);return l["ɵɵnextContext"]().selectedTabIndex=t})),l["ɵɵtemplate"](2,UP,3,0,"mat-tab",4),l["ɵɵelementEnd"](),l["ɵɵelementEnd"]()}if(2&e){const e=l["ɵɵnextContext"]();l["ɵɵclassMap"](e.styleClasses),l["ɵɵadvance"](1),l["ɵɵproperty"]("selectedIndex",e.selectedTabIndex)("disableRipple",!0),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngForOf",e.items)("ngForTrackBy",e.trackByNgFor)}}let $P=class extends Us{constructor(e,t){super(e),this.sanitizer=t,this._subscriptions=new h.Subscription,this._selectedTabIndex=0,this._styleType="default",this._bodyBackgroundColor=as.PrimaryContrast500,this._selectedTabTitleColor=as.Auto,this._titleColor=as.Auto,this._underlineColor=as.Auto,this._headerBackgroundColor=as.Auto,this.skeletonStyles={height:"60px"},this.useCompiledSchemaComponent=!0,this.items=[],this._featureService=e.get(ls)}set tabTitleColor(e){this._titleColor=e,this._initTabTitleColor()}set selectedTabTitleColor(e){this._selectedTabTitleColor=e,this._initSelectedTabTitleColor()}set bodyBackgroundColor(e){this._bodyBackgroundColor=e,this._initBodyBackground()}set underlineSelectedTabColor(e){this._underlineColor=e,this._initStyleClasses()}get underlineSelectedTabColor(){return this._underlineColor}set headerBackgroundColor(e){this._headerBackgroundColor=e,this._initStyleClasses()}get headerBackgroundColor(){return this._headerBackgroundColor}set styleType(e){this._styleType=e,this._initStyleClasses()}get styleType(){return this._styleType}get bodyBackground(){return this._bodyBackground}get selectedTitleColor(){return this._selectedTabTitleColorValue}get titleColor(){return this._titleColorValue}set selectedTabIndex(e){this.setSelectedTabIndex(e),this.setTabSelected(this.selectedTabIndex)}get selectedTabIndex(){return this._selectedTabIndex}get styleClasses(){return this._styleClasses}_getStyleTypeClass(){switch(this.styleType){case"default":return"style-default";case"partiallyColored":return"style-partially-colored";case"fullyColored":return"style-fully-colored";default:return"style-default"}}_initStyleClasses(){const e=["crt-tab-panel",this._getStyleTypeClass()];this._extendWithStyles(e),this._styleClasses=e.join(" ")}_extendWithStyles(e){"fullyColored"!==this.styleType&&this.underlineSelectedTabColor!==as.Auto&&e.push(`underline-${this.underlineSelectedTabColor}`),"default"!==this.styleType&&this.headerBackgroundColor!==as.Auto&&e.push(`header-${this.headerBackgroundColor}`)}_initBodyBackground(){this._bodyBackground=os(this._bodyBackgroundColor)}_initSelectedTabTitleColor(){this._selectedTabTitleColorValue=this._selectedTabTitleColor!==as.Auto?os(this._selectedTabTitleColor):null}_initTabTitleColor(){this._titleColorValue=this._titleColor!==as.Auto?os(this._titleColor):null}_initSubscriptions(){const e=this._featureService.getFeatureState("DisableCompileSchemaComponent").pipe((0,g.U)((e=>!e))).subscribe((e=>{var t;this.useCompiledSchemaComponent=e,this.useCompiledSchemaComponent&&Boolean(null===(t=this.items)||void 0===t?void 0:t.length)&&this.setTabSelected(this._selectedTabIndex)}));this._subscriptions.add(e)}setTabSelected(e){if(e<0)return;this.items.forEach((e=>e.selected=!1));this.items[e].selected=!0,this.detectChanges()}setSelectedTabIndex(e){if(!Array.isArray(this.items)||0===this.items.length)return void(this._selectedTabIndex=-1);const t=this._selectedTabIndex;this._selectedTabIndex=t<0?0:e}ngOnInit(){this._initStyleClasses(),this._initBodyBackground(),this._initSelectedTabTitleColor(),this._initTabTitleColor(),this._initSubscriptions()}trackByNgFor(e,t){return`${e}_${t.name}`}selectTab(e,t){e.stopPropagation(),t<0||t>=this.items.length||(this.selectedTabIndex=t)}ngOnDestroy(){this._subscriptions.unsubscribe()}};function WP(e,t){if(1&e&&(l["ɵɵelementStart"](0,"div"),l["ɵɵelementContainer"](1,2),l["ɵɵelementEnd"]()),2&e){const e=t.$implicit;l["ɵɵadvance"](1),l["ɵɵproperty"]("crtViewElement",e)}}$P.ɵfac=function(e){return new(e||$P)(l["ɵɵdirectiveInject"](l.Injector),l["ɵɵdirectiveInject"](i.DomSanitizer))},$P.ɵcmp=l["ɵɵdefineComponent"]({type:$P,selectors:[["crt-tab-panel"]],inputs:{items:"items",tabTitleColor:"tabTitleColor",selectedTabTitleColor:"selectedTabTitleColor",bodyBackgroundColor:"bodyBackgroundColor",underlineSelectedTabColor:"underlineSelectedTabColor",headerBackgroundColor:"headerBackgroundColor",styleType:"styleType",selectedTabIndex:"selectedTabIndex"},features:[l["ɵɵInheritDefinitionFeature"]],decls:3,vars:2,consts:[[3,"styles",4,"ngIf","ngIfElse"],["tabs_template",""],[3,"styles"],["data-qa","tabs","animationDuration","0ms",1,"tab-group",3,"selectedIndex","disableRipple","selectedIndexChange"],["data-qa","tab",4,"ngFor","ngForOf","ngForTrackBy"],["data-qa","tab"],["mat-tab-label",""],["matTabContent",""],[3,"class",4,"ngIf"],[1,"tab-header",3,"matTooltip"],[3,"ngSwitch",4,"ngIf"],["class","tab-label","data-qa","tab-label","labelType","body-1","labelEllipsis","true",3,"caption","labelColor","title",4,"ngIf"],["class","tab-header-part-wrap",4,"ngIf"],[1,"pre-tab-header","tab-header-part",3,"click"],[3,"ngSwitch"],["class","tab-icon url",3,"title",4,"ngSwitchCase"],["class","tab-icon system",3,"title",4,"ngSwitchDefault"],["class","tab-icon-space",4,"ngIf"],[1,"tab-icon","url",3,"title"],[3,"src","alt"],[1,"tab-icon","system",3,"title"],[3,"svgIcon"],[1,"tab-icon-space"],["data-qa","tab-label","labelType","body-1","labelEllipsis","true",1,"tab-label",3,"caption","labelColor","title"],[1,"tab-header-part-wrap"],[1,"post-tab-header","tab-header-part",3,"click"],[1,"tab-body"],[4,"ngIf","ngIfElse"],["viewElementDirective",""],["crtViewGenerator","",3,"viewConfig","selector"],[3,"crtViewElement",4,"ngIf"],[3,"crtViewElement"]],template:function(e,t){if(1&e&&(l["ɵɵtemplate"](0,kP,1,1,"crt-skeleton-loader",0),l["ɵɵtemplate"](1,ZP,3,7,"ng-template",null,1,l["ɵɵtemplateRefExtractor"])),2&e){const e=l["ɵɵreference"](2);l["ɵɵproperty"]("ngIf",t.loading)("ngIfElse",e)}},directives:[o.NgIf,di,me.SP,o.NgForOf,me.uX,me.uD,me.Vc,Dt.gM,o.NgSwitch,o.NgSwitchCase,o.NgSwitchDefault,St.Hw,ex,Ju,_u],pipes:[io],styles:["crt-designer-tab-panel .crt-tab-panel,crt-tab-panel .crt-tab-panel{overflow:hidden;border-radius:8px;box-sizing:border-box;width:100%;height:100%}crt-designer-tab-panel .crt-tab-panel .mat-tab-header,crt-tab-panel .crt-tab-panel .mat-tab-header{padding-left:16px;padding-right:16px;box-sizing:border-box;height:40px}crt-designer-tab-panel .crt-tab-panel .mat-tab-header .mat-tab-label-active,crt-designer-tab-panel .crt-tab-panel .mat-tab-header .mat-tab-label:hover,crt-tab-panel .crt-tab-panel .mat-tab-header .mat-tab-label-active,crt-tab-panel .crt-tab-panel .mat-tab-header .mat-tab-label:hover{padding-bottom:0;border-bottom-width:2px;border-bottom-style:solid}crt-designer-tab-panel .crt-tab-panel .mat-tab-header .mat-tab-header-pagination,crt-tab-panel .crt-tab-panel .mat-tab-header .mat-tab-header-pagination{min-width:24px}crt-designer-tab-panel .crt-tab-panel .mat-tab-header .mat-tab-header-pagination-disabled .mat-tab-header-pagination-chevron,crt-tab-panel .crt-tab-panel .mat-tab-header .mat-tab-header-pagination-disabled .mat-tab-header-pagination-chevron{opacity:.38}crt-designer-tab-panel .crt-tab-panel .mat-tab-header .mat-tab-header-pagination-chevron,crt-tab-panel .crt-tab-panel .mat-tab-header .mat-tab-header-pagination-chevron{border-width:1px 1px 0 0;height:6px;width:6px}crt-designer-tab-panel .crt-tab-panel .mat-tab-header .mat-ink-bar,crt-tab-panel .crt-tab-panel .mat-tab-header .mat-ink-bar{display:none}crt-designer-tab-panel .crt-tab-panel .mat-tab-label,crt-designer-tab-panel .crt-tab-panel .mat-tab-label-active,crt-tab-panel .crt-tab-panel .mat-tab-label,crt-tab-panel .crt-tab-panel .mat-tab-label-active{min-width:0;max-width:280px;height:36px;box-sizing:border-box;padding:0 14px 2px;margin:0 4px}crt-designer-tab-panel .crt-tab-panel .mat-tab-label-active .mat-tab-label-content,crt-designer-tab-panel .crt-tab-panel .mat-tab-label .mat-tab-label-content,crt-tab-panel .crt-tab-panel .mat-tab-label-active .mat-tab-label-content,crt-tab-panel .crt-tab-panel .mat-tab-label .mat-tab-label-content{justify-content:left;overflow:hidden;padding:2px 0 0}crt-designer-tab-panel .crt-tab-panel .mat-tab-label-active .mat-tab-label-content .tab-header,crt-designer-tab-panel .crt-tab-panel .mat-tab-label .mat-tab-label-content .tab-header,crt-tab-panel .crt-tab-panel .mat-tab-label-active .mat-tab-label-content .tab-header,crt-tab-panel .crt-tab-panel .mat-tab-label .mat-tab-label-content .tab-header{display:flex;align-items:center;overflow:hidden;padding:8px 0}crt-designer-tab-panel .crt-tab-panel .mat-tab-label-active .mat-tab-label-content .tab-header .tab-header-content,crt-designer-tab-panel .crt-tab-panel .mat-tab-label .mat-tab-label-content .tab-header .tab-header-content,crt-tab-panel .crt-tab-panel .mat-tab-label-active .mat-tab-label-content .tab-header .tab-header-content,crt-tab-panel .crt-tab-panel .mat-tab-label .mat-tab-label-content .tab-header .tab-header-content{align-items:center}crt-designer-tab-panel .crt-tab-panel .mat-tab-label-active .mat-tab-label-content .tab-header .tab-icon,crt-designer-tab-panel .crt-tab-panel .mat-tab-label .mat-tab-label-content .tab-header .tab-icon,crt-tab-panel .crt-tab-panel .mat-tab-label-active .mat-tab-label-content .tab-header .tab-icon,crt-tab-panel .crt-tab-panel .mat-tab-label .mat-tab-label-content .tab-header .tab-icon{display:flex;align-items:center;width:16px;height:100%;pointer-events:none}crt-designer-tab-panel .crt-tab-panel .mat-tab-label-active .mat-tab-label-content .tab-header .tab-icon.system mat-icon,crt-designer-tab-panel .crt-tab-panel .mat-tab-label-active .mat-tab-label-content .tab-header .tab-icon.url img,crt-designer-tab-panel .crt-tab-panel .mat-tab-label .mat-tab-label-content .tab-header .tab-icon.system mat-icon,crt-designer-tab-panel .crt-tab-panel .mat-tab-label .mat-tab-label-content .tab-header .tab-icon.url img,crt-tab-panel .crt-tab-panel .mat-tab-label-active .mat-tab-label-content .tab-header .tab-icon.system mat-icon,crt-tab-panel .crt-tab-panel .mat-tab-label-active .mat-tab-label-content .tab-header .tab-icon.url img,crt-tab-panel .crt-tab-panel .mat-tab-label .mat-tab-label-content .tab-header .tab-icon.system mat-icon,crt-tab-panel .crt-tab-panel .mat-tab-label .mat-tab-label-content .tab-header .tab-icon.url img{width:16px;height:16px}crt-designer-tab-panel .crt-tab-panel .mat-tab-label-active .mat-tab-label-content .tab-header .tab-icon-space,crt-designer-tab-panel .crt-tab-panel .mat-tab-label .mat-tab-label-content .tab-header .tab-icon-space,crt-tab-panel .crt-tab-panel .mat-tab-label-active .mat-tab-label-content .tab-header .tab-icon-space,crt-tab-panel .crt-tab-panel .mat-tab-label .mat-tab-label-content .tab-header .tab-icon-space{display:block;width:8px}crt-designer-tab-panel .crt-tab-panel .mat-tab-label-active .mat-tab-label-content .tab-header .tab-label,crt-designer-tab-panel .crt-tab-panel .mat-tab-label .mat-tab-label-content .tab-header .tab-label,crt-tab-panel .crt-tab-panel .mat-tab-label-active .mat-tab-label-content .tab-header .tab-label,crt-tab-panel .crt-tab-panel .mat-tab-label .mat-tab-label-content .tab-header .tab-label{overflow:hidden;pointer-events:none}crt-designer-tab-panel .crt-tab-panel .mat-tab-label-active .mat-tab-label-content .tab-header .tab-label .crt-label,crt-designer-tab-panel .crt-tab-panel .mat-tab-label .mat-tab-label-content .tab-header .tab-label .crt-label,crt-tab-panel .crt-tab-panel .mat-tab-label-active .mat-tab-label-content .tab-header .tab-label .crt-label,crt-tab-panel .crt-tab-panel .mat-tab-label .mat-tab-label-content .tab-header .tab-label .crt-label{border-width:0}crt-designer-tab-panel .crt-tab-panel .mat-tab-body-wrapper,crt-tab-panel .crt-tab-panel .mat-tab-body-wrapper{height:calc(100% - 40px)}crt-designer-tab-panel .crt-tab-panel .mat-tab-group,crt-tab-panel .crt-tab-panel .mat-tab-group{height:100%}crt-designer-tab-panel .crt-tab-panel .tab-body,crt-tab-panel .crt-tab-panel .tab-body{padding:5px 16px;height:calc(100% + 2px);overflow:auto}crt-designer-tab-panel .crt-tab-panel.style-default>.tab-group>.mat-tab-header,crt-tab-panel .crt-tab-panel.style-default>.tab-group>.mat-tab-header{border-top-width:3px;border-top-style:solid}crt-designer-tab-panel .crt-tab-panel.style-default>.tab-group>.mat-tab-header .mat-tab-label,crt-designer-tab-panel .crt-tab-panel.style-default>.tab-group>.mat-tab-header .mat-tab-label-active,crt-tab-panel .crt-tab-panel.style-default>.tab-group>.mat-tab-header .mat-tab-label,crt-tab-panel .crt-tab-panel.style-default>.tab-group>.mat-tab-header .mat-tab-label-active{height:36px}crt-designer-tab-panel .crt-tab-panel.style-partially-colored>.tab-group>.mat-tab-header,crt-tab-panel .crt-tab-panel.style-partially-colored>.tab-group>.mat-tab-header{box-sizing:border-box;border-top-width:3px;border-top-style:solid;border-top-left-radius:8px;border-top-right-radius:8px}crt-designer-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-tab-header,crt-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-tab-header{padding:0;border-bottom-width:1px;border-bottom-style:solid;box-sizing:border-box}crt-designer-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-tab-header .mat-tab-label,crt-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-tab-header .mat-tab-label{margin:0;padding:0;height:40px}crt-designer-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-tab-header .mat-tab-label:hover,crt-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-tab-header .mat-tab-label:hover{border:none}crt-designer-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-tab-header .mat-tab-label .mat-tab-label-content,crt-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-tab-header .mat-tab-label .mat-tab-label-content{padding:6px 16px;height:40px;box-sizing:border-box}crt-designer-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-tab-header .mat-tab-label-active,crt-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-tab-header .mat-tab-label-active{padding:0;border-bottom:none}crt-designer-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-tab-header .mat-tab-label-active .mat-tab-label-content,crt-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-tab-header .mat-tab-label-active .mat-tab-label-content{padding:0}crt-designer-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-tab-header .mat-tab-label-active .mat-tab-label-content .tab-header-part-wrap,crt-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-tab-header .mat-tab-label-active .mat-tab-label-content .tab-header-part-wrap{height:39px;width:8px}crt-designer-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-tab-header .mat-tab-label-active .mat-tab-label-content .tab-header-part-wrap .tab-header-part,crt-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-tab-header .mat-tab-label-active .mat-tab-label-content .tab-header-part-wrap .tab-header-part{width:100%;height:100%}crt-designer-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-tab-header .mat-tab-label-active .mat-tab-label-content .tab-header-part-wrap .tab-header-part.pre-tab-header,crt-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-tab-header .mat-tab-label-active .mat-tab-label-content .tab-header-part-wrap .tab-header-part.pre-tab-header{border-radius:0 0 8px 0}crt-designer-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-tab-header .mat-tab-label-active .mat-tab-label-content .tab-header-part-wrap .tab-header-part.post-tab-header,crt-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-tab-header .mat-tab-label-active .mat-tab-label-content .tab-header-part-wrap .tab-header-part.post-tab-header{border-radius:0 0 0 8px}crt-designer-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-tab-header .mat-tab-label-active .mat-tab-label-content .tab-header,crt-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-tab-header .mat-tab-label-active .mat-tab-label-content .tab-header{margin-top:3px;padding:8px 16px;height:37px;box-sizing:border-box;border-radius:5px 5px 0 0}crt-designer-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-tab-header .mat-tab-header-pagination-before,crt-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-tab-header .mat-tab-header-pagination-before{padding:0}crt-designer-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-tab-header .mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,crt-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-tab-header .mat-tab-header-pagination-before .mat-tab-header-pagination-chevron{margin-left:8px}crt-designer-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-tab-header .mat-tab-header-pagination-after,crt-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-tab-header .mat-tab-header-pagination-after{padding:0}crt-designer-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-tab-header .mat-tab-header-pagination-after .mat-tab-header-pagination-chevron,crt-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-tab-header .mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{margin-left:-8px}crt-designer-tab-panel[dir=rtl] .crt-tab-panel.style-fully-colored .mat-tab-header .mat-tab-label-active .mat-tab-label-content .tab-header-part-wrap .tab-header-part.pre-tab-header,crt-tab-panel[dir=rtl] .crt-tab-panel.style-fully-colored .mat-tab-header .mat-tab-label-active .mat-tab-label-content .tab-header-part-wrap .tab-header-part.pre-tab-header{border-radius:0 0 0 8px}crt-designer-tab-panel[dir=rtl] .crt-tab-panel.style-fully-colored .mat-tab-header .mat-tab-label-active .mat-tab-label-content .tab-header-part-wrap .tab-header-part.post-tab-header,crt-tab-panel[dir=rtl] .crt-tab-panel.style-fully-colored .mat-tab-header .mat-tab-label-active .mat-tab-label-content .tab-header-part-wrap .tab-header-part.post-tab-header{border-radius:0 0 8px 0}crt-designer-tab-panel[dir=rtl] .crt-tab-panel.style-fully-colored .mat-tab-header .mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,crt-tab-panel[dir=rtl] .crt-tab-panel.style-fully-colored .mat-tab-header .mat-tab-header-pagination-before .mat-tab-header-pagination-chevron{margin-left:0}crt-designer-tab-panel[dir=rtl] .crt-tab-panel.style-fully-colored .mat-tab-header .mat-tab-header-pagination-after .mat-tab-header-pagination-chevron,crt-tab-panel[dir=rtl] .crt-tab-panel.style-fully-colored .mat-tab-header .mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{margin-left:8px}"],encapsulation:2,changeDetection:0}),$P=(0,a.gn)([Xs({type:"crt.TabPanel"}),Ks({type:"crt.TabPanel",toolbarConfig:[{name:"base-tab-panel_"+r.GENERATE_GUID_MACRO,groupType:Mu.LayoutElements,position:20,caption:"Components.TabPanel.Caption",icon:n(14800),defaultPropertyValues:{items:[Object.assign({defaultLocalizableStrings:{caption:"Components.TabPanel.DefaultTab1Name"}},TP.getNewTabConfig("TabContainer_"+r.GENERATE_GUID_MACRO)),Object.assign({defaultLocalizableStrings:{caption:"Components.TabPanel.DefaultTab2Name"}},TP.getNewTabConfig("TabContainer_"+r.GENERATE_GUID_MACRO))],styleType:"default",bodyBackgroundColor:as.PrimaryContrast500,tabTitleColor:as.Auto,selectedTabTitleColor:as.Auto,headerBackgroundColor:as.Auto,underlineSelectedTabColor:as.Auto}}],designControlConfig:{allowDesignContent:!0},interfaceDesignerPropertiesPanelSchemaName:"InterfaceDesignerTabPanelPropertiesPanel",propertiesPanelComponentTypeName:"crt.TabPanelPropertiesPanel"}),(0,a.w6)("design:paramtypes",[l.Injector,i.DomSanitizer])],$P);let qP=class extends xb{constructor(e){super(e),this.injector=e}};qP.ɵfac=function(e){return new(e||qP)(l["ɵɵdirectiveInject"](l.Injector))},qP.ɵcmp=l["ɵɵdefineComponent"]({type:qP,selectors:[["crt-tab"]],features:[l["ɵɵInheritDefinitionFeature"]],ngContentSelectors:["*"],decls:3,vars:2,consts:[[1,"crt-tab"],[4,"ngFor","ngForOf"],[3,"crtViewElement"]],template:function(e,t){1&e&&(l["ɵɵprojectionDef"](),l["ɵɵelementStart"](0,"div",0),l["ɵɵprojection"](1),l["ɵɵtemplate"](2,WP,2,1,"div",1),l["ɵɵelementEnd"]()),2&e&&(l["ɵɵattribute"]("id",t.id),l["ɵɵadvance"](2),l["ɵɵproperty"]("ngForOf",t.items))},directives:[o.NgForOf,_u],styles:[".crt-tab[_ngcontent-%COMP%]{width:100%;height:100%;overflow:auto;display:flex;flex-direction:column}"],changeDetection:0}),qP=(0,a.gn)([Xs({type:"crt.TabContainer",contentSlots:["items"]}),Ks({type:"crt.TabContainer",propertiesPanelComponentTypeName:"crt.TabItemPropertiesPanel"}),(0,a.w6)("design:paramtypes",[l.Injector])],qP);const YP="default-tab-icon",JP=[YP,"support-tab-icon","group-of-people-tab-icon","employee-tab-icon","empty-document-tab-icon","complete-document-tab-icon","document-editing-tab-icon","folder-tab-icon","open-book-tab-icon","pen-tab-icon","coins-tab-icon","money-tab-icon","trolley-tab-icon","gift-tab-icon","diagram-tab-icon","flowchart-tab-icon","gantt-chart-tab-icon","organizational-structure-tab-icon","calendar-tab-icon","goal-tab-icon","case-tab-icon","problem-tab-icon","home-tab-icon","work-tab-icon","bag-tab-icon","email-tab-icon","phone-tab-icon","chat-tab-icon","task-tab-icon","settings-tab-icon","star-tab-icon","magnifying-glass-tab-icon","tiles-tab-icon","campaign-tab-icon","bell-tab-icon","clock-tab-icon","information-tab-icon","checkbox-tab-icon","log-tab-icon","lock-tab-icon"];let QP=class{constructor(e){this._materialIconsRegistrator=e,JP.forEach((e=>{this._materialIconsRegistrator.addIcons([{name:e,icon:n(74002)(`./${e}.svg`)}])}))}};QP.ɵfac=function(e){return new(e||QP)(l["ɵɵinject"](Dn))},QP.ɵmod=l["ɵɵdefineNgModule"]({type:QP}),QP.ɵinj=l["ɵɵdefineInjector"]({imports:[[o.CommonModule,Pu,Rn,pt.forRoot({i18n:Nw}),ui,me.Nh,St.Ps,Dt.AV,cx,Qu]]}),QP=(0,a.gn)([(0,r.CrtModule)({viewElements:[$P,qP]}),(0,a.w6)("design:paramtypes",[Dn])],QP),("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](QP,{declarations:[$P,qP,io],imports:[o.CommonModule,Pu,Rn,pt,ui,me.Nh,St.Ps,Dt.AV,cx,Qu],exports:[$P,qP,io]});var KP=(()=>(function(e){e.Empty="no-icon",e.URL="url",e.SystemIcon="system-icon"}(KP||(KP={})),KP))();class XP{constructor(){this.selected=!1,this.editMode=!1}static _updateHeaderClasses(e){e.headerClasses={"tab-header":!0,"tab-selected":e.selected,"tab-editing":e.editMode}}static setTabIconPosition(e,t){e.iconPosition=t}static setTabIcon(e,t){e.icon=t,this.updateTabIconSource(e)}static updateTabIconSource(e){if(!e.icon)return void(e.iconSource=KP.Empty);const t=JP.find((t=>t===e.icon));e.iconSource=t?KP.SystemIcon:KP.URL}static setEditMode(e,t){e.editMode!==t&&(e.editMode=t,XP._updateHeaderClasses(e))}static setSelected(e,t){e.selected!==t&&(e.selected=t,XP._updateHeaderClasses(e))}}let eT=(()=>{class e{constructor(){this.validationErrors=new h.Subject}}return e.ɵfac=function(t){return new(t||e)},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})(),tT=(()=>{class e extends ev.w6{constructor(e,t,n,i){super(e,t,n),this._dateTimeFormatToken=i}getFirstDayOfWeek(){var e,t;return null!==(t=null===(e=this._dateTimeFormatToken)||void 0===e?void 0:e.firstDayOfWeek)&&void 0!==t?t:0}format(e,t){let n=super.format(e,t);if(this._dateTimeFormatToken&&t.includes("A")){const t=e.format("A");n=e.hour()<12?n.replace(t,this._dateTimeFormatToken.amDesignator):n.replace(t,this._dateTimeFormatToken.pmDesignator)}return n}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](R.Ad,8),l["ɵɵinject"](Up.o8,8),l["ɵɵinject"](R._A),l["ɵɵinject"](bo))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})();var nT=n(16479);let iT=(()=>{class e{constructor(e,t){this._inputElementRef=e,this._matDatetimepickerInput=t,this._parseDatetime=e=>{e.key.toLocaleLowerCase()===this.crtParseDatetimeKey.toLocaleLowerCase()&&this._matDatetimepickerInput._onBlur()}}ngAfterViewInit(){this._inputElementRef.nativeElement.addEventListener("keydown",this._parseDatetime)}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](l.ElementRef),l["ɵɵdirectiveInject"](Xf.Ry))},e.ɵdir=l["ɵɵdefineDirective"]({type:e,selectors:[["","crtParseDatetimeKey",""]],inputs:{crtParseDatetimeKey:"crtParseDatetimeKey"}}),e})(),rT=(()=>{class e{constructor(e){this._inputElementRef=e,this._togglePicker=()=>{this.crtCyclicOpeningDatetimePicker.opened?this.crtCyclicOpeningDatetimePicker.close():this.crtCyclicOpeningDatetimePicker.open()}}ngAfterViewInit(){this._inputElementRef.nativeElement.addEventListener("click",this._togglePicker)}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](l.ElementRef))},e.ɵdir=l["ɵɵdefineDirective"]({type:e,selectors:[["","crtCyclicOpeningDatetimePicker",""]],inputs:{crtCyclicOpeningDatetimePicker:"crtCyclicOpeningDatetimePicker"}}),e})();const aT=["dateTimeInput"],oT=["datetimePicker"];function sT(e,t){if(1&e&&l["ɵɵelement"](0,"mat-icon",10),2&e){const e=l["ɵɵnextContext"](),t=l["ɵɵreference"](10);l["ɵɵproperty"]("svgIcon",e.pickerIconCode)("ngClass","calendar-expander "+(t.opened?"opened":"closed"))("crtCyclicOpeningDatetimePicker",t)}}function lT(e,t){1&e&&(l["ɵɵelement"](0,"mat-icon",11),l["ɵɵpipe"](1,"translate")),2&e&&l["ɵɵproperty"]("matTooltip",l["ɵɵpipeBind1"](1,1,"DateTimePicker.Readonly"))}function cT(e,t){if(1&e&&(l["ɵɵelementContainerStart"](0),l["ɵɵelementStart"](1,"span",12),l["ɵɵtext"](2),l["ɵɵelementEnd"](),l["ɵɵelement"](3,"mat-icon",13),l["ɵɵelementContainerEnd"]()),2&e){const e=l["ɵɵnextContext"]();l["ɵɵadvance"](2),l["ɵɵtextInterpolate"](e.errorMessages),l["ɵɵadvance"](1),l["ɵɵproperty"]("tooltipConfig",e.getTooltip(e.errorMessages))}}function dT(e,t){if(1&e&&l["ɵɵelement"](0,"mat-icon",15),2&e){const e=l["ɵɵnextContext"](2);l["ɵɵproperty"]("tooltipConfig",e.getTooltip(e.tooltip))}}function uT(e,t){if(1&e&&l["ɵɵtemplate"](0,dT,1,1,"mat-icon",14),2&e){const e=l["ɵɵnextContext"]();l["ɵɵproperty"]("ngIf",e.tooltip)}}let pT=(()=>{class e extends Gg{constructor(e,t,n){super(new c.NI(null)),this.translateService=e,this.validationService=t,this._changeDetector=n,this._touched$=new h.Subject,this._destroyed$=new h.Subject,this._pickerWasOpenedByKeyboard=!1,this.id="",this.ariaLabel="",this.readonly=!1,this.isRequired=!1,this.type=ts.DateTime,this.multiYearSelector=!0,this.twelvehour=!1,this.startView="month",this.mode="auto",this.timeInterval=1,this.preventSameDateTimeSelection=!1,this._touched$.pipe((0,f.h)(Boolean),(0,En.b)((()=>this._changeDetector.detectChanges())),(0,Tn.q)(1),(0,b.R)(this._destroyed$)).subscribe()}get errorMessages(){var e;const t=null===(e=this.control)||void 0===e?void 0:e.errors;if(!t)return"";const n=Object.values(t).map((e=>e.message||null)).filter((e=>null!==e));return this._hasValueSyntaxError()&&n.push(this.translateService.instant(`Validators.${(0,nT.Z)(this.type)}PickerSyntax.Message`)),n.join("\n")}get pickerIconCode(){switch(this.type){case ts.Date:return"date";case ts.Time:return"time";case ts.DateTime:return"date-time"}}get invalid(){return this.control.invalid&&(this.control.dirty||this.control.touched)}_subscribeOnParentValidationErrors(){this.validationService.validationErrors.subscribe({next:e=>{const t=Object.assign(Object.assign({},this.control.errors),e);this.control.setErrors((0,bi.Z)(t)?null:t)}})}_subscribeOnValueChange(){this.control.valueChanges.pipe((0,f.h)((e=>null===e||e._isAMomentObject))).subscribe({next:e=>{var t;this._onTouched(),this._onChange(null!==(t=null==e?void 0:e.toDate())&&void 0!==t?t:null)}})}_hasValueSyntaxError(){var e;return"matDatepickerParse"in((null===(e=this.control)||void 0===e?void 0:e.errors)||{})}ngOnInit(){this._subscribeOnParentValidationErrors(),this._subscribeOnValueChange()}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){setTimeout((()=>{e?this.control.disable():this.control.enable()}),0)}writeValue(e){"object"==typeof e&&setTimeout((()=>{this.control.value!==e&&this.control.setValue(e,{emitEvent:!0})}),0)}getTooltip(e){return new mn({tooltipConfig:{value:e},componentType:rn})}onClosePicker(){var e;null===(e=this._dateTimeInput.nativeElement)||void 0===e||e.focus(),this._changeDetector.detectChanges()}onOpenPicker(){this.control.markAsUntouched()}onBlurInput(){this._pickerWasOpenedByKeyboard&&(this.control.markAsUntouched(),this._pickerWasOpenedByKeyboard=!1)}ngOnDestroy(){this._destroyed$.next(),this._destroyed$.complete()}ngDoCheck(){super.ngDoCheck(),this._touched$.next(this.control.touched)}onOpenPickerByKeyboard(){this._pickerWasOpenedByKeyboard=!0,this._dateTimePicker.open()}validate(e){const t=super.validate(e);return this.ngDoCheck(),t}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](u.sK),l["ɵɵdirectiveInject"](eT),l["ɵɵdirectiveInject"](l.ChangeDetectorRef))},e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["crt-picker"]],viewQuery:function(e,t){if(1&e&&(l["ɵɵviewQuery"](aT,5),l["ɵɵviewQuery"](oT,5,Xf.k1)),2&e){let e;l["ɵɵqueryRefresh"](e=l["ɵɵloadQuery"]())&&(t._dateTimeInput=e.first),l["ɵɵqueryRefresh"](e=l["ɵɵloadQuery"]())&&(t._dateTimePicker=e.first)}},inputs:{id:"id",ariaLabel:"ariaLabel",placeholder:"placeholder",readonly:"readonly",isRequired:"isRequired",type:"type",multiYearSelector:"multiYearSelector",twelvehour:"twelvehour",startView:"startView",mode:"mode",timeInterval:"timeInterval",preventSameDateTimeSelection:"preventSameDateTimeSelection"},features:[l["ɵɵProvidersFeature"]([{provide:c.JU,useExisting:(0,l.forwardRef)((()=>e)),multi:!0},Bg(e)]),l["ɵɵInheritDefinitionFeature"]],decls:15,vars:34,consts:[["floatLabel","never",1,"crt-input-control-container"],[1,"crt-input-control"],["matInput","",3,"id","readonly","formControl","placeholder","matDatetimepicker","crtAriaRequired","crtParseDatetimeKey","keydown.arrowdown","blur"],["dateTimeInput",""],["matSuffix","",3,"svgIcon","ngClass","crtCyclicOpeningDatetimePicker",4,"ngIf"],["matSuffix","","svgIcon","lock",3,"matTooltip",4,"ngIf"],[4,"ngIf","ngIfElse"],["tooltipIcon",""],["openOnFocus","false","panelClass","datetimepicker",3,"timeInterval","startView","type","disabled","multiYearSelector","twelvehour","mode","preventSameDateTimeSelection","ariaNextMonthLabel","ariaPrevMonthLabel","ariaNextYearLabel","ariaPrevYearLabel","closed","opened"],["datetimePicker",""],["matSuffix","",3,"svgIcon","ngClass","crtCyclicOpeningDatetimePicker"],["matSuffix","","svgIcon","lock",3,"matTooltip"],[1,"cdk-visually-hidden"],["matSuffix","","svgIcon","error-icon","matTooltipPosition","after","matTooltipClass","crt-input-error-tooltip","crtTooltip","",1,"inner-icon",3,"tooltipConfig"],["crtTooltip","","matSuffix","","svgIcon","tooltip-icon","class","inner-icon",3,"tooltipConfig",4,"ngIf"],["crtTooltip","","matSuffix","","svgIcon","tooltip-icon",1,"inner-icon",3,"tooltipConfig"]],template:function(e,t){if(1&e&&(l["ɵɵelementStart"](0,"mat-form-field",0),l["ɵɵelementStart"](1,"div",1),l["ɵɵelementStart"](2,"input",2,3),l["ɵɵlistener"]("keydown.arrowdown",(function(){return t.onOpenPickerByKeyboard()}))("blur",(function(){return t.onBlurInput()})),l["ɵɵelementEnd"](),l["ɵɵtemplate"](4,sT,1,3,"mat-icon",4),l["ɵɵtemplate"](5,lT,2,3,"mat-icon",5),l["ɵɵtemplate"](6,cT,4,2,"ng-container",6),l["ɵɵtemplate"](7,uT,1,1,"ng-template",null,7,l["ɵɵtemplateRefExtractor"]),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵelementStart"](9,"mat-datetimepicker",8,9),l["ɵɵlistener"]("closed",(function(){return t.onClosePicker()}))("opened",(function(){return t.onOpenPicker()})),l["ɵɵpipe"](11,"translate"),l["ɵɵpipe"](12,"translate"),l["ɵɵpipe"](13,"translate"),l["ɵɵpipe"](14,"translate"),l["ɵɵelementEnd"]()),2&e){const e=l["ɵɵreference"](8),n=l["ɵɵreference"](10);l["ɵɵclassProp"]("crt-input-control-container--invalid",t.invalid),l["ɵɵadvance"](2),l["ɵɵproperty"]("id",t.id)("readonly",t.readonly)("formControl",t.control)("placeholder",t.placeholder)("matDatetimepicker",n)("crtAriaRequired",t.isRequired)("crtParseDatetimeKey","enter"),l["ɵɵattribute"]("aria-label",t.ariaLabel),l["ɵɵadvance"](2),l["ɵɵproperty"]("ngIf",!t.readonly&&!t.control.disabled),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",t.readonly),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",t.invalid)("ngIfElse",e),l["ɵɵadvance"](3),l["ɵɵproperty"]("timeInterval",t.timeInterval)("startView",t.startView)("type",t.type)("disabled",t.readonly)("multiYearSelector",t.multiYearSelector)("twelvehour",t.twelvehour)("mode",t.mode)("preventSameDateTimeSelection",t.preventSameDateTimeSelection)("ariaNextMonthLabel",l["ɵɵpipeBind1"](11,26,"DateTimePicker.AriaNextMonthLabel"))("ariaPrevMonthLabel",l["ɵɵpipeBind1"](12,28,"DateTimePicker.AriaPrevMonthLabel"))("ariaNextYearLabel",l["ɵɵpipeBind1"](13,30,"DateTimePicker.AriaNextYearLabel"))("ariaPrevYearLabel",l["ɵɵpipeBind1"](14,32,"DateTimePicker.AriaPrevYearLabel"))}},directives:[x.KE,j.Nt,c.Fj,Xf.Ry,c.JJ,c.oH,zg,iT,o.NgIf,Xf.k1,St.Hw,x.R9,o.NgClass,rT,Dt.gM,un],pipes:[u.X$],styles:[".crt-input-control{display:flex;align-items:center}.crt-input-control .calendar-expander{cursor:pointer}.crt-input-control .calendar-expander.closed{opacity:0}.crt-input-control:focus-within .calendar-expander,.crt-input-control:hover .calendar-expander{opacity:1}.mat-datetimepicker-calendar-header-year mat-icon{visibility:hidden}[dir=rtl] .mat-datetimepicker-calendar-controls{flex-direction:row-reverse}"],encapsulation:2}),e})();function mT(e,t){if(1&e&&l["ɵɵelement"](0,"crt-skeleton-loader",2),2&e){const e=l["ɵɵnextContext"]();l["ɵɵproperty"]("styles",e.skeletonStyles)}}const hT=function(e){return{"crt-input-required":e}};function gT(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵelementStart"](0,"div",3),l["ɵɵlistener"]("resized",(function(t){l["ɵɵrestoreView"](e);return l["ɵɵnextContext"]().onResized(t)})),l["ɵɵelementStart"](1,"div",4),l["ɵɵelementStart"](2,"label",5),l["ɵɵtext"](3),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵelementStart"](4,"crt-picker",6),l["ɵɵlistener"]("changed",(function(t){l["ɵɵrestoreView"](e);return l["ɵɵnextContext"]().onChanged(t)})),l["ɵɵelementEnd"](),l["ɵɵelementEnd"]()}if(2&e){const e=l["ɵɵnextContext"]();l["ɵɵproperty"]("ngClass","label-position-"+e.displayLabelPosition)("crtResizableDisabled",!e.isAutoLabelPosition),l["ɵɵadvance"](2),l["ɵɵproperty"]("ngClass",l["ɵɵpureFunction1"](18,hT,e.required))("for",e.id),l["ɵɵadvance"](1),l["ɵɵtextInterpolate"](e.label),l["ɵɵadvance"](1),l["ɵɵproperty"]("id",e.id)("formControl",e.control)("type",e.pickerType)("multiYearSelector",e.multiYearSelector)("twelvehour",e.useTwelveHourFormat)("startView",e.startView)("mode",e.mode)("timeInterval",e.timeInterval)("preventSameDateTimeSelection",e.preventSameDateTimeSelection)("readonly",e.readonly)("isRequired",e.required)("ariaLabel",e.ariaLabel||e.label)("placeholder",e.placeholder)}}let fT=class extends __{constructor(e,t,n,i,a){super(e,null,t,n),this._validationService=i,this._dateTimeFormatToken=a,this._useTwelveHourFormat=!1,this.id=(0,r.generateGuid)(),this.pickerType=ts.DateTime,this.multiYearSelector=!0,this.startView="month",this.mode="auto",this.timeInterval=1,this.preventSameDateTimeSelection=!1,this.readonly=!1}set useTwelveHourFormat(e){this._useTwelveHourFormat=e}get useTwelveHourFormat(){var e,t,n;return null!==(n=null===(t=null===(e=this._dateTimeFormatToken)||void 0===e?void 0:e.shortTimePattern)||void 0===t?void 0:t.includes("h"))&&void 0!==n?n:this._useTwelveHourFormat}set value(e){var t;"string"==typeof e&&(null===(t=this.control)||void 0===t||t.setValue(e))}ngDoCheck(){this._validationService.validationErrors.next(this.control.errors)}};fT.ɵfac=function(e){return new(e||fT)(l["ɵɵdirectiveInject"](l.Injector),l["ɵɵdirectiveInject"](l.ElementRef),l["ɵɵdirectiveInject"](l.ChangeDetectorRef),l["ɵɵdirectiveInject"](eT),l["ɵɵdirectiveInject"](bo))},fT.ɵcmp=l["ɵɵdefineComponent"]({type:fT,selectors:[["crt-datetimepicker"]],inputs:{pickerType:"pickerType",multiYearSelector:"multiYearSelector",useTwelveHourFormat:"useTwelveHourFormat",startView:"startView",mode:"mode",timeInterval:"timeInterval",preventSameDateTimeSelection:"preventSameDateTimeSelection",value:"value",readonly:"readonly"},features:[l["ɵɵProvidersFeature"]([eT]),l["ɵɵInheritDefinitionFeature"]],decls:3,vars:2,consts:[[3,"styles",4,"ngIf","ngIfElse"],["input",""],[3,"styles"],["crtResizable","",1,"crt-input",3,"ngClass","crtResizableDisabled","resized"],[1,"crt-input-label-container"],[1,"crt-input-label",3,"ngClass","for"],[3,"id","formControl","type","multiYearSelector","twelvehour","startView","mode","timeInterval","preventSameDateTimeSelection","readonly","isRequired","ariaLabel","placeholder","changed"]],template:function(e,t){if(1&e&&(l["ɵɵtemplate"](0,mT,1,1,"crt-skeleton-loader",0),l["ɵɵtemplate"](1,gT,5,20,"ng-template",null,1,l["ɵɵtemplateRefExtractor"])),2&e){const e=l["ɵɵreference"](2);l["ɵɵproperty"]("ngIf",t.loading)("ngIfElse",e)}},directives:[o.NgIf,di,An,o.NgClass,pT,c.JJ,c.oH],styles:["[_nghost-%COMP%]   crt-picker[_ngcontent-%COMP%]{min-width:0;width:100%;display:flex;flex-direction:column;justify-content:flex-end}","[_nghost-%COMP%]   .crt-input[_ngcontent-%COMP%]{overflow:hidden;padding-bottom:1px}[_nghost-%COMP%]   .crt-input.label-position-left[_ngcontent-%COMP%]{min-height:32px;flex-direction:row;padding-top:8px}[_nghost-%COMP%]   .crt-input.label-position-left[_ngcontent-%COMP%]   .crt-input-control-container[_ngcontent-%COMP%]{align-self:flex-end}[_nghost-%COMP%]   .crt-input.label-position-left[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]{margin-right:10px;display:flex;align-items:flex-start;width:136px;min-width:136px}[_nghost-%COMP%]   .crt-input.label-position-left[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]   .crt-input-label[_ngcontent-%COMP%]{text-align:right;width:100%;margin:9px 0 4px;overflow:hidden;display:-webkit-box;line-height:18px;-webkit-line-clamp:2;-webkit-box-orient:vertical}[_nghost-%COMP%]   .crt-input.label-position-above[_ngcontent-%COMP%]{min-height:52px;flex-direction:column;padding-top:0}[_nghost-%COMP%]   .crt-input.label-position-above[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]{display:flex}[_nghost-%COMP%]   .crt-input.label-position-above[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]   .crt-input-label[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-top:8px}[_nghost-%COMP%]   .crt-input.label-position-above.appearance-outline[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]{margin-bottom:8px}[_nghost-%COMP%]   .crt-input.label-position-hidden[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]   .crt-input-label[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   .crt-input[_ngcontent-%COMP%], [_nghost-%COMP%]   .crt-input[_ngcontent-%COMP%]   .crt-input-control[_ngcontent-%COMP%]{display:flex}[dir=rtl][_nghost-%COMP%]   .crt-input.label-position-left[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]{margin-right:0;margin-left:10px}[dir=rtl][_nghost-%COMP%]   .crt-input.label-position-left[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]   .crt-input-label[_ngcontent-%COMP%]{text-align:left}"]}),(0,a.gn)([(0,r.CrtInput)(),(0,a.w6)("design:type",String),(0,a.w6)("design:paramtypes",[String])],fT.prototype,"value",null),fT=(0,a.gn)([Xs({type:"crt.DateTimePicker",formControlConfig:{relatesTo:"control"}}),Ks({type:"crt.DateTimePicker",toolbarConfig:[{name:"base-datetimepicker",groupType:Mu.Inputs,position:40,caption:"Components.DateTimePicker.Caption",icon:n(26497),defaultPropertyValues:{label:"",control:"1993-02-27T06:45:00.000",placeholder:"",readonly:!1,labelPosition:"auto"},defaultLocalizableStrings:{label:"Components.DateTimePicker.Caption"}}],dataValueTypes:[r.DataValueType.Date,r.DataValueType.Time,r.DataValueType.DateTime],propertiesPanelComponentTypeName:"crt.BaseInputPropertiesPanelComponent"}),(0,a.w6)("design:paramtypes",[l.Injector,l.ElementRef,l.ChangeDetectorRef,eT,Object])],fT);let vT=class{constructor(e){this._materialIconsRegistrator=e,this._materialIconsRegistrator.addIcons([{name:"lock",icon:n(47056)},{name:"time",icon:n(63090)},{name:"date-time",icon:n(18031)},{name:"date",icon:n(69884)},{name:"error-icon",icon:n(91348)}])}};vT.ɵfac=function(e){return new(e||vT)(l["ɵɵinject"](Dn))},vT.ɵmod=l["ɵɵdefineNgModule"]({type:vT}),vT.ɵinj=l["ɵɵdefineInjector"]({providers:[{provide:R.Ad,useFactory:by,deps:[Yr]},{provide:Xf.$w,useFactory:e=>{const t=(0,so.Z)(ev.cN);return e&&(t.parse.datetimeInput=e.shortDatePattern.replace(e.dateSeparator,"")+" "+t.parse.timeInput,t.display=Object.assign(Object.assign({},t.display),{datetimeInput:`${e.shortDatePattern} ${e.shortTimePattern}`,dateInput:e.shortDatePattern,timeInput:e.shortTimePattern})),t},deps:[bo]},{provide:Xf.ed,useClass:tT}],imports:[[R.BQ,o.CommonModule,c.u5,j.c,x.lN,c.UX,Zp.FA,ev.OC,Xf.ni,o.CommonModule,Rn,St.Ps,pt.forRoot({i18n:Nw}),Dt.AV,ui,Cy,pn]]}),vT=(0,a.gn)([(0,r.CrtModule)({viewElements:[fT]}),(0,a.w6)("design:paramtypes",[Dn])],vT),("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](vT,{declarations:[pT,fT,rT,iT],imports:[R.BQ,o.CommonModule,c.u5,j.c,x.lN,c.UX,Zp.FA,ev.OC,Xf.ni,o.CommonModule,Rn,St.Ps,pt,Dt.AV,ui,Cy,pn],exports:[pT,fT]});const bT=["popup"];function CT(e,t){if(1&e&&l["ɵɵelement"](0,"crt-skeleton-loader",3),2&e){const e=l["ɵɵnextContext"]();l["ɵɵproperty"]("styles",e.skeletonStyles)}}const yT=function(e,t){return[e,t]};function wT(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵelementStart"](0,"input",4),l["ɵɵlistener"]("input",(function(t){l["ɵɵrestoreView"](e);return l["ɵɵnextContext"]().changed(t)})),l["ɵɵelementEnd"](),l["ɵɵelementStart"](1,"div",5),l["ɵɵprojection"](2),l["ɵɵelementEnd"](),l["ɵɵelementStart"](3,"div",6,7),l["ɵɵelementStart"](5,"span"),l["ɵɵtext"](6),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵelementStart"](7,"div",8),l["ɵɵelementStart"](8,"label",9),l["ɵɵtext"](9),l["ɵɵelementEnd"](),l["ɵɵelementStart"](10,"label",10),l["ɵɵtext"](11),l["ɵɵelementEnd"](),l["ɵɵelementEnd"]()}if(2&e){const e=l["ɵɵnextContext"]();l["ɵɵstyleProp"]("background-size",e.backgroundSize),l["ɵɵproperty"]("tsDataItemMarker",e.dataMarker)("ngClass",l["ɵɵpureFunction2"](20,yT,e.color,e.thumbClass))("step",e.step)("value",e.value)("min",e.minValue)("max",e.maxValue)("formControl",e.control),l["ɵɵattribute"]("aria-valuemin",e.minValue)("aria-valuemax",e.maxValue)("aria-label",e.ariaLabel)("disabled",e.disabled?"":null),l["ɵɵadvance"](1),l["ɵɵstyleProp"]("left",e.thumbAbsLeftPosition),l["ɵɵadvance"](2),l["ɵɵstyleProp"]("left",e.thumbAbsLeftPosition),l["ɵɵadvance"](3),l["ɵɵtextInterpolate"](e.value),l["ɵɵadvance"](3),l["ɵɵtextInterpolate1"](" ",e.minValue," "),l["ɵɵadvance"](2),l["ɵɵtextInterpolate1"](" ",e.maxValue," ")}}let _T=class extends Us{constructor(e){super(e),this.injector=e,this._controlDestroyed$=new h.Subject,this._color="default",this._disabled=!1,this._minValue=0,this._maxValue=100,this._initialized=!1,this._normalizedThumbPosition=0,this._defaultSliderWidth=100,this._defaultPopupWidth=40,this._maxFittingPopupCharsCount=3,this._leftSliderPopupCalculationPoint=5,this._rightSliderPopupCalculationPoint=95,this.step=1,this.ariaLabel="slider",this.thumbClass="",this.valueChanged=new l.EventEmitter,this.skeletonStyles={height:"42px",width:"100%"},this.backgroundSize="",this.dataMarker="",this.thumbAbsLeftPosition="",this.id=(0,r.generateGuid)(),this._initControl()}set control(e){this._control&&null==(null==e?void 0:e.value)&&e.setValue(this._control.value),this._controlDestroyed$.next(),this._control=e,this._control.valueChanges.pipe((0,b.R)(this._controlDestroyed$)).subscribe((()=>this._refreshSliderPositions()))}get control(){return this._control}set value(e){var t;null===(t=this.control)||void 0===t||t.setValue(e)}get value(){var e;return null===(e=this.control)||void 0===e?void 0:e.value}set minValue(e){this._minValue=e,this._refreshSliderPositions()}get minValue(){return this._minValue}set maxValue(e){this._maxValue=e,this._refreshSliderPositions()}get maxValue(){return this._maxValue}set color(e){this._color=e}get color(){return this._color}set disabled(e){var t,n;this._disabled=e,e?null===(t=this.control)||void 0===t||t.disable():null===(n=this.control)||void 0===n||n.enable()}get disabled(){return this._disabled}set hideThumb(e){this.thumbClass=e?"hide-thumb":""}get hideThumb(){return"hide-thumb"===this.thumbClass}ngAfterViewInit(){this._initialized=!0,this._refreshSliderPositions()}ngOnDestroy(){this._controlDestroyed$.next(),this._controlDestroyed$.complete()}changed(e){this.value=e.target.value,this.valueChanged.emit(this.value)}isRtl(){return"rtl"===this.documentDirection}onResized(){this._refreshSliderPositions()}_initControl(){this.control=new c.NI(this.value)}_getDataItemMarker(){return"crt-slider crt-slider-"+this.value}_getBackgroundSize(){return this._calculateDirectionallyValue(this._normalizedThumbPosition)+"% 100%"}_getThumbAbsLeftPosition(){var e,t;const n=this._getThumbPosition();this._normalizedThumbPosition=this._normalizeBackgroundSize(n);let i=this._normalizedThumbPosition;const r=this.value.toString().length,a=(null===(e=this._template)||void 0===e?void 0:e.elementRef.nativeElement.parentElement.offsetWidth)||this._defaultSliderWidth,o=100*((null===(t=this._popup)||void 0===t?void 0:t.nativeElement.offsetWidth)/2+4||this._defaultPopupWidth)/a,s=i+o>=100,l=i-o<=0;return r>=this._maxFittingPopupCharsCount&&(s||l)&&(n>=this._rightSliderPopupCalculationPoint?i=100-o:n<=this._leftSliderPopupCalculationPoint&&(i=0+o)),i=this._calculateDirectionallyValue(i),i+"%"}_getThumbPosition(){return this.value>this.maxValue?100:this.value<this.minValue?0:100*(this.value-this.minValue)/(this.maxValue-this.minValue)}_calculateDirectionallyValue(e){return this.isRtl()?100-e:e}_normalizeBackgroundSize(e){var t;let n=e;let i=((null===(t=this._template)||void 0===t?void 0:t.elementRef.nativeElement.parentElement.offsetWidth)||this._defaultSliderWidth)/1e3;i=.5/i;let r=1;return e>=50&&(r=-1),n=e+i*((Math.abs(e-50)||1)/100*4)*r,n}_refreshSliderPositions(){(this.value||0===this.value)&&(this.thumbAbsLeftPosition=this._getThumbAbsLeftPosition(),this.backgroundSize=this._getBackgroundSize(),this.dataMarker=this._getDataItemMarker(),this._initialized&&this.detectChanges())}};_T.ɵfac=function(e){return new(e||_T)(l["ɵɵdirectiveInject"](l.Injector))},_T.ɵcmp=l["ɵɵdefineComponent"]({type:_T,selectors:[["crt-slider"]],viewQuery:function(e,t){if(1&e&&(l["ɵɵviewQuery"](l.TemplateRef,5),l["ɵɵviewQuery"](bT,5)),2&e){let e;l["ɵɵqueryRefresh"](e=l["ɵɵloadQuery"]())&&(t._template=e.first),l["ɵɵqueryRefresh"](e=l["ɵɵloadQuery"]())&&(t._popup=e.first)}},inputs:{control:"control",value:"value",minValue:"minValue",maxValue:"maxValue",step:"step",ariaLabel:"ariaLabel",color:"color",disabled:"disabled",hideThumb:"hideThumb"},outputs:{valueChanged:"valueChanged"},features:[l["ɵɵInheritDefinitionFeature"]],ngContentSelectors:["*"],decls:4,vars:2,consts:[["data-item-marker","crt-slider-wrapper","crtResizable","",1,"slider-wrapper",3,"resized"],[3,"styles",4,"ngIf","ngIfElse"],["slider",""],[3,"styles"],["type","range",1,"slider",3,"tsDataItemMarker","ngClass","step","value","min","max","formControl","input"],[1,"popup","bubble"],[1,"popup"],["popup",""],[1,"content"],["data-item-marker","crt-slider-range-min",1,"range-label","range-label-min"],["data-item-marker","crt-slider-range-max",1,"range-label","range-label-max"]],template:function(e,t){if(1&e&&(l["ɵɵprojectionDef"](),l["ɵɵelementStart"](0,"div",0),l["ɵɵlistener"]("resized",(function(){return t.onResized()})),l["ɵɵtemplate"](1,CT,1,1,"crt-skeleton-loader",1),l["ɵɵtemplate"](2,wT,12,23,"ng-template",null,2,l["ɵɵtemplateRefExtractor"]),l["ɵɵelementEnd"]()),2&e){const e=l["ɵɵreference"](3);l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",t.loading)("ngIfElse",e)}},directives:[An,o.NgIf,di,c.eT,c.Fj,Gh,o.NgClass,c.JJ,c.oH],styles:["[dir=rtl][_nghost-%COMP%]   .slider-wrapper.slider[_ngcontent-%COMP%]{direction:rtl}.slider-wrapper[_ngcontent-%COMP%]{display:block;width:100%;box-sizing:border-box;padding:5px 2px 0;position:relative}.slider-wrapper[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]{width:100%;display:inline-block}.slider-wrapper[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]:focus ~ .popup[_ngcontent-%COMP%], .slider-wrapper[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]:hover ~ .popup[_ngcontent-%COMP%]{visibility:visible;z-index:1000}.slider-wrapper[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]:focus ~ .content[_ngcontent-%COMP%], .slider-wrapper[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]:hover ~ .content[_ngcontent-%COMP%]{opacity:0}.slider-wrapper[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]:disabled{cursor:not-allowed}.slider-wrapper[_ngcontent-%COMP%]   .popup[_ngcontent-%COMP%]{visibility:hidden;position:absolute;transform:translate(-50%)}.slider-wrapper[_ngcontent-%COMP%]   .bubble[_ngcontent-%COMP%]{position:absolute;background:transparent;left:50%;transform:translate(-50%,-86px)}.slider-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{display:flex;width:100%;justify-content:space-between;margin-top:3px;flex-direction:row;transition:opacity .2s linear;opacity:1}.slider-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .range-label-min[_ngcontent-%COMP%]{margin-left:2px}.accent.slider[_ngcontent-%COMP%], .default.slider[_ngcontent-%COMP%], .primary.slider[_ngcontent-%COMP%], .warn.slider[_ngcontent-%COMP%]{height:16px;-webkit-appearance:none;border-radius:50px}.accent.slider[_ngcontent-%COMP%]::-webkit-slider-thumb, .default.slider[_ngcontent-%COMP%]::-webkit-slider-thumb, .primary.slider[_ngcontent-%COMP%]::-webkit-slider-thumb, .warn.slider[_ngcontent-%COMP%]::-webkit-slider-thumb{-webkit-appearance:none;height:18px;width:18px;border-radius:50%;box-shadow:0 0 2px 0 #555}.accent.slider[_ngcontent-%COMP%]::-moz-range-thumb, .default.slider[_ngcontent-%COMP%]::-moz-range-thumb, .primary.slider[_ngcontent-%COMP%]::-moz-range-thumb, .warn.slider[_ngcontent-%COMP%]::-moz-range-thumb{-webkit-appearance:none;height:18px;width:18px;border-radius:50%;cursor:pointer}.accent.slider[_ngcontent-%COMP%]::-ms-thumb, .default.slider[_ngcontent-%COMP%]::-ms-thumb, .primary.slider[_ngcontent-%COMP%]::-ms-thumb, .warn.slider[_ngcontent-%COMP%]::-ms-thumb{-webkit-appearance:none;height:18px;width:18px;border-radius:50%;cursor:pointer;box-shadow:0 0 2px 0 #555}.accent.slider[_ngcontent-%COMP%]::-webkit-slider-runnable-track, .default.slider[_ngcontent-%COMP%]::-webkit-slider-runnable-track, .primary.slider[_ngcontent-%COMP%]::-webkit-slider-runnable-track, .warn.slider[_ngcontent-%COMP%]::-webkit-slider-runnable-track{-webkit-appearance:none;box-shadow:none;border:none;background:transparent}.accent.slider[_ngcontent-%COMP%]::-moz-range-track, .default.slider[_ngcontent-%COMP%]::-moz-range-track, .primary.slider[_ngcontent-%COMP%]::-moz-range-track, .warn.slider[_ngcontent-%COMP%]::-moz-range-track{-webkit-appearance:none;box-shadow:none;border:none;background:transparent}.accent.slider[_ngcontent-%COMP%]::-ms-track, .default.slider[_ngcontent-%COMP%]::-ms-track, .primary.slider[_ngcontent-%COMP%]::-ms-track, .warn.slider[_ngcontent-%COMP%]::-ms-track{-webkit-appearance:none;box-shadow:none;border:none;background:transparent}.accent.hide-thumb.slider[_ngcontent-%COMP%]::-webkit-slider-thumb, .default.hide-thumb.slider[_ngcontent-%COMP%]::-webkit-slider-thumb, .primary.hide-thumb.slider[_ngcontent-%COMP%]::-webkit-slider-thumb, .warn.hide-thumb.slider[_ngcontent-%COMP%]::-webkit-slider-thumb{opacity:0}.accent.hide-thumb.slider[_ngcontent-%COMP%]::-moz-range-thumb, .default.hide-thumb.slider[_ngcontent-%COMP%]::-moz-range-thumb, .primary.hide-thumb.slider[_ngcontent-%COMP%]::-moz-range-thumb, .warn.hide-thumb.slider[_ngcontent-%COMP%]::-moz-range-thumb{opacity:0}.accent.hide-thumb.slider[_ngcontent-%COMP%]::-ms-thumb, .default.hide-thumb.slider[_ngcontent-%COMP%]::-ms-thumb, .primary.hide-thumb.slider[_ngcontent-%COMP%]::-ms-thumb, .warn.hide-thumb.slider[_ngcontent-%COMP%]::-ms-thumb{opacity:0}.white.slider[_ngcontent-%COMP%]{height:16px;-webkit-appearance:none;border-radius:50px}.white.slider[_ngcontent-%COMP%]::-webkit-slider-thumb{-webkit-appearance:none;height:18px;width:18px;border-radius:50%;box-shadow:0 0 2px 0 #555}.white.slider[_ngcontent-%COMP%]::-moz-range-thumb{-webkit-appearance:none;height:18px;width:18px;border-radius:50%;cursor:pointer}.white.slider[_ngcontent-%COMP%]::-ms-thumb{-webkit-appearance:none;height:18px;width:18px;border-radius:50%;cursor:pointer;box-shadow:0 0 2px 0 #555}.white.slider[_ngcontent-%COMP%]::-webkit-slider-runnable-track{-webkit-appearance:none;box-shadow:none;border:none;background:transparent}.white.slider[_ngcontent-%COMP%]::-moz-range-track{-webkit-appearance:none;box-shadow:none;border:none;background:transparent}.white.slider[_ngcontent-%COMP%]::-ms-track{-webkit-appearance:none;box-shadow:none;border:none;background:transparent}.white[_ngcontent-%COMP%] ~ .content[_ngcontent-%COMP%] > .range-label[_ngcontent-%COMP%]{color:#fff}.white.hide-thumb.slider[_ngcontent-%COMP%]::-webkit-slider-thumb{opacity:0}.white.hide-thumb.slider[_ngcontent-%COMP%]::-moz-range-thumb{opacity:0}.white.hide-thumb.slider[_ngcontent-%COMP%]::-ms-thumb{opacity:0}"],changeDetection:0}),(0,a.gn)([(0,r.CrtInput)(),(0,a.w6)("design:type",c.NI),(0,a.w6)("design:paramtypes",[c.NI])],_T.prototype,"control",null),(0,a.gn)([(0,r.CrtInput)(),(0,a.w6)("design:type",Number),(0,a.w6)("design:paramtypes",[Number])],_T.prototype,"value",null),(0,a.gn)([(0,r.CrtInput)(),(0,a.w6)("design:type",String),(0,a.w6)("design:paramtypes",[String])],_T.prototype,"color",null),_T=(0,a.gn)([Xs({type:"crt.Slider",formControlConfig:{relatesTo:"control"}}),Ks({type:"crt.Slider",toolbarConfig:[{name:"slider",groupType:Mu.Inputs,position:20,caption:"Components.Slider.Caption",icon:n(43289),defaultPropertyValues:{color:"primary",value:70,minValue:0,maxValue:100,step:1},defaultLocalizableStrings:{label:"Components.Slider.Caption"}}],propertiesPanelComponentTypeName:"crt.SliderPropertiesPanelComponent",dataValueTypes:[r.DataValueType.Integer,r.DataValueType.Float,r.DataValueType.FLOAT1,r.DataValueType.FLOAT2,r.DataValueType.FLOAT3,r.DataValueType.FLOAT4,r.DataValueType.FLOAT8,r.DataValueType.Money]}),(0,a.w6)("design:paramtypes",[l.Injector])],_T);let xT=class{};xT.ɵfac=function(e){return new(e||xT)},xT.ɵmod=l["ɵɵdefineNgModule"]({type:xT}),xT.ɵinj=l["ɵɵdefineInjector"]({imports:[[o.CommonModule,ui,Hg,c.UX,Rn]]}),xT=(0,a.gn)([(0,r.CrtModule)({viewElements:[_T]})],xT),("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](xT,{declarations:[_T],imports:[o.CommonModule,ui,Hg,c.UX,Rn],exports:[_T]});var IT=n(91732);const ST={channel:"widget-designer-channel",requestWidgetConfig:"RequestWidgetConfig",responseWidgetConfig:"ResponseWidgetConfig",saveWidgetConfig:"SaveWidgetConfig",designerLoaded:"DesignerLoaded",modalOpening:"ModalOpening",modalClosing:"ModalClosing"},MT=new l.InjectionToken("Names of iframe messages");function DT(e={}){return{provide:MT,useValue:Object.assign(Object.assign({},ST),e)}}let PT=(()=>{class e{constructor(e,t){this._window=e,this._messageNames=t,this.configChanged$=new h.Subject,this.designerLoaded$=new h.Subject,this.modalOpening$=new h.Subject,this.modalClosing$=new h.Subject}set initialConfig(e){this._initialConfig=e}_postMessage(e,t){this._contentWindow.postMessage({channel:this._messageNames.channel,name:e,payload:t},window.location.origin)}initCommunication(e){return this._contentWindow=e,(0,h.fromEvent)(this._window,"message").pipe((0,f.h)((e=>{var t;return(null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.channel)===this._messageNames.channel})))}onMessage(e){var t;const{data:{name:n="",payload:i={}}}=e||{};switch(n){case"initialize":const{handshakeMessage:n}=i;this._postMessage(n);break;case this._messageNames.requestWidgetConfig:this._postMessage(this._messageNames.responseWidgetConfig,this._initialConfig);break;case this._messageNames.saveWidgetConfig:this.configChanged$.next(null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.payload);break;case this._messageNames.designerLoaded:this.designerLoaded$.next();break;case this._messageNames.modalOpening:this.modalOpening$.next();break;case this._messageNames.modalClosing:this.modalClosing$.next()}}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](xa),l["ɵɵinject"](MT))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})();const TT=["frameElement"];let kT=(()=>{class e{constructor(e){this._frameMessengerService=e,this._subscription=new h.Subscription,this.dataChange=new l.EventEmitter}set data(e){this._frameMessengerService.initialConfig=e}ngOnInit(){this._subscription.add(this._frameMessengerService.configChanged$.subscribe((e=>this.dataChange.emit(e))))}ngAfterViewInit(){const{nativeElement:{contentWindow:e=null}={}}=this._frameElement;this._subscription.add(this._frameMessengerService.initCommunication(e).subscribe((e=>this._frameMessengerService.onMessage(e))))}ngOnDestroy(){this._subscription.unsubscribe()}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](PT))},e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["crt-ext-resource-frame"]],viewQuery:function(e,t){if(1&e&&l["ɵɵviewQuery"](TT,5),2&e){let e;l["ɵɵqueryRefresh"](e=l["ɵɵloadQuery"]())&&(t._frameElement=e.first)}},inputs:{url:"url",title:"title",data:"data"},outputs:{dataChange:"dataChange"},decls:2,vars:3,consts:[[3,"src","title"],["frameElement",""]],template:function(e,t){1&e&&l["ɵɵelement"](0,"iframe",0,1),2&e&&(l["ɵɵproperty"]("src",t.url,l["ɵɵsanitizeResourceUrl"])("title",t.title),l["ɵɵattribute"]("data-qa",t.title))},styles:["[_nghost-%COMP%]{flex:1}iframe[_ngcontent-%COMP%]{display:block;border:none;width:100%;height:100%}"]}),e})(),ET=(()=>{class e{constructor(e){this._domSanitizer=e,this._extViewModulePath="/Nui/ViewModule.aspx?vm=FilterEditModuleLoader&disableLogo=1",this.title="filters-designer-iframe",this.filterParamsChange=new l.EventEmitter}ngOnInit(){const e=da(),t=o.Location.joinWithSlash(e,this._extViewModulePath);this.url=this._domSanitizer.bypassSecurityTrustResourceUrl(t)}onDataChanged(e){this.filterParamsChange.emit(e)}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](i.DomSanitizer))},e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["crt-filters"]],inputs:{filterParams:"filterParams"},outputs:{filterParamsChange:"filterParamsChange"},decls:1,vars:3,consts:[[3,"url","title","data","dataChange"]],template:function(e,t){1&e&&(l["ɵɵelementStart"](0,"crt-ext-resource-frame",0),l["ɵɵlistener"]("dataChange",(function(e){return t.onDataChanged(e)})),l["ɵɵelementEnd"]()),2&e&&l["ɵɵproperty"]("url",t.url)("title",t.title)("data",t.filterParams)},directives:[kT],styles:[""]}),e})(),NT=(()=>{class e{}return e.ɵfac=function(t){return new(t||e)},e.ɵmod=l["ɵɵdefineNgModule"]({type:e}),e.ɵinj=l["ɵɵdefineInjector"]({providers:[Ia,PT,DT()],imports:[[o.CommonModule]]}),e})();("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](NT,{declarations:[ET,kT],imports:[o.CommonModule],exports:[ET]});var OT=(()=>(function(e){e.ORIG="ORIG",e.ASC="ASC",e.DESC="DESC"}(OT||(OT={})),OT))();let jT=(()=>{class e{constructor(){this.build=(e,t=OT.ORIG)=>e?this._createTreeFromItems(this._getSortedItems(e,t)):[]}_createNode(e){return{id:e.id,name:e.name,filterData:e.filterData,editable:e.editable,isNew:e.isNew,folderTreeId:e.folderTreeId,hasFavorite:e.hasFavorite,isFavorite:e.isFavorite,favoriteId:e.favoriteId,children:[]}}_getSortedItems(e,t){return t===OT.ORIG?e:[...e].sort(((e,n)=>e.name.localeCompare(n.name)*(t===OT.ASC?1:-1)))}_createTreeFromItems(e){const t=[],n=[];if(!e)return t;const i=e.map(((e,t)=>(n[e.id]=t,this._createNode(e))),this);return e.forEach((e=>{const a=i[n[e.id]];if((0,r.isEmptyGuid)(e.parentId))t.push(a);else{const t=i[n[e.parentId]];if(!t)return;t.children.push(a)}})),t}}return e.ɵfac=function(t){return new(t||e)},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})(),AT=(()=>{class e{constructor(e,t){this._schemaPartsService=e,this._featureService=t}get _folderTreeUserProfileFeatureState(){return this._featureService.getFeatureState("FolderTreeUserProfileEnabled").toPromise()}_saveToProfile(e,t){return(0,a.mG)(this,void 0,void 0,(function*(){(yield this._folderTreeUserProfileFeatureState)||(t.value=void 0),yield this._schemaPartsService.apply((n=>(0,a.mG)(this,void 0,void 0,(function*(){n.setViewModelAttribute(e,t)})))),yield this._schemaPartsService.commit()}))}setFolderTreeExpandedItems(e,t){return(0,a.mG)(this,void 0,void 0,(function*(){const{expandedItemsAttrName:n}=rs(e),i={value:t};yield this._saveToProfile(n,i)}))}setFolderTreeVisibleState(e,t){return(0,a.mG)(this,void 0,void 0,(function*(){const{visibleAttrName:n}=rs(e),i={value:t};yield this._saveToProfile(n,i)}))}setFolderTreeSelectedNode(e,t,n){return(0,a.mG)(this,void 0,void 0,(function*(){const{activeFolderIdAttrName:i,activeFolderFavoriteStateAttrName:r}=rs(e);yield this._schemaPartsService.apply((e=>(0,a.mG)(this,void 0,void 0,(function*(){e.setViewModelAttribute(i,{value:t}),e.setViewModelAttribute(r,{value:n})})))),yield this._schemaPartsService.commit()}))}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](Lp),l["ɵɵinject"](ls))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})();function RT(e,t){1&e&&l["ɵɵelement"](0,"ts-mask",9)}var FT=(()=>(function(e){e.Cancelled="cancelled",e.Saved="saved"}(FT||(FT={})),FT))();let VT=(()=>{class e{constructor(e,t,n,i){this._dialogRef=t,this._extResourceFrameWindowMessenger=n,this._changeDetectorRef=i,this._subscription=new h.Subscription,this.loading=!0,this.filtersModalOpened=!1,this.filterParams=e}ngOnInit(){this._subscription.add(this._extResourceFrameWindowMessenger.designerLoaded$.subscribe((()=>{this.loading=!1,this._changeDetectorRef.detectChanges()}))),this._subscription.add(this._extResourceFrameWindowMessenger.modalOpening$.subscribe((()=>{this.filtersModalOpened=!0,this._changeDetectorRef.detectChanges()}))),this._subscription.add(this._extResourceFrameWindowMessenger.modalClosing$.subscribe((()=>{this.filtersModalOpened=!1,this._changeDetectorRef.detectChanges()})))}getClasses(){return{"folder-tree-filters-panel":!0,"folder-tree-filters-panel-cover":this.filtersModalOpened}}onFiltersParamsChanged(e){this.filterParams=e}onSaveButtonClick(){const e={status:FT.Saved,filterParams:this.filterParams};this._dialogRef.close(e)}onCloseButtonClick(){const e={status:FT.Cancelled};this._dialogRef.close(e)}ngOnDestroy(){this._subscription.unsubscribe()}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](G.WI),l["ɵɵdirectiveInject"](G.so),l["ɵɵdirectiveInject"](PT),l["ɵɵdirectiveInject"](l.ChangeDetectorRef))},e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["crt-setup-filter"]],decls:15,vars:14,consts:[[3,"ngClass"],[1,"folder-tree-filters-panel-header"],[1,"folder-tree-filters-panel-caption"],[1,"folder-tree-filters-panel-buttons"],["color","primary",1,"action-button",3,"disabled","clicked"],[1,"action-button",3,"disabled","clicked"],[1,"folder-tree-filters-panel-content"],["class","folder-tree-filters-panel-mask",4,"ngIf"],[3,"filterParams","filterParamsChange"],[1,"folder-tree-filters-panel-mask"]],template:function(e,t){1&e&&(l["ɵɵelementStart"](0,"div",0),l["ɵɵelementStart"](1,"div",1),l["ɵɵelementStart"](2,"div",2),l["ɵɵtext"](3),l["ɵɵpipe"](4,"translate"),l["ɵɵelementEnd"](),l["ɵɵelementStart"](5,"div",3),l["ɵɵelementStart"](6,"crt-button",4),l["ɵɵlistener"]("clicked",(function(){return t.onSaveButtonClick()})),l["ɵɵtext"](7),l["ɵɵpipe"](8,"translate"),l["ɵɵelementEnd"](),l["ɵɵelementStart"](9,"crt-button",5),l["ɵɵlistener"]("clicked",(function(){return t.onCloseButtonClick()})),l["ɵɵtext"](10),l["ɵɵpipe"](11,"translate"),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵelementStart"](12,"div",6),l["ɵɵtemplate"](13,RT,1,0,"ts-mask",7),l["ɵɵelementStart"](14,"crt-filters",8),l["ɵɵlistener"]("filterParamsChange",(function(e){return t.onFiltersParamsChanged(e)})),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵelementEnd"]()),2&e&&(l["ɵɵproperty"]("ngClass",t.getClasses()),l["ɵɵadvance"](3),l["ɵɵtextInterpolate"](l["ɵɵpipeBind1"](4,8,"FolderTreeFilters.DialogTitle")),l["ɵɵadvance"](3),l["ɵɵproperty"]("disabled",t.loading||t.filtersModalOpened),l["ɵɵadvance"](1),l["ɵɵtextInterpolate"](l["ɵɵpipeBind1"](8,10,"FolderTreeFilters.SaveButton")),l["ɵɵadvance"](2),l["ɵɵproperty"]("disabled",t.filtersModalOpened),l["ɵɵadvance"](1),l["ɵɵtextInterpolate"](l["ɵɵpipeBind1"](11,12,"FolderTreeFilters.CancelButton")),l["ɵɵadvance"](3),l["ɵɵproperty"]("ngIf",t.loading),l["ɵɵadvance"](1),l["ɵɵproperty"]("filterParams",t.filterParams))},styles:["[_nghost-%COMP%]{width:100%}.folder-tree-filters-panel[_ngcontent-%COMP%]{flex-direction:column;display:flex;height:100%}.folder-tree-filters-panel-header[_ngcontent-%COMP%]{padding-left:40px}.folder-tree-filters-panel-header[_ngcontent-%COMP%]   .folder-tree-filters-panel-caption[_ngcontent-%COMP%]{margin:8px 0}.folder-tree-filters-panel-header[_ngcontent-%COMP%]   .folder-tree-filters-panel-buttons[_ngcontent-%COMP%]{display:flex;justify-items:flex-start;align-items:flex-start;flex-flow:row nowrap;margin-bottom:32px}.folder-tree-filters-panel-header[_ngcontent-%COMP%]   .folder-tree-filters-panel-buttons[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]{margin-right:16px}.folder-tree-filters-panel-content[_ngcontent-%COMP%]{position:relative;height:100%}.folder-tree-filters-panel-content[_ngcontent-%COMP%]   .folder-tree-filters-panel-mask[_ngcontent-%COMP%]{position:absolute;height:100%;width:100%}"]}),e})();const LT=["folder_tree"],zT=["mat_tree"];function BT(e,t){1&e&&l["ɵɵelement"](0,"crt-skeleton-loader")}function GT(e,t){1&e&&(l["ɵɵelementStart"](0,"div",16),l["ɵɵelementStart"](1,"div",17),l["ɵɵtext"](2),l["ɵɵpipe"](3,"translate"),l["ɵɵelementEnd"](),l["ɵɵelementEnd"]()),2&e&&(l["ɵɵadvance"](2),l["ɵɵtextInterpolate"](l["ɵɵpipeBind1"](3,1,"FolderTree.BlankslateMessage")))}function HT(e,t){if(1&e&&l["ɵɵelement"](0,"mat-icon",23),2&e){const e=l["ɵɵnextContext"]().$implicit,t=l["ɵɵnextContext"](3);l["ɵɵproperty"]("svgIcon",t.treeControl.isExpanded(e)?"folder_tree_opened_parent":"folder_tree_parent"),l["ɵɵattribute"]("aria-label","Toggle "+e.name)}}function UT(e,t){if(1&e&&(l["ɵɵelementStart"](0,"mat-tree-node",18),l["ɵɵelementStart"](1,"div",19),l["ɵɵtemplate"](2,HT,1,2,"mat-icon",20),l["ɵɵelement"](3,"mat-icon",21),l["ɵɵelementEnd"](),l["ɵɵelementStart"](4,"div",22),l["ɵɵelementContainerStart"](5),l["ɵɵtext"](6),l["ɵɵelementContainerEnd"](),l["ɵɵelementEnd"](),l["ɵɵelementEnd"]()),2&e){const e=t.$implicit,n=l["ɵɵnextContext"](3);l["ɵɵclassProp"]("parent-node",n.hasChildren(e))("child-node",!n.hasChildren(e)),l["ɵɵproperty"]("matTreeNodePaddingIndent",n.treeNodePaddingIndent),l["ɵɵadvance"](2),l["ɵɵproperty"]("ngIf",n.hasChildren(e)),l["ɵɵadvance"](4),l["ɵɵtextInterpolate"](e.name)}}function ZT(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵelementStart"](0,"mat-icon",32),l["ɵɵlistener"]("click",(function(){l["ɵɵrestoreView"](e);return l["ɵɵnextContext"](4).onExpandNodesClick()})),l["ɵɵelementEnd"]()}if(2&e){const e=l["ɵɵnextContext"]().$implicit,t=l["ɵɵnextContext"](3);l["ɵɵproperty"]("svgIcon",t.treeControl.isExpanded(e)?"folder_tree_opened_parent":"folder_tree_parent"),l["ɵɵattribute"]("aria-label","Toggle "+e.name)}}function $T(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵelementStart"](0,"crt-input",33),l["ɵɵlistener"]("blurred",(function(){l["ɵɵrestoreView"](e);return l["ɵɵnextContext"](4).onNameEnter()}))("keyUp",(function(t){l["ɵɵrestoreView"](e);return l["ɵɵnextContext"](4).onNameKeyUp(t)})),l["ɵɵelementEnd"]()}if(2&e){const e=l["ɵɵnextContext"](4);l["ɵɵproperty"]("labelPosition","hidden")("control",e.folderNameControl)}}function WT(e,t){if(1&e&&(l["ɵɵelementContainerStart"](0),l["ɵɵtext"](1),l["ɵɵelementContainerEnd"]()),2&e){const e=l["ɵɵnextContext"]().$implicit;l["ɵɵadvance"](1),l["ɵɵtextInterpolate"](e.name)}}function qT(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵelementStart"](0,"button",43),l["ɵɵlistener"]("click",(function(){l["ɵɵrestoreView"](e);const t=l["ɵɵnextContext"](2).$implicit;return l["ɵɵnextContext"](3).onToggleFolderFavorite(t)})),l["ɵɵpipe"](1,"translate"),l["ɵɵelement"](2,"mat-icon",44),l["ɵɵelementEnd"]()}if(2&e){l["ɵɵnextContext"]();const e=l["ɵɵreference"](7),t=l["ɵɵnextContext"]().$implicit;l["ɵɵclassProp"]("node-toolbar-visible",null==e?null:e.menuOpen),l["ɵɵproperty"]("title",l["ɵɵpipeBind1"](1,6,"FolderTree.MenuActions."+(t.hasFavorite||t.isFavorite?"RemoveFromFavorite":"AddToFavorite"))),l["ɵɵadvance"](2),l["ɵɵclassProp"]("in-favorite",t.hasFavorite||t.isFavorite),l["ɵɵproperty"]("svgIcon","folder_tree_favorite_"+(t.hasFavorite||t.isFavorite?"filled":"outlined"))}}const YT=function(e){return{$implicit:e}};function JT(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵelementStart"](0,"div",34),l["ɵɵelementStart"](1,"button",35),l["ɵɵlistener"]("click",(function(){l["ɵɵrestoreView"](e);const t=l["ɵɵnextContext"]().$implicit;return l["ɵɵnextContext"](3).createOrEditFolderFilters(t)})),l["ɵɵpipe"](2,"translate"),l["ɵɵelement"](3,"mat-icon",36),l["ɵɵelementEnd"](),l["ɵɵtemplate"](4,qT,3,8,"button",37),l["ɵɵelementStart"](5,"button",38,39),l["ɵɵlistener"]("menuClosed",(function(){l["ɵɵrestoreView"](e);const t=l["ɵɵreference"](6),n=l["ɵɵnextContext"]().$implicit;return l["ɵɵnextContext"](3).selectedNode=n,t.blur()})),l["ɵɵpipe"](8,"translate"),l["ɵɵelement"](9,"mat-icon",40),l["ɵɵelementEnd"](),l["ɵɵelement"](10,"crt-menu",41,42),l["ɵɵelementEnd"]()}if(2&e){const e=l["ɵɵreference"](7),t=l["ɵɵreference"](11),n=l["ɵɵnextContext"]().$implicit,i=l["ɵɵnextContext"](3);l["ɵɵadvance"](1),l["ɵɵclassProp"]("node-toolbar-visible",null==e?null:e.menuOpen),l["ɵɵproperty"]("title",l["ɵɵpipeBind1"](2,10,"FolderTree.SetUpFilter")),l["ɵɵadvance"](3),l["ɵɵproperty"]("ngIf",i.showFolderTreeFavoriteItemsFeatureState),l["ɵɵadvance"](1),l["ɵɵclassProp"]("node-toolbar-visible",null==e?null:e.menuOpen),l["ɵɵproperty"]("crtMenuTriggerFor",t)("crtMenuTriggerData",l["ɵɵpureFunction1"](14,YT,n))("title",l["ɵɵpipeBind1"](8,12,"FolderTree.ShowMenuActions")),l["ɵɵadvance"](5),l["ɵɵproperty"]("menuItems",i.getNodeMenuItems(n))}}const QT=function(e){return{selected:e}},KT=function(e){return{"node-name-input":e}};function XT(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵelementStart"](0,"mat-tree-node",24),l["ɵɵlistener"]("click",(function(){const t=l["ɵɵrestoreView"](e).$implicit;return l["ɵɵnextContext"](3).onTreeNodeClick(t)})),l["ɵɵelementStart"](1,"div",19),l["ɵɵtemplate"](2,ZT,1,2,"mat-icon",25),l["ɵɵelement"](3,"mat-icon",26),l["ɵɵelementEnd"](),l["ɵɵelementStart"](4,"div",27),l["ɵɵtemplate"](5,$T,1,2,"crt-input",28),l["ɵɵtemplate"](6,WT,2,1,"ng-container",29),l["ɵɵelementEnd"](),l["ɵɵelementStart"](7,"div",30),l["ɵɵtemplate"](8,JT,12,16,"div",31),l["ɵɵelementEnd"](),l["ɵɵelementEnd"]()}if(2&e){const e=t.$implicit,n=l["ɵɵnextContext"](3);l["ɵɵclassProp"]("root-level-node",0===e.level)("parent-node",n.hasChildren(e))("child-node",!n.hasChildren(e)),l["ɵɵproperty"]("matTreeNodePaddingIndent",n.treeNodePaddingIndent)("ngClass",l["ɵɵpureFunction1"](13,QT,n.isTreeNodeSelected(e))),l["ɵɵadvance"](2),l["ɵɵproperty"]("ngIf",n.hasChildren(e)),l["ɵɵadvance"](2),l["ɵɵproperty"]("ngClass",l["ɵɵpureFunction1"](15,KT,e.editable)),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",e.editable),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",!e.editable),l["ɵɵadvance"](2),l["ɵɵproperty"]("ngIf",!e.editable)}}function ek(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵelementContainerStart"](0),l["ɵɵelementStart"](1,"div",3),l["ɵɵelementStart"](2,"div",4),l["ɵɵelementStart"](3,"button",5),l["ɵɵlistener"]("click",(function(){l["ɵɵrestoreView"](e);return l["ɵɵnextContext"](2).addNewItem()})),l["ɵɵpipe"](4,"translate"),l["ɵɵelement"](5,"mat-icon",6),l["ɵɵtext"](6),l["ɵɵpipe"](7,"translate"),l["ɵɵelementEnd"](),l["ɵɵelementStart"](8,"button",7),l["ɵɵpipe"](9,"translate"),l["ɵɵelementStart"](10,"mat-icon",8),l["ɵɵlistener"]("click",(function(){l["ɵɵrestoreView"](e);return l["ɵɵnextContext"](2).onHideFolderTreeClick()})),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵelementStart"](11,"div",9,10),l["ɵɵtemplate"](13,GT,4,3,"div",11),l["ɵɵelementStart"](14,"mat-tree",12,13),l["ɵɵtemplate"](16,UT,7,7,"mat-tree-node",14),l["ɵɵtemplate"](17,XT,9,17,"mat-tree-node",15),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵelementContainerEnd"]()}if(2&e){const e=l["ɵɵreference"](12),t=l["ɵɵnextContext"](2);l["ɵɵadvance"](1),l["ɵɵproperty"]("ngClass",t.classes),l["ɵɵadvance"](2),l["ɵɵproperty"]("title",l["ɵɵpipeBind1"](4,11,"FolderTree.AddFilterHint")),l["ɵɵadvance"](3),l["ɵɵtextInterpolate1"](" ",l["ɵɵpipeBind1"](7,13,"FolderTree.AddFilter")," "),l["ɵɵadvance"](2),l["ɵɵproperty"]("title",l["ɵɵpipeBind1"](9,15,"FolderTree.CloseFolderTree")),l["ɵɵadvance"](5),l["ɵɵproperty"]("ngIf",0===(null==t.treeDataSource?null:t.treeDataSource.data.length)),l["ɵɵadvance"](1),l["ɵɵstyleProp"]("min-width",e.clientWidth,"px"),l["ɵɵproperty"]("dataSource",t.treeDataSource)("treeControl",t.treeControl),l["ɵɵadvance"](2),l["ɵɵproperty"]("matTreeNodeDefWhen",t.isFavoriteRoot),l["ɵɵadvance"](1),l["ɵɵproperty"]("matTreeNodeDefWhen",t.isFolderNode)}}function tk(e,t){1&e&&l["ɵɵelement"](0,"crt-placeholder",45)}function nk(e,t){if(1&e&&(l["ɵɵtemplate"](0,ek,18,17,"ng-container",0),l["ɵɵtemplate"](1,tk,1,0,"ng-template",null,2,l["ɵɵtemplateRefExtractor"])),2&e){const e=l["ɵɵreference"](2),t=l["ɵɵnextContext"]();l["ɵɵproperty"]("ngIf",t.rootSchemaName)("ngIfElse",e)}}let ik=class extends Us{constructor(e){super(e),this._defaultTreeNodePaddingIndent=24,this._debouncedTime=300,this._virtualRootFavoriteNodeId=(0,r.generateGuid)(),this._items$=new h.BehaviorSubject(null),this._favoriteItems$=new h.BehaviorSubject(null),this._expandedItems=[],this._selectedNodeChangedDebounced=new h.Subject,this._treeFlattener=new IT.JZ(this._transformNodeToFlatNode,(e=>e.level),(e=>e.expandable),(e=>e.children)),this.showFolderTreeFavoriteItemsFeatureState=void 0,this.treeControl=new US.C2((e=>e.level),(e=>e.expandable)),this.treeDataSource=this._createTreeDataSource(),this.activeFolderChanged=new l.EventEmitter,this.folderTreeVisibleChanged=new l.EventEmitter,this.deleteFolder=new l.EventEmitter,this.addFolder=new l.EventEmitter,this.folderRenamed=new l.EventEmitter,this.toggleFolderFavorite=new l.EventEmitter,this.folderFiltersUpdated=new l.EventEmitter,this.folderTreeExpandedItemsChanged=new l.EventEmitter,this.folderChangeRights=new l.EventEmitter,this.treeNodePaddingIndent=this._defaultTreeNodePaddingIndent,this.sortingOrder=OT.ASC,this.folderNameControl=new c.NI(null),this._isNodeFavoriteRoot=e=>e.id===this.virtualRootFavoriteNodeId,this.isFavoriteRoot=(e,t)=>this._isNodeFavoriteRoot(t),this.isFolderNode=(e,t)=>!this._isNodeFavoriteRoot(t),this._initDependencies(e),this._initSelectedNodeChangedDebounced()}set selectedNode(e){this._selectedNode!==e&&this._selectedNodeChangedDebounced.next(e)}get selectedNode(){return this._selectedNode}get virtualRootFavoriteNodeId(){return this._virtualRootFavoriteNodeId}set rootSchemaName(e){this._rootSchemaName=e,this._changeDetectorRef.detectChanges()}get rootSchemaName(){return this._rootSchemaName}set items(e){Promise.all((null!=e?e:[]).map((e=>(0,a.mG)(this,void 0,void 0,(function*(){return{id:yield e.Id,name:yield e.Name,parentId:yield e.ParentId,filterData:yield e.FilterData,isFavorite:!1,folderTreeId:yield e.Id}}))))).then((e=>{this._items$.next(e||[]),this._reloadTree()}))}set favoriteItems(e){Promise.all((null!=e?e:[]).map((e=>(0,a.mG)(this,void 0,void 0,(function*(){return{id:yield e.Id,name:yield e.Name,parentId:this.virtualRootFavoriteNodeId,folderTreeId:yield e.FolderTreeId,filterData:yield e.FilterData,isFavorite:!0}}))))).then((e=>{this._favoriteItems$.next(e||[]),this._reloadTree()}))}set activeFolderId(e){this._activeFolderId!==e&&(this._activeFolderId=e,this._initSelectedNode(this._activeFolderId),this._clearNotExistingActiveFolder())}set expandedItems(e){this._expandedItems=null!=e?e:[],this._restoreExpandedNodes()}set loading(e){void 0===this.showFolderTreeFavoriteItemsFeatureState?(super.loading=!0,this._featureService.getFeatureState("ShowFolderTreeFavoriteItems").subscribe({next:t=>{this.showFolderTreeFavoriteItemsFeatureState=t,super.loading=e}})):super.loading=e}get loading(){return super.loading}_initDependencies(e){this._changeDetectorRef=e.get(l.ChangeDetectorRef),this._treeBuilder=e.get(jT),this._translate=e.get(u.sK),this._dialogService=e.get(X),this._hostElementRef=e.get(l.ElementRef),this._featureService=e.get(ls)}_initSelectedNodeChangedDebounced(){this._selectedNodeChangedDebounced=new h.Subject,this._selectedNodeChangedDebounced.pipe((0,kn.b)(this._debouncedTime)).subscribe((e=>this._changeSelectedNode(e)))}_changeSelectedNode(e){var t;this._selectedNode=e,this.activeFolderChanged.emit({id:null==e?void 0:e.id,filterData:null!==(t=null==e?void 0:e.filterData)&&void 0!==t?t:"{}",name:null==e?void 0:e.name,isFavorite:null==e?void 0:e.isFavorite}),this._selectedNode&&this._expandParents(this._selectedNode),this._changeDetectorRef.detectChanges()}_createTreeDataSource(){return new IT.kc(this.treeControl,this._treeFlattener)}_updateTreeData(){this.treeDataSource.data=[...this._treeBuilder.build(this._favoriteItems$.value,this.sortingOrder),...this._treeBuilder.build(this._items$.value,this.sortingOrder)],this._restoreExpandedNodes();const e=this.treeControl.dataNodes.find((e=>e.id===this.virtualRootFavoriteNodeId));e&&this.treeControl.expand(e)}_initTreeDataSource(){Array.isArray(this._items$.value)?(this.treeDataSource||(this.treeDataSource=this._createTreeDataSource()),this._updateTreeData(),this._changeDetectorRef.detectChanges()):this.treeDataSource=null}_reloadTree(){this._addVirtualFavoriteRootItem(),this._mapHasFavoriteItems(),this._initTreeDataSource(),this._activeFolderId&&(this._initSelectedNode(this._activeFolderId),this._clearNotExistingActiveFolder())}_clearNotExistingActiveFolder(){!this.selectedNode&&this._items$.value&&this._favoriteItems$.value&&(this.activeFolderId=null)}_hasOnlyVirtualRootFavorite(){var e,t;return 1===(null===(e=this._favoriteItems$.value)||void 0===e?void 0:e.length)&&(null===(t=this._favoriteItems$)||void 0===t?void 0:t.value[0].id)===this._virtualRootFavoriteNodeId}_addVirtualFavoriteRootItem(){const e=function(e){return!e||0===e.length};var t,n;(e(this._items$.value)&&this._hasOnlyVirtualRootFavorite()&&(this._favoriteItems$=new h.BehaviorSubject([])),e(this._items$.value)||(t=this._favoriteItems$.value,n=this._isNodeFavoriteRoot,!t||t.find((e=>n(e)))))||this._favoriteItems$.value.push({id:this._virtualRootFavoriteNodeId,name:this._translate.instant("FolderTree.FavoritesNodeCaption"),isFavorite:!0})}_mapHasFavoriteItems(){this._favoriteItems$.value&&this._items$.value&&this._items$.value.forEach((e=>{const t=this._favoriteItems$.value.find((t=>t.folderTreeId===e.id));e.hasFavorite=!!t,e.favoriteId=null==t?void 0:t.id}))}_transformNodeToFlatNode(e,t){return{id:e.id,name:e.name,folderTreeId:e.folderTreeId,filterData:e.filterData,expandable:!!(e.children&&e.children.length>0),level:t,editable:e.editable,isNew:e.isNew,isFavorite:e.isFavorite,hasFavorite:e.hasFavorite,favoriteId:e.favoriteId}}_findDirectParentId(e){var t;return null===(t=this._items$.value.find((t=>t.id===e)))||void 0===t?void 0:t.parentId}_restoreExpandedNodes(){var e;this.treeControl&&this.treeControl.dataNodes&&(null===(e=this._expandedItems)||void 0===e||e.forEach((e=>{const t=this.treeControl.dataNodes.find((t=>t.id===e));t&&this.treeControl.expand(t)})))}_expandParents(e){if(!this.treeControl||!this.treeControl.dataNodes)return;let t=this.treeControl.getLevel(e);if(t<1)return;let n=this.treeControl.dataNodes.indexOf(e)-1;for(;n>=0;){const e=this.treeControl.dataNodes[n],i=this.treeControl.getLevel(e);if(i<t&&(this.treeControl.expand(e),t=i),n--,0===i)break}}_initSelectedNode(e){var t,n;this.selectedNode=null===(n=null===(t=this.treeControl)||void 0===t?void 0:t.dataNodes)||void 0===n?void 0:n.find((t=>t.id===e))}_findNewItem(){return this._items$.value.find((e=>e.isNew))}_isNewItemExists(){return this._findNewItem()&&!this.folderNameControl.value}_setNewItemNameControlValue(e){this.folderNameControl.setValue(e)}_addNewEditableItem(e,t,n){const i=(0,r.generateGuid)();this._items$.value.push({name:e,id:i,editable:!0,isNew:!0,parentId:null!=t?t:null,filterData:n,folderTreeId:i})}_makeNewItemVisible(){var e,t;const n=null===(t=null===(e=this.treeControl)||void 0===e?void 0:e.dataNodes)||void 0===t?void 0:t.find((e=>e.isNew));this._expandParents(n)}_emitAddFolder(){const e=this.folderNameControl.value;if(!e)return!1;const t=this._findNewItem(),{parentId:n,id:i,filterData:r}=t;return this.addFolder.emit({folderName:e,id:i,rootSchemaName:this.rootSchemaName,sourceSchemaName:this.sourceSchemaName,filterData:r,parentId:n}),t.name=e,t.editable=!1,t.isNew=!1,this._updateTreeData(),this.activeFolderId=i,!0}_removeNewItemNode(){this._items$.next(this._items$.value.filter((e=>!e.editable))),this._updateTreeData()}_hasAnyFavoriteChildrenNode(e){if(e.isFavorite||e.hasFavorite)return!0;if(e.children)for(const t of e.children){const e=this._hasAnyFavoriteChildrenNode(t);if(e)return e}return!1}_searchNode(e,t){for(const n of e){const e=this._hierarchicalSearchNode(n,t);if(e)return e}}_hierarchicalSearchNode(e,t){if(e&&e.id===t)return e;if(e.children)for(const n of e.children){const e=this._hierarchicalSearchNode(n,t);if(e)return e}}_removeItemNode(e){this._dialogService.openConfirmationDialog(this._translate.instant("FolderTree.DeleteConfirmation")).subscribe((t=>{var n;if(t===U.result){const t=e.isFavorite?e.folderTreeId:e.id;this.deleteFolder.emit({folderId:t,reloadFavorites:this._hasAnyFavoriteChildrenNode(this._searchNode(this.treeDataSource.data,t))}),e.id===(null===(n=this.selectedNode)||void 0===n?void 0:n.id)&&(this.selectedNode=null)}}))}_copyItemNode(e){var t,n;if(!this._isNewItemExists()){const i=`${(e=e.isFavorite?null===(n=null===(t=this.treeControl)||void 0===t?void 0:t.dataNodes)||void 0===n?void 0:n.find((t=>t.id===e.folderTreeId)):e).name} - ${this._translate.instant("FolderTree.CopyFolderSuffix")}`;this._setNewItemNameControlValue(i);const r=this._findDirectParentId(e.id);this._addNewEditableItem(i,r,e.filterData),this._updateTreeData(),this._makeNewItemVisible(),this._changeDetectorRef.detectChanges()}this.folderNameInput.select(),this.folderNameInput.focus()}_updateNodeFilter(e,t){var n,i,r,a;const o=e.isFavorite?e.folderTreeId:e.id;this._items$.value.find((e=>e.id===o)).filterData=t;if((null===(i=null===(n=this.treeControl)||void 0===n?void 0:n.dataNodes)||void 0===i?void 0:i.find((e=>e.id===o))).filterData=t,e.isFavorite){this._favoriteItems$.value.find((t=>t.id===e.id)).filterData=t;(null===(a=null===(r=this.treeControl)||void 0===r?void 0:r.dataNodes)||void 0===a?void 0:a.find((t=>t.id===e.id))).filterData=t}}_loadRightsModule(e){this.folderChangeRights.emit({entitySchemaName:this.sourceSchemaName,primaryColumnValue:e.folderTreeId})}_emitRenameFolder(){const e=this.folderNameControl.value;e?(this.folderRenamed.emit({folderName:e,folderId:this._selectedNode.isFavorite?this.selectedNode.folderTreeId:this._selectedNode.id,sourceSchemaName:this.sourceSchemaName,reloadFavorites:this._selectedNode.isFavorite||this._selectedNode.hasFavorite}),this._selectedNode.editable=!1,this._selectedNode.name=e,this._updateNodeName(this._selectedNode,e),this.activeFolderChanged.emit({id:this._selectedNode.id,filterData:this._selectedNode.filterData,name:this._selectedNode.name,isFavorite:this._selectedNode.isFavorite})):this._selectedNode.editable=!1}_updateNodeName(e,t){var n,i,r,a;const o=e.isFavorite?e.folderTreeId:e.id;this._items$.value.find((e=>e.id===o)).name=t;if((null===(i=null===(n=this.treeControl)||void 0===n?void 0:n.dataNodes)||void 0===i?void 0:i.find((e=>e.id===o))).name=t,e.isFavorite){this._favoriteItems$.value.find((t=>t.id===e.id)).name=t;(null===(a=null===(r=this.treeControl)||void 0===r?void 0:r.dataNodes)||void 0===a?void 0:a.find((t=>t.id===e.id))).name=t}}_renameItemNode(e){e.editable=!0,this._changeDetectorRef.detectChanges(),this.folderNameInput.value=e.name,this.folderNameInput.select(),this.folderNameInput.focus()}handleFinishLoadViewModelAttributes(){this.treeDataSource&&this._changeDetectorRef.detectChanges()}_updateFolderTreeViewWidth(){var e,t,n;if(this.hostElementWidth=null===(e=this._hostElementRef)||void 0===e?void 0:e.nativeElement.offsetWidth,(null===(t=this._folderTree)||void 0===t?void 0:t.nativeElement)&&(null===(n=this._matTree)||void 0===n?void 0:n.nativeElement)){const e=this._folderTree.nativeElement.clientWidth;this._matTree.nativeElement.style.minWidth=`${e}px`}}_isHostElementChangeWidth(){var e;return this.hostElementWidth!==(null===(e=this._hostElementRef)||void 0===e?void 0:e.nativeElement.offsetWidth)}_navigateToOriginalFolderTreeNode(e){this.activeFolderId=e.folderTreeId}getNodeMenuItems(e){const t={type:"action",icon:"folder_tree_add_new_folder",caption:this._translate.instant("FolderTree.MenuActions.AddFolder"),code:"addFolder",handler:this.addNewItem.bind(this)},n={type:"action",icon:"folder_tree_rename_folder",caption:this._translate.instant("FolderTree.MenuActions.RenameFolder"),code:"renameFolder",handler:this._renameItemNode.bind(this)},i={type:"action",icon:"folder_tree_copy_folder",caption:this._translate.instant("FolderTree.MenuActions.CopyFolder"),code:"copyFolder",handler:this._copyItemNode.bind(this)},r={type:"action",icon:"folder_tree_remove_folder",caption:this._translate.instant("FolderTree.MenuActions.DeleteFolder"),code:"deleteFolder",handler:this._removeItemNode.bind(this)},a={type:"action",icon:"folder_tree_change_folder_rights",caption:this._translate.instant("FolderTree.MenuActions.ChangeFolderRights"),code:"changeFolderRights",handler:this._loadRightsModule.bind(this)},o=[t,n,i,r,a],s=[n,r,a];return e.isFavorite?s:o}hasChildren(e){return e.expandable}onTreeNodeClick(e){this.selectedNode=e}onExpandNodesClick(){return(0,a.mG)(this,void 0,void 0,(function*(){this._expandedItems=this.treeControl.dataNodes.filter((e=>this.treeControl.isExpanded(e))).map((e=>e.id)),this.folderTreeExpandedItemsChanged.emit({expandedItems:this._expandedItems})}))}isTreeNodeSelected(e){var t;return(null===(t=this.selectedNode)||void 0===t?void 0:t.id)===e.id}createOrEditFolderFilters(e){const t=null==e?void 0:e.filterData;this._dialogService.open(VT,{data:{entitySchemaName:this.rootSchemaName,filters:t?JSON.parse(t):void 0},panelClass:"folder-tree-filters-dialog",disableClose:!0}).subscribe((t=>{if(t.status===FT.Saved){const n=JSON.stringify(t.filterParams.filters),i=e.isFavorite?e.folderTreeId:e.id;this.folderFiltersUpdated.emit({filterData:n,folderId:i,sourceSchemaName:this.sourceSchemaName,reloadFavorites:e.isFavorite||e.hasFavorite}),this.activeFolderChanged.emit({id:i,filterData:n,name:e.name,isFavorite:e.isFavorite}),this._updateNodeFilter(e,n)}}))}onHideFolderTreeClick(){this.folderTreeVisibleChanged.emit({visible:!1})}onNameKeyUp(e){"Enter"!==e.code&&"NumpadEnter"!==e.code||this.onNameEnter()}addNewItem(){var e,t;(null===(e=this.selectedNode)||void 0===e?void 0:e.isFavorite)&&this._navigateToOriginalFolderTreeNode(this.selectedNode),this._isNewItemExists()||(this._setNewItemNameControlValue(this._translate.instant("FolderTree.DefaultFolderName")),this._addNewEditableItem("",null===(t=this.selectedNode)||void 0===t?void 0:t.folderTreeId),this._updateTreeData(),this._makeNewItemVisible(),this._changeDetectorRef.detectChanges()),this.folderNameInput.focus()}onNameEnter(){this._findNewItem()?this._emitAddFolder()||this._removeNewItemNode():this._emitRenameFolder()}onToggleFolderFavorite(e){this.toggleFolderFavorite.emit({id:e.id,favoriteId:e.isFavorite?e.id:e.favoriteId,rootSchemaName:this.rootSchemaName,status:!(e.hasFavorite||e.isFavorite)})}ngAfterViewInit(){this.hostElementWidth=this._hostElementRef.nativeElement.offsetWidth}ngAfterViewChecked(){this._isHostElementChangeWidth()&&this._updateFolderTreeViewWidth()}ngOnDestroy(){this._selectedNodeChangedDebounced.complete()}};ik.ɵfac=function(e){return new(e||ik)(l["ɵɵdirectiveInject"](l.Injector))},ik.ɵcmp=l["ɵɵdefineComponent"]({type:ik,selectors:[["crt-folder-tree"]],viewQuery:function(e,t){if(1&e&&(l["ɵɵviewQuery"](tS,5),l["ɵɵviewQuery"](LT,5),l["ɵɵviewQuery"](zT,5,l.ElementRef)),2&e){let e;l["ɵɵqueryRefresh"](e=l["ɵɵloadQuery"]())&&(t.folderNameInput=e.first),l["ɵɵqueryRefresh"](e=l["ɵɵloadQuery"]())&&(t._folderTree=e.first),l["ɵɵqueryRefresh"](e=l["ɵɵloadQuery"]())&&(t._matTree=e.first)}},inputs:{treeNodePaddingIndent:"treeNodePaddingIndent",sourceSchemaName:"sourceSchemaName",rootSchemaName:"rootSchemaName",name:"name",sortingOrder:"sortingOrder",items:"items",favoriteItems:"favoriteItems",activeFolderId:"activeFolderId",expandedItems:"expandedItems"},outputs:{activeFolderChanged:"activeFolderChanged",folderTreeVisibleChanged:"folderTreeVisibleChanged",deleteFolder:"deleteFolder",addFolder:"addFolder",folderRenamed:"folderRenamed",toggleFolderFavorite:"toggleFolderFavorite",folderFiltersUpdated:"folderFiltersUpdated",folderTreeExpandedItemsChanged:"folderTreeExpandedItemsChanged",folderChangeRights:"folderChangeRights"},features:[l["ɵɵProvidersFeature"]([jT]),l["ɵɵInheritDefinitionFeature"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["folder_tree_template",""],["no_schema_root",""],[1,"folder-tree-container",3,"ngClass"],[1,"folder-tree-header"],[1,"new-folder-btn",3,"title","click"],["svgIcon","folder_tree_new_filter"],[1,"close-tree-btn",3,"title"],["svgIcon","folder_tree_close",3,"click"],[1,"folder-tree"],["folder_tree",""],["class","folder-tree-blankslate",4,"ngIf"],[3,"dataSource","treeControl"],["mat_tree",""],["matTreeNodePadding","","class","root-level-node","data-item-marker","Favorites folders",3,"parent-node","child-node","matTreeNodePaddingIndent",4,"matTreeNodeDef","matTreeNodeDefWhen"],["matTreeNodePadding","",3,"root-level-node","parent-node","child-node","matTreeNodePaddingIndent","ngClass","click",4,"matTreeNodeDef","matTreeNodeDefWhen"],[1,"folder-tree-blankslate"],[1,"blankslate-message"],["matTreeNodePadding","","data-item-marker","Favorites folders",1,"root-level-node",3,"matTreeNodePaddingIndent"],[1,"prefix-node"],["matTreeNodeToggle","","class","material-icons mat-icon-rtl-mirror node-toggle-icon",3,"svgIcon",4,"ngIf"],["svgIcon","folder_tree_favorite_outlined"],[1,"node-text"],["matTreeNodeToggle","",1,"material-icons","mat-icon-rtl-mirror","node-toggle-icon",3,"svgIcon"],["matTreeNodePadding","",3,"matTreeNodePaddingIndent","ngClass","click"],["matTreeNodeToggle","","class","material-icons mat-icon-rtl-mirror node-toggle-icon",3,"svgIcon","click",4,"ngIf"],["svgIcon","folder_tree_folder"],[1,"node-text",3,"ngClass"],["class","node-name-input",3,"labelPosition","control","blurred","keyUp",4,"ngIf"],[4,"ngIf"],[1,"suffix-node-sticky-container"],["class","suffix-node",4,"ngIf"],["matTreeNodeToggle","",1,"material-icons","mat-icon-rtl-mirror","node-toggle-icon",3,"svgIcon","click"],[1,"node-name-input",3,"labelPosition","control","blurred","keyUp"],[1,"suffix-node"],[1,"node-menu-button",3,"title","click"],["svgIcon","filter_icon",1,"node-menu-icon"],["class","node-menu-button add-to-favorite",3,"title","node-toolbar-visible","click",4,"ngIf"],[1,"node-menu-button",3,"crtMenuTriggerFor","crtMenuTriggerData","title","menuClosed"],["button","","trigger","crtMenuTrigger"],["svgIcon","kebab",1,"node-menu-icon"],[3,"menuItems"],["nodeMenu",""],[1,"node-menu-button","add-to-favorite",3,"title","click"],[1,"node-menu-icon",3,"svgIcon"],["iconName","folder_tree"]],template:function(e,t){if(1&e&&(l["ɵɵtemplate"](0,BT,1,0,"crt-skeleton-loader",0),l["ɵɵtemplate"](1,nk,3,2,"ng-template",null,1,l["ɵɵtemplateRefExtractor"])),2&e){const e=l["ɵɵreference"](2);l["ɵɵproperty"]("ngIf",t.loading)("ngIfElse",e)}},directives:[o.NgIf,di,o.NgClass,St.Hw,IT.gi,IT.fQ,IT.uo,IT.ah,IT.eu,tS,sw,Wy,pi],pipes:[u.X$],styles:["[_nghost-%COMP%]{display:block;width:100%;height:100%;background-color:unset}[_nghost-%COMP%]   .folder-tree-container[_ngcontent-%COMP%]{display:inherit;width:inherit;height:inherit}[_nghost-%COMP%]   .folder-tree-container[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;line-height:16px}[_nghost-%COMP%]   .folder-tree-container[_ngcontent-%COMP%]   .folder-tree-header[_ngcontent-%COMP%]{height:40px;display:flex;justify-content:flex-end;align-items:center;padding:0 8px}[_nghost-%COMP%]   .folder-tree-container[_ngcontent-%COMP%]   .folder-tree-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;background-color:inherit;display:flex;align-items:center;cursor:pointer;padding:0}[_nghost-%COMP%]   .folder-tree-container[_ngcontent-%COMP%]   .folder-tree-header[_ngcontent-%COMP%]   button.new-folder-btn[_ngcontent-%COMP%]{margin-inline-end:24px}[_nghost-%COMP%]   .folder-tree-container[_ngcontent-%COMP%]   .folder-tree-header[_ngcontent-%COMP%]   button.new-folder-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-inline-end:8px}[_nghost-%COMP%]   .folder-tree-container[_ngcontent-%COMP%]   .folder-tree[_ngcontent-%COMP%]{overflow:auto;width:100%;height:calc(100% - 40px)}[_nghost-%COMP%]   .folder-tree-container[_ngcontent-%COMP%]   .folder-tree[_ngcontent-%COMP%]   .folder-tree-blankslate[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}[_nghost-%COMP%]   .folder-tree-container[_ngcontent-%COMP%]   .folder-tree[_ngcontent-%COMP%]   .folder-tree-blankslate[_ngcontent-%COMP%]   .blankslate-message[_ngcontent-%COMP%]{padding:20px 0}[_nghost-%COMP%]   .folder-tree-container[_ngcontent-%COMP%]   .folder-tree[_ngcontent-%COMP%]   mat-tree[_ngcontent-%COMP%]{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}[_nghost-%COMP%]   .folder-tree-container[_ngcontent-%COMP%]   .folder-tree[_ngcontent-%COMP%]   mat-tree[_ngcontent-%COMP%]   .mat-tree-node[_ngcontent-%COMP%]{min-height:40px;white-space:nowrap}[_nghost-%COMP%]   .folder-tree-container[_ngcontent-%COMP%]   .folder-tree[_ngcontent-%COMP%]   mat-tree[_ngcontent-%COMP%]   .mat-tree-node.root-level-node[_ngcontent-%COMP%]{padding-inline-start:8px!important}[_nghost-%COMP%]   .folder-tree-container[_ngcontent-%COMP%]   .folder-tree[_ngcontent-%COMP%]   mat-tree[_ngcontent-%COMP%]   .mat-tree-node.child-node[_ngcontent-%COMP%]   .prefix-node[_ngcontent-%COMP%]{margin-inline-start:16px}[_nghost-%COMP%]   .folder-tree-container[_ngcontent-%COMP%]   .folder-tree[_ngcontent-%COMP%]   mat-tree[_ngcontent-%COMP%]   .mat-tree-node[_ngcontent-%COMP%]   .prefix-node[_ngcontent-%COMP%]{display:flex}[_nghost-%COMP%]   .folder-tree-container[_ngcontent-%COMP%]   .folder-tree[_ngcontent-%COMP%]   mat-tree[_ngcontent-%COMP%]   .mat-tree-node[_ngcontent-%COMP%]   .suffix-node-sticky-container[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse;width:100%}[_nghost-%COMP%]   .folder-tree-container[_ngcontent-%COMP%]   .folder-tree[_ngcontent-%COMP%]   mat-tree[_ngcontent-%COMP%]   .mat-tree-node[_ngcontent-%COMP%]   .suffix-node-sticky-container[_ngcontent-%COMP%]   .suffix-node[_ngcontent-%COMP%]{display:flex;position:sticky;right:8px}[_nghost-%COMP%]   .folder-tree-container[_ngcontent-%COMP%]   .folder-tree[_ngcontent-%COMP%]   mat-tree[_ngcontent-%COMP%]   .mat-tree-node[_ngcontent-%COMP%]   .suffix-node-sticky-container[_ngcontent-%COMP%]   .suffix-node[_ngcontent-%COMP%]   .node-menu-button[_ngcontent-%COMP%]{padding:0;border:none;background-color:transparent;display:flex;align-items:center;justify-content:center;width:16px;height:16px;cursor:pointer;margin-inline-start:8px}[_nghost-%COMP%]   .folder-tree-container[_ngcontent-%COMP%]   .folder-tree[_ngcontent-%COMP%]   mat-tree[_ngcontent-%COMP%]   .mat-tree-node[_ngcontent-%COMP%]   .node-toggle-icon[_ngcontent-%COMP%]{cursor:pointer}[_nghost-%COMP%]   .folder-tree-container[_ngcontent-%COMP%]   .folder-tree[_ngcontent-%COMP%]   mat-tree[_ngcontent-%COMP%]   .mat-tree-node[_ngcontent-%COMP%]   .node-text[_ngcontent-%COMP%]{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;padding-inline-start:8px}[_nghost-%COMP%]   .folder-tree-container[_ngcontent-%COMP%]   .folder-tree[_ngcontent-%COMP%]   mat-tree[_ngcontent-%COMP%]   .mat-tree-node[_ngcontent-%COMP%]   .node-name-input[_ngcontent-%COMP%]{padding-top:6px}[_nghost-%COMP%]   .folder-tree-container[_ngcontent-%COMP%]   .folder-tree[_ngcontent-%COMP%]   mat-tree[_ngcontent-%COMP%]   .mat-tree-node[_ngcontent-%COMP%]:not(.node-toolbar-visible)   .node-menu-icon[_ngcontent-%COMP%]{visibility:hidden}[_nghost-%COMP%]   .folder-tree-container[_ngcontent-%COMP%]   .folder-tree[_ngcontent-%COMP%]   mat-tree[_ngcontent-%COMP%]   .mat-tree-node[_ngcontent-%COMP%]:not(.node-toolbar-visible):hover   .node-menu-icon[_ngcontent-%COMP%]{visibility:inherit}[_nghost-%COMP%]   .folder-tree-container[_ngcontent-%COMP%]   .folder-tree[_ngcontent-%COMP%]   mat-tree[_ngcontent-%COMP%]   .mat-tree-node[_ngcontent-%COMP%]   .node-toolbar-visible[_ngcontent-%COMP%]   .node-menu-icon[_ngcontent-%COMP%]{visibility:inherit}"],changeDetection:0}),(0,a.gn)([(0,r.CrtInput)(),(0,a.w6)("design:type",Boolean),(0,a.w6)("design:paramtypes",[Boolean])],ik.prototype,"loading",null),ik=(0,a.gn)([Xs({type:"crt.FolderTree"}),Ks({type:"crt.FolderTree",toolbarConfig:[{name:"folder-tree",groupType:Mu.Components,position:40,caption:"Components.FolderTree.Caption",hint:"Components.FolderTree.Hint",icon:n(11377),defaultPropertyValues:{caption:"",sourceSchemaName:"FolderTree"},defaultLocalizableStrings:{caption:"Components.FolderTree.Caption"},addCommandTypeName:"crt.AddFolderTreeCommand"}],designViewItemCommands:{change:"crt.ChangeFolderTreeViewItemCommand",remove:"crt.RemoveFolderTreeViewItemCommand"},interfaceDesignerPropertiesPanelSchemaName:"InterfaceDesignerFolderTreePropertiesPanel",propertiesPanelComponentTypeName:"crt.FolderTreePropertiesPanel"}),(0,a.w6)("design:paramtypes",[l.Injector])],ik);let rk=class{constructor(e){this._materialIconsRegistrator=e,this._iconRegistration()}_iconRegistration(){this._materialIconsRegistrator.addIcons([{name:"folder_tree_favorite_outlined",icon:n(90703)},{name:"folder_tree_favorite_filled",icon:n(75137)},{name:"folder_tree_new_filter",icon:n(18590)},{name:"folder_tree_close",icon:n(54159)},{name:"folder_tree_folder",icon:n(78111)},{name:"folder_tree_opened_parent",icon:n(23613)},{name:"folder_tree_parent",icon:n(66520)},{name:"folder_tree",icon:n(11377)},{name:"kebab",icon:n(8655)},{name:"folder_tree_add_new_folder",icon:n(77797)},{name:"folder_tree_rename_folder",icon:n(49115)},{name:"folder_tree_remove_folder",icon:n(64788)},{name:"folder_tree_copy_folder",icon:n(25066)},{name:"folder_tree_change_folder_rights",icon:n(42957)},{name:"filter_icon",icon:n(67065)}])}};rk.ɵfac=function(e){return new(e||rk)(l["ɵɵinject"](Dn))},rk.ɵmod=l["ɵɵdefineNgModule"]({type:rk}),rk.ɵinj=l["ɵɵdefineInjector"]({imports:[[o.CommonModule,ui,Kw,Cy,IT.dp,St.Ps,He,B.ot,mi,Ow,pt.forRoot({i18n:Nw}),nM,NT]]}),rk=(0,a.gn)([(0,r.CrtModule)({viewElements:[ik]}),(0,a.w6)("design:paramtypes",[Dn])],rk),("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](rk,{declarations:[ik,VT],imports:[o.CommonModule,ui,Kw,Cy,IT.dp,St.Ps,He,B.ot,mi,Ow,pt,nM,NT],exports:[ik]}),l["ɵɵsetComponentScope"](VT,[o.NgClass,Jw,o.NgIf,Ge,ET],[u.X$]);const ak=["container"];function ok(e,t){1&e&&l["ɵɵelementContainer"](0)}function sk(e,t){1&e&&l["ɵɵelementContainer"](0)}const lk=function(e){return{$implicit:e}};function ck(e,t){if(1&e&&(l["ɵɵelementContainerStart"](0),l["ɵɵtemplate"](1,sk,1,0,"ng-container",5),l["ɵɵelementContainerEnd"]()),2&e){const e=t.$implicit;l["ɵɵnextContext"](3);const n=l["ɵɵreference"](2);l["ɵɵadvance"](1),l["ɵɵproperty"]("ngTemplateOutlet",n)("ngTemplateOutletContext",l["ɵɵpureFunction1"](2,lk,e))}}function dk(e,t){if(1&e&&(l["ɵɵelementContainerStart"](0),l["ɵɵtemplate"](1,ck,2,4,"ng-container",8),l["ɵɵelementContainerEnd"]()),2&e){const e=l["ɵɵnextContext"](2);l["ɵɵadvance"](1),l["ɵɵproperty"]("ngForOf",e.middleItems)}}function uk(e,t){1&e&&l["ɵɵelementContainer"](0)}const pk=function(e){return{$implicit:e,class:"last-item"}};function mk(e,t){if(1&e&&(l["ɵɵelementContainerStart"](0),l["ɵɵtemplate"](1,uk,1,0,"ng-container",5),l["ɵɵelementContainerEnd"]()),2&e){const e=l["ɵɵnextContext"](2),t=l["ɵɵreference"](2);l["ɵɵadvance"](1),l["ɵɵproperty"]("ngTemplateOutlet",t)("ngTemplateOutletContext",l["ɵɵpureFunction1"](2,pk,e.lastItem))}}const hk=function(e){return{collapsed:e}},gk=function(e){return{$implicit:e,hideSeparator:!0,class:"first-item"}};function fk(e,t){if(1&e&&(l["ɵɵelementStart"](0,"div",3,4),l["ɵɵtemplate"](2,ok,1,0,"ng-container",5),l["ɵɵtemplate"](3,dk,2,1,"ng-container",6),l["ɵɵtemplate"](4,mk,2,4,"ng-container",7),l["ɵɵelementEnd"]()),2&e){const e=l["ɵɵnextContext"](),t=l["ɵɵreference"](2),n=l["ɵɵreference"](4);l["ɵɵproperty"]("ngClass",l["ɵɵpureFunction1"](6,hk,e.collapsedBreadcrumbs)),l["ɵɵadvance"](2),l["ɵɵproperty"]("ngTemplateOutlet",t)("ngTemplateOutletContext",l["ɵɵpureFunction1"](8,gk,e.firstItem)),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",e.showAllBreadcrumbs)("ngIfElse",n),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",e.lastItem)}}function vk(e,t){1&e&&(l["ɵɵelementStart"](0,"span",11),l["ɵɵtext"](1,"/"),l["ɵɵelementEnd"]())}function bk(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵtemplate"](0,vk,2,0,"span",9),l["ɵɵelementStart"](1,"span",10),l["ɵɵlistener"]("click",(function(){const t=l["ɵɵrestoreView"](e).$implicit;return l["ɵɵnextContext"]().navigateToItem(t)})),l["ɵɵtext"](2),l["ɵɵelementEnd"]()}if(2&e){const e=t.$implicit,n=t.hideSeparator,i=t.class;let r;l["ɵɵproperty"]("ngIf",!n),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngClass",null!==(r=i)&&void 0!==r?r:""),l["ɵɵadvance"](1),l["ɵɵtextInterpolate1"](" ",e.caption," ")}}function Ck(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵelementStart"](0,"span",11),l["ɵɵtext"](1,"/"),l["ɵɵelementEnd"](),l["ɵɵelementStart"](2,"span",12),l["ɵɵlistener"]("click",(function(){l["ɵɵrestoreView"](e);const t=l["ɵɵnextContext"]();return t.navigateToItem(t.secondLastItem)})),l["ɵɵtext"](3,"..."),l["ɵɵelementEnd"]()}}let yk=(()=>{class e{constructor(e){this._changeDetector=e,this._changedBreadcrumbs=!1,this.collapsedBreadcrumbs=!0,this.itemClicked=new l.EventEmitter,this.middleItems=[]}set breadcrumbs(e){const t=null==e?void 0:e.length,n=t-1;this.firstItem=e[0]||null,this.lastItem=t>1?e[n]:null,this.secondLastItem=e[t-2]||null,this.middleItems=null==e?void 0:e.slice(1,n),this.showAllBreadcrumbs=!0,this._changedBreadcrumbs=!0,this._changeDetector.detectChanges()}_updateBreadcrumbsDisplay(){const e=this.container.nativeElement,t=e.scrollWidth>e.offsetWidth&&!!this.middleItems.length;this.showAllBreadcrumbs=!this.collapsedBreadcrumbs||!t,this._changedBreadcrumbs=!1,this._changeDetector.detectChanges()}navigateToItem(e){this.itemClicked.emit(e)}ngAfterViewChecked(){requestAnimationFrame((()=>{this._changedBreadcrumbs&&this._updateBreadcrumbsDisplay()}))}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](l.ChangeDetectorRef))},e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["crt-breadcrumbs"]],viewQuery:function(e,t){if(1&e&&l["ɵɵviewQuery"](ak,5),2&e){let e;l["ɵɵqueryRefresh"](e=l["ɵɵloadQuery"]())&&(t.container=e.first)}},inputs:{breadcrumbs:"breadcrumbs",collapsedBreadcrumbs:"collapsedBreadcrumbs"},outputs:{itemClicked:"itemClicked"},decls:5,vars:1,consts:[["class","breadcrumbs-container",3,"ngClass",4,"ngIf"],["breadcrumbItem",""],["hiddenBreadcrumbs",""],[1,"breadcrumbs-container",3,"ngClass"],["container",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngIf","ngIfElse"],[4,"ngIf"],[4,"ngFor","ngForOf"],["class","separator",4,"ngIf"],[1,"breadcrumb",3,"ngClass","click"],[1,"separator"],[1,"breadcrumb","truncate",3,"click"]],template:function(e,t){1&e&&(l["ɵɵtemplate"](0,fk,5,10,"div",0),l["ɵɵtemplate"](1,bk,3,3,"ng-template",null,1,l["ɵɵtemplateRefExtractor"]),l["ɵɵtemplate"](3,Ck,4,0,"ng-template",null,2,l["ɵɵtemplateRefExtractor"])),2&e&&l["ɵɵproperty"]("ngIf",t.firstItem)},directives:[o.NgIf,o.NgClass,o.NgTemplateOutlet,o.NgForOf],styles:[".breadcrumbs-container[_ngcontent-%COMP%]{display:block;max-width:100%;margin:8px 16px;min-width:16px}.breadcrumbs-container[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%], .breadcrumbs-container.collapsed[_ngcontent-%COMP%]{white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.breadcrumbs-container[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%]{background-color:transparent;border:none;cursor:pointer;display:initial;max-width:100%;vertical-align:top}.breadcrumbs-container[_ngcontent-%COMP%]   .breadcrumb.last-item[_ngcontent-%COMP%]{cursor:default;pointer-events:none}.breadcrumbs-container[_ngcontent-%COMP%]   .breadcrumb.first-item[_ngcontent-%COMP%]{display:inline-block;max-width:40%}.breadcrumbs-container[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{padding:0 4px}"],changeDetection:0}),e})(),wk=(()=>{class e{}return e.ɵfac=function(t){return new(t||e)},e.ɵmod=l["ɵɵdefineNgModule"]({type:e}),e.ɵinj=l["ɵɵdefineInjector"]({imports:[[o.CommonModule]]}),e})();("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](wk,{declarations:[yk],imports:[o.CommonModule],exports:[yk]});var _k=n(75339);function xk(e,t){if(1&e&&l["ɵɵelement"](0,"crt-skeleton-loader",2),2&e){const e=l["ɵɵnextContext"]();l["ɵɵproperty"]("styles",e.skeletonStyles)}}function Ik(e,t){1&e&&(l["ɵɵelementStart"](0,"div",15),l["ɵɵtext"](1),l["ɵɵpipe"](2,"translate"),l["ɵɵelementEnd"]()),2&e&&(l["ɵɵadvance"](1),l["ɵɵtextInterpolate1"](" ",l["ɵɵpipeBind1"](2,1,"FolderTreeActions.MenuButton")," "))}function Sk(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵelementStart"](0,"div",16),l["ɵɵelementStart"](1,"div",17),l["ɵɵelementStart"](2,"span"),l["ɵɵtext"](3),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵelementStart"](4,"div",7),l["ɵɵelementStart"](5,"button",18),l["ɵɵlistener"]("click",(function(){l["ɵɵrestoreView"](e);return l["ɵɵnextContext"](2).onClearFolderButtonClicked()})),l["ɵɵpipe"](6,"translate"),l["ɵɵelementStart"](7,"div",7),l["ɵɵelement"](8,"mat-icon",19),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵelementEnd"]()}if(2&e){const e=l["ɵɵnextContext"](2);l["ɵɵadvance"](1),l["ɵɵproperty"]("matTooltip",e.activeFolderName),l["ɵɵadvance"](2),l["ɵɵtextInterpolate"](e.activeFolderName),l["ɵɵadvance"](2),l["ɵɵattribute"]("aria-label",l["ɵɵpipeBind1"](6,3,"FolderTreeActions.ClearButtonAriaLabel"))}}const Mk=function(e){return{$implicit:e}};function Dk(e,t){if(1&e&&(l["ɵɵelementStart"](0,"div",3),l["ɵɵelementStart"](1,"div",4),l["ɵɵelementStart"](2,"button",5),l["ɵɵpipe"](3,"translate"),l["ɵɵelementStart"](4,"div",6),l["ɵɵelementStart"](5,"div",7),l["ɵɵelement"](6,"mat-icon",8),l["ɵɵelementEnd"](),l["ɵɵtemplate"](7,Ik,3,3,"div",9),l["ɵɵelementStart"](8,"div",7),l["ɵɵelement"](9,"mat-icon",10),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵelement"](10,"crt-menu",11,12),l["ɵɵelementEnd"](),l["ɵɵelementStart"](12,"div",13),l["ɵɵtemplate"](13,Sk,9,5,"div",14),l["ɵɵelementEnd"](),l["ɵɵelementEnd"]()),2&e){const e=l["ɵɵreference"](11),t=l["ɵɵnextContext"]();l["ɵɵadvance"](2),l["ɵɵproperty"]("crtMenuTriggerFor",e)("crtMenuTriggerData",l["ɵɵpureFunction1"](8,Mk,t.data)),l["ɵɵattribute"]("aria-label",l["ɵɵpipeBind1"](3,6,"FolderTreeActions.MenuButtonAriaLabel")),l["ɵɵadvance"](5),l["ɵɵproperty"]("ngIf",!t.activeFolderId||!t.activeFolderName),l["ɵɵadvance"](3),l["ɵɵproperty"]("menuItems",t.getMenuItems()),l["ɵɵadvance"](3),l["ɵɵproperty"]("ngIf",t.activeFolderId&&t.activeFolderName)}}let Pk=class extends Us{constructor(e){super(e),this._folderTreeUserProfileEnabledFeatureState=void 0,this.skeletonStyles={height:"20px"},this.activeFolderChanged=new l.EventEmitter,this.folderTreeVisibleChanged=new l.EventEmitter,this._initDependencies(e)}get _showFolderTreeMenuItem(){return{type:"action",caption:this._translate.instant("FolderTreeActions.ShowFolderTreeMenuItem"),icon:"folder-tree-actions-menu-eye",code:"showFolderTree",handler:()=>{this.folderTreeVisibleChanged.emit({visible:!0})}}}set favoriteItems(e){Promise.all((null!=e?e:[]).map((e=>(0,a.mG)(this,void 0,void 0,(function*(){return{id:yield e.Id,name:yield e.Name,folderTreeId:yield e.FolderTreeId,filterData:yield e.FilterData}}))))).then((e=>{this._favoriteItems=e,this._updateActiveFolderName()}))}set loading(e){void 0===this._folderTreeUserProfileEnabledFeatureState?(super.loading=!0,this._featureService.getFeatureState("FolderTreeUserProfileEnabled").subscribe({next:t=>{this._folderTreeUserProfileEnabledFeatureState=t,super.loading=e}})):super.loading=e}get loading(){return super.loading}_initDependencies(e){this._queryExecutor=e.get(ps),this._featureService=e.get(ls),this._translate=e.get(u.sK)}_updateActiveFolderName(){var e;if(this._folderTreeUserProfileEnabledFeatureState&&this.activeFolderId&&!this.activeFolderName)if(this.activeFolderFavoriteState){const t=null===(e=this._favoriteItems)||void 0===e?void 0:e.find((e=>e.id===this.activeFolderId));this.activeFolderChanged.emit({id:null==t?void 0:t.id,name:null==t?void 0:t.name,filterData:null==t?void 0:t.filterData,isFavorite:this.activeFolderFavoriteState})}else{const e=new r.EntitySchemaQuery("FolderTree");e.addSchemaColumn("Id"),e.addSchemaColumn("Name"),e.addSchemaColumn("FilterData"),e.filters.addSchemaColumnFilterWithParameter(r.ComparisonType.Equal,"Id",this.activeFolderId),this._queryExecutor.executeSelectQuery(e).subscribe((e=>{const t=(0,_k.Z)(e);this.activeFolderChanged.emit({id:null==t?void 0:t.Id,name:null==t?void 0:t.Name,filterData:null==t?void 0:t.FilterData,isFavorite:!1})}))}}getMenuItems(){return[this._showFolderTreeMenuItem]}onClearFolderButtonClicked(){this.activeFolderChanged.emit({id:"",name:"",filterData:"{}",isFavorite:!1})}};Pk.ɵfac=function(e){return new(e||Pk)(l["ɵɵdirectiveInject"](l.Injector))},Pk.ɵcmp=l["ɵɵdefineComponent"]({type:Pk,selectors:[["crt-folder-tree-actions"]],inputs:{caption:"caption",activeFolderId:"activeFolderId",activeFolderName:"activeFolderName",activeFolderFavoriteState:"activeFolderFavoriteState",favoriteItems:"favoriteItems"},outputs:{activeFolderChanged:"activeFolderChanged",folderTreeVisibleChanged:"folderTreeVisibleChanged"},features:[l["ɵɵInheritDefinitionFeature"]],decls:3,vars:2,consts:[[3,"styles",4,"ngIf","ngIfElse"],["folder_tree_actions",""],[3,"styles"],[1,"folder-tree-actions-container"],[1,"left-column"],["mat-flat-button","",1,"menu-button",3,"crtMenuTriggerFor","crtMenuTriggerData"],[1,"content"],[1,"mat-icon-tiny-wrapper"],["svgIcon","folder-tree-actions-menu-filter"],["class","caption",4,"ngIf"],["svgIcon","folder-tree-actions-menu-arrow"],[3,"menuItems"],["rowMenu",""],[1,"right-column"],["class","active-folder-control",4,"ngIf"],[1,"caption"],[1,"active-folder-control"],[1,"caption",3,"matTooltip"],["mat-icon-button","",1,"clear-button",3,"click"],["svgIcon","folder-tree-actions-filter-close"]],template:function(e,t){if(1&e&&(l["ɵɵtemplate"](0,xk,1,1,"crt-skeleton-loader",0),l["ɵɵtemplate"](1,Dk,14,10,"ng-template",null,1,l["ɵɵtemplateRefExtractor"])),2&e){const e=l["ɵɵreference"](2);l["ɵɵproperty"]("ngIf",t.loading)("ngIfElse",e)}},directives:[o.NgIf,di,B.lW,sw,St.Hw,Wy,Dt.gM],pipes:[u.X$],styles:[".folder-tree-actions-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;overflow:hidden}.menu-button[_ngcontent-%COMP%]{height:24px;min-width:16px}.menu-button[_ngcontent-%COMP%], .menu-button.mat-button-base[_ngcontent-%COMP%]{padding:0 8px}.menu-button[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;align-items:center;align-content:center;line-height:16px}.menu-button[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .caption[_ngcontent-%COMP%]{line-height:16px;height:16px;font-size:12px;text-transform:none;padding:0 8px}.active-folder-control[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;align-items:center;align-content:center;border-radius:12px;height:24px;padding:0 8px}.active-folder-control[_ngcontent-%COMP%]   .caption[_ngcontent-%COMP%]{line-height:17px;height:17px;font-size:12px;padding-inline-end:8px;display:inline-grid}.active-folder-control[_ngcontent-%COMP%]   .caption[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.active-folder-control[_ngcontent-%COMP%]   .clear-button[_ngcontent-%COMP%]{height:16px;width:16px}.mat-icon-tiny-wrapper[_ngcontent-%COMP%], .mat-icon-tiny-wrapper[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:16px;line-height:16px;width:16px}"]}),(0,a.gn)([(0,r.CrtInput)(),(0,a.w6)("design:type",Boolean),(0,a.w6)("design:paramtypes",[Boolean])],Pk.prototype,"loading",null),Pk=(0,a.gn)([Xs({type:"crt.FolderTreeActions"}),Ks({type:"crt.FolderTreeActions",toolbarConfig:[{name:"folder-tree",groupType:Mu.Components,position:40,caption:"Components.FolderTreeActions.Caption",hint:"Components.FolderTreeActions.Hint",icon:n(32935),defaultPropertyValues:{caption:"",folderTree:null},defaultLocalizableStrings:{caption:"Components.FolderTreeActions.Caption"}}],interfaceDesignerPropertiesPanelSchemaName:"InterfaceDesignerFolderTreeActionsPropertiesPanel",propertiesPanelComponentTypeName:"crt.FolderTreeActionsPropertiesPanel"}),(0,a.w6)("design:paramtypes",[l.Injector])],Pk);let Tk=class{constructor(e){this._materialIconsRegistrator=e,this._registerIcons()}_registerIcons(){this._materialIconsRegistrator.addIcons([{name:"folder-tree-actions-menu-arrow",icon:n(29265)},{name:"folder-tree-actions-menu-eye",icon:n(75567)},{name:"folder-tree-actions-menu-filter",icon:n(16044)},{name:"folder-tree-actions-filter-close",icon:n(28283)}])}};Tk.ɵfac=function(e){return new(e||Tk)(l["ɵɵinject"](Dn))},Tk.ɵmod=l["ɵɵdefineNgModule"]({type:Tk}),Tk.ɵinj=l["ɵɵdefineInjector"]({imports:[[o.CommonModule,St.Ps,B.ot,Dt.AV,Cy,ui,Ow,Kw,pt.forRoot({i18n:Nw})]]}),Tk=(0,a.gn)([(0,r.CrtModule)({viewElements:[Pk]}),(0,a.w6)("design:paramtypes",[Dn])],Tk),("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](Tk,{declarations:[Pk],imports:[o.CommonModule,St.Ps,B.ot,Dt.AV,Cy,ui,Ow,Kw,pt],exports:[Pk]});const kk=[Kw,pI,Nx,pD,vT,UD,aP,DP,nM,pM,cx,QP,tM,M_,LD,gx,xT,rk,Tk,Ow],Ek=[...kk,C_,hM,NT,wk];let Nk=class{};Nk.ɵfac=function(e){return new(e||Nk)},Nk.ɵmod=l["ɵɵdefineNgModule"]({type:Nk}),Nk.ɵinj=l["ɵɵdefineInjector"]({imports:[Ek,Kw,pI,Nx,pD,vT,UD,aP,DP,nM,pM,cx,QP,tM,M_,LD,gx,xT,rk,Tk,Ow,C_,hM,NT,wk]}),Nk=(0,a.gn)([(0,r.CrtModule)({includes:kk})],Nk),("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](Nk,{imports:[Kw,pI,Nx,pD,vT,UD,aP,DP,nM,pM,cx,QP,tM,M_,LD,gx,xT,rk,Tk,Ow,C_,hM,NT,wk],exports:[Kw,pI,Nx,pD,vT,UD,aP,DP,nM,pM,cx,QP,tM,M_,LD,gx,xT,rk,Tk,Ow,C_,hM,NT,wk]});const Ok=new l.InjectionToken("A cell view config factory");let jk=(()=>{class e{constructor(e,t,n){this.structureExplorer=e,this.schemaService=t,this.cellViewConfigCreatorFactory=n}_openStructureExplorer(e){return this.structureExplorer.show({providers:[e],enableMultiSelection:!0,collectDrillDownItems:!0})}_getColumnCaptionResourceMacros(e,t){return`#ResourceString(${e}_${t.split(".").join("")})#`}_getStructureExplorerDataProviderConfig(e,t){const n=e.getBoundDataSourceNameByAttributePath(t);return{name:My,navigateOnlyThroughDataSource:n}}createColumnDefinition(e){const{structureExplorerItem:t,dataSourceName:n}=e,i=t.columnPath,a=`${n}_${i}`,o=t.data.dataValueType,s={id:(0,r.generateGuid)(),code:a,caption:this._getColumnCaptionResourceMacros(n,i),dataValueType:o};return Object.assign({},s)}getItemsAttributeName(e){const t=e.get(il);return Bp(this.schemaService.getViewConfigInfoByName(t.name).viewConfig)}selectColumns(e){const t=e.get(tl).viewModel$.pipe((0,Tn.q)(1)),n=this.getItemsAttributeName(e);if(!n)return(0,h.of)([]);const i=t.pipe((0,g.U)((e=>null==e?void 0:e.getBoundDataSourceNameByAttributePath(n)))),r=t.pipe((0,g.U)((e=>this._getStructureExplorerDataProviderConfig(e,n))),(0,Pn.w)((e=>this._openStructureExplorer(e))));return(0,h.forkJoin)([r,i]).pipe((0,g.U)((([e,t])=>e.filter((e=>e.id!==t)).map((e=>this.createColumnDefinition({structureExplorerItem:e,dataSourceName:t}))))))}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](Er),l["ɵɵinject"](Fp),l["ɵɵinject"](Ok))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})();class Ak{getDisplayValue(e){const{column:t,itemsAttributeName:n}=null!=e?e:{};return`${n}.${null==t?void 0:t.code}`}getViewElementConfig(e){return(0,a.mG)(this,void 0,void 0,(function*(){const{column:t}=null!=e?e:{};return{column:Object.assign({},t),value:this.getDisplayValue(e),type:this.type}}))}}let Rk=(()=>{class e extends Ak{constructor(){super(...arguments),this.type="crt.TableTextCell"}}return e.ɵfac=function(){let t;return function(n){return(t||(t=l["ɵɵgetInheritedFactory"](e)))(n||e)}}(),e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"root"}),e})(),Fk=(()=>{class e extends Ak{constructor(){super(...arguments),this.type="crt.TableDateTimeCell"}}return e.ɵfac=function(){let t;return function(n){return(t||(t=l["ɵɵgetInheritedFactory"](e)))(n||e)}}(),e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"root"}),e})(),Vk=(()=>{class e extends Ak{constructor(){super(...arguments),this.type="crt.TableNumericCell"}}return e.ɵfac=function(){let t;return function(n){return(t||(t=l["ɵɵgetInheritedFactory"](e)))(n||e)}}(),e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"root"}),e})(),Lk=(()=>{class e extends Ak{constructor(){super(),this.type="crt.Link"}hasSectionEditPage(e){return(0,a.mG)(this,void 0,void 0,(function*(){const t=yield this.getReferenceSchemaName(e),n={type:"crt.7XRequest",action:"HasEntityEditPage",$context:e.context,payload:{entityName:t}};return yield r.HandlerChainService.instance.process(n)}))}getViewElementConfig(e){const t=Object.create(null,{getViewElementConfig:{get:()=>super.getViewElementConfig}});return(0,a.mG)(this,void 0,void 0,(function*(){if(yield this.hasSectionEditPage(e))return this.getLinkViewElementConfig(e);{const n=yield t.getViewElementConfig.call(this,e);return n.type="crt.TableTextCell",n}}))}}return e.ɵfac=function(t){return new(t||e)},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})(),zk=(()=>{class e extends Lk{constructor(){super()}getReferenceSchemaName(e){var t;return(0,a.mG)(this,void 0,void 0,(function*(){const n=null!==(t=null==e?void 0:e.primaryAttributeName)&&void 0!==t?t:"",i=yield Sc(e.context,e.itemsAttributeName.substring(1)+"."+n);return null==i?void 0:i.referenceSchemaName}))}getLinkViewElementConfig(e){const{itemsAttributeName:t,primaryAttributeName:n,column:i}=e;return{column:i,caption:this.getDisplayValue(e),type:this.type,href:`${t}.${n} | crt.ToRecordLinkAsync : '${n}'`,mode:"preventDefault",clicked:{request:"crt.UpdateRecordRequest",params:{itemsAttributeName:t.slice(1),recordId:`${t}.${n}`}}}}}return e.ɵfac=function(t){return new(t||e)},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"root"}),e})(),Bk=(()=>{class e extends Lk{constructor(){super(),this.type="crt.Link"}getDisplayValue(e){return`${super.getDisplayValue(e)} | crt.ToObjectProp : 'displayValue'`}getReferenceSchemaName(e){var t;return(0,a.mG)(this,void 0,void 0,(function*(){const n=null!==(t=null==e?void 0:e.column.code)&&void 0!==t?t:"",i=yield Sc(e.context,e.itemsAttributeName.substring(1)+"."+n);return null==i?void 0:i.referenceSchemaName}))}getLinkViewElementConfig(e){var t;const{itemsAttributeName:n,column:i}=e,r=this.getDisplayValue(e),a=null!==(t=null==i?void 0:i.code)&&void 0!==t?t:"";return{caption:r,href:`${n}.${a} | crt.ToObjectProp : 'value' | crt.ToRecordLinkAsync : '${a}'`,column:Object.assign({},i),type:"crt.Link",mode:"native"}}}return e.ɵfac=function(t){return new(t||e)},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"root"}),e})(),Gk=(()=>{class e extends Ak{constructor(){super(...arguments),this.type="crt.TableBooleanCell"}}return e.ɵfac=function(){let t;return function(n){return(t||(t=l["ɵɵgetInheritedFactory"](e)))(n||e)}}(),e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"root"}),e})(),Hk=(()=>{class e extends Ak{constructor(){super(),this.type="crt.Link"}getViewElementConfig(e){const t=Object.create(null,{getViewElementConfig:{get:()=>super.getViewElementConfig}});return(0,a.mG)(this,void 0,void 0,(function*(){const{itemsAttributeName:n,primaryAttributeName:i}=null!=e?e:{};e.primaryDisplayAttributeName=`${n}_${e.primaryDisplayAttributeName}`.replace("$","");const r=yield t.getViewElementConfig.call(this,e);return r.href=`${r.value} | crt.ToEmailLink`,r.caption=`${r.value}`,r.mode="preventDefault",r.clicked={request:"crt.EmailLinkClickRequest",params:{emailAddress:`${r.value}`,recordId:`${n}.${i}`,primaryAttributeName:`${i}`,primaryDisplayName:`${n}.${e.primaryDisplayAttributeName}`}},r}))}}return e.ɵfac=function(t){return new(t||e)},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"root"}),e})(),Uk=(()=>{class e extends Ak{constructor(){super(),this.type="crt.Link"}_isTelephonyEnabled(){return(0,a.mG)(this,void 0,void 0,(function*(){return yield r.HandlerChainService.instance.process({type:"crt.7XRequest",action:"IsTelephonyEnabled",$context:null,$initialEvent:{}})}))}getViewElementConfig(e){const t=Object.create(null,{getViewElementConfig:{get:()=>super.getViewElementConfig}});return(0,a.mG)(this,void 0,void 0,(function*(){const n=yield t.getViewElementConfig.call(this,e);n.href=`${n.value} | crt.ToPhoneLink`,n.caption=n.value;return(yield this._isTelephonyEnabled())?(n.mode="preventDefault",n.clicked={request:"crt.PhoneLinkClickRequest",params:{phoneNumber:n.value}}):n.mode="native",n}))}}return e.ɵfac=function(t){return new(t||e)},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"root"}),e})();const Zk=st.create({token:Ok,mappings:[{predicate:({columnName:e,primaryDisplayAttributeName:t})=>e&&e===t,injectable:zk},{predicate:({dataValueType:e})=>r.DATE_TIME_DATA_VALUE_TYPES.includes(e),injectable:Fk},{predicate:({dataValueType:e})=>r.NUMERIC_DATA_VALUE_TYPES.includes(e),injectable:Vk},{predicate:({dataValueType:e})=>e===r.DataValueType.Lookup,injectable:Bk},{predicate:({dataValueType:e})=>e===r.DataValueType.Boolean,injectable:Gk},{predicate:({columnName:e})=>/email/gi.test(e),injectable:Hk},{predicate:({columnName:e})=>/phone/gi.test(e),injectable:Uk}],default:Rk});let $k=class extends r.BaseRequest{};$k=(0,a.gn)([(0,r.CrtRequest)({type:"crt.DataGridRowDoubleClickRequest"})],$k);let Wk=class extends r.BaseRequestHandler{_createUpdateRecordRequest(e){return{type:"crt.UpdateRecordRequest",$context:e.$context,recordId:e.rowId,itemsAttributeName:e.itemsAttributeName}}handle(e){return(0,a.mG)(this,void 0,void 0,(function*(){return yield this.handlerChain.process(this._createUpdateRecordRequest(e))}))}};Wk=(0,a.gn)([(0,r.CrtRequestHandler)({requestType:"crt.DataGridRowDoubleClickRequest",type:"crt.DataGridRowDoubleClickHandler"})],Wk);let qk=class{};qk.ɵfac=function(e){return new(e||qk)},qk.ɵmod=l["ɵɵdefineNgModule"]({type:qk}),qk.ɵinj=l["ɵɵdefineInjector"]({imports:[[o.CommonModule]]}),qk=(0,a.gn)([(0,r.CrtModule)({requestHandlers:[Wk]})],qk),("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](qk,{imports:[o.CommonModule]});let Yk=(()=>{class e{constructor(e){this.httpClient=e,this._getDcmServiceEndpoint="rest/DcmService/GetDcmStageColumnName",this._destroyed$=new h.Subject}ngOnDestroy(){this._destroyed$.next(),this._destroyed$.complete()}getStageColumnName(e){return this.httpClient.post(this._getDcmServiceEndpoint,{entitySchemaName:e}).pipe((0,b.R)(this._destroyed$),(0,g.U)((e=>e.GetDcmStageColumnNameResult)),(0,dr.K)((()=>(0,h.of)(null))))}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](s.HttpClient))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})(),Jk=(()=>{class e{constructor(e,t){this._featureService=e,this._dcmSettingsService=t,this._actionDashboardPreprocessingDisableFeature="DisableActionDashboardPreprocessing"}get isProcessingDisabled(){return this._featureService.getFeatureState(this._actionDashboardPreprocessingDisableFeature).toPromise()}_getStageColumnName(e){return(0,a.mG)(this,void 0,void 0,(function*(){return yield this._dcmSettingsService.getStageColumnName(e).toPromise()}))}_checkExistingAttribute(e,t){var n;let i=!1;for(const r in e)(null===(n=e[r].modelConfig)||void 0===n?void 0:n.path)===t&&(i=!0);return i}_addStageAttribute(e,t,n){const i=e.viewModelConfig.attributes||{},r=`${n}.${t}`;if(!this._checkExistingAttribute(i,r)){i[`LookupAttribute_${t}`]={modelConfig:{path:r}},e.viewModelConfig.attributes=i}}_extendWithDcmStageAttribute(e,t){return(0,a.mG)(this,void 0,void 0,(function*(){const n=yield this._getStageColumnName(t.viewConfig.entitySchemaName);n&&this._addStageAttribute(e,n,t.viewConfig.dataSourceName)}))}_getPrimaryModel(e,t){return t.find((t=>t.name===e))||t[0]}processItemsAsync(e,t,n){return(0,a.mG)(this,void 0,void 0,(function*(){const i=e.map((e=>(0,a.mG)(this,void 0,void 0,(function*(){const i=t.getDataSource(),r=yield t.getSchema().toPromise();e.viewConfig.dataSourceName=i.dataSourceName,e.viewConfig.entitySchemaName=r.name,e.viewConfig.primaryColumnValue=`$${r.primaryAttributeName}`,e.viewConfig.primaryDisplayColumnValue=`$${r.primaryDisplayAttributeName}`,yield this._extendWithDcmStageAttribute(n,e)}))));yield Promise.all(i)}))}crtOnMetaDataInit(e){return(0,a.mG)(this,void 0,void 0,(function*(){if(yield this.isProcessingDisabled)return e;const t=e;return Wa.getViewConfigInfoByProperty("type","crt.ActionDashboard",t.viewConfig).forEach((e=>{e.viewConfig.allowedActions||(e.viewConfig.allowedActions=nP())})),e}))}crtOnViewModelInit(e,t,n){return(0,a.mG)(this,void 0,void 0,(function*(){if((yield this.isProcessingDisabled)||0===t.length)return e;const i=e,r=Wa.getViewConfigInfoByProperty("type","crt.ActionDashboard",i.viewConfig),a=n,o=yield a.getPrimaryModelName(),s=this._getPrimaryModel(o,t);return yield this.processItemsAsync(r,s,i),e}))}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](ls),l["ɵɵinject"](Yk))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})(),Qk=(()=>{class e{constructor(e,t){this._featureService=e,this._configurationDataService=t,this._getMenuItem=(e,t)=>({type:"crt.MenuItem",caption:e.captionLcz,clicked:{request:"crt.CreateRecordRequest",params:{entityName:t,entityPageName:e.cardSchemaName}}})}_getEntityName(e,t){const n=e.viewConfig.clicked.params;let i=n.entityName;if(!i){const e=n.itemsAttributeName;if(e){const n=t.getBoundDataSourceNameByAttributePath(e),r=t.dataSchemas[n];i=null==r?void 0:r.name}}return i}_getButtonsWithCreateRecordRequest(e){return Wa.getViewConfigInfoByProperty("type","crt.Button",e.viewConfig).filter((e=>{const t=e.viewConfig.clicked;return(null==t?void 0:t.params)&&"crt.CreateRecordRequest"===t.request}))}_fillMenuItems(e,t){var n,i,r,o;return(0,a.mG)(this,void 0,void 0,(function*(){const a=this._getEntityName(e,t);if(!a)return;const s=yield this._configurationDataService.getEntityData(a).toPromise(),l=(null===(i=null===(n=s.data)||void 0===n?void 0:n.entityStructure)||void 0===i?void 0:i.pages)||[];if(l.length>1){e.viewConfig.clickMode="menu";const t=l.map((e=>this._getMenuItem(e,a)));null!==(r=(o=e.viewConfig).menuItems)&&void 0!==r||(o.menuItems=[]),e.viewConfig.menuItems.splice(0,0,...t)}}))}_getFeatureState(){return this._featureService.getFeatureState("DisableCreateTypedPageMenuItemsPreprocessor").toPromise()}crtOnViewModelInit(e,t,n){return(0,a.mG)(this,void 0,void 0,(function*(){if(yield this._getFeatureState())return e;const t=e,i=this._getButtonsWithCreateRecordRequest(t);return yield Promise.all(i.map((e=>(0,a.mG)(this,void 0,void 0,(function*(){yield this._fillMenuItems(e,n)}))))),e}))}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](ls),l["ɵɵinject"](cs))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})();function Kk(e,t){return"string"==typeof e&&e.startsWith("$")&&null!=t&&null!=t[e.slice(1)]}function Xk(e){const{viewConfig:t}=e;return Wa.getViewConfigInfoByProperty("type","crt.DataGrid",t).filter((e=>Boolean(e))).map((({viewConfig:e})=>e)).filter((({name:e})=>e))||[]}function eE(e){const{viewModelConfig:t}=e;return Xk(e).filter((({items:e})=>Kk(e,t.attributes)))}let tE=(()=>{class e{constructor(e,t,n,i){this._featureService=e,this._sysSettingsService=t,this._translateService=n,this._dataSchemaRepository=i,this._comboboxActionsProcessingDisableFeature="DisableComboboxActionsPreprocessing"}_extendWithList(e,t){e.showList={request:"crt.LoadDataRequest",params:{dataSourceName:`${t}_DS`,config:{loadType:"reload"},parameters:[],viewElement:"@event.viewElement",filterValue:"@event.filterValue"}}}_extendWithListActions(e,t){if(!e.listActions&&(e.listActions=[],e.isAddAllowed)){const t=Object.assign(Object.assign({},V_),{name:wt.generateUnique("ListAction")});e.listActions.push(t)}const n=e.listActions.find((e=>e.code===D_.AddRecord));if(n){const i=e.attributeName;n.clicked.params={itemsAttributeName:`${t}`,attributeName:`${i}`,detail:"@event.detail"}}}_extendWithControlActions(e,t){if(!e.controlActions&&(e.controlActions=[],e.isGoToSourceAllowed)){const t=Object.assign(Object.assign({},L_),{name:wt.generateUnique("ControlAction")});e.controlActions.push(t)}const n=e.controlActions.find((e=>e.code===D_.GoToRecordList));n&&(n.clicked.params={itemsAttributeName:`${t}`})}_getReferenceSchemaName(e,t){const n=e.items.slice(1);return t.getBoundDataSchema(n).name}_formBusinessRuleFilterAttributeName(e){return`${e}_BusinessRule_Filter`}_extendWithLinkViewConfig(e,t){const n=this._translateService.instant("ComboBox.EmptyDisplayValue"),i=e.attributeName;e.linkViewConfig={type:"crt.Link",mode:"native",caption:`$${i} | crt.ToObjectProp : 'displayValue' : '${n}'`,href:`$${i} | crt.ToObjectProp : 'value' | crt.ToRecordLinkAsync : '${t}'`}}_extendCombobox(e,t){this._extendWithList(e,t),this._extendWithListActions(e,t),this._extendWithControlActions(e,t)}_checkEditPagesAndExtendWithLinkViewConfig(e,t){return(0,a.mG)(this,void 0,void 0,(function*(){if(!e.showValueAsLink)return;if(yield this.hasSectionEditPage(e,t)){const t=e.items.slice(1);this._extendWithLinkViewConfig(e,t)}}))}_addListAttribute(e,t){e[t]||(e[t]={isCollection:!0,isLookup:!0})}_addBusinessRuleListFilterAttribute(e,t){const n=this._formBusinessRuleFilterAttributeName(t);e[n]||(e[n]={value:{}})}_setBusinessRuleLookupFilterConfig(e,t){var n;const i=e[t],r=[...new Set([...(null===(n=i.businessRulesConfig)||void 0===n?void 0:n.lookupFilters)||[],this._formBusinessRuleFilterAttributeName(`${t}_List`)])];i.businessRulesConfig=Object.assign(Object.assign({},i.businessRulesConfig),{lookupFilters:r})}_setEmbeddedModel(e,t){var n;return(0,a.mG)(this,void 0,void 0,(function*(){const{vmListAttribute:i,model:r,comboboxAttributeName:a}=e,o=(yield r.getSchema().toPromise()).attributes,s={name:`${a}_List_DS`,config:{type:"crt.EntityDataSource",config:{entitySchemaName:null===(n=o.find((({name:e})=>e===t)))||void 0===n?void 0:n.referenceSchemaName}}};i.embeddedModel=s}))}_setViewModelConfig(e,t){return(0,a.mG)(this,void 0,void 0,(function*(){const{vmListAttribute:n,model:i,comboboxAttributeName:r}=e,a=(yield i.getSchema().toPromise()).findAttributeByName(t),o=yield this._dataSchemaRepository.get(a.referenceSchemaName).toPromise(),s={attributes:{value:{modelConfig:{path:`${r}_List_DS.${o.primaryAttributeName}`}},displayValue:{modelConfig:{path:`${r}_List_DS.${o.primaryDisplayAttributeName}`}}}};n.viewModelConfig=s}))}_setModelConfig(e,t){return(0,a.mG)(this,void 0,void 0,(function*(){const{vmListAttribute:n,model:i,comboboxAttributeName:r}=e,a=(yield i.getSchema().toPromise()).findAttributeByName(t),o=yield this._dataSchemaRepository.get(a.referenceSchemaName).toPromise(),s=yield this._sysSettingsService.getByCode("DropdownPageSize").pipe((0,g.U)((e=>e.value)),(0,dr.K)((()=>(0,h.of)(50)))).toPromise(),l={path:`${r}_List_DS`,sortingConfig:{attributeName:`${r}_List_Sorting`,default:[{columnName:o.primaryDisplayAttributeName,direction:"asc"}]},pagingConfig:{rowCount:s,rowsOffset:null},filterAttributes:[{name:this._formBusinessRuleFilterAttributeName(`${r}_List`),loadOnChange:!0}]};n.modelConfig=l}))}_setComboboxListAttribute({schema:e,models:t,comboboxAttributeName:n}){var i,r;return(0,a.mG)(this,void 0,void 0,(function*(){const a=e.viewModelConfig.attributes,o=null===(i=a[n].modelConfig)||void 0===i?void 0:i.path.split(".")[0],s=null===(r=a[n].modelConfig)||void 0===r?void 0:r.path.split(".").pop(),l={vmListAttribute:a[`${n}_List`],model:t.find((e=>e.name===o)),comboboxAttributeName:n};this._setEmbeddedModel(l,s),this._setViewModelConfig(l,s),yield this._setModelConfig(l,s)}))}_setComboboxListSortingAttribute(e,t){e.viewModelConfig.attributes[`${t}_List_Sorting`]={isCollection:!0,viewModelConfig:{attributes:{columnName:{},direction:{}}}}}hasSectionEditPage(e,t){return(0,a.mG)(this,void 0,void 0,(function*(){const n=this._getReferenceSchemaName(e,t),i={type:"crt.7XRequest",action:"HasEntityEditPage",$context:t,payload:{entityName:n}};return yield r.HandlerChainService.instance.process(i)}))}get _isProcessingDisabled(){return this._featureService.getFeatureState(this._comboboxActionsProcessingDisableFeature).toPromise()}crtOnMetaDataInit(e){return(0,a.mG)(this,void 0,void 0,(function*(){if(yield this._isProcessingDisabled)return e;const t=e;return Wa.getViewConfigInfoByProperty("type","crt.ComboBox",t.viewConfig).forEach((e=>{const n=e.viewConfig.control,i=t.viewModelConfig.attributes;if(Kk(n,i)){const t=n.slice(1);this._setBusinessRuleLookupFilterConfig(i,t);const r=e.viewConfig.items,a=`${t}_List`;Kk(r,i)?i[r.slice(1)].isLookup=!0:(this._addListAttribute(i,a),e.viewConfig.items=`$${a}`),this._addBusinessRuleListFilterAttribute(i,a),e.viewConfig.attributeName=t,this._extendCombobox(e.viewConfig,a)}})),e}))}crtOnModelInit(e,t){return(0,a.mG)(this,void 0,void 0,(function*(){if(yield this._isProcessingDisabled)return e;const n=e,i=Wa.getViewConfigInfoByProperty("type","crt.ComboBox",n.viewConfig);for(const e of i){const i=e.viewConfig.control;if(Kk(i,n.viewModelConfig.attributes)){const e=i.slice(1);this._setComboboxListSortingAttribute(n,e),yield this._setComboboxListAttribute({schema:n,models:t,comboboxAttributeName:e})}}return e}))}crtOnViewModelInit(e,t,n){return(0,a.mG)(this,void 0,void 0,(function*(){if(yield this._isProcessingDisabled)return e;const t=e,i=t.viewModelConfig,r=Wa.getViewConfigInfoByProperty("type","crt.ComboBox",t.viewConfig);for(const e of r){Kk(e.viewConfig.items,i.attributes)&&(yield this._checkEditPagesAndExtendWithLinkViewConfig(e.viewConfig,n))}return e}))}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](ls),l["ɵɵinject"](ws),l["ɵɵinject"](u.sK),l["ɵɵinject"](Kl))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})(),nE=(()=>{class e{constructor(e,t,n){this._cellViewConfigCreatorFactory=e,this._featureService=t,this._metadataModifierService=n,this._featureName="DisableDataGridCellViewPreprocessing"}_createColumnDefinitions(e){const{dataSchema:t}=e,n=t.attributes.map((t=>Gp(e,t,this._cellViewConfigCreatorFactory)));return(0,h.forkJoin)(n)}_getColumnDefinitions(e,t){return(0,a.mG)(this,void 0,void 0,(function*(){const n=e,i=(0,h.of)(t),r=Bp(n);if(!r)return[];const a=i.pipe((0,g.U)((e=>null==e?void 0:e.getBoundDataSourceName(r)))),o=i.pipe((0,g.U)((e=>null==e?void 0:e.getBoundDataSchema(r)))),s=n.items,l=n.columns;return yield(0,h.forkJoin)([a,o]).pipe((0,Pn.w)((([e,n])=>e&&n?this._createColumnDefinitions({dataSourceName:e,dataSchema:n,itemsAttributeName:s,viewModel:t}):(0,h.of)(l)))).toPromise()}))}_getColumnCaptionResourceMacros(e,t){return`#ResourceString(${e}_${t})#`}crtOnViewModelInit(e,t,n){var i,r;return(0,a.mG)(this,void 0,void 0,(function*(){if(yield this._featureService.getFeatureState(this._featureName).toPromise())return e;const t=Wa.getViewConfigInfoByProperty("type","crt.DataGrid",e.viewConfig).map((e=>(0,a.mG)(this,void 0,void 0,(function*(){const t=yield this._getColumnDefinitions(e.viewConfig,n);return[e,t]}))));try{for(var o,s=(0,a.KL)(t);!(o=yield s.next()).done;){const[e,t]=o.value,n=e.viewConfig.columns;Array.isArray(n)&&e.viewConfig.columns.forEach((e=>{const n=t.find((t=>t.code===e.code));e.cellView||this._metadataModifierService.addProperty(e,"cellView",null==n?void 0:n.cellView)}))}}catch(e){i={error:e}}finally{try{o&&!o.done&&(r=s.return)&&(yield r.call(s))}finally{if(i)throw i.error}}return e}))}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](Ok),l["ɵɵinject"](ls),l["ɵɵinject"](Od))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})();class iE{static getPaginationChange(e){return{request:"crt.LoadDataRequest",params:{dataSourceName:e,parameters:[]}}}static getDefaultPagingConfig(){return{rowCount:30}}}let rE=(()=>{class e{constructor(e){this._featureService=e,this._featureName="DisableDataGridPagingPreprocessing"}_setPaginationChange(e,t){if(e.paginationChange)return;const n=e.items.slice(1),i=t.getBoundDataSourceNameByAttributePath(n);e.paginationChange=iE.getPaginationChange(i)}_setPagingConfig(e,t){var n,i;const r=e.items.slice(1),a=null===(i=(null===(n=null==t?void 0:t.viewModelConfig)||void 0===n?void 0:n.attributes)[r])||void 0===i?void 0:i.modelConfig;a&&!(null==a?void 0:a.pagingConfig)&&(a.pagingConfig=iE.getDefaultPagingConfig())}get _isFeatureDisabled(){return this._featureService.getFeatureState(this._featureName).toPromise()}crtOnMetaDataInit(e){return(0,a.mG)(this,void 0,void 0,(function*(){if(yield this._isFeatureDisabled)return e;const t=e,n=eE(e);for(const e of n)this._setPagingConfig(e,t);return e}))}crtOnViewModelInit(e,t,n){return(0,a.mG)(this,void 0,void 0,(function*(){if(yield this._isFeatureDisabled)return e;const t=eE(e);for(const e of t)this._setPaginationChange(e,n);return e}))}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](ls))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})(),aE=(()=>{class e{constructor(e){this._featureService=e,this._featureName="DisableDataGridPlaceholderPreprocessing"}crtOnMetaDataInit(e){return(0,a.mG)(this,void 0,void 0,(function*(){if(yield this._featureService.getFeatureState(this._featureName).toPromise())return e;const{viewModelConfig:t}=e;return Xk(e).filter((({items:e})=>!Kk(e,t.attributes))).filter((({placeholder:e})=>null==e)).forEach((e=>{e.placeholder=!0})),e}))}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](ls))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})(),oE=(()=>{class e{constructor(e){this._featureService=e,this._featureName="DisableDataGridRowDoubleClickPreprocessing"}_hasSectionEditPage(e,t){return(0,a.mG)(this,void 0,void 0,(function*(){const n={type:"crt.7XRequest",action:"HasEntityEditPage",$context:t,payload:{entityName:e}};return yield r.HandlerChainService.instance.process(n)}))}_getReferenceSchemaName(e,t){return(0,a.mG)(this,void 0,void 0,(function*(){const n=yield Sc(t,e);return null==n?void 0:n.referenceSchemaName}))}_getPrimaryAttributeName(e,t){const n=Bp(e),i=t.getBoundDataSourceNameByAttributePath(n),r=t.getBoundDataSchemaByAttributePath(n),{primaryAttributeName:a}=null!=r?r:{};return a?`${i}_${a}`:""}_isPageExists(e,t){return(0,a.mG)(this,void 0,void 0,(function*(){const n=this._getPrimaryAttributeName(e,t),i=yield this._getReferenceSchemaName(n,t);return yield this._hasSectionEditPage(i,t)}))}_getDataGridViewConfigs(e,t){return(0,a.mG)(this,void 0,void 0,(function*(){const n=eE(e);return(yield Promise.all(n.map((e=>this._isPageExists(e,t))))).reduce(((e,t,i)=>(t&&e.push(n[i]),e)),[])}))}crtOnViewModelInit(e,t,n){return(0,a.mG)(this,void 0,void 0,(function*(){if(yield this._featureService.getFeatureState(this._featureName).toPromise())return e;const t=yield this._getDataGridViewConfigs(e,n);for(const e of t)e.rowDoubleClick={request:"crt.DataGridRowDoubleClickRequest",params:{itemsAttributeName:Bp(e),rowId:"@event.rowId"}};return e}))}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](ls))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})(),sE=(()=>{class e{constructor(e){this._featureService=e,this._featureName="DisableDataGridRowsSelectionPreprocessing"}_setSelectedRowsConfig(e,t){const n=this._getSelectedRowsAttributeName(t);n&&(this._setSelectedRowsInput(e,t,n),this._setSelectedRowsChangeOutput(t,n))}_setSelectedRowsInput(e,t,n){var i;e.viewModelConfig.attributes||(e.viewModelConfig.attributes={});const r=e.viewModelConfig.attributes;r[n]=null!==(i=r[n])&&void 0!==i?i:{},t.selectedRows=`$${n}`}_setSelectedRowsChangeOutput(e,t){e.selectedRowsChange||(e.selectedRowsChange={request:"crt.ChangeViewModelAttributeValueRequest",params:{attributeName:t,attributeValue:"@event"}})}_getSelectedRowsAttributeName(e){const t=e.selectedRows;return t?"string"==typeof t&&t.startsWith("$")?t.slice(1):null:this._generateSelectedRowsAttributeName(e)}_generateSelectedRowsAttributeName(e){const t=e.items;return"string"==typeof t&&t.startsWith("$")?`${t.slice(1)}SelectedRows`:null}crtOnMetaDataInit(e){return(0,a.mG)(this,void 0,void 0,(function*(){if(yield this._featureService.getFeatureState(this._featureName).toPromise())return e;const t=e,n=eE(e);for(const e of n)this._setSelectedRowsConfig(t,e);return e}))}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](ls))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})(),lE=(()=>{class e{constructor(e){this._featureService=e,this._featureName="DisableDataGridSortingPreprocessing"}_setSorting(e,t){if(e.sorting)return;const n=`${e.name.split(" ").join("").replace(/\./g,"_")}Sorting`,i=t.viewModelConfig.attributes;i[n]||(i[n]={});const r=`| crt.ToDataTableSortingConfig: '${e.items.slice(1)}'`;e.sorting=`$${n} ${r}`}_setSortingChange(e){if(e.sortingChange)return;const t=e.items.slice(1);e.sortingChange={request:"crt.DataGridSortDataRequest",params:{itemsAttributeName:t,sorting:"@event"}}}_setSortingConfig(e,t){var n,i,r;const a=e.items.slice(1),o=t.viewModelConfig.attributes;o[a]||(o[a]={});const s=(null===(n=null==t?void 0:t.viewModelConfig)||void 0===n?void 0:n.attributes)[a],l=null==s?void 0:s.modelConfig;l&&!(null===(i=l.sortingConfig)||void 0===i?void 0:i.attributeName)&&(s.modelConfig=Object.assign(Object.assign({},s.modelConfig),{sortingConfig:Object.assign(Object.assign({},null===(r=s.modelConfig)||void 0===r?void 0:r.sortingConfig),{attributeName:`${e.name.split(" ").join("").replace(/\./g,"_")}Sorting`})}))}setSortingValuesToViewConfig(e,t){this._setSorting(e,t),this._setSortingChange(e),this._setSortingConfig(e,t)}crtOnMetaDataInit(e){return(0,a.mG)(this,void 0,void 0,(function*(){if(yield this._featureService.getFeatureState(this._featureName).toPromise())return e;const t=e,n=eE(e);for(const e of n)this.setSortingValuesToViewConfig(e,t);return e}))}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](ls))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})(),cE=(()=>{class e{crtOnMetaDataInit(e){return(0,a.mG)(this,void 0,void 0,(function*(){const t=eE(e);for(const e of t)e.saveForAll={request:"crt.DataGridSaveConfigsForAllRequest",params:{dataGridName:e.name}},e.resetToDefault={request:"crt.DataGridResetConfigsToDefaultRequest",params:{dataGridName:e.name}};return e}))}}return e.ɵfac=function(t){return new(t||e)},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})(),dE=(()=>{class e{constructor(e){this._featureService=e,this._expPanelActionsProcessingDisableFeature="DisableExpansionPanelPreprocessing"}_filterItemsByGridType(e){var t;if(!e.items||0===e.items.length)return;const n=null!==(t=null==e?void 0:e.tools)&&void 0!==t?t:[],i=e.items.filter((e=>e.gridContainerType===PP.TOOLS));0===(null==n?void 0:n.length)&&(null==i?void 0:i.length)>0&&(e.items=e.items.filter((e=>e.gridContainerType!==PP.TOOLS)),e.tools=i)}get _isProcessingDisabled(){return this._featureService.getFeatureState(this._expPanelActionsProcessingDisableFeature).toPromise()}crtOnMetaDataInit(e){return(0,a.mG)(this,void 0,void 0,(function*(){if(yield this._isProcessingDisabled)return e;const t=e;return Wa.getViewConfigInfoByProperty("type","crt.ExpansionPanel",t.viewConfig).forEach((e=>{this._filterItemsByGridType(e.viewConfig)})),e}))}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](ls))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})(),uE=(()=>{class e{constructor(e){this._featureService=e}get _isShowFolderTreeFavoriteFeatureEnabled(){return this._featureService.getFeatureState("ShowFolderTreeFavoriteItems").toPromise()}_setProperties(e){return(0,a.mG)(this,void 0,void 0,(function*(){const t=e.viewConfig.folderTree,{activeFolderIdAttrName:n,activeFolderNameAttrName:i,activeFolderFavoriteStateAttrName:r,favoriteItemsAttrName:a}=rs(t);e.viewConfig.activeFolderId||(e.viewConfig.activeFolderId=t?`$${n}`:null),e.viewConfig.activeFolderName||(e.viewConfig.activeFolderName=t?`$${i}`:null),e.viewConfig.activeFolderFavoriteState||(e.viewConfig.activeFolderFavoriteState=t?`$${r}`:null),!e.viewConfig.favoriteItems&&(yield this._isShowFolderTreeFavoriteFeatureEnabled)&&(e.viewConfig.favoriteItems=t?`$${a}`:null)}))}_setActiveFolderChangedRequest(e){var t;e.viewConfig.activeFolderChanged||(e.viewConfig.activeFolderChanged={request:"crt.FolderTreeActiveFolderChangedRequest",params:{folderTreeName:null!==(t=e.viewConfig.folderTree)&&void 0!==t?t:null,id:"@event.id",name:"@event.name",filterData:"@event.filterData",isFavorite:"@event.isFavorite"}})}_setFolderTreeVisibleChangedRequest(e){var t;e.viewConfig.folderTreeVisibleChanged||(e.viewConfig.folderTreeVisibleChanged={request:"crt.FolderTreeVisibleRequest",params:{folderTreeName:null!==(t=e.viewConfig.folderTree)&&void 0!==t?t:null,visible:"@event.visible"}})}crtOnMetaDataInit(e){return(0,a.mG)(this,void 0,void 0,(function*(){const t=e,n=Wa.getViewConfigInfoByProperty("type","crt.FolderTreeActions",t.viewConfig);for(const e of n)yield this._setProperties(e),this._setActiveFolderChangedRequest(e),this._setFolderTreeVisibleChangedRequest(e);return e}))}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](ls))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})(),pE=(()=>{class e{constructor(e,t){this._featureService=e,this._userInfo=t,this._folderTreeProcessingDisableFeature="DisableFolderTreePreprocessing"}get _isProcessingDisabled(){return this._featureService.getFeatureState(this._folderTreeProcessingDisableFeature).toPromise()}get _isShowFolderTreeFavoriteFeatureEnabled(){return this._featureService.getFeatureState("ShowFolderTreeFavoriteItems").toPromise()}_setActiveFolderChanged(e){e.viewConfig.activeFolderChanged||(e.viewConfig.activeFolderChanged={request:"crt.FolderTreeActiveFolderChangedRequest",params:{folderTreeName:e.viewConfig.name,id:"@event.id",name:"@event.name",filterData:"@event.filterData",isFavorite:"@event.isFavorite"}})}_setFolderTreeVisibleChanged(e){e.viewConfig.folderTreeVisibleChanged||(e.viewConfig.folderTreeVisibleChanged={request:"crt.FolderTreeVisibleRequest",params:{folderTreeName:e.viewConfig.name,visible:"@event.visible"}})}_setAddFolderRequest(e){e.viewConfig.addFolder||(e.viewConfig.addFolder={request:"crt.AddFolderDataRequest",params:{folderTreeName:e.viewConfig.name,id:"@event.id",folderName:"@event.folderName",rootSchemaName:"@event.rootSchemaName",sourceSchemaName:"@event.sourceSchemaName",parentId:"@event.parentId",filterData:"@event.filterData"}})}_setFolderRenameRequest(e){e.viewConfig.folderRenamed||(e.viewConfig.folderRenamed={request:"crt.FolderTreeRenameRequest",params:{folderTreeName:e.viewConfig.name,folderId:"@event.folderId",folderName:"@event.folderName",sourceSchemaName:"@event.sourceSchemaName",reloadFavorites:"@event.reloadFavorites"}})}_setToggleFolderFavoriteRequest(e){e.viewConfig.toggleFolderFavorite||(e.viewConfig.toggleFolderFavorite={request:"crt.ToggleFolderFavoriteRequest",params:{folderTreeName:e.viewConfig.name,id:"@event.id",favoriteId:"@event.favoriteId",rootSchemaName:"@event.rootSchemaName",status:"@event.status"}})}_setFolderFiltersUpdatedRequest(e){e.viewConfig.folderFiltersUpdated||(e.viewConfig.folderFiltersUpdated={request:"crt.FolderTreeUpdateFiltersRequest",params:{folderTreeName:e.viewConfig.name,filterData:"@event.filterData",sourceSchemaName:"@event.sourceSchemaName",folderId:"@event.folderId",reloadFavorites:"@event.reloadFavorites"}})}_setDeleteFolderRequest(e,t){if(!t.viewConfig.deleteFolder){const{itemsAttrName:n}=rs(t.viewConfig.name);t.viewConfig.deleteFolder={request:"crt.DeleteFolderDataRequest",params:{dataSourceName:this._getDataSourceNameByItems(e,n),folderTreeName:t.viewConfig.name,folderId:"@event.folderId",reloadFavorites:"@event.reloadFavorites"}}}}_getDataSourceNameByItems(e,t){var n,i,r,a;const o=null===(i=null===(n=null==e?void 0:e.viewModelConfig)||void 0===n?void 0:n.attributes)||void 0===i?void 0:i[t];return null!==(a=null===(r=null==o?void 0:o.embeddedModel)||void 0===r?void 0:r.name)&&void 0!==a?a:""}_setItemsAttrValue(e){if(!e.viewConfig.items){const{itemsAttrName:t}=rs(e.viewConfig.name);e.viewConfig.items=`$${t}`}}_setVisibleAttrValue(e){if(!e.viewConfig.visible){const{visibleAttrName:t}=rs(e.viewConfig.name);e.viewConfig.visible=`$${t}`}}_setActiveFolderIdAttrValue(e){if(!e.viewConfig.activeFolderId){const{activeFolderIdAttrName:t}=rs(e.viewConfig.name);e.viewConfig.activeFolderId=`$${t}`}}_setFavoriteItemsConfig(e,t){var n,i,r;const{favoriteItemsAttrName:a}=rs(t.viewConfig.name);t.viewConfig.favoriteItems=`$${a}`;const o=`${a}_DS`,s=`${o}_filter`;this._setFavoriteItemsFilterAttr(s,e,t),(null===(i=null===(n=null==e?void 0:e.viewModelConfig)||void 0===n?void 0:n.attributes)||void 0===i?void 0:i[a])||((null===(r=null==e?void 0:e.viewModelConfig)||void 0===r?void 0:r.attributes)[a]={isCollection:!0,viewModelConfig:{attributes:{Id:{modelConfig:{path:`${o}.Id`}},Name:{modelConfig:{path:`${o}.FolderTree.Name`}},FolderTreeId:{modelConfig:{path:`${o}.FolderTree.Id`}},FilterData:{modelConfig:{path:`${o}.FolderTree.FilterData`}}}},modelConfig:{path:o,filterAttributes:[{name:s,loadOnChange:!0}]},embeddedModel:{name:o,config:{type:"crt.EntityDataSource",config:{entitySchemaName:"FolderTreeFavorite"},hiddenInPageDesigner:!1}}})}_setFavoriteItemsFilterAttr(e,t,n){var i,a,o;if((null===(a=null===(i=null==t?void 0:t.viewModelConfig)||void 0===i?void 0:i.attributes)||void 0===a?void 0:a[e])||!t.viewModelConfig.attributes)return;const s=new r.FilterGroup(r.LogicalOperatorType.And),l=new r.CompareFilter(r.ComparisonType.Equal,new r.ColumnExpression({columnPath:"EntitySchemaName"}),new r.ParameterExpression({value:n.viewConfig.rootSchemaName})),c=new r.CompareFilter(r.ComparisonType.Equal,new r.ColumnExpression({columnPath:"SysAdminUnit.Id"}),new r.ParameterExpression({value:null===(o=this._userInfo)||void 0===o?void 0:o.id,dataValueType:r.DataValueType.Guid}));s.add(l,"schemaFilter"),s.add(c,"adminUnitFilter"),t.viewModelConfig.attributes[e]={value:s}}_setExpandedItemsAttrValue(e){if(!e.viewConfig.expandedItems){const{expandedItemsAttrName:t}=rs(e.viewConfig.name);e.viewConfig.expandedItems=`$${t}`}}_setFolderTreeExpandedItemsChanged(e){e.viewConfig.folderTreeExpandedItemsChanged||(e.viewConfig.folderTreeExpandedItemsChanged={request:"crt.FolderTreeExpandedItemsRequest",params:{folderTreeName:e.viewConfig.name,expandedItems:"@event.expandedItems"}})}_setFolderChangeRights(e){e.viewConfig.folderChangeRights||(e.viewConfig.folderChangeRights={request:"crt.LoadRightsModuleRequest",params:{payload:{entitySchemaName:"@event.entitySchemaName",entitySchemaCaption:"@event.entitySchemaCaption",primaryColumnValue:"@event.primaryColumnValue",primaryDisplayColumnValue:"@event.primaryDisplayColumnValue"}}})}crtOnMetaDataInit(e){return(0,a.mG)(this,void 0,void 0,(function*(){if(yield this._isProcessingDisabled)return e;const t=e,n=Wa.getViewConfigInfoByProperty("type","crt.FolderTree",t.viewConfig);for(const e of n)this._setItemsAttrValue(e),this._setExpandedItemsAttrValue(e),this._setVisibleAttrValue(e),this._setActiveFolderIdAttrValue(e),this._setActiveFolderChanged(e),this._setFolderTreeVisibleChanged(e),this._setAddFolderRequest(e),this._setFolderRenameRequest(e),this._setFolderFiltersUpdatedRequest(e),this._setDeleteFolderRequest(t,e),this._setFolderTreeExpandedItemsChanged(e),this._setFolderChangeRights(e),(yield this._isShowFolderTreeFavoriteFeatureEnabled)&&(this._setFavoriteItemsConfig(t,e),this._setToggleFolderFavoriteRequest(e));return e}))}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](ls),l["ɵɵinject"](Yr))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})(),mE=(()=>{class e{constructor(e){this._featureService=e,this._labelProcessingDisableFeature="DisableLabelPreprocessing"}_actualizeLabelType(e){const t=dx[e.labelType];t&&(e.labelType=t)}get _isProcessingDisabled(){return this._featureService.getFeatureState(this._labelProcessingDisableFeature).toPromise()}crtOnMetaDataInit(e){return(0,a.mG)(this,void 0,void 0,(function*(){if(yield this._isProcessingDisabled)return e;const t=e;return Wa.getViewConfigInfoByProperty("type","crt.Label",t.viewConfig).forEach((e=>{this._actualizeLabelType(e.viewConfig)})),e}))}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](ls))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})(),hE=(()=>{class e{constructor(e){this._featureService=e,this._tabPanelActionsProcessingDisableFeature="DisableTabPanelPreprocessing"}_updateIconPosition(e){if(e.iconPosition)return;const t=!!e.icon;e.iconPosition=t?fb.LeftIcon:fb.OnlyText}_updateTabIconSource(e){XP.updateTabIconSource(e)}_updateTabHint(e){e.hint=e.caption}get _isProcessingDisabled(){return this._featureService.getFeatureState(this._tabPanelActionsProcessingDisableFeature).toPromise()}crtOnMetaDataInit(e){return(0,a.mG)(this,void 0,void 0,(function*(){if(yield this._isProcessingDisabled)return e;const t=e;return Wa.getViewConfigInfoByProperty("type","crt.TabContainer",t.viewConfig).forEach((e=>{this._updateIconPosition(e.viewConfig),this._updateTabIconSource(e.viewConfig),this._updateTabHint(e.viewConfig)})),e}))}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](ls))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})(),gE=(()=>{class e{constructor(e){this._featureService=e,this._chartWidgetName="crt.ChartWidget",this._drillDownFeatureName="ChartDrilldown"}_getWidgetsArray(e){return Wa.getViewConfigInfoByProperty("type",this._chartWidgetName,e.viewConfig)}_getWidgetName(e){return e.name.replace(/\./g,"_")}_getDataSetSortinAttributeName(e){return`${e.split(" ").join("").replace(/\./g,"_")}Sorting`}get _isDrillDownFeatureEnabled(){return this._featureService.getFeatureState(this._drillDownFeatureName).toPromise()}crtOnModelInit(e,t){return(0,a.mG)(this,void 0,void 0,(function*(){const t=e,n=this._getWidgetsArray(t);for(const e of n){const n=null==e?void 0:e.viewConfig;let i=t.viewModelConfig.attributes;i||(i=t.viewModelConfig.attributes={});const a=this._getWidgetName(n),o=`${r.DYNAMIC_DATA_SOURCE_PREFIX}_${a}`,s=this._getDataSetSortinAttributeName(o);i[`${o}_ListConfig`]={value:[]},i[`${o}_ListData`]={isCollection:!0,modelConfig:{path:`${o}_ListDataDS`,sortingConfig:{attributeName:s}},viewModelConfig:{attributes:{}}},s&&(i[s]={})}return e}))}crtOnViewModelInit(e,t,n){return(0,a.mG)(this,void 0,void 0,(function*(){const t=e,n=this._getWidgetsArray(t);for(const e of n){const t=null==e?void 0:e.viewConfig,n=this._getWidgetName(t),i=`${r.DYNAMIC_DATA_SOURCE_PREFIX}_${n}`,a=`${i}_ListDataDS`,o=`${i}_ListConfig`,s=`${i}_ListData`;t.listData=`$${s}`,t.listConfig=`$${o}`,t.drillDown={request:"crt.WidgetDrilldownRequest",params:{dataSourceName:a,listConfigAttributeName:o,listDataAttributeName:s,parameters:[],config:{schemaName:"@event.schemaName",groupByValue:"@event.groupByValue",pagingConfig:"@event.pagingConfig",sortingConfig:"@event.sortingConfig",groupBy:"@event.groupBy",aggregateBy:"@event.aggregateBy",columns:"@event.columns",filters:"@event.filters"}}},t.paginationChange=iE.getPaginationChange(a),t.sortingChange={request:"crt.DataGridSortDataRequest",params:{itemsAttributeName:this._getDataSetSortinAttributeName(a),sorting:"@event"}}}return e}))}crtOnMetaDataInit(e){var t;return(0,a.mG)(this,void 0,void 0,(function*(){if(!(yield this._isDrillDownFeatureEnabled))return e;const n=e,i=this._getWidgetsArray(n);for(const e of i)e.viewConfig&&!(null===(t=e.viewConfig)||void 0===t?void 0:t.pagingConfig)&&(e.viewConfig.pagingConfig=iE.getDefaultPagingConfig());return e}))}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](ls))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})(),fE=(()=>{class e{}return e.ɵfac=function(t){return new(t||e)},e.ɵmod=l["ɵɵdefineNgModule"]({type:e}),e.ɵinj=l["ɵɵdefineInjector"]({providers:[Zk,{provide:Td,useClass:nE,multi:!0},{provide:Td,useClass:rE,multi:!0},{provide:Td,useClass:aE,multi:!0},{provide:Td,useClass:cE,multi:!0},{provide:Td,useClass:pE,multi:!0},{provide:Td,useClass:uE,multi:!0},{provide:Td,useClass:sE,multi:!0},{provide:Td,useClass:lE,multi:!0},{provide:Td,useClass:tE,multi:!0},{provide:Td,useClass:dE,multi:!0},{provide:Td,useClass:hE,multi:!0},{provide:Td,useClass:Jk,multi:!0},Yk,{provide:Td,useClass:gE,multi:!0},{provide:Td,useClass:Qk,multi:!0},{provide:Td,useClass:oE,multi:!0},{provide:Td,useClass:mE,multi:!0}],imports:[[o.CommonModule]]}),e})();("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](fE,{imports:[o.CommonModule]});class vE extends r.BaseRequest{}var bE=n(65766);let CE=(()=>{class e{constructor(e,t){this._ngZone=e,this._dialogService=t}reloadMainDs(e,t){const n=e.getBoundDataSourceNameByAttributePath(t.itemsAttrName);return e.load(n,[],{loadType:zr.Reload})}reloadFavoritesDs(e,t){const n=e.$context;if(e.reloadFavorites){const e=n.getBoundDataSourceNameByAttributePath(t.favoriteItemsAttrName);return n.load(e,[],{loadType:zr.Reload})}return(0,h.of)({})}handle(e,t,n){const i=t.$context,r=rs(t.folderTreeName);return e.pipe((0,$r.zg)((()=>(0,h.concat)([this.reloadMainDs(i,r),this.reloadFavoritesDs(t,r)]))),(0,bE.u)(),(0,dr.K)((e=>this.handleError(e,t,n)))).toPromise()}handleError(e,t,n){const i=t.$context,r=rs(t.folderTreeName);return this._ngZone.run((()=>this._dialogService.openInfoDialog(e.errorInfo.message))).subscribe({next:()=>(0,a.mG)(this,void 0,void 0,(function*(){yield null==n?void 0:n.process({type:"crt.FolderTreeActiveFolderChangedRequest",folderTreeName:t.folderTreeName,$context:t.$context}),yield this.reloadMainDs(i,r).toPromise(),yield this.reloadFavoritesDs(t,r).toPromise()}))}),(0,h.of)({})}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](l.NgZone),l["ɵɵinject"](X))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"any"}),e})(),yE=class extends vE{};yE=(0,a.gn)([(0,r.CrtRequest)({type:"crt.DeleteFolderDataRequest"})],yE);let wE=class extends r.BaseRequestHandler{constructor(e){super(),this._modelRequestService=e.get(CE)}handle(e){return(0,a.mG)(this,void 0,void 0,(function*(){const t=e.$context.delete(e.dataSourceName,[{type:r.ModelParameterType.PrimaryColumnValue,value:e.folderId}]);return this._modelRequestService.handle(t,e)}))}};wE.ɵfac=function(e){return new(e||wE)(l["ɵɵinject"](l.Injector))},wE.ɵprov=l["ɵɵdefineInjectable"]({token:wE,factory:wE.ɵfac,providedIn:"any"}),wE=(0,a.gn)([(0,r.CrtRequestHandler)({type:"crt.FolderTreeDeleteFolderDataHandler",requestType:"crt.DeleteFolderDataRequest"}),(0,a.w6)("design:paramtypes",[l.Injector])],wE);let _E=class extends vE{};_E=(0,a.gn)([(0,r.CrtRequest)({type:"crt.AddFolderDataRequest"})],_E);let xE=class extends r.BaseRequestHandler{constructor(e){super(),this._modelRequestService=e.get(CE)}handle(e){return(0,a.mG)(this,void 0,void 0,(function*(){const t=e.$context,n=rs(e.folderTreeName),i=t.getBoundDataSourceNameByAttributePath(n.itemsAttrName);return(yield lc.create(e.sourceSchemaName).toPromise()).insert({Id:e.id,Name:e.folderName,EntitySchemaName:e.rootSchemaName,Parent:e.parentId,FilterData:e.filterData}).pipe((0,g.U)((()=>t.load(i,[],{loadType:zr.Reload}))),(0,dr.K)((t=>this._modelRequestService.handleError(t,e,this.handlerChain)))).toPromise()}))}};xE.ɵfac=function(e){return new(e||xE)(l["ɵɵinject"](l.Injector))},xE.ɵprov=l["ɵɵdefineInjectable"]({token:xE,factory:xE.ɵfac,providedIn:"any"}),xE=(0,a.gn)([(0,r.CrtRequestHandler)({type:"crt.FolderTreeAddFolderDataHandler",requestType:"crt.AddFolderDataRequest"}),(0,a.w6)("design:paramtypes",[l.Injector])],xE);let IE=class extends vE{};IE=(0,a.gn)([(0,r.CrtRequest)({type:"crt.FolderTreeRenameRequest"})],IE);let SE=class extends r.BaseRequestHandler{constructor(e){super(),this._modelRequestService=e.get(CE)}handle(e){return(0,a.mG)(this,void 0,void 0,(function*(){const t=(yield lc.create(e.sourceSchemaName).toPromise()).update({Name:e.folderName},[{type:r.ModelParameterType.PrimaryColumnValue,value:e.folderId}]);return this._modelRequestService.handle(t,e,this.handlerChain)}))}};SE.ɵfac=function(e){return new(e||SE)(l["ɵɵinject"](l.Injector))},SE.ɵprov=l["ɵɵdefineInjectable"]({token:SE,factory:SE.ɵfac,providedIn:"any"}),SE=(0,a.gn)([(0,r.CrtRequestHandler)({type:"crt.FolderTreeRenameHandler",requestType:"crt.FolderTreeRenameRequest"}),(0,a.w6)("design:paramtypes",[l.Injector])],SE);let ME=class extends vE{};ME=(0,a.gn)([(0,r.CrtRequest)({type:"crt.FolderTreeUpdateFiltersRequest"})],ME);let DE=class extends r.BaseRequestHandler{constructor(e){super(),this._modelRequestService=e.get(CE)}handle(e){return(0,a.mG)(this,void 0,void 0,(function*(){const t=(yield lc.create(e.sourceSchemaName).toPromise()).update({FilterData:e.filterData},[{type:r.ModelParameterType.PrimaryColumnValue,value:e.folderId}]);return this._modelRequestService.handle(t,e)}))}};DE.ɵfac=function(e){return new(e||DE)(l["ɵɵinject"](l.Injector))},DE.ɵprov=l["ɵɵdefineInjectable"]({token:DE,factory:DE.ɵfac,providedIn:"any"}),DE=(0,a.gn)([(0,r.CrtRequestHandler)({type:"crt.FolderTreeUpdateFiltersHandler",requestType:"crt.FolderTreeUpdateFiltersRequest"}),(0,a.w6)("design:paramtypes",[l.Injector])],DE);let PE=class extends vE{};PE=(0,a.gn)([(0,r.CrtRequest)({type:"crt.ToggleFolderFavoriteRequest"})],PE);let TE=class extends r.BaseRequestHandler{handle(e){return(0,a.mG)(this,void 0,void 0,(function*(){const t=e.$context,n=yield lc.create("FolderTreeFavorite").toPromise(),i=rs(e.folderTreeName),a=t.getBoundDataSourceNameByAttributePath(i.favoriteItemsAttrName),o=(0,$r.zg)((()=>t.load(a,[],{loadType:zr.Reload})));return e.status?n.insert({FolderTree:e.id,EntitySchemaName:e.rootSchemaName}).pipe(o).toPromise():n.delete([{type:r.ModelParameterType.PrimaryColumnValue,value:e.favoriteId}]).pipe(o).toPromise()}))}};TE=(0,a.gn)([(0,r.CrtRequestHandler)({type:"crt.ToggleFolderFavoriteHandler",requestType:"crt.ToggleFolderFavoriteRequest"})],TE);let kE=class extends vE{};kE=(0,a.gn)([(0,r.CrtRequest)({type:"crt.FolderTreeActiveFolderChangedRequest"})],kE);let EE=class extends r.BaseRequestHandler{constructor(e){super(),this._folderTreeUserProfileService=e.get(AT)}_isNeedSaveToProfile(e){const t=e.$context,{activeFolderIdAttrName:n}=rs(e.folderTreeName);return t.attributes[n]!==e.id}handle(e){var t,n,i,r;return(0,a.mG)(this,void 0,void 0,(function*(){this._isNeedSaveToProfile(e)&&(yield this._folderTreeUserProfileService.setFolderTreeSelectedNode(e.folderTreeName,e.id,e.isFavorite));const a=rs(e.folderTreeName);return e.$context.setValue({[null!==(t=e.activeFolderIdAttrName)&&void 0!==t?t:a.activeFolderIdAttrName]:e.id,[null!==(n=e.activeFolderNameAttrName)&&void 0!==n?n:a.activeFolderNameAttrName]:e.name,[null!==(i=e.activeFolderFilterAttrName)&&void 0!==i?i:a.activeFolderFilterAttrName]:e.filterData,[null!==(r=e.activeFolderFavoriteStateAttrName)&&void 0!==r?r:a.activeFolderFavoriteStateAttrName]:e.isFavorite}).toPromise()}))}};EE.ɵfac=function(e){return new(e||EE)(l["ɵɵinject"](l.Injector))},EE.ɵprov=l["ɵɵdefineInjectable"]({token:EE,factory:EE.ɵfac,providedIn:"root"}),EE=(0,a.gn)([(0,r.CrtRequestHandler)({type:"crt.FolderTreeActiveFolderChangedHandler",requestType:"crt.FolderTreeActiveFolderChangedRequest"}),(0,a.w6)("design:paramtypes",[l.Injector])],EE);let NE=class extends vE{};NE=(0,a.gn)([(0,r.CrtRequest)({type:"crt.FolderTreeVisibleRequest"})],NE);let OE=class extends r.BaseRequestHandler{constructor(e){super(),this._folderTreeUserProfileService=e.get(AT)}handle(e){return(0,a.mG)(this,void 0,void 0,(function*(){const t=rs(e.folderTreeName),n=e.$context;yield this._folderTreeUserProfileService.setFolderTreeVisibleState(e.folderTreeName,e.visible);const i=n.setValue({[t.visibleAttrName]:e.visible});if(e.visible){const e=n.getBoundDataSourceNameByAttributePath(t.itemsAttrName),r=(0,$r.zg)((()=>n.load(e,[],{loadType:zr.Reload})));return i.pipe(r).toPromise()}return i.toPromise()}))}};OE.ɵfac=function(e){return new(e||OE)(l["ɵɵinject"](l.Injector))},OE.ɵprov=l["ɵɵdefineInjectable"]({token:OE,factory:OE.ɵfac,providedIn:"root"}),OE=(0,a.gn)([(0,r.CrtRequestHandler)({type:"crt.FolderTreeVisibleHandler",requestType:"crt.FolderTreeVisibleRequest"}),(0,a.w6)("design:paramtypes",[l.Injector])],OE);let jE=class extends vE{};jE=(0,a.gn)([(0,r.CrtRequest)({type:"crt.FolderTreeExpandedItemsRequest"})],jE);let AE=class extends r.BaseRequestHandler{constructor(e){super(),this._folderTreeUserProfileService=e.get(AT)}handle(e){return(0,a.mG)(this,void 0,void 0,(function*(){return this._folderTreeUserProfileService.setFolderTreeExpandedItems(e.folderTreeName,e.expandedItems)}))}};AE.ɵfac=function(e){return new(e||AE)(l["ɵɵinject"](l.Injector))},AE.ɵprov=l["ɵɵdefineInjectable"]({token:AE,factory:AE.ɵfac,providedIn:"root"}),AE=(0,a.gn)([(0,r.CrtRequestHandler)({type:"crt.FolderTreeExpandedItemsHandler",requestType:"crt.FolderTreeExpandedItemsRequest"}),(0,a.w6)("design:paramtypes",[l.Injector])],AE);let RE=class{};RE.ɵfac=function(e){return new(e||RE)},RE.ɵmod=l["ɵɵdefineNgModule"]({type:RE}),RE.ɵinj=l["ɵɵdefineInjector"]({providers:[AT],imports:[[o.CommonModule]]}),RE=(0,a.gn)([(0,r.CrtModule)({requestHandlers:[EE,xE,wE,AE,SE,TE,DE,OE]})],RE),("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](RE,{imports:[o.CommonModule]});let FE=(()=>{class e{constructor(e,t){this._macrosHandlerService=e,this._metadataModifierService=t,this._macrosName="ResourceString"}crtOnMetaDataInit(e){return(0,a.mG)(this,void 0,void 0,(function*(){return yield this._macrosHandlerService.handleMarcos(this._macrosName,e,e.resources,{errorHandler:()=>{},setPropertyFn:e=>this._setProperty(e)}).toPromise()}))}crtOnViewModelInit(e,t,n){return(0,a.mG)(this,void 0,void 0,(function*(){return yield this._macrosHandlerService.handleMarcos(this._macrosName,e,n.Resources,{setPropertyFn:e=>this._setProperty(e)}).toPromise()}))}_setProperty({source:e,keys:t,value:n}){const i=t.pop(),r=(0,wa.Z)(e,t);r&&this._metadataModifierService.updateProperty(r,i,n)}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](uo),l["ɵɵinject"](Od))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})(),VE=(()=>{class e{_setPrimaryDataSource(e){e.modelConfig&&(e.modelConfig.primaryDataSourceName=jp(e))}_setScopes(e){Ap(e)}crtOnMetaDataInit(e){return(0,a.mG)(this,void 0,void 0,(function*(){const t=e;return this._setPrimaryDataSource(t),this._setScopes(t),e}))}}return e.ɵfac=function(t){return new(t||e)},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})(),LE=(()=>{class e extends Js{constructor(){super(...arguments),this._schemaConverters=new Map}get(e){return this._schemaConverters.has(e)?this._schemaConverters.get(e):super.get(e)}register(e,t){(0,r.checkTypeNameFormat)(e,"ConverterTypeName"),(0,r.checkCrtTypeNamePascalCase)(e),this._schemaConverters.set(e,new t)}clear(){this.clearSchemaConverters(),super.clear()}clearSchemaConverters(){this._schemaConverters.clear()}}return e.ɵfac=function(){let t;return function(n){return(t||(t=l["ɵɵgetInheritedFactory"](e)))(n||e)}}(),e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})(),zE=(()=>{class e{constructor(e,t,n,i,a,o,s){this.viewModelGenerator=e,this.modelGenerator=t,this.schemaConverterRegistry=n,this.schemaValidatorFactory=i,this.schemaValidatorTypeResolver=a,this.schemaValidatorRegistryService=o,this.metadataPreprocessorService=s,this._unsubscribesHandlers=[],this._handlerChain=r.HandlerChainService.instance}_init(e,t,n){return this.unsubscribeHandlerChain(),this.registerSchemaElements(e,t),n().pipe((0,g.U)((([e,t,n])=>({schema:e,models:t,viewModel:n}))))}_registerValidators(e){var t;const n=null!==(t=null==e?void 0:e.validators)&&void 0!==t?t:{};Object.values(n).forEach((e=>{const t=(0,Hs.Z)(e,["validator"]);this.schemaValidatorRegistryService.register(t,this.schemaValidatorFactory.create(e))}))}_preprocessOnMetadataInit(e){return(0,h.from)(this.metadataPreprocessorService.onMetaDataInit(e))}_preprocessOnModelInit(e,t){return(0,h.from)(this.metadataPreprocessorService.onModelInit(e,t))}_preprocessOnViewModelInit(e,t,n){return(0,h.from)(this.metadataPreprocessorService.onViewModelInit(e,t,n))}_generateModel(e){return e.modelConfig?this.modelGenerator.generate(e.modelConfig):(0,h.of)([])}_generateViewModel(e,t,n,i){var r;return this.viewModelGenerator.generate({viewModelConfig:e.viewModelConfig,modelConfig:e.modelConfig,resources:e.resources,models:t,scopes:(null===(r=e.tag)||void 0===r?void 0:r.split("."))||[],modelInitConfigs:n},[{provide:wc,useValue:this.schemaValidatorTypeResolver},{provide:Fl,useValue:i}])}unsubscribeHandlerChain(){this._unsubscribesHandlers.forEach((e=>e()))}registerSchemaElements(e,t){this.registerHandlerChain(e.handlers||[],t),this.registerConverters(e.converters||{}),this._registerValidators(e)}getMetadataPreprocessedSchema(e,t){return this._preprocessOnMetadataInit(e)}getModels(e,t){return this._generateModel(e)}getModelPreprocessedSchema(e,t,n){return this._preprocessOnModelInit(e,t)}getViewModel(e,t,n,i){return this._generateViewModel(e,t,n,i)}getViewModelPreprocessedSchema(e,t,n,i){return this._preprocessOnViewModelInit(e,t,n)}_getModelPreprocessedSchemaData(e,t,n){return n().pipe((0,Pn.w)((n=>{const i=this.getModelPreprocessedSchema(e,n,t);return(0,h.combineLatest)([i,(0,h.of)(n)])})))}_getViewModelPreprocessedSchemaData(e,t,n,i){return i().pipe((0,Pn.w)((i=>{const r=this.getViewModelPreprocessedSchema(e,n,i,t);return(0,h.combineLatest)([r,(0,h.of)(n),(0,h.of)(i)])})))}init(e,t,n=null){return this._init(e,t,(()=>this.getMetadataPreprocessedSchema(e,t).pipe((0,Pn.w)((e=>this._getModelPreprocessedSchemaData(e,t,(()=>this.getModels(e,t))))),(0,Pn.w)((([e,i])=>this._getViewModelPreprocessedSchemaData(e,t,i,(()=>this.getViewModel(e,i,n,t))))))))}refresh(e,t){const{schema:n,models:i,viewModel:r}=t;return this._init(n,e,(()=>this.getMetadataPreprocessedSchema(n,e).pipe((0,Pn.w)((t=>this._getModelPreprocessedSchemaData(t,e,(()=>(0,h.of)(i))))),(0,Pn.w)((([t])=>this._getViewModelPreprocessedSchemaData(t,e,i,(()=>(0,h.of)(r))))))))}registerHandlerChain(e,t){this.unsubscribeHandlerChain(),e.forEach((e=>{const n=class extends r.BaseRequestHandler{handle(t){return e.handler(t,this.next)}};this._unsubscribesHandlers.push(this._handlerChain.register(e.request,(()=>new n),t))}))}registerConverters(e){this.schemaConverterRegistry.clearSchemaConverters(),Object.entries(e).forEach((([e,t])=>{this.schemaConverterRegistry.register(e,class{constructor(){this.convert=t}})}))}ngOnDestroy(){this.unsubscribeHandlerChain()}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](kc),l["ɵɵinject"](cc),l["ɵɵinject"](LE),l["ɵɵinject"](jc),l["ɵɵinject"](Rc),l["ɵɵinject"](Oc),l["ɵɵinject"](kd))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})(),BE=(()=>{class e extends zE{constructor(e,t,n,i,r,a,o,s,l,c){super(n,i,r,a,o,s,l),this._schemaCacheService=e,this._schemaChangeListenerService=t,this.viewModelGenerator=n,this.modelGenerator=i,this.schemaConverterRegistry=r,this.schemaValidatorFactory=a,this.schemaValidatorTypeResolver=o,this.schemaValidatorRegistryService=s,this.metadataPreprocessorService=l,this.zone=c,this._destroyed$=new h.Subject,this._schemaChangeListenerService.schemaChanged$.pipe((0,b.R)(this._destroyed$)).subscribe((e=>{e.schemaType===Ur.ClientUnitSchema&&this._schemaCacheService.invalidateClientUnitSchema(e.name),e.schemaType===Ur.EntitySchema&&this._schemaCacheService.invalidateByDataSchemaName(e.name)}))}_getSnapshot(e,t){const n=this._schemaCacheService.getSchemaSnapshots(e);return n?n[t]:null}getMetadataPreprocessedSchema(e,t){const n=this._schemaCacheService.isCached(t),i=this._getSnapshot(t,Pa.METADATA_INIT);return n&&i?(0,h.of)(i):super.getMetadataPreprocessedSchema(e).pipe((0,En.b)((e=>this._schemaCacheService.setCacheSnapshot({schemaName:t,hook:Pa.METADATA_INIT,snapshot:e}))))}getModels(e,t){return super.getModels(e).pipe((0,En.b)((e=>{const n=e.map((e=>e.dataSchemaName));this._schemaCacheService.setDataSchemaDepsToCache(t,n)})))}getModelPreprocessedSchema(e,t,n){const i=this._schemaCacheService.isCached(n),r=this._getSnapshot(n,Pa.MODEL_INIT);return i&&r?(0,h.of)(r):super.getModelPreprocessedSchema(e,t).pipe((0,En.b)((e=>{this._schemaCacheService.setCacheSnapshot({schemaName:n,hook:Pa.MODEL_INIT,snapshot:e})})))}getViewModelPreprocessedSchema(e,t,n,i){const r=this._schemaCacheService.isCached(i),a=this._getSnapshot(i,Pa.VIEW_MODEL_INIT);return r&&a?(0,h.of)(a):super.getViewModelPreprocessedSchema(e,t,n).pipe((0,En.b)((e=>{this._schemaCacheService.setCacheSnapshot({schemaName:i,hook:Pa.VIEW_MODEL_INIT,snapshot:e})})))}ngOnDestroy(){super.ngOnDestroy(),this._destroyed$.next(),this._destroyed$.complete()}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](bp),l["ɵɵinject"](ba),l["ɵɵinject"](kc),l["ɵɵinject"](cc),l["ɵɵinject"](LE),l["ɵɵinject"](jc),l["ɵɵinject"](Rc),l["ɵɵinject"](Oc),l["ɵɵinject"](kd),l["ɵɵinject"](l.NgZone))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})();function GE(e,t){if(1&e&&(l["ɵɵelementContainerStart"](0,3),l["ɵɵelementContainer"](1,4),l["ɵɵelementContainerEnd"]()),2&e){const e=l["ɵɵnextContext"](2);l["ɵɵproperty"]("crtViewModel",e.schemaState.viewModel),l["ɵɵadvance"](1),l["ɵɵproperty"]("viewConfig",null==e.schemaState?null:e.schemaState.viewConfig)("selector",e.schema)}}function HE(e,t){if(1&e&&l["ɵɵelementContainer"](0,6),2&e){const e=t.$implicit,n=l["ɵɵnextContext"](3);l["ɵɵproperty"]("crtViewModel",n.schemaState.viewModel)("crtViewElement",e)}}function UE(e,t){if(1&e&&l["ɵɵtemplate"](0,HE,1,2,"ng-container",5),2&e){const e=l["ɵɵnextContext"](2);l["ɵɵproperty"]("ngForOf",e.schemaState.viewConfig)}}function ZE(e,t){if(1&e&&(l["ɵɵelementContainerStart"](0),l["ɵɵtemplate"](1,GE,2,3,"ng-container",1),l["ɵɵpipe"](2,"async"),l["ɵɵtemplate"](3,UE,1,1,"ng-template",null,2,l["ɵɵtemplateRefExtractor"]),l["ɵɵelementContainerEnd"]()),2&e){const e=l["ɵɵreference"](4),t=l["ɵɵnextContext"]();l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",l["ɵɵpipeBind1"](2,2,t.useCompiledSchemaComponent$))("ngIfElse",e)}}let $E=(()=>{class e{constructor(e,t,n,i,r,a,o,s,c,d){this._schemaPartsService=e,this._schemaCacheService=t,this._viewModelDiffPatchService=n,this._schemaConverterRegistry=i,this._schemaValidatorRegistryService=r,this._schemaService=a,this._featureService=o,this.zone=s,this._injector=c,this._cdr=d,this._destroyed$=new h.Subject,this._schemaName$=new h.Subject,this._processedSchemaBundles=[],this._fromChain=!1,this._addClsToHost=!0,this.modelInitConfigs=null,this.schemaStateGenerated=new l.EventEmitter,this._cachingFeature$=this._featureService.getFeatureState("DisableRuntimeSchemaCaching").pipe((0,Ul.d)(1)),this.useCompiledSchemaComponent$=this._featureService.getFeatureState("DisableCompileSchemaComponent").pipe((0,Ul.d)(1),(0,g.U)((e=>!e))),this._schemaInitializerService$=this._cachingFeature$.pipe((0,g.U)((e=>{var t;return this._schemaInitializerService=null!==(t=this._schemaInitializerService)&&void 0!==t?t:this._injector.get(e?zE:BE),this._schemaInitializerService})),(0,Ul.d)(1)),this._initSchemaInitializerService(),this._subscribeToSchemaParts()}_initSchemaInitializerService(){const e=this._schemaName$.pipe((0,Pn.w)((e=>this._schemaPartsService.init(e))),(0,En.b)((e=>this._schemaService.init(e))));this.zone.runOutsideAngular((()=>(0,h.combineLatest)([e,this._schemaInitializerService$]).pipe((0,$r.zg)((([e])=>this._schemaInitializerService.init(e,this.schema,this.modelInitConfigs))),(0,En.b)((({schema:e})=>this._processedSchemaBundles=[e])),(0,En.b)((({schema:e,models:t,viewModel:n})=>{this._fromChain||(this._destroyView(),this.schemaState={models:t,viewModel:n,viewConfig:e.viewConfig,handlers:e.handlers,scope:this.schema,converters:e.converters},this.schemaStateGenerated.next(this.schemaState))})),(0,Pn.w)((()=>new h.Observable((e=>{this.zone.run((()=>{e.next(),e.complete()}))})))),(0,b.R)(this._destroyed$)))).subscribe()}_subscribeToSchemaParts(){const e=this._schemaPartsService.partsChanged$;this.zone.runOutsideAngular((()=>e.pipe((0,En.b)((({bundle:e})=>this._schemaService.init(e))),(0,En.b)((()=>this._schemaCacheService.invalidateClientUnitSchema(this.schema))),(0,Pn.w)((({bundle:e,silent:t})=>this._refreshSchema(e,t))),(0,En.b)((({schema:e})=>{this._processedSchemaBundles=[this._processedSchemaBundles.pop(),e],this.schemaStateGenerated.next(Object.assign(Object.assign({},this.schemaState),{viewConfig:e.viewConfig,handlers:e.handlers,converters:e.converters}))})),(0,iu.M)(e),(0,f.h)((([e,{silent:t}])=>!1===Boolean(t))),(0,Pn.w)((()=>this._viewModelDiffPatchService.diff(...this._processedSchemaBundles))),(0,Pn.w)((e=>this.schemaState.viewModel.hotSwap(e))),(0,En.b)((()=>{this.zone.run((()=>{const e=[...this._processedSchemaBundles].pop();this.schemaState.viewConfig=e.viewConfig}))}))))).pipe((0,b.R)(this._destroyed$)).subscribe()}_refreshSchema(e,t){const n=this.schema,i={schema:e,models:this.schemaState.models,viewModel:this.schemaState.viewModel};return t?this._schemaInitializerService.refresh(n,i):this._schemaInitializerService.init(e,n)}_onSchemaNameChanged(e){this.schema=e,this._schemaConverterRegistry.clearSchemaConverters(),this._schemaValidatorRegistryService.clearSchemaValidators(),this._schemaName$.next(this.schema)}_destroyView(){this.schemaState=null,this._cdr.detectChanges()}ngOnDestroy(){var e;this._destroyed$.next(),this._destroyed$.complete(),null===(e=this._schemaInitializerService)||void 0===e||e.ngOnDestroy()}ngOnChanges(e){var t,n;const i=null===(t=e.schema)||void 0===t?void 0:t.currentValue,r=null===(n=e.schemaState)||void 0===n?void 0:n.currentValue;i&&(this._fromChain=!1,this._onSchemaNameChanged(i)),r&&(this._fromChain=!0,this._onSchemaNameChanged(r.scope))}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](Lp),l["ɵɵdirectiveInject"](bp),l["ɵɵdirectiveInject"](Vc),l["ɵɵdirectiveInject"](LE),l["ɵɵdirectiveInject"](Oc),l["ɵɵdirectiveInject"](Fp),l["ɵɵdirectiveInject"](ls),l["ɵɵdirectiveInject"](l.NgZone),l["ɵɵdirectiveInject"](l.Injector),l["ɵɵdirectiveInject"](l.ChangeDetectorRef))},e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["crt-schema"]],hostVars:2,hostBindings:function(e,t){2&e&&l["ɵɵclassProp"]("crt-schema",t._addClsToHost)},inputs:{modelInitConfigs:"modelInitConfigs",schema:"schema",schemaState:"schemaState"},outputs:{schemaStateGenerated:"schemaStateGenerated"},features:[l["ɵɵProvidersFeature"]([LE,{provide:Js,useExisting:LE},Oc,Rc,zE,BE,Vc]),l["ɵɵNgOnChangesFeature"]],decls:1,vars:1,consts:[[4,"ngIf"],[3,"crtViewModel",4,"ngIf","ngIfElse"],["viewElementDirective",""],[3,"crtViewModel"],["crtViewGenerator","",3,"viewConfig","selector"],[3,"crtViewModel","crtViewElement",4,"ngFor","ngForOf"],[3,"crtViewModel","crtViewElement"]],template:function(e,t){1&e&&l["ɵɵtemplate"](0,ZE,5,4,"ng-container",0),2&e&&l["ɵɵproperty"]("ngIf",null==t.schemaState?null:t.schemaState.viewConfig)},directives:[o.NgIf,Su,Ju,o.NgForOf,_u],pipes:[o.AsyncPipe],styles:[""]}),e})(),WE=(()=>{class e{}return e.ɵfac=function(t){return new(t||e)},e.ɵmod=l["ɵɵdefineNgModule"]({type:e}),e.ɵinj=l["ɵɵdefineInjector"]({providers:[{provide:Td,useClass:FE,multi:!0},{provide:Td,useClass:VE,multi:!0},kd],imports:[[o.CommonModule,Pu,Pd,Qu,zp],Pu,Pd]}),e})();("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](WE,{declarations:[$E],imports:[o.CommonModule,Pu,Pd,Qu,zp],exports:[$E,Pu,Pd]});var qE=n(69877);let YE=(()=>{class e extends qE.jh{updateColors(){var e;const t=["line","bar","horizontalBar","radar","doughnut","polarArea","bubble","pie","scatter"];(null===(e=this.datasets)||void 0===e?void 0:e.every((e=>t.includes(e.type))))&&super.updateColors()}}return e.ɵfac=function(){let t;return function(n){return(t||(t=l["ɵɵgetInheritedFactory"](e)))(n||e)}}(),e.ɵdir=l["ɵɵdefineDirective"]({type:e,selectors:[["","crtChart",""]],features:[l["ɵɵInheritDefinitionFeature"]]}),e})();var JE=n(30730),QE=(()=>(function(e){e.DarkTurquoise="dark-turquoise",e.Violet="violet",e.Coral="coral",e.Green="green",e.NavyBlue="navy-blue",e.Red="red",e.Purple="purple",e.Blue="blue",e.LightGreen="light-green",e.DarkGreen="dark-green",e.Orange="orange",e.OrangeRed="orange-red",e.BrightRed="bright-red",e.CelestialBlue="celestial-blue",e.LightBlue="light-blue",e.Turquoise="turquoise"}(QE||(QE={})),QE))();const KE="#FFFFFF",XE=new Map([[QE.LightGreen,"#A6DE00"],[QE.Green,"#00C853"],[QE.DarkGreen,"#22AC14"],[QE.Orange,"#FFAC07"],[QE.OrangeRed,"#FF8800"],[QE.Coral,"#F9307F"],[QE.BrightRed,"#FF6534"],[QE.Red,"#FF4013"],[QE.Purple,"#B87CCF"],[QE.Violet,"#7848EE"],[QE.CelestialBlue,"#0091EA"],[QE.Blue,"#0058EF"],[QE.LightBlue,"#03A9F4"],[QE.NavyBlue,"#4F43C2"],[QE.DarkTurquoise,"#009688"],[QE.Turquoise,"#00BFA5"]]),eN=new Map([[QE.LightGreen,"#98CB00"],[QE.Green,"#008537"],[QE.DarkGreen,"#0B8500"],[QE.Orange,"#FF7700"],[QE.OrangeRed,"#FF4E00"],[QE.Coral,"#C2185B"],[QE.BrightRed,"#DB2D00"],[QE.Red,"#D32F2F"],[QE.Purple,"#A400AA"],[QE.Violet,"#512DA8"],[QE.CelestialBlue,"#0058EF"],[QE.Blue,"#014BCB"],[QE.LightBlue,"#0075EA"],[QE.NavyBlue,"#28216B"],[QE.DarkTurquoise,"#00665C"],[QE.Turquoise,"#04A58F"]]),tN=new Map([[QE.LightGreen,{angle:225,colors:[{value:"#A6DE00",stop:0},{value:"#98CB00",stop:100}],clip:"padding-box"}],[QE.Green,{angle:227,colors:[{value:"#00C853",stop:0},{value:"#008537",stop:100}],clip:"padding-box"}],[QE.DarkGreen,{angle:224,colors:[{value:"#22AC14",stop:0},{value:"#0B8500",stop:100}],clip:"padding-box"}],[QE.Orange,{angle:223,colors:[{value:"#FFAC07",stop:0},{value:"#FF7700",stop:100}],clip:"padding-box"}],[QE.OrangeRed,{angle:223,colors:[{value:"#FF8800",stop:0},{value:"#FF4E00",stop:100}],clip:"padding-box"}],[QE.Coral,{angle:227,colors:[{value:"#F9307F",stop:0},{value:"#C2185B",stop:100}],clip:"padding-box"}],[QE.BrightRed,{angle:220,colors:[{value:"#FF6534",stop:0},{value:"#DB2D00",stop:100}],clip:"padding-box"}],[QE.Red,{angle:224,colors:[{value:"#FF4013",stop:0},{value:"#D32F2F",stop:100}],clip:"padding-box"}],[QE.Purple,{angle:222,colors:[{value:"#B87CCF",stop:0},{value:"#A400AA",stop:100}],clip:"padding-box"}],[QE.Violet,{angle:142,colors:[{value:"#7848EE",stop:0},{value:"#512DA8",stop:100}],clip:"padding-box"}],[QE.CelestialBlue,{angle:224,colors:[{value:"#0091EA",stop:0},{value:"#0058EF",stop:100}],clip:"padding-box"}],[QE.Blue,{angle:223,colors:[{value:"#0058EF",stop:0},{value:"#014BCB",stop:100}],clip:"padding-box"}],[QE.LightBlue,{angle:231,colors:[{value:"#03A9F4",stop:0},{value:"#0075EA",stop:100}],clip:"padding-box"}],[QE.NavyBlue,{angle:143,colors:[{value:"#4F43C2",stop:0},{value:"#28216B",stop:100}],clip:"padding-box"}],[QE.DarkTurquoise,{angle:226,colors:[{value:"#009688",stop:0},{value:"#00665C",stop:100}],clip:"padding-box"}],[QE.Turquoise,{angle:228,colors:[{value:"#00BFA5",stop:0},{value:"#04A58F",stop:100}],clip:"padding-box"}]]),nN=e=>({size:"cover",position:{x:"0%",y:"0%"},url:`url(${n(50416)("./"+e+"-background.svg")})`,clip:"padding-box"}),iN=new Map([[QE.LightGreen,{color:XE.get(QE.LightGreen),gradient:tN.get(QE.LightGreen),image:nN(QE.LightGreen)}],[QE.Green,{color:XE.get(QE.Green),gradient:tN.get(QE.Green),image:nN(QE.Green)}],[QE.DarkGreen,{color:XE.get(QE.DarkGreen),gradient:tN.get(QE.DarkGreen),image:nN(QE.DarkGreen)}],[QE.Orange,{color:XE.get(QE.Orange),gradient:tN.get(QE.Orange),image:nN(QE.Orange)}],[QE.OrangeRed,{color:XE.get(QE.OrangeRed),gradient:tN.get(QE.OrangeRed),image:nN(QE.OrangeRed)}],[QE.Coral,{color:XE.get(QE.Coral),gradient:tN.get(QE.Coral),image:nN(QE.Coral)}],[QE.BrightRed,{color:XE.get(QE.BrightRed),gradient:tN.get(QE.BrightRed),image:nN(QE.BrightRed)}],[QE.Red,{color:XE.get(QE.Red),gradient:tN.get(QE.Red),image:nN(QE.Red)}],[QE.Purple,{color:XE.get(QE.Purple),gradient:tN.get(QE.Purple),image:nN(QE.Purple)}],[QE.Violet,{color:XE.get(QE.Violet),gradient:tN.get(QE.Violet),image:nN(QE.Violet)}],[QE.CelestialBlue,{color:XE.get(QE.CelestialBlue),gradient:tN.get(QE.CelestialBlue),image:nN(QE.CelestialBlue)}],[QE.Blue,{color:XE.get(QE.Blue),gradient:tN.get(QE.Blue),image:nN(QE.Blue)}],[QE.LightBlue,{color:XE.get(QE.LightBlue),gradient:tN.get(QE.LightBlue),image:nN(QE.LightBlue)}],[QE.NavyBlue,{color:XE.get(QE.NavyBlue),gradient:tN.get(QE.NavyBlue),image:nN(QE.NavyBlue)}],[QE.DarkTurquoise,{color:XE.get(QE.DarkTurquoise),gradient:tN.get(QE.DarkTurquoise),image:nN(QE.DarkTurquoise)}],[QE.Turquoise,{color:XE.get(QE.Turquoise),gradient:tN.get(QE.Turquoise),image:nN(QE.Turquoise)}]]),rN=new Map([[QE.LightGreen,{default:{color:XE.get(QE.LightGreen),gradient:tN.get(QE.LightGreen)},hover:{color:eN.get(QE.LightGreen)}}],[QE.Green,{default:{color:XE.get(QE.Green),gradient:tN.get(QE.Green)},hover:{color:eN.get(QE.Green)}}],[QE.DarkGreen,{default:{color:XE.get(QE.DarkGreen),gradient:tN.get(QE.DarkGreen)},hover:{color:eN.get(QE.DarkGreen)}}],[QE.Orange,{default:{color:XE.get(QE.Orange),gradient:tN.get(QE.Orange)},hover:{color:eN.get(QE.Orange)}}],[QE.OrangeRed,{default:{color:XE.get(QE.OrangeRed),gradient:tN.get(QE.OrangeRed)},hover:{color:eN.get(QE.OrangeRed)}}],[QE.Coral,{default:{color:XE.get(QE.Coral),gradient:tN.get(QE.Coral)},hover:{color:eN.get(QE.Coral)}}],[QE.BrightRed,{default:{color:XE.get(QE.BrightRed),gradient:tN.get(QE.BrightRed)},hover:{color:eN.get(QE.BrightRed)}}],[QE.Red,{default:{color:XE.get(QE.Red),gradient:tN.get(QE.Red)},hover:{color:eN.get(QE.Red)}}],[QE.Purple,{default:{color:XE.get(QE.Purple),gradient:tN.get(QE.Purple)},hover:{color:eN.get(QE.Purple)}}],[QE.Violet,{default:{color:XE.get(QE.Violet),gradient:tN.get(QE.Violet)},hover:{color:eN.get(QE.Violet)}}],[QE.CelestialBlue,{default:{color:XE.get(QE.CelestialBlue),gradient:tN.get(QE.CelestialBlue)},hover:{color:eN.get(QE.CelestialBlue)}}],[QE.Blue,{default:{color:XE.get(QE.Blue),gradient:tN.get(QE.Blue)},hover:{color:eN.get(QE.Blue)}}],[QE.LightBlue,{default:{color:XE.get(QE.LightBlue),gradient:tN.get(QE.LightBlue)},hover:{color:eN.get(QE.LightBlue)}}],[QE.NavyBlue,{default:{color:XE.get(QE.NavyBlue),gradient:tN.get(QE.NavyBlue)},hover:{color:eN.get(QE.NavyBlue)}}],[QE.DarkTurquoise,{default:{color:XE.get(QE.DarkTurquoise),gradient:tN.get(QE.DarkTurquoise)},hover:{color:eN.get(QE.DarkTurquoise)}}],[QE.Turquoise,{default:{color:XE.get(QE.Turquoise),gradient:tN.get(QE.Turquoise)},hover:{color:eN.get(QE.Turquoise)}}]]);function aN(e){return{get color(){var t,n;return(null===(n=null===(t=rN.get(e))||void 0===t?void 0:t.default)||void 0===n?void 0:n.color)||e},get hoverColor(){var t,n;return(null===(n=null===(t=rN.get(e))||void 0===t?void 0:t.hover)||void 0===n?void 0:n.color)||e}}}function oN(e){return{get color(){var t;return(null===(t=iN.get(e))||void 0===t?void 0:t.color)||e},get gradientColor(){var t;const n=null===(t=iN.get(e))||void 0===t?void 0:t.gradient;if(!n)return e;const i=n.colors.map((({value:e,stop:t})=>`${e} ${t}%`));return`linear-gradient(${n.angle}deg, ${i.join(",")}) ${n.clip}`},get backgroundImage(){var t;const n=null===(t=iN.get(e))||void 0===t?void 0:t.image;return n?`${n.url} ${n.position.x}${n.position.y} / ${n.size} ${n.clip}`:null}}}function sN(e,t=-2048){let n=parseInt(e.substr(1),16);if(!isNaN(n)){n+=t;let e=n.toString(16);if(e="#"+new Array(7-e.length).join("0")+e,/^#[0-9a-f]{6}$/i.test(e))return e}return e}var lN=n(87897),cN=(()=>(function(e){e.FullFill="full-fill",e.WithoutFill="without-fill",e.PartialFill="partial-fill"}(cN||(cN={})),cN))(),dN=(()=>(function(e){e.Area="area",e.Bar="bar",e.Doughnut="doughnut",e.HorizontalBar="horizontal-bar",e.Line="line",e.Pie="pie",e.Scatter="scatter",e.Spline="spline",e.Funnel="tsfunnel"}(dN||(dN={})),dN))();function uN(e){return`chart-widget-${e}-menu.icon`}function pN(e,t,n){if(!e||0===e.size)return[];const i=[];return e.forEach(((e,n)=>{var r;n!==dN.Pie&&i.push({handleItemClick:()=>t(e),type:"crt.MenuItem",caption:(r=n,`CDK.ChartWidget.${(0,lN.Z)(r).replace(" ","")}.Caption`),icon:uN(n)})})),i}function mN(e,t){return{type:"crt.Label",labelTextAlign:"center",caption:t.instant(e),labelColor:"#004FD6",labelBackgroundColor:"transparent",labelStyle:{"text-transform":"uppercase"}}}function hN(e,t){if(1&e&&(l["ɵɵelementStart"](0,"div",3),l["ɵɵtext"](1),l["ɵɵelementEnd"]()),2&e){const e=l["ɵɵnextContext"]();l["ɵɵstyleProp"]("color",e.titleColor),l["ɵɵproperty"]("title",e.title),l["ɵɵattribute"]("data-qa",e.title),l["ɵɵadvance"](1),l["ɵɵtextInterpolate1"](" ",e.title," ")}}function gN(e,t){1&e&&l["ɵɵelement"](0,"mat-icon",15)}function fN(e,t){1&e&&l["ɵɵelement"](0,"mat-icon",16)}function vN(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵelementStart"](0,"div",6),l["ɵɵelementStart"](1,"button",12),l["ɵɵlistener"]("click",(function(){l["ɵɵrestoreView"](e);return l["ɵɵnextContext"](2).handleFullScreenClick()})),l["ɵɵtemplate"](2,gN,1,0,"mat-icon",13),l["ɵɵtemplate"](3,fN,1,0,"mat-icon",14),l["ɵɵelement"](4,"div",9),l["ɵɵelementEnd"](),l["ɵɵelementEnd"]()}if(2&e){const e=l["ɵɵnextContext"](2);l["ɵɵadvance"](1),l["ɵɵstyleProp"]("filter",e.buttonFilter),l["ɵɵproperty"]("tsDataItemMarker","widget-header-resize-button"),l["ɵɵattribute"]("aria-label",e.fullScreenLabel),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",!e.isFullScreenMode),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",e.isFullScreenMode)}}const bN=function(e,t,n,i,r){return{"not-full-screen":e,"menu-not-active":t,"is-mobile":n,"tools-rtl":i,"tools-ltr":r}};function CN(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵelementStart"](0,"div",4),l["ɵɵtemplate"](1,vN,5,6,"div",5),l["ɵɵelementStart"](2,"div",6),l["ɵɵelementStart"](3,"button",7),l["ɵɵlistener"]("menuOpened",(function(){l["ɵɵrestoreView"](e);return l["ɵɵnextContext"]().onMenuOpened()}))("menuClosed",(function(){l["ɵɵrestoreView"](e);return l["ɵɵnextContext"]().onMenuClosed()})),l["ɵɵelement"](4,"mat-icon",8),l["ɵɵelement"](5,"div",9),l["ɵɵelementEnd"](),l["ɵɵelement"](6,"crt-menu",10,11),l["ɵɵelementEnd"](),l["ɵɵelementEnd"]()}if(2&e){const e=l["ɵɵreference"](7),t=l["ɵɵnextContext"]();l["ɵɵproperty"]("ngClass",l["ɵɵpureFunction5"](7,bN,!t.isFullScreenMode,!t.isMenuActive,t.isMobile,t.isRtl,!t.isRtl)),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",null==t.headerConfig?null:t.headerConfig.showFullScreen),l["ɵɵadvance"](2),l["ɵɵstyleProp"]("filter",t.buttonFilter),l["ɵɵproperty"]("crtMenuTriggerFor",e)("tsDataItemMarker","widget-header-menu-button"),l["ɵɵadvance"](3),l["ɵɵproperty"]("items",t.menuItems)}}let yN=(()=>{class e{constructor(e,t){this._directionality=e,this._translationService=t,this.iconPosition=fb.OnlyIcon,this.isShowLayoutTools=!1,this.isFullScreenMode=!1,this.directionTypes=["column","row","row-reverse"],this.isMenuActive=!1,this.isRtl=!1,this.showTools=!1,this.showChartSeriesDrilldown=new l.EventEmitter,this.switchChartType=new l.EventEmitter,this.switchDirectionType=new l.EventEmitter,this.fullScreenStateChanged=new l.EventEmitter,this._initializeDirectionality()}set widgetConfig(e){(0,Ed.Z)(e,this._widgetConfig)||(this.title=null==e?void 0:e.title,this._widgetConfig=e,this._setTheme(this._widgetConfig))}get widgetConfig(){return this._widgetConfig}get fullScreenLabel(){const e=this.isFullScreenMode?"CollapseLabel":"ExpandLabel";return this._translationService.instant("CDK.HeaderWidget.Fullscreen."+e)}set headerConfig(e){e&&(this.showTools=e.showTools,this.isFullScreenMode=e.isFullScreenMode,this.title=null==e?void 0:e.title,this.chartsSeries=e.chartsSeries,this._headerConfig=e,this.isShowLayoutTools=e.showLayoutTools,this._setTheme({theme:e.theme,color:e.color}),this.menuItems=this._createMenu())}get headerConfig(){return this._headerConfig}get isMobile(){const e=navigator.userAgent;return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini|Mobile|mobile|CriOS/i.test(e)}onKeydownHandler(e){"Escape"===e.key&&this.isFullScreenMode&&this.handleFullScreenClick()}handleDirectionMenuItemClick(e){this.switchDirectionType.emit(e)}handleFullScreenClick(){this.isFullScreenMode=!this.isFullScreenMode,this.fullScreenStateChanged.emit(this.isFullScreenMode)}handleMenuItemClick(e){this.switchChartType.emit(e)}handleSeriesClick(e){this.showChartSeriesDrilldown.emit(e.index)}onMenuOpened(){this.isMenuActive=!0}onMenuClosed(){this.isMenuActive=!1}getChangeDirectionOptionCaption(e){const t=this._convertDirectionOption(e);return`CDK.HeaderWidget.Direction.${(0,lN.Z)(t).replace(/\s/g,"")}.Caption`}getChangeDirectionOptionIconName(e){return`layout-position-${this._convertDirectionOption(e)}`}_createMenu(){var e,t;const n=[];return this._createChartSeriesMenu(n,null===(e=this.headerConfig)||void 0===e?void 0:e.displayDataSeries),n.push({type:"crt.MenuItem",icon:"change-layout-icon",items:this._createDirectionOptionsMenu(),visible:null===(t=this.headerConfig)||void 0===t?void 0:t.showLayoutTools,caption:"CDK.HeaderWidget.Direction.Menu.Caption"}),this.chartsSeries&&this._setChartTypeMenuItems(n,this.chartsSeries),n}_createChartSeriesMenu(e,t){!t||t.length<=0||e.push({type:"crt.MenuItem",caption:"CDK.ChartWidget.Common.ShowSeriesDataCaption",icon:"chart-show-data.icon",items:this._createChartSeriesMenuItems(t)})}_createChartSeriesMenuItems(e){const t=[];return e.forEach((e=>{const n=oN(e.color);t.push({handleItemClick:()=>this.handleSeriesClick(e),type:"crt.MenuItem",caption:e.label,iconColor:null==n?void 0:n.color,icon:"dot.icon"})})),t}_setChartTypeMenuItems(e,t){var n,i;e.push({type:"crt.MenuDivider",visible:Boolean((null===(n=this.headerConfig)||void 0===n?void 0:n.showLayoutTools)||(null===(i=this.headerConfig)||void 0===i?void 0:i.displayDataSeries))}),e.push(mN("CDK.ChartWidget.ChangeChartType.Caption",this._translationService),...pN(t,this.handleMenuItemClick.bind(this),this._translationService))}_createDirectionOptionsMenu(){const e=[];return this.directionTypes.forEach((t=>{e.push({handleItemClick:()=>this.handleDirectionMenuItemClick(t),type:"crt.MenuItem",caption:this.getChangeDirectionOptionCaption(t),icon:this.getChangeDirectionOptionIconName(t)})})),e}_setTheme(e){const{theme:t,color:n=KE}=e||{},i=oN(n);switch(t){case cN.WithoutFill:this.headerThemeCssClass=cN.WithoutFill,this.background=KE,this.titleColor=i.color,this.buttonFilter=nw().hexToFilter(this.titleColor).color;break;case cN.PartialFill:this.headerThemeCssClass=cN.PartialFill,this.background=`${i.gradientColor} no-repeat 0% 0% / 100% 13px`,this.titleColor=i.color,this.buttonFilter=nw().hexToFilter(this.titleColor).color;break;default:{const e=[i.backgroundImage,i.gradientColor];this.headerThemeCssClass="",this.titleColor=KE,this.background=(0,ff.Z)(e).join(","),this.buttonFilter=nw().hexToFilter(KE).color}}this.headerThemeCssClass+=` widget-header-${this.isRtl?"rtl":"ltr"} ${this.showTools?"tools-shows":""}`}_convertDirectionOption(e){return this.isRtl&&"column"!==e?"row"===e?"row-reverse":"row":e}_initializeDirectionality(){var e;this.isRtl="rtl"===(null===(e=this._directionality)||void 0===e?void 0:e.value)}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](en.Is),l["ɵɵdirectiveInject"](u.sK))},e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["crt-widget-header"]],hostBindings:function(e,t){1&e&&l["ɵɵlistener"]("keydown",(function(e){return t.onKeydownHandler(e)}),!1,l["ɵɵresolveDocument"])},inputs:{widgetConfig:"widgetConfig",headerConfig:"headerConfig",showTools:"showTools",chartsSeries:"chartsSeries"},outputs:{showChartSeriesDrilldown:"showChartSeriesDrilldown",switchChartType:"switchChartType",switchDirectionType:"switchDirectionType",fullScreenStateChanged:"fullScreenStateChanged"},decls:3,vars:5,consts:[[1,"widget-header",3,"ngClass"],["class","widget-title",3,"title","color",4,"ngIf"],["class","tools",3,"ngClass",4,"ngIf"],[1,"widget-title",3,"title"],[1,"tools",3,"ngClass"],["class","tool-item",4,"ngIf"],[1,"tool-item"],["tabindex","0",1,"action-button",3,"crtMenuTriggerFor","tsDataItemMarker","menuOpened","menuClosed"],["svgIcon","menu"],[1,"button-hover"],[3,"items"],["dirTypes",""],["role","button","tabindex","0",1,"action-button",3,"tsDataItemMarker","click"],["svgIcon","maximize-icon",4,"ngIf"],["svgIcon","minimize-icon",4,"ngIf"],["svgIcon","maximize-icon"],["svgIcon","minimize-icon"]],template:function(e,t){1&e&&(l["ɵɵelementStart"](0,"div",0),l["ɵɵtemplate"](1,hN,2,5,"div",1),l["ɵɵtemplate"](2,CN,8,13,"div",2),l["ɵɵelementEnd"]()),2&e&&(l["ɵɵstyleProp"]("background",t.background),l["ɵɵproperty"]("ngClass",t.headerThemeCssClass),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",t.title),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",t.showTools))},directives:[o.NgClass,o.NgIf,sw,Gh,St.Hw,Wy],styles:[".analytics-widget crt-widget-header>.widget-header>.tools.not-full-screen.menu-not-active{opacity:0}.analytics-widget:hover crt-widget-header>.widget-header>.tools.not-full-screen.menu-not-active,.analytics-widget crt-widget-header>.widget-header>.tools.not-full-screen.menu-not-active.is-mobile{opacity:1}.widget-header{display:flex;height:calc(38px + 8px);align-items:flex-start;justify-content:flex-end;border-radius:8px 8px 0 0;background-size:cover;background-repeat:no-repeat}.widget-header.partial-fill{background-size:100% 5px}.widget-header.partial-fill .widget-title{margin-top:5px;height:27px;line-height:27px;border-radius:8px 8px 0 0}.widget-header-ltr.tools-shows .widget-title{padding-right:60px}.widget-header-ltr.tools-shows .tools{right:10px}.widget-header-rtl.tools-shows .widget-title{padding-left:60px}.widget-header-rtl.tools-shows .tools{left:10px}.widget-header .widget-title{width:100%;height:38px;padding:0 16px;font-size:16px;line-height:38px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.widget-header .tools{margin:0;display:flex;height:38px;align-items:center;position:absolute;top:0;transition:opacity .35s}.widget-header .tools .tool-item{position:relative}.widget-header .tools .tool-item .action-button{border:none;padding:0;outline:none;cursor:pointer;box-sizing:content-box;width:24px;height:24px;display:flex;align-items:center;justify-content:center;background-color:transparent}.widget-header .tools .tool-item .action-button .button-hover{position:absolute;top:50%;left:50%;height:50%;width:50%;transform:translate(-50%,-50%);background-color:transparent;border-radius:5px;transition:all .3s}.widget-header .tools .tool-item .action-button:hover .button-hover{background-color:rgba(0,0,0,.15);width:100%;height:100%}.widget-header .tools .tool-item .action-button mat-icon{width:16px;height:16px}.widget-header .tools .tool-item .chart-icon{display:flex;width:16px;height:16px;line-height:16px}.widget-header .tools .tool-item .arrow-down{display:flex;width:8px;height:16px;line-height:16px;margin-left:4px}"],encapsulation:2}),e})();function wN(e,t){1&e&&(l["ɵɵelementStart"](0,"div",7),l["ɵɵprojection"](1,1),l["ɵɵelementEnd"]())}function _N(e,t){1&e&&l["ɵɵelement"](0,"mat-icon",8)}const xN=["*",[["mat-icon"]]],IN=["*","mat-icon"];let SN=(()=>{class e{constructor(e){this._directionality=e,this.isRtl=!1,this.hasCustomIcon=!1,this.widgetHeaderClick=new l.EventEmitter,this._initializeDirectionality()}set backgroundImageName(e){this._backgroundImageName=e}get backgroundImageName(){return this._backgroundImageName}_initializeDirectionality(){this.isRtl="rtl"===this._directionality.value}onClickHandler(){this.widgetHeaderClick.emit()}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](en.Is))},e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["crt-card-widget-header"]],hostVars:2,hostBindings:function(e,t){1&e&&l["ɵɵlistener"]("click",(function(){return t.onClickHandler()})),2&e&&l["ɵɵclassProp"]("rtl",t.isRtl)},inputs:{isRtl:"isRtl",caption:"caption",hasCustomIcon:"hasCustomIcon",backgroundImageName:"backgroundImageName"},outputs:{widgetHeaderClick:"widgetHeaderClick"},ngContentSelectors:IN,decls:9,vars:4,consts:[[1,"card-widget-header"],[1,"card-widget-header-text"],[1,"card-widget-header-text-caption"],[3,"tsDataItemMarker"],[1,"card-widget-header-text-content"],["class","custom-icon-container",4,"ngIf"],["class","card-widget-header-arrow","svgIcon","widget-header-arrow",4,"ngIf"],[1,"custom-icon-container"],["svgIcon","widget-header-arrow",1,"card-widget-header-arrow"]],template:function(e,t){1&e&&(l["ɵɵprojectionDef"](xN),l["ɵɵelementStart"](0,"div",0),l["ɵɵelementStart"](1,"div",1),l["ɵɵelementStart"](2,"div",2),l["ɵɵelementStart"](3,"label",3),l["ɵɵtext"](4),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵelementStart"](5,"div",4),l["ɵɵprojection"](6),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵtemplate"](7,wN,2,0,"div",5),l["ɵɵtemplate"](8,_N,1,0,"mat-icon",6),l["ɵɵelementEnd"]()),2&e&&(l["ɵɵadvance"](3),l["ɵɵproperty"]("tsDataItemMarker","card-widget-header-text-caption"),l["ɵɵadvance"](1),l["ɵɵtextInterpolate1"](" ",t.caption," "),l["ɵɵadvance"](3),l["ɵɵproperty"]("ngIf",t.hasCustomIcon),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",!t.hasCustomIcon))},directives:[Gh,o.NgIf,St.Hw],styles:["crt-card-widget-header{position:relative;display:block}crt-card-widget-header.rtl .card-widget-header-arrow{transform:rotate(180deg)}.card-widget-header{padding:16px 16px 12px;min-height:60px;width:100%;display:flex;flex-direction:row;align-items:center;cursor:pointer;background-size:cover}.card-widget-header .card-widget-header-text{width:calc(100% - 26px)}.card-widget-header .card-widget-header-text .card-widget-header-text-caption{font-size:14px;line-height:18px;letter-spacing:1.5px;color:#fff;text-transform:uppercase;font-family:Montserrat,serif;font-weight:700;overflow:hidden;flex-wrap:wrap}.card-widget-header .card-widget-header-text .card-widget-header-text-caption label{cursor:pointer}.card-widget-header .card-widget-header-text .card-widget-header-text-content{cursor:pointer;display:flex;flex-direction:row;font-size:12px;line-height:16px;color:#fff;flex-wrap:wrap;opacity:.8}.card-widget-header .card-widget-header-text .card-widget-header-text-content *{cursor:pointer}.card-widget-header .card-widget-header-arrow{width:26px;height:26px}"],encapsulation:2,changeDetection:0}),e})(),MN=(()=>{class e{constructor(e,t){this._matIconRegistry=e,this._domSanitizer=t,this._registerIcons()}_registerIcons(){["layout-position-column","layout-position-row-reverse","layout-position-row","menu","maximize-icon","minimize-icon","switch-chart-type","widget-header-arrow","chart-show-data.icon","chart-widget-tsfunnel-menu.icon","chart-widget-doughnut-menu.icon","chart-widget-horizontal-bar-menu.icon","chart-widget-bar-menu.icon","chart-widget-area-menu.icon","chart-widget-spline-menu.icon","chart-widget-scatter-menu.icon","chart-widget-line-menu.icon","dot.icon","change-layout-icon"].forEach((e=>{const t=n(9596)("./"+e+".svg");this._matIconRegistry.addSvgIconLiteral(e,this._domSanitizer.bypassSecurityTrustHtml(t))}))}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](St.jv),l["ɵɵinject"](i.DomSanitizer))},e.ɵmod=l["ɵɵdefineNgModule"]({type:e}),e.ɵinj=l["ɵɵdefineInjector"]({imports:[[o.CommonModule,St.Ps,$p.Tx,Hg,Kw,Ow]]}),e})();("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](MN,{declarations:[yN,SN],imports:[o.CommonModule,St.Ps,$p.Tx,Hg,Kw,Ow],exports:[yN,SN]});let DN=(()=>{class e{constructor(e,t){this._renderer=e,this._elementRef=t,this._resizeDebounceFn=(0,ph.Z)((e=>this.resized.emit(e[0])),100),this.resized=new l.EventEmitter}_createResizeElement(e){const t=document.createElement("div");return t.className="resize-element",t.style.position="absolute",t.style.left="0",t.style.top="0",t.style.right="0",t.style.bottom="0",t.style.overflow="hidden",t.style.pointerEvents="none",t.style.visibility="hidden",t.style.zIndex="-1",this._renderer.appendChild(e,t),t}createResizeObserver(){const e=this._elementRef.nativeElement.parentElement;if(!e)return;const t=this._createResizeElement(e);this._resizeObserver=new On.Z(this._resizeDebounceFn),this._resizeObserver.observe(t)}ngAfterViewInit(){this.createResizeObserver()}ngOnDestroy(){var e;null===(e=this._resizeObserver)||void 0===e||e.disconnect()}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](l.Renderer2),l["ɵɵdirectiveInject"](l.ElementRef))},e.ɵdir=l["ɵɵdefineDirective"]({type:e,selectors:[["","crtResizeObserver",""]],outputs:{resized:"resized"}}),e})(),PN=(()=>{class e{constructor(e,t,n,i){this._cellViewConfigCreatorFactory=e,this._userProfileService=t,this._dataSchemaRepository=n,this._userInfo=i}get analyticsUserProfileKeyPrefix(){return`AnalyticsColumns_${this._userInfo.cultureInfo.sysCultureId}`}_generateColumnConfigs(e,t){const{config:n}=t;let i=[e.primaryDisplayAttributeName,...n.groupBy];n.aggregateBy&&(i=[...i,n.aggregateBy]),i=i.filter(Boolean);return[...new Set(i)].map((e=>({path:e})))}_generateColumnConfig(e,t,n){let i=e.findAttributeByName(t.path);i||(i={dataValueType:t.dataValueType,caption:t.caption,name:t.path,path:t.path});const r={dataSourceName:`${n.dataSourceName}`,dataSchema:e,itemsAttributeName:`$${n.listDataAttributeName}`,viewModel:n.$context},a=i.caption;return Gp(r,i,this._cellViewConfigCreatorFactory,a).toPromise()}_fillColumnsData(e,t,n){return(0,a.mG)(this,void 0,void 0,(function*(){return yield Promise.all(e.map((e=>(0,a.mG)(this,void 0,void 0,(function*(){return Object.assign(Object.assign({},yield this._generateColumnConfig(t,e,n)),{path:e.path,width:e.width,sticky:e.sticky})})))))}))}_getSchema(e){return this._dataSchemaRepository.get(e)}getAnalystColumnProfileData(e){const t=this.getAnalyticsColumnsFromUserProfile(e),n=this.getDefaultAnalyticsColumns(e);return(0,h.forkJoin)([t,n]).pipe((0,g.U)((([e,t])=>null!=e?e:t)))}getAnalyticsColumnsFromUserProfile(e){const t=`${this.analyticsUserProfileKeyPrefix}_${this._userInfo.contactId}_${e}`;return this._userProfileService.getProfile(t)}getDefaultAnalyticsColumns(e){const t=`${this.analyticsUserProfileKeyPrefix}_${e}`;return this._userProfileService.getProfile(t)}saveAnalyticsColumnsToUserProfile(e,t){const n=`${this.analyticsUserProfileKeyPrefix}_${this._userInfo.contactId}_${e}`,i={columns:null==t?void 0:t.columns,sorting:null==t?void 0:t.sorting};return this._userProfileService.saveProfile(n,i)}saveAnalyticsColumnsToAllUsers(e,t){const n=`${this.analyticsUserProfileKeyPrefix}_${e}`,i={columns:[...t.columns],sorting:t.sorting};return this._userProfileService.saveDefaultProfile(n,i)}initColumns(e,t){return(0,a.mG)(this,void 0,void 0,(function*(){const{config:n}=e,i=yield this._dataSchemaRepository.get(n.schemaName).toPromise();t=yield this._fillColumnsData(t,i,e);return{primaryColumnName:`${e.dataSourceName}_${i.primaryAttributeName}`,columns:t}}))}getColumns(e){this._columnDataProfile=null;const{config:t}=e;return this._getSchema(t.schemaName).pipe((0,g.U)((t=>this._generateColumnConfigs(t,e))))}getPrimaryDisplayColumnName(e){const{config:t}=e;return this._getSchema(t.schemaName).pipe((0,g.U)((e=>e.primaryDisplayAttributeName)))}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](Ok),l["ɵɵinject"](Vs),l["ɵɵinject"](Kl),l["ɵɵinject"](Yr))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})(),TN=class extends r.DataRequest{};TN=(0,a.gn)([(0,r.CrtRequest)({type:"crt.WidgetDrilldownRequest"})],TN);let kN=class extends r.BaseRequestHandler{constructor(e){super(),this._injector=e,this._columnDataProvider=this._injector.get(PN)}_formCustomFilters(e){var t,n;const i=[];e.groupByValue&&this._applyPointFilters(e,i),(null===(t=e.filters)||void 0===t?void 0:t.widgetFilters)&&this._applyWidgetFilters(e,i);const r=null===(n=e.filters)||void 0===n?void 0:n.pageBindingFilter;return(null==r?void 0:r.path)&&(null==r?void 0:r.rootSchemaPrimaryColumnValue)&&this._applyPageBindingFilter(r,i),i}_applyPointFilters(e,t){const n=new r.FilterGroup(r.LogicalOperatorType.And);e.groupByValue.dataValueType===r.DataValueType.DateTime?this._generateDateTimeFilter(e,n):null===e.groupByValue.value?n.addSchemaColumnIsNullFilter(e.groupBy[0]):n.addSchemaColumnFilterWithParameter(r.ComparisonType.Equal,e.groupBy[0],e.groupByValue.value);let i=0;n.filters.forEach((e=>{t.push({loadOnChange:!0,name:"PointFilter"+i++,value:e})}))}_applyWidgetFilters(e,t){var n;t.push({loadOnChange:!0,name:"BaseFilters",value:null===(n=e.filters)||void 0===n?void 0:n.widgetFilters})}_applyPageBindingFilter(e,t){const n=new r.CompareFilter(r.ComparisonType.Equal,new r.ColumnExpression({columnPath:null==e?void 0:e.path}),new r.ParameterExpression({value:null==e?void 0:e.rootSchemaPrimaryColumnValue}));t.push({loadOnChange:!0,name:"BindingFilters",value:n})}_generateDateTimeFilter(e,t){e.groupBy.forEach(((n,i)=>{const a=e.groupByValue.value[i],o=new r.DatePartFunctionExpression({datePartType:a.datePartType,functionArgument:new r.ColumnExpression({columnPath:n})}),s=new r.ParameterExpression({value:a.value,dataValueType:r.DataValueType.Integer});t.add(new r.CompareFilter(r.ComparisonType.Equal,o,s))}))}_formDataSourceAttributes(e){const t={};return e.forEach((e=>{t[e.path]={path:e.path,type:e.path.includes(".")?Bl.ForwardReferenceAttribute:Bl.OwnAttribute}})),t}_getSortingColumnName(e){return`${e.split(" ").join("").replace(/\./g,"_")}Sorting`}getColumns(e,t,n){return(0,a.mG)(this,void 0,void 0,(function*(){let i=[];return i=e.columns?e.columns:(null==n?void 0:n.columns)?n.columns:yield this._columnDataProvider.getColumns(t).toPromise(),i}))}_getSortingConfig(e,t){var n,i;return(0,a.mG)(this,void 0,void 0,(function*(){let r;if(!e.config.sortingConfig||!e.config.sortingConfig.default)if(null==t?void 0:t.sorting)r=t.sorting.map((e=>({columnName:e.columnCode,direction:e.direction})));else{const t=yield this._columnDataProvider.getPrimaryDisplayColumnName(e).toPromise();t&&(r=[{columnName:t,direction:"asc"}],e.config.sortingConfig={attributeName:"",default:r})}return{attributeName:this._getSortingColumnName(e.dataSourceName),default:null!==(i=null===(n=e.config.sortingConfig)||void 0===n?void 0:n.default)&&void 0!==i?i:r}}))}handle(e){return(0,a.mG)(this,void 0,void 0,(function*(){const{config:t}=e,n=e.$context,i=e.listConfigAttributeName;let r=[];r=this._formCustomFilters(t);const a=yield this._columnDataProvider.getAnalystColumnProfileData(t.schemaName).toPromise(),o=yield this.getColumns(t,e,a),s=this._formDataSourceAttributes(o),l=yield this._getSortingConfig(e,a);yield this.handlerChain.process({type:"crt.LoadDataRequest",$context:e.$context,config:{attributeName:e.listDataAttributeName,dataSourceConfig:{type:"crt.EntityDataSource",scope:"viewElement",config:{entitySchemaName:t.schemaName,attributes:s}},filtersConfig:r,pagingConfig:t.pagingConfig,sortingConfig:l}});const c=yield this._columnDataProvider.initColumns(e,o);n.setValue({[i]:c})}))}};kN.ɵfac=function(e){return new(e||kN)(l["ɵɵinject"](l.Injector))},kN.ɵprov=l["ɵɵdefineInjectable"]({token:kN,factory:kN.ɵfac,providedIn:"any"}),kN=(0,a.gn)([(0,r.CrtRequestHandler)({type:"crt.WidgetDrilldownHandler",requestType:"crt.WidgetDrilldownRequest"}),(0,a.w6)("design:paramtypes",[l.Injector])],kN);const EN="aggregation";let NN=(()=>{class e{constructor(e,t){this._queryExecutor=e,this._formatterFactory=t}_createEsq(e){const{schemaName:t,filters:n,sectionBindingColumn:i,aggregation:a}=e||{},o=new r.EntitySchemaQuery(t);return o.addColumn(a.column,"aggregation"),this._addFilters(n,o),this._addSectionBindingFilter(i,o),o}_addFilters(e,t){e&&t.filters.add(e.filter)}_addSectionBindingFilter(e,t){(null==e?void 0:e.path)&&e.rootSchemaPrimaryColumnValue&&t.filters.addSchemaColumnFilterWithParameter(r.ComparisonType.Equal,e.path,e.rootSchemaPrimaryColumnValue)}_formatData(e,t){return this._formatterFactory.resolveFormatter(t).format(null==e?void 0:e.toString(),t)}getWidgetData(e){const{providing:t,formatting:n}=e||{},i=this._createEsq(t);return this._queryExecutor.executeSelectQuery(i).pipe((0,Pn.w)((e=>(0,h.from)(e))),(0,g.U)((e=>this._formatData(e.aggregation,n))))}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](ps),l["ɵɵinject"](Zo))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"root"}),e})(),ON=class extends NN{constructor(e,t){super(e,t)}};ON=(0,a.gn)([(0,a.fM)(0,(0,l.Optional)()),(0,a.fM)(1,(0,l.Optional)()),(0,a.w6)("design:paramtypes",[ps,Zo])],ON);var jN=(()=>(function(e){e.Input="crt.Input",e.NumberInput="crt.NumberInput",e.Checkbox="crt.Checkbox",e.Combobox="crt.ComboBox",e.DateTime="crt.DateTimePicker",e.Slider="crt.Slider"}(jN||(jN={})),jN))();const AN={Input:{controlType:jN.Input,toolbarConfigName:"base-text-input",viewModelAttributeName:"StringAttribute",propertiesPanelComponentTypeName:"crt.EntityDataSourceTextAttributePropertiesPanel",forwardReferencePropertiesPanelComponentTypeName:"crt.EntityForwardReferenceAttributePropertiesPanel"},NumberInput:{controlType:jN.NumberInput,toolbarConfigName:"base-number-input",viewModelAttributeName:"NumberAttribute",propertiesPanelComponentTypeName:"crt.EntityDataSourceNumberAttributePropertiesPanel",forwardReferencePropertiesPanelComponentTypeName:"crt.EntityForwardReferenceAttributePropertiesPanel"},Checkbox:{controlType:jN.Checkbox,toolbarConfigName:"base-checkbox",viewModelAttributeName:"BooleanAttribute",propertiesPanelComponentTypeName:"crt.EntityDataSourceAttributePropertiesPanel",forwardReferencePropertiesPanelComponentTypeName:"crt.EntityForwardReferenceAttributePropertiesPanel"},Combobox:{controlType:jN.Combobox,toolbarConfigName:"base-combobox",viewModelAttributeName:"LookupAttribute",propertiesPanelComponentTypeName:"crt.EntityDataSourceLookupAttributePropertiesPanel",forwardReferencePropertiesPanelComponentTypeName:"crt.EntityForwardReferenceAttributePropertiesPanel"},DateTime:{controlType:jN.DateTime,toolbarConfigName:"base-datetimepicker",viewModelAttributeName:"DateTimeAttribute",propertiesPanelComponentTypeName:"crt.EntityDataSourceDateTimeAttributePropertiesPanel",forwardReferencePropertiesPanelComponentTypeName:"crt.EntityForwardReferenceAttributePropertiesPanel"}};var RN=(()=>(function(e){e.ViewElement="ViewElement",e.ViewElementBinding="ViewElementBinding",e.DataSource="DataSource",e.DataSourceAttribute="DataSourceAttribute",e.Page="Page"}(RN||(RN={})),RN))(),FN=(()=>(function(e){e[e.Add=0]="Add",e[e.Edit=1]="Edit"}(FN||(FN={})),FN))();class VN{static registerItem(e){VN._items.set(e.type,e.component)}getDesignerComponentType(e){return VN._items.get(e)||null}}VN._items=new Map,VN.ɵfac=function(e){return new(e||VN)},VN.ɵprov=l["ɵɵdefineInjectable"]({token:VN,factory:VN.ɵfac,providedIn:"root"});let LN=(()=>{class e{constructor(){this._metaItemDesignerOpened$=new h.Subject,this._metaItemDesignerClosed$=new h.Subject,this._destroyed$=new h.Subject}get metaItemDesignerOpened$(){return this._metaItemDesignerOpened$.pipe((0,b.R)(this._destroyed$))}get metaItemDesignerClosed$(){return this._metaItemDesignerClosed$.pipe((0,b.R)(this._destroyed$))}openMetaItemDesigner(e,t,n){this._metaItemDesignerOpened$.next(e?Object.assign({metaItemType:e,mode:t},n):null)}closeMetaItemDesigner(e){this._metaItemDesignerClosed$.next(e)}validate(){return{isValid:!0,messages:[]}}ngOnDestroy(){this._destroyed$.next(),this._destroyed$.complete()}}return e.ɵfac=function(t){return new(t||e)},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})(),zN=(()=>{class e{constructor(){this._subscribe$=new h.Subject,this._destroyed$=new h.Subject}publish(e){this._subscribe$.next(e)}get subscribe$(){return this._subscribe$.pipe((0,b.R)(this._destroyed$))}ngOnDestroy(){this._destroyed$.next(),this._destroyed$.complete()}}return e.ɵfac=function(t){return new(t||e)},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})(),BN=(()=>{class e{constructor(e){this._jsonApplierService=e}static _applyOperationByViewConfig(e,t,n){const i=t.settings.itemConfig,r=e.item.name===(null==i?void 0:i.name);if(r){const i=e.parent[e.propertyName];i instanceof Array&&n(i,e,t)}return r}static _insertValidate(e){if(!e.parentName)throw new Error('Invalid options, "parentName" is required.')}static _moveToIndexValidate(e){if(!e.parentName)throw new Error('Invalid options, "parentName" is required.');if("number"!=typeof e.index)throw new Error('Invalid options, "index" is required.')}static _validate(t){switch(t.operation){case kp.Insert:e._insertValidate(t);break;case kp.MoveToIndex:e._moveToIndexValidate(t)}}_updateViewConfig(t,n){ap.iterateChildItems(t,(t=>!e._applyOperationByViewConfig(t,n,this._updateConfigInProperty)),this)}_removeViewConfig(t,n){ap.iterateChildItems(t,(t=>!e._applyOperationByViewConfig(t,n,this._removeConfigInProperty)),this)}_moveViewConfig(t,n){ap.iterateChildItems(t,(t=>!e._applyOperationByViewConfig(t,n,this._moveConfigInProperty)),this)}_updateConfigInProperty(e,t,n){var i;const r=e.findIndex((e=>e.name===t.item.name));e[r]=(0,Ne.Z)(e[r],n.settings.itemConfig),null===(i=n.settings.applyPropertiesStrategies)||void 0===i||i.forEach((t=>{if(t.value===Ep.Override){const i=t.propertyPath.replace("itemConfig.","");(0,lo.Z)(e[r],i,(0,so.Z)((0,wa.Z)(n.settings,t.propertyPath)))}}))}_removeConfigInProperty(e,t){const n=e.findIndex((e=>e.name===t.item.name));e.splice(n,1)}_moveConfigInProperty(e,t,n){const i=e.findIndex((e=>e.name===t.item.name));e.splice(n.index,0,e.splice(i,1)[0])}_insertViewConfig(e,t){const n=t.parentPropertyName||"items";ap.iterateChildItems(e,(e=>{const i=e.item.name===t.parentName;return i&&((0,Hl.Z)(t.index)?e.item[n].push(t.settings.itemConfig):e.item[n].splice(t.index,0,t.settings.itemConfig)),!i}),this)}apply(t,n){const i=t.itemConfig;switch(e._validate(n),n.operation){case kp.Insert:this._insertViewConfig(i,n);break;case kp.Remove:this._removeViewConfig(i,n);break;case kp.Update:case kp.Move:this._updateViewConfig(i,n);break;case kp.MoveToIndex:this._moveViewConfig(i,n);break;case kp.MoveToContainer:this._removeViewConfig(i,n),this._insertViewConfig(i,n)}return{itemConfig:i}}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](ap))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})();function GN(e,t,n,i=new h.Subject){return(0,a.mG)(this,void 0,void 0,(function*(){yield e.create(t,n).pipe((0,b.R)(i),(0,$r.zg)((e=>e.execute()))).toPromise()}))}class HN{constructor(e){this._injector=e}static register(e,t){this._items.set(e,t)}static _getCommandType(e){return(0,h.of)(HN._items.get(e))}static exists(e){return HN._items.has(e)}exists(e){return HN._items.has(e)}create(e,t){return HN._getCommandType(e).pipe((0,En.b)((t=>{if(!t)throw new TypeError(`Type ${e} is not defined`)})),(0,g.U)((e=>new e(this._injector,t))),(0,$r.zg)((e=>e.init())))}}HN._items=new Map,HN.ɵfac=function(e){return new(e||HN)(l["ɵɵinject"](l.Injector))},HN.ɵprov=l["ɵɵdefineInjectable"]({token:HN,factory:HN.ɵfac,providedIn:"root"});const UN=new Map([["add","crt.AddViewItemCommand"],["change","crt.ChangeViewItemCommand"],["copy","crt.CopyViewItemCommand"],["remove","crt.RemoveViewItemCommand"]]);let ZN=(()=>{class e{constructor(e){this._commandFactoryService=e}_getViewItemCommand(e,t){var n,i;const r=Ws.designElementRegistrationInfos.get(e.type);return null!==(i=null===(n=null==r?void 0:r.designViewItemCommands)||void 0===n?void 0:n[t])&&void 0!==i?i:UN.get(t)}add(e){return this._commandFactoryService.create(UN.get("add"),e)}change(e,t,n){const i=this._getViewItemCommand(e,"change");return this._commandFactoryService.create(i,{name:e.name,changes:t,selectOnCanvas:n})}copy({viewElement:e,index:t,propertyName:n,parentName:i,copyMetadata:r}){const a=this._getViewItemCommand(e,"copy");return this._commandFactoryService.create(a,{name:e.name,layoutConfig:e.layoutConfig,index:t,propertyName:n,parentName:i,copyMetadata:r})}remove(e){const t=this._getViewItemCommand(e,"remove");return this._commandFactoryService.create(t,{itemName:e.name})}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](HN))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"root"}),e})();const $N="crt.CopyViewItemCommand";function WN(e){return e.split(/[.-]/).join("")}function qN(e,t){return Array(e).fill("").map((()=>Array(t).fill("")))}function YN(e,t){const n=null==e?void 0:e.map((e=>{const n=(0,so.Z)(e);for(const[e,i]of Object.entries(t))n[e]=i;return n}));return null!=n?n:[]}function JN(e,t){let n=!1;return e.forEach((e=>{const i=e.name===t;e.selected!==i&&(e.selected=i,n=!0)})),n}let QN=(()=>{class e{constructor(e,t,n,i){this._translateService=e,this._generateNameMacroProcessor=t,this._designElementRegistryService=n,this._viewCommandExecutor=i,this._separator="_"}static _generateName(e){const t=e.split(".").slice(1).join(".");return wt.generateUnique(t)}_nestedSet(e,t,n){const i=t.split(this._separator),r=i.pop(),a=i.reduce(((e,t)=>e[t]=e[t]||{}),e);"object"==typeof a&&(a[r]=n)}_getPropertyPath(e){if(-1===e.indexOf(this._separator))return e;const t=e.split(this._separator);return t.shift(),t.join(this._separator)}_isResourceMacros(e,t){return new RegExp("#ResourceString(.*"+t+".*)#$","g").test(e)}_setResourcesMacros(e,t,n){for(const[i,r]of Object.entries(e)){if((0,bi.Z)(r))continue;"string"==typeof r&&this._isResourceMacros(r,t)&&(e[i]=r.replace(t,n)),"object"==typeof r&&this._setResourcesMacros(r,t,n)}}_copyResources(e,t,n,i){const r=WN(e.name),a=WN(t.name);this._setResourcesMacros(t,r,a);const o={strings:{}};let s=[];return"object"==typeof(null==i?void 0:i.applyPostfix)&&(s=Object.keys(i.applyPostfix)),Object.entries(n.strings).filter((([e])=>e.startsWith(r))).forEach((([e,t])=>{const n=e.replace(r,a),l={};for(const[e,r]of Object.entries(t)){let t="";if(s.length){const e=s.findIndex((e=>n.endsWith(e)));if(e>=0){const n=i.applyPostfix[s[e]],r=n.translationKey;t=this._translateService.instant(r),n.parent&&delete i.applyPostfix[s[e]]}}l[e]=`${r}${t}`}o.strings[n]=l})),o}_isDefaultCopyDesignViewItemCommand(e){var t;const n=this._designElementRegistryService.get(e);return((null===(t=null==n?void 0:n.designViewItemCommands)||void 0===t?void 0:t.copy)||$N)===$N}_getCollectionPropertyNames(e){const t=this._designElementRegistryService.get(e);return(null==t?void 0:t.collectionPropertyNames)||["items"]}_processResources(t,n,i,r,a){const o=t.split(/[.-]/).join(""),s=this._translateService.currentLang,l={strings:{}},c=Xe(r,this._separator);Object.entries(c||{}).forEach((([e,t])=>{const n=this._getPropertyPath(e),r=`${o}${this._separator}${n}`,a=this._translateService.instant(t);this._nestedSet(i,e,`#ResourceString(${r})#`),l.strings[r]={[s]:a}}));const d=this._getCollectionPropertyNames(n);null==d||d.forEach((t=>{const n=null==i?void 0:i[t];n&&Array.isArray(n)&&(i[t]=n.map((t=>{const n=t,i=(null==n?void 0:n.name)||e._generateName(t.type);return this._processResources(i,t.type,t,t.defaultLocalizableStrings,l),delete t.defaultLocalizableStrings,t})))})),Object.assign(a.strings,l.strings)}create(t){const n=t.type,i=(0,so.Z)(t.defaultPropertyValues),r=i.name||e._generateName(n),a={strings:{}};return this._generateNameMacroProcessor.process(i),this._processResources(r,n,i,t.defaultLocalizableStrings,a),{itemConfig:Object.assign({name:r,type:n},i),resources:a}}*copy({viewConfig:t,resources:n,layoutConfig:i,parentName:r,parentPropertyName:a,originalName:o,copyMetadata:s}){const l=t,c=(0,so.Z)(l);c.name=e._generateName(l.type),c.layoutConfig=(0,so.Z)(i);const d=this._copyResources(t,c,n,s),u=this._getCollectionPropertyNames(l.type);u.forEach((e=>{l[e]&&(c[e]=[])})),yield[{itemConfig:c,resources:d},r,a,o];for(const e of u){const t=l[e];if(t)if("string"==typeof t)c[e]=t;else for(const i of t)this._isDefaultCopyDesignViewItemCommand(null==i?void 0:i.type)?yield*this.copy({viewConfig:i,resources:n,layoutConfig:i.layoutConfig,parentName:c.name,parentPropertyName:e,originalName:i.name,copyMetadata:s}):this._viewCommandExecutor.copy({viewElement:i,index:i.index,propertyName:e,parentName:c.name,copyMetadata:s}).pipe((0,Pn.w)((e=>e.execute())),(0,Tn.q)(1)).subscribe()}}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](u.sK),l["ɵɵinject"](r.GenerateNameMacroProcessor),l["ɵɵinject"](Ws),l["ɵɵinject"](ZN))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})();var KN=(()=>(function(e){e[e.DataSourceLoaded=0]="DataSourceLoaded",e[e.ViewModelGenerated=1]="ViewModelGenerated"}(KN||(KN={})),KN))();let XN=(()=>{class e{constructor(e){this._maskService=e,this._loadingPartComplete$=new h.Subject,this._initParts(),this._subscribeLoadingPartComplete()}_subscribeLoadingPartComplete(){this._loadingPartComplete$.subscribe((({loadingPart:e,state:t})=>{this._loadingsParts.set(e,t);[...this._loadingsParts.values()].every(Boolean)?this._maskService.hideBodyMask():this._maskService.isVisible||this._maskService.showBodyMask({delay:0})}))}_initParts(){this._loadingsParts=new Map([[KN.DataSourceLoaded,!1],[KN.ViewModelGenerated,!1]])}completeLoadingPart(e){this._loadingPartComplete$.next({loadingPart:e,state:!0})}resetLoadingPart(e){this._loadingPartComplete$.next({loadingPart:e,state:!1})}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](It))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"root"}),e})(),eO=(()=>{class e{constructor(){this._connectedDropList=[],this.connectedDropList$=new h.BehaviorSubject([])}_removeDropList(e){this._connectedDropList=this._connectedDropList.filter((t=>t!==e))}add(e){this._connectedDropList.includes(e)&&this._removeDropList(e),this._connectedDropList.unshift(e),this.connectedDropList$.next([...this._connectedDropList])}remove(e){this._removeDropList(e),this.connectedDropList$.next([...this._connectedDropList])}}return e.ɵfac=function(t){return new(t||e)},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"root"}),e})(),tO=(()=>{class e{constructor(e){this._connectedDropListService=e,this._destroyed$=new h.Subject,this._connectedDropListService.connectedDropList$.pipe((0,b.R)(this._destroyed$)).subscribe((e=>Yp.G_.registeredContainers=e))}ngOnDestroy(){this._destroyed$.next(),this._destroyed$.complete()}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](eO))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"root"}),e})(),nO=(()=>{class e extends Fp{constructor(e,t,n,i,r,a){super(a),this._connectedDropListService=e,this._designerLoaderService=t,this._designSettingsService=n,this._changesApplierService=i,this._designElementRegistryService=r}_updateSchemaResources(e){var t;const n=this._schema;n&&(null==e?void 0:e.strings)&&(null!==(t=n.resources)&&void 0!==t||(n.resources={strings:{}}),Object.entries(e.strings).forEach((([e,t])=>{n.resources.strings[e]=t})))}_applyChanges(e){var t;const n={itemConfig:null===(t=this._schema)||void 0===t?void 0:t.viewConfig};this._changesApplierService.apply(n,e)}_getRootNames(){var e;const t=null===(e=this._schema)||void 0===e?void 0:e.viewConfig;return(0,Tp.kJ)(t)?t.map((e=>e.name)):[null==t?void 0:t.name]}isRootContainer(e){return this._getRootNames().includes(e)}create({defaultViewConfig:e={},defaultConfig:t,parentName:n,propertyName:i,index:r}){const a=this._designSettingsService.create(t);a.itemConfig=Object.assign(Object.assign({},e),a.itemConfig);const o=kp.Insert;this._applyChanges({settings:a,operation:o,parentName:n,parentPropertyName:i,index:r}),this._updateSchemaResources(a.resources);const s=a.itemConfig;return this.schemaChanged$.next({schema:this._schema,changes:{viewConfig:s,operation:o,parentName:n,propertyName:i,index:r}}),s}update({itemConfig:e,resources:t,viewModelConfig:n,applyPropertiesStrategies:i,selectOnCanvas:r=!0}){const a=kp.Update;this._applyChanges({settings:{itemConfig:e,applyPropertiesStrategies:i},operation:a}),this._updateSchemaResources(t),this.updateSchemaViewModelConfig(n);const o=this.getViewConfigInfoByName(e.name).viewConfig||[];this.schemaChanged$.next({schema:this._schema,changes:{viewConfig:o,operation:a,selectOnCanvas:r}})}remove(e){const{viewConfig:t,parentName:n,index:i}=this.getViewConfigInfoByName(e);if(!t)return;const r=kp.Remove;this._applyChanges({settings:{itemConfig:t},operation:r}),this.schemaChanged$.next({schema:this._schema,changes:{viewConfig:t,operation:r,parentName:n,index:i}}),this._connectedDropListService.remove(e)}copy(e,t,n,i,r){var a;const o=i,{parentName:s,parentPropertyName:l,viewConfig:c}=this.getViewConfigInfoByName(e),d=this._schema.resources,u=this._designSettingsService.copy({viewConfig:c,layoutConfig:t,resources:d,parentName:s,parentPropertyName:n||l,copyMetadata:r});let p,m=null,h=null;do{if(p=u.next(),p.done){const{viewConfig:e}=this.getViewConfigInfoByName(h);this.schemaChanged$.next({schema:this._schema,changes:{viewConfig:e,operation:kp.Insert,parentName:s,propertyName:l,index:o}});break}const[e,t,n,r]=p.value;h=null!=h?h:null===(a=null==e?void 0:e.itemConfig)||void 0===a?void 0:a.name;const c=null!=i?i:this.getViewConfigInfoByName(r).index;this._applyChanges({settings:{itemConfig:e.itemConfig},operation:kp.Insert,parentName:t,parentPropertyName:n,index:c}),this._updateSchemaResources(e.resources),i=null,null!=m||(m=e.itemConfig)}while(!p.done);return m}undo(e){const{viewConfig:t,operation:n,parentName:i,index:r}=e;this._applyChanges({settings:{itemConfig:t},index:r,operation:n,parentName:i}),this.schemaChanged$.next({schema:this._schema,changes:{viewConfig:t,parentName:i,operation:n,index:r},restored:!0})}move(e,t){const n=kp.Move;let{viewConfig:i}=this.getViewConfigInfoByName(e);i=Object.assign(Object.assign({},i),{layoutConfig:t}),this._applyChanges({settings:{itemConfig:i},operation:n}),this.schemaChanged$.next({schema:this._schema,changes:{viewConfig:i,operation:n}})}moveToIndex(e,t){const{viewConfig:n,parentName:i}=this.getViewConfigInfoByName(e),r=kp.MoveToIndex;this._applyChanges({settings:{itemConfig:n},index:t,operation:r,parentName:i}),this.schemaChanged$.next({schema:this._schema,changes:{viewConfig:n,parentName:i,operation:r}})}moveToContainer({name:e,index:t,parentName:n,parentPropertyName:i,layoutConfig:r}){let{viewConfig:a}=this.getViewConfigInfoByName(e);r&&(a=Object.assign(Object.assign({},a),{layoutConfig:r}));const o=kp.MoveToContainer;this._applyChanges({settings:{itemConfig:a},index:t,operation:o,parentName:n,parentPropertyName:i}),this.schemaChanged$.next({schema:this._schema,changes:{viewConfig:a,parentName:n,propertyName:i,operation:o,index:t}}),this._connectedDropListService.add(a.name)}createDataSource(e,t){(null==t?void 0:t.hiddenInPageDesigner)&&(null==t?void 0:t.scope)!==r.DataSourceScope.Page||this._designerLoaderService.resetLoadingPart(KN.DataSourceLoaded),super.createDataSource(e,t)}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](eO),l["ɵɵinject"](XN),l["ɵɵinject"](QN),l["ɵɵinject"](BN),l["ɵɵinject"](Ws),l["ɵɵinject"](l.Injector))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})(),iO=(()=>{class e{constructor(e){this._translateService=e}get groups$(){return(0,h.of)(Object.keys(Mu).map((e=>{var t;return{items$:(0,h.of)([]),caption:this._translateService.instant(`CDK.${e}GroupCaption`),name:e,type:Mu[e],iconName:null,styles:null===(t=Du(e))||void 0===t?void 0:t.styles}})))}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](u.sK))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"root"}),e})();class rO{constructor(e){this.instanceType=e}}let aO=(()=>{class e{constructor(e){this.injector=e}static _has(t){return!!e.designerToolsProviders.find((e=>e.instanceType===t))}static register(t){if(e._has(t))throw new Error(`Error when register ${t.name} type. Element with this type has already exist`);e.designerToolsProviders.push(new rO(t))}getAll(){return(0,h.forkJoin)(e.designerToolsProviders.map((e=>{const t=new(null==e?void 0:e.instanceType)(this.injector);return(0,h.of)(t)})))}}return e.designerToolsProviders=[],e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](l.Injector))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"root"}),e})(),oO=(()=>{class e{constructor(e,t){this._designerToolsProviderRegistryService=e,this._designerToolsGroupProvider=t}get groups$(){return(0,h.combineLatest)([this._getDesignerTools(),this._designerToolsGroupProvider.groups$]).pipe((0,g.U)((([e,t])=>{const n=t.filter((t=>0!==this._getGroupDesignerTools(e,t).length));return n.forEach((t=>{const n=this._getGroupDesignerTools(e,t);t.items$=(0,h.of)(n)})),n})))}_getGroupDesignerTools(e,t){return e.filter((e=>e.groupType===t.type))}_getDesignerTools(){return this._designerToolsProviderRegistryService.getAll().pipe((0,Pn.w)((e=>0===e.length?(0,h.of)([]):(0,h.combineLatest)(e.map((e=>e.getItems$()))))),(0,g.U)((e=>[].concat(...e))))}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](aO),l["ɵɵinject"](iO))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"root"}),e})();function sO(){return function(e){aO.register(e)}}let lO=(()=>{class e{constructor(e){this._injector=e,this._designElementRegistryService=this._injector.get(Ws),this._iconRegistry=this._injector.get(St.jv),this._domSanitizer=this._injector.get(i.DomSanitizer),this._iconNames=new Set}_getDesignElementIcon(e,t){var n;const i=this._designElementRegistryService.get(e).toolbarConfig;return i instanceof Array?null===(n=i.find((e=>e.name===t)))||void 0===n?void 0:n.icon:i.icon}registerIconAndGetIconName(e,t){const n="page-designer-"+e+"-"+t;if(!this._iconNames.has(n)){const i=this._getDesignElementIcon(e,t);this._iconRegistry.addSvgIconLiteral(n,this._domSanitizer.bypassSecurityTrustHtml(i)),this._iconNames.add(n)}return n}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](l.Injector))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"root"}),e})();class cO{constructor(e){this.injector=e}}let dO=class extends cO{constructor(e){super(e),this.injector=e,this._showDesignerDemoItemsFeatureName="ShowDesignerDemoItems",this._featureService=this.injector.get(ls),this._designItemsIconsProvider=this.injector.get(lO)}_isFunnelVisible(){const e=new r.EntitySchemaQuery("VwSysPackages");e.filters.addSchemaColumnFilterWithParameter(r.ComparisonType.Equal,"Name","Opportunity");return this.injector.get(ps).executeSelectQuery(e).pipe((0,g.U)((e=>e.length>0)))}_filterFunnelItems(e){return"crt.FunnelWidget"!==e&&"crt.FullPipelineWidget"!==e}_isShowDevItems(){return this._featureService.getFeatureState(this._showDesignerDemoItemsFeatureName)}_sortByPosition(e,t){return e.position-t.position}getItems$(){const e=this.injector.get(Ys),t=this.injector.get(u.sK),n=e.getDesignViewElementConfigs();let i=[];for(const[e,r]of n.entries())[...r instanceof Array?r:[r]].forEach((n=>{n.translate&&n.translate(t);const r={name:e,caption:t.instant(n.caption),hint:n.hint&&t.instant(n.hint),iconName:this._designItemsIconsProvider.registerIconAndGetIconName(e,n.name),addCommandTypeName:n.addCommandTypeName||"crt.AddViewItemCommand",defaultConfig:{type:e,defaultPropertyValues:n.defaultPropertyValues,defaultLocalizableStrings:n.defaultLocalizableStrings},canDrop:!0,useDevMode:n.useDevMode,groupType:n.groupType||Mu.Charts,position:n.position};i.push(r)}));return i.sort(this._sortByPosition),(0,h.forkJoin)([this._isFunnelVisible(),this._isShowDevItems()]).pipe((0,g.U)((([e,t])=>(e||(i=i.filter((({name:e})=>this._filterFunnelItems(e)))),t||(i=i.filter((({useDevMode:e})=>!e))),i))),(0,Or.B)())}};dO=(0,a.gn)([sO(),(0,a.w6)("design:paramtypes",[l.Injector])],dO);let uO=(()=>{class e{getColumnConfigByType(e){switch(e){case r.DataValueType.Text:case r.DataValueType.SHORT_TEXT:case r.DataValueType.MEDIUM_TEXT:case r.DataValueType.MAXSIZE_TEXT:case r.DataValueType.LONG_TEXT:return AN.Input;case r.DataValueType.Integer:case r.DataValueType.Float:case r.DataValueType.FLOAT1:case r.DataValueType.FLOAT2:case r.DataValueType.FLOAT3:case r.DataValueType.FLOAT4:case r.DataValueType.FLOAT8:case r.DataValueType.Money:return AN.NumberInput;case r.DataValueType.Boolean:return AN.Checkbox;case r.DataValueType.Lookup:return AN.Combobox;case r.DataValueType.Date:case r.DataValueType.DateTime:case r.DataValueType.Time:return AN.DateTime;default:return AN.Input}}}return e.ɵfac=function(t){return new(t||e)},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"root"}),e})(),pO=(()=>{class e{getControlExtraConfig(e,t){let n=null;switch(e){case jN.Input:t&&(n={multiline:!!t.isMultiLineText});break;case jN.DateTime:switch(null==t?void 0:t.type){case r.DataValueType.DateTime:n={pickerType:"datetime"};break;case r.DataValueType.Date:n={pickerType:"date"};break;case r.DataValueType.Time:n={pickerType:"time"}}break;case jN.Combobox:n={loading:!1}}return n}}return e.ɵfac=function(t){return new(t||e)},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"root"}),e})(),mO=(()=>{class e{constructor(e){this.dataSourceFactory=e}initDesignTimeDataSources(e){const t=Object.entries(e||{});if(0===t.length)return(0,h.of)([]);const n=t.map((([e,t])=>this.dataSourceFactory.create(e,t.type,t.config)));return(0,h.forkJoin)(n)}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](ac))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"root"}),e})();var hO=n(94612);class gO{constructor(e){e&&(this.uId=e.uId,this.name=e.name,this.parentSchemaUId=e.parentSchemaUId),this.uId=this.uId||(0,r.generateGuid)()}update(e){this.uId=e.uId,this.name=e.name}equal(e){if(null==e)return!1;let t=this.uId===e.uId&&this.name===e.name;return(this.parentSchemaUId||e.parentSchemaUId)&&(t=t&&this.parentSchemaUId===e.parentSchemaUId),t}clone(){return new gO(this)}}class fO{constructor(e,t){this.name=e,this.uId=t}equal(e){return null!=e&&(this.uId===e.uId&&this.name===e.name&&this.type===e.type&&this.isChanged===e.isChanged&&this.isLocked===e.isLocked)}clone(){const e=new fO(this.name,this.uId);return e.type=this.type,e.isChanged=this.isChanged,e.isLocked=this.isLocked,e}}class vO extends gO{constructor(e){if(super(e),this.isReadOnly=!1,this.useFullHierarchy=!1,this.addonTypes=[],this.addons=[],e){if(this.id=e.id,e.package){const t=e.package;t.clone?this.package=t.clone():(this.package=new fO(t.name,t.uId),this.package.type=t.type,this.package.isChanged=t.isChanged,this.package.isLocked=t.isLocked)}if(this.body=e.body,this.isReadOnly=e.isReadOnly,this.useFullHierarchy=e.useFullHierarchy,e.dependencies){const t=e.dependencies;let n=t.requiredSchemas;n&&(n=[...n]);let i=t.requiredEntityColumns;i&&(i=i.map((e=>({entitySchemaName:e.entitySchemaName,columnPaths:[...e.columnPaths]})))),this.dependencies={requiredSchemas:n,requiredEntityColumns:i}}}}updateDescription(e){super.update(e),this.id=e.id,this.package=e.package}equal(e){var t;if(null==e)return!1;let n=super.equal(e)&&this.id===e.id&&this.body===e.body&&this.isReadOnly===e.isReadOnly&&this.useFullHierarchy===e.useFullHierarchy;return(this.package||e.package)&&(n=n&&(null===(t=this.package)||void 0===t?void 0:t.equal(e.package))),n}}class bO extends gO{constructor(e){super(e),e&&(this.caption=e.caption)}}class CO extends gO{}class yO extends gO{constructor(e){super(e),this.values=new Hr(null==e?void 0:e.values)}clone(){return new yO(this)}}class wO extends Array{constructor(e){super(),e&&Array.isArray(e)&&(this.push(...e.map((e=>e.clone()))),this.uId=e.uId),this.uId=this.uId||(0,r.generateGuid)()}deleteItemByUId(e){const t=this.findItemIndex(e);return!(t<0)&&(this.splice(t,1),!0)}findItemIndex(e){return this.findIndex((t=>t.uId===e))}findItem(e){return this.find((t=>t.uId===e))}addItem(e){this.unshift(e)}reloadAll(e){this.splice(0,this.length,...e||[])}equal(e){return null!=e&&(this.length===(null==e?void 0:e.length)&&this.every((t=>{const n=null==e?void 0:e.findItem(t.uId);return t.equal(n)})))}clone(){return new wO(this)}}class _O extends vO{constructor(e){super(e),this.caption=new Hr,this.description=new Hr,this.localizableStrings=new wO,e&&(this.caption=e.caption?e.caption.clone():e.caption,this.description=e.description?e.description.clone():e.description,this.localizableStrings=e.localizableStrings?e.localizableStrings.clone():e.localizableStrings)}get DefaultName(){return"BaseSchema"}findChildrenItem(e){return this.localizableStrings.findItem(e)}findGroup(e){return this.localizableStrings.uId===e?this.localizableStrings:null}updateDescription(e){super.updateDescription(e),this.caption=new Hr(e.caption),this.description=new Hr(e.description)}getIsOwnMetaItem(e){return this.uId===e.parentSchemaUId}equal(e){return null!=e&&(super.equal(e)&&qa(this.caption,e.caption,!0)&&qa(this.description,e.description,!0))}clone(){return new _O(this)}}const xO=new l.InjectionToken("SchemaDesignerConverter");class IO extends gO{constructor(e){super(e),this.isChanged=!1,e&&(this._data=e.data||{},this.image=e.image,this.caption=new Hr(e.caption)),this.caption||(this.caption=new Hr)}get data(){return this._data}get image(){var e;return null===(e=this.data)||void 0===e?void 0:e.name}set image(e){var t;e&&e!==(null===(t=this.data)||void 0===t?void 0:t.name)&&Object.assign(this._data,{name:e})}static _getIsFileChanged(e,t){const n=null==e?void 0:e.name,i=null==t?void 0:t.name,r=n&&!i,a=i&&!n,o=i&&n&&t.size>0;return a||r||o}updateFile(e){this.isChanged=IO._getIsFileChanged(this.data,e),this._data=e}clone(){return new IO(this)}}class SO extends _O{constructor(e){super(e),this.parameters=new wO,e&&(this.parameters=e.parameters.clone())}_findNestedProperties(e,t){const n=t.find((t=>t.uId===e));return n?n.itemProperties:null}_getNestedParametersGroup(e,t){return yo(t,(t=>this._findNestedProperties(e,t)),(e=>e.itemProperties))}_getParametersGroup(e,t){let n=this._getNestedParametersGroup(e,t);return n||(n=this.parameters.uId===e?this.parameters:null),n}_getParameter(e,t){return Co(t,(t=>t.uId===e),(e=>e.itemProperties))}findChildrenItem(e){return this._getParameter(e,this.parameters)||super.findChildrenItem(e)}findGroup(e){const t=this._getParametersGroup(e,this.parameters);return t||super.findGroup(e)}findNestedParametersGroup(e){return this._getNestedParametersGroup(e,this.parameters)||this.parameters}findParameterByUId(e){return this._getParameter(e,this.parameters)}clone(){return new SO(this)}}class MO extends gO{constructor(e){super(e),e&&(this.caption=new Hr(e.caption),this.type=e.type,this.lookup=e.lookup,this.schema=e.schema,this.resulting=e.resulting,this.required=e.required,this.containsPerformerId=e.containsPerformerId,this.copyValue=e.copyValue,this.serializable=e.serializable,this.lazyLoad=e.lazyLoad,this.value=e.value,this.itemProperties=this._mapItemArray(e.itemProperties))}static updateLookupValue(e,t,n){const i=e[n]?e[n].key:null;i?t[n]=i:delete t[n]}_getSourceType(e){var t;return null===(t=e.type)||void 0===t?void 0:t.key}_mapItemArray(e){return e?new wO(e.map((e=>new MO(e)))):new wO}_resetItemProperties(e){this.type!==e&&(this.itemProperties=new wO,this.itemProperties.uId=this.uId)}updateDescription(e){this.caption=e.caption,this.name=e.name;const t=this._getSourceType(e);this._resetItemProperties(t),this.type=t,MO.updateLookupValue(e,this,"lookup"),this.schema=e.schema,this.resulting=e.resulting,this.required=e.required,this.containsPerformerId=e.containsPerformerId,this.copyValue=e.copyValue,this.serializable=e.serializable,this.lazyLoad=e.lazyLoad,this.value=e.value}clone(){return new MO(this)}}class DO{constructor(e,t,n,i){this.id=(0,r.generateGuid)(),this.addonName=e,this.targetSchemaUId=t,this.targetSchemaManagerName=n,this._apiService=i}get addonConfig(){return this._isLoaded?(0,h.of)(this._metaData):this._load()}set addonConfig(e){e.subscribe((e=>{this._metaData=e}))}_load(){return this._addonConfig$||(this._addonConfig$=this._apiService.getAddon({targetSchemaUId:this.targetSchemaUId,addonName:this.addonName,targetSchemaManagerName:this.targetSchemaManagerName}).pipe((0,En.b)((e=>{e.success&&(this._schema=e.schema,this._metaData=this._schema.metaData,this._schema.typeName="Terrasoft.Core.Addons.AddonSchema",this._isLoaded=!0)})),(0,g.U)((()=>this._metaData)),(0,Or.B)())),this._addonConfig$}_compareItemsExceptMetadata(e){return e.targetSchemaUId===this.targetSchemaUId&&e.addonName===this.addonName&&(0,Ed.Z)(e._schema,this._schema)}_compareItems(e){return this._compareItemsExceptMetadata(e)&&this._metaData===e._metaData}save(){return this._isLoaded?(this._schema.metaData=this._metaData,this._apiService.saveAddon(this._schema).pipe((0,g.U)((e=>e.success)))):(0,h.of)(!0)}clone(){const e=new DO(this.addonName,this.targetSchemaUId,this.targetSchemaManagerName,this._apiService);return e._isLoaded=this._isLoaded,e._metaData=this._metaData,e._schema=(0,so.Z)(this._schema),e}equal(e){return this._isLoaded===e._isLoaded&&(this._isLoaded&&e._isLoaded?this._compareItems(e):this._compareItemsExceptMetadata(e))}}let PO=(()=>{class e{constructor(e){this.getAddonMethodName="GetSchema",this.saveAddonMethodName="SaveSchema",this.serviceEndpoint="/ServiceModel/AddonSchemaDesignerService.svc/",this._httpClient=e.get(s.HttpClient)}getAddon(e){const t=`${this.serviceEndpoint}${this.getAddonMethodName}`;return this._httpClient.post(t,e)}saveAddon(e){const t=`${this.serviceEndpoint}${this.saveAddonMethodName}`;return this._httpClient.post(t,e)}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](l.Injector))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})(),TO=(()=>{class e{constructor(e){this._apiService=e.get(PO)}_getAddonInfos(e,t){if(!e.addonTypes||0===e.addonTypes.length)return[];return e.addonTypes.map((n=>new DO(n,e.uId,t,this._apiService)))}create(e,t){return this._getAddonInfos(e,t)}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](l.Injector))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})();const kO=new l.InjectionToken("SchemaDesignerApiUrl"),EO=e=>`/ServiceModel/${e}/`,NO=e=>((e,t)=>({multi:!1,provide:t,useValue:EO(e)}))(e,kO);let OO=(()=>{class e{constructor(e){this.createNewSchemaMethodName="CreateNewSchema",this.getSchemaMethodName="GetSchema",this.saveSchemaMethodName="SaveSchema",this.httpClient=e.get(s.HttpClient),this.serviceEndpoint=e.get(kO),this._converter=e.get(xO),this._addonInfoFactory=e.get(TO)}get converter(){return this._converter}getSchemaManagerName(){return null}getSchemaFromService(e,t){return this.httpClient.post(e,t).pipe((0,g.U)((e=>{if(e.schema){const t=this.getSchemaManagerName();return e.schema=this.convertToObject(e.schema),e.schema.addons=this._addonInfoFactory.create(e.schema,t),e}return e})),(0,Or.B)())}createObject(e,t){return Object.assign(new e,t)}convertToObject(e){return this._converter.convertToSchema(e)}_saveAddons(e){return(0,h.forkJoin)(e.map((e=>e.save().pipe((0,dr.K)((()=>(0,h.of)(!1))),(0,g.U)((t=>({message:`Addon ${e.addonName} was ${t?"successfully":"not"} saved!`,result:t}))))))).pipe((0,g.U)((e=>{const t=e.filter((e=>!e.result)).map((e=>e.message));return t.length>0?t:null})))}createSchema(e){const t=`${this.serviceEndpoint}${this.createNewSchemaMethodName}`;return this.getSchemaFromService(t,e)}getSchema(e){const t=`${this.serviceEndpoint}${this.getSchemaMethodName}`;return this.getSchemaFromService(t,e)}saveSchema(e){const t=`${this.serviceEndpoint}${this.saveSchemaMethodName}`,n=e.addons?[...e.addons]:null;return delete e.addons,this.httpClient.post(t,e).pipe((0,hO.b)((e=>e.success&&(null==n?void 0:n.length)>0?this._saveAddons(n).pipe((0,g.U)((t=>Object.assign(Object.assign({},e),{addonsErrors:t})))):(0,h.of)(e))),(0,Or.B)())}checkUniqueSchemaName(e,t,n){const i=this.serviceEndpoint+"CheckUniqueSchemaName",r={schemaName:e,excludeUId:t,managerName:n};return this.httpClient.post(i,r,{headers:new s.HttpHeaders({"Content-Type":"application/json"})}).pipe((0,Or.B)())}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](l.Injector))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"root"}),e})();class jO{constructor(e){this.factory=e}createSchema(e){const t=new this.factory;return Object.assign(t,e),e.package&&(t.package=new fO(e.package.name,e.package.uId),t.package.type=e.package.type,t.package.isChanged=e.package.isChanged,t.package.isLocked=e.package.isLocked),t}createLocalizableStrings(e){if(!e)return new wO;const t=e.map((e=>new yO(e)));return new wO(t)}}const AO=new l.InjectionToken("SchemaImageUploaderApiUrl");let RO=(()=>{class e{constructor(e,t){this._httpClient=e,this._endPointUrl=t}appendImageToSchema(e,t,n){const i=new FormData;return i.append("schemaUId",e),i.append("imageUId",t.uId),i.append("isLastImage",n.toString()),i.append("files",t.data,t.data.name),this._httpClient.post(`${this._endPointUrl}/SaveImage`,i)}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](s.HttpClient),l["ɵɵinject"](AO))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})(),FO=(()=>{class e{}return e.ɵfac=function(t){return new(t||e)},e.ɵmod=l["ɵɵdefineNgModule"]({type:e}),e.ɵinj=l["ɵɵdefineInjector"]({providers:[PO,TO],imports:[[o.CommonModule]]}),e})();("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](FO,{imports:[o.CommonModule]});var VO=(()=>(function(e){e[e.Add=0]="Add",e[e.Saving=1]="Saving",e[e.Updating=2]="Updating",e[e.Delete=3]="Delete",e[e.Loading=4]="Loading",e[e.ColumnValues=5]="ColumnValues"}(VO||(VO={})),VO))();class LO{constructor(e,t,n=!1){this.hasEventHandler=!1,this.code=e,this.groupType=t,this.hidden=n}equal(e){return this.code===e.code&&this.groupType===e.groupType&&this.hidden===e.hidden&&this.hasEventHandler===e.hasEventHandler}clone(){const e=new LO(this.code,this.groupType,this.hidden);return e.hasEventHandler=this.hasEventHandler,e}}class zO extends gO{constructor(e){var t;if(super(e),this._addEvents=[new LO("Inserting",VO.Add),new LO("Inserted",VO.Add)],this._savingEvents=[new LO("Validating",VO.Saving),new LO("Saving",VO.Saving),new LO("Saved",VO.Saving),new LO("SaveError",VO.Saving)],this._updatingEvents=[new LO("Updating",VO.Updating),new LO("Updated",VO.Updating)],this._deleteEvents=[new LO("Deleting",VO.Delete),new LO("Deleted",VO.Delete)],this._loadingEvents=[new LO("DefColumnValuesSet",VO.Loading),new LO("Loading",VO.Loading),new LO("Loaded",VO.Loading)],this._columnValuesEvents=[new LO("ColumnValueChanging",VO.ColumnValues,!0),new LO("ColumnValueChanged",VO.ColumnValues,!0),new LO("ColumnBinaryValuePackageLoading",VO.ColumnValues,!0)],e){const n=(null!==(t=e.events)&&void 0!==t?t:[]).map((e=>({eventCode:e.code,hasEventHandler:e.hasEventHandler})));this.updateEvents(n)}}get allEvents(){return[...this._addEvents,...this._savingEvents,...this._updatingEvents,...this._deleteEvents,...this._loadingEvents,...this._columnValuesEvents]}get events(){return this.allEvents.filter((e=>!1===e.hidden))}get eventsCodes(){return this.events.map((e=>e.code))}findByCode(e){return this.events.find((t=>t.code===e))}updateEvents(e){e.forEach((e=>{this.findByCode(e.eventCode).hasEventHandler=e.hasEventHandler}))}equal(e){return this.allEvents.every(((t,n)=>{const i=e.allEvents[n];return t.equal(i)}))}clone(){return new zO(this)}}class BO extends gO{constructor(e){super(e),e&&(this.columnUId=e.columnUId,this.orderDirection=e.orderDirection)}equal(e){return super.equal(e)&&this.columnUId===e.columnUId&&this.orderDirection===e.orderDirection}clone(){return new BO(this)}}class GO extends gO{constructor(e){super(e),this.columns=[],e&&(this.isUnique=!!e.isUnique,e.columns&&Array.isArray(e.columns)&&(this.columns=e.columns.map((e=>e.clone?e.clone():new BO(e)))))}static create(e,t){return new GO({uId:(0,r.generateGuid)(),name:e||"NewIndex",isUnique:!1,parentSchemaUId:t||null,columns:[]})}updateDescription(e){super.update(e),this.isUnique=e.isUnique}equal(e){if(null==e)return!1;const t=super.equal(e)&&this.isUnique===e.isUnique;return this.columns.length===e.columns.length&&(t&&this.columns.every(((t,n)=>{const i=e.columns[n];return t.equal(i)})))}clone(){return new GO(this)}}var HO=(()=>(function(e){e[e.None=0]="None",e[e.Const=1]="Const",e[e.Settings=2]="Settings",e[e.SystemValue=3]="SystemValue"}(HO||(HO={})),HO))(),UO=(()=>(function(e){e[e.NO=0]="NO",e[e.YES=1]="YES"}(UO||(UO={})),UO))();UO.NO,UO.NO,UO.YES,UO.YES;var ZO=(()=>(function(e){e[e.OwnColumn=0]="OwnColumn",e[e.InheritedColumn=1]="InheritedColumn",e[e.ReplacementColumn=2]="ReplacementColumn"}(ZO||(ZO={})),ZO))();class $O extends gO{constructor(e,t){super(t),this._defaultValues={isInherited:!1,isDBRequirement:!1,usageType:Sa.General,isValueCloneable:!0,isTrackChangesInDB:!1,indexed:!1,requirementType:UO.NO,doNotControlIntegrity:!1,isMultiLineText:!1,isLocalizableText:!1,defValue:{valueSourceType:HO.None},isSimpleLookup:!1,isCascade:!1,referenceSchema:null},this.usageType=Sa.General,this.isValueCloneable=!0,this.isTrackChangesInDB=!1,this.indexed=!1,this.requirementType=UO.NO,this.doNotControlIntegrity=!1,this.isMultiLineText=!1,this.isLocalizableText=!1,this._columnType=e,this._fillFromSource(t)}get isForeignColumn(){return[ZO.InheritedColumn,ZO.ReplacementColumn].includes(this._columnType)}get isReplacementColumn(){return this._columnType===ZO.ReplacementColumn}get isOwnColumn(){return this._columnType===ZO.OwnColumn}_fillFromSource(e){if(!Object.getOwnPropertyNames(e).includes("type"))throw new Error("Column type not sets");const t=Object.assign({},this._defaultValues),n=Object.assign(t,e);this.updateName(n.name),this.updateDescription(n.description),this.updateIsMultiLineText(n.isMultiLineText),this.updateType(n.type);const i=[r.DataValueType.Lookup,r.DataValueType.IMAGELOOKUP].includes(n.type),a=Object.getOwnPropertyNames(e).includes("indexed")?e.indexed:i;this.updateIndexed(a),this._updateGeneralFields(n),this._updateDataSourceFields(n),this._updateBehaviorFields(n)}_updateGeneralFields(e){this.caption=new Hr(e.caption),this.requirementType=e.requirementType,this.defValue=e.defValue,this.isValueCloneable=e.isValueCloneable,this.isLocalizableText=e.isLocalizableText}_updateDataSourceFields(e){this.isDBRequirement=e.isDBRequirement,this.doNotControlIntegrity=e.doNotControlIntegrity,this.referenceSchema=e.referenceSchema,this.isCascade=e.isCascade,this.isSimpleLookup=e.isSimpleLookup}_updateBehaviorFields(e){this.isTrackChangesInDB=e.isTrackChangesInDB,this.usageType=e.usageType}updateName(e){this.name=e}updateDescription(e){this.description=new Hr(e)}updateIsMultiLineText(e){this.isMultiLineText=e}updateIndexed(e){this.indexed=e}updateType(e){this.type=e}updateGeneral(e){this.updateType(e.type),this._updateGeneralFields(e)}updateDataSource(e){this._updateDataSourceFields(e)}updateBehavior(e){this._updateBehaviorFields(e)}update(e){this.updateGeneral(e),this.updateBehavior(e)}equal(e){var t,n;if(null==e)return!1;let i=super.equal(e)&&this.isInherited===e.isInherited&&this.type===e.type&&this.isDBRequirement===e.isDBRequirement&&this.usageType===e.usageType&&this.isValueCloneable===e.isValueCloneable&&this.isTrackChangesInDB===e.isTrackChangesInDB&&this.indexed===e.indexed&&this.requirementType===e.requirementType&&this.doNotControlIntegrity===e.doNotControlIntegrity&&this.isMultiLineText===e.isMultiLineText&&this.isLocalizableText===e.isLocalizableText&&this.isCascade===e.isCascade&&this.isSimpleLookup===e.isSimpleLookup&&qa(this.caption,e.caption,!0)&&qa(this.description,e.description,!0)&&(0,Ed.Z)(this.defValue,e.defValue);return(this.referenceSchema||e.referenceSchema)&&(i=i&&(null===(t=this.referenceSchema)||void 0===t?void 0:t.uId)===(null===(n=e.referenceSchema)||void 0===n?void 0:n.uId)),i}}class WO extends $O{constructor(e){super(ZO.OwnColumn,e),this.isInherited=!1}static create(e,t){const n={name:e,type:t,uId:(0,r.generateGuid)()};return new WO(n)}updateGeneral(e){super.updateGeneral(e),super.updateName(e.name),super.updateDescription(e.description),super.updateIsMultiLineText(e.isMultiLineText)}updateBehavior(e){super.updateBehavior(e),super.updateIndexed(e.indexed)}update(e){super.update(e),super.updateDataSource(e)}clone(){return new WO(this)}}class qO extends $O{constructor(e){super(ZO.ReplacementColumn,e),this.isInherited=!0}static create(e,t){const n={name:e,type:t,uId:(0,r.generateGuid)()};return new qO(n)}clone(){return new qO(this)}}class YO extends $O{constructor(e){super(ZO.InheritedColumn,e),this.isInherited=!0}static create(e,t){const n={name:e,type:t,uId:(0,r.generateGuid)()};return new YO(n)}updateGeneral(e){super.updateGeneral(e),super.updateDescription(e.description),super.updateIsMultiLineText(e.isMultiLineText)}updateBehavior(e){super.updateBehavior(e),super.updateIndexed(e.indexed)}update(e){super.update(e),super.updateDataSource(e)}clone(){return new YO(this)}}class JO extends _O{constructor(e){var t,n,i,r,a,o,s,l,c,d,u,p;super(e),this.columns=new wO,this.inheritedColumns=new wO,this.indexes=new wO,this.events=new zO,this.isDBView=!1,this.isSSPAvailable=!1,this.isVirtual=!1,this.useRecordDeactivation=!1,this.isTrackChangesInDB=!1,this.extendParent=!1,this.administratedByOperations=!1,this.administratedByColumns=!1,this.administratedByRecords=!1,this.sourceCode="",this.handledEventNames=[],e&&(e.columns&&(this.columns=e.columns.clone()),e.inheritedColumns&&(this.inheritedColumns=e.inheritedColumns.clone()),e.indexes&&(this.indexes=e.indexes.clone()),e.events&&(this.events=e.events.clone()),e.addons&&e.addons.length>0&&(this.addons=e.addons.map((e=>e.clone()))),this.primaryColumn=null===(t=e.primaryColumn)||void 0===t?void 0:t.clone(),this.primaryDisplayColumn=null===(n=e.primaryDisplayColumn)||void 0===n?void 0:n.clone(),this.primaryImageColumn=null===(i=e.primaryImageColumn)||void 0===i?void 0:i.clone(),this.primaryOrderColumn=null===(r=e.primaryOrderColumn)||void 0===r?void 0:r.clone(),this.hierarchyColumn=null===(a=e.hierarchyColumn)||void 0===a?void 0:a.clone(),this.ownerColumn=null===(o=e.ownerColumn)||void 0===o?void 0:o.clone(),this.masterRecordColumn=null===(s=e.masterRecordColumn)||void 0===s?void 0:s.clone(),this.createdByColumn=null===(l=e.createdByColumn)||void 0===l?void 0:l.clone(),this.createdOnColumn=null===(c=e.createdOnColumn)||void 0===c?void 0:c.clone(),this.modifiedByColumn=null===(d=e.modifiedByColumn)||void 0===d?void 0:d.clone(),this.modifiedOnColumn=null===(u=e.modifiedOnColumn)||void 0===u?void 0:u.clone(),this.parentSchema=e.parentSchema,this.trackChangesSchemaName=e.trackChangesSchemaName,this.rightSchemaName=e.rightSchemaName,this.localizationSchemaName=e.localizationSchemaName,this.isDBView=e.isDBView,this.isSSPAvailable=e.isSSPAvailable,this.isVirtual=e.isVirtual,this.useRecordDeactivation=e.useRecordDeactivation,this.isTrackChangesInDB=e.isTrackChangesInDB,this.extendParent=e.extendParent,this.administratedByOperations=e.administratedByOperations,this.administratedByColumns=e.administratedByColumns,this.administratedByRecords=e.administratedByRecords,this.sourceCode=e.sourceCode,this.handledEventNames=[...null!==(p=e.handledEventNames)&&void 0!==p?p:[]])}get isParentVirtual(){var e,t;return null!==(t=null===(e=this.parentSchema)||void 0===e?void 0:e.isVirtual)&&void 0!==t&&t}get isInheritedSchema(){return Boolean(this.parentSchema)&&!this.isReplacementSchema}get isReplacementSchema(){return this.extendParent}get DefaultName(){return"EntitySchema"}_generateItemName(e,t){let n,i=t.length;do{i++,n=`${e}${i}`}while(t.find((e=>e.name===n)));return n}_generateColumnName(){return this._generateItemName("Column",this.columns)}_generateIndexName(){return this._generateItemName("Index",this.indexes)}_findItemByUId(e,t){return t.find((t=>t.uId===e))}_updateSchemaSettingsInfo(e){this.primaryColumn=e.primaryColumn,this.primaryDisplayColumn=e.primaryDisplayColumn,this.primaryImageColumn=e.primaryImageColumn,this.primaryOrderColumn=e.primaryOrderColumn,this.hierarchyColumn=e.hierarchyColumn,this.ownerColumn=e.ownerColumn,this.localizationSchemaName=e.localizationSchemaName,this.trackChangesSchemaName=e.trackChangesSchemaName,this.rightSchemaName=e.rightSchemaName}_updateSchemaHistoryInfo(e){this.createdByColumn=e.createdByColumn,this.createdOnColumn=e.createdOnColumn,this.modifiedByColumn=e.modifiedByColumn,this.modifiedOnColumn=e.modifiedOnColumn}_updateSchemaIndexesInfo(e){this.indexes.reloadAll(e.indexes||[])}_updateSchemaBehaviorInfo(e){this.isDBView=e.isDBView,this.isSSPAvailable=e.isSSPAvailable,this.isVirtual=e.isVirtual,this.useRecordDeactivation=e.useRecordDeactivation,this.isTrackChangesInDB=e.isTrackChangesInDB}_updateSchemaAccessRightsInfo(e){this.administratedByOperations=e.administratedByOperations,this.administratedByColumns=e.administratedByColumns,this.administratedByRecords=e.administratedByRecords,this.masterRecordColumn=e.masterRecordColumn}_updateSchemaInheritanceInfo(e){this.extendParent=e.extendParent,this.parentSchema=e.parentSchema,this.inheritedColumns.reloadAll(e.inheritedColumns)}_updateSchemaEvents(e){if(!e||!e.events)return;const t=e.events.events.filter((e=>e.hasEventHandler)).map((e=>({eventCode:e.code,hasEventHandler:e.hasEventHandler})));this.events.updateEvents(t)}_areColumnsUIdEqual(e,t){return!e&&!t||(null==e?void 0:e.uId)===(null==t?void 0:t.uId)}_areEntityAddonsEqual(e){return this.addons.length===e.length&&(0===this.addons.length||this.addons.every((t=>{const n=e.find((e=>e.addonName===t.addonName));return!!n&&t.equal(n)})))}addColumn(e){this.columns.addItem(e)}createIndex(){const e=this._generateIndexName(),t=GO.create(e,this.uId);return this.indexes.addItem(t),t}createColumn(e,t){const n=`${t||""}${this._generateColumnName()}`,i=WO.create(n,e);return this.addColumn(i),i}deleteIndexByUId(e){this.indexes.deleteItemByUId(e)}deleteColumnByUId(e){this.columns.deleteItemByUId(e)}updateDescription(e){super.updateDescription(e),this._updateSchemaSettingsInfo(e),this._updateSchemaInheritanceInfo(e),this._updateSchemaEvents(e),this._updateSchemaBehaviorInfo(e),this._updateSchemaAccessRightsInfo(e),this._updateSchemaHistoryInfo(e),this._updateSchemaIndexesInfo(e)}findColumnByUId(e){return this._findItemByUId(e,this.columns)||this._findItemByUId(e,this.inheritedColumns)}findIndexByUId(e){return this._findItemByUId(e,this.indexes)}equal(e){var t,n;if(null==e)return!1;let i=super.equal(e)&&this.trackChangesSchemaName===e.trackChangesSchemaName&&this.rightSchemaName===e.rightSchemaName&&this.localizationSchemaName===e.localizationSchemaName&&this.isDBView===e.isDBView&&this.isSSPAvailable===e.isSSPAvailable&&this.isVirtual===e.isVirtual&&this.useRecordDeactivation===e.useRecordDeactivation&&this.isTrackChangesInDB===e.isTrackChangesInDB&&this.extendParent===e.extendParent&&this.administratedByOperations===e.administratedByOperations&&this.administratedByColumns===e.administratedByColumns&&this.administratedByRecords===e.administratedByRecords&&this.sourceCode===e.sourceCode&&(0,Ed.Z)(this.handledEventNames,e.handledEventNames)&&this.columns.equal(e.columns)&&this.inheritedColumns.equal(e.inheritedColumns)&&this.indexes.equal(e.indexes)&&this.events.equal(e.events)&&this._areEntityAddonsEqual(e.addons)&&this._areColumnsUIdEqual(this.primaryColumn,e.primaryColumn)&&this._areColumnsUIdEqual(this.primaryDisplayColumn,e.primaryDisplayColumn)&&this._areColumnsUIdEqual(this.primaryImageColumn,e.primaryImageColumn)&&this._areColumnsUIdEqual(this.primaryOrderColumn,e.primaryOrderColumn)&&this._areColumnsUIdEqual(this.hierarchyColumn,e.hierarchyColumn)&&this._areColumnsUIdEqual(this.ownerColumn,e.ownerColumn)&&this._areColumnsUIdEqual(this.masterRecordColumn,e.masterRecordColumn)&&this._areColumnsUIdEqual(this.createdByColumn,e.createdByColumn)&&this._areColumnsUIdEqual(this.createdOnColumn,e.createdOnColumn)&&this._areColumnsUIdEqual(this.modifiedByColumn,e.modifiedByColumn)&&this._areColumnsUIdEqual(this.modifiedOnColumn,e.modifiedOnColumn);return(this.parentSchema||e.parentSchema)&&(i=i&&(null===(t=this.parentSchema)||void 0===t?void 0:t.uId)===(null===(n=e.parentSchema)||void 0===n?void 0:n.uId)),i}cloneDeepWithoutAddons(){const e=this.addons?[...this.addons]:[];delete this.addons;const t=(0,so.Z)(this);return this.addons=e,t}clone(){return new JO(this)}}let QO=(()=>{class e extends jO{constructor(){super(JO)}static _createInheritedColumn(e,t){return e.isInheritedSchema?new YO(t):new qO(t)}static _convertColumns(e){return new wO(e)}_convertProperties(e,t){e.caption=new Hr(t.caption),e.description=new Hr(t.description),e.localizableStrings=super.createLocalizableStrings(t.localizableStrings),e.extendParent=t.extendParent}_convertOwnColumns(t,n){const i=t.columns.map((e=>new WO(e)));n.columns=e._convertColumns(i)}_convertForeignColumns(t,n){var i;const r=null===(i=t.inheritedColumns)||void 0===i?void 0:i.map((t=>e._createInheritedColumn(n,t)));n.inheritedColumns=e._convertColumns(r)}_convertIndexes(e,t){var n;const i=null===(n=e.indexes)||void 0===n?void 0:n.map((e=>new GO(e)));t.indexes=new wO(i)}_convertEvents(e,t){const n=(e.handledEventNames||[]).map((e=>({eventCode:e,hasEventHandler:!0})));t.events.updateEvents(n)}_updateSchemaSettingsColumn(e,t,n){n&&(e[t]=e.findColumnByUId(n.uId))}_convertSchemaSettingsInfo(e,t){this._updateSchemaSettingsColumn(e,"primaryColumn",t.primaryColumn),this._updateSchemaSettingsColumn(e,"primaryDisplayColumn",t.primaryDisplayColumn),this._updateSchemaSettingsColumn(e,"primaryImageColumn",t.primaryImageColumn),this._updateSchemaSettingsColumn(e,"primaryOrderColumn",t.primaryOrderColumn),this._updateSchemaSettingsColumn(e,"hierarchyColumn",t.hierarchyColumn),this._updateSchemaSettingsColumn(e,"ownerColumn",t.ownerColumn),this._updateSchemaSettingsColumn(e,"masterRecordColumn",t.masterRecordColumn),this._updateSchemaSettingsColumn(e,"createdByColumn",t.createdByColumn),this._updateSchemaSettingsColumn(e,"createdOnColumn",t.createdOnColumn),this._updateSchemaSettingsColumn(e,"modifiedByColumn",t.modifiedByColumn),this._updateSchemaSettingsColumn(e,"modifiedOnColumn",t.modifiedOnColumn)}convertToSchema(e){const t=super.createSchema(e);return this._convertProperties(t,e),this._convertOwnColumns(e,t),this._convertForeignColumns(e,t),this._convertSchemaSettingsInfo(t,e),this._convertEvents(e,t),this._convertIndexes(e,t),t}}return e.ɵfac=function(t){return new(t||e)},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})(),KO=(()=>{class e extends OO{constructor(e){super(e),this.getSchemaInPackageMethodName="GetSchemaInPackage",this.getSchemaDesignItemMethodName="GetSchemaDesignItem"}static _convertEvents(e,t){const n=(t.handledEventNames||[]).map((e=>({eventCode:e,hasEventHandler:!0})));e.events.updateEvents(n)}static _convertEvensToDto(e){const t=e.events;e.handledEventNames=t.events.filter((e=>!0===e.hasEventHandler)).map((e=>e.code)),e.events=null}static _convertToDto(t){const n=new JO;Object.assign(n,t);const i=n.parentSchema;return i&&null==i.uId&&(n.parentSchema=null),e._convertEvensToDto(n),n}_getAvailableSchemas(e,t,n=!1){return this.httpClient.post(t,{packageUId:e,useFullHierarchy:n})}_getSchemaInPackage(e,t){const n=`${this.serviceEndpoint}${this.getSchemaInPackageMethodName}`;return this.getSchemaFromService(n,{schemaUId:e,packageUId:t})}convertToObject(t){const n=super.convertToObject(t);return e._convertEvents(n,t),n}getSchemaManagerName(){return"EntitySchemaManager"}saveSchema(t){const n=e._convertToDto(t);return super.saveSchema(n)}getAvailableReferenceSchemas(e,t=!1){const n=this.serviceEndpoint+"GetAvailableReferenceSchemas";return this._getAvailableSchemas(e,n,t)}getAvailableParentSchemas(e,t=!1){const n=this.serviceEndpoint+"GetAvailableParentSchemas";return this._getAvailableSchemas(e,n,t)}assignParentSchema(t,n){const i=this.serviceEndpoint+"AssignParentSchema",r={designSchema:e._convertToDto(t.cloneDeepWithoutAddons()),parentSchemaUId:n,useFullHierarchy:t.useFullHierarchy};return this.httpClient.post(i,r,{headers:new s.HttpHeaders({"Content-Type":"application/json"})}).pipe((0,g.U)((e=>e.schema?(e.schema=this.convertToObject(e.schema),e):e)),(0,Or.B)())}getSchemaDesignItem(e,t,n){const i=this.serviceEndpoint+this.getSchemaDesignItemMethodName;return this.getSchemaFromService(i,{name:t,packageUId:e,useFullHierarchy:n})}getSystemValues(e){const t=this.serviceEndpoint+"GetSystemValues";return this.httpClient.post(t,{dataValueTypeUId:e})}getSchemaInPackage(e,t,n){return this._getSchemaInPackage(e,t).pipe((0,$r.zg)((i=>i.schema?(0,h.of)(i.schema):(0,h.forkJoin)({createSchema:this.createSchema({packageUId:t,extendParent:!0}),existingSchema:this.getSchema({schemaUId:e,useFullHierarchy:n})}).pipe((0,$r.zg)((({createSchema:e,existingSchema:i})=>this.getAvailableParentSchemas(t,n).pipe((0,$r.zg)((t=>{const r=t.items.find((e=>e.name===i.schema.name));return e.schema.useFullHierarchy=n,this.assignParentSchema(e.schema,r.uId).pipe((0,g.U)((e=>e.schema)),(0,En.b)((e=>{e.name=r.name})))})))))))))}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](l.Injector))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})(),XO=(()=>{class e{}return e.ɵfac=function(t){return new(t||e)},e.ɵmod=l["ɵɵdefineNgModule"]({type:e}),e.ɵinj=l["ɵɵdefineInjector"]({imports:[[o.CommonModule]]}),e})();("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](XO,{imports:[o.CommonModule]});let ej=(()=>{class e{constructor(e){this._httpClient=e,this._serviceUrl="ServiceModel/WorkspaceExplorerService.svc/"}buildPackage(e){const t=this._serviceUrl+"BuildPackage",n=JSON.stringify({packageName:e});return this._httpClient.post(t,n,{headers:{"content-type":"application/json"}})}compile(){const e=this._serviceUrl+"Build";return this._httpClient.post(e,null)}compileAll(){const e=this._serviceUrl+"Rebuild";return this._httpClient.post(e,null)}buildConfiguration(){const e=this._serviceUrl+"BuildConfiguration";return this._httpClient.post(e,null)}runODataBuild(){const e=this._serviceUrl+"RunODataBuild";return this._httpClient.post(e,null)}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](s.HttpClient))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"root"}),e})(),tj=(()=>{class e{constructor(e){this._httpClient=e,this._serviceUrl="ServiceModel/WorkspaceExplorerService.svc/"}updateDBStructure(e){const t=this._serviceUrl+"UpdateDBStructure";return this._httpClient.post(t,e)}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](s.HttpClient))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"root"}),e})();(0,r.generateGuid)();let nj=(()=>{class e{}return e.ɵfac=function(t){return new(t||e)},e.ɵmod=l["ɵɵdefineNgModule"]({type:e}),e.ɵinj=l["ɵɵdefineInjector"]({providers:[KO,NO("EntitySchemaDesignerService.svc"),{provide:xO,useClass:QO}],imports:[[o.CommonModule,FO]]}),e})();("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](nj,{imports:[o.CommonModule,FO]});let ij=(()=>{class e extends OO{constructor(e){super(e)}getBoundSchemaData(e){const t=this.serviceEndpoint+"GetBoundSchemaData";return this.httpClient.post(t,{uId:e})}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](l.Injector))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})();var rj=(()=>(function(e){e[e.Install=0]="Install",e[e.FirstInstall=1]="FirstInstall",e[e.Update=2]="Update"}(rj||(rj={})),rj))();class aj extends vO{constructor(){super(...arguments),this.entitySchemaName="",this.installType=rj.Install}get DefaultName(){return"SchemaData"}findChildrenItem(e){throw new Error("Method not implemented.")}findGroup(e){throw new Error("Method not implemented.")}}let oj=(()=>{class e extends jO{constructor(){super(aj)}convertToSchema(e){return super.createSchema(e)}}return e.ɵfac=function(t){return new(t||e)},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})(),sj=(()=>{class e{}return e.ɵfac=function(t){return new(t||e)},e.ɵmod=l["ɵɵdefineNgModule"]({type:e}),e.ɵinj=l["ɵɵdefineInjector"]({providers:[{provide:xO,useClass:oj},ij,NO("SchemaDataDesignerService.svc")],imports:[[o.CommonModule,FO]]}),e})();("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](sj,{imports:[o.CommonModule,FO]});let lj=(()=>{class e{}return e.ɵfac=function(t){return new(t||e)},e.ɵmod=l["ɵɵdefineNgModule"]({type:e}),e.ɵinj=l["ɵɵdefineInjector"]({imports:[[o.CommonModule]]}),e})();("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](lj,{imports:[o.CommonModule]});let cj=(()=>{class e{constructor(){this._schemaName="AcademyUrlData"}_createAcademyHelpUrlDataItem(e){return{configurationVersion:e.ConfigurationVersion,contextHelpCode:e.Code,contextHelpId:e.ContextHelpId,enableContextHelp:e.EnableContextHelp,lmsUrl:e.LMSUrl,productEdition:e.ProductEdition,useLmsDocumentation:e.UseLmsDocumentation}}_getSchemaColumns(){return["ContextHelpId","EnableContextHelp","Code","ProductEdition","ConfigurationVersion","UseLmsDocumentation","LMSUrl"]}_createDataSourceParameters(e){return[{type:r.ModelParameterType.Filter,value:this._getContextHelpCodeFilter(e)}]}_getContextHelpCodeFilter(e){return new r.CompareFilter(r.ComparisonType.Equal,new r.ColumnExpression({columnPath:"Code"}),new r.ParameterExpression({value:e}))}_getAcademyHelpUrlData(e){return lc.create(this._schemaName).pipe((0,Pn.w)((t=>t.load({attributes:this._getSchemaColumns(),parameters:e}))),(0,g.U)((e=>1===e.length?this._createAcademyHelpUrlDataItem(e[0]):null)))}_buildUrl(e){let t="#";return e&&(t=e.useLmsDocumentation?this._getLmsDocumentationUrl(e):ur.String.Empty),t}_getLmsDocumentationUrl(e){const t=[],n=e.productEdition;n&&t.push("product="+encodeURIComponent(n));const i=e.configurationVersion;i&&t.push("ver="+encodeURIComponent(i));const r=e.enableContextHelp,a=e.contextHelpId;return r&&a&&t.push("id="+encodeURIComponent(a)),`${e.lmsUrl}?${t.join("&")}`}getAcademyHelpUrl(e){if(e===ur.String.Empty)return(0,h.of)(ur.String.Empty);const t=this._createDataSourceParameters(e);return this._getAcademyHelpUrlData(t).pipe((0,g.U)((e=>e?this._buildUrl(e):ur.String.Empty)))}}return e.ɵfac=function(t){return new(t||e)},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"root"}),e})(),dj=(()=>{class e{constructor(e,t,n,i){this._dialogService=e,this._translateService=t,this._academyHelpUrlService=n,this._domSanitizer=i,this._codeErrorDataSchema={columns:[new Rf({name:"errorTypeIcon",formatter:(e,t)=>t.warning?Ma.Warning:Ma.Error}),{name:"fileName",caption:this._translateService.instant("ErrorListDialogService.FileNameColumn"),valueType:r.DataValueType.Text},{name:"errorText",caption:this._translateService.instant("ErrorListDialogService.ErrorTextColumn"),valueType:r.DataValueType.Text},{name:"errorNumber",caption:this._translateService.instant("ErrorListDialogService.ErrorNumberColumn"),valueType:r.DataValueType.Text},{name:"line",caption:this._translateService.instant("ErrorListDialogService.LineColumn"),valueType:r.DataValueType.Text}]},this._codeValidationErrorDataSchema={columns:[{name:"source",caption:this._translateService.instant("ErrorListDialogService.SourceColumn"),valueType:r.DataValueType.Text},{name:"reference",caption:this._translateService.instant("ErrorListDialogService.ReferenceColumn"),valueType:r.DataValueType.Text},{name:"package",caption:this._translateService.instant("ErrorListDialogService.PackageColumn"),valueType:r.DataValueType.Text}]}}_getCompilationErrorsDialogData(e){return{title:this._translateService.instant("ErrorListDialogService.CodeErrorListDialogCaption"),dataSchema:this._codeErrorDataSchema,data:e,sortColumn:"fileName"}}_getValidationErrorsDialogData(e,t){return{title:this._translateService.instant("ErrorListDialogService.CodeValidationErrorListDialogCaption"),dataSchema:this._codeValidationErrorDataSchema,data:t,sortColumn:"source",additionalText:e,helpLinkUrl:this._getHelpLinkUrl()}}_getHelpLinkUrl(){return{url:this._domSanitizer.bypassSecurityTrustUrl(this._academyUrl),caption:this._translateService.instant("ErrorListDialogService.AcademyHelpUrlCaption")}}_getAcademyHelpUrl(){return this._academyHelpUrlService.getAcademyHelpUrl("PackageHierarchyLoops")}showCompilationErrors(e){return this._dialogService.open(jf,{data:this._getCompilationErrorsDialogData(e),panelClass:"compilation-error-dialog",disableClose:!0})}showValidationErrors(e,t){return this._getAcademyHelpUrl().pipe((0,Pn.w)((n=>(this._academyUrl=n,this._dialogService.open(jf,{data:this._getValidationErrorsDialogData(e,t),panelClass:"validation-error-dialog",disableClose:!0})))))}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](X),l["ɵɵinject"](u.sK),l["ɵɵinject"](cj),l["ɵɵinject"](i.DomSanitizer))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})(),uj=(()=>{class e extends Zm{constructor(e,t){super(e),this._errorListDialogService=t,this._subscription=new h.Subscription}_showValidationErrors(e,t){this._subscription.add(this._errorListDialogService.showValidationErrors(e,t).subscribe())}processUnsuccessfulResponse(e){const{validationErrors:t,errorInfo:n}=e||{};(null==t?void 0:t.length)>0?this._showValidationErrors(n.message,t):super.processUnsuccessfulResponse(e)}ngOnDestroy(){this._subscription.unsubscribe()}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](X),l["ɵɵinject"](dj))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})(),pj=(()=>{class e{}return e.ɵfac=function(t){return new(t||e)},e.ɵmod=l["ɵɵdefineNgModule"]({type:e}),e.ɵinj=l["ɵɵdefineInjector"]({providers:[dj,uj],imports:[[o.CommonModule,ee]]}),e})();("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](pj,{imports:[o.CommonModule,ee]});let mj=(()=>{class e extends OO{constructor(e,t){super(e),this._imageUploaderService=t,this.getParentSchemasMethodName="GetParentSchemas",this.getSchemaInfoMethodName="GetSchemaInfo"}get converter(){return super.converter}_appendImageToSchema(e,t){const n=t.length-1,i=t.map(((t,i)=>this._imageUploaderService.appendImageToSchema(e,t,i===n).pipe((0,En.b)((e=>{e.success&&(t.isChanged=!1)})))));return(0,h.concat)(...i).pipe((0,Py.q)(),(0,Pn.w)((e=>{const t=e.filter((e=>!e.success));if(0===t.length)return(0,h.of)({success:!0});const n=t.map((e=>e.errorInfo.message));return(0,h.of)({success:!1,errorInfo:{message:n.join(";")}})})))}_getParentSchemaFromService(e,t){return this.httpClient.post(e,t,{headers:new s.HttpHeaders({"Content-Type":"application/json"})}).pipe((0,g.U)((e=>{var t;return(null===(t=e.values)||void 0===t?void 0:t.length)&&(e.values=e.values.map((e=>this.convertToObject(e)))),e})),(0,Or.B)())}saveSchema(e){const t=e.uId,n=e.images.filter((e=>{var t;return e.isChanged&&(null===(t=e.data)||void 0===t?void 0:t.size)>0})),i=this.converter.convertToDto(e);return super.saveSchema(i).pipe((0,Pn.w)((e=>e.success&&0!==n.length?this._appendImageToSchema(t,n):(0,h.of)(e))),(0,En.b)((e=>{e.success&&n.forEach((e=>e.isChanged=!1))})),(0,Or.B)())}getAvailableParents(e,t,n){const i=this.serviceEndpoint+"GetAvailableParentSchemas",r={packageUId:e,allowExtended:t,schemaType:n,useFullHierarchy:!1};return this.httpClient.post(i,r,{headers:new s.HttpHeaders({"Content-Type":"application/json"})}).pipe((0,g.U)((e=>e.success?(e.items=e.items.map((e=>{const t=new CO;return t.name=e.name,t.title=e.title,t.uId=e.uId,t})),e):e)),(0,Or.B)())}applyParent(e){const t=this.serviceEndpoint+"ApplyParent",n={newParentUid:e.newParentUid,clientUnitSchema:this.converter.convertToDto(e.schema)};return this.httpClient.post(t,n,{headers:new s.HttpHeaders({"Content-Type":"application/json"})}).pipe((0,g.U)((e=>(e.success&&(e.schema=this.converter.convertToSchema(e.schema)),e))),(0,Or.B)())}getParentSchemas(e){const t=`${this.serviceEndpoint}${this.getParentSchemasMethodName}`;return this._getParentSchemaFromService(t,e)}getSchemaInfo(e){const t=`${this.serviceEndpoint}${this.getSchemaInfoMethodName}`;return this.httpClient.post(t,e,{headers:new s.HttpHeaders({"Content-Type":"application/json"})})}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](l.Injector),l["ɵɵinject"](RO))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})();const hj=(0,r.generateGuid)();(0,r.generateGuid)(),(0,r.generateGuid)(),(0,r.generateGuid)(),(0,r.generateGuid)(),(0,r.generateGuid)(),(0,r.generateGuid)(),(0,r.generateGuid)(),r.DataValueType.Text,r.DataValueType.Lookup,(0,r.generateGuid)(),r.DataValueType.LOCALIZABLE_STRING,r.DataValueType.METADATA_TEXT,r.DataValueType.ENTITY,r.DataValueType.CUSTOM_OBJECT,r.DataValueType.COMPOSITE_OBJECT_LIST,(0,r.generateGuid)(),r.EMPTY_GUID,r.EMPTY_GUID,(0,r.generateGuid)(),r.EMPTY_GUID,(0,r.generateGuid)(),(0,r.generateGuid)(),(0,r.generateGuid)(),r.DataValueType.Text,r.DataValueType.Lookup,r.DataValueType.LOCALIZABLE_STRING,r.DataValueType.METADATA_TEXT,r.DataValueType.ENTITY,r.DataValueType.CUSTOM_OBJECT,r.DataValueType.COMPOSITE_OBJECT_LIST;var gj=n(88701);let fj=(()=>{class e extends Sp{constructor(e){super(),this.jsonApplierService=e}_mergeResources(e){const t={strings:{}};return e.forEach((e=>{e.forEach((e=>{var n;t.strings[e.name]=t.strings[e.name]||{},null===(n=e.values)||void 0===n||n.forEach((n=>{t.strings[e.name][n.cultureName]=n.value}))}))})),t}build(e){const t=[...e].reverse(),n=t.map((e=>gj.parse(e.getSchemaBodyProperty("SCHEMA_DIFF")||e.getSchemaBodyProperty("SCHEMA_VIEW_CONFIG_DIFF")))),i=this.jsonApplierService.applyDiff([],n),r=(0,Ip.all)(t.map((e=>gj.parse(e.getSchemaBodyProperty("SCHEMA_VIEW_MODEL_CONFIG"))||{})),this.deepMergeOptions),a=(0,Ip.all)(t.map((e=>gj.parse(e.getSchemaBodyProperty("SCHEMA_MODEL_CONFIG"))||{})),this.deepMergeOptions),o=t[t.length-1],s=(null==o?void 0:o.getSchemaBodyProperty("SCHEMA_HANDLERS"))||(null==o?void 0:o.getSchemaBodyProperty("SCHEMA_HANDLERS_CONFIG"))||"[]",l=(null==o?void 0:o.getSchemaBodyProperty("SCHEMA_CONVERTERS"))||"{}",c=(null==o?void 0:o.getSchemaBodyProperty("SCHEMA_DEPS"))||"[]",d=(null==o?void 0:o.getSchemaBodyProperty("SCHEMA_ARGS"))||"()",u=this._mergeResources(t.map((e=>e.localizableStrings))),p=(null==o?void 0:o.getSchemaBodyProperty("SCHEMA_VALIDATORS"))||"{}";return(0,h.of)({viewConfig:i,viewModelConfig:r,modelConfig:a,resources:u,handlers:s,deps:c,args:d,converters:l,validators:p,tag:e.map((e=>e.name)).join(".")})}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](ap))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})();var vj=(()=>(function(e){e[e.None=0]="None",e[e.Module=1]="Module",e[e.EditViewModelSchema=2]="EditViewModelSchema",e[e.ModuleViewModelSchema=3]="ModuleViewModelSchema",e[e.DetailViewModelSchema=4]="DetailViewModelSchema",e[e.GridDetailViewModelSchema=5]="GridDetailViewModelSchema",e[e.EditControlsDetailViewModelSchema=6]="EditControlsDetailViewModelSchema",e[e.UnitTestModule=7]="UnitTestModule",e[e.GridEditDetailViewModelSchema=8]="GridEditDetailViewModelSchema",e[e.AngularSchema=9]="AngularSchema"}(vj||(vj={})),vj))();class bj extends SO{constructor(){super(),this._markerCommentsTemplate="(\\/\\*\\*PROPERTY_NAME\\*\\/)([\\s\\S]*)(\\/\\*\\*PROPERTY_NAME\\*\\/)",this.messages=new wO,this.images=new wO,this.onMetaItemsChanged=new l.EventEmitter,this.useFullHierarchy=!1}get isModule(){return this.schemaType===vj.Module}get DefaultName(){return"ClientUnitSchema"}_setNameFromParent(){this.extendParent&&(this.name=this.parent.name)}_addUpdateImages(e){this.images.filter((e=>e.isChanged)).forEach((t=>{e.images.find((e=>e.uId===t.uId)).updateFile(t.data)}))}_fixBodyTabs(e){return e.split("\n").map(((e,t)=>(t>0?"\t\t":"")+e),this).join("\n")}_getMarkerCommentsRegExp(e){return new RegExp(this._markerCommentsTemplate.replace(/PROPERTY_NAME/g,e))}updateBodySchemaName(e,t){var n;(null==e?void 0:e.length)&&(this.body=null===(n=this.body)||void 0===n?void 0:n.replace(e,t))}findChildrenItem(e){return this.messages.findItem(e)||this.images.findItem(e)||super.findChildrenItem(e)}findGroup(e){return[this.messages,this.images].find((t=>t.uId===e))||super.findGroup(e)}updateDescription(e){super.updateDescription(e),this._setNameFromParent()}updateMetaItems(e){this._addUpdateImages(e),this.name=e.name,this.parent=e.parent,this.group=e.group,this.caption=new Hr(e.caption),this.description=new Hr(e.description),this.localizableStrings=new wO(e.localizableStrings),this.messages=new wO(e.messages),this.images=new wO(e.images),this.parameters=new wO(e.parameters),this.onMetaItemsChanged.emit()}getSchemaBodyProperty(e){const t=this._getMarkerCommentsRegExp(e),n=this.body.match(t);return n&&n[2]}setSchemaBodyProperty(e,t){let n=JSON.stringify(t||{},null,"\t");n=this._fixBodyTabs(n),this.setSchemaBody(e,n)}setSchemaBody(e,t){const n=this._getMarkerCommentsRegExp(e);this.body=this.body.replace(n,"$1"+t+"$3")}}class Cj extends gO{constructor(e){super(e),e&&(this.direction=e.direction,this.mode=e.mode)}clone(){return new Cj(this)}}let yj=(()=>{class e extends jO{constructor(){super(bj)}_convertMessages(e){return e.messages?new wO(e.messages.map((e=>new Cj(e)))):new wO}_convertImages(e){return e.images?new wO(e.images.map((e=>new IO(e)))):new wO}convertToSchema(e){const t=super.createSchema(e);return t.caption=new Hr(e.caption),t.description=new Hr(e.description),t.localizableStrings=super.createLocalizableStrings(e.localizableStrings),t.messages=this._convertMessages(e),t.images=this._convertImages(e),e.parent&&(t.parent={name:e.parent.name,id:e.parent.id,uId:e.parent.uId,caption:new Hr(e.parent.caption)}),t.parameters=new wO,e.parameters.forEach((e=>{const n=new MO(e);t.parameters.push(n)})),t}convertToDto(e){const t=(0,so.Z)(e);if(e.parent){const n=e.parent;t.parent={uId:n.uId,name:n.name}}else t.parent=null;return delete t.onMetaItemsChanged,t}}return e.ɵfac=function(t){return new(t||e)},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})();n(80037);let wj=(()=>{class e{_getDataSourceEntityColumnPaths(t,n){return t.map((t=>{const i=e._attributeParseRegex.exec(t);if(!i)return null;const r=n[i.groups.dataSourceName];if(!r||"crt.EntityDataSource"!==r.type)return null;let a=i.groups.columnName;if(r.config&&r.config.attributes){const e=r.config.attributes[a];e&&(a=e.path)}return[r.config.entitySchemaName,a]})).filter((e=>Boolean(e)))}_assembleRequiredEntityColumns(e){const t=[];for(const[n,i]of e){let e=t.find((e=>e.entitySchemaName===n));e||(e={entitySchemaName:n,columnPaths:[]},t.push(e)),e.columnPaths.push(i)}return t}_getMapConfigAttributes(e){return Object.values(e).filter((e=>{var t;return null===(t=e.modelConfig)||void 0===t?void 0:t.path})).map((e=>{const t=e.modelConfig.path;return 1!==t.split(".").length?t:this._getMapConfigAttributes(e.viewModelConfig.attributes)})).flat().filter((e=>Boolean(e)))}_assemblyDataSourceEntityColumnPaths(e){var t,n;let i=[];const r=null===(t=null==e?void 0:e.modelConfig)||void 0===t?void 0:t.dataSources,a=(null===(n=null==e?void 0:e.viewModelConfig)||void 0===n?void 0:n.attributes)||{};if(r){const e=this._getMapConfigAttributes(a);i=this._getDataSourceEntityColumnPaths(e,r)}return i}build(e,t){const n=this._assemblyDataSourceEntityColumnPaths(e);return{requiredSchemas:[],requiredEntityColumns:this._assembleRequiredEntityColumns(n)}}}return e._attributeParseRegex=/^(?<dataSourceName>[^.]+)\.(?<columnName>.+)$/,e})(),_j=(()=>{class e{constructor(){this._currentPackageUIdSubject=new h.ReplaySubject(1)}setCurrentPackageUId(e){return e&&this._currentPackageUIdSubject.next(e),(0,h.of)(null)}getCurrentPackageUId(){return this._currentPackageUIdSubject.asObservable()}}return e.ɵfac=function(t){return new(t||e)},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"root"}),e})(),xj=(()=>{class e{constructor(e,t,n,i){this._schemaDataDesignerApi=e,this._queryExecutor=t,this._entitySchemaService=n,this._lczToString=i}_mapEntitySchemaColumn(e,t){return{uId:t.uId,name:t.name,caption:t.caption,isForceUpdate:!1,isKey:t.uId===e.primaryColumnUId}}_saveRegistrationDataToPackage(e,t,n){return this._entitySchemaService.getEntitySchemaByName("Lookup").pipe((0,Pn.w)((i=>{const{entitySchema:a}=i,o=new aj;return o.name=t,o.body="",o.package=new fO,o.uId=(0,r.generateGuid)(),o.package.uId=n.uId,o.package.name=n.name,o.entitySchemaName="Lookup",o.entitySchemaUId=a.uId,o.boundRecordIds=[e],o.columns=a.columns.map((e=>this._mapEntitySchemaColumn(a,e))),this._schemaDataDesignerApi.saveSchema(o)})))}_register(e){const t=new r.InsertQuery("Lookup");return t.addColumn("Name",this._lczToString.transform(e.caption),r.DataValueType.Text),t.addColumn("SysEntitySchemaUId",e.uId,r.DataValueType.Guid),this._queryExecutor.executeInsertQuery(t)}register(e){return this._register(e).pipe((0,Pn.w)((t=>{const n=wt.generateUnique("Lookup_"+e.name);return this._saveRegistrationDataToPackage(t.id,n,e.package)})),(0,co.h)(null))}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](ij),l["ɵɵinject"](ps),l["ɵɵinject"](ta),l["ɵɵinject"](no))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})(),Ij=(()=>{class e{constructor(e,t,n,i,r,a,o,s,l,c,d){this._entitySchemaDesignerApiService=e,this._sysSettingsService=t,this._applicationInfoService=n,this._errorHandler=i,this._workspaceStructureService=r,this._restErrorHandler=a,this._featureService=o,this._lczToString=s,this._workspaceCompilationService=l,this._currentPageSchemaPackageService=c,this._lookupRegistrationService=d,this._allowBuildConfigurationOnSave="InterfaceDesignerAllowBuild",this._entitySchemaModelInfos=new Map,this._changedSchemaNames=new Set}_getUserSettings(){return this._userSettings?(0,h.of)(this._userSettings):(0,h.forkJoin)({currentPackageUId:this._currentPageSchemaPackageService.getCurrentPackageUId().pipe((0,Tn.q)(1)),sysSettings:this._sysSettingsService.getByCodes(["CustomPackageUId","SchemaNamePrefix"]).pipe((0,jr.j)("values"))}).pipe((0,g.U)((({currentPackageUId:e,sysSettings:t})=>{var n;return{schemaNamePrefix:null===(n=t.SchemaNamePrefix)||void 0===n?void 0:n.value,currentPackageUId:e,customPackageUId:t.CustomPackageUId.value}})),(0,En.b)((e=>{this._userSettings=e})))}_getSystemValues(){return this._systemValues?(0,h.of)(this._systemValues):this._applicationInfoService.loadSysValues().pipe((0,En.b)((e=>{this._systemValues=e})))}_updateDBStructure(e){return this._restErrorHandler.handleRequest(this._workspaceStructureService.updateDBStructure(e))}_getSchemaDesignItem(e,t){return this._entitySchemaDesignerApiService.getSchemaDesignItem(t,e,!0).pipe((0,g.U)((e=>e.schema)))}_getDesignedReferenceSchemas(){return Array.from(this._entitySchemaModelInfos.entries()).filter((([,e])=>!this._referenceSchemas||!this._referenceSchemas.find((t=>{var n;return t.uId===e.entitySchema.uId||t.uId===(null===(n=e.entitySchema.parentSchema)||void 0===n?void 0:n.uId)})))).map((([,e])=>new bO({name:e.entitySchema.name,uId:e.entitySchema.uId,caption:this._lczToString.transform(e.entitySchema.caption)})))}_updateConfiguration(){return this._workspaceCompilationService.buildConfiguration().pipe((0,$r.zg)((e=>e.success?this._workspaceCompilationService.runODataBuild():(0,h.of)(e))))}_isSchemaColumnsModified(e){const t=this._entitySchemaModelInfos.get(e.name);return!!t.isNewSchema||!t.sourceEntitySchema.equal(e)}_saveChangedSchemas(e,t=!1){const n=e.filter((e=>this._changedSchemaNames.has(e.name))).filter((e=>this._isSchemaColumnsModified(e))),i=n.map((e=>this._errorHandler.handleRequest(this._entitySchemaDesignerApiService.saveSchema(e))));return n.length?(0,h.forkJoin)(i).pipe((0,$r.zg)((e=>this._isSchemasSaved(e)?this._actualizeSavedSchemas(e).pipe((0,$r.zg)((e=>t?this._updateConfiguration():(0,h.of)(e)))):(0,h.of)({success:!1})))):(0,h.of)({success:!0})}_actualizeSavedSchemas(e){return this._entitySchemaModelInfos.forEach((e=>{e.isNewSchema=!1,e.sourceEntitySchema=e.entitySchema.clone()})),this._updateDBStructure(e.map((e=>e.schemaUid)))}_isSchemasSaved(e){return!e||0===e.length||e.every((e=>e.success))}get _schemas(){return Array.from(this._entitySchemaModelInfos.values()).map((e=>e.entitySchema))}_getDesignedColumns(e){const t=this._entitySchemaModelInfos.get(e.name).sourceEntitySchema.columns.map((e=>e.uId));return e.columns.filter((e=>!t.includes(e.uId)))}_isColumnReferenceToSchema(e,t){var n;return e.type===r.DataValueType.Lookup&&(null===(n=e.referenceSchema)||void 0===n?void 0:n.uId)===t.uId}_hasReferenceToEntitySchema(e,t,n=!1){return(n?[...e.columns,...e.inheritedColumns]:this._getDesignedColumns(e)).filter((e=>e.type===r.DataValueType.Lookup)).some((e=>{var n;return(null===(n=e.referenceSchema)||void 0===n?void 0:n.uId)===t.uId}))}_findReferencingSchemas(e){return this._schemas.filter((t=>this._getDesignedColumns(t).filter((e=>e.type===r.DataValueType.Lookup)).filter((e=>!this._isColumnReferenceToSchema(e,t))).some((t=>{var n;return e.includes(null===(n=t.referenceSchema)||void 0===n?void 0:n.uId)}))))}_findReferencedSchemas(e,t,n=!1){return this._schemas.filter((e=>!t.includes(e.uId))).filter((t=>e.some((e=>this._hasReferenceToEntitySchema(e,t,n)))))}_findRootSchemas(e){let t=this._schemas.filter((e=>!this._findReferencingSchemas([e.uId]).length));return e&&(t=t.filter((t=>e.includes(t.name)))),t}_getReferenceSchemas(e,t=!1){const n=[],i=e.map((e=>e.uId));let r=this._findReferencedSchemas(e,i,t);for(i.push(...r.map((e=>e.uId)));r.length;)n.push(r),r=this._findReferencedSchemas(r,i,t),i.push(...r.map((e=>e.uId)));return n.reverse()}_saveSchemas(e){return this._featureService.getFeatureState(this._allowBuildConfigurationOnSave).pipe((0,$r.zg)((t=>{const n=this._findRootSchemas(e),i=this._getReferenceSchemas(n).map((e=>this._saveChangedSchemas(e,t)));return(0,h.concat)(...i,this._saveChangedSchemas(n)).pipe((0,Py.q)(),(0,g.U)((e=>e.every((e=>e.success))?{success:!0}:{success:!1})))})))}_createDesignItem(e,t,n,i){return this._getUserSettings().pipe((0,$r.zg)((({currentPackageUId:e})=>this._errorHandler.handleRequest(this._entitySchemaDesignerApiService.createSchema({packageUId:e})))),(0,jr.j)("schema"),(0,$r.zg)((t=>(t.useFullHierarchy=!0,this._errorHandler.handleRequest(this._entitySchemaDesignerApiService.assignParentSchema(t,e))))),(0,jr.j)("schema"),(0,En.b)((e=>{e.caption=t,n&&(e.description=n),i&&(e.name=i),this._entitySchemaModelInfos.set(e.name,{entitySchema:e,isNewSchema:!0,sourceEntitySchema:e.clone()}),this.markSchemaAsChanged(e.name)})))}_registerLookups(e=null){const t=this._findRootSchemas(e),n=[t,...this._getReferenceSchemas(t,!0)].flat().filter((e=>this._entitySchemaModelInfos.get(e.name).registerAsLookup));if(!n.length)return(0,h.of)({success:!0});const i=n.map((e=>this._lookupRegistrationService.register(e).pipe((0,En.b)((()=>this._entitySchemaModelInfos.get(e.name).registerAsLookup=!1)))));return(0,h.forkJoin)(i).pipe((0,co.h)({success:!0}),(0,dr.K)((e=>(0,h.of)({success:!1,errorInfo:e}))))}getAvailableReferenceSchemas(e=!1){return(Array.isArray(this._referenceSchemas)?(0,h.of)(this._referenceSchemas):this._getUserSettings().pipe((0,$r.zg)((({customPackageUId:t})=>this._entitySchemaDesignerApiService.getAvailableReferenceSchemas(t,e))),(0,g.U)((e=>(null==e?void 0:e.items)||[])),(0,En.b)((e=>{this._referenceSchemas=e})))).pipe((0,g.U)((e=>[...e,...this._getDesignedReferenceSchemas()])))}getEntitySchemaByName(e){var t;return(0,h.of)(null===(t=this._entitySchemaModelInfos.get(e))||void 0===t?void 0:t.entitySchema)}getExistingColumns(e){var t,n;return(0,h.of)(null===(n=null===(t=this._entitySchemaModelInfos.get(e))||void 0===t?void 0:t.sourceEntitySchema)||void 0===n?void 0:n.columns)}getIsNewSchemaByUId(e){var t,n;const i=null!==(n=null===(t=Array.from(this._entitySchemaModelInfos.values()).find((t=>t.entitySchema.uId===e)))||void 0===t?void 0:t.isNewSchema)&&void 0!==n&&n;return(0,h.of)(i)}getEntitySchemaNameLengthLimit(){return this._getSystemValues().pipe((0,g.U)((e=>e.maxEntitySchemaNameLength)))}updateEntitySchemaMaps(){return this._entitySchemaModelInfos.forEach(((e,t)=>{if(e.entitySchema.name!==t){const n=this._entitySchemaModelInfos.get(t);this._entitySchemaModelInfos.delete(t),this._entitySchemaModelInfos.set(e.entitySchema.name,n),this._changedSchemaNames.has(t)&&(this._changedSchemaNames.delete(t),this._changedSchemaNames.add(e.entitySchema.name))}})),(0,h.of)(null)}checkUniqueSchemaName(e,t){return this._entitySchemaDesignerApiService.checkUniqueSchemaName(e,t,"EntitySchemaManager")}initDesignItemByName(e){const t=Array.from(this._entitySchemaModelInfos.values()).find((t=>{var n;return t.entitySchema.name===e||(null===(n=t.entitySchema.parentSchema)||void 0===n?void 0:n.name)===e}));return t?(0,h.of)(t.entitySchema):this._getUserSettings().pipe((0,$r.zg)((t=>this._getSchemaDesignItem(e,t.currentPackageUId))),(0,En.b)((e=>{this._entitySchemaModelInfos.has(e.name)||this._entitySchemaModelInfos.set(e.name,{entitySchema:e,isNewSchema:!1,sourceEntitySchema:e.clone()})})))}markSchemaAsChanged(e){this._entitySchemaModelInfos.has(e)&&!this._changedSchemaNames.has(e)&&this._changedSchemaNames.add(e)}createDesignItem(e,t){return this._createDesignItem("1bab9dcf-17d5-49f8-9536-8e0064f1dce0",e,t,null)}createLookupDesignItem(e,t){return this._createDesignItem("11ab4bcb-9b23-4b6d-9c86-520fae925d75",e,null,t).pipe((0,En.b)((()=>this._entitySchemaModelInfos.get(t).registerAsLookup=!0)))}saveDesignItems(e=null){return 0===this._changedSchemaNames.size?(0,h.of)({success:!0}):this._saveSchemas(e).pipe((0,Pn.w)((t=>t.success?this._registerLookups(e):(0,h.of)(t))))}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](KO),l["ɵɵinject"](ws),l["ɵɵinject"](Fr),l["ɵɵinject"](uj),l["ɵɵinject"](tj),l["ɵɵinject"](Zm),l["ɵɵinject"](ls),l["ɵɵinject"](no),l["ɵɵinject"](ej),l["ɵɵinject"](_j),l["ɵɵinject"](xj))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})(),Sj=(()=>{class e{}var t;return e.ɵfac=function(t){return new(t||e)},e.ɵmod=l["ɵɵdefineNgModule"]({type:e}),e.ɵinj=l["ɵɵdefineInjector"]({providers:[mj,NO("ClientUnitSchemaDesignerService.svc"),{provide:xO,useClass:yj},(t="SchemaImageUploaderService.svc",{multi:!1,provide:AO,useValue:`/ServiceModel/${t}`}),Ij,{provide:KO,useFactory:e=>{const t=l.Injector.create({parent:e,name:"EntitySchemaDesignerInjector",providers:[NO("EntitySchemaDesignerService.svc"),{provide:xO,useClass:QO,deps:[]}]});return new KO(t)},deps:[l.Injector]},RO,fj,ap,dp,wj,uj,xj,{provide:ij,useFactory:e=>{const t=l.Injector.create({parent:e,name:"SchemaDataDesignerInjector",providers:[NO("SchemaDataDesignerService.svc"),{provide:xO,useClass:oj,deps:[]}]});return new KO(t)},deps:[l.Injector]}],imports:[[o.CommonModule,FO]]}),e})();("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](Sj,{imports:[o.CommonModule,FO]});let Mj=(()=>{class e{constructor(e,t,n,i,r){this._entitySchemaDesignerService=e,this._translateService=t,this._userInfo=n,this._sysSettingsService=i,this._lczToString=r,this._schemaNamePrefixSysSettingCode="SchemaNamePrefix",this._schemaNamePrefix=null,this._entityRequested=new Map,this._entityChanged$=new h.Subject}get schemaNamePrefix(){return this._getSchemaNamePrefix()}_getDataValueTypeNewColumnsCount(e,t,n){return e.filter((e=>e.find((e=>{var i;return e.cultureName===t&&(null===(i=e.value)||void 0===i?void 0:i.startsWith(n))})))).length}_getDataValueTypeCaption(e,t){const n=`NewColumnSubGroup.${r.DataValueType[t]}Column`,i=this._translateService.instant(n),a=[...e.columns,...e.inheritedColumns].map((e=>e.caption)),o=this._userInfo.cultureInfo.sysCultureName;return{cultureName:o,value:i+" "+(this._getDataValueTypeNewColumnsCount(a,o,i)+1)}}_innerGetByName(e){if(this._entityRequested.has(e))return this._entityRequested.get(e);const t=this._entitySchemaDesignerService.initDesignItemByName(e).pipe((0,Or.B)(),(0,En.b)((()=>{this._entityRequested.delete(e)})));return this._entityRequested.set(e,t),t}_getSchemaNamePrefix(){return null!=this._schemaNamePrefix?(0,h.of)(this._schemaNamePrefix):this._sysSettingsService.getByCodes([this._schemaNamePrefixSysSettingCode]).pipe((0,jr.j)("values"),(0,g.U)((e=>e[this._schemaNamePrefixSysSettingCode])),(0,g.U)((e=>(null==e?void 0:e.value)||"")),(0,En.b)((e=>this._schemaNamePrefix=e)))}_processChangesForReferenceSchemas(e){const t=e.findIndex((e=>"referenceSchema"===e.path));if(t>=0){const n=e[t];return this.getAvailableReferenceSchemas().pipe((0,g.U)((i=>{const{name:r,uId:a}=i.find((e=>e.uId===n.value))||{},o=e.slice();return o[t]=Object.assign(Object.assign({},n),{value:{name:r,uId:a}}),o})))}return(0,h.of)(e)}_getEntitySchemaByName(e){return this._entitySchemaDesignerService.getEntitySchemaByName(e)}_getLocalizableValue(e){return this._lczToString.transform(new Hr(e.filter((e=>e.value))))}getExistingColumns(e){return this._entitySchemaDesignerService.getExistingColumns(e)}getIsNewSchemaByUId(e){return this._entitySchemaDesignerService.getIsNewSchemaByUId(e)}getAvailableReferenceSchemas(e=!1){return this._entitySchemaDesignerService.getAvailableReferenceSchemas(e).pipe((0,g.U)((e=>e.sort(((e,t)=>{var n,i;return(null===(n=e.caption)||void 0===n?void 0:n.trim().replace(/"/g,""))>(null===(i=t.caption)||void 0===i?void 0:i.trim().replace(/"/g,""))?1:-1})))))}checkUniqueSchemaName(e,t){return this._entitySchemaDesignerService.checkUniqueSchemaName(e,t)}getEntitySchemaNameLengthLimit(){return this._entitySchemaDesignerService.getEntitySchemaNameLengthLimit()}getByName(e){return this._getEntitySchemaByName(e).pipe((0,$r.zg)((t=>t?(0,h.merge)((0,h.of)(t),this._entityChanged$.pipe((0,f.h)((e=>e===t.name)),(0,g.U)((()=>t)))):(0,h.merge)(this._innerGetByName(e),this._entityChanged$.pipe((0,f.h)((t=>t===e)),(0,$r.zg)((()=>this._getEntitySchemaByName(e))))))))}getEntityColumnByName(e,t){return this.getByName(e).pipe((0,Tn.q)(1),(0,g.U)((e=>[...e.columns,...e.inheritedColumns].find((e=>e.name===t)))))}getForwardReferenceColumn(e){const t=e.split("."),n=t.length,i=t.shift(),r=t.shift();return 2===n?this.getEntityColumnByName(i,r):this.getEntityColumnByName(i,r).pipe((0,$r.zg)((e=>{var n;return this.getForwardReferenceColumn(`${null===(n=e.referenceSchema)||void 0===n?void 0:n.name}.${t.join(".")}`)})))}getForwardReferenceColumnCaptionByPath(e){const t=e.split("."),n=t.shift();return(0,h.combineLatest)(t.map(((e,i)=>{const r=`${n}.${t.slice(0,i+1).join(".")}`;return this.getForwardReferenceColumn(r).pipe((0,g.U)((e=>this._getLocalizableValue(e.caption))))}))).pipe((0,$r.zg)((e=>this.getByName(n).pipe((0,Tn.q)(1),(0,g.U)((t=>`${this._getLocalizableValue(t.caption)}.${e.join(".")}`))))))}createDesignItem(e,t){return this._entitySchemaDesignerService.createDesignItem(e,t)}createLookupDesignItem(e,t){return this._entitySchemaDesignerService.createLookupDesignItem(e,t)}createColumn(e,t){return(0,h.combineLatest)([this._entitySchemaDesignerService.getEntitySchemaByName(e),this._getSchemaNamePrefix()]).pipe((0,g.U)((([e,n])=>{const i=e.createColumn(t,n);return i.caption=new Hr([this._getDataValueTypeCaption(e,t)]),i})),(0,En.b)((t=>{this._entitySchemaDesignerService.markSchemaAsChanged(e),this._entityChanged$.next(e)})))}updateColumn(e,t,n){return this._entitySchemaDesignerService.getEntitySchemaByName(e).pipe((0,Tn.q)(1),(0,$r.zg)((e=>this._processChangesForReferenceSchemas(n).pipe((0,g.U)((t=>({schema:e,processedChanges:t})))))),(0,g.U)((({schema:n,processedChanges:i})=>{const r=[...n.columns,...n.inheritedColumns].find((e=>e.name===t));return i.forEach((e=>{r[e.path]=e.value})),this._entitySchemaDesignerService.markSchemaAsChanged(e),this._entityChanged$.next(e),r})))}createOrUpdateEntityAddon(e,t,n,i){return this._entitySchemaDesignerService.getEntitySchemaByName(e).pipe((0,$r.zg)((e=>{const r=e.addons.find((e=>e.addonName===t));if(r)return r.addonConfig=(0,h.of)(n),(0,h.of)(r);const a=new DO(t,e.uId,"EntitySchemaManager",i);return e.addons.push(a),a.addonConfig.pipe((0,g.U)((()=>(a.addonConfig=(0,h.of)(n),a))))})),(0,En.b)((()=>{this._entitySchemaDesignerService.markSchemaAsChanged(e),this._entityChanged$.next(e)})))}updateEntity(e,t){return this._entitySchemaDesignerService.getEntitySchemaByName(e).pipe((0,Tn.q)(1),(0,g.U)((n=>(t.forEach((t=>{n[t.path]=t.value,"name"===t.path&&(this._entitySchemaDesignerService.updateEntitySchemaMaps(),e=t.value.toString())})),this._entitySchemaDesignerService.markSchemaAsChanged(e),this._entityChanged$.next(e),n))))}canRemoveColumn(e,t){return(0,h.forkJoin)([this.getByName(e).pipe((0,Tn.q)(1)),this.getExistingColumns(e)]).pipe((0,g.U)((([e,n])=>{const i=Boolean(e.inheritedColumns.find((e=>e.name===t))),r=Boolean(n.find((e=>e.name===t)));return!i&&!r})))}removeColumn(e,t){return this.getByName(e).pipe((0,Tn.q)(1),(0,g.U)((n=>{const i=n.columns.find((e=>e.name===t));return i&&(n.columns.deleteItemByUId(i.uId),this._entitySchemaDesignerService.markSchemaAsChanged(e),this._entityChanged$.next(e)),n})))}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](Ij),l["ɵɵinject"](u.sK),l["ɵɵinject"](Yr),l["ɵɵinject"](ws),l["ɵɵinject"](no))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})(),Dj=(()=>{class e extends mO{constructor(e,t,n){super(n),this._designerSchemaService=e,this._designerEntityService=t,this.factory=n}_getDataSourcesInfo(e){if(!e)return[];return Object.keys(e).filter((t=>"crt.EntityDataSource"===e[t].type)).map((t=>({dataSourceName:t,entitySchemaName:e[t].config.entitySchemaName,hiddenInPageDesigner:e[t].hiddenInPageDesigner,scope:e[t].scope})))}_enrichDataSource(e){return this._designerEntityService.getByName(e.entitySchemaName).pipe((0,g.U)((t=>(e.entitySchema=t,e.entitySchemaName=t.name,e))))}_enrichDataSources(e){return 0===e.length?(0,h.of)(e):(0,h.combineLatest)([...e.map((e=>this._enrichDataSource(e)))])}_getDataSourcesInSchema(){return(0,h.merge)(this._designerSchemaService.schemaLoaded$,this._designerSchemaService.schemaChanged$.pipe((0,f.h)((e=>e.changes.operation===kp.CreateDataSource)),(0,g.U)((e=>e.schema)))).pipe((0,En.b)((e=>Ap(e))),(0,g.U)((e=>{var t;return null===(t=null==e?void 0:e.modelConfig)||void 0===t?void 0:t.dataSources})))}_removeViewModelAttribute(e,t,n){if(this._designerSchemaService.removeViewModelAttribute(t),e.attributeType===Bl.ForwardReferenceAttribute){const e=this._designerSchemaService.getDataSourceConfigByName(n);(null==e?void 0:e.attributes)&&(delete e.attributes[t],this._designerSchemaService.bindDataSource(n,e))}}_getDataSchema(e){return this.getDataSources$().pipe((0,Tn.q)(1),(0,g.U)((t=>t.find((t=>t.dataSourceName===e)))),(0,$r.zg)((e=>e.getSchema().pipe((0,Tn.q)(1)))))}_getRemoveColumnInfo(e,t){return this._getDataSchema(e).pipe((0,$r.zg)((e=>this._designerEntityService.canRemoveColumn(e.name,t).pipe((0,g.U)((t=>({schema:e,canRemoveColumn:t})))))))}getDataSourcesInfo$(){return this._getDataSourcesInSchema().pipe((0,g.U)((e=>this._getDataSourcesInfo(e))),(0,$r.zg)((e=>this._enrichDataSources(e))))}getDataSources$(e=null){return this._getDataSourcesInSchema().pipe((0,g.U)((t=>e?Object.fromEntries(Object.entries(t).filter((([,t])=>t.scope===e))):t)),(0,$r.zg)((e=>this.initDesignTimeDataSources(e))))}getForwardReferenceAttributeCaptionByPath$(e){const t=e.split("."),n=t.shift();return this._getDataSchema(n).pipe((0,$r.zg)((e=>this._designerEntityService.getForwardReferenceColumnCaptionByPath(`${e.name}.${t.join(".")}`))))}createDataSourceConfig(e){return{type:"crt.EntityDataSource",config:{entitySchemaName:e}}}removeAttribute(e){const t=this._designerSchemaService.getMappedDataSourceAttributePath(e).split("."),n=t.shift(),i=t.join(".");return this._getRemoveColumnInfo(n,i).pipe((0,$r.zg)((({schema:t,canRemoveColumn:r})=>{const a=t.attributes.find((e=>e.name===i));return this._removeViewModelAttribute(a,e,n),a.attributeType===Bl.OwnAttribute&&r?this._designerEntityService.removeColumn(t.name,i).pipe((0,g.U)((()=>null))):(0,h.of)(null)})))}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](nO),l["ɵɵinject"](Mj),l["ɵɵinject"](ac))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"any"}),e})(),Pj=class extends cO{constructor(e){super(e),this._injector=e,this.type="crt.DataSource",this._iconsProvider=e.get(Ba),this._translateService=this._injector.get(u.sK),this._designItemsIconsProvider=this._injector.get(lO),this._designerEntityDataSourceService=this._injector.get(Dj),this._designerLoaderService=this._injector.get(XN),this._lczToString=this._injector.get(no),this._columnControlExtraConfigProvider=this._injector.get(pO),this._attributeConfigProvider=this._injector.get(uO)}_getDesignerToolItems(e){if(!e)return[];return[this._getDataSourceDesignerToolItem(e),...this._getNewAttributesGroup(e),...this._getExistAttributesGroup(e)]}_getDataSourceDesignerToolItem(e){const t=this._getLocalizableValue(e.entitySchema.caption);return this._createGroupDesignerTool(e.dataSourceName,t)}_getNewAttributesGroup(e){const t=e.dataSourceName,n=`${t}_NewColumns`,i=this._translateService.instant("DataGroupColumnsSubGroups.NewColumn"),r=this._createGroupDesignerTool(n,i,t);return[r,...this._createNewAttributesDesignerTools(e,r.name)]}_getExistAttributesGroup(e){const t=e.dataSourceName,n=`${t}_ExistingColumns`,i=this._translateService.instant("DataGroupColumnsSubGroups.ExistingColumns"),r=e.entitySchema,a=this._createGroupDesignerTool(n,i,t),o=[...r.columns,...r.inheritedColumns].filter((e=>this._columnCanBeDisplayed(e))).map((e=>Object.assign(Object.assign({},this._getDataSourceAttributeDesignerToolItem(e,t,a.name)),{dragPreviewIcon:this._getDragPreviewIconName(e.type),propertiesPanelComponentTypeName:this._getPropertiesPanelComponentTypeName(e.type),errorMessage:this._getErrorMessageForColumn(e)}))).sort(((e,t)=>e.caption.localeCompare(t.caption)));return a.attributes=o,[a,...o]}_getErrorMessageForColumn(e){return e.type!==r.DataValueType.Lookup||e.referenceSchema?"":this._translateService.instant("ColumnValidators.ErrorMessages.LookupReferenceSchemaNotSetError")}_getLocalizableValue(e){return this._lczToString.transform(new Hr(e.filter((e=>e.value))))}_getDragPreviewIconName(e){const t=this._getControlConfigByDataValueType(e);return this._designItemsIconsProvider.registerIconAndGetIconName(t.controlType,t.toolbarConfigName)}_getPropertiesPanelComponentTypeName(e){return this._getControlConfigByDataValueType(e).propertiesPanelComponentTypeName}_createGroupDesignerTool(e,t,n){const i=this._getDefaultDesignerToolItem(e,t,n);return i.defaultConfig.defaultPropertyValues={},i.canDrop=!1,i.propertiesPanelComponentTypeName="crt.EntityDataSourcePropertiesPanel",i}_createNewAttributesDesignerTools(e,t){return[this._createNewAttributeDesignerTool(e,t,"TextColumn",jN.Input,r.DataValueType.MEDIUM_TEXT),this._createNewAttributeDesignerTool(e,t,"IntegerColumn",jN.NumberInput,r.DataValueType.Integer),this._createNewAttributeDesignerTool(e,t,"BooleanColumn",jN.Checkbox,r.DataValueType.Boolean),this._createNewAttributeDesignerTool(e,t,"LookupColumn",jN.Combobox,r.DataValueType.Lookup,"crt.AddNewLookupDataSourceItemCommand"),this._createNewAttributeDesignerTool(e,t,"DateTimeColumn",jN.DateTime,r.DataValueType.DateTime)]}_createNewAttributeDesignerTool(e,t,n,i,a,o="crt.AddNewDataSourceItemCommand"){const s=this._translateService.instant(`NewColumnSubGroup.${r.DataValueType[a]}Column`),l=this._getDefaultDesignerToolItem(n,s,t),c=this._getControlConfigByDataValueType(a);this._fillDefaultDesignerToolConfig(l,c.controlType,null);return Object.assign(Object.assign({},l),{iconName:this._designItemsIconsProvider.registerIconAndGetIconName(i,c.toolbarConfigName),addCommandTypeName:o,dataValueType:a,dataSourceConfig:{dataSourceType:Lr.EntityDataSource,dataSourceName:e.dataSourceName,schemaName:e.entitySchemaName,dataValueType:a,viewModelAttributeName:c.viewModelAttributeName}})}_columnCanBeDisplayed(e){const t=[r.DataValueType.SHORT_TEXT,r.DataValueType.MEDIUM_TEXT,r.DataValueType.LONG_TEXT,r.DataValueType.MAXSIZE_TEXT,r.DataValueType.Text,r.DataValueType.Integer,r.DataValueType.Float,r.DataValueType.Money,r.DataValueType.DateTime,r.DataValueType.Date,r.DataValueType.Time,r.DataValueType.Lookup,r.DataValueType.Enum,r.DataValueType.Boolean,r.DataValueType.FLOAT1,r.DataValueType.FLOAT2,r.DataValueType.FLOAT3,r.DataValueType.FLOAT4,r.DataValueType.FLOAT8];return e.usageType!==Sa.None&&t.includes(e.type)}_getControlConfigByDataValueType(e){return this._attributeConfigProvider.getColumnConfigByType(e)}_getDataSourceAttributeDesignerToolItem(e,t,n){const i=e.name,r=this._getControlConfigByDataValueType(e.type),a=this._getCommandType(e.type),o=this._getDefaultDesignerToolItem(i,this._getLocalizableValue(e.caption),n,a);return this._fillDefaultDesignerToolConfig(o,r.controlType,e),Object.assign(Object.assign({},o),{iconName:this._iconsProvider.getDesignerDataValueTypeIcon(e.type),dataValueType:e.type,dataSourceConfig:{dataSourceName:t,dataSourceAttributeName:i,dataSourceType:Lr.EntityDataSource,viewModelAttributeName:r.viewModelAttributeName}})}_fillDefaultDesignerToolConfig(e,t,n){const i=e.defaultConfig;i.type=t;const r=this._columnControlExtraConfigProvider.getControlExtraConfig(t,n);i.defaultPropertyValues=Object.assign(Object.assign({},i.defaultPropertyValues),r)}_getCommandType(e){return e===r.DataValueType.Lookup?"crt.AddLookupDataSourceItemCommand":"crt.AddDataSourceItemCommand"}_getDefaultDesignerToolItem(e,t,n,i){return{name:e,iconName:null,caption:t,addCommandTypeName:i||"crt.AddDataSourceItemCommand",defaultConfig:{defaultPropertyValues:{},defaultLocalizableStrings:{}},canDrop:!0,groupType:Mu.Data,parentName:n}}getItems$(){return this._designerEntityDataSourceService.getDataSourcesInfo$().pipe((0,En.b)((()=>{this._designerLoaderService.completeLoadingPart(KN.DataSourceLoaded)})),(0,g.U)((e=>e.filter((e=>e.scope===r.DataSourceScope.Page)))),(0,g.U)((e=>e.map((e=>this._getDesignerToolItems(e))).flat())))}};Pj=(0,a.gn)([sO(),(0,a.w6)("design:paramtypes",[l.Injector])],Pj);let Tj=(()=>{class e{isValid(t){return t>=e.panelMinWidth&&t<=e.panelMaxWidth}}return e.panelMaxWidth=600,e.panelMinWidth=350,e.ɵfac=function(t){return new(t||e)},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})(),kj=(()=>{class e{constructor(e,t){this._translateService=e,this._designerSchemaService=t}_checkRequest(e){const{dataGridName:t,columnId:n}=e||{};if(!t)throw Error('Failed to rename column: the "dataGridName" request property is not defined or empty.');if(!n)throw Error('Failed to rename column: the "columnId" is not defined or empty.')}_getColumnsDefinitions(e){var t;const{dataGridName:n,columnId:i}=e,r=null===(t=this._designerSchemaService.getViewConfigInfoByName(n))||void 0===t?void 0:t.viewConfig;if(!r)throw Error(`Failed to rename column in '${n}' data grid: data grid view config is not defined.`);const a=r.columns;if("string"==typeof a)throw Error(`Failed to rename column in '${n}' data grid: binding columns to attribute is not supported.`);const o=`#ResourceString(${this._getColumnCaptionResourceKey(e)})#`;return a.map((e=>Object.assign(Object.assign({},e),{caption:e.id===i?o:e.caption})))}_getColumnCaptionResources(e){const t=this._translateService.currentLang;return{strings:{[this._getColumnCaptionResourceKey(e)]:{[t]:e.columnCaption}}}}_getColumnCaptionResourceKey(e){return`${e.dataGridName}_Column${e.columnId}_Caption`.replace(/-/g,"")}handle(e){this._checkRequest(e);const t=this._getColumnCaptionResources(e),n=this._getColumnsDefinitions(e);this._designerSchemaService.update({resources:t,itemConfig:{name:e.dataGridName,columns:n},applyPropertiesStrategies:[{propertyPath:"itemConfig.columns",value:Ep.Override}]})}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](u.sK),l["ɵɵinject"](nO))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})(),Ej=(()=>{class e extends Hp{constructor(e,t,n){super(e),this.schemaService=e,this.designerCommandFactoryService=t,this.designerEntityService=n}_updateDataSourceAttributes(e){const{columns:t,dataSourceName:n}=e,i=t.map((e=>e.code)).map((e=>e.split(`${n}_`).pop())),r=(0,dt.Z)(i),a={dataSourceName:n,dataSourceAttributePaths:r};return this.designerCommandFactoryService.create("crt.UpdateEntityDataSourceAttributes",a)}_updateViewModelAttribute(e){const{viewElementConfig:t,columns:n,dataSourceName:i}=e,r=t.items.toString().split("$").pop(),a=n.map((e=>e.code)).map((e=>e.replace(/\.+/g,""))).map((e=>e.split(`${i}_`).pop()));t.primaryColumnName&&a.push(t.primaryColumnName.split(`${i}_`).pop());const o=(0,dt.Z)(a),s={attribute:r,dataSourceName:i,value:o,collectionAttributePrefix:`${i}_`,strategy:Ep.Override};return this.designerCommandFactoryService.create("crt.BindViewModelAttributeCommand",s)}_updateViewItem(e){const{viewElementConfig:t,columns:n}=e,i=[{path:"itemConfig.items",value:t.items},{path:"itemConfig.primaryColumnName",value:t.primaryColumnName,applyPropertyStrategy:Ep.Override}],r=t.name;this._addColumnsToChanges(n,i,r);const a={name:t.name,changes:i};return this.designerCommandFactoryService.create("crt.ChangeViewItemCommand",a)}_addColumnsToChanges(e,t,n){const i=this._getColumnsWithMacrosCaption(e,n);t.push({path:"itemConfig.columns",value:i,applyPropertyStrategy:Ep.Override})}_getColumnsWithMacrosCaption(e,t){var n;const i=(null!==(n=this.schemaService.getViewConfigInfoByName(t).viewConfig.columns)&&void 0!==n?n:[]).reduce(((e,t)=>Object.assign(Object.assign({},e),{[t.id]:t.caption})),{});return e.map((e=>{var t;return Object.assign(Object.assign({},e),{code:e.code.replace(/\.+/g,""),caption:null!==(t=i[e.id])&&void 0!==t?t:`#ResourceString(${e.code.replace(/\.+/g,"")})#`})}))}_createColumnCaptionResourceMacros(e,t){return`#ResourceString(${e}_${t})#`}_createColumnDefinition(e,t){return{id:(0,r.generateGuid)(),code:`${t}_${e.name}`,caption:this._createColumnCaptionResourceMacros(t,e.name),dataValueType:e.type}}_getEntitySchemaDisplayColumn(e,t){if(e.primaryDisplayColumn)return this._createColumnDefinition(e.primaryDisplayColumn,t);const n=[...e.columns,...e.inheritedColumns];if(n.length>0){let e=n.find((e=>e.type===r.DataValueType.Text||e.type===r.DataValueType.SHORT_TEXT||e.type===r.DataValueType.MEDIUM_TEXT));return e=e||n[0],this._createColumnDefinition(e,t)}}_createOrChangeDataSource(e,t){if(this.schemaService.isDataSourceExists(e)){const n=this.schemaService.getDataSourceConfigByName(e);n.entitySchemaName=t,this.schemaService.bindDataSource(e,n)}else this.schemaService.createDataSource(e,{type:"crt.EntityDataSource",scope:r.DataSourceScope.ViewElement,config:{entitySchemaName:t}})}_createViewModelAttribute(e,t){if(e.items)return;const n=e.name||this.schemaService.generateUniqueAttributeNameByType("DataGrid");e.items=`$${n}`;const i={isCollection:!0,modelConfig:{path:t},viewModelConfig:{attributes:{}}};this.schemaService.createViewModelAttribute(n,i)}innerHandle(e){const t=[this._updateDataSourceAttributes(e),this._updateViewModelAttribute(e),this._updateViewItem(e)];return(0,h.concat)(...t).pipe((0,Pn.w)((e=>e.execute())),(0,Pr.Z)(),(0,co.h)(void 0))}handleEntitySelect(e,t,n){return n||(n=e.name||`DataGrid${(0,r.generateGuid)()}`,n+=r.DATA_SOURCE_PREFIX),this._createOrChangeDataSource(n,t),this._createViewModelAttribute(e,n),this.designerEntityService.getByName(t).pipe((0,Tn.q)(1),(0,Pn.w)((t=>{e.primaryColumnName=t.primaryColumn?`${n}_`+t.primaryColumn.name:void 0;const i={columns:[this._getEntitySchemaDisplayColumn(t,n)],viewElementConfig:e,dataSourceName:n};return this.innerHandle(i)})))}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](nO),l["ɵɵinject"](HN),l["ɵɵinject"](Mj))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})(),Nj=(()=>{class e{constructor(e){this._featureService=e,this._visibility$=new h.BehaviorSubject(!1),this._innerHoveredItemName$=new h.Subject,this._destroyed$=new h.Subject,this._dueTime=45,this._alwaysVisibleCell=!1,this.selectedChanged$=new h.Subject,this.hoveredItemName$=new h.Subject,this.togglePadding$=new h.Subject,this.alwaysVisibleCell$=new h.BehaviorSubject(!1),this._initFeatures(),this._innerHoveredItemName$.pipe((0,b.R)(this._destroyed$),(0,kn.b)(this._dueTime)).subscribe((e=>{this.hoveredItemName$.next(e)}))}get visibility$(){return this._visibility$}set visibility(e){this._visibility$.value!==e&&this._visibility$.next(e)}_initFeatures(){this._featureService.getFeatureState("GridCellsAlwaysVisible").subscribe({next:e=>{this._setAlwaysVisibleCell(e)}})}_setAlwaysVisibleCell(e){this._alwaysVisibleCell=e,this.alwaysVisibleCell$.next(this._alwaysVisibleCell)}select(e,t=FN.Edit){this.selectedChanged$.next({name:e,mode:t})}setHoveredItemName(e){this._innerHoveredItemName$.next(e)}togglePadding(){this.togglePadding$.next()}toggleAlwaysVisibleCell(){this._setAlwaysVisibleCell(!this._alwaysVisibleCell)}ngOnDestroy(){this._destroyed$.next(),this._destroyed$.complete()}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](ls))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"root"}),e})();function Oj(e,t){if(1&e&&(l["ɵɵelementContainerStart"](0),l["ɵɵelementStart"](1,"div",2),l["ɵɵelementContainer"](2,3),l["ɵɵelementEnd"](),l["ɵɵelementContainerEnd"]()),2&e){const e=t.$implicit;l["ɵɵadvance"](1),l["ɵɵproperty"]("ngStyle",e.style),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngTemplateOutlet",e.templateRef)}}function jj(e,t){if(1&e&&(l["ɵɵelementContainerStart"](0),l["ɵɵtemplate"](1,Oj,3,2,"ng-container",1),l["ɵɵelementContainerEnd"]()),2&e){const e=l["ɵɵnextContext"]();l["ɵɵadvance"](1),l["ɵɵproperty"]("ngForOf",e.designerOverlayInfos)}}let Aj=(()=>{class e{constructor(e){this._cdr=e,this.designerOverlayInfos=[],this.show=!0}static _getPosition(e){var t,n;return null===(n=null===(t=null==e?void 0:e.nativeElement)||void 0===t?void 0:t.nextElementSibling)||void 0===n?void 0:n.getBoundingClientRect()}static getDesignerOverlayStyle(t){const n=e._getPosition(t.elementRef);return{"top.px":null==n?void 0:n.top,"left.px":(null==n?void 0:n.left)+(null==n?void 0:n.width)}}ngOnDestroy(){this.update()}update(t=[]){this.designerOverlayInfos=t,this.designerOverlayInfos.forEach((t=>{t.style=e.getDesignerOverlayStyle(t)})),this._cdr.detectChanges()}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](l.ChangeDetectorRef))},e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["crt-designer-overlay"]],decls:1,vars:1,consts:[[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"crt-designer-overlay",3,"ngStyle"],[3,"ngTemplateOutlet"]],template:function(e,t){1&e&&l["ɵɵtemplate"](0,jj,2,1,"ng-container",0),2&e&&l["ɵɵproperty"]("ngIf",t.show)},directives:[o.NgIf,o.NgForOf,o.NgStyle,o.NgTemplateOutlet],styles:[".crt-designer-overlay[_ngcontent-%COMP%]{position:fixed;z-index:100}"],changeDetection:0}),e})(),Rj=(()=>{class e{constructor(e,t){this.appRef=e,this.factoryResolver=t,this._destroyed$=new h.Subject,this._update$=new h.Subject,this.designerOverlayInfos=[],this._subscribeUpdate()}_initOverlayComponent(){if(this.overlayComponent)return;const e=this.appRef.components[0],t=this.factoryResolver.resolveComponentFactory(Aj),n=e.injector.get(l.ViewContainerRef),i=t.create(e.injector);n.insert(i.hostView),this.overlayComponent=i.instance}_setValueToOverlayComponent(){var e;null===(e=this.overlayComponent)||void 0===e||e.update(this.designerOverlayInfos)}_subscribeElementResize(e){var t;const n=null===(t=e.nativeElement.nextElementSibling)||void 0===t?void 0:t.parentElement;if(n)return this.subscribeElementResize(n)}_subscribeUpdate(){this._update$.pipe((0,b.R)(this._destroyed$),(0,f.h)((()=>{var e;return null===(e=this.overlayComponent)||void 0===e?void 0:e.show}))).subscribe({next:()=>{this._setValueToOverlayComponent()}})}subscribeElementResize(e,t){const n=new On.Z((()=>{this.update(),null==t||t()}));return n.observe(e),n}add(e,t){this._initOverlayComponent();const n=this._subscribeElementResize(e);this.designerOverlayInfos.push({elementRef:e,templateRef:t,resizeObserver:n}),this.update()}remove(e){this.designerOverlayInfos=this.designerOverlayInfos.filter((t=>{const n=t.templateRef===e;return n&&t.resizeObserver.disconnect(),!n})),this.update()}show(){this.overlayComponent&&!this.overlayComponent.show&&(this.overlayComponent.show=!0),this.update()}update(){this._update$.next()}ngOnDestroy(){this.designerOverlayInfos.forEach((e=>e.resizeObserver.disconnect())),this.designerOverlayInfos=[],this.update(),this._destroyed$.next(),this._destroyed$.complete()}hide(){var e;(null===(e=this.overlayComponent)||void 0===e?void 0:e.show)&&(this.overlayComponent.show=!1,this._setValueToOverlayComponent())}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](l.ApplicationRef),l["ɵɵinject"](l.ComponentFactoryResolver))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})(),Fj=(()=>{class e{constructor(e,t){this._designerSchemaService=e,this._featureService=t,this._storage=[],this._initFeatures()}_initFeatures(){this._featureService.getFeatureState("UndoDeleteButton").pipe((0,f.h)((e=>e))).subscribe({next:()=>{this._initUndo()}})}_initUndo(){this._designerSchemaService.schemaChanged$.pipe((0,f.h)((e=>!e.restored&&e.changes.operation===kp.Remove))).subscribe((({changes:e})=>this._onRemove(e)))}_onRemove(e){this._storage.unshift(JSON.stringify(e))}_getLastChange(){if(!this._storage.length)return null;const e=this._storage.shift();return JSON.parse(e)}_getInvertChanges(e){switch(e.operation){case kp.Remove:return Object.assign(Object.assign({},e),{operation:kp.Insert})}}undo(){const e=this._getLastChange();if(!e)return;const t=this._getInvertChanges(e);this._designerSchemaService.undo(t)}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](nO),l["ɵɵinject"](ls))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"root"}),e})(),Vj=(()=>{class e{constructor(e){this._window=e}get(e){return this._window.localStorage.getItem(e)}set(e,t){this._window.localStorage.setItem(e,t)}remove(e){this._window.localStorage.removeItem(e)}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](xa))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})(),Lj=(()=>{class e{constructor(e){this._entityDataSourceService=e}getDataSourceServiceByDataSourceName(e){return this.getDataSourceByName$(e).pipe((0,$r.zg)((e=>e.getSchema().pipe((0,Tn.q)(1)))),(0,$r.zg)((e=>"crt.EntityDataSource"===e.dataSourceConfig.type?(0,h.of)(this._entityDataSourceService):(0,h.throwError)(`There are no services for data source type ${e.dataSourceConfig.type}`))))}getDataSources$(e=null){return this._entityDataSourceService.getDataSources$(e)}getDataSourceByName$(e){return this.getDataSources$().pipe((0,Tn.q)(1),(0,g.U)((t=>t.find((t=>t.dataSourceName===e)))))}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](Dj))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})(),zj=(()=>{class e{constructor(e){this._lczToString=e}_getLocalizableValue(e){return this._lczToString.transform(new Hr(e.filter((e=>e.value))))}toDataSchema(e){var t,n,i;const r=new zl;r.dataSourceConfig={type:"crt.EntityDataSource",config:{entitySchemaName:e.name}},r.name=e.name,r.primaryAttributeName=null===(t=e.primaryColumn)||void 0===t?void 0:t.name,r.primaryDisplayAttributeName=null===(n=e.primaryDisplayColumn)||void 0===n?void 0:n.name,r.hierarchyAttributeName=null===(i=e.hierarchyColumn)||void 0===i?void 0:i.name,r.caption=this._getLocalizableValue(e.caption);const a=[...e.columns,...e.inheritedColumns];return r.attributes=a.filter((e=>e.usageType!==Sa.None)).map((e=>this.toAttributeSchema(e))),r}toAttributeSchema(e){var t;const n=new Gl;return n.name=e.name,n.caption=this._getLocalizableValue(e.caption),n.dataValueType=e.type,n.validators={},n.path=e.name,n.referenceSchemaName=null===(t=e.referenceSchema)||void 0===t?void 0:t.name,n.attributeType=Bl.OwnAttribute,n}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](no))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"root"}),e})(),Bj=(()=>{class e{constructor(e,t){this._designerEntityService=e,this._entitySchemaModelTransformer=t}getSchema(e){return this._designerEntityService.getByName(e).pipe((0,g.U)((e=>this._entitySchemaModelTransformer.toDataSchema(e))))}getSchemaAttribute(e){return this._designerEntityService.getForwardReferenceColumn(e).pipe((0,g.U)((e=>this._entitySchemaModelTransformer.toAttributeSchema(e))))}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](Mj),l["ɵɵinject"](zj))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})();var Gj=n(18891);let Hj=(()=>{class e{constructor(){this._observablesUIds=new Set,this._observablesSubject=new h.Subject}register(e){const t=(0,r.generateGuid)();return this._observablesUIds.add(t),e.pipe((0,En.b)((()=>this._observablesUIds.delete(t))),(0,En.b)((()=>this._observablesSubject.next())),(0,dr.K)((e=>(this._observablesUIds.delete(t),this._observablesSubject.next(),(0,h.throwError)(e)))))}complete$(){const e=new Set(this._observablesUIds);return new Gj.y((t=>{if(0===this._observablesUIds.size)t.next(),t.complete();else{const n=this._observablesSubject.subscribe((()=>{e.forEach((t=>{this._observablesUIds.has(t)||e.delete(t)})),0===e.size&&(n.unsubscribe(),t.next(),t.complete())}))}}))}}return e.ɵfac=function(t){return new(t||e)},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})();class Uj extends pc{validate(){return null}}let Zj=(()=>{class e extends dc{get(e,t){return new Uj(this.injector,!1,t)}}return e.ɵfac=function(){let t;return function(n){return(t||(t=l["ɵɵgetInheritedFactory"](e)))(n||e)}}(),e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})();function $j(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵelementStart"](0,"div",2),l["ɵɵelementStart"](1,"mat-form-field",9),l["ɵɵelementStart"](2,"mat-label"),l["ɵɵtext"](3),l["ɵɵpipe"](4,"translate"),l["ɵɵelementEnd"](),l["ɵɵelementStart"](5,"mat-select",10),l["ɵɵlistener"]("ngModelChange",(function(t){l["ɵɵrestoreView"](e);return l["ɵɵnextContext"]().dataSourceType=t})),l["ɵɵelementStart"](6,"mat-option",11),l["ɵɵtext"](7,"Entity"),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵelementEnd"]()}if(2&e){const e=l["ɵɵnextContext"]();l["ɵɵadvance"](3),l["ɵɵtextInterpolate"](l["ɵɵpipeBind1"](4,3,"InterfaceDesigner.SetupDataSourceDialog.DataSourceType")),l["ɵɵadvance"](2),l["ɵɵproperty"]("ngModel",e.dataSourceType),l["ɵɵadvance"](1),l["ɵɵproperty"]("value","Entity")}}let Wj=(()=>{class e{constructor(e,t,n){this._commandFactoryService=e,this._dialog=t,this._translateService=n,this.dataSourceType="Entity"}_dataSourceNameValid(e){return e&&void 0!==e.find((e=>e.value))}_getNameColumnCaption(){const e=new Hr;return e.setValueLocalizableString(this._translateService.currentLang,this._translateService.instant("InterfaceDesigner.SetupDataSourceDialog.NameCaption")),e}_addDataSource(){return(0,a.mG)(this,void 0,void 0,(function*(){const e=this._dataSourceNameValid(this.dataSourceName);this.dataSourceType&&e?(yield GN(this._commandFactoryService,"crt.AddEntityDataSourceCommand",{caption:this.dataSourceName,description:this.dataSourceDescription,primaryDisplayColumnName:"Name",scope:r.DataSourceScope.Page,columnConfigs:[{name:"Name",dataValueType:r.DataValueType.MEDIUM_TEXT,caption:this._getNameColumnCaption(),requirementType:UO.YES}]}),this._dialog.close()):e||(this.dataSourceName=void 0)}))}onSaveClicked(){return(0,a.mG)(this,void 0,void 0,(function*(){yield this._addDataSource()}))}onCancelClicked(){this._dialog.close()}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](HN),l["ɵɵdirectiveInject"](G.so),l["ɵɵdirectiveInject"](u.sK))},e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["crt-add-data-source"]],decls:25,vars:20,consts:[["mat-dialog-title","",1,"setup-data-source-dialog-title"],["class","form-field-wrapper",4,"ngIf"],[1,"form-field-wrapper"],["floatLabel","always"],["required","","data-qa","name",3,"ngModel","label","ngModelChange"],["data-qa","description",3,"ngModel","label","ngModelChange"],[1,"setup-data-source-dialog-actions"],["mat-button","","data-qa","cancel","shape","rounded",3,"clicked"],["mat-flat-button","","color","primary","data-qa","save","shape","rounded",3,"clicked"],["floatLabel","always",1,"select"],["required","",3,"ngModel","ngModelChange"],[3,"value"]],template:function(e,t){1&e&&(l["ɵɵelementStart"](0,"div"),l["ɵɵelementStart"](1,"div",0),l["ɵɵtext"](2),l["ɵɵpipe"](3,"translate"),l["ɵɵelementEnd"](),l["ɵɵelementStart"](4,"mat-dialog-content"),l["ɵɵtemplate"](5,$j,8,5,"div",1),l["ɵɵelementStart"](6,"div",2),l["ɵɵelementStart"](7,"mat-form-field",3),l["ɵɵelementStart"](8,"mat-label"),l["ɵɵtext"](9),l["ɵɵpipe"](10,"translate"),l["ɵɵelementEnd"](),l["ɵɵelementStart"](11,"ts-localizable-text-input",4),l["ɵɵlistener"]("ngModelChange",(function(e){return t.dataSourceName=e})),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵelementStart"](12,"div",2),l["ɵɵelementStart"](13,"mat-form-field",3),l["ɵɵelementStart"](14,"mat-label"),l["ɵɵtext"](15),l["ɵɵpipe"](16,"translate"),l["ɵɵelementEnd"](),l["ɵɵelementStart"](17,"ts-localizable-text-input",5),l["ɵɵlistener"]("ngModelChange",(function(e){return t.dataSourceDescription=e})),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵelementStart"](18,"mat-dialog-actions",6),l["ɵɵelementStart"](19,"crt-button",7),l["ɵɵlistener"]("clicked",(function(){return t.onCancelClicked()})),l["ɵɵtext"](20),l["ɵɵpipe"](21,"translate"),l["ɵɵelementEnd"](),l["ɵɵelementStart"](22,"crt-button",8),l["ɵɵlistener"]("clicked",(function(){return t.onSaveClicked()})),l["ɵɵtext"](23),l["ɵɵpipe"](24,"translate"),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵelementEnd"]()),2&e&&(l["ɵɵadvance"](2),l["ɵɵtextInterpolate1"](" ",l["ɵɵpipeBind1"](3,10,"InterfaceDesigner.SetupDataSourceDialog.SetupDataSourceTitle")," "),l["ɵɵadvance"](3),l["ɵɵproperty"]("ngIf",!1),l["ɵɵadvance"](4),l["ɵɵtextInterpolate"](l["ɵɵpipeBind1"](10,12,"InterfaceDesigner.SetupDataSourceDialog.DataSourceName")),l["ɵɵadvance"](2),l["ɵɵproperty"]("ngModel",t.dataSourceName)("label",""),l["ɵɵadvance"](4),l["ɵɵtextInterpolate"](l["ɵɵpipeBind1"](16,14,"InterfaceDesigner.SetupDataSourceDialog.DataSourceDescription")),l["ɵɵadvance"](2),l["ɵɵproperty"]("ngModel",t.dataSourceDescription)("label",""),l["ɵɵadvance"](3),l["ɵɵtextInterpolate1"](" ",l["ɵɵpipeBind1"](21,16,"InterfaceDesigner.SetupDataSourceDialog.CancelButtonDialog")," "),l["ɵɵadvance"](3),l["ɵɵtextInterpolate1"](" ",l["ɵɵpipeBind1"](24,18,"InterfaceDesigner.SetupDataSourceDialog.SaveButtonDialog")," "))},directives:[G.uh,G.xY,o.NgIf,x.KE,x.hX,Yh,c.Q7,c.JJ,c.On,G.H8,Jw,zt.gD,R.ey],pipes:[u.X$],styles:["[_nghost-%COMP%]{width:360px;box-sizing:border-box}.setup-data-source-dialog-title[mat-dialog-title][_ngcontent-%COMP%]{text-align:center;margin-bottom:40px}.form-field-wrapper[_ngcontent-%COMP%]{width:100%;margin-top:5px}.form-field-wrapper[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{display:block}.setup-data-source-dialog-actions[_ngcontent-%COMP%]{justify-content:flex-end;grid-gap:8px;gap:8px}"]}),e})();var qj=n(75106),Yj=n(79765),Jj=n(87479),Qj=n(42145);let Kj=(()=>{class e{constructor(e,t,n,i,r){this._injector=e,this._designerEntityService=t,this._commandFactoryService=n,this._dialog=i,this._activatedRoute=r,this._referenceSchemas=[],this._filter$=new Yj.xQ,this._nextPage$=new Yj.xQ,this._destroyed$=new Yj.xQ,this.loading=!0}get _validSchemaName(){return this.schemaNameControl.valid}get schemaNameControl(){return this._dataSourceForm.get("schemaName")}_initReferenceSchemas(e){return(0,a.mG)(this,void 0,void 0,(function*(){this._referenceSchemas=yield this._designerEntityService.getAvailableReferenceSchemas(e).pipe((0,b.R)(this._destroyed$),(0,g.U)((e=>e.map((e=>({displayValue:e.caption,lowerDisplayValue:e.caption.toLowerCase(),value:e.name})))))).toPromise()}))}_initFormGroup(){this._dataSourceForm=new c.cw({schemaName:new c.NI("",[new mc(this._injector,!1).validateFn])})}_subscribeFilter(){this.referenceSchemas$=this._filter$.pipe((0,b.R)(this._destroyed$),(0,Pn.w)((e=>{let t=1;return this._nextPage$.pipe((0,v.O)(t),(0,Jj.z)((n=>this._filterReferenceSchemas(e,t))),(0,En.b)((()=>t++)),(0,qj.n)((e=>e.length>0)),(0,Qj.R)(((e,t)=>e.concat(t)),[]))})))}_filterReferenceSchemas(e,t){const n=(e||"").toLowerCase(),i=n?[...this._referenceSchemas.filter((e=>0===e.lowerDisplayValue.indexOf(n))),...this._referenceSchemas.filter((e=>e.lowerDisplayValue.indexOf(n)>0))]:this._referenceSchemas,r=t>0?20*(t-1):0;return(0,h.of)(i.slice(r,r+20))}ngOnInit(){return(0,a.mG)(this,void 0,void 0,(function*(){this._initFormGroup(),this._subscribeFilter(),yield this._initReferenceSchemas(!0),this._filter$.next(),this.loading=!1}))}ngOnDestroy(){this._destroyed$.next(),this._destroyed$.complete()}onSelectClicked(){return(0,a.mG)(this,void 0,void 0,(function*(){this._validSchemaName&&(yield GN(this._commandFactoryService,"crt.SetEntityDataSourceCommand",{entitySchemaName:this.schemaNameControl.value.value}),this._dialog.close())}))}onCancelClicked(){this._dialog.close()}onReferenceSchemasFiltering(e){e&&this._filter$.next(e.filterValue)}onReferenceSchemaOptionsScroll(){this._nextPage$.next()}onReferenceSchemasEnter(){return(0,a.mG)(this,void 0,void 0,(function*(){yield this.onSelectClicked()}))}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](l.Injector),l["ɵɵdirectiveInject"](Mj),l["ɵɵdirectiveInject"](HN),l["ɵɵdirectiveInject"](G.so),l["ɵɵdirectiveInject"](Wp.gz))},e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["crt-add-existing-data-source"]],decls:16,vars:17,consts:[["mat-dialog-title","",1,"select-data-source-dialog-title"],[1,"form-field-wrapper"],["labelPosition","above","debounceTime","0",3,"items","control","label","loading","showList","keyup.enter","optionsScroll"],[1,"select-data-source-dialog-actions"],["mat-button","","data-qa","cancel","shape","rounded",3,"clicked"],["mat-flat-button","","color","primary","data-qa","select","shape","rounded",3,"clicked"]],template:function(e,t){1&e&&(l["ɵɵelementStart"](0,"div"),l["ɵɵelementStart"](1,"div",0),l["ɵɵtext"](2),l["ɵɵpipe"](3,"translate"),l["ɵɵelementEnd"](),l["ɵɵelementStart"](4,"mat-dialog-content"),l["ɵɵelementStart"](5,"div",1),l["ɵɵelementStart"](6,"crt-combobox",2),l["ɵɵlistener"]("showList",(function(e){return t.onReferenceSchemasFiltering(e)}))("keyup.enter",(function(){return t.onReferenceSchemasEnter()}))("optionsScroll",(function(){return t.onReferenceSchemaOptionsScroll()})),l["ɵɵpipe"](7,"async"),l["ɵɵpipe"](8,"translate"),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵelementStart"](9,"mat-dialog-actions",3),l["ɵɵelementStart"](10,"crt-button",4),l["ɵɵlistener"]("clicked",(function(){return t.onCancelClicked()})),l["ɵɵtext"](11),l["ɵɵpipe"](12,"translate"),l["ɵɵelementEnd"](),l["ɵɵelementStart"](13,"crt-button",5),l["ɵɵlistener"]("clicked",(function(){return t.onSelectClicked()})),l["ɵɵtext"](14),l["ɵɵpipe"](15,"translate"),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵelementEnd"]()),2&e&&(l["ɵɵadvance"](2),l["ɵɵtextInterpolate1"](" ",l["ɵɵpipeBind1"](3,7,"InterfaceDesigner.SetupDataSourceDialog.SelectDataSource")," "),l["ɵɵadvance"](4),l["ɵɵpropertyInterpolate"]("label",l["ɵɵpipeBind1"](8,11,"InterfaceDesigner.SetupDataSourceDialog.Object")),l["ɵɵproperty"]("items",l["ɵɵpipeBind1"](7,9,t.referenceSchemas$))("control",t.schemaNameControl)("loading",t.loading),l["ɵɵadvance"](5),l["ɵɵtextInterpolate1"](" ",l["ɵɵpipeBind1"](12,13,"InterfaceDesigner.SetupDataSourceDialog.CancelButtonDialog")," "),l["ɵɵadvance"](3),l["ɵɵtextInterpolate1"](" ",l["ɵɵpipeBind1"](15,15,"InterfaceDesigner.SetupDataSourceDialog.SelectButtonDialog")," "))},directives:[G.uh,G.xY,z_,G.H8,Jw],pipes:[u.X$,o.AsyncPipe],styles:["[_nghost-%COMP%]{min-width:390px;box-sizing:border-box}.select-data-source-dialog-title[mat-dialog-title][_ngcontent-%COMP%]{text-align:center}.select-data-source-dialog-actions[_ngcontent-%COMP%]{margin-top:48px;justify-content:flex-end;grid-gap:8px;gap:8px}"]}),e})(),Xj=(()=>{class e{constructor(e){this._designerSchemaService=e}applyExplicitPositions(e,t){let n=1,i=1;return(0,so.Z)(e).map((e=>{const r=e.layoutConfig||{};let a=!1;return void 0===r.column&&(r.column=i,i++,a=!0),void 0===r.colSpan&&(r.colSpan=1,a=!0),void 0===r.row&&(r.row=n,a=!0),void 0===r.rowSpan&&(r.rowSpan=1,a=!0),1===r.column&&-1===r.colSpan&&n++,i>t&&(i=1,n++),e.layoutConfig=r,a&&this._designerSchemaService.move(e.name,e.layoutConfig),e}))}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](nO))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})(),eA=(()=>{class e{getAuxiliaryColumnsConfig(e){return[...Array(e).keys()].map((e=>({name:"DesignerGridColumn",type:"DesignerGridColumn",layoutConfig:{row:1,column:e+1,rowSpan:-1,colSpan:1}})))}getAuxiliaryRowConfig(e){return[...Array(e).keys()].map((e=>({name:"DesignerGridRow",type:"DesignerGridRow",layoutConfig:{row:e+1,column:1,rowSpan:1,colSpan:-1}})))}getAuxiliaryCellsConfig(e,t){const n=[];for(let i=1;i<=e;i++)for(let e=1;e<=t;e++)n.push({name:"DesignerGridCell",type:"DesignerGridCell",layoutConfig:{row:i,column:e,rowSpan:1,colSpan:1}});return n}getAdditionAuxiliaryCellsConfig(e,t){const n=[];for(let i=1;i<=e.length;i++)for(let r=1;r<=t;r++)n.push({name:"DesignerGridCell",type:"DesignerGridCell",layoutConfig:{row:e[i-1].layoutConfig.row,column:r,rowSpan:1,colSpan:1}});return n}}return e.ɵfac=function(t){return new(t||e)},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})();function tA({currentIndex:e,moved:t,itemsSize:n,gap:i=0,autogenerateSizes:r=!1,intersectionRatio:a=.4}){const o=t>=0,s=o?e+1:e-1;if(s>=n.length){if(!r)return e;for(;s>=n.length;)n.push(n.slice(-1)[0])}const l=n[s]+i,c=n[e]+i,d=(l>c?c:l)*a;let u;if(o)if(t>d){const e=t-l;u=e>0?tA({currentIndex:s,moved:e,itemsSize:n,gap:i,autogenerateSizes:r,intersectionRatio:a}):s}else u=e;else if(-t>d){const e=l+t;u=e<0?tA({currentIndex:s,moved:e,itemsSize:n,gap:i,autogenerateSizes:r,intersectionRatio:a}):s}else u=e;return u}function nA({point:e,itemsSize:t,gap:n=0,autogenerateSizes:i=!1}){let r=0,a=-1;do{a++,r+=t[a]+n}while(a<t.length-1&&e>r);if(e>r&&i){const n=t.slice(-1)[0];for(;e>r;)t.push(n),r+=n,a++}return a}let iA=(()=>{class e{constructor(e){this._designerSchemaService=e}_moveItemAbove(e,t,n){const i=e.find((({name:e})=>e===t)),r=i.layoutConfig;if(!(Boolean(i)&&r.row>1))return!1;const a=this.getFreeRowsAbove(r,n);if(!a)return!1;const o=Object.assign(Object.assign({},r),{row:r.row-a});i.layoutConfig=o;return e.find((({name:e})=>e===i.name)).layoutConfig=o,this.moveMatrixElement(r,o,i.name,n),Boolean(a)}iterateLayoutConfigCell(e,t){const{column:n,row:i,colSpan:r,rowSpan:a}=e;for(let e=0;e<a;e++)for(let a=0;a<r;a++)t(i+e,n+a)}buildMatrix(e,t,n,...i){const r=qN(e,t);return n.filter((e=>{return(t=e.layoutConfig)&&["column","row","colSpan","rowSpan"].every((e=>e in t));var t})).filter((e=>!i.includes(e.name))).forEach((e=>{const t=e.layoutConfig;this.iterateLayoutConfigCell(t,((t,n)=>{r[t-1]&&(r[t-1][n-1]=e.name)}))})),r}moveMatrixElement(e,t,n,i){this.iterateLayoutConfigCell(e,((e,t)=>{i[e-1][t-1]=""})),this.iterateLayoutConfigCell(t,((e,t)=>{i[e-1][t-1]=n}))}getIntersectionElements(...e){let t,n;if("number"==typeof e[0]){const[i,r,a,o,s]=e;t=this.buildMatrix(i,r,a,o),n=s}else t=e[0],n=e[1];const i=[];return n&&t&&this.iterateLayoutConfigCell(n,((e,n)=>{var r;const a=null===(r=t[e-1])||void 0===r?void 0:r[n-1];a&&i.every((e=>e!==a))&&i.push(a)})),i}updateItemsOrder(e,t,n,i,r){var a;const o=this.buildMatrix(t,n,i),s=[];for(const e of o)for(const t of e){t&&!s.includes(t)&&s.push(t)}for(let e=0;e<s.length;e++)(null===(a=r[e])||void 0===a?void 0:a.name)!==s[e]&&this._designerSchemaService.moveToIndex(s[e],e)}canDropElement(e,t,n,i,r){return 0===this.getIntersectionElements(e,t,n,i,r).length}getFreeRowsAbove(e,t){var n;const{colSpan:i,row:r,column:a}=e;let o=r;for(;o>=2;){for(let e=0;e<i;e++)if(null===(n=t[o-2])||void 0===n?void 0:n[a-1+e])return r-o;o--}return r-o}moveItemsAbove(e,t,n){const i=[],r=this.buildMatrix(e,t,n),a=(0,so.Z)(n);for(let n=1;n<e;n++){let e=0;for(;e<t;){const t=r[n][e];if(t){if(this._moveItemAbove(a,t,r)){i.push(t);e+=a.find((({name:e})=>e===t)).layoutConfig.colSpan-1}}e++}}return{layoutConfigs:a,affectedItems:i}}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](nO))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})(),rA=(()=>{class e{constructor(){this._moveCursor="move"}_clear(){var e;null===(e=this._affectedElementsMap)||void 0===e||e.clear()}setMoveCursor(e){if(!this._affectedElementsMap||e.style.cursor===this._moveCursor)return;this._affectedElementsMap.get(e)||(this._affectedElementsMap.set(e,{initialCursor:e.style.cursor,target:e}),e.style.cursor=this._moveCursor)}initSettings(){this._affectedElementsMap=new Map}clearSettings(){this._clear(),this._affectedElementsMap=null}resetInitialCursors(){var e;null===(e=this._affectedElementsMap)||void 0===e||e.forEach((({initialCursor:e,target:t})=>t.style.cursor=e)),this._clear()}}return e.ɵfac=function(t){return new(t||e)},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})(),aA=(()=>{class e{getPositionByDistance({columnIndex:e,rowIndex:t,distance:n,columnSizes:i,rowSizes:r,columnGap:a,rowGap:o,intersectionRatio:s}){return{column:tA({currentIndex:e,moved:n.x,itemsSize:i,gap:a,autogenerateSizes:!1,intersectionRatio:s})+1,row:tA({currentIndex:t,moved:n.y,itemsSize:r,gap:o,autogenerateSizes:!0,intersectionRatio:s})+1}}getConstrainedColumn({column:e,columnWidth:t,columnsLength:n}){return e+t>n+1?n-t+1:e}}return e.ɵfac=function(t){return new(t||e)},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"root"}),e})(),oA=(()=>{class e{constructor(e,t,n){this._document=e,this._cdkDrag=t,this._setDragCursorService=n,this._unsubscribe$=new h.Subject,this._cursor=this._document.body.style.cursor}ngOnInit(){this._setDragCursorService.initSettings(),this._cdkDrag.started.pipe((0,b.R)(this._unsubscribe$)).subscribe((()=>{this._document.body.style.cursor="move"})),this._cdkDrag.ended.pipe((0,b.R)(this._unsubscribe$)).subscribe((()=>{this._document.body.style.cursor=this._cursor,this._setDragCursorService.resetInitialCursors()})),this._cdkDrag.moved.pipe((0,b.R)(this._unsubscribe$)).subscribe((({event:{target:e}})=>this._setDragCursorService.setMoveCursor(e)))}ngOnDestroy(){this._setDragCursorService.clearSettings(),this._unsubscribe$.next(),this._unsubscribe$.complete()}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](o.DOCUMENT),l["ɵɵdirectiveInject"](Yp.Zt),l["ɵɵdirectiveInject"](rA))},e.ɵdir=l["ɵɵdefineDirective"]({type:e,selectors:[["","crtDragCursor",""]]}),e})();function sA(e,t){1&e&&l["ɵɵelement"](0,"div",10)}function lA(e,t){if(1&e&&(l["ɵɵelementStart"](0,"div",7),l["ɵɵtemplate"](1,sA,1,0,"div",8),l["ɵɵelement"](2,"mat-icon",9),l["ɵɵelementEnd"]()),2&e){const e=l["ɵɵnextContext"]();l["ɵɵstyleProp"]("width",null==e.styles||null==e.styles.tile?null:e.styles.tile.width,"px")("height",null==e.styles||null==e.styles.tile?null:e.styles.tile.height,"px"),l["ɵɵadvance"](2),l["ɵɵstyleProp"]("width",null==e.styles||null==e.styles.icon?null:e.styles.icon.width,"px")("height",null==e.styles||null==e.styles.icon?null:e.styles.icon.height,"px"),l["ɵɵproperty"]("svgIcon",e.element.iconName)}}let cA=(()=>{class e{get elementTooltip(){let e=this.element.caption;return this.element.hint&&(e+=`\n${this.element.hint}`),e}}return e.ɵfac=function(t){return new(t||e)},e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["crt-draggable-tile"]],inputs:{element:"element",styles:"styles"},decls:8,vars:15,consts:[[1,"tile-element-container"],["matTooltipPosition","below","matTooltipClass","tooltip-tile-info","matTooltipShowDelay","550",1,"tile-element",3,"matTooltip","mousedown"],["tooltip","matTooltip"],["cdkDrag","","crtDragCursor","","class","draggable-tile-element",3,"width","height",4,"ngIf"],[1,"background-tile-element"],[1,"background-tile-element-icon",3,"svgIcon"],[1,"background-tile-caption"],["cdkDrag","","crtDragCursor","",1,"draggable-tile-element"],["class","draggable-tile-element-placeholder",4,"cdkDragPlaceholder"],[1,"draggable-tile-element-preview",3,"svgIcon"],[1,"draggable-tile-element-placeholder"]],template:function(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵelementStart"](0,"div",0),l["ɵɵelementStart"](1,"div",1,2),l["ɵɵlistener"]("mousedown",(function(){l["ɵɵrestoreView"](e);return l["ɵɵreference"](2).hide()})),l["ɵɵtemplate"](3,lA,3,9,"div",3),l["ɵɵelementStart"](4,"div",4),l["ɵɵelement"](5,"mat-icon",5),l["ɵɵelementStart"](6,"span",6),l["ɵɵtext"](7),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵelementEnd"]()}2&e&&(l["ɵɵadvance"](1),l["ɵɵstyleProp"]("width",null==t.styles||null==t.styles.tile?null:t.styles.tile.width,"px"),l["ɵɵproperty"]("matTooltip",t.elementTooltip),l["ɵɵattribute"]("data-item-marker",t.element.name),l["ɵɵadvance"](2),l["ɵɵproperty"]("ngIf",t.element.canDrop),l["ɵɵadvance"](2),l["ɵɵstyleProp"]("width",null==t.styles||null==t.styles.icon?null:t.styles.icon.width,"px")("height",null==t.styles||null==t.styles.icon?null:t.styles.icon.height,"px"),l["ɵɵproperty"]("svgIcon",t.element.iconName),l["ɵɵadvance"](1),l["ɵɵstyleProp"]("max-width",null==t.styles||null==t.styles.icon?null:t.styles.icon.width,"px")("height",null==t.styles||null==t.styles.caption?null:t.styles.caption.height,"px"),l["ɵɵadvance"](1),l["ɵɵtextInterpolate"](t.element.caption))},directives:[Dt.gM,o.NgIf,St.Hw,Yp.Zt,oA,Yp.Hk],styles:[".tile-element-container{border-radius:6px;text-align:center}.tile-element-container .tile-element{position:relative;margin-left:auto;margin-right:auto}.tile-element-container .tile-element .draggable-tile-element{top:0;left:0;cursor:move;position:absolute}.tile-element-container .tile-element .background-tile-element{display:flex;flex-flow:column;align-items:center;justify-content:center}.tile-element-container .tile-element .background-tile-element .background-tile-caption{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.draggable-tile-element-placeholder{position:absolute;visibility:hidden}.tooltip-tile-info{white-space:pre-line;border-radius:0}"],encapsulation:2}),e})();function dA(e,t){if(1&e&&l["ɵɵelement"](0,"mat-icon",12),2&e){const e=l["ɵɵnextContext"](2);l["ɵɵstyleProp"]("width",null==e.styles||null==e.styles.icon?null:e.styles.icon.width,"px")("height",null==e.styles||null==e.styles.icon?null:e.styles.icon.height,"px"),l["ɵɵproperty"]("svgIcon",e.element.dragPreviewIcon)}}function uA(e,t){1&e&&(l["ɵɵelementContainerStart"](0),l["ɵɵtemplate"](1,dA,1,5,"mat-icon",11),l["ɵɵelementContainerEnd"]())}function pA(e,t){1&e&&l["ɵɵelement"](0,"div",13)}function mA(e,t){if(1&e&&(l["ɵɵelementStart"](0,"div"),l["ɵɵelement"](1,"mat-icon",14),l["ɵɵelementEnd"]()),2&e){const e=l["ɵɵnextContext"]();l["ɵɵadvance"](1),l["ɵɵpropertyInterpolate"]("matTooltip",e.element.errorMessage)}}const hA=function(e){return{"truncated-title":e}};let gA=(()=>{class e extends cA{constructor(){super(...arguments),this.clicked=new l.EventEmitter}onClick(e){this.clicked.next(e)}}return e.ɵfac=function(){let t;return function(n){return(t||(t=l["ɵɵgetInheritedFactory"](e)))(n||e)}}(),e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["crt-draggable-row"]],outputs:{clicked:"clicked"},features:[l["ɵɵInheritDefinitionFeature"]],decls:13,vars:9,consts:[[1,"row-element-container",3,"click"],["matTooltipPosition","below","matTooltipClass","tooltip-tile-info","matTooltipShowDelay","550",1,"row-element",3,"ngClass","matTooltip","mousedown"],["tooltip","matTooltip"],["cdkDrag","","crtDragCursor","",1,"draggable-row-element"],[4,"ngIf"],["class","draggable-row-element-placeholder",4,"cdkDragPlaceholder"],[1,"draggable-row-element-preview",3,"svgIcon"],[1,"background-row-element"],[1,"background-row-element-icon",3,"svgIcon"],[1,"spacer"],[1,"background-row-caption"],["class","drag-icon-preview",3,"svgIcon","width","height",4,"cdkDragPreview"],[1,"drag-icon-preview",3,"svgIcon"],[1,"draggable-row-element-placeholder"],["matSuffix","","svgIcon","error-icon","matTooltipPosition","after","matTooltipClass","crt-input-error-tooltip",1,"error-icon",3,"matTooltip"]],template:function(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵelementStart"](0,"div",0),l["ɵɵlistener"]("click",(function(){return t.onClick(t.element)})),l["ɵɵelementStart"](1,"div",1,2),l["ɵɵlistener"]("mousedown",(function(){l["ɵɵrestoreView"](e);return l["ɵɵreference"](2).hide()})),l["ɵɵelementStart"](3,"div",3),l["ɵɵtemplate"](4,uA,2,0,"ng-container",4),l["ɵɵtemplate"](5,pA,1,0,"div",5),l["ɵɵelement"](6,"mat-icon",6),l["ɵɵelementEnd"](),l["ɵɵelementStart"](7,"div",7),l["ɵɵelement"](8,"mat-icon",8),l["ɵɵelement"](9,"span",9),l["ɵɵelementStart"](10,"span",10),l["ɵɵtext"](11),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵtemplate"](12,mA,2,1,"div",4),l["ɵɵelementEnd"]()}2&e&&(l["ɵɵadvance"](1),l["ɵɵproperty"]("ngClass",l["ɵɵpureFunction1"](7,hA,t.element.errorMessage))("matTooltip",t.element.caption),l["ɵɵadvance"](3),l["ɵɵproperty"]("ngIf",t.element.dragPreviewIcon),l["ɵɵadvance"](2),l["ɵɵproperty"]("svgIcon",t.element.iconName),l["ɵɵadvance"](2),l["ɵɵproperty"]("svgIcon",t.element.iconName),l["ɵɵadvance"](3),l["ɵɵtextInterpolate"](t.element.caption),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",t.element.errorMessage))},directives:[o.NgClass,Dt.gM,Yp.Zt,oA,o.NgIf,Yp.Hk,St.Hw,Yp.pV,x.R9],styles:[".row-element-container[_ngcontent-%COMP%]{padding:4px 0 4px 4px;display:flex}.row-element-container[_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]{width:20px;height:20px;vertical-align:middle}.row-element-container[_ngcontent-%COMP%]   .row-element[_ngcontent-%COMP%]{position:relative;height:24px;max-width:100%;width:100%}.row-element-container[_ngcontent-%COMP%]   .row-element.truncated-title[_ngcontent-%COMP%]{max-width:86%;width:86%}.row-element-container[_ngcontent-%COMP%]   .row-element[_ngcontent-%COMP%]   .background-row-element[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%], .row-element-container[_ngcontent-%COMP%]   .row-element[_ngcontent-%COMP%]   .draggable-row-element[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{width:16px;height:16px}.row-element-container[_ngcontent-%COMP%]   .row-element[_ngcontent-%COMP%]   .draggable-row-element[_ngcontent-%COMP%]{top:0;left:0;cursor:move;position:absolute;width:100%}.row-element-container[_ngcontent-%COMP%]   .row-element[_ngcontent-%COMP%]   .background-row-element[_ngcontent-%COMP%]{display:flex;flex-flow:row;align-items:center;justify-content:flex-start}.row-element-container[_ngcontent-%COMP%]   .row-element[_ngcontent-%COMP%]   .background-row-element[_ngcontent-%COMP%]   .spacer[_ngcontent-%COMP%]{width:12px}.row-element-container[_ngcontent-%COMP%]   .row-element[_ngcontent-%COMP%]   .background-row-element[_ngcontent-%COMP%]   .background-row-caption[_ngcontent-%COMP%]{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.draggable-row-element-placeholder[_ngcontent-%COMP%]{position:absolute;visibility:hidden}"]}),e})();function fA(e,t){if(1&e&&l["ɵɵelement"](0,"crt-draggable-tile",4),2&e){const e=l["ɵɵnextContext"]().$implicit,t=l["ɵɵnextContext"]();l["ɵɵproperty"]("element",e)("styles",null==t.group?null:t.group.styles)}}function vA(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵelementStart"](0,"crt-draggable-row",5),l["ɵɵlistener"]("clicked",(function(){l["ɵɵrestoreView"](e);const t=l["ɵɵnextContext"]().$implicit;return l["ɵɵnextContext"]().onRowClick(t)})),l["ɵɵelementEnd"]()}if(2&e){const e=l["ɵɵnextContext"]().$implicit,t=l["ɵɵnextContext"]();l["ɵɵproperty"]("element",e)("styles",null==t.group?null:t.group.styles)}}function bA(e,t){if(1&e&&(l["ɵɵelementContainerStart"](0),l["ɵɵtemplate"](1,fA,1,2,"crt-draggable-tile",2),l["ɵɵtemplate"](2,vA,1,2,"crt-draggable-row",3),l["ɵɵelementContainerEnd"]()),2&e){const e=l["ɵɵnextContext"]();l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",e.isTile),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",!e.isTile)}}let CA=(()=>{class e{constructor(e){this._connectedDropListService=e,this._subscriptions=new h.Subscription,this.isTile=!0,this.rowClick=new l.EventEmitter}ngOnInit(){this._subscriptions.add(this._connectedDropListService.connectedDropList$.subscribe((e=>{this.connectedDropLists=e})))}ngOnDestroy(){this._subscriptions.unsubscribe()}getClasses(){return{"draggable-list-container":!0,"row-container":!this.isTile,"tile-container":this.isTile}}onRowClick(e){this.rowClick.next(e)}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](eO))},e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["crt-draggable-list"]],inputs:{group:"group",isTile:"isTile"},outputs:{rowClick:"rowClick"},decls:4,vars:11,consts:[["cdkDropList","",3,"cdkDropListData","cdkDropListSortingDisabled","cdkDropListConnectedTo","ngClass"],[4,"ngFor","ngForOf"],[3,"element","styles",4,"ngIf"],[3,"element","styles","clicked",4,"ngIf"],[3,"element","styles"],[3,"element","styles","clicked"]],template:function(e,t){1&e&&(l["ɵɵelementStart"](0,"div",0),l["ɵɵpipe"](1,"async"),l["ɵɵtemplate"](2,bA,3,2,"ng-container",1),l["ɵɵpipe"](3,"async"),l["ɵɵelementEnd"]()),2&e&&(l["ɵɵstyleProp"]("--tile-width",null==t.group||null==t.group.styles||null==t.group.styles.tile?null:t.group.styles.tile.width,"px"),l["ɵɵproperty"]("cdkDropListData",l["ɵɵpipeBind1"](1,7,t.group.items$))("cdkDropListSortingDisabled",!0)("cdkDropListConnectedTo",t.connectedDropLists)("ngClass",t.getClasses()),l["ɵɵadvance"](2),l["ɵɵproperty"]("ngForOf",l["ɵɵpipeBind1"](3,9,t.group.items$)))},directives:[Yp.Wj,o.NgClass,o.NgForOf,o.NgIf,cA,gA],pipes:[o.AsyncPipe],styles:[".draggable-list-container[_ngcontent-%COMP%]{display:grid;grid-gap:8px;gap:8px;--tile-width:72px}.draggable-list-container.tile-container[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(var(--tile-width),1fr))}.draggable-list-container.row-container[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(100%,1fr))}"]}),e})();function yA(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵelementStart"](0,"crt-expansion-panel",1),l["ɵɵelementStart"](1,"span",2),l["ɵɵlistener"]("click",(function(t){l["ɵɵrestoreView"](e);return l["ɵɵnextContext"]().onMenuButtonClick(t)})),l["ɵɵelement"](2,"ts-compact-actions-menu",3),l["ɵɵelementEnd"](),l["ɵɵelementStart"](3,"div",4),l["ɵɵtext"](4),l["ɵɵelementEnd"](),l["ɵɵelement"](5,"crt-draggable-list",5),l["ɵɵelementStart"](6,"div",6),l["ɵɵtext"](7),l["ɵɵelementEnd"](),l["ɵɵelementStart"](8,"crt-draggable-list",7),l["ɵɵlistener"]("rowClick",(function(t){l["ɵɵrestoreView"](e);return l["ɵɵnextContext"]().onDataSourceAttributeClick(t)})),l["ɵɵelementEnd"](),l["ɵɵelementEnd"]()}if(2&e){const e=t.$implicit,n=l["ɵɵnextContext"]();l["ɵɵproperty"]("expanded",!0)("title",e.groupItem.caption),l["ɵɵadvance"](2),l["ɵɵproperty"]("menuItems",n.getDataSourceActions(e)),l["ɵɵadvance"](2),l["ɵɵtextInterpolate"](e.newItems.caption),l["ɵɵadvance"](1),l["ɵɵproperty"]("group",e.newItems)("isTile",!0),l["ɵɵadvance"](2),l["ɵɵtextInterpolate"](e.existingItems.caption),l["ɵɵadvance"](1),l["ɵɵproperty"]("group",e.existingItems)("isTile",!1)}}let wA=(()=>{class e{constructor(e,t){this._metaItemDesignerService=e,this._translateService=t}_fillDataSourceSubGroup(e,t,n=!0){var i;let r=t.filter((t=>t.parentName===e.name));return n&&(r=r.sort(((e,t)=>e.caption.localeCompare(t.caption)))),{name:e.name,caption:e.caption,iconName:e.iconName,type:Mu.Data,items$:(0,h.of)(r),styles:null===(i=Du(Mu.Data))||void 0===i?void 0:i.styles}}_getDataSourceAttributeConfig(e){return{dataSourceName:e.dataSourceConfig.dataSourceName,dataSourceAttributeName:e.dataSourceConfig.dataSourceAttributeName,dataSourceType:e.dataSourceConfig.dataSourceType,propertiesPanelComponentTypeName:e.propertiesPanelComponentTypeName}}_onDataSourceEditActionClick(e){return()=>{this._metaItemDesignerService.openMetaItemDesigner("crt.EntityDataSource",FN.Edit,{itemConfig:{dataSourceName:e.name,propertiesPanelComponentTypeName:e.propertiesPanelComponentTypeName},type:RN.DataSource})}}ngOnInit(){this.itemsGroups$=this.group.items$.pipe((0,g.U)((e=>{const t=[];return e.filter((e=>!e.parentName)).forEach((n=>{const i=e.filter((e=>e.parentName===n.name)),r=i.find((e=>e.name.includes(`${n.name}_NewColumns`))),a=i.find((e=>e.name.includes(`${n.name}_ExistingColumns`))),o=this._fillDataSourceSubGroup(r,e,!1),s=this._fillDataSourceSubGroup(a,e);t.push({existingItems:s,newItems:o,groupItem:n})})),t})))}onDataSourceAttributeClick(e){this._metaItemDesignerService.openMetaItemDesigner(e.defaultConfig.type,FN.Edit,{itemConfig:this._getDataSourceAttributeConfig(e),type:RN.DataSourceAttribute})}onMenuButtonClick(e){e.stopPropagation()}getDataSourceActions(e){return[{caption:this._translateService.instant("InterfaceDesigner.DataSourceActions.Edit"),code:`edit-${e.groupItem.name}-code`,handler:this._onDataSourceEditActionClick(e.groupItem)}]}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](LN),l["ɵɵdirectiveInject"](u.sK))},e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["crt-data-group-draggable-list"]],inputs:{group:"group"},decls:2,vars:3,consts:[["togglePosition","after","toggleType","material","class","items-group",3,"expanded","title",4,"ngFor","ngForOf"],["togglePosition","after","toggleType","material",1,"items-group",3,"expanded","title"],["beforeToggleButtonContent","",1,"menu-container",3,"click"],[3,"menuItems"],[1,"new-column-subgroup-title"],[1,"draggable-columns-new",3,"group","isTile"],[1,"column-subgroup-title"],[1,"draggable-columns",3,"group","isTile","rowClick"]],template:function(e,t){1&e&&(l["ɵɵtemplate"](0,yA,9,9,"crt-expansion-panel",0),l["ɵɵpipe"](1,"async")),2&e&&l["ɵɵproperty"]("ngForOf",l["ɵɵpipeBind1"](1,1,t.itemsGroups$))},directives:[o.NgForOf,MP,df,CA],pipes:[o.AsyncPipe],styles:[".new-column-subgroup-title[_ngcontent-%COMP%]{padding:8px 0 16px}.column-subgroup-title[_ngcontent-%COMP%]{padding:16px 0}.menu-container[_ngcontent-%COMP%]{margin-right:4px;display:none}.items-group[_ngcontent-%COMP%]:hover   .menu-container[_ngcontent-%COMP%]{display:block}"]}),e})();function _A(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵelementStart"](0,"div",2),l["ɵɵelementStart"](1,"crt-button",3,4),l["ɵɵlistener"]("clicked",(function(){l["ɵɵrestoreView"](e);return l["ɵɵreference"](2).toggleMenu()})),l["ɵɵelement"](3,"mat-icon",5),l["ɵɵelementStart"](4,"span",6),l["ɵɵtext"](5),l["ɵɵpipe"](6,"translate"),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵelementStart"](7,"mat-menu",7,8),l["ɵɵelementStart"](9,"button",9),l["ɵɵlistener"]("click",(function(){l["ɵɵrestoreView"](e);return l["ɵɵnextContext"]().addNewDataSource()})),l["ɵɵelementStart"](10,"span"),l["ɵɵtext"](11),l["ɵɵpipe"](12,"translate"),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵelementStart"](13,"button",10),l["ɵɵlistener"]("click",(function(){l["ɵɵrestoreView"](e);return l["ɵɵnextContext"]().addExistingDataSource()})),l["ɵɵelementStart"](14,"span"),l["ɵɵtext"](15),l["ɵɵpipe"](16,"translate"),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵelementEnd"]()}if(2&e){const e=l["ɵɵreference"](8);l["ɵɵadvance"](1),l["ɵɵproperty"]("matMenuTriggerFor",e),l["ɵɵadvance"](4),l["ɵɵtextInterpolate"](l["ɵɵpipeBind1"](6,4,"InterfaceDesigner.AddMenu.AddDataSource")),l["ɵɵadvance"](6),l["ɵɵtextInterpolate"](l["ɵɵpipeBind1"](12,6,"InterfaceDesigner.AddMenu.NewDataSource")),l["ɵɵadvance"](4),l["ɵɵtextInterpolate"](l["ɵɵpipeBind1"](16,8,"InterfaceDesigner.AddMenu.ExistingDataSource"))}}function xA(e,t){if(1&e&&l["ɵɵelement"](0,"crt-draggable-list",13),2&e){const e=l["ɵɵnextContext"]().$implicit;l["ɵɵproperty"]("group",e)}}function IA(e,t){if(1&e&&l["ɵɵelement"](0,"crt-data-group-draggable-list",13),2&e){const e=l["ɵɵnextContext"]().$implicit;l["ɵɵproperty"]("group",e)}}function SA(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵelementStart"](0,"crt-expansion-panel",11),l["ɵɵlistener"]("closed",(function(){const t=l["ɵɵrestoreView"](e).$implicit;return l["ɵɵnextContext"]().onClosed(t)}))("opened",(function(){const t=l["ɵɵrestoreView"](e).$implicit;return l["ɵɵnextContext"]().onOpened(t)})),l["ɵɵtemplate"](1,xA,1,1,"crt-draggable-list",12),l["ɵɵtemplate"](2,IA,1,1,"crt-data-group-draggable-list",12),l["ɵɵelementEnd"]()}if(2&e){const e=t.$implicit,n=l["ɵɵnextContext"]();l["ɵɵproperty"]("expanded",n.getIsExpanded(e))("title",e.caption)("ngClass",n.getClasses(e))("disableOverflow",!0),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf","Data"!==e.type),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf","Data"===e.type)}}let MA=(()=>{class e{constructor(e,t,n,i,r){this._designerToolsService=e,this._dialogService=t,this._matIconRegistry=n,this._domSanitizer=i,this._designerSchemaService=r,this.groups=[],this.showAddDataSourceBtn=!1,this._expandedGroups=new Set,this._destroyed$=new h.Subject,this._registerIcons()}_registerIcons(){this._matIconRegistry.addSvgIconLiteral("add-data-source-icon",this._domSanitizer.bypassSecurityTrustHtml(n(66259)))}_initGroups(){this._designerToolsService.groups$.pipe((0,g.U)((e=>(e.forEach((e=>{this.groups.includes(e)||this._expandedGroups.add(e.name)})),e))),(0,b.R)(this._destroyed$)).subscribe((e=>{this.groups=e}))}_updateShowAddDataSourceButton(e){const t=jp(e);this.showAddDataSourceBtn=!t}_subscribeSchemaLoaded(){this._designerSchemaService.schemaLoaded$.pipe((0,b.R)(this._destroyed$)).subscribe((e=>this._updateShowAddDataSourceButton(e)))}_subscribeSchemaChanged(){this._designerSchemaService.schemaChanged$.pipe((0,b.R)(this._destroyed$),(0,f.h)((({changes:{operation:e}})=>e===kp.CreateDataSource))).subscribe((({schema:e})=>this._updateShowAddDataSourceButton(e)))}ngOnInit(){this._initGroups(),this._subscribeSchemaLoaded(),this._subscribeSchemaChanged()}ngOnDestroy(){this._destroyed$.next(),this._destroyed$.complete()}getIsExpanded(e){return this._expandedGroups.has(e.name)}trackByItems(e,t){return t.items$}onOpened(e){this._expandedGroups.add(e.name)}onClosed(e){this._expandedGroups.delete(e.name)}addNewDataSource(){this._dialogService.open(Wj,{panelClass:["dialog-top-border"]})}addExistingDataSource(){this._dialogService.open(Kj,{panelClass:["dialog-top-border"]})}getClasses(e){return{expanded:this.getIsExpanded(e),"data-group-draggable-list":e.type===Mu.Data}}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](oO),l["ɵɵdirectiveInject"](X),l["ɵɵdirectiveInject"](St.jv),l["ɵɵdirectiveInject"](i.DomSanitizer),l["ɵɵdirectiveInject"](nO))},e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["crt-designer-tools"]],decls:2,vars:3,consts:[["class","actions",4,"ngIf"],["togglePosition","after","toggleType","material",3,"expanded","title","ngClass","disableOverflow","closed","opened",4,"ngFor","ngForOf","ngForTrackBy"],[1,"actions"],["color","default","shape","rounded","textTransform","none","data-qa","open-add-menu",3,"matMenuTriggerFor","clicked"],["menuTrigger","matMenuTrigger"],["svgIcon","add-data-source-icon",1,"add-data-source-icon"],[1,"add-data-source"],[1,"add-data-source-menu"],["addDataSourceMenu","matMenu"],["mat-menu-item","","data-qa","add-new-data-source",3,"click"],["mat-menu-item","","data-qa","add-existing-data-source",3,"click"],["togglePosition","after","toggleType","material",3,"expanded","title","ngClass","disableOverflow","closed","opened"],[3,"group",4,"ngIf"],[3,"group"]],template:function(e,t){1&e&&(l["ɵɵtemplate"](0,_A,17,10,"div",0),l["ɵɵtemplate"](1,SA,3,6,"crt-expansion-panel",1)),2&e&&(l["ɵɵproperty"]("ngIf",t.showAddDataSourceBtn),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngForOf",t.groups)("ngForTrackBy",t.trackByItems))},directives:[o.NgIf,o.NgForOf,Jw,$p.p6,St.Hw,$p.VK,$p.OP,MP,o.NgClass,CA,wA],pipes:[u.X$],styles:[".actions[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:280px;height:48px}.actions[_ngcontent-%COMP%]   .add-data-source-icon[_ngcontent-%COMP%]{width:16px}crt-expansion-panel[_ngcontent-%COMP%]{border-radius:0;box-sizing:border-box;height:auto;padding:0 16px;transition:border-bottom-color .3s ease-in-out}crt-expansion-panel.expanded[_ngcontent-%COMP%]{border-bottom:1px solid transparent}"]}),e})();var DA=n(27542),PA=n.n(DA),TA=(()=>(function(e){e[e.Edit=0]="Edit",e[e.Delete=1]="Delete",e[e.Copy=2]="Copy"}(TA||(TA={})),TA))();const kA=new l.InjectionToken("SHOULD_LIFT_GRID_ELEMENTS"),EA=new l.InjectionToken("SHOULD_FILL_ROWS_OF_VISIBLE_PART");new l.InjectionToken("Use for provide commands handlers");let NA=(()=>{class e extends Us{constructor(e){super(e)}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](l.Injector))},e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["crt-designer-grid-cell"]],inputs:{row:"row",column:"column",visibility:"visibility",minHeight:"minHeight"},features:[l["ɵɵInheritDefinitionFeature"]],decls:1,vars:4,consts:[[1,"designer-grid-cell"]],template:function(e,t){1&e&&l["ɵɵelement"](0,"div",0),2&e&&(l["ɵɵstyleProp"]("min-height",t.minHeight),l["ɵɵclassProp"]("show-cell",t.visibility))},styles:[".designer-grid-cell[_ngcontent-%COMP%]{height:100%;min-width:32px;border-width:1px;border-style:solid;box-sizing:border-box;border-radius:8px;opacity:0;transition:.3s ease}.designer-grid-cell.show-cell[_ngcontent-%COMP%]{opacity:1}"],changeDetection:0}),e})(),OA=(()=>{class e extends Us{}return e.ɵfac=function(){let t;return function(n){return(t||(t=l["ɵɵgetInheritedFactory"](e)))(n||e)}}(),e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["crt-designer-grid-column"]],features:[l["ɵɵInheritDefinitionFeature"]],decls:1,vars:0,consts:[[1,"grid-item","col"]],template:function(e,t){1&e&&l["ɵɵelement"](0,"div",0)},encapsulation:2}),e})(),jA=(()=>{class e extends Us{}return e.ɵfac=function(){let t;return function(n){return(t||(t=l["ɵɵgetInheritedFactory"](e)))(n||e)}}(),e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["crt-designer-grid-row"]],features:[l["ɵɵInheritDefinitionFeature"]],decls:1,vars:0,consts:[[1,"grid-item","row"]],template:function(e,t){1&e&&l["ɵɵelement"](0,"div",0)},encapsulation:2,changeDetection:0}),e})(),AA=(()=>{class e{constructor(e){this.injector=e,this._destroyed$=new h.Subject,this.resizeEnd=new l.EventEmitter,this.resizing=new l.EventEmitter,this.resizeStart=new l.EventEmitter,this.designerContainerService=e.get(Nj),this.elementRef=e.get(l.ElementRef),this.zone=e.get(l.NgZone)}get cursors(){return{bottomLeft:"nesw-resize",bottomRight:"nwse-resize",leftOrRight:"ew-resize",topLeft:"nwse-resize",topRight:"nesw-resize",topOrBottom:"ns-resize"}}isVisibleEdge(e){return!0}_subscribeHoverChanges(){this.designerContainerService.hoveredItemName$.pipe((0,b.R)(this._destroyed$)).subscribe((e=>{this.zone.runOutsideAngular((()=>{this._applyHoveredClass(e)}))}))}_applyHoveredClass(e){const t=this.elementRef.nativeElement.firstChild.classList,n="hovered";t&&(e===this.name?t.add(n):t.remove(n))}ngOnInit(){this._subscribeHoverChanges()}onResizeStart(){this.resizeStart.emit((0,so.Z)(this.layoutConfig))}onResizing(e){this.focused=!0;const t=this.getChangedLayoutConfig(e);t&&this.resizing.emit(t)}onResizeEnd(e){const t=this.getChangedLayoutConfig(e);this.resizeEnd.emit(t||this.layoutConfig)}canResize(e){return this.isVisibleEdge(e)}ngOnDestroy(){this._destroyed$.next(),this._destroyed$.complete()}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](l.Injector))},e.ɵdir=l["ɵɵdefineDirective"]({type:e,inputs:{layoutConfig:"layoutConfig",dragActive:"dragActive",focused:"focused",name:"name"},outputs:{resizeEnd:"resizeEnd",resizing:"resizing",resizeStart:"resizeStart"}}),e})();const RA=function(){return{top:!0}};function FA(e,t){1&e&&(l["ɵɵelementStart"](0,"div",17),l["ɵɵlistener"]("mousedown",(function(e){return e.stopPropagation()})),l["ɵɵelementEnd"]()),2&e&&l["ɵɵproperty"]("resizeEdges",l["ɵɵpureFunction0"](1,RA))}const VA=function(){return{bottom:!0}};function LA(e,t){1&e&&(l["ɵɵelementStart"](0,"div",18),l["ɵɵlistener"]("mousedown",(function(e){return e.stopPropagation()})),l["ɵɵelementEnd"]()),2&e&&l["ɵɵproperty"]("resizeEdges",l["ɵɵpureFunction0"](1,VA))}const zA=function(){return{left:!0}};function BA(e,t){1&e&&(l["ɵɵelementStart"](0,"div",19),l["ɵɵlistener"]("mousedown",(function(e){return e.stopPropagation()})),l["ɵɵelementEnd"]()),2&e&&l["ɵɵproperty"]("resizeEdges",l["ɵɵpureFunction0"](1,zA))}const GA=function(){return{right:!0}};function HA(e,t){1&e&&(l["ɵɵelementStart"](0,"div",20),l["ɵɵlistener"]("mousedown",(function(e){return e.stopPropagation()})),l["ɵɵelementEnd"]()),2&e&&l["ɵɵproperty"]("resizeEdges",l["ɵɵpureFunction0"](1,GA))}const UA=function(){return{top:!0,right:!0}};function ZA(e,t){1&e&&(l["ɵɵelementStart"](0,"div",21),l["ɵɵlistener"]("mousedown",(function(e){return e.stopPropagation()})),l["ɵɵelementStart"](1,"div",22),l["ɵɵlistener"]("mousedown",(function(e){return e.stopPropagation()})),l["ɵɵelementEnd"](),l["ɵɵelementEnd"]()),2&e&&(l["ɵɵproperty"]("resizeEdges",l["ɵɵpureFunction0"](2,UA)),l["ɵɵadvance"](1),l["ɵɵproperty"]("resizeEdges",l["ɵɵpureFunction0"](3,UA)))}const $A=function(){return{top:!0,left:!0}};function WA(e,t){1&e&&(l["ɵɵelementStart"](0,"div",23),l["ɵɵlistener"]("mousedown",(function(e){return e.stopPropagation()})),l["ɵɵelementStart"](1,"div",24),l["ɵɵlistener"]("mousedown",(function(e){return e.stopPropagation()})),l["ɵɵelementEnd"](),l["ɵɵelementEnd"]()),2&e&&(l["ɵɵproperty"]("resizeEdges",l["ɵɵpureFunction0"](2,$A)),l["ɵɵadvance"](1),l["ɵɵproperty"]("resizeEdges",l["ɵɵpureFunction0"](3,$A)))}function qA(e,t){1&e&&(l["ɵɵelementStart"](0,"div",25),l["ɵɵlistener"]("mousedown",(function(e){return e.stopPropagation()})),l["ɵɵelementEnd"]()),2&e&&l["ɵɵproperty"]("resizeEdges",l["ɵɵpureFunction0"](1,RA))}const YA=function(){return{bottom:!0,right:!0}};function JA(e,t){1&e&&(l["ɵɵelementStart"](0,"div",26),l["ɵɵlistener"]("mousedown",(function(e){return e.stopPropagation()})),l["ɵɵelementStart"](1,"div",27),l["ɵɵlistener"]("mousedown",(function(e){return e.stopPropagation()})),l["ɵɵelementEnd"](),l["ɵɵelementEnd"]()),2&e&&(l["ɵɵproperty"]("resizeEdges",l["ɵɵpureFunction0"](2,YA)),l["ɵɵadvance"](1),l["ɵɵproperty"]("resizeEdges",l["ɵɵpureFunction0"](3,YA)))}const QA=function(){return{bottom:!0,left:!0}};function KA(e,t){1&e&&(l["ɵɵelementStart"](0,"div",28),l["ɵɵlistener"]("mousedown",(function(e){return e.stopPropagation()})),l["ɵɵelementStart"](1,"div",29),l["ɵɵlistener"]("mousedown",(function(e){return e.stopPropagation()})),l["ɵɵelementEnd"](),l["ɵɵelementEnd"]()),2&e&&(l["ɵɵproperty"]("resizeEdges",l["ɵɵpureFunction0"](2,QA)),l["ɵɵadvance"](1),l["ɵɵproperty"]("resizeEdges",l["ɵɵpureFunction0"](3,QA)))}function XA(e,t){1&e&&(l["ɵɵelementStart"](0,"div",30),l["ɵɵlistener"]("mousedown",(function(e){return e.stopPropagation()})),l["ɵɵelementEnd"]()),2&e&&l["ɵɵproperty"]("resizeEdges",l["ɵɵpureFunction0"](1,VA))}function eR(e,t){1&e&&(l["ɵɵelementStart"](0,"div",31),l["ɵɵlistener"]("mousedown",(function(e){return e.stopPropagation()})),l["ɵɵelementEnd"]()),2&e&&l["ɵɵproperty"]("resizeEdges",l["ɵɵpureFunction0"](1,zA))}function tR(e,t){1&e&&(l["ɵɵelementStart"](0,"div",32),l["ɵɵlistener"]("mousedown",(function(e){return e.stopPropagation()})),l["ɵɵelementEnd"]()),2&e&&l["ɵɵproperty"]("resizeEdges",l["ɵɵpureFunction0"](1,GA))}const nR=["*"];let iR=(()=>{class e extends AA{constructor(e){super(e),this.injector=e,this._gridLayoutConfigPositionResolverService=e.get(aA)}static _getSize(e,t,n,i=!1){n||(n=1);const r=Math.abs(e-t);return i?t>e?n-=r:n+=r:n=r+1,n}static _getResizes(e){return{resizeToTop:e.edges.top,resizeToLeft:e.edges.left,resizeToRight:e.edges.right,resizeToBottom:e.edges.bottom}}_getIndex(){return{colStart:this.layoutConfig.column-1,rowStart:this.layoutConfig.row-1,colEnd:this.layoutConfig.column-1+(this.layoutConfig.colSpan||1)-1,rowEnd:this.layoutConfig.row-1+(this.layoutConfig.rowSpan||1)-1}}_getColumnMinWidth(){const e=this.layoutConfig.column-1;return this.columnSizes[e]}_getRowMinHeight(){const e=this.layoutConfig.row-1;return this.rowSizes[e]}_getLeftWidthToBorder(e){return this.columnSizes.reduce(((t,n,i)=>i<=e?t+n:t),0)+this.gap.column*e}_getRightWidthToBorder(e,t){const n=this.columnSizes.reduce(((t,n,i)=>i>=e?t+n:t),0),i=t-e,r=this.columnSizes.length-1-t;return n+this.gap.column*(i+r)}_getTopHeightToBorder(e){return this.rowSizes.reduce(((t,n,i)=>i<=e?t+n:t),0)+this.gap.column*e}getChangedLayoutConfig(t){let{row:n,column:i,rowSpan:r,colSpan:a}=this.layoutConfig;const{resizeToRight:o,resizeToLeft:s,resizeToTop:l,resizeToBottom:c}=e._getResizes(t);if(!(o||s||l||c))return null;const{colStart:d,colEnd:u,rowStart:p,rowEnd:m}=this._getIndex(),h=s?d:u,g=l?p:m,f={x:o||s,y:l||c},v=this._gridLayoutConfigPositionResolverService.getPositionByDistance({distance:f,columnIndex:h,rowIndex:g,rowGap:this.gap.row,columnGap:this.gap.column,rowSizes:this.rowSizes,columnSizes:this.columnSizes,intersectionRatio:this.intersectRatio});return o&&(a=e._getSize(i,v.column,a)),s&&(a=e._getSize(i,v.column,a,!0),i=v.column),c&&(r=e._getSize(n,v.row,r)),l&&(r=e._getSize(n,v.row,r,!0),n=v.row),{row:n,rowSpan:r,column:i,colSpan:a}}validate(t){const{resizeToRight:n,resizeToLeft:i,resizeToTop:r,resizeToBottom:a}=e._getResizes(t),o=this._getColumnMinWidth(),s=this._getRowMinHeight(),{rowEnd:l,colStart:c,colEnd:d}=this._getIndex(),u=this._getLeftWidthToBorder(d),p=this._getRightWidthToBorder(c,d),m=this._getTopHeightToBorder(l),h=i&&t.rectangle.width>u,g=n&&t.rectangle.width>p,f=r&&t.rectangle.height>m,v=n||i,b=t.rectangle.width>o,C=r||a,y=t.rectangle.height>s;return!(f||g||h)&&(v&&C?b&&y:v?b:C?y:void 0)}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](l.Injector))},e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["crt-designer-grid-resizable-item"]],inputs:{columnSizes:"columnSizes",rowSizes:"rowSizes",gap:"gap",intersectRatio:"intersectRatio"},features:[l["ɵɵInheritDefinitionFeature"]],ngContentSelectors:nR,decls:18,vars:19,consts:[["mwlResizable","",1,"rectangle",3,"enableGhostResize","validateResize","resizeCursors","resizeStart","resizing","resizeEnd"],[1,"resize","border-top"],[1,"resize","border-bottom"],[1,"resize","border-right"],[1,"resize","border-left"],["class","resize resize-top","mwlResizeHandle","",3,"resizeEdges","mousedown",4,"ngIf"],["class","resize resize-bottom","mwlResizeHandle","",3,"resizeEdges","mousedown",4,"ngIf"],["class","resize resize-left","mwlResizeHandle","",3,"resizeEdges","mousedown",4,"ngIf"],["class","resize resize-right","mwlResizeHandle","",3,"resizeEdges","mousedown",4,"ngIf"],["class","resize resize-top resize-right","mwlResizeHandle","",3,"resizeEdges","mousedown",4,"ngIf"],["class","resize resize-top resize-left","mwlResizeHandle","",3,"resizeEdges","mousedown",4,"ngIf"],["class","resize resize-top resize-center","mwlResizeHandle","",3,"resizeEdges","mousedown",4,"ngIf"],["class","resize resize-bottom resize-right","mwlResizeHandle","",3,"resizeEdges","mousedown",4,"ngIf"],["class","resize resize-bottom resize-left","mwlResizeHandle","",3,"resizeEdges","mousedown",4,"ngIf"],["class","resize resize-bottom resize-center","mwlResizeHandle","",3,"resizeEdges","mousedown",4,"ngIf"],["class","resize resize-left resize-center","mwlResizeHandle","",3,"resizeEdges","mousedown",4,"ngIf"],["class","resize resize-right resize-center","mwlResizeHandle","",3,"resizeEdges","mousedown",4,"ngIf"],["mwlResizeHandle","",1,"resize","resize-top",3,"resizeEdges","mousedown"],["mwlResizeHandle","",1,"resize","resize-bottom",3,"resizeEdges","mousedown"],["mwlResizeHandle","",1,"resize","resize-left",3,"resizeEdges","mousedown"],["mwlResizeHandle","",1,"resize","resize-right",3,"resizeEdges","mousedown"],["mwlResizeHandle","",1,"resize","resize-top","resize-right",3,"resizeEdges","mousedown"],["mwlResizeHandle","",1,"resize","resize-top","resize-right","inner",3,"resizeEdges","mousedown"],["mwlResizeHandle","",1,"resize","resize-top","resize-left",3,"resizeEdges","mousedown"],["mwlResizeHandle","",1,"resize","resize-top","resize-left","inner",3,"resizeEdges","mousedown"],["mwlResizeHandle","",1,"resize","resize-top","resize-center",3,"resizeEdges","mousedown"],["mwlResizeHandle","",1,"resize","resize-bottom","resize-right",3,"resizeEdges","mousedown"],["mwlResizeHandle","",1,"resize","resize-bottom","resize-right","inner",3,"resizeEdges","mousedown"],["mwlResizeHandle","",1,"resize","resize-bottom","resize-left",3,"resizeEdges","mousedown"],["mwlResizeHandle","",1,"resize","resize-bottom","resize-left","inner",3,"resizeEdges","mousedown"],["mwlResizeHandle","",1,"resize","resize-bottom","resize-center",3,"resizeEdges","mousedown"],["mwlResizeHandle","",1,"resize","resize-left","resize-center",3,"resizeEdges","mousedown"],["mwlResizeHandle","",1,"resize","resize-right","resize-center",3,"resizeEdges","mousedown"]],template:function(e,t){1&e&&(l["ɵɵprojectionDef"](),l["ɵɵelementStart"](0,"div",0),l["ɵɵlistener"]("resizeStart",(function(){return t.onResizeStart()}))("resizing",(function(e){return t.onResizing(e)}))("resizeEnd",(function(e){return t.onResizeEnd(e)})),l["ɵɵprojection"](1),l["ɵɵelement"](2,"div",1),l["ɵɵelement"](3,"div",2),l["ɵɵelement"](4,"div",3),l["ɵɵelement"](5,"div",4),l["ɵɵtemplate"](6,FA,1,2,"div",5),l["ɵɵtemplate"](7,LA,1,2,"div",6),l["ɵɵtemplate"](8,BA,1,2,"div",7),l["ɵɵtemplate"](9,HA,1,2,"div",8),l["ɵɵtemplate"](10,ZA,2,4,"div",9),l["ɵɵtemplate"](11,WA,2,4,"div",10),l["ɵɵtemplate"](12,qA,1,2,"div",11),l["ɵɵtemplate"](13,JA,2,4,"div",12),l["ɵɵtemplate"](14,KA,2,4,"div",13),l["ɵɵtemplate"](15,XA,1,2,"div",14),l["ɵɵtemplate"](16,eR,1,2,"div",15),l["ɵɵtemplate"](17,tR,1,2,"div",16),l["ɵɵelementEnd"]()),2&e&&(l["ɵɵclassProp"]("drag-active",t.dragActive)("focused",t.focused),l["ɵɵproperty"]("enableGhostResize",!0)("validateResize",t.validate.bind(t))("resizeCursors",t.cursors),l["ɵɵadvance"](6),l["ɵɵproperty"]("ngIf",t.canResize("top")),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",t.canResize("bottom")),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",t.canResize("left")),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",t.canResize("right")),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",t.canResize("top right")),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",t.canResize("top left")),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",t.canResize("top")),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",t.canResize("bottom right")),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",t.canResize("bottom left")),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",t.canResize("bottom")),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",t.canResize("left")),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",t.canResize("right")))},directives:[GI.E$,o.NgIf,GI.mC],styles:[":host{width:100%;height:100%}.rectangle{position:relative;width:100%;height:100%;margin:auto}.rectangle.hovered>.resize-bottom.resize-center,.rectangle.hovered>.resize-bottom.resize-left,.rectangle.hovered>.resize-bottom.resize-right,.rectangle.hovered>.resize-left.resize-center,.rectangle.hovered>.resize-right.resize-center,.rectangle.hovered>.resize-top.resize-center,.rectangle.hovered>.resize-top.resize-left,.rectangle.hovered>.resize-top.resize-right,.rectangle.resize-active>.resize-bottom.resize-center,.rectangle.resize-active>.resize-bottom.resize-left,.rectangle.resize-active>.resize-bottom.resize-right,.rectangle.resize-active>.resize-left.resize-center,.rectangle.resize-active>.resize-right.resize-center,.rectangle.resize-active>.resize-top.resize-center,.rectangle.resize-active>.resize-top.resize-left,.rectangle.resize-active>.resize-top.resize-right{border-width:1px}.rectangle.hovered>.border-bottom,.rectangle.hovered>.border-left,.rectangle.hovered>.border-right,.rectangle.hovered>.border-top,.rectangle.hovered>.resize-bottom,.rectangle.hovered>.resize-left,.rectangle.hovered>.resize-right,.rectangle.hovered>.resize-top,.rectangle.resize-active>.border-bottom,.rectangle.resize-active>.border-left,.rectangle.resize-active>.border-right,.rectangle.resize-active>.border-top,.rectangle.resize-active>.resize-bottom,.rectangle.resize-active>.resize-left,.rectangle.resize-active>.resize-right,.rectangle.resize-active>.resize-top{opacity:1}.rectangle.hovered>.border-top,.rectangle.resize-active>.border-top{border-top-style:dashed}.rectangle.hovered>.border-bottom,.rectangle.resize-active>.border-bottom{border-bottom-style:dashed}.rectangle.hovered>.border-left,.rectangle.resize-active>.border-left{border-left-style:dashed}.rectangle.hovered>.border-right,.rectangle.resize-active>.border-right{border-right-style:dashed}.rectangle.focused>.resize-bottom.resize-center,.rectangle.focused>.resize-bottom.resize-left,.rectangle.focused>.resize-bottom.resize-right,.rectangle.focused>.resize-left.resize-center,.rectangle.focused>.resize-right.resize-center,.rectangle.focused>.resize-top.resize-center,.rectangle.focused>.resize-top.resize-left,.rectangle.focused>.resize-top.resize-right{border-width:1px}.rectangle.focused>.border-bottom,.rectangle.focused>.border-left,.rectangle.focused>.border-right,.rectangle.focused>.border-top,.rectangle.focused>.resize-bottom,.rectangle.focused>.resize-left,.rectangle.focused>.resize-right,.rectangle.focused>.resize-top{opacity:1}.rectangle.focused>.border-top{border-top-style:solid}.rectangle.focused>.border-bottom{border-bottom-style:solid}.rectangle.focused>.border-left{border-left-style:solid}.rectangle.focused>.border-right{border-right-style:solid}.border-bottom,.border-left,.border-right,.border-top{box-sizing:border-box}.border-bottom,.border-left,.border-right,.border-top,.resize-bottom,.resize-left,.resize-right,.resize-top{background-color:transparent;opacity:0;transition:opacity .3s ease}.border-bottom,.border-top,.resize-bottom,.resize-top{position:absolute;height:10px;width:100%}.resize-bottom,.resize-top{cursor:ns-resize}.border-top{top:0;border-top-width:1px}.resize-top{top:0}.resize-top.resize-center,.resize-top.resize-left,.resize-top.resize-right{margin-top:-3px;width:5px;height:5px;border-width:0;border-style:solid}.resize-top.resize-center.inner,.resize-top.resize-left.inner,.resize-top.resize-right.inner{width:16px;height:16px;margin:0;top:-1px;background-color:transparent;border:none}.resize-top.resize-right{margin-right:-3px;margin-top:-3px;cursor:nesw-resize}.resize-top.resize-right.inner{right:-1px}.resize-top.resize-left{margin-left:-3px;margin-top:-3px;cursor:nwse-resize}.resize-top.resize-left.inner{left:-1px}.resize-top.resize-center{cursor:ns-resize;left:calc(50% + -3px)}.border-bottom{bottom:0;border-bottom-width:1px}.resize-bottom{bottom:0}.resize-bottom.resize-center,.resize-bottom.resize-left,.resize-bottom.resize-right{width:5px;height:5px;margin-bottom:-3px;border-width:0;border-style:solid}.resize-bottom.resize-center.inner,.resize-bottom.resize-left.inner,.resize-bottom.resize-right.inner{width:16px;height:16px;margin:0;background-color:transparent;border:none;top:-10px}.resize-bottom.resize-right{margin-right:-3px;cursor:nwse-resize;top:calc(100% + -3px - 1px)}.resize-bottom.resize-right.inner{right:-1px}.resize-bottom.resize-left{margin-left:-3px;cursor:nesw-resize;top:calc(100% + -3px - 1px)}.resize-bottom.resize-left.inner{left:-1px}.resize-bottom.resize-center{cursor:ns-resize;left:calc(50% + -3px)}.border-left,.border-right,.resize-left,.resize-right{position:absolute;height:100%;width:10px;top:0}.resize-left,.resize-right{cursor:ew-resize}.resize-left.resize-center,.resize-right.resize-center{width:5px;height:5px;top:calc(50% + -3px);border-width:0;border-style:solid;cursor:ew-resize}.border-left{left:0;border-left-width:1px}.resize-left{left:0}.resize-left.resize-center{margin-left:-3px}.border-right{right:0;border-right-width:1px}.resize-right{right:0}.resize-right.resize-center{margin-right:-3px}.resize-active{z-index:3}.resize{z-index:2}.drag-active .resize-active:not(.resize-ghost-element) .resize{display:none}.resize-ghost-element.rectangle>.border-bottom,.resize-ghost-element.rectangle>.border-left,.resize-ghost-element.rectangle>.border-right,.resize-ghost-element.rectangle>.border-top,.resize-ghost-element.rectangle>.resize-bottom,.resize-ghost-element.rectangle>.resize-left,.resize-ghost-element.rectangle>.resize-right,.resize-ghost-element.rectangle>.resize-top{opacity:1}.resize-ghost-element.rectangle>.border-top{border-top-style:solid}.resize-ghost-element.rectangle>.border-bottom{border-bottom-style:solid}.resize-ghost-element.rectangle>.border-left{border-left-style:solid}.resize-ghost-element.rectangle>.border-right{border-right-style:solid}.resize-ghost-element .rectangle.focused>.resize,.resize-ghost-element .settings-list{opacity:0}"],encapsulation:2,changeDetection:0}),e})(),rR=(()=>{class e extends Us{}return e.ɵfac=function(){let t;return function(n){return(t||(t=l["ɵɵgetInheritedFactory"](e)))(n||e)}}(),e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["crt-designer-grid-hovered-cell"]],features:[l["ɵɵInheritDefinitionFeature"]],decls:1,vars:0,consts:[[1,"selected-grid-item"]],template:function(e,t){1&e&&l["ɵɵelement"](0,"div",0)},styles:[".selected-grid-item[_ngcontent-%COMP%]{height:100%;border-radius:7px}"],changeDetection:0}),e})();function aR(e,t){1&e&&(l["ɵɵelementStart"](0,"div",1),l["ɵɵlistener"]("mouseenter",(function(e){return e.stopPropagation()})),l["ɵɵelementEnd"]())}let oR=(()=>{class e{set item({type:e}){var t;const n=Ws.designElementRegistrationInfos.get(e);this.visible=n&&!(null===(t=n.designControlConfig)||void 0===t?void 0:t.allowDesignContent)}}return e.ɵfac=function(t){return new(t||e)},e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["crt-block-events-layer"]],inputs:{item:"item"},decls:1,vars:1,consts:[["class","block-events-layer",3,"mouseenter",4,"ngIf"],[1,"block-events-layer",3,"mouseenter"]],template:function(e,t){1&e&&l["ɵɵtemplate"](0,aR,1,0,"div",0),2&e&&l["ɵɵproperty"]("ngIf",t.visible)},directives:[o.NgIf],styles:[".block-events-layer[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;top:0;left:0}"]}),e})();var sR=n(99642);let lR=(()=>{class e{constructor(e,t,n){this._designerOverlayService=e,this._templateRef=t,this._elementRef=n,this.visible=!1}ngOnChanges(e){const t=e.visible;!0===t.previousValue&&!1===t.currentValue&&this._designerOverlayService.remove(this._templateRef),this.visible&&this._designerOverlayService.add(this._elementRef,this._templateRef)}ngOnDestroy(){this._designerOverlayService.remove(this._templateRef)}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](Rj),l["ɵɵdirectiveInject"](l.TemplateRef),l["ɵɵdirectiveInject"](l.ElementRef))},e.ɵdir=l["ɵɵdefineDirective"]({type:e,selectors:[["","crtDesignerOverlayContainer",""]],inputs:{visible:["crtDesignerOverlayContainer","visible"]},features:[l["ɵɵNgOnChangesFeature"]]}),e})();function cR(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵelementStart"](0,"div",4),l["ɵɵlistener"]("mousedown",(function(t){const n=l["ɵɵrestoreView"](e).$implicit;return l["ɵɵnextContext"](2).onSettingsElementClick(t,n.type)})),l["ɵɵelement"](1,"mat-icon",5),l["ɵɵelementEnd"]()}if(2&e){const e=t.$implicit;l["ɵɵadvance"](1),l["ɵɵproperty"]("svgIcon",e.iconName)("title",e.title),l["ɵɵattribute"]("data-item-marker",e.type)}}function dR(e,t){if(1&e&&(l["ɵɵelementStart"](0,"div",2),l["ɵɵtemplate"](1,cR,2,3,"div",3),l["ɵɵelementEnd"]()),2&e){const e=l["ɵɵnextContext"]();l["ɵɵadvance"](1),l["ɵɵproperty"]("ngForOf",e.items)}}const uR=["*"];let pR=(()=>{class e{constructor(e,t,n,i){this._matIconRegistry=e,this._domSanitizer=t,this._platform=n,this._translateService=i,this.visible=!1,this.canCopy=!0,this.action=new l.EventEmitter,this.focusChange=new l.EventEmitter}get items(){const e=[{iconName:"gears-icon",type:TA.Edit,title:this._translateService.instant("InterfaceDesigner.DesignElementSetting.SettingsTitle")},{iconName:"delete-icon",type:TA.Delete,title:this._translateService.instant("InterfaceDesigner.DesignElementSetting.DeleteTitle")}];return this.canCopy&&e.splice(1,0,{iconName:"copy-icon",type:TA.Copy,title:this._translateService.instant("InterfaceDesigner.DesignElementSetting.DuplicateTitle")}),e}_registerIcons(){this.items.forEach((e=>{this._matIconRegistry.addSvgIconLiteral(e.iconName,this._domSanitizer.bypassSecurityTrustHtml(n(35106)(`./${e.iconName}.svg`)))}))}ngOnInit(){this._registerIcons()}onSettingsElementClick(e,t){e.stopPropagation(),this.action.emit(t)}onDoubleElementClick(e){e.stopPropagation(),this.action.emit(TA.Edit)}onMouseDown(e){e.stopPropagation()}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](St.jv),l["ɵɵdirectiveInject"](i.DomSanitizer),l["ɵɵdirectiveInject"](sR.t4),l["ɵɵdirectiveInject"](u.sK))},e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["crt-design-element-setting"]],inputs:{visible:"visible",canCopy:"canCopy",item:"item"},outputs:{action:"action",focusChange:"focusChange"},ngContentSelectors:uR,decls:3,vars:1,consts:[[1,"settings-container","light-blue-green-theme",3,"dblclick"],["class","settings-list",4,"crtDesignerOverlayContainer"],[1,"settings-list"],["class","settings-element",3,"mousedown",4,"ngFor","ngForOf"],[1,"settings-element",3,"mousedown"],[1,"settings-element-icon",3,"svgIcon","title"]],template:function(e,t){1&e&&(l["ɵɵprojectionDef"](),l["ɵɵelementStart"](0,"div",0),l["ɵɵlistener"]("dblclick",(function(e){return t.onDoubleElementClick(e)})),l["ɵɵtemplate"](1,dR,2,1,"div",1),l["ɵɵprojection"](2),l["ɵɵelementEnd"]()),2&e&&(l["ɵɵadvance"](1),l["ɵɵproperty"]("crtDesignerOverlayContainer",t.visible))},directives:[lR,o.NgForOf,St.Hw],styles:["[_nghost-%COMP%]{width:100%;height:100%}.settings-container[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;margin:auto}.settings-list[_ngcontent-%COMP%]{top:-48px;position:absolute;right:0;padding:2px;height:auto;min-height:36px;text-align:right;border-radius:4px;opacity:.92;display:flex;align-items:flex-end;justify-content:flex-end}.settings-list[_ngcontent-%COMP%]   .settings-element[_ngcontent-%COMP%]{padding:10px;height:16px;width:16px;border-radius:3px;cursor:pointer}.settings-list[_ngcontent-%COMP%]   .settings-element[_ngcontent-%COMP%]   .settings-element-icon[_ngcontent-%COMP%]{width:16px;height:16px}"],changeDetection:0}),e})();var mR;const hR=["canvas"],gR=["hoveredCell"],fR=["designerElement"];function vR(e,t){if(1&e&&l["ɵɵelement"](0,"crt-designer-grid-column",7),2&e){const e=t.$implicit,n=l["ɵɵnextContext"]();l["ɵɵproperty"]("ngStyle",n.getItemLayout(null==e?null:e.layoutConfig))}}function bR(e,t){if(1&e&&l["ɵɵelement"](0,"crt-designer-grid-row",7),2&e){const e=t.$implicit,n=l["ɵɵnextContext"]();l["ɵɵproperty"]("ngStyle",n.getItemLayout(null==e?null:e.layoutConfig))}}function CR(e,t){if(1&e&&l["ɵɵelement"](0,"crt-designer-grid-cell",8),2&e){const e=t.$implicit,n=l["ɵɵnextContext"]();l["ɵɵproperty"]("ngStyle",n.getItemLayout(null==e?null:e.layoutConfig))("row",e.layoutConfig.row)("column",e.layoutConfig.column)("minHeight",n.minCellHeight)("visibility",n.isVisibleCell(null==e?null:e.layoutConfig))}}function yR(e,t){1&e&&l["ɵɵelement"](0,"div")}function wR(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵelementStart"](0,"div",9,10),l["ɵɵlistener"]("cdkDragStarted",(function(){const t=l["ɵɵrestoreView"](e).$implicit;return l["ɵɵnextContext"]().onDragStarted(t)}))("cdkDragEntered",(function(t){l["ɵɵrestoreView"](e);return l["ɵɵnextContext"]().onDragEntered(t)}))("cdkDragDropped",(function(t){const n=l["ɵɵrestoreView"](e).$implicit;return l["ɵɵnextContext"]().onDragDropped(t,n)}))("cdkDragMoved",(function(t){const n=l["ɵɵrestoreView"](e).$implicit;return l["ɵɵnextContext"]().onDragMoved(t,n)}))("cdkDragExited",(function(){const t=l["ɵɵrestoreView"](e).$implicit;return l["ɵɵnextContext"]().onDragExited(t)}))("cdkDragEnded",(function(){const t=l["ɵɵrestoreView"](e).$implicit;return l["ɵɵnextContext"]().onDragEnded(t)}))("mouseover",(function(t){const n=l["ɵɵrestoreView"](e).$implicit;return l["ɵɵnextContext"]().onDragMouseOver(t,n)}))("mouseleave",(function(){l["ɵɵrestoreView"](e);return l["ɵɵnextContext"]().onDragMouseLeave()}))("mousedown",(function(t){const n=l["ɵɵrestoreView"](e).$implicit;return l["ɵɵnextContext"]().onDragMouseDown(t,n)})),l["ɵɵtemplate"](2,yR,1,0,"div",11),l["ɵɵelementStart"](3,"crt-design-element-setting",12),l["ɵɵlistener"]("action",(function(t){const n=l["ɵɵrestoreView"](e).$implicit;return l["ɵɵnextContext"]().handleElementSettingAction(t,n)})),l["ɵɵelementStart"](4,"crt-designer-grid-resizable-item",13),l["ɵɵlistener"]("resizeStart",(function(){const t=l["ɵɵrestoreView"](e).$implicit;return l["ɵɵnextContext"]().onResizeStart(t.name)}))("resizing",(function(t){const n=l["ɵɵrestoreView"](e).$implicit;return l["ɵɵnextContext"]().onResizing(t,n)}))("resizeEnd",(function(t){const n=l["ɵɵrestoreView"](e).$implicit;return l["ɵɵnextContext"]().onLayoutConfigChanged(t,n)})),l["ɵɵelementContainer"](5,14),l["ɵɵelement"](6,"crt-block-events-layer",15),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵelementEnd"]()}if(2&e){const e=t.$implicit,n=l["ɵɵnextContext"]();l["ɵɵclassProp"]("focused",e.selected)("drag-active",n.dragActive),l["ɵɵproperty"]("ngStyle",n.dragItemStyle())("cdkDragData",n.getDragData(e)),l["ɵɵattribute"]("item-name",e.name)("data-flip-key",e.name),l["ɵɵadvance"](3),l["ɵɵproperty"]("item",e)("visible",e.selected),l["ɵɵadvance"](1),l["ɵɵproperty"]("layoutConfig",null==e?null:e.layoutConfig)("name",null==e?null:e.name)("columnSizes",n.columnSizes)("rowSizes",n.rowSizes)("intersectRatio",n.intersectionRatio)("gap",n.gapData)("dragActive",n.dragActive)("focused",e.selected),l["ɵɵadvance"](1),l["ɵɵproperty"]("crtViewElement",e),l["ɵɵadvance"](1),l["ɵɵproperty"]("item",e)}}let _R=mR=class extends Zb{constructor(e){super(e),this.injector=e,this._defaultGap=0,this._additionalRowCount=5,this._animationDuration=250,this._affectedItems=new Set,this._disableGridAnimation=!1,this._oldDesignerItems=[],this._selectionChanged$=new h.Subject,this._droppedNewItem$=new h.Subject,this._placeholderCache=null,this._dragging=!1,this._resizing=!1,this._alwaysVisibleCell=!1,this.columnSizes=[],this.rowSizes=[],this.intersectionRatio=.4,this.auxRowItems=[],this.auxColumnItems=[],this.auxCellItems=[],this.designerItems=[],this.connectedDropList=[],this.fillRowsMode=!1,this.visibilityCells=!1,this._getCopyLayoutConfig=e=>({column:e.column,colSpan:e.colSpan,rowSpan:e.rowSpan,row:e.row+e.rowSpan}),this._positionApplierService=this.injector.get(Xj),this._auxiliaryItemsService=this.injector.get(eA),this._metaItemDesignerService=this.injector.get(LN),this._designerGridMatrixService=this.injector.get(iA),this._shouldLiftGridElements=this.injector.get(kA),this._designerSchemaService=this.injector.get(nO),this._commandFactoryService=this.injector.get(HN),this._connectedDropListService=this.injector.get(eO),this._gridLayoutConfigPositionResolverService=this.injector.get(aA),this._designerContainerService=this.injector.get(Nj),this._designerOverlayService=this.injector.get(Rj),this._viewCommandExecutor=this.injector.get(ZN)}get _canvasElement(){return this.canvasElRef.nativeElement}get rowGap(){return this._getRowGap()||0}get columnGap(){return this._getColumnGap()||0}get dragActive(){return Boolean(this.selection)}set selection(e){this._selection=e,this._applyHoveredCellLayoutStyle()}get selection(){return this._selection}static _isLayoutConfigChanged(e,t){return!(!e||!t)&&(void 0!==t.row&&e.row!==t.row||void 0!==t.column&&e.column!==t.column||void 0!==t.rowSpan&&e.rowSpan!==t.rowSpan||void 0!==t.colSpan&&e.colSpan!==t.colSpan)}static _applyElementStyles(e,t){for(const[n,i]of Object.entries(t))e.style[n]=i}_initFeatures(){return(0,a.mG)(this,void 0,void 0,(function*(){let e;[e,this._disableGridAnimation,this._disableNewResolveConflicts]=yield this.featureService.getFeaturesState(["DisableLiftGridElements","DisableGridAnimation","DisableNewResolveConflicts"]).toPromise(),this._shouldLiftGridElements=!e&&this._shouldLiftGridElements}))}_initConnectedDropList(){this._connectedDropListService.connectedDropList$.pipe((0,g.U)((e=>e.filter((e=>e!==this.id))))).subscribe({next:e=>this._replace(this.connectedDropList,e)}),this._connectedDropListService.add(this.id)}_setGridItemSizes(){const e=this.columnsElements.map((e=>e.nativeElement.getBoundingClientRect().width)),t=this.rowsElements.map((e=>e.nativeElement.getBoundingClientRect().height));this._replace(this.columnSizes,e),this._replace(this.rowSizes,t)}_getColumnGap(){return this.gapData.column}_getRowGap(){return this.gapData.row}_replace(e,t){e.splice(0,e.length,...t)}_setAuxiliaryElements(e,t){this._replace(this.auxRowItems,this._auxiliaryItemsService.getAuxiliaryRowConfig(t)),this._replace(this.auxColumnItems,this._auxiliaryItemsService.getAuxiliaryColumnsConfig(e)),this._replace(this.auxCellItems,this._auxiliaryItemsService.getAuxiliaryCellsConfig(t,e))}_getDragElementCenter(e){const{width:t,height:n}=e.source.element.nativeElement.getBoundingClientRect(),i=this.rowSizes[0],r=this.columnSizes[0],a=t/2,o=n/2;return{horizontal:Math.abs(r-a),vertical:Math.abs(i-o)}}_getNewContainerItemPosition(e){const{left:t,top:n}=this._canvasElement.getBoundingClientRect(),{x:i,y:r}=e.pointerPosition;let a=i-t,o=r-n+this._canvasElement.scrollTop;const{vertical:s,horizontal:l}=this._getDragElementCenter(e);a-=l,o-=s;const c=tA({currentIndex:0,moved:a,itemsSize:this.columnSizes,gap:this.columnGap,autogenerateSizes:!1,intersectionRatio:this.intersectionRatio})+1;return{row:tA({currentIndex:0,moved:o,itemsSize:this.rowSizes,gap:this.rowGap,autogenerateSizes:!0,intersectionRatio:this.intersectionRatio})+1,column:c}}_getNewItemPosition(e){const{left:t,top:n}=this._canvasElement.getBoundingClientRect(),{x:i,y:r}=e.pointerPosition,[a,o]=[i-t,r-n+this._canvasElement.scrollTop],s=nA({point:a,itemsSize:this.columnSizes,gap:this.columnGap})+1;return{row:nA({point:o,itemsSize:this.rowSizes,gap:this.rowGap,autogenerateSizes:!0})+1,column:s}}_handleOpeningDesigner(){this._metaItemDesignerService.metaItemDesignerClosed$.pipe((0,b.R)(this.destroyed$),(0,Or.B)(),(0,f.h)((e=>this._hasDesignerItem(e)))).subscribe({next:e=>{this._selectItem(e)}})}_hasDesignerItem(e){return this.designerItems.some((t=>t.name===e))}_selectItem(e){const t=this.designerItems.find((t=>t.name===e));t&&!t.selected&&this._designerContainerService.select(t.name),this._designerOverlayService.show()}_clearSelected(){this._designerContainerService.select(null)}_getDOMGridLayoutInfo(){const e=this.window.getComputedStyle(this._canvasElement),t=e.getPropertyValue("grid-template-rows"),n=e.getPropertyValue("grid-template-columns"),i=e.getPropertyValue("row-gap"),r=e.getPropertyValue("column-gap");return{columnCount:n.split(" ").length,rowCount:t.split(" ").length,columnGap:parseFloat(r),rowGap:parseFloat(i)}}_updateGap(e,t){this.gapData={row:t||this._defaultGap,column:e||this._defaultGap}}_getCanvasElHeight(){const e=this.window.getComputedStyle(this._canvasElement);return parseFloat(e.getPropertyValue("height"))}_getPossibleAuxiliaryRowCount(){const e=this._getCanvasElHeight()-(this.rowSizes.reduce(((e,t)=>e+t),0)+this._getRowGap()*(this.rowSizes.length-1));return Math.ceil(e/(this.rowSizes[this.rowSizes.length-1]+this._getRowGap()))}_addAuxiliaryRows(e){if(e<=0)return;const t=[],n=this.auxRowItems[this.auxRowItems.length-1];for(let i=1;i<=e;i++){const e=(0,so.Z)(n);e.layoutConfig.row+=i,t.push(e)}const i=this._auxiliaryItemsService.getAdditionAuxiliaryCellsConfig(t,this.columnsElements.length);this.auxRowItems.push(...t),this.auxCellItems.push(...i)}_updateItemsPosition(){const e=[...this._affectedItems];this._affectedItems.clear();for(const t of this.designerItems)(null==e?void 0:e.includes(t.name))&&this._designerSchemaService.move(t.name,t.layoutConfig)}_updateItemsOrder(){this._designerGridMatrixService.updateItemsOrder(this.name,this.auxRowItems.length,this.auxColumnItems.length,this.designerItems,this.items)}_addAffectedItems(e){e&&this._affectedItems.add(e)}_resolveElementsConflict(e){const t=[];let n="";this._addAffectedItems(e.name);let i=Object.assign({},e.layoutConfig);for(;i;){const r=this._designerGridMatrixService.buildMatrix(this.auxRowItems.length,this.auxColumnItems.length,this.designerItems,e.name,n,this._selectionName);if(t.splice(0,0,...this._designerGridMatrixService.getIntersectionElements(r,i)),this._resolveElementConflict(i,r),n=t.shift(),n){i=this.designerItems.find((e=>e.name===n)).layoutConfig,this._addAffectedItems(n)}else i=null}this._updateGridMatrix()}_setInitialElementPosition(){if(this._beforeDragDesignerItems)for(const e of this._beforeDragDesignerItems){const t=this.designerItems.find((t=>t.name===e.name));(null==t?void 0:t.name)!==this._selectionName&&this._setItemLayoutConfig(t,e.layoutConfig)}}_resolveElementConflict(e,t){this._designerGridMatrixService.iterateLayoutConfigCell(e,((n,i)=>{var r;const a=null===(r=t[n-1])||void 0===r?void 0:r[i-1];if(!a)return;const o=this.designerItems.find((e=>e.name===a)),s=Object.assign({},o.layoutConfig),l=e.rowSpan+(e.row-s.row);let c=s.row-1+s.rowSpan;if(this.fillRowsMode&&(c+=this._additionalRowCount),l>0&&(c+=l),c>t.length){const e=c-t.length,n=c-this.auxRowItems.length;this._addAuxiliaryRows(n),t.push(...qN(e,this.auxColumnItems.length))}for(let e=0;e<l;e++)s.row++,this._resolveElementsConflict({name:a,layoutConfig:Object.assign({},s)});this._designerGridMatrixService.moveMatrixElement(o.layoutConfig,s,a,t),this._setItemLayoutConfig(o,s)}))}_getLayoutConfigsMaxRow(e){const t=e.map((e=>e.layoutConfig)).map((e=>{if(!e)return 1;return e.row+e.rowSpan-1||1}));return t.length>0?Math.max(...t):1}_getValidSelection(e){var t;if(!e)return null;const n=null===(t=this.columnSizes)||void 0===t?void 0:t.length;let i=e.column;const r=e.colSpan;return i+r-1>n&&(i=n-e.colSpan+1),{column:i,colSpan:r,row:e.row,rowSpan:e.rowSpan}}_initAuxiliaryCells(){this._replace(this.auxCellItems,[{name:"DesignerGridCell",type:"DesignerGridCell",layoutConfig:{row:this._getLayoutConfigsMaxRow(this.items),column:1,rowSpan:1,colSpan:1}}])}_getMovingAuxiliaryRows(e){const t=this.fillRowsMode?2:1,n=this.fillRowsMode?this._additionalRowCount:0,i=((null==e?void 0:e.row)+(null==e?void 0:e.rowSpan)||1)-1,r=this.auxRowItems.length,a=i-r+t;return(r-i||0)<t?a>n?a:n:0}_getFreeRowsAbove(e,t,n){const i=this._designerGridMatrixService.buildMatrix(this.auxRowItems.length,this.auxColumnItems.length,t,...n);return this._designerGridMatrixService.getFreeRowsAbove(e,i)}_setUpdatedDesignerItems(e,t){this.designerItems.forEach((n=>{if(t||n.name!==this._selectionName){const t=e.find((({name:e})=>e===n.name));this._setItemLayoutConfig(n,t.layoutConfig)}}))}_processLiftingOnMoving(){if(!this.dragActive)return;const e=(0,so.Z)(this.designerItems),t=e.find((({name:e})=>e===this._selectionName));let n=this._getFreeRowsIgnoringIntersection(this._selectionName,this.selection,e);this.selection=Object.assign(Object.assign({},this.selection),{row:this.selection.row-n}),t&&this._setItemLayoutConfig(t,this.selection);const i=this._moveItemsAbove(e);this._setUpdatedDesignerItems(i,!1),n=this._getFreeRowsIgnoringIntersection(this._selectionName,this.selection,i),this.selection=Object.assign(Object.assign({},this.selection),{row:this.selection.row-n}),this._beforeDragDesignerItems=(0,so.Z)(this.designerItems)}_moveItemsAbove(e){const t=this._designerGridMatrixService.moveItemsAbove(this.auxRowItems.length,this.auxColumnItems.length,e);return this._affectedItems=new Set([...this._affectedItems,...t.affectedItems]),t.layoutConfigs}_getFreeRowsIgnoringIntersection(e,t,n){const i=this._getIntersectionElements(n,e,t);return this._getFreeRowsAbove(t,n,[...i,e])}_getIntersectionElements(e,t,n){return this._designerGridMatrixService.getIntersectionElements(this.auxRowItems.length,this.auxColumnItems.length,e,t,n)}_isResizedFromTopWithLifting(e){var t;const n=e.row>(null===(t=this.selection)||void 0===t?void 0:t.row);return this._shouldLiftGridElements&&n}_setItemLayoutConfig(e,t){e.layoutConfig=Object.assign({},t),this._applyItemLayoutStyle(e)}_applyItemsLayoutStyle(){for(const e of this.designerItems)this._applyItemLayoutStyle(e)}_applyItemLayoutStyle(e){const t=this._findDesignerElementByName(e.name);if(t){const n=this.getItemLayout(e.layoutConfig);mR._applyElementStyles(t,n)}}_findDesignerElementByName(e){var t;return null===(t=this.designerElements.find((t=>t.nativeElement.getAttribute("item-name")===e)))||void 0===t?void 0:t.nativeElement}_applyHoveredCellLayoutStyle(){const e=this.hoveredCell.nativeElement;let t;t=this.selection?Object.assign(Object.assign({},this.getItemLayout(this.selection)),{display:"block"}):{display:"none"},mR._applyElementStyles(e,t)}_initGridAnimation(){this._disableGridAnimation||(this._flipping=new(PA())({selector:()=>{const e=this.designerElements.map((e=>e.nativeElement));return this._selectionName?e.filter((e=>e.getAttribute("item-name")!==this._selectionName)):e},parent:this._canvasElement,easing:"ease-in-out",fill:"forwards",duration:this._animationDuration}))}_prepareGridAnimation(){var e;this._oldDesignerItems=this.designerItems.map((e=>({name:e.name,layoutConfig:(0,so.Z)(e.layoutConfig)}))),null===(e=this._flipping)||void 0===e||e.read()}_executeGridAnimation(){var e;this._designerItemsChanged()&&(null===(e=this._flipping)||void 0===e||e.flip(),this._updateDesignerOverlay())}_updateDesignerOverlay(){setTimeout((()=>{this.window.requestAnimationFrame((()=>{this._designerOverlayService.show()}))}),this._animationDuration)}_designerItemsChanged(){if(this.designerItems.length!==this._oldDesignerItems.length)return!0;return!this.designerItems.every(((e,t)=>{const n=this._oldDesignerItems[t];return e.name===n.name&&(0,Ed.Z)(e.layoutConfig,n.layoutConfig)}))}_subscribeSchemaChanged(){this._designerSchemaService.schemaChanged$.pipe((0,b.R)(this.destroyed$),(0,f.h)((({changes:{viewConfig:e,parentName:t}})=>t===this.name||this._hasDesignerItem(e.name)))).subscribe({next:({changes:{viewConfig:e,operation:t,parentName:n,selectOnCanvas:i}})=>{switch(t){case kp.Insert:this._onAfterInsertViewConfig(e);break;case kp.Update:this._onAfterUpdateViewConfig(e,i);break;case kp.Move:this._onAfterMoveViewConfig(e);break;case kp.Remove:this._onAfterDeleteViewConfig(e);break;case kp.MoveToIndex:return;case kp.MoveToContainer:this._onAfterMoveToContainerViewConfig(e,n)}[kp.Insert,kp.Move,kp.Remove,kp.MoveToContainer].includes(t)&&(this._updateItemsPosition(),this._updateItemsOrder()),this._afterLayoutConfigChanged(),this._updateGridMatrix()}})}_onAfterInsertViewConfig(e){const t=e.layoutConfig,n=this._getMovingAuxiliaryRows(t);if(this._addAuxiliaryRows(n),this._shouldLiftGridElements){const n=this._getFreeRowsIgnoringIntersection(e.name,t,this.designerItems);t.row-=n}this._resolveElementsConflict({name:e.name,layoutConfig:t}),e.layoutConfig=Object.assign({},t),this.designerItems.push(Object.assign(Object.assign({},e),{selected:!1})),this._selectItem(e.name),this.detectChangesAsync()}_onAfterUpdateViewConfig(e,t=!0){const n=this.designerItems.findIndex((t=>t.name===e.name));this.designerItems[n]=Object.assign(Object.assign({},this.designerItems[n]),e),t&&this._selectItem(e.name),this.detectChangesAsync()}_onAfterMoveViewConfig(e){this.designerItems.find((t=>t.name===e.name)).layoutConfig=e.layoutConfig}_onAfterDeleteViewConfig(e){this._prepareGridAnimation();const t=this.designerItems.findIndex((t=>t.name===e.name));this.designerItems.splice(t,1),this._clearSelected(),this._liftDesignerItems(),this._executeGridAnimation(),this.detectChanges()}_onAfterMoveToContainerViewConfig(e,t){if(t===this.name)this.designerItems.push(Object.assign(Object.assign({},e),{selected:!0}));else{const t=this.designerItems.findIndex((t=>t.name===e.name));t>=0&&(this._prepareGridAnimation(),this.designerItems.splice(t,1),this._liftDesignerItems(),this._executeGridAnimation())}this.detectChangesAsync()}_subscribeSchemaSelfChanged(){this._designerSchemaService.schemaChanged$.pipe((0,b.R)(this.destroyed$),(0,f.h)((({changes:{viewConfig:e,operation:t}})=>e.name===this.name&&t===kp.Update))).subscribe((({changes:{viewConfig:e}})=>{this.setValuesFromConfig(e),this.detectChanges(),this._setGridItemSizes();const{columns:t}=e,n=Array.isArray(t)?t.length:1,{rowCount:i,rowGap:r,columnGap:a}=this._getDOMGridLayoutInfo();this._updateGap(a,r),this.columnsElements.length!==n&&this._setAuxiliaryElements(n,i),this.detectChanges()}))}_liftDesignerItems(){if(this._shouldLiftGridElements){const e=this._moveItemsAbove(this.designerItems),t=!0;this._setUpdatedDesignerItems(e,t)}}_initDesignerItems(){var e;const t=this.injector.get(il);this.fillRowsMode=this._designerSchemaService.isRootContainer(this.name)&&this.injector.get(EA,!1);const n=null!==(e=null==t?void 0:t.items)&&void 0!==e?e:[];let i;if(!0===this.gridContainerAllowOverlapFeature){const e=this.columnsElements.length;i=this._positionApplierService.applyExplicitPositions(n,e)}else{const e=this.fixItemsOverlap(n,this._canvasElement);i=e.items,this._affectedItems=new Set([...this._affectedItems,...e.affectedItems])}this.designerItems=YN(i,{selected:!1}),this._configStartIndex=this.designerItems.length,this.detectChanges(),this._initMinCellHeight();const{columnCount:r,rowCount:a,rowGap:o,columnGap:s}=this._getDOMGridLayoutInfo();this._updateGap(s,o),this._setAuxiliaryElements(r,a),this._shouldLiftGridElements&&(i=this._moveItemsAbove(this.designerItems),this.designerItems=YN(i,{selected:!1})),this.detectChanges(),this._subscribeSchemaChanged()}_subscribeSelectedChanged(){this._designerContainerService.selectedChanged$.pipe((0,b.R)(this.destroyed$)).subscribe({next:({name:e})=>{JN(this.designerItems,e)&&this.detectChanges()}})}_subscribeAlwaysVisibleCellChange(){this._designerContainerService.alwaysVisibleCell$.pipe((0,b.R)(this.destroyed$)).subscribe({next:e=>{this._alwaysVisibleCell=e,this.detectChanges()}})}_subscribeDesignerElementsChanges(){this.designerElements.changes.pipe((0,b.R)(this.destroyed$)).subscribe({next:()=>{this._applyItemsLayoutStyle()}})}_subscribeRowElementsChanges(){this.rowsElements.changes.pipe((0,b.R)(this.destroyed$),(0,En.b)((()=>{this._setGridItemSizes()})),(0,rl.g)(0)).subscribe({next:()=>{this.fillRowsMode&&(this._fillCanvasEmptyRows(),this.detectChanges())}})}_fillCanvasEmptyRows(){const e=this._getPossibleAuxiliaryRowCount();this._addAuxiliaryRows(e)}_removeEmptyRows(e){if(this.fillRowsMode)return;const t=[...(null==e?void 0:e.name)?this.designerItems.filter((t=>t.name!==e.name)):this.designerItems];(null==e?void 0:e.layoutConfig)&&t.push({layoutConfig:Object.assign({},e.layoutConfig)});const n=this._getLayoutConfigsMaxRow(t);this.auxRowItems.length>n&&(this.auxRowItems.splice(n),this.auxCellItems.splice(n*this.auxColumnItems.length),this.detectChanges())}_getPlaceholder(){return document.querySelector(".cdk-drag-placeholder")}_syncPlaceholderPosition(){const e=this.hoveredCell.nativeElement.getBoundingClientRect();if(!e)return;const t=this._getPlaceholder();if(!t)return;const n=this._canvasElement.getBoundingClientRect(),i=Math.round(e.x-n.x),r=Math.round(e.y-n.y);t.style.transform=`translate3d(${i}px, ${r}px, 0)`,this._setPlaceholderSize(e)}_setPlaceholderSize(e){const t=this._getPlaceholder();if(!t)return;const{width:n,height:i}=e;t.style.minWidth=`${n}px`,t.style.minHeight=`${i}px`,this._placeholderCache||(this._placeholderCache={width:n,height:i,containerId:this.id})}_resetPlaceholderSize(){this._setPlaceholderSize({height:32,width:32})}_clearPlaceholderCache(){this._placeholderCache=null}_clearTransformStyle(e){const t=e&&this._findDesignerElementByName(e);t&&mR._applyElementStyles(t,{transform:""})}_afterLayoutConfigChanged(){this.selection=null,this._changeSelectionName(null),this._updateContainersVisibility(!1),this._removeEmptyRows()}_onStopMovingItemIntoContainer({container:e,item:t}){var n;const i=(0,h.merge)(this.destroyed$,e.exited,e.dropped),r=null===(n=t.data)||void 0===n?void 0:n.name;t.moved.pipe((0,b.R)(i)).subscribe({next:e=>{var n;const i=this._getMovingItemPosition(e,t),a=this._getMovingItemLayoutConfig(i,r);this.onMoving({layoutConfig:a,name:null===(n=t.data)||void 0===n?void 0:n.name})}})}_getMovingItemLayoutConfig(e,t){const n=this._getItemLayoutConfigByName(t),i={column:null==e?void 0:e.column,row:null==e?void 0:e.row};return n?(i.colSpan=n.colSpan,i.rowSpan=n.rowSpan):(i.colSpan=1,i.rowSpan=1),i}_getItemLayoutConfigByName(e){var t;return null===(t=this.designerItems.find((t=>t.name===e)))||void 0===t?void 0:t.layoutConfig}_getMovingItemPosition(e,{data:t}){let n;if(!t)n=this._getNewItemPosition(e);else{const i=t.name;n=!this.designerItems.some((e=>e.name===i))?this._getNewContainerItemPosition(e):this._getExistingItemPosition(e,i)}return n}_getExistingItemPosition({distance:e},t){const n=this._getItemLayoutConfigByName(t),i=n.column-1,r=n.row-1,a=this._gridLayoutConfigPositionResolverService.getPositionByDistance({columnIndex:i,rowIndex:r,distance:e,columnSizes:this.columnSizes,columnGap:this.columnGap,rowGap:this.rowGap,rowSizes:this.rowSizes,intersectionRatio:this.intersectionRatio});return{column:this._gridLayoutConfigPositionResolverService.getConstrainedColumn({columnsLength:this.columnSizes.length,column:a.column,columnWidth:n.colSpan}),row:a.row}}_processMove(e){this.selection=Object.assign({},e),this._selectionChanged$.next(!0),this._prepareGridAnimation();const t=this._getMovingAuxiliaryRows(this.selection);this._addAuxiliaryRows(t),this._setInitialElementPosition(),this._shouldLiftGridElements&&this._processLiftingOnMoving();const n={name:this._selectionName,layoutConfig:this.selection};this._resolveElementsConflict(n),this._removeEmptyRows(n),this._syncPlaceholderPosition(),this._executeGridAnimation(),this.detectChanges()}_getIntersectionContainer(e){const t=this._getIntersectionElements(this.designerItems,e.name,e.layoutConfig),n=Ws.designElementRegistrationInfos,i=t.map((e=>this.designerItems.find((t=>t.name===e)))).find((e=>{var t,i;return null===(i=null===(t=n.get(e.type))||void 0===t?void 0:t.designControlConfig)||void 0===i?void 0:i.allowDesignContent}));return null==i?void 0:i.name}_runProcessMove({layoutConfig:e,name:t}){if(this._disableNewResolveConflicts)return void this._processMove(e);if(this._getIntersectionContainer({layoutConfig:e,name:t})){this._selectionChanged$.next(!0);const t=(0,h.merge)(this._selectionChanged$,this._droppedNewItem$);(0,h.of)(null).pipe((0,rl.g)(this._animationDuration),(0,b.R)(t)).subscribe({next:()=>{this._processMove(e)}})}else this._processMove(e)}_runCopyCommand(e){const t=Object.assign({},e);return t.layoutConfig=this._getCopyLayoutConfig(e.layoutConfig),this._viewCommandExecutor.copy({viewElement:t}).pipe((0,Pn.w)((e=>e.execute())),(0,b.R)(this.destroyed$)).toPromise()}_getNewLayoutConfig(e,t){const n=t.layoutConfig.column-1,i=t.layoutConfig.row-1,r=this._gridLayoutConfigPositionResolverService.getPositionByDistance({columnIndex:n,rowIndex:i,distance:e,columnSizes:this.columnSizes,columnGap:this.columnGap,rowGap:this.rowGap,rowSizes:this.rowSizes,intersectionRatio:this.intersectionRatio});return{column:this._gridLayoutConfigPositionResolverService.getConstrainedColumn({columnsLength:this.columnSizes.length,column:r.column,columnWidth:t.layoutConfig.colSpan}),row:r.row,rowSpan:t.layoutConfig.rowSpan,colSpan:t.layoutConfig.colSpan}}_changeSelectionName(e){const t=this._selectionName;this._selectionName=e,t===this._selectionName&&e||this._selectionChanged$.next(!0)}_updateContainersVisibility(e){this._designerContainerService.visibility=e}_updateGridMatrix(){this._matrix=this._designerGridMatrixService.buildMatrix(this.auxRowItems.length,this.auxColumnItems.length,this.designerItems,this._selectionName)}_subscribeAuxCellVisibility(){this._designerContainerService.visibility$.pipe((0,b.R)(this.destroyed$)).subscribe((e=>{this._alwaysVisibleCell||this.visibilityCells===e||(this.visibilityCells=e,this.detectChangesAsync())}))}_getAuxCellItemName(e){let t="";const n=this._matrix[e.row-1];return n&&(t=n[e.column-1]),t}_isVisibleAuxCell(e){return""===e&&this.visibilityCells}_subscribeContainerScrolling(){(0,h.fromEvent)(this._canvasElement,"scroll").pipe((0,b.R)(this.destroyed$),(0,Nn.x)()).subscribe((()=>{this._designerOverlayService.hide()}))}_initMinCellHeight(){const e=Array.isArray(this.rows)?this.rows.slice(-1)[0]:this.rows,t=((null==e?void 0:e.match(/\d+px/g))||[]).slice(-1)[0];t&&(this.minCellHeight=t)}_subscribeResize(){this.resizeObserver=this._designerOverlayService.subscribeElementResize(this._canvasElement,(()=>{this._setGridItemSizes()}))}_subscribeKeyEvents(){this.zone=this.injector.get(l.NgZone),this.zone.runOutsideAngular((()=>{this.window.addEventListener("keydown",(e=>(0,a.mG)(this,void 0,void 0,(function*(){return yield this.onKeyDown(e)}))))}))}onKeyDown({code:e,ctrlKey:t,metaKey:n,altKey:i,shiftKey:r}){var a,o;if(document.activeElement!==document.body)return;const s=(t||n)&&!i&&!r;s&&"KeyC"===e&&(this._copyElementInfo=(0,so.Z)(this.designerItems.find((e=>e.selected))));s&&(null===(a=this._copyElementInfo)||void 0===a?void 0:a.name)&&"KeyV"===e&&this._hasDesignerItem(null===(o=this._copyElementInfo)||void 0===o?void 0:o.name)&&this._runCopyCommand(this._copyElementInfo);if("Delete"===e){const e=this.designerItems.filter((e=>e.selected));(0,h.concat)(e.map((e=>this._viewCommandExecutor.remove(e).pipe((0,Pn.w)((e=>e.execute())))))).pipe((0,bE.u)()).subscribe()}}ngAfterViewInit(){return(0,a.mG)(this,void 0,void 0,(function*(){yield this._initFeatures(),this._subscribeRowElementsChanges(),this._subscribeDesignerElementsChanges(),this._subscribeContainerScrolling(),this._initDesignerItems(),this._updateItemsPosition(),this._initGridAnimation(),this._subscribeAuxCellVisibility(),this._updateGridMatrix(),this._subscribeResize(),this._subscribeKeyEvents()}))}ngOnInit(){super.ngOnInit(),this._initAuxiliaryCells(),this._handleOpeningDesigner(),this._subscribeSchemaSelfChanged(),this._subscribeSelectedChanged(),this._subscribeAlwaysVisibleCellChange();const e=this.injector.get(il);this.id=e.id||e.name||this.id||this.name,this.setValuesFromConfig(e),this._initConnectedDropList(),this._designerContainerService.togglePadding$.subscribe({next:()=>{this.visiblePadding=!this.visiblePadding,this.detectChanges()}})}onDropListDropped(e){var t,n,i;return(0,a.mG)(this,void 0,void 0,(function*(){this._dragging=!1;const r=null===(t=e.previousContainer)||void 0===t?void 0:t.data,a=null===(i=null===(n=e.item)||void 0===n?void 0:n.data)||void 0===i?void 0:i.name;if(this._clearTransformStyle(a),this._droppedNewItem$.next(),!this.selection)return;this._beforeDragDesignerItems=null;const o={column:this.selection.column,row:this.selection.row,colSpan:1,rowSpan:1};if(!r){if(this.designerItems.every((e=>e.name!==a))){const t="crt.MoveToContainerCommand",n={name:a,index:e.currentIndex,parentName:this.name,layoutConfig:o};yield GN(this._commandFactoryService,t,n,this.destroyed$),this._updateGridMatrix()}return}const s=r[e.previousIndex],l=s.addCommandTypeName,c={defaultViewConfig:{layoutConfig:o},containerName:this.name,designerTool:s};yield GN(this._commandFactoryService,l,c,this.destroyed$),this._updateContainersVisibility(!1),this._updateGridMatrix()}))}onDropListEntered(e){if(!e.item)return;this._designerContainerService.setHoveredItemName(this.name),this._dragging=!0,this._beforeDragDesignerItems=(0,so.Z)(this.designerItems);e.item&&!e.item.data&&this._clearSelected(),this._onStopMovingItemIntoContainer(e),this._updateContainersVisibility(!0)}onDropListExited(){this._shouldLiftGridElements&&(this._prepareGridAnimation(),this._processLiftingOnMoving(),this._executeGridAnimation()),this._removeEmptyRows({name:this._selectionName}),this._updateGridMatrix(),this.selection=null,this._changeSelectionName(null),this._resetPlaceholderSize(),this._updateContainersVisibility(!1),this._dragging=!1}onResizeStart(e){this._beforeDragDesignerItems=(0,so.Z)(this.designerItems),this._selectItem(e),this._resizing=!0,this._designerContainerService.setHoveredItemName(this.id)}onResizing(e,t){this.visibilityCells=!0,t.selected=!1,this._changeSelectionName(t.name),e=this._getValidSelection(e);!(0,Ed.Z)(this.selection,e)&&this._processMove(e)}getDragData(e){return{name:e.name}}onDragStarted(e){e.dragging=!0,this._dragging=!0,this._updateContainersVisibility(!0),this._beforeDragDesignerItems=(0,so.Z)(this.designerItems),this._selectItem(e.name),this.selection=e.layoutConfig,this._syncPlaceholderPosition(),this._changeSelectionName(e.name)}onDragEntered(e){const t=this._placeholderCache;(null==t?void 0:t.containerId)===e.container.id&&this._setPlaceholderSize(t),this._updateContainersVisibility(!0)}onDragMoved(e,t){const n=this._getNewLayoutConfig(e.distance,t);(0,Ed.Z)(t.currentLayoutConfig,n)||(t.currentLayoutConfig=n,t.dragging&&this.onMoving({layoutConfig:n,name:t.name}))}onDragEnded(e){this._clearPlaceholderCache(),e.dragging=!1}onDragExited(e){this._resetPlaceholderSize(),e.dragging=!1}onMoving({layoutConfig:e,name:t}){e=this._getValidSelection(e),this._changeSelectionName(t);!(0,Ed.Z)(this.selection,e)&&this._runProcessMove({layoutConfig:e,name:t})}onDragDropped(e,t){if(e.container.id===e.previousContainer.id){const n=this._getNewLayoutConfig(e.distance,t);this.onLayoutConfigChanged(n,t)}this._updateGridMatrix(),this._updateContainersVisibility(!1)}onLayoutConfigChanged(e,t){this._beforeDragDesignerItems=null,this._isResizedFromTopWithLifting(e)&&(e.row=this.selection.row),this.visibilityCells=!1,this._resizing=!1,this._selectItem(t.name);if(!mR._isLayoutConfigChanged(t.layoutConfig,e))return this._afterLayoutConfigChanged(),void this._updateGridMatrix();if(t.layoutConfig=Object.assign({},e),this._shouldLiftGridElements){e=Object.assign({},t.layoutConfig);const n=this._getFreeRowsIgnoringIntersection(t.name,e,this.designerItems);e.row-=n,this._resolveElementsConflict({name:t.name,layoutConfig:t.layoutConfig})}this._setItemLayoutConfig(t,e);const n=Object.assign(Object.assign({},t),{layoutConfig:t.layoutConfig});this._affectedItems.delete(n.name),this._designerSchemaService.move(t.name,t.layoutConfig),this._updateGridMatrix()}handleElementSettingAction(e,t){switch(e){case TA.Delete:this._viewCommandExecutor.remove(t).pipe((0,Pn.w)((e=>e.execute()))).subscribe();break;case TA.Edit:t?this._metaItemDesignerService.openMetaItemDesigner(t.type,FN.Edit,{itemConfig:t,type:RN.ViewElement}):this._metaItemDesignerService.openMetaItemDesigner();break;case TA.Copy:this._runCopyCommand(t)}}viewItemIdentifier(e,t){return t.name}onDesignElementSettingClick(e,t){e.stopPropagation(),this._selectItem(t.name)}onContainerMouseDown(){this._designerSchemaService.isRootContainer(this.name)&&this._clearSelected()}onContainerDblClick(e){return(0,a.mG)(this,void 0,void 0,(function*(){this._designerSchemaService.isRootContainer(this.name)&&(e.stopPropagation(),yield this.handleElementSettingAction(TA.Edit,null))}))}onDragMouseDown(e,t){e.stopPropagation(),this._selectItem(t.name)}isVisibleCell(e){if(this._alwaysVisibleCell)return!0;if(this._matrix){const t=this._getAuxCellItemName(e);return this._isVisibleAuxCell(t)}return!1}onDragMouseOver(e,t){this._dragging||this._resizing||(e.stopPropagation(),this._designerContainerService.setHoveredItemName(t.name))}onDragMouseLeave(){this._resizing||this._designerContainerService.setHoveredItemName(null)}dragItemStyle(){if(!this.visiblePadding)return{overflow:"hidden"}}onBindingInitialized(){this.detectChangesAsync()}};_R.ɵfac=function(e){return new(e||_R)(l["ɵɵdirectiveInject"](l.Injector))},_R.ɵcmp=l["ɵɵdefineComponent"]({type:_R,selectors:[["crt-designer-grid-container"]],viewQuery:function(e,t){if(1&e&&(l["ɵɵviewQuery"](hR,7),l["ɵɵviewQuery"](gR,7,l.ElementRef),l["ɵɵviewQuery"](fR,5,l.ElementRef),l["ɵɵviewQuery"](OA,5,l.ElementRef),l["ɵɵviewQuery"](jA,5,l.ElementRef)),2&e){let e;l["ɵɵqueryRefresh"](e=l["ɵɵloadQuery"]())&&(t.canvasElRef=e.first),l["ɵɵqueryRefresh"](e=l["ɵɵloadQuery"]())&&(t.hoveredCell=e.first),l["ɵɵqueryRefresh"](e=l["ɵɵloadQuery"]())&&(t.designerElements=e),l["ɵɵqueryRefresh"](e=l["ɵɵloadQuery"]())&&(t.columnsElements=e),l["ɵɵqueryRefresh"](e=l["ɵɵloadQuery"]())&&(t.rowsElements=e)}},features:[l["ɵɵInheritDefinitionFeature"]],decls:8,vars:11,consts:[["cdkDropList","","cdkDropListAutoScrollStep","5","cdkDropListSortingDisabled","",1,"crt-grid",3,"cdkDropListConnectedTo","id","ngStyle","ngClass","cdkDropListDropped","cdkDropListEntered","cdkDropListExited","mousedown","dblclick"],["canvas",""],[3,"ngStyle",4,"ngFor","ngForOf"],[3,"ngStyle","row","column","minHeight","visibility",4,"ngFor","ngForOf"],[1,"hovered-cell"],["hoveredCell",""],["class","drag-item","cdkDrag","","crtDragCursor","","data-flip-no-scale","",3,"ngStyle","focused","drag-active","cdkDragData","cdkDragStarted","cdkDragEntered","cdkDragDropped","cdkDragMoved","cdkDragExited","cdkDragEnded","mouseover","mouseleave","mousedown",4,"ngFor","ngForOf","ngForTrackBy"],[3,"ngStyle"],[3,"ngStyle","row","column","minHeight","visibility"],["cdkDrag","","crtDragCursor","","data-flip-no-scale","",1,"drag-item",3,"ngStyle","cdkDragData","cdkDragStarted","cdkDragEntered","cdkDragDropped","cdkDragMoved","cdkDragExited","cdkDragEnded","mouseover","mouseleave","mousedown"],["designerElement",""],[4,"cdkDragPlaceholder"],[3,"item","visible","action"],[3,"layoutConfig","name","columnSizes","rowSizes","intersectRatio","gap","dragActive","focused","resizeStart","resizing","resizeEnd"],["crtViewModel","",3,"crtViewElement"],[3,"item"]],template:function(e,t){1&e&&(l["ɵɵelementStart"](0,"div",0,1),l["ɵɵlistener"]("cdkDropListDropped",(function(e){return t.onDropListDropped(e)}))("cdkDropListEntered",(function(e){return t.onDropListEntered(e)}))("cdkDropListExited",(function(){return t.onDropListExited()}))("mousedown",(function(){return t.onContainerMouseDown()}))("dblclick",(function(e){return t.onContainerDblClick(e)})),l["ɵɵtemplate"](2,vR,1,1,"crt-designer-grid-column",2),l["ɵɵtemplate"](3,bR,1,1,"crt-designer-grid-row",2),l["ɵɵtemplate"](4,CR,1,5,"crt-designer-grid-cell",3),l["ɵɵelement"](5,"crt-designer-grid-hovered-cell",4,5),l["ɵɵtemplate"](7,wR,7,20,"div",6),l["ɵɵelementEnd"]()),2&e&&(l["ɵɵclassProp"]("visible-padding",t.visiblePadding),l["ɵɵproperty"]("cdkDropListConnectedTo",t.connectedDropList)("id",t.id)("ngStyle",t.gridStyles)("ngClass",t.classes),l["ɵɵadvance"](2),l["ɵɵproperty"]("ngForOf",t.auxColumnItems),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngForOf",t.auxRowItems),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngForOf",t.auxCellItems),l["ɵɵadvance"](3),l["ɵɵproperty"]("ngForOf",t.designerItems)("ngForTrackBy",t.viewItemIdentifier))},directives:[Yp.Wj,o.NgStyle,o.NgClass,o.NgForOf,rR,OA,jA,NA,Yp.Zt,oA,Yp.Hk,pR,iR,Su,_u,oR],styles:[".drag-item{position:relative}.drag-item:not(.drag-active){cursor:move}.drag-item.cdk-drag-preview{border-style:solid;border-width:1px;box-sizing:content-box;opacity:.8;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}.drag-item.cdk-drag-dragging{height:0;width:0}.cdk-drag.drag-item.cdk-drag-preview .resize,.cdk-drag.drag-item.cdk-drag-preview crt-design-element-setting settings-list{visibility:hidden!important}.canvas-panel>crt-designer-grid-container{height:100%;position:relative}.canvas-panel>crt-designer-grid-container>.crt-grid{position:absolute;padding:6px 16px 16px}.canvas-panel>crt-designer-grid-container:first-child>.crt-grid{padding-top:16px}.visible-padding{padding:6px}.crt-grid{display:grid;overflow:auto;box-sizing:border-box;transition:padding .25s ease}.crt-grid,.crt-grid>.drag-item{width:100%;height:100%}.crt-grid>.cdk-drag-placeholder{visibility:hidden;position:fixed}@media screen and (max-width: 600px){.crt-grid{grid-template-columns:1fr!important}}crt-designer-grid-cell{z-index:0}crt-designer-grid-hovered-cell{z-index:1}.hovered-cell{display:none}"],encapsulation:2,changeDetection:0}),_R=mR=(0,a.gn)([Ks({type:"crt.DesignerGridContainer",overrideType:"crt.GridContainer"}),(0,a.w6)("design:paramtypes",[l.Injector])],_R);let xR=class{};xR.ɵfac=function(e){return new(e||xR)},xR.ɵmod=l["ɵɵdefineNgModule"]({type:xR}),xR.ɵinj=l["ɵɵdefineInjector"]({providers:[eA,iA,Xj,aA,rA,Nj,{provide:kA,useValue:!0}],imports:[[Cy,o.CommonModule,Yp._t,c.u5,St.Ps,c.UX,GI.ym,Pu]]}),xR=(0,a.gn)([(0,r.CrtModule)({viewElements:[_R,OA,jA,NA,rR,oR]})],xR),("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](xR,{declarations:[oR,pR,NA,OA,_R,rR,iR,jA,oA,Aj,lR],imports:[Cy,o.CommonModule,Yp._t,c.u5,St.Ps,c.UX,GI.ym,Pu],exports:[oR,pR,NA,OA,_R,rR,jA,oA]});const IR=function(){return{top:!0}};function SR(e,t){1&e&&(l["ɵɵelementStart"](0,"div",17),l["ɵɵlistener"]("mousedown",(function(e){return e.stopPropagation()})),l["ɵɵelementEnd"]()),2&e&&l["ɵɵproperty"]("resizeEdges",l["ɵɵpureFunction0"](1,IR))}const MR=function(){return{bottom:!0}};function DR(e,t){1&e&&(l["ɵɵelementStart"](0,"div",18),l["ɵɵlistener"]("mousedown",(function(e){return e.stopPropagation()})),l["ɵɵelementEnd"]()),2&e&&l["ɵɵproperty"]("resizeEdges",l["ɵɵpureFunction0"](1,MR))}const PR=function(){return{left:!0}};function TR(e,t){1&e&&(l["ɵɵelementStart"](0,"div",19),l["ɵɵlistener"]("mousedown",(function(e){return e.stopPropagation()})),l["ɵɵelementEnd"]()),2&e&&l["ɵɵproperty"]("resizeEdges",l["ɵɵpureFunction0"](1,PR))}const kR=function(){return{right:!0}};function ER(e,t){1&e&&(l["ɵɵelementStart"](0,"div",20),l["ɵɵlistener"]("mousedown",(function(e){return e.stopPropagation()})),l["ɵɵelementEnd"]()),2&e&&l["ɵɵproperty"]("resizeEdges",l["ɵɵpureFunction0"](1,kR))}const NR=function(){return{top:!0,right:!0}};function OR(e,t){1&e&&(l["ɵɵelementStart"](0,"div",21),l["ɵɵlistener"]("mousedown",(function(e){return e.stopPropagation()})),l["ɵɵelementStart"](1,"div",22),l["ɵɵlistener"]("mousedown",(function(e){return e.stopPropagation()})),l["ɵɵelementEnd"](),l["ɵɵelementEnd"]()),2&e&&(l["ɵɵproperty"]("resizeEdges",l["ɵɵpureFunction0"](2,NR)),l["ɵɵadvance"](1),l["ɵɵproperty"]("resizeEdges",l["ɵɵpureFunction0"](3,NR)))}const jR=function(){return{top:!0,left:!0}};function AR(e,t){1&e&&(l["ɵɵelementStart"](0,"div",23),l["ɵɵlistener"]("mousedown",(function(e){return e.stopPropagation()})),l["ɵɵelementStart"](1,"div",24),l["ɵɵlistener"]("mousedown",(function(e){return e.stopPropagation()})),l["ɵɵelementEnd"](),l["ɵɵelementEnd"]()),2&e&&(l["ɵɵproperty"]("resizeEdges",l["ɵɵpureFunction0"](2,jR)),l["ɵɵadvance"](1),l["ɵɵproperty"]("resizeEdges",l["ɵɵpureFunction0"](3,jR)))}function RR(e,t){1&e&&(l["ɵɵelementStart"](0,"div",25),l["ɵɵlistener"]("mousedown",(function(e){return e.stopPropagation()})),l["ɵɵelementEnd"]()),2&e&&l["ɵɵproperty"]("resizeEdges",l["ɵɵpureFunction0"](1,IR))}const FR=function(){return{bottom:!0,right:!0}};function VR(e,t){1&e&&(l["ɵɵelementStart"](0,"div",26),l["ɵɵlistener"]("mousedown",(function(e){return e.stopPropagation()})),l["ɵɵelementStart"](1,"div",27),l["ɵɵlistener"]("mousedown",(function(e){return e.stopPropagation()})),l["ɵɵelementEnd"](),l["ɵɵelementEnd"]()),2&e&&(l["ɵɵproperty"]("resizeEdges",l["ɵɵpureFunction0"](2,FR)),l["ɵɵadvance"](1),l["ɵɵproperty"]("resizeEdges",l["ɵɵpureFunction0"](3,FR)))}const LR=function(){return{bottom:!0,left:!0}};function zR(e,t){1&e&&(l["ɵɵelementStart"](0,"div",28),l["ɵɵlistener"]("mousedown",(function(e){return e.stopPropagation()})),l["ɵɵelementStart"](1,"div",29),l["ɵɵlistener"]("mousedown",(function(e){return e.stopPropagation()})),l["ɵɵelementEnd"](),l["ɵɵelementEnd"]()),2&e&&(l["ɵɵproperty"]("resizeEdges",l["ɵɵpureFunction0"](2,LR)),l["ɵɵadvance"](1),l["ɵɵproperty"]("resizeEdges",l["ɵɵpureFunction0"](3,LR)))}function BR(e,t){1&e&&(l["ɵɵelementStart"](0,"div",30),l["ɵɵlistener"]("mousedown",(function(e){return e.stopPropagation()})),l["ɵɵelementEnd"]()),2&e&&l["ɵɵproperty"]("resizeEdges",l["ɵɵpureFunction0"](1,MR))}function GR(e,t){1&e&&(l["ɵɵelementStart"](0,"div",31),l["ɵɵlistener"]("mousedown",(function(e){return e.stopPropagation()})),l["ɵɵelementEnd"]()),2&e&&l["ɵɵproperty"]("resizeEdges",l["ɵɵpureFunction0"](1,PR))}function HR(e,t){1&e&&(l["ɵɵelementStart"](0,"div",32),l["ɵɵlistener"]("mousedown",(function(e){return e.stopPropagation()})),l["ɵɵelementEnd"]()),2&e&&l["ɵɵproperty"]("resizeEdges",l["ɵɵpureFunction0"](1,kR))}const UR=["*"];let ZR=(()=>{class e extends AA{constructor(e){super(e),this.injector=e,this._resizableElements=["crt.ChartWidget","crt.IndicatorWidget","crt.FunnelWidget","crt.GaugeWidget","crt.FullPipelineWidget","crt.FolderTree"]}get _isRevert(){return"end"===this.justifyContent}_isValidWith(e,t,n){const i=e>=32,r=!this._isRevert&&this.containerDimension.width>=n,a=this._isRevert&&this.containerDimension.left<=t;return i&&(r||a)}_isValidHeight(e,t){const n=e>=32,i=this._isRevert&&this.containerDimension.top<=t;return n&&(i||!this._isRevert)}_canResizeElement(){return this._resizableElements.includes(this.elementType)}isVisibleEdge(e){switch(e){case"top":return this._isRevert&&this.verticalFlex;case"bottom":return!this._isRevert&&this.verticalFlex;case"right":return!this._isRevert&&!this.verticalFlex;case"left":return this._isRevert&&!this.verticalFlex;default:return!1}}getChangedLayoutConfig(e){return e.rectangle?this.verticalFlex?{height:e.rectangle.height}:{width:e.rectangle.width}:null}validate(e){return this.verticalFlex?this._isValidHeight(e.rectangle.height,e.rectangle.top):this._isValidWith(e.rectangle.width,e.rectangle.left,e.rectangle.right)}canResize(e){return super.canResize(e)&&this._canResizeElement()}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](l.Injector))},e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["crt-designer-flex-resizable-item"]],inputs:{verticalFlex:"verticalFlex",justifyContent:"justifyContent",containerDimension:"containerDimension",elementType:"elementType"},features:[l["ɵɵInheritDefinitionFeature"]],ngContentSelectors:UR,decls:18,vars:19,consts:[["mwlResizable","",1,"rectangle",3,"enableGhostResize","validateResize","resizeCursors","resizeStart","resizing","resizeEnd"],[1,"resize","border-top"],[1,"resize","border-bottom"],[1,"resize","border-right"],[1,"resize","border-left"],["class","resize resize-top","mwlResizeHandle","",3,"resizeEdges","mousedown",4,"ngIf"],["class","resize resize-bottom","mwlResizeHandle","",3,"resizeEdges","mousedown",4,"ngIf"],["class","resize resize-left","mwlResizeHandle","",3,"resizeEdges","mousedown",4,"ngIf"],["class","resize resize-right","mwlResizeHandle","",3,"resizeEdges","mousedown",4,"ngIf"],["class","resize resize-top resize-right","mwlResizeHandle","",3,"resizeEdges","mousedown",4,"ngIf"],["class","resize resize-top resize-left","mwlResizeHandle","",3,"resizeEdges","mousedown",4,"ngIf"],["class","resize resize-top resize-center","mwlResizeHandle","",3,"resizeEdges","mousedown",4,"ngIf"],["class","resize resize-bottom resize-right","mwlResizeHandle","",3,"resizeEdges","mousedown",4,"ngIf"],["class","resize resize-bottom resize-left","mwlResizeHandle","",3,"resizeEdges","mousedown",4,"ngIf"],["class","resize resize-bottom resize-center","mwlResizeHandle","",3,"resizeEdges","mousedown",4,"ngIf"],["class","resize resize-left resize-center","mwlResizeHandle","",3,"resizeEdges","mousedown",4,"ngIf"],["class","resize resize-right resize-center","mwlResizeHandle","",3,"resizeEdges","mousedown",4,"ngIf"],["mwlResizeHandle","",1,"resize","resize-top",3,"resizeEdges","mousedown"],["mwlResizeHandle","",1,"resize","resize-bottom",3,"resizeEdges","mousedown"],["mwlResizeHandle","",1,"resize","resize-left",3,"resizeEdges","mousedown"],["mwlResizeHandle","",1,"resize","resize-right",3,"resizeEdges","mousedown"],["mwlResizeHandle","",1,"resize","resize-top","resize-right",3,"resizeEdges","mousedown"],["mwlResizeHandle","",1,"resize","resize-top","resize-right","inner",3,"resizeEdges","mousedown"],["mwlResizeHandle","",1,"resize","resize-top","resize-left",3,"resizeEdges","mousedown"],["mwlResizeHandle","",1,"resize","resize-top","resize-left","inner",3,"resizeEdges","mousedown"],["mwlResizeHandle","",1,"resize","resize-top","resize-center",3,"resizeEdges","mousedown"],["mwlResizeHandle","",1,"resize","resize-bottom","resize-right",3,"resizeEdges","mousedown"],["mwlResizeHandle","",1,"resize","resize-bottom","resize-right","inner",3,"resizeEdges","mousedown"],["mwlResizeHandle","",1,"resize","resize-bottom","resize-left",3,"resizeEdges","mousedown"],["mwlResizeHandle","",1,"resize","resize-bottom","resize-left","inner",3,"resizeEdges","mousedown"],["mwlResizeHandle","",1,"resize","resize-bottom","resize-center",3,"resizeEdges","mousedown"],["mwlResizeHandle","",1,"resize","resize-left","resize-center",3,"resizeEdges","mousedown"],["mwlResizeHandle","",1,"resize","resize-right","resize-center",3,"resizeEdges","mousedown"]],template:function(e,t){1&e&&(l["ɵɵprojectionDef"](),l["ɵɵelementStart"](0,"div",0),l["ɵɵlistener"]("resizeStart",(function(){return t.onResizeStart()}))("resizing",(function(e){return t.onResizing(e)}))("resizeEnd",(function(e){return t.onResizeEnd(e)})),l["ɵɵprojection"](1),l["ɵɵelement"](2,"div",1),l["ɵɵelement"](3,"div",2),l["ɵɵelement"](4,"div",3),l["ɵɵelement"](5,"div",4),l["ɵɵtemplate"](6,SR,1,2,"div",5),l["ɵɵtemplate"](7,DR,1,2,"div",6),l["ɵɵtemplate"](8,TR,1,2,"div",7),l["ɵɵtemplate"](9,ER,1,2,"div",8),l["ɵɵtemplate"](10,OR,2,4,"div",9),l["ɵɵtemplate"](11,AR,2,4,"div",10),l["ɵɵtemplate"](12,RR,1,2,"div",11),l["ɵɵtemplate"](13,VR,2,4,"div",12),l["ɵɵtemplate"](14,zR,2,4,"div",13),l["ɵɵtemplate"](15,BR,1,2,"div",14),l["ɵɵtemplate"](16,GR,1,2,"div",15),l["ɵɵtemplate"](17,HR,1,2,"div",16),l["ɵɵelementEnd"]()),2&e&&(l["ɵɵclassProp"]("drag-active",t.dragActive)("focused",t.focused),l["ɵɵproperty"]("enableGhostResize",!0)("validateResize",t.validate.bind(t))("resizeCursors",t.cursors),l["ɵɵadvance"](6),l["ɵɵproperty"]("ngIf",t.canResize("top")),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",t.canResize("bottom")),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",t.canResize("left")),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",t.canResize("right")),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",t.canResize("top right")),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",t.canResize("top left")),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",t.canResize("top")),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",t.canResize("bottom right")),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",t.canResize("bottom left")),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",t.canResize("bottom")),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",t.canResize("left")),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",t.canResize("right")))},directives:[GI.E$,o.NgIf,GI.mC],styles:["[_nghost-%COMP%]{width:100%;height:100%}.rectangle[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;margin:auto}.rectangle.hovered[_ngcontent-%COMP%] > .resize-bottom.resize-center[_ngcontent-%COMP%], .rectangle.hovered[_ngcontent-%COMP%] > .resize-bottom.resize-left[_ngcontent-%COMP%], .rectangle.hovered[_ngcontent-%COMP%] > .resize-bottom.resize-right[_ngcontent-%COMP%], .rectangle.hovered[_ngcontent-%COMP%] > .resize-left.resize-center[_ngcontent-%COMP%], .rectangle.hovered[_ngcontent-%COMP%] > .resize-right.resize-center[_ngcontent-%COMP%], .rectangle.hovered[_ngcontent-%COMP%] > .resize-top.resize-center[_ngcontent-%COMP%], .rectangle.hovered[_ngcontent-%COMP%] > .resize-top.resize-left[_ngcontent-%COMP%], .rectangle.hovered[_ngcontent-%COMP%] > .resize-top.resize-right[_ngcontent-%COMP%], .rectangle.resize-active[_ngcontent-%COMP%] > .resize-bottom.resize-center[_ngcontent-%COMP%], .rectangle.resize-active[_ngcontent-%COMP%] > .resize-bottom.resize-left[_ngcontent-%COMP%], .rectangle.resize-active[_ngcontent-%COMP%] > .resize-bottom.resize-right[_ngcontent-%COMP%], .rectangle.resize-active[_ngcontent-%COMP%] > .resize-left.resize-center[_ngcontent-%COMP%], .rectangle.resize-active[_ngcontent-%COMP%] > .resize-right.resize-center[_ngcontent-%COMP%], .rectangle.resize-active[_ngcontent-%COMP%] > .resize-top.resize-center[_ngcontent-%COMP%], .rectangle.resize-active[_ngcontent-%COMP%] > .resize-top.resize-left[_ngcontent-%COMP%], .rectangle.resize-active[_ngcontent-%COMP%] > .resize-top.resize-right[_ngcontent-%COMP%]{border-width:1px}.rectangle.hovered[_ngcontent-%COMP%] > .border-bottom[_ngcontent-%COMP%], .rectangle.hovered[_ngcontent-%COMP%] > .border-left[_ngcontent-%COMP%], .rectangle.hovered[_ngcontent-%COMP%] > .border-right[_ngcontent-%COMP%], .rectangle.hovered[_ngcontent-%COMP%] > .border-top[_ngcontent-%COMP%], .rectangle.hovered[_ngcontent-%COMP%] > .resize-bottom[_ngcontent-%COMP%], .rectangle.hovered[_ngcontent-%COMP%] > .resize-left[_ngcontent-%COMP%], .rectangle.hovered[_ngcontent-%COMP%] > .resize-right[_ngcontent-%COMP%], .rectangle.hovered[_ngcontent-%COMP%] > .resize-top[_ngcontent-%COMP%], .rectangle.resize-active[_ngcontent-%COMP%] > .border-bottom[_ngcontent-%COMP%], .rectangle.resize-active[_ngcontent-%COMP%] > .border-left[_ngcontent-%COMP%], .rectangle.resize-active[_ngcontent-%COMP%] > .border-right[_ngcontent-%COMP%], .rectangle.resize-active[_ngcontent-%COMP%] > .border-top[_ngcontent-%COMP%], .rectangle.resize-active[_ngcontent-%COMP%] > .resize-bottom[_ngcontent-%COMP%], .rectangle.resize-active[_ngcontent-%COMP%] > .resize-left[_ngcontent-%COMP%], .rectangle.resize-active[_ngcontent-%COMP%] > .resize-right[_ngcontent-%COMP%], .rectangle.resize-active[_ngcontent-%COMP%] > .resize-top[_ngcontent-%COMP%]{opacity:1}.rectangle.hovered[_ngcontent-%COMP%] > .border-top[_ngcontent-%COMP%], .rectangle.resize-active[_ngcontent-%COMP%] > .border-top[_ngcontent-%COMP%]{border-top-style:dashed}.rectangle.hovered[_ngcontent-%COMP%] > .border-bottom[_ngcontent-%COMP%], .rectangle.resize-active[_ngcontent-%COMP%] > .border-bottom[_ngcontent-%COMP%]{border-bottom-style:dashed}.rectangle.hovered[_ngcontent-%COMP%] > .border-left[_ngcontent-%COMP%], .rectangle.resize-active[_ngcontent-%COMP%] > .border-left[_ngcontent-%COMP%]{border-left-style:dashed}.rectangle.hovered[_ngcontent-%COMP%] > .border-right[_ngcontent-%COMP%], .rectangle.resize-active[_ngcontent-%COMP%] > .border-right[_ngcontent-%COMP%]{border-right-style:dashed}.rectangle.focused[_ngcontent-%COMP%] > .resize-bottom.resize-center[_ngcontent-%COMP%], .rectangle.focused[_ngcontent-%COMP%] > .resize-bottom.resize-left[_ngcontent-%COMP%], .rectangle.focused[_ngcontent-%COMP%] > .resize-bottom.resize-right[_ngcontent-%COMP%], .rectangle.focused[_ngcontent-%COMP%] > .resize-left.resize-center[_ngcontent-%COMP%], .rectangle.focused[_ngcontent-%COMP%] > .resize-right.resize-center[_ngcontent-%COMP%], .rectangle.focused[_ngcontent-%COMP%] > .resize-top.resize-center[_ngcontent-%COMP%], .rectangle.focused[_ngcontent-%COMP%] > .resize-top.resize-left[_ngcontent-%COMP%], .rectangle.focused[_ngcontent-%COMP%] > .resize-top.resize-right[_ngcontent-%COMP%]{border-width:1px}.rectangle.focused[_ngcontent-%COMP%] > .border-bottom[_ngcontent-%COMP%], .rectangle.focused[_ngcontent-%COMP%] > .border-left[_ngcontent-%COMP%], .rectangle.focused[_ngcontent-%COMP%] > .border-right[_ngcontent-%COMP%], .rectangle.focused[_ngcontent-%COMP%] > .border-top[_ngcontent-%COMP%], .rectangle.focused[_ngcontent-%COMP%] > .resize-bottom[_ngcontent-%COMP%], .rectangle.focused[_ngcontent-%COMP%] > .resize-left[_ngcontent-%COMP%], .rectangle.focused[_ngcontent-%COMP%] > .resize-right[_ngcontent-%COMP%], .rectangle.focused[_ngcontent-%COMP%] > .resize-top[_ngcontent-%COMP%]{opacity:1}.rectangle.focused[_ngcontent-%COMP%] > .border-top[_ngcontent-%COMP%]{border-top-style:solid}.rectangle.focused[_ngcontent-%COMP%] > .border-bottom[_ngcontent-%COMP%]{border-bottom-style:solid}.rectangle.focused[_ngcontent-%COMP%] > .border-left[_ngcontent-%COMP%]{border-left-style:solid}.rectangle.focused[_ngcontent-%COMP%] > .border-right[_ngcontent-%COMP%]{border-right-style:solid}.border-bottom[_ngcontent-%COMP%], .border-left[_ngcontent-%COMP%], .border-right[_ngcontent-%COMP%], .border-top[_ngcontent-%COMP%]{box-sizing:border-box}.border-bottom[_ngcontent-%COMP%], .border-left[_ngcontent-%COMP%], .border-right[_ngcontent-%COMP%], .border-top[_ngcontent-%COMP%], .resize-bottom[_ngcontent-%COMP%], .resize-left[_ngcontent-%COMP%], .resize-right[_ngcontent-%COMP%], .resize-top[_ngcontent-%COMP%]{background-color:transparent;opacity:0;transition:opacity .3s ease}.border-bottom[_ngcontent-%COMP%], .border-top[_ngcontent-%COMP%], .resize-bottom[_ngcontent-%COMP%], .resize-top[_ngcontent-%COMP%]{position:absolute;height:10px;width:100%}.resize-bottom[_ngcontent-%COMP%], .resize-top[_ngcontent-%COMP%]{cursor:ns-resize}.border-top[_ngcontent-%COMP%]{top:0;border-top-width:1px}.resize-top[_ngcontent-%COMP%]{top:0}.resize-top.resize-center[_ngcontent-%COMP%], .resize-top.resize-left[_ngcontent-%COMP%], .resize-top.resize-right[_ngcontent-%COMP%]{margin-top:-3px;width:5px;height:5px;border-width:0;border-style:solid}.resize-top.resize-center.inner[_ngcontent-%COMP%], .resize-top.resize-left.inner[_ngcontent-%COMP%], .resize-top.resize-right.inner[_ngcontent-%COMP%]{width:16px;height:16px;margin:0;top:-1px;background-color:transparent;border:none}.resize-top.resize-right[_ngcontent-%COMP%]{margin-right:-3px;margin-top:-3px;cursor:nesw-resize}.resize-top.resize-right.inner[_ngcontent-%COMP%]{right:-1px}.resize-top.resize-left[_ngcontent-%COMP%]{margin-left:-3px;margin-top:-3px;cursor:nwse-resize}.resize-top.resize-left.inner[_ngcontent-%COMP%]{left:-1px}.resize-top.resize-center[_ngcontent-%COMP%]{cursor:ns-resize;left:calc(50% + -3px)}.border-bottom[_ngcontent-%COMP%]{bottom:0;border-bottom-width:1px}.resize-bottom[_ngcontent-%COMP%]{bottom:0}.resize-bottom.resize-center[_ngcontent-%COMP%], .resize-bottom.resize-left[_ngcontent-%COMP%], .resize-bottom.resize-right[_ngcontent-%COMP%]{width:5px;height:5px;margin-bottom:-3px;border-width:0;border-style:solid}.resize-bottom.resize-center.inner[_ngcontent-%COMP%], .resize-bottom.resize-left.inner[_ngcontent-%COMP%], .resize-bottom.resize-right.inner[_ngcontent-%COMP%]{width:16px;height:16px;margin:0;background-color:transparent;border:none;top:-10px}.resize-bottom.resize-right[_ngcontent-%COMP%]{margin-right:-3px;cursor:nwse-resize;top:calc(100% + -3px - 1px)}.resize-bottom.resize-right.inner[_ngcontent-%COMP%]{right:-1px}.resize-bottom.resize-left[_ngcontent-%COMP%]{margin-left:-3px;cursor:nesw-resize;top:calc(100% + -3px - 1px)}.resize-bottom.resize-left.inner[_ngcontent-%COMP%]{left:-1px}.resize-bottom.resize-center[_ngcontent-%COMP%]{cursor:ns-resize;left:calc(50% + -3px)}.border-left[_ngcontent-%COMP%], .border-right[_ngcontent-%COMP%], .resize-left[_ngcontent-%COMP%], .resize-right[_ngcontent-%COMP%]{position:absolute;height:100%;width:10px;top:0}.resize-left[_ngcontent-%COMP%], .resize-right[_ngcontent-%COMP%]{cursor:ew-resize}.resize-left.resize-center[_ngcontent-%COMP%], .resize-right.resize-center[_ngcontent-%COMP%]{width:5px;height:5px;top:calc(50% + -3px);border-width:0;border-style:solid;cursor:ew-resize}.border-left[_ngcontent-%COMP%]{left:0;border-left-width:1px}.resize-left[_ngcontent-%COMP%]{left:0}.resize-left.resize-center[_ngcontent-%COMP%]{margin-left:-3px}.border-right[_ngcontent-%COMP%]{right:0;border-right-width:1px}.resize-right[_ngcontent-%COMP%]{right:0}.resize-right.resize-center[_ngcontent-%COMP%]{margin-right:-3px}.resize-active[_ngcontent-%COMP%]{z-index:3}.resize[_ngcontent-%COMP%]{z-index:2}.drag-active[_ngcontent-%COMP%]   .resize-active[_ngcontent-%COMP%]:not(.resize-ghost-element)   .resize[_ngcontent-%COMP%]{display:none}.resize-ghost-element.rectangle[_ngcontent-%COMP%] > .border-bottom[_ngcontent-%COMP%], .resize-ghost-element.rectangle[_ngcontent-%COMP%] > .border-left[_ngcontent-%COMP%], .resize-ghost-element.rectangle[_ngcontent-%COMP%] > .border-right[_ngcontent-%COMP%], .resize-ghost-element.rectangle[_ngcontent-%COMP%] > .border-top[_ngcontent-%COMP%], .resize-ghost-element.rectangle[_ngcontent-%COMP%] > .resize-bottom[_ngcontent-%COMP%], .resize-ghost-element.rectangle[_ngcontent-%COMP%] > .resize-left[_ngcontent-%COMP%], .resize-ghost-element.rectangle[_ngcontent-%COMP%] > .resize-right[_ngcontent-%COMP%], .resize-ghost-element.rectangle[_ngcontent-%COMP%] > .resize-top[_ngcontent-%COMP%]{opacity:1}.resize-ghost-element.rectangle[_ngcontent-%COMP%] > .border-top[_ngcontent-%COMP%]{border-top-style:solid}.resize-ghost-element.rectangle[_ngcontent-%COMP%] > .border-bottom[_ngcontent-%COMP%]{border-bottom-style:solid}.resize-ghost-element.rectangle[_ngcontent-%COMP%] > .border-left[_ngcontent-%COMP%]{border-left-style:solid}.resize-ghost-element.rectangle[_ngcontent-%COMP%] > .border-right[_ngcontent-%COMP%]{border-right-style:solid}.resize-ghost-element[_ngcontent-%COMP%]   .rectangle.focused[_ngcontent-%COMP%] > .resize[_ngcontent-%COMP%], .resize-ghost-element[_ngcontent-%COMP%]   .settings-list[_ngcontent-%COMP%]{opacity:0}"],changeDetection:0}),e})();const $R=["canvas"],WR=["designerElement"];function qR(e,t){1&e&&l["ɵɵelement"](0,"div")}function YR(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵelementStart"](0,"div",3,4),l["ɵɵlistener"]("cdkDragStarted",(function(t){const n=l["ɵɵrestoreView"](e).$implicit;return l["ɵɵnextContext"]().onDragStarted(t,n)}))("cdkDragEntered",(function(t){l["ɵɵrestoreView"](e);return l["ɵɵnextContext"]().onDragEntered(t)}))("cdkDragDropped",(function(t){const n=l["ɵɵrestoreView"](e).$implicit;return l["ɵɵnextContext"]().onDragDropped(t,n)}))("cdkDragExited",(function(){const t=l["ɵɵrestoreView"](e).$implicit;return l["ɵɵnextContext"]().onDragExited(t)}))("cdkDragEnded",(function(){const t=l["ɵɵrestoreView"](e).$implicit;return l["ɵɵnextContext"]().onDragEnded(t)}))("mousedown",(function(t){const n=l["ɵɵrestoreView"](e).$implicit;return l["ɵɵnextContext"]().onDragMouseDown(t,n)}))("mouseover",(function(t){const n=l["ɵɵrestoreView"](e).$implicit;return l["ɵɵnextContext"]().onDragMouseOver(t,n)}))("mouseleave",(function(){l["ɵɵrestoreView"](e);return l["ɵɵnextContext"]().onDragMouseLeave()})),l["ɵɵpipe"](2,"async"),l["ɵɵtemplate"](3,qR,1,0,"div",5),l["ɵɵelementStart"](4,"crt-design-element-setting",6),l["ɵɵlistener"]("action",(function(t){const n=l["ɵɵrestoreView"](e),i=n.$implicit,r=n.index;return l["ɵɵnextContext"]().handleElementSettingAction(t,i,r)})),l["ɵɵelementStart"](5,"crt-designer-flex-resizable-item",7),l["ɵɵlistener"]("resizeStart",(function(){const t=l["ɵɵrestoreView"](e).$implicit;return l["ɵɵnextContext"]().onResizeStart(t.name)}))("resizing",(function(t){const n=l["ɵɵrestoreView"](e).$implicit;return l["ɵɵnextContext"]().onResizing(t,n)}))("resizeEnd",(function(t){const n=l["ɵɵrestoreView"](e).$implicit;return l["ɵɵnextContext"]().onResizeEnd(t,n)})),l["ɵɵelementStart"](6,"div",8),l["ɵɵelementContainer"](7,9),l["ɵɵelementEnd"](),l["ɵɵelement"](8,"crt-block-events-layer",10),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵelementEnd"]()}if(2&e){const e=t.$implicit,n=l["ɵɵnextContext"]();l["ɵɵclassProp"]("focused",e.selected)("hovered",l["ɵɵpipeBind1"](2,18,n.hoveredItemName$)===e.name),l["ɵɵproperty"]("cdkDragData",n.getDragData(e))("ngStyle",n.getDragStyle(e)),l["ɵɵattribute"]("item-name",e.name),l["ɵɵadvance"](4),l["ɵɵproperty"]("item",e)("visible",e.selected),l["ɵɵadvance"](1),l["ɵɵproperty"]("focused",e.selected)("name",e.name)("layoutConfig",e.layoutConfig)("verticalFlex",n.isVertical)("containerDimension",n.dimension)("elementType",e.type)("justifyContent",n.justifyContent),l["ɵɵadvance"](2),l["ɵɵproperty"]("crtViewElement",e),l["ɵɵadvance"](1),l["ɵɵproperty"]("item",e)}}let JR=class extends Ob{constructor(e){super(e),this.injector=e,this._placeholderCache=null,this._copyElementInfo=null,this._dragging=!1,this.connectedDropList=[],this.designerItems=[],this.dimension={top:0,left:0,width:0,height:0},this.visibleFlexPadding=!1,this._connectedDropListService=this.injector.get(eO),this._designerSchemaService=this.injector.get(nO),this._metaItemDesignerService=this.injector.get(LN),this._commandFactoryService=this.injector.get(HN),this._designerContainerService=this.injector.get(Nj),this._designerOverlayService=this.injector.get(Rj),this._viewCommandExecutor=this.injector.get(ZN)}get _canvasElement(){return this.canvasElRef.nativeElement}get dropListOrientation(){var e;return(null===(e=this.flexDirection)||void 0===e?void 0:e.includes("row"))?"horizontal":"vertical"}_setComputedContainerPadding(){const{paddingLeft:e,paddingRight:t,paddingTop:n,paddingBottom:i}=this.window.getComputedStyle(this._canvasElement);this._containerPadding={top:parseFloat(n),left:parseFloat(e),right:parseFloat(t),bottom:parseFloat(i)}}_updateContainerPadding(){if(!this.padding)return;const e=function(e){let t={top:0,bottom:0,left:0,right:0};if((0,Xu.Z)(e))(0,Sy.Z)(t,((n,i)=>{var r;t[i]=null!==(r=Iy[e[i]])&&void 0!==r?r:e[i]}));else if((0,Ch.Z)(e))(0,Sy.Z)(t,((n,i)=>{t[i]=e}));else if((0,sp.Z)(e)&&Cb(e))(0,Sy.Z)(t,((n,i)=>{t[i]=Iy[e]}));else if((0,sp.Z)(e)&&!Cb(e)){const n=e,i=Number(n);if(i)(0,Sy.Z)(t,((e,n)=>{t[n]=i}));else{const e=null==n?void 0:n.split(" "),[i,r,a,o]=e.map((e=>{var t;return Number(null===(t=e.split("px"))||void 0===t?void 0:t[0])}));e.length>1?t={top:i,bottom:null!=a?a:i,left:null!=o?o:r,right:r}:(0,Sy.Z)(t,((e,n)=>{t[n]=i}))}}return t}(this.padding);if(this.visiblePadding)for(const t in e)e[t]||(e[t]=6);this._containerPadding=e}_setContainerDimension(){var e,t,n,i;const{top:r,left:a,right:o,bottom:s}=this._canvasElement.getBoundingClientRect();this.dimension={top:r+(null===(e=this._containerPadding)||void 0===e?void 0:e.top),left:a+(null===(t=this._containerPadding)||void 0===t?void 0:t.left),width:o-(null===(n=this._containerPadding)||void 0===n?void 0:n.right),height:s-(null===(i=this._containerPadding)||void 0===i?void 0:i.bottom)}}_setInitialContainerDimension(){this._setComputedContainerPadding(),this._setContainerDimension()}_updateContainerDimension(){this._updateContainerPadding(),this._setContainerDimension()}_initConnectedDropList(){this._connectedDropListService.add(this.id),this._connectedDropListService.connectedDropList$.pipe((0,g.U)((e=>e.filter((e=>e!==this.id))))).subscribe((e=>this.connectedDropList.splice(0,this.connectedDropList.length,...e)))}_hasDesignerItem(e){return this.designerItems.some((t=>t.name===e))}_subscribeSchemaSelfChanged(){this._designerSchemaService.schemaChanged$.pipe((0,b.R)(this.destroyed$),(0,f.h)((({changes:{viewConfig:e,operation:t}})=>e.name===this.name&&t===kp.Update))).subscribe((({changes:{viewConfig:e}})=>{if((null==e?void 0:e.direction)!==this.direction){const t="column"===(null==e?void 0:e.direction)?"width":"height",n=e;null==n||n.items.forEach((e=>{var n;(null===(n=e.layoutConfig)||void 0===n?void 0:n[t])&&this._deleteLayoutConfigProp(e,t)}))}this.setValuesFromConfig(e),this.detectChanges(),this._updateContainerDimension()}))}_deleteLayoutConfigProp(e,t){delete e.layoutConfig[t],this._designerSchemaService.update({itemConfig:e,applyPropertiesStrategies:[{value:Ep.Override,propertyPath:"itemConfig.layoutConfig"}],selectOnCanvas:!1})}_subscribeSchemaChanged(){this._designerSchemaService.schemaChanged$.pipe((0,b.R)(this.destroyed$),(0,f.h)((({changes:{viewConfig:e,parentName:t}})=>t===this.name||this._hasDesignerItem(e.name)))).subscribe({next:({changes:{viewConfig:e,operation:t,parentName:n,index:i,selectOnCanvas:r}})=>{switch(t){case kp.Insert:this._onAfterInsertViewConfig(e,i);break;case kp.Update:case kp.Move:this._onAfterUpdateViewConfig(e,r);break;case kp.MoveToContainer:this._onAfterMoveToContainerViewConfig(e,n,i);break;case kp.Remove:this._onAfterDeleteViewConfig(e)}this._updateContainerDimension()}})}_onAfterInsertViewConfig(e,t){this.designerItems.splice(t,0,Object.assign(Object.assign({},e),{selected:!1})),this._selectItem(e.name),this.detectChangesAsync()}_onAfterMoveToContainerViewConfig(e,t,n){if(t===this.name)this.designerItems.splice(n,0,Object.assign(Object.assign({},e),{selected:!0}));else{const t=this.designerItems.findIndex((t=>t.name===e.name));t>=0&&this.designerItems.splice(t,1)}this.detectChangesAsync()}_onAfterDeleteViewConfig(e){const t=this.designerItems.findIndex((t=>t.name===e.name));this.designerItems.splice(t,1),this._clearSelected(),this.detectChanges()}_onAfterUpdateViewConfig(e,t=!0){const n=this.designerItems.findIndex((t=>t.name===e.name));this.designerItems[n]=Object.assign(Object.assign({},this.designerItems[n]),e),t&&this._selectItem(e.name),this.detectChangesAsync()}_selectItem(e){const t=this.designerItems.find((t=>t.name===e));t&&!t.selected&&this._designerContainerService.select(t.name),this._designerOverlayService.show()}_subscribeSelectedChanged(){this._designerContainerService.selectedChanged$.pipe((0,b.R)(this.destroyed$)).subscribe({next:({name:e})=>{JN(this.designerItems,e)&&this.detectChanges()}})}_initDesignerItems(){var e;const t=this.injector.get(il),n=null!==(e=null==t?void 0:t.items)&&void 0!==e?e:[];this.designerItems=YN(n,{selected:!1})}_clearSelected(){this._designerContainerService.select(null)}_runCopyCommand(e,t){return(0,a.mG)(this,void 0,void 0,(function*(){return this._viewCommandExecutor.copy({viewElement:e,index:t}).pipe((0,Pn.w)((e=>e.execute())),(0,b.R)(this.destroyed$)).toPromise()}))}_handleOpeningDesigner(){this._metaItemDesignerService.metaItemDesignerClosed$.pipe((0,b.R)(this.destroyed$),(0,Or.B)(),(0,f.h)((e=>this._hasDesignerItem(e)))).subscribe((e=>{this._selectItem(e)}))}_getPlaceholder(){return document.querySelector(".cdk-drag-placeholder")}_setPlaceholderSize(e){const t=this._getPlaceholder();if(!t)return;const{width:n,height:i}=e;t.style.minWidth=`${n}px`,t.style.minHeight=`${i}px`,this._placeholderCache||(this._placeholderCache={width:n,height:i,containerId:this.id})}_resetPlaceholderSize(){this._setPlaceholderSize({height:32,width:32})}_clearPlaceholderCache(){this._placeholderCache=null}_setVisibleFlexPadding(e){this.visiblePadding||(this.visibleFlexPadding=e)}_updateContainersVisibility(e){this._designerContainerService.visibility=e}_subscribeContainerScrolling(){(0,h.fromEvent)(this._canvasElement,"scroll").pipe((0,b.R)(this.destroyed$),(0,Nn.x)()).subscribe((()=>{this._designerOverlayService.hide()}))}_updateItemLayoutConfig(e,t){t.layoutConfig=Object.assign(Object.assign({},t.layoutConfig),e)}_subscribeKeyEvents(){this.zone=this.injector.get(l.NgZone),this.zone.runOutsideAngular((()=>{this.window.addEventListener("keydown",(e=>this.onKeyDown(e)))}))}_initDesignerContainerSubscriptions(){this.hoveredItemName$=this._designerContainerService.hoveredItemName$,this.highlight$=this._designerContainerService.visibility$,this._designerContainerService.togglePadding$.subscribe((()=>{this.visiblePadding=!this.visiblePadding,this.detectChanges(),this._updateContainerDimension()}))}onKeyDown({code:e,ctrlKey:t,metaKey:n,altKey:i,shiftKey:r}){var a,o;if(document.activeElement!==document.body)return;const s=(t||n)&&!i&&!r;s&&"KeyC"===e&&(this._copyElementInfo=(0,so.Z)(this.designerItems.find((e=>e.selected))));if(s&&(null===(a=this._copyElementInfo)||void 0===a?void 0:a.name)&&"KeyV"===e&&this._hasDesignerItem(null===(o=this._copyElementInfo)||void 0===o?void 0:o.name)){const e=this.designerItems.findIndex((e=>{var t;return e.name===(null===(t=this._copyElementInfo)||void 0===t?void 0:t.name)}))+1;this._runCopyCommand(this._copyElementInfo,e)}if("Delete"===e){const e=this.designerItems.filter((e=>e.selected));(0,h.concat)(e.map((e=>this._viewCommandExecutor.remove(e).pipe((0,Pn.w)((e=>e.execute())))))).pipe((0,bE.u)()).subscribe()}}ngOnInit(){super.ngOnInit(),this._subscribeSchemaChanged(),this._subscribeSchemaSelfChanged(),this._subscribeSelectedChanged(),this._handleOpeningDesigner(),this._initDesignerItems();const e=this.injector.get(il);this.id=e.id||e.name||this.id||this.name,this.setValuesFromConfig(e),this._initConnectedDropList(),this._initDesignerContainerSubscriptions()}ngAfterViewInit(){super.ngAfterViewInit(),this._subscribeContainerScrolling(),this._setInitialContainerDimension(),this._subscribeResize(),this._subscribeKeyEvents(),this.detectChangesAsync()}_subscribeResize(){this.resizeObserver=this._designerOverlayService.subscribeElementResize(this._canvasElement)}onDropListExited(){this._updateContainersVisibility(!1),this._setVisibleFlexPadding(!1),this._dragging=!1}onDropListEntered(e){this._designerContainerService.setHoveredItemName(this.name),this._dragging=!0,this._setVisibleFlexPadding(!0);e.item&&!e.item.data&&this._clearSelected();const t=this._placeholderCache;(null==t?void 0:t.containerId)===e.container.id&&this._setPlaceholderSize(t),this._updateContainersVisibility(!0)}onDropListDropped(e){var t,n;return(0,a.mG)(this,void 0,void 0,(function*(){this._dragging=!1,this._updateContainersVisibility(!1);const i=e.previousContainer.data,r=null===(n=null===(t=e.item)||void 0===t?void 0:t.data)||void 0===n?void 0:n.name;if(!i){if(this.designerItems.every((e=>e.name!==r))){const t="crt.MoveToContainerCommand",n={name:r,index:e.currentIndex,parentName:this.name,layoutConfig:{}};yield GN(this._commandFactoryService,t,n,this.destroyed$)}return}const a=i[e.previousIndex],o=a.addCommandTypeName,s={containerName:this.name,index:e.currentIndex,designerTool:a};yield GN(this._commandFactoryService,o,s,this.destroyed$),this._updateContainersVisibility(!1)}))}viewItemIdentifier(e,t){return t.name}handleElementSettingAction(e,t,n){switch(e){case TA.Delete:this._viewCommandExecutor.remove(t).pipe((0,Pn.w)((e=>e.execute()))).subscribe();break;case TA.Edit:t?this._metaItemDesignerService.openMetaItemDesigner(t.type,FN.Edit,{itemConfig:t,type:RN.ViewElement}):this._metaItemDesignerService.openMetaItemDesigner();break;case TA.Copy:this._runCopyCommand(t,n+1)}}onDragMouseDown(e,t){e.stopPropagation(),this._selectItem(t.name)}onDraggableItemDragDropped({name:e,previousIndex:t,currentIndex:n}){this._designerSchemaService.moveToIndex(e,n),(0,Yp.bA)(this.designerItems,t,n),this._selectItem(e),this._updateContainersVisibility(!1)}onContainerMouseDown(){this._designerSchemaService.isRootContainer(this.name)&&this._clearSelected()}onContainerDblClick(e){return(0,a.mG)(this,void 0,void 0,(function*(){this._designerSchemaService.isRootContainer(this.name)&&(e.stopPropagation(),yield this.handleElementSettingAction(TA.Edit,null))}))}getDragData(e){return{name:e.name}}onDragStarted(e,t){this._setVisibleFlexPadding(!0),this._dragging=!0;const n=e.source._dragRef._preview;t.dragging=!0;const i=n.offsetHeight-2,r=n.offsetWidth-2;this._setPlaceholderSize({width:r,height:i}),this._selectItem(t.name),this._updateContainersVisibility(!0)}onDragEntered(e){this._setVisibleFlexPadding(!0);const t=this._placeholderCache;(null==t?void 0:t.containerId)===e.container.id&&this._setPlaceholderSize(t),this._updateContainersVisibility(!0)}onDragDropped(e,t){e.container.id===e.previousContainer.id&&this.onDraggableItemDragDropped({name:t.name,previousIndex:e.previousIndex,currentIndex:e.currentIndex}),this._updateContainersVisibility(!1)}onDragEnded(e){this._setVisibleFlexPadding(!1),this._clearPlaceholderCache(),e.dragging=!1}onDragExited(e){this._setVisibleFlexPadding(!1),this._resetPlaceholderSize(),e.dragging=!1}getDragStyle(e){const t=this.getItemLayout(e.layoutConfig);return Object.assign(Object.assign({},t),{gap:this.gap})}onDragMouseOver(e,t){this._dragging||(e.stopPropagation(),this._designerContainerService.setHoveredItemName(t.name))}onDragMouseLeave(){this._designerContainerService.setHoveredItemName(null)}onResizeStart(e){this._selectItem(e)}onResizing(e,t){t.selected=!1,this._updateItemLayoutConfig(e,t)}onResizeEnd(e,t){this._updateItemLayoutConfig(e,t),this._designerSchemaService.move(t.name,t.layoutConfig)}};JR.ɵfac=function(e){return new(e||JR)(l["ɵɵdirectiveInject"](l.Injector))},JR.ɵcmp=l["ɵɵdefineComponent"]({type:JR,selectors:[["crt-designer-flex-container"]],viewQuery:function(e,t){if(1&e&&(l["ɵɵviewQuery"]($R,7),l["ɵɵviewQuery"](WR,5,l.ElementRef)),2&e){let e;l["ɵɵqueryRefresh"](e=l["ɵɵloadQuery"]())&&(t.canvasElRef=e.first),l["ɵɵqueryRefresh"](e=l["ɵɵloadQuery"]())&&(t.designerElements=e)}},features:[l["ɵɵInheritDefinitionFeature"]],decls:4,vars:18,consts:[["cdkDropList","",1,"crt-flex",3,"cdkDropListConnectedTo","id","ngStyle","ngClass","cdkDropListOrientation","cdkDropListEntered","cdkDropListDropped","cdkDropListExited","mousedown","dblclick"],["canvas",""],["class","drag-item","cdkDrag","","crtDragCursor","",3,"focused","hovered","cdkDragData","ngStyle","cdkDragStarted","cdkDragEntered","cdkDragDropped","cdkDragExited","cdkDragEnded","mousedown","mouseover","mouseleave",4,"ngFor","ngForOf","ngForTrackBy"],["cdkDrag","","crtDragCursor","",1,"drag-item",3,"cdkDragData","ngStyle","cdkDragStarted","cdkDragEntered","cdkDragDropped","cdkDragExited","cdkDragEnded","mousedown","mouseover","mouseleave"],["designerElement",""],[4,"cdkDragPlaceholder"],[3,"item","visible","action"],[3,"focused","name","layoutConfig","verticalFlex","containerDimension","elementType","justifyContent","resizeStart","resizing","resizeEnd"],[1,"view-element"],["crtViewModel","",3,"crtViewElement"],[3,"item"]],template:function(e,t){1&e&&(l["ɵɵelementStart"](0,"div",0,1),l["ɵɵlistener"]("cdkDropListEntered",(function(e){return t.onDropListEntered(e)}))("cdkDropListDropped",(function(e){return t.onDropListDropped(e)}))("cdkDropListExited",(function(){return t.onDropListExited()}))("mousedown",(function(){return t.onContainerMouseDown()}))("dblclick",(function(e){return t.onContainerDblClick(e)})),l["ɵɵpipe"](2,"async"),l["ɵɵtemplate"](3,YR,9,20,"div",2),l["ɵɵelementEnd"]()),2&e&&(l["ɵɵstyleProp"]("flex-direction",t.flexDirection),l["ɵɵclassProp"]("highlight",l["ɵɵpipeBind1"](2,16,t.highlight$))("visible-padding",t.visiblePadding)("visible-flex-padding",t.visibleFlexPadding),l["ɵɵproperty"]("cdkDropListConnectedTo",t.connectedDropList)("id",t.id)("ngStyle",t.flexStyles)("ngClass",t.classes)("cdkDropListOrientation",t.dropListOrientation),l["ɵɵattribute"]("flex-direction",t.flexDirection),l["ɵɵadvance"](3),l["ɵɵproperty"]("ngForOf",t.designerItems)("ngForTrackBy",t.viewItemIdentifier))},directives:[Yp.Wj,o.NgStyle,o.NgClass,o.NgForOf,Yp.Zt,oA,Yp.Hk,pR,ZR,Su,_u,oR],pipes:[o.AsyncPipe],styles:['.drag-item{position:relative}.drag-item:not(.drag-active){cursor:move}.drag-item.cdk-drag-preview{border-style:solid;border-width:1px;box-sizing:content-box;opacity:.8;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}.drag-item.cdk-drag-dragging{height:0;width:0}.cdk-drag.drag-item.cdk-drag-preview .resize,.cdk-drag.drag-item.cdk-drag-preview crt-design-element-setting settings-list{visibility:hidden!important}.canvas-panel>crt-designer-flex-container{height:100%;position:relative}.canvas-panel>crt-designer-flex-container>.crt-flex{position:absolute;padding:6px 16px 16px}.canvas-panel>crt-designer-flex-container:first-child>.crt-flex{padding-top:16px}.visible-padding{padding:6px}.crt-flex{display:flex;width:100%;height:100%;min-width:32px;min-height:32px;overflow-y:auto;box-sizing:border-box;transition:padding .25s ease;position:relative}.crt-flex.highlight{outline-width:1px;outline-style:solid}.crt-flex:before{content:"";position:absolute;top:0;left:0;transition:background-color .3s ease}.crt-flex:before,.view-element{width:100%;height:100%}.drag-item{display:flex;box-sizing:content-box}.crt-flex>.cdk-drag-placeholder{display:block}.crt-flex[flex-direction*=row]>.cdk-drag-placeholder,.crt-flex[flex-direction*=row]>.drag-item>.cdk-drag-placeholder{min-height:100%!important}.crt-flex[flex-direction*=row]>.drag-item{flex-direction:row}.crt-flex[flex-direction*=row].visible-flex-padding{padding:0 6px}.crt-flex[flex-direction*=column]>.cdk-drag-placeholder,.crt-flex[flex-direction*=column]>.drag-item>.cdk-drag-placeholder{min-width:100%!important}.crt-flex[flex-direction*=column]>.drag-item{flex-direction:column}.crt-flex[flex-direction*=column].visible-flex-padding{padding-top:6px;padding-bottom:6px}.crt-flex.cdk-drop-list-dragging .cdk-drag-placeholder,.crt-flex.cdk-drop-list-dragging .drag-item:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.canvas-panel .crt-flex>.draggable-row-element-placeholder,.canvas-panel .crt-flex>.draggable-tile-element-placeholder{position:static;visibility:visible;min-height:32px;min-width:32px}'],encapsulation:2,changeDetection:0}),JR=(0,a.gn)([Ks({type:"crt.DesignerFlexContainer",overrideType:"crt.FlexContainer"}),(0,a.w6)("design:paramtypes",[l.Injector])],JR);function QR(e,t,n){let{top:i,bottom:r,left:a,right:o}=e;return i=Math.floor(i),o=Math.floor(o),a=Math.floor(a),r=Math.floor(r),n>=i&&n<=r&&t>=a&&t<=o}function KR(e,t){return t&&"none"!=t?e+" "+t:e}function XR(e,t,n){e.top+=t,e.bottom=e.top+e.height,e.left+=n,e.right=e.left+e.width}let eF=(()=>{class e{constructor(){this._fixed=!1}_sortItem(){Yp.G_.prototype._sortItem=function(e,t,n,i){if(this.sortingDisabled||!this._clientRect||!function(e,t,n,i){const{top:r,right:a,bottom:o,left:s,width:l,height:c}=e,d=l*t,u=c*t;return i>r-u&&i<o+u&&n>s-d&&n<a+d}(this._clientRect,.05,t,n))return;const r=this._itemPositions,a=this._getItemIndexFromPointerPosition(e,t,n,i);if(-1===a&&r.length>0)return;const o="horizontal"===this._orientation,s=function(e,t){for(let n=0;n<e.length;n++)if(t(e[n],n,e))return n;return-1}(r,(t=>t.drag===e)),l=r[a],c=r[s].clientRect,d=l.clientRect,u=s>a?1:-1,p=this._getItemOffsetPx(c,d,u),m=this._getSiblingOffsetPx(s,r,u),h=r.slice();(0,Yp.bA)(r,s,a),this.sorted.next({previousIndex:s,currentIndex:a,container:this,item:e}),r.forEach(((t,n)=>{if(h[n]===t)return;const i=t.drag===e,r=i?p:m,a=i?e.getPlaceholderElement():t.drag.getRootElement();t.offset+=r,o?(a.style.transform=KR(`translate3d(${Math.round(t.offset)}px, 0, 0)`,t.initialTransform),XR(t.clientRect,0,r)):(a.style.transform=KR(`translate3d(0, ${Math.round(t.offset)}px, 0)`,t.initialTransform),XR(t.clientRect,r,0))})),this._previousSwap.overlaps=QR(d,t,n),this._previousSwap.drag=l.drag,this._previousSwap.delta=o?i.x:i.y}}_isOverContainer(){Yp.G_.prototype._isOverContainer=function(e,t){return null!=this._clientRect&&QR(this._clientRect,e,t)}}_getSiblingContainerFromPosition(){Yp.G_.prototype._getSiblingContainerFromPosition=function(e,t,n){const i=Yp.G_.registeredContainers;if(!i)return this._siblings.find((function(i){return i._canReceive(e,t,n)}));const r=[this,...this._siblings].filter((e=>{const i=e.element.getBoundingClientRect();return i&&QR(i,t,n)}));if(0===r.length)return;const a=r.sort(((e,t)=>i.indexOf(e.data.id)>i.indexOf(t.data.id)?1:-1))[0];return a!==this?a:null}}_canReceive(){Yp.G_.prototype._canReceive=function(e,t,n){if(!this._clientRect||!QR(this._clientRect,t,n)||!this.enterPredicate(e,this))return!1;const i=this._getShadowRoot().elementFromPoint(t,n);if(!i)return!1;const r=(0,m.fI)(this.element);return i===r||r.contains(i)}}_getItemIndexFromPointerPosition(){const e=Yp.G_.prototype._getItemIndexFromPointerPosition;Yp.G_.prototype._getItemIndexFromPointerPosition=function(t,n,i,r){let a=e.call(this,t,n,i,r);return-1===a&&(a=this._getItemIndexBetweenItemPositions(t,n,i,r)),a}}_getItemIndexBetweenItemPositions(){Yp.G_.prototype._getItemIndexBetweenItemPositions=function(e,t,n,i){const r=this._itemPositions.filter((({drag:t})=>t!==e)),a=r.length;if(0===a)return-1;const o="horizontal"===this._orientation,s=r[0].clientRect,l=r[a-1].clientRect;let c=-1;return o&&t<s.left||!o&&n<s.top?c=0:o&&l.right<t||!o&&l.bottom<n?c=-1:a>1&&(c=r.findIndex((({drag:e},a)=>{if(i){const t=o?i.x:i.y;if(e===this._previousSwap.drag&&this._previousSwap.overlaps&&t===this._previousSwap.delta)return!1}if(a>0){const e=r[a-1].clientRect,i=r[a].clientRect;return o?Math.floor(e.right)<t&&t<Math.floor(i.left):Math.floor(e.bottom)<n&&n<Math.floor(i.top)}}))),c}}_handleEvents(){const e=Yp.Wj.prototype._handleEvents;Yp.Wj.prototype._handleEvents=function(t){e.call(this,t),t.beforeStarted.subscribe((()=>{this.entered.emit({container:this})}))}}fix(){this._fixed||(this._fixed=!0,this._sortItem(),this._isOverContainer(),this._getSiblingContainerFromPosition(),this._canReceive(),this._getItemIndexFromPointerPosition(),this._getItemIndexBetweenItemPositions(),this._handleEvents())}}return e.ɵfac=function(t){return new(t||e)},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"root"}),e})(),tF=(()=>{class e{constructor(e){this._dragDropFixService=e,this._dragDropFixService.fix()}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](eF))},e.ɵmod=l["ɵɵdefineNgModule"]({type:e}),e.ɵinj=l["ɵɵdefineInjector"]({providers:[eF,Nj],imports:[[o.CommonModule,xR,Yp._t,Pu,GI.ym]]}),e})();("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](tF,{declarations:[JR,ZR],imports:[o.CommonModule,xR,Yp._t,Pu,GI.ym]});const nF=["canvas"],iF=["designerElement"];function rF(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵelementStart"](0,"div",3,4),l["ɵɵlistener"]("cdkDragStarted",(function(t){const n=l["ɵɵrestoreView"](e).$implicit;return l["ɵɵnextContext"]().onDragStarted(t,n)}))("cdkDragDropped",(function(t){const n=l["ɵɵrestoreView"](e).$implicit;return l["ɵɵnextContext"]().onDragDropped(t,n)}))("mousedown",(function(t){const n=l["ɵɵrestoreView"](e).$implicit;return l["ɵɵnextContext"]().onDragMouseDown(t,n)}))("mouseover",(function(t){const n=l["ɵɵrestoreView"](e).$implicit;return l["ɵɵnextContext"]().onDragMouseOver(t,n)}))("mouseleave",(function(){l["ɵɵrestoreView"](e);return l["ɵɵnextContext"]().onDragMouseLeave()})),l["ɵɵpipe"](2,"async"),l["ɵɵelementStart"](3,"crt-design-element-setting",5),l["ɵɵlistener"]("action",(function(t){const n=l["ɵɵrestoreView"](e),i=n.$implicit,r=n.index;return l["ɵɵnextContext"]().handleElementSettingAction(t,i,r)})),l["ɵɵelementStart"](4,"div",6),l["ɵɵelementContainer"](5,7),l["ɵɵelementEnd"](),l["ɵɵelement"](6,"crt-block-events-layer",8),l["ɵɵelementEnd"](),l["ɵɵelementEnd"]()}if(2&e){const e=t.$implicit,n=l["ɵɵnextContext"]();l["ɵɵclassProp"]("focused",e.selected)("hovered",l["ɵɵpipeBind1"](2,10,n.hoveredItemName$)===e.name),l["ɵɵproperty"]("cdkDragData",n.getDragData(e)),l["ɵɵattribute"]("item-name",e.name),l["ɵɵadvance"](3),l["ɵɵproperty"]("item",e)("visible",e.selected),l["ɵɵadvance"](2),l["ɵɵproperty"]("crtViewElement",e),l["ɵɵadvance"](1),l["ɵɵproperty"]("item",e)}}let aF=(()=>{class e extends xb{constructor(e){super(e),this.injector=e,this._placeholderCache=null,this._copyElementInfo=null,this._dragging=!1,this.connectedDropList=[],this._connectedDropListService=this.injector.get(eO),this._designerSchemaService=this.injector.get(nO),this._metaItemDesignerService=this.injector.get(LN),this._commandFactoryService=this.injector.get(HN),this._designerContainerService=this.injector.get(Nj),this._designerOverlayService=this.injector.get(Rj),this._viewCommandExecutor=this.injector.get(ZN)}get _canvasElement(){return this.canvasElRef.nativeElement}_initConnectedDropList(){this._connectedDropListService.add(this.dropListId),this._connectedDropListService.connectedDropList$.pipe((0,g.U)((e=>e.filter((e=>e!==this.id))))).subscribe((e=>this.connectedDropList.splice(0,this.connectedDropList.length,...e)))}_hasDesignerItem(e){return this.items.some((t=>t.name===e))}_subscribeSchemaChanged(){this._designerSchemaService.schemaChanged$.pipe((0,b.R)(this.destroyed$),(0,f.h)((({changes:{viewConfig:e,parentName:t,propertyName:n}})=>t===this.id&&n===this.propertyName||this._hasDesignerItem(e.name)))).subscribe({next:({changes:{viewConfig:e,operation:t,parentName:n,propertyName:i,index:r,selectOnCanvas:a}})=>{switch(t){case kp.Insert:this._onAfterInsertViewConfig(e,r);break;case kp.Update:case kp.Move:this._onAfterUpdateViewConfig(e,a);break;case kp.MoveToContainer:this._onAfterMoveToContainerViewConfig(e,n,i,r);break;case kp.Remove:this._onAfterDeleteViewConfig(e)}}})}_onAfterInsertViewConfig(e,t){this.items.splice(t,0,Object.assign(Object.assign({},e),{selected:!1})),this._selectItem(e.name),this.detectChangesAsync()}_onAfterMoveToContainerViewConfig(e,t,n,i){if(t===this.id&&n===this.propertyName)this.items.splice(i,0,Object.assign(Object.assign({},e),{selected:!0}));else{const t=this.items.findIndex((t=>t.name===e.name));t>=0&&this.items.splice(t,1)}this.detectChangesAsync()}_onAfterDeleteViewConfig(e){const t=this.items.findIndex((t=>t.name===e.name));this.items.splice(t,1),this._clearSelected(),this.detectChanges()}_onAfterUpdateViewConfig(e,t=!0){const n=this.items.findIndex((t=>t.name===e.name));this.items[n]=Object.assign(Object.assign({},this.items[n]),e),t&&this._selectItem(e.name),this.detectChangesAsync()}_selectItem(e){const t=this.items.find((t=>t.name===e));t&&!t.selected&&this._designerContainerService.select(t.name),this._designerOverlayService.show()}_subscribeSelectedChanged(){this._designerContainerService.selectedChanged$.pipe((0,b.R)(this.destroyed$)).subscribe({next:({name:e})=>{JN(this.items,e)&&this.detectChanges()}})}_clearSelected(){this._designerContainerService.select(null)}_runCopyCommand(e,t){return(0,a.mG)(this,void 0,void 0,(function*(){return this._viewCommandExecutor.copy({viewElement:e,index:t,propertyName:this.propertyName}).pipe((0,Pn.w)((e=>e.execute())),(0,b.R)(this.destroyed$)).toPromise()}))}_handleOpeningDesigner(){this._metaItemDesignerService.metaItemDesignerClosed$.pipe((0,b.R)(this.destroyed$),(0,Or.B)(),(0,f.h)((e=>this._hasDesignerItem(e)))).subscribe((e=>{this._selectItem(e)}))}_getPlaceholder(){return document.querySelector(".cdk-drag-placeholder")}_setPlaceholderSize(e){const t=this._getPlaceholder();if(!t)return;const{width:n,height:i}=e;t.style.minWidth=`${n}px`,t.style.minHeight=`${i}px`,this._placeholderCache||(this._placeholderCache={width:n,height:i,containerId:this.id})}_updateContainersVisibility(e){this._designerContainerService.visibility=e}_subscribeContainerScrolling(){(0,h.fromEvent)(this._canvasElement,"scroll").pipe((0,b.R)(this.destroyed$),(0,Nn.x)()).subscribe((()=>{this._designerOverlayService.hide()}))}_subscribeKeyEvents(){this.zone=this.injector.get(l.NgZone),this.zone.runOutsideAngular((()=>{this.window.addEventListener("keydown",(e=>this.onKeyDown(e)))}))}_initDesignerContainerSubscriptions(){this.hoveredItemName$=this._designerContainerService.hoveredItemName$,this.highlight$=this._designerContainerService.visibility$}onKeyDown({code:e,ctrlKey:t,metaKey:n,altKey:i,shiftKey:r}){var a,o;if(document.activeElement!==document.body)return;const s=(t||n)&&!i&&!r;s&&"KeyC"===e&&(this._copyElementInfo=(0,so.Z)(this.items.find((e=>e.selected))));if(s&&(null===(a=this._copyElementInfo)||void 0===a?void 0:a.name)&&"KeyV"===e&&this._hasDesignerItem(null===(o=this._copyElementInfo)||void 0===o?void 0:o.name)){const e=this.items.findIndex((e=>{var t;return e.name===(null===(t=this._copyElementInfo)||void 0===t?void 0:t.name)}))+1;this._runCopyCommand(this._copyElementInfo,e)}if("Delete"===e){const e=this.items.filter((e=>e.selected));(0,h.concat)(e.map((e=>this._viewCommandExecutor.remove(e).pipe((0,Pn.w)((e=>e.execute())))))).pipe((0,bE.u)()).subscribe()}}ngOnInit(){super.ngOnInit(),this._subscribeSchemaChanged(),this._subscribeSelectedChanged(),this._handleOpeningDesigner();const e=this.injector.get(il);this.id=e.id||e.name||this.id,this.dropListId=this.id+"_"+this.propertyName,this.setValuesFromConfig(e),this._initConnectedDropList(),this._initDesignerContainerSubscriptions()}ngAfterViewInit(){super.ngAfterViewInit(),this._subscribeContainerScrolling(),this._subscribeKeyEvents(),this.detectChangesAsync()}onDropListExited(){this._updateContainersVisibility(!1),this._dragging=!1}onDropListEntered(e){this._designerContainerService.setHoveredItemName(this.id),this._dragging=!0;e.item&&!e.item.data&&this._clearSelected();const t=this._placeholderCache;(null==t?void 0:t.containerId)===e.container.id&&this._setPlaceholderSize(t),this._updateContainersVisibility(!0)}onDropListDropped(e){var t,n;return(0,a.mG)(this,void 0,void 0,(function*(){this._dragging=!1,this._updateContainersVisibility(!1);const i=e.previousContainer.data,r=null===(n=null===(t=e.item)||void 0===t?void 0:t.data)||void 0===n?void 0:n.name;if(!i){if(this.items.every((e=>e.name!==r))){const t="crt.MoveToContainerCommand",n={name:r,index:e.currentIndex,parentName:this.id,parentPropertyName:this.propertyName};yield GN(this._commandFactoryService,t,n,this.destroyed$)}return}const a=i[e.previousIndex],o=a.addCommandTypeName,s={containerName:this.id,propertyName:this.propertyName,index:e.currentIndex,designerTool:a};yield GN(this._commandFactoryService,o,s,this.destroyed$),this._updateContainersVisibility(!1)}))}viewItemIdentifier(e,t){return t.name}handleElementSettingAction(e,t,n){return(0,a.mG)(this,void 0,void 0,(function*(){switch(e){case TA.Delete:this._viewCommandExecutor.remove(t).pipe((0,Pn.w)((e=>e.execute()))).subscribe();break;case TA.Edit:t?this._metaItemDesignerService.openMetaItemDesigner(t.type,FN.Edit,{itemConfig:t,type:RN.ViewElement}):this._metaItemDesignerService.openMetaItemDesigner();break;case TA.Copy:yield this._runCopyCommand(t,n+1)}}))}getDragData(e){return{name:e.name}}onDragStarted(e,t){this._dragging=!0;const n=e.source._dragRef._preview;t.dragging=!0;const i=n.offsetHeight-2,r=n.offsetWidth-2;this._setPlaceholderSize({width:r,height:i}),this._selectItem(t.name),this._updateContainersVisibility(!0)}onDragMouseDown(e,t){e.stopPropagation(),this._selectItem(t.name)}onDragMouseOver(e,t){this._dragging||(e.stopPropagation(),this._designerContainerService.setHoveredItemName(t.name))}onDragMouseLeave(){this._designerContainerService.setHoveredItemName(null)}onDragDropped(e,t){e.container.id===e.previousContainer.id&&this.onDraggableItemDragDropped(t.name,e.previousIndex,e.currentIndex),this._updateContainersVisibility(!1)}onDraggableItemDragDropped(e,t,n){this._designerSchemaService.moveToIndex(e,n),(0,Yp.bA)(this.items,t,n),this._selectItem(e),this._updateContainersVisibility(!1)}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](l.Injector))},e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["crt-droppable-list"]],viewQuery:function(e,t){if(1&e&&(l["ɵɵviewQuery"](nF,7),l["ɵɵviewQuery"](iF,5,l.ElementRef)),2&e){let e;l["ɵɵqueryRefresh"](e=l["ɵɵloadQuery"]())&&(t.canvasElRef=e.first),l["ɵɵqueryRefresh"](e=l["ɵɵloadQuery"]())&&(t.designerElements=e)}},inputs:{propertyName:"propertyName"},features:[l["ɵɵInheritDefinitionFeature"]],decls:4,vars:9,consts:[["cdkDropList","",1,"crt-droppable-list",3,"cdkDropListConnectedTo","id","ngClass","cdkDropListEntered","cdkDropListDropped","cdkDropListExited"],["canvas",""],["class","drag-item","cdkDrag","","crtDragCursor","",3,"focused","hovered","cdkDragData","cdkDragStarted","cdkDragDropped","mousedown","mouseover","mouseleave",4,"ngFor","ngForOf","ngForTrackBy"],["cdkDrag","","crtDragCursor","",1,"drag-item",3,"cdkDragData","cdkDragStarted","cdkDragDropped","mousedown","mouseover","mouseleave"],["designerElement",""],[3,"item","visible","action"],[1,"view-element"],["crtViewModel","",3,"crtViewElement"],[3,"item"]],template:function(e,t){1&e&&(l["ɵɵelementStart"](0,"div",0,1),l["ɵɵlistener"]("cdkDropListEntered",(function(e){return t.onDropListEntered(e)}))("cdkDropListDropped",(function(e){return t.onDropListDropped(e)}))("cdkDropListExited",(function(){return t.onDropListExited()})),l["ɵɵpipe"](2,"async"),l["ɵɵtemplate"](3,rF,7,12,"div",2),l["ɵɵelementEnd"]()),2&e&&(l["ɵɵclassProp"]("highlight",l["ɵɵpipeBind1"](2,7,t.highlight$)),l["ɵɵproperty"]("cdkDropListConnectedTo",t.connectedDropList)("id",t.dropListId)("ngClass",t.classes),l["ɵɵadvance"](3),l["ɵɵproperty"]("ngForOf",t.items)("ngForTrackBy",t.viewItemIdentifier))},directives:[Yp.Wj,o.NgClass,o.NgForOf,Yp.Zt,oA,pR,Su,_u,oR],pipes:[o.AsyncPipe],styles:[".crt-droppable-list[_ngcontent-%COMP%]{width:100%;height:100%;min-width:32px;min-height:32px;overflow-y:auto;box-sizing:border-box;transition:padding .25s ease}.crt-droppable-list.highlight[_ngcontent-%COMP%]{outline-width:1px;outline-style:solid}.crt-droppable-list[_ngcontent-%COMP%]   .drag-item[_ngcontent-%COMP%]{display:block;box-sizing:content-box;border:1px solid transparent}.crt-droppable-list[_ngcontent-%COMP%]   .drag-item.hovered[_ngcontent-%COMP%]{opacity:1;border:1px dashed var(--crt-active-designer-element-border)}.crt-droppable-list[_ngcontent-%COMP%]   .drag-item.focused[_ngcontent-%COMP%]{opacity:1;border:1px solid var(--crt-active-designer-element-border)}.view-element[_ngcontent-%COMP%]{height:100%;width:100%}"]}),e})(),oF=class{constructor(e){this._dragDropFixService=e,this._dragDropFixService.fix()}};function sF(e,t){if(1&e&&(l["ɵɵelementStart"](0,"div",11),l["ɵɵelementContainer"](1,12),l["ɵɵelementEnd"]()),2&e){const e=t.$implicit;l["ɵɵadvance"](1),l["ɵɵproperty"]("crtViewElement",e)}}oF.ɵfac=function(e){return new(e||oF)(l["ɵɵinject"](eF))},oF.ɵmod=l["ɵɵdefineNgModule"]({type:oF}),oF.ɵinj=l["ɵɵdefineInjector"]({providers:[eF,Nj],imports:[[o.CommonModule,xR,Yp._t,Pu]]}),oF=(0,a.gn)([(0,r.CrtModule)({viewElements:[aF]}),(0,a.w6)("design:paramtypes",[eF])],oF),("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](oF,{declarations:[aF],imports:[o.CommonModule,xR,Yp._t,Pu],exports:[aF]});let lF=class extends Wb{constructor(e,t){super(e),this.injector=e,this._environment=t,this._logoImageUrl=""}get logoImageUrl(){return this._logoImageUrl}setLogoImageUrl(e){this._logoImageUrl=e}buildLogoImageUrl(){return"img/terrasoft.axd?s=nui-binary-syssetting&r=MenuLogoImage&source_hash="+Date.now().toString().slice(0,-5)}initDefaultLogoImageUrl(){this.setLogoImageUrl("assets/app-logo.svg")}ngOnInit(){super.ngOnInit(),this.logoImageUrl||this.setLogoImageUrl(o.Location.joinWithSlash(this._environment.workspaceBaseUrl,this.buildLogoImageUrl()))}};lF.ɵfac=function(e){return new(e||lF)(l["ɵɵdirectiveInject"](l.Injector),l["ɵɵdirectiveInject"]("environment"))},lF.ɵcmp=l["ɵɵdefineComponent"]({type:lF,selectors:[["crt-designer-header"]],features:[l["ɵɵInheritDefinitionFeature"]],decls:15,vars:12,consts:[[1,"designer-header-container"],[1,"header-mock"],[1,"left-header-container"],[1,"caption-class"],[1,"right-header-container"],[1,"command-line-container"],[3,"placeholder"],["alt","go","src","data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPScxNicgaGVpZ2h0PScxNicgdmlld0JveD0nMCAwIDE2IDE2Jz4NCgk8cGF0aCBkPSJNNyA0IGw0IDQgbC00IDQiIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2M4YzhjOCIgc3Ryb2tlLXdpZHRoPSIxIi8+DQo8L3N2Zz4NCg==",1,"go"],["alt","logo image",1,"logo",3,"src","error"],[1,"designer-header-content"],["class","designer-header-content-item",4,"ngFor","ngForOf"],[1,"designer-header-content-item"],["crtViewModel","",3,"crtViewElement"]],template:function(e,t){1&e&&(l["ɵɵelementStart"](0,"div",0),l["ɵɵelementStart"](1,"div",1),l["ɵɵpipe"](2,"async"),l["ɵɵelementStart"](3,"div",2),l["ɵɵelementStart"](4,"label",3),l["ɵɵtext"](5),l["ɵɵpipe"](6,"translate"),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵelementStart"](7,"div",4),l["ɵɵelementStart"](8,"div",5),l["ɵɵelement"](9,"input",6),l["ɵɵpipe"](10,"translate"),l["ɵɵelement"](11,"img",7),l["ɵɵelementEnd"](),l["ɵɵelementStart"](12,"img",8),l["ɵɵlistener"]("error",(function(){return t.initDefaultLogoImageUrl()})),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵelementStart"](13,"div",9),l["ɵɵtemplate"](14,sF,2,1,"div",10),l["ɵɵelementEnd"](),l["ɵɵelementEnd"]()),2&e&&(l["ɵɵadvance"](1),l["ɵɵclassProp"]("no-border",l["ɵɵpipeBind1"](2,6,t.noSafariBordersObservable)),l["ɵɵadvance"](4),l["ɵɵtextInterpolate"](l["ɵɵpipeBind1"](6,8,"InterfaceDesigner.MainHeader.Title")),l["ɵɵadvance"](4),l["ɵɵproperty"]("placeholder",l["ɵɵpipeBind1"](10,10,"InterfaceDesigner.MainHeader.CommandLinePlaceholder")),l["ɵɵadvance"](3),l["ɵɵpropertyInterpolate"]("src",t.logoImageUrl,l["ɵɵsanitizeUrl"]),l["ɵɵadvance"](2),l["ɵɵproperty"]("ngForOf",t.items))},directives:[o.NgForOf,Su,_u],pipes:[o.AsyncPipe,u.X$],styles:["[_nghost-%COMP%]{display:block;padding:16px 16px 0}.designer-header-container[_ngcontent-%COMP%]   .header-mock[_ngcontent-%COMP%]{border-radius:8px 8px 0 0;padding:0 20px;display:flex;justify-content:space-between;pointer-events:none;-webkit-user-select:none;user-select:none;border-width:1px;border-style:solid;border-bottom:none}.designer-header-container[_ngcontent-%COMP%]   .header-mock.no-border[_ngcontent-%COMP%]{border:none}.designer-header-container[_ngcontent-%COMP%]   .header-mock[_ngcontent-%COMP%]   .left-header-container[_ngcontent-%COMP%]   .caption-class[_ngcontent-%COMP%]{font-size:26px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;word-wrap:normal;line-height:51px}.designer-header-container[_ngcontent-%COMP%]   .header-mock[_ngcontent-%COMP%]   .right-header-container[_ngcontent-%COMP%]{display:flex;align-items:flex-start;opacity:.2}.designer-header-container[_ngcontent-%COMP%]   .header-mock[_ngcontent-%COMP%]   .right-header-container[_ngcontent-%COMP%]   .command-line-container[_ngcontent-%COMP%]{height:26px;padding-left:10px;padding-right:3px;margin-top:12px;margin-right:20px;box-sizing:border-box;width:233px;min-height:28px;display:flex}.designer-header-container[_ngcontent-%COMP%]   .header-mock[_ngcontent-%COMP%]   .right-header-container[_ngcontent-%COMP%]   .command-line-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:26px;font-size:14px;width:100%;outline:none;border:0;box-sizing:border-box}.designer-header-container[_ngcontent-%COMP%]   .header-mock[_ngcontent-%COMP%]   .right-header-container[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{max-width:127px;max-height:27px;height:27px;padding-top:10px}"]}),lF=(0,a.gn)([Ks({type:"crt.DesignerHeaderContainer",overrideType:"crt.HeaderContainer"}),(0,a.w6)("design:paramtypes",[l.Injector,Object])],lF);let cF=class{};cF.ɵfac=function(e){return new(e||cF)},cF.ɵmod=l["ɵɵdefineNgModule"]({type:cF}),cF.ɵinj=l["ɵɵdefineInjector"]({providers:[],imports:[[u.aw,Cy,o.CommonModule,Yp._t,c.u5,St.Ps,c.UX,GI.ym,Pu]]}),cF=(0,a.gn)([(0,r.CrtModule)({viewElements:[lF]})],cF),("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](cF,{declarations:[lF],imports:[u.aw,Cy,o.CommonModule,Yp._t,c.u5,St.Ps,c.UX,GI.ym,Pu],exports:[lF]});let dF=class extends Us{constructor(e,t,n,i,r){super(e),this._designerSchemaService=t,this._designerCommandFactoryService=n,this._dataGridColumnCaptionChangeHandler=i,this._dataGridViewConfig=r,this.sortingChange=new l.EventEmitter,this.dataGridPlaceholder=null==r.items}set placeholder(e){this.dataGridPlaceholder=e}set sorting(e){var t;const n=Bp(null===(t=this._designerSchemaService.getViewConfigInfoByName(this._dataGridViewConfig.name))||void 0===t?void 0:t.viewConfig);if(!n)return void(this.dataGridSorting=[]);const i=this._designerSchemaService.getMappedDataSourceAttributePath(n);this.dataGridSorting=eD(e,i)}_updateDefaultSorting(e){var t;return(0,a.mG)(this,void 0,void 0,(function*(){const n=Bp(null===(t=this._designerSchemaService.getViewConfigInfoByName(this._dataGridViewConfig.name))||void 0===t?void 0:t.viewConfig);if(!n)return!1;const i=this._designerSchemaService.getMappedDataSourceAttributePath(n),r={attribute:n,config:{modelConfig:{sortingConfig:{default:tD(e,i)}}}};return this._designerCommandFactoryService.create("crt.UpdateViewModelAttributeCommand",r).pipe((0,Pn.w)((e=>e.execute())),(0,g.U)((e=>null==e?void 0:e.success))).toPromise()}))}onColumnCaptionChanged(e){const{columnId:t,columnCaption:n}=e||{};this._dataGridColumnCaptionChangeHandler.handle({dataGridName:this._dataGridViewConfig.name,columnId:t,columnCaption:n})}onSortingChanged(e){return(0,a.mG)(this,void 0,void 0,(function*(){(yield this._updateDefaultSorting(e))&&(this.sortingChange.emit(e),this.dataGridSorting=e)}))}};dF.ɵfac=function(e){return new(e||dF)(l["ɵɵdirectiveInject"](l.Injector),l["ɵɵdirectiveInject"](nO),l["ɵɵdirectiveInject"](HN),l["ɵɵdirectiveInject"](kj),l["ɵɵdirectiveInject"](il))},dF.ɵcmp=l["ɵɵdefineComponent"]({type:dF,selectors:[["crt-designer-data-grid"]],inputs:{items:"items",columns:"columns",header:"header",placeholder:"placeholder",sorting:"sorting",primaryColumnName:"primaryColumnName"},outputs:{sortingChange:"sortingChange"},features:[l["ɵɵInheritDefinitionFeature"]],decls:1,vars:7,consts:[[3,"items","header","columns","sorting","loading","placeholder","primaryColumnName","columnCaptionChange","sortingChange"]],template:function(e,t){1&e&&(l["ɵɵelementStart"](0,"crt-data-grid",0),l["ɵɵlistener"]("columnCaptionChange",(function(e){return t.onColumnCaptionChanged(e)}))("sortingChange",(function(e){return t.onSortingChanged(e)})),l["ɵɵelementEnd"]()),2&e&&l["ɵɵproperty"]("items",t.items)("header",t.header)("columns",t.columns)("sorting",t.dataGridSorting)("loading",t.loading)("placeholder",t.dataGridPlaceholder)("primaryColumnName",t.primaryColumnName)},directives:[JM],styles:["[_nghost-%COMP%]{display:block;height:100%;box-sizing:border-box;padding-bottom:10px}"]}),(0,a.gn)([(0,r.CrtInput)(),(0,a.w6)("design:type",Object)],dF.prototype,"items",void 0),dF=(0,a.gn)([Ks({type:"crt.DesignerDataGrid",overrideType:"crt.DataGrid"}),(0,a.w6)("design:paramtypes",[l.Injector,nO,HN,kj,Object])],dF);let uF=class{};function pF(e,t){if(1&e&&l["ɵɵelement"](0,"crt-skeleton-loader",2),2&e){const e=l["ɵɵnextContext"]();l["ɵɵproperty"]("styles",e.skeletonStyles)}}function mF(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵelementStart"](0,"crt-expansion-panel-header",7),l["ɵɵlistener"]("expandedChange",(function(t){l["ɵɵrestoreView"](e);return l["ɵɵnextContext"](2).expanded=t}))("expandedChange",(function(t){l["ɵɵrestoreView"](e);return l["ɵɵnextContext"](2).expandedChanged(t)})),l["ɵɵelement"](1,"crt-droppable-list",8),l["ɵɵelementEnd"]()}if(2&e){const e=l["ɵɵnextContext"](2);l["ɵɵproperty"]("title",e.title)("tooltip",e.tooltip)("description",e.description)("expanded",e.expanded)("togglePosition",e.togglePosition)("toggleType",e.toggleType)("labelColor",e.labelColor)("dir",e.documentDirection)("ariaLabel",e.ariaLabel)("extraStyles",e.extraStyles)("showEmptyTools",!0)("isFullWidth",e.fullWidthHeader)("titleWidthValue",e.titleWidth),l["ɵɵadvance"](1),l["ɵɵproperty"]("items",e.designerTools)}}function hF(e,t){if(1&e&&(l["ɵɵelementStart"](0,"div",9),l["ɵɵelementStart"](1,"div",10),l["ɵɵelement"](2,"crt-droppable-list",11),l["ɵɵelementEnd"](),l["ɵɵelementEnd"]()),2&e){const e=l["ɵɵnextContext"](2);l["ɵɵadvance"](2),l["ɵɵproperty"]("items",e.designerItems)}}function gF(e,t){if(1&e&&(l["ɵɵtemplate"](0,mF,2,14,"crt-expansion-panel-header",3),l["ɵɵelementStart"](1,"mat-expansion-panel",4,5),l["ɵɵtemplate"](3,hF,3,1,"ng-template",6),l["ɵɵelementEnd"]()),2&e){const e=l["ɵɵnextContext"]();l["ɵɵproperty"]("ngIf",e.title||e.tooltip||e.description||(null==e.tools?null:e.tools.length)),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngClass",e.expansionPanelClasses)("expanded",e.expanded)("hideToggle",!0)}}uF.ɵfac=function(e){return new(e||uF)},uF.ɵmod=l["ɵɵdefineNgModule"]({type:uF}),uF.ɵinj=l["ɵɵdefineInjector"]({imports:[[o.CommonModule,pD]]}),uF=(0,a.gn)([(0,r.CrtModule)({viewElements:[dF]})],uF),("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](uF,{declarations:[dF],imports:[o.CommonModule,pD],exports:[dF]});let fF=class extends MP{constructor(e){super(e),this.designerItems=[],this.designerTools=[],this._commandFactoryService=this.injector.get(HN)}_getUpdateExpandedConfig(){return{viewConfig:{name:this.name,expanded:this.expanded}}}_updateViewConfig(e){this._commandFactoryService.create("crt.UpdateViewConfigCommand",e).pipe((0,$r.zg)((e=>e.execute()))).subscribe()}_getUpdateItemsConfig(e,t){return{applyPropertiesStrategies:[{value:Ep.Override,propertyPath:"itemConfig.items"}],silentMode:!0,viewConfig:{items:e,tools:t}}}_initDesignerItems(){var e,t;const n=this.injector.get(il);let i=null!==(e=null==n?void 0:n.tools)&&void 0!==e?e:[],r=null!==(t=null==n?void 0:n.items)&&void 0!==t?t:[];const a=r.filter((e=>e.gridContainerType===PP.TOOLS));0===(null==i?void 0:i.length)&&(null==a?void 0:a.length)>0&&(r=r.filter((e=>e.gridContainerType!==PP.TOOLS)),i=a,this.applyItemsChanges(null==n?void 0:n.name,r,a)),this.designerItems=YN(r,{selected:!1}),this.designerTools=YN(i,{selected:!1})}applyItemsChanges(e,t,n){const i=this._getUpdateItemsConfig(t,n);i.viewConfig.name=e||this.name,this._updateViewConfig(i)}applyExpandedStateChanges(){const e=this._getUpdateExpandedConfig();this._updateViewConfig(e)}ngOnInit(){super.ngOnInit(),this._initDesignerItems()}onOpened(){super.onOpened(),this.applyExpandedStateChanges()}onClosed(){super.onClosed(),this.applyExpandedStateChanges()}};fF.ɵfac=function(e){return new(e||fF)(l["ɵɵdirectiveInject"](l.Injector))},fF.ɵcmp=l["ɵɵdefineComponent"]({type:fF,selectors:[["crt-designer-expansion-panel"]],features:[l["ɵɵInheritDefinitionFeature"]],decls:3,vars:2,consts:[[3,"styles",4,"ngIf","ngIfElse"],["expansion_panel_template",""],[3,"styles"],[3,"title","tooltip","description","expanded","togglePosition","toggleType","labelColor","dir","ariaLabel","extraStyles","showEmptyTools","isFullWidth","titleWidthValue","expandedChange",4,"ngIf"],[3,"ngClass","expanded","hideToggle"],["matExpansionPanel",""],["matExpansionPanelContent",""],[3,"title","tooltip","description","expanded","togglePosition","toggleType","labelColor","dir","ariaLabel","extraStyles","showEmptyTools","isFullWidth","titleWidthValue","expandedChange"],["propertyName","tools",3,"items"],[1,"expansion-panel-content-wrap"],[1,"content-wrap"],["propertyName","items",3,"items"]],template:function(e,t){if(1&e&&(l["ɵɵtemplate"](0,pF,1,1,"crt-skeleton-loader",0),l["ɵɵtemplate"](1,gF,4,4,"ng-template",null,1,l["ɵɵtemplateRefExtractor"])),2&e){const e=l["ɵɵreference"](2);l["ɵɵproperty"]("ngIf",t.loading)("ngIfElse",e)}},directives:[o.NgIf,di,ie.ib,o.NgClass,ie.HS,vP,en.Lv,aF],styles:["crt-designer-expansion-panel,crt-expansion-panel{border-radius:8px;padding:5px 16px;display:flex;flex-direction:column;height:100%;box-sizing:border-box;overflow:hidden}crt-designer-expansion-panel crt-designer-expansion-panel,crt-designer-expansion-panel crt-expansion-panel,crt-expansion-panel crt-designer-expansion-panel,crt-expansion-panel crt-expansion-panel{padding-left:16px;padding-right:0}crt-designer-expansion-panel crt-designer-expansion-panel[dir=rtl],crt-designer-expansion-panel crt-expansion-panel[dir=rtl],crt-expansion-panel crt-designer-expansion-panel[dir=rtl],crt-expansion-panel crt-expansion-panel[dir=rtl]{padding-left:0;padding-right:16px}crt-designer-expansion-panel .crt-expansion-panel.mat-expansion-panel,crt-expansion-panel .crt-expansion-panel.mat-expansion-panel{visibility:hidden;box-shadow:none}crt-designer-expansion-panel .crt-expansion-panel.mat-expansion-panel .mat-expansion-panel-content,crt-expansion-panel .crt-expansion-panel.mat-expansion-panel .mat-expansion-panel-content{min-height:0}crt-designer-expansion-panel .crt-expansion-panel.mat-expansion-panel .mat-expansion-panel-content .mat-expansion-panel-body,crt-expansion-panel .crt-expansion-panel.mat-expansion-panel .mat-expansion-panel-content .mat-expansion-panel-body{padding:0;height:100%;overflow:auto;display:flex;flex-direction:column}crt-designer-expansion-panel .crt-expansion-panel.mat-expansion-panel.disable-overflow .mat-expansion-panel-body,crt-expansion-panel .crt-expansion-panel.mat-expansion-panel.disable-overflow .mat-expansion-panel-body{overflow:hidden}crt-designer-expansion-panel .crt-expansion-panel.mat-expansion-panel.mat-expanded,crt-expansion-panel .crt-expansion-panel.mat-expansion-panel.mat-expanded{display:contents;visibility:visible}crt-designer-expansion-panel .crt-expansion-panel.mat-expansion-panel.mat-expanded.toggle-default .mat-expansion-panel-content,crt-expansion-panel .crt-expansion-panel.mat-expansion-panel.mat-expanded.toggle-default .mat-expansion-panel-content{height:calc(100% - 43px)}crt-designer-expansion-panel .crt-expansion-panel.mat-expansion-panel.mat-expanded.toggle-material .mat-expansion-panel-content,crt-expansion-panel .crt-expansion-panel.mat-expansion-panel.mat-expanded.toggle-material .mat-expansion-panel-content{height:calc(100% - 48px)}crt-designer-expansion-panel .crt-expansion-panel.mat-expansion-panel.mat-expanded>.mat-expansion-panel-content,crt-expansion-panel .crt-expansion-panel.mat-expansion-panel.mat-expanded>.mat-expansion-panel-content{padding-bottom:10px}","crt-designer-expansion-panel .crt-expansion-panel.mat-expansion-panel.mat-expanded .mat-expansion-panel-content{min-height:32px}"],encapsulation:2,changeDetection:0}),fF=(0,a.gn)([Ks({type:"crt.DesignerExpansionPanel",overrideType:"crt.ExpansionPanel"}),(0,a.w6)("design:paramtypes",[l.Injector])],fF);let vF=class{};vF.ɵfac=function(e){return new(e||vF)},vF.ɵmod=l["ɵɵdefineNgModule"]({type:vF}),vF.ɵinj=l["ɵɵdefineInjector"]({imports:[[DP,o.CommonModule,ie.To,St.Ps,Pu,Rn,ui,cx,Kw,oF]]}),vF=(0,a.gn)([(0,r.CrtModule)({viewElements:[fF]})],vF),("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](vF,{declarations:[fF],imports:[DP,o.CommonModule,ie.To,St.Ps,Pu,Rn,ui,cx,Kw,oF],exports:[fF]});let bF=class extends qP{constructor(e){super(e),this.injector=e,this.designerItems=[]}ngOnInit(){super.ngOnInit(),this._initTabItems()}_initTabItems(){var e;const t=this.injector.get(il),n=null!==(e=null==t?void 0:t.items)&&void 0!==e?e:[];this.designerItems=YN(n,{selected:!1})}};function CF(e){return function(t){return VN.registerItem({type:e.type,component:t}),t}}function yF(e){return function(t){if(!e.type.startsWith("crt."))throw new Error(`Error when register ${e.type} command. Type property should have format "VendorPrefix.TypeName"`);HN.register(e.type,t)}}bF.ɵfac=function(e){return new(e||bF)(l["ɵɵdirectiveInject"](l.Injector))},bF.ɵcmp=l["ɵɵdefineComponent"]({type:bF,selectors:[["crt-designer-tab-container"]],features:[l["ɵɵInheritDefinitionFeature"]],decls:2,vars:1,consts:[[1,"crt-tab"],["propertyName","items",3,"items"]],template:function(e,t){1&e&&(l["ɵɵelementStart"](0,"div",0),l["ɵɵelement"](1,"crt-droppable-list",1),l["ɵɵelementEnd"]()),2&e&&(l["ɵɵadvance"](1),l["ɵɵproperty"]("items",t.designerItems))},directives:[aF],styles:[".crt-tab{width:100%;height:100%;min-width:32px;min-height:32px;overflow-y:auto}"],encapsulation:2,changeDetection:0}),bF=(0,a.gn)([Ks({type:"crt.DesignerTabContainer",overrideType:"crt.TabContainer"}),(0,a.w6)("design:paramtypes",[l.Injector])],bF);class wF{constructor(e){this.injector=e,this.injectDependencies()}get _designerSchemaResources(){return this.designerSchemaService.resources}findCaptionFromResources(e){return this._resourceFinderService.findValueFromResource(e,this._designerSchemaResources)||""}findTranslate(e){return this._translateService.instant(e)||""}injectDependencies(){this.designerSchemaService=this.injector.get(nO),this._resourceFinderService=this.injector.get(fa),this._translateService=this.injector.get(u.sK)}createDisplayValue(e){if(e&&e.caption){const t=e.caption;return this.findCaptionFromResources(t)}return""}getDisplayValue(e){return this.createDisplayValue(e)}}class _F{constructor(e){this._injector=e}static register(e,t){_F.exists(e)||this._items.set(e,t)}static _getCreatorType(e){return _F._items.get(e)}static exists(e){return _F._items.has(e)}get(e){const t=_F._getCreatorType(e);return t?new t(this._injector):new wF(this._injector)}}_F._items=new Map,_F.ɵfac=function(e){return new(e||_F)(l["ɵɵinject"](l.Injector))},_F.ɵprov=l["ɵɵdefineInjectable"]({token:_F,factory:_F.ɵfac,providedIn:"root"});class xF{constructor(e){this.injector=e}injectDependencies(){return(0,h.of)(null).pipe((0,En.b)((()=>{this.designerSchemaService=this.injector.get(nO),this._designerSyncService=this.injector.get(Hj)})))}execute(){return this._designerSyncService.register(this.innerExecute()).pipe((0,dr.K)((e=>(console.log(`Command execution error!\nCommandType: ${typeof this}.\nError: ${e}`),(0,h.of)({success:!1,errorMessage:e})))))}init(){return this.injectDependencies().pipe((0,g.U)((()=>this)))}}let IF=class extends xF{constructor(e,t){super(e),this.config=t}innerExecute(){const{defaultViewConfig:e,designerTool:t,index:n,containerName:i,propertyName:r}=this.config,a=this.designerSchemaService.create({defaultConfig:t.defaultConfig,parentName:i,propertyName:r,defaultViewConfig:e,index:n});return(0,h.of)({success:!0,createdViewElement:a})}};IF=(0,a.gn)([yF({type:"crt.AddViewItemCommand"}),(0,a.w6)("design:paramtypes",[l.Injector,Object])],IF);let SF=class extends IF{_setVisibilityAttribute(e){this.designerSchemaService.createViewModelAttribute(e,{value:!0})}_setItemsAttribute(e){this.designerSchemaService.createViewModelAttribute(e,{isCollection:!0,viewModelConfig:{attributes:{Id:{},Name:{},ParentId:{},FilterData:{}}}})}_setFolderTreeAttributes(e){const{visibleAttrName:t,itemsAttrName:n,activeFolderIdAttrName:i,activeFolderNameAttrName:r,activeFolderFilterAttrName:a}=rs(e);this._setVisibilityAttribute(t),this._setItemsAttribute(n),this.designerSchemaService.createViewModelAttribute(i,{}),this.designerSchemaService.createViewModelAttribute(r,{}),this.designerSchemaService.createViewModelAttribute(a,{value:{}})}innerExecute(){return super.innerExecute().pipe((0,En.b)((e=>{var t;this._setFolderTreeAttributes(null===(t=e.createdViewElement)||void 0===t?void 0:t.name)})))}};SF=(0,a.gn)([yF({type:"crt.AddFolderTreeCommand"})],SF);let MF=class extends xF{constructor(e,t){super(e),this.injector=e,this.config=t,this._subscription=new h.Subscription,this._notifyService=e.get(Tt),this._errorListDialogService=e.get(dj)}_showValidationErrors(e,t){this._subscription.add(this._errorListDialogService.showValidationErrors(e,t).subscribe())}_showNotification(){var e,t,n;const i=this.config.saveResponse,r=this.config.notificationDuration;i.success?this._notifyService.show({message:"InterfaceDesigner.Messages.SuccessfullySaved"}):i&&(null===(e=i.validationErrors)||void 0===e?void 0:e.length)>0?this._showValidationErrors(null===(t=i.errorInfo)||void 0===t?void 0:t.message,i.validationErrors):this._notifyService.error({message:null===(n=i.errorInfo)||void 0===n?void 0:n.message,duration:null!=r?r:5e3}).then()}innerExecute(){return this._showNotification(),(0,h.of)({success:!0})}ngOnDestroy(){this._subscription.unsubscribe()}};MF=(0,a.gn)([yF({type:"crt.AfterDesignerItemSaved"}),(0,a.w6)("design:paramtypes",[l.Injector,Object])],MF);var DF=n(83802);let PF=class extends xF{constructor(e,t){super(e),this.config=t}innerExecute(){return this.designerSchemaService.moveToContainer(this.config),(0,DF.of)({success:!0})}};PF=(0,a.gn)([yF({type:"crt.MoveToContainerCommand"}),(0,a.w6)("design:paramtypes",[l.Injector,Object])],PF);let TF=class extends xF{constructor(e,t){super(e),this.injector=e,this.config=t}_hasLocalizations(e){return(0,Ku.Z)(e)&&[...e].find((e=>e.cultureName&&e.value))}_getBindedAttributeName(e){const t=e.viewConfig.control;return t&&t.startsWith("$")?t.slice(1):null}innerExecute(){const e={},t=[];this.config.changes.forEach((n=>{(0,lo.Z)(e,n.path,n.value),n.applyPropertyStrategy&&t.push({propertyPath:n.path,value:n.applyPropertyStrategy})})),e.itemConfig.name=this.config.name;const n={strings:{}};return Object.entries(e.itemConfig).forEach((([t,i])=>{if(this._hasLocalizations(i)){const r=this.config.name.split(/[.-]/).join("")+"_"+t;n.strings[r]=i.filter((e=>e.value)).reduce(((e,t)=>Object.assign(e,{[t.cultureName]:t.value})),{}),e.itemConfig[t]=`#ResourceString(${r})#`}else if("label"===t){const t=this.designerSchemaService.getViewConfigInfoByName(this.config.name),n=this._getBindedAttributeName(t);e.itemConfig.label=`$Resources.Strings.${n}`}else i instanceof Hr&&(e.itemConfig[t]="")})),this.designerSchemaService.update(Object.assign(Object.assign({},e),{resources:n,applyPropertiesStrategies:t,selectOnCanvas:this.config.selectOnCanvas})),(0,h.of)({success:!0})}};TF=(0,a.gn)([yF({type:"crt.ChangeViewItemCommand"}),(0,a.w6)("design:paramtypes",[l.Injector,Object])],TF);let kF=class extends xF{constructor(e,t){super(e),this.config=t}innerExecute(){const e=this.designerSchemaService.copy(this.config.name,this.config.layoutConfig,this.config.propertyName,this.config.index,this.config.copyMetadata);return(0,h.of)({success:!0,copiedViewElement:e})}};kF=(0,a.gn)([yF({type:"crt.CopyViewItemCommand"}),(0,a.w6)("design:paramtypes",[l.Injector,Object])],kF);var EF=n(78219);let NF=class extends TF{_updateFolderTreeModelConfig(e,t,n,i){return this._schemaRepository.getSchema(i).pipe((0,Tn.q)(1),(0,En.b)((({primaryAttributeName:r,primaryDisplayAttributeName:a,hierarchyAttributeName:o})=>{this.designerSchemaService.updateViewModelAttribute(e,{isCollection:!0,viewModelConfig:{attributes:{Id:{modelConfig:{path:`${t}.${r}`}},Name:{modelConfig:{path:`${t}.${a}`}},ParentId:{modelConfig:{path:`${t}.${o}.${r}`}},FilterData:{modelConfig:{path:`${t}.FilterData`}}}},modelConfig:{path:t,filterAttributes:[{name:n,loadOnChange:!0}]},embeddedModel:{name:t,config:{type:"crt.EntityDataSource",config:{entitySchemaName:i}}}})})),(0,g.U)((()=>null)))}_removePreviousFilterBindings(){const{activeFolderFilterAttrName:e}=rs(this.config.name);return this.designerSchemaService.removeDataSourcesFilterAttributeBinding(e),(0,h.of)(null)}_setModel(){const e=this.designerSchemaService.getViewConfigInfoByName(this.config.name),{rootSchemaName:t,sourceSchemaName:n}=e.viewConfig,{itemsAttrName:i,itemsModelName:a,itemsFilterAttrName:o}=rs(this.config.name),s=new r.FilterGroup(r.LogicalOperatorType.And);s.addSchemaColumnFilterWithParameter(r.ComparisonType.Equal,"EntitySchemaName",t);const l=(0,EF.ZE)(s,{exposeUnsetFields:!1,excludePrefixes:["_"]});return this.designerSchemaService.isViewModelAttributeExists(o)?this.designerSchemaService.setViewModelAttribute(o,{value:l}):this.designerSchemaService.createViewModelAttribute(o,{value:l}),this._updateFolderTreeModelConfig(i,a,o,n)}_isRootSchemaNameChange(e){return e.find((e=>"itemConfig.rootSchemaName"===e.path))}injectDependencies(){return super.injectDependencies().pipe((0,En.b)((()=>{this._schemaRepository=this.injector.get(Bj)})))}innerExecute(){return super.innerExecute().pipe((0,$r.zg)((e=>this._isRootSchemaNameChange(this.config.changes)?this._removePreviousFilterBindings().pipe((0,$r.zg)((()=>this._setModel())),(0,g.U)((()=>e))):(0,h.of)(e))))}};NF=(0,a.gn)([yF({type:"crt.ChangeFolderTreeViewItemCommand"})],NF);let OF=class extends xF{constructor(e,t){super(e),this.injector=e,this.config=t}innerExecute(){const e=Object.assign({itemConfig:this.config.viewConfig,resources:{strings:{}},viewModelConfig:this.designerSchemaService.getViewModelConfig(!0),applyPropertiesStrategies:this.config.applyPropertiesStrategies},this.config.silentMode&&{selectOnCanvas:!1});return this.designerSchemaService.update(e),(0,h.of)({success:!0})}};OF=(0,a.gn)([yF({type:"crt.UpdateViewConfigCommand"}),(0,a.w6)("design:paramtypes",[l.Injector,Object])],OF);let jF=class extends xF{constructor(e,t){super(e),this.config=t}innerExecute(){return this.designerSchemaService.remove(this.config.itemName),(0,h.of)({success:!0})}};jF=(0,a.gn)([yF({type:"crt.RemoveViewItemCommand"}),(0,a.w6)("design:paramtypes",[l.Injector,Object])],jF);let AF=class extends jF{constructor(e,t){super(e,t),this.config=t}injectDependencies(){return super.injectDependencies().pipe((0,En.b)((()=>{this._dsManager=this.injector.get(Lj)})))}innerExecute(){const e=this.designerSchemaService.getViewConfigInfoByName(this.config.itemName).viewConfig.control;if(e){const t=e.slice(1),n=this.designerSchemaService.getMappedDataSourceAttributePath(t).split(".").shift();if(1===this.designerSchemaService.getViewConfigsByViewModelAttribute(t).length)return this._dsManager.getDataSourceServiceByDataSourceName(n).pipe((0,$r.zg)((e=>e.removeAttribute(t))),(0,$r.zg)((()=>super.innerExecute())))}return super.innerExecute()}};AF=(0,a.gn)([yF({type:"crt.RemoveComboBoxViewItemCommand"}),(0,a.w6)("design:paramtypes",[l.Injector,Object])],AF);let RF=class extends jF{constructor(e,t){super(e,t),this.config=t}_removeFilterBindings(e){this.designerSchemaService.removeDataSourcesFilterAttributeBinding(e)}_removeFolderTreeAttributes(e){const{activeFolderIdAttrName:t,activeFolderNameAttrName:n,activeFolderFilterAttrName:i,itemsAttrName:r,visibleAttrName:a,itemsFilterAttrName:o}=rs(e);this.designerSchemaService.removeViewModelAttribute(t),this.designerSchemaService.removeViewModelAttribute(n),this._removeFilterBindings(i),this.designerSchemaService.removeViewModelAttribute(i),this.designerSchemaService.removeViewModelAttribute(r),this.designerSchemaService.removeViewModelAttribute(a),this.designerSchemaService.removeViewModelAttribute(o)}_removeActionButtonBindings(e){this.designerSchemaService.getViewConfigInfoByProperty("type","crt.FolderTreeActions").filter((t=>t.viewConfig.folderTree===e)).forEach((e=>{this.designerSchemaService.update({itemConfig:{name:e.viewConfig.name,folderTree:null}})}))}innerExecute(){const e=this.config.itemName;return this._removeFolderTreeAttributes(e),this._removeActionButtonBindings(e),super.innerExecute()}};RF=(0,a.gn)([yF({type:"crt.RemoveFolderTreeViewItemCommand"}),(0,a.w6)("design:paramtypes",[l.Injector,Object])],RF);const FF=["caption_input"];let VF=(()=>{class e{constructor(e,t){this._injector=e,this._userInfo=t,this.resourceFinderService=this._injector.get(fa),this.captionChanged=new l.EventEmitter}_getLczResource(e){const t={};return e.forEach((e=>t[e.cultureName]=e.value)),t}_applyCaptionValue(e){const t=this._userInfo.cultureInfo.sysCultureName||this._userInfo.defCultureInfo.sysCultureName,n=this._localizations.find((e=>e.cultureName===t));n?n.value=e:this._localizations=new Hr([...this._localizations,{cultureName:t,value:e}]),XP.setEditMode(this.tab,!1),this.captionChanged.emit(this._localizations)}ngAfterViewInit(){this.captionInput.nativeElement.focus()}ngOnInit(){this._localizations=this.resourceFinderService.findLocalizationFromResourceString(this.tab.caption,this.resourceContext);const e=this._getLczResource(this._localizations);this.value=this.resourceFinderService.findLocalizableValue(e)}onBlur(e){(e=e.trim())||this.tab.icon?this._applyCaptionValue(e):XP.setEditMode(this.tab,!1)}onKeyDown(e,t){e.stopPropagation();const n=e.key;if(n===w_.s.Enter){if(!(t=t.trim())&&!this.tab.icon)return;this._applyCaptionValue(t)}n===w_.s.Escape&&XP.setEditMode(this.tab,!1)}onClick(e){e.preventDefault(),e.stopPropagation()}onMouseDown(e){e.stopPropagation()}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](l.Injector),l["ɵɵdirectiveInject"](Yr))},e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["crt-editable-tab-header"]],viewQuery:function(e,t){if(1&e&&l["ɵɵviewQuery"](FF,5),2&e){let e;l["ɵɵqueryRefresh"](e=l["ɵɵloadQuery"]())&&(t.captionInput=e.first)}},inputs:{resourceContext:"resourceContext",value:"value",tab:"tab"},outputs:{captionChanged:"captionChanged"},decls:2,vars:1,consts:[[1,"tab-caption",3,"value","blur","keydown","click","mousedown"],["caption_input",""]],template:function(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵelementStart"](0,"input",0,1),l["ɵɵlistener"]("blur",(function(){l["ɵɵrestoreView"](e);const n=l["ɵɵreference"](1);return t.onBlur(n.value)}))("keydown",(function(n){l["ɵɵrestoreView"](e);const i=l["ɵɵreference"](1);return t.onKeyDown(n,i.value)}))("click",(function(e){return t.onClick(e)}))("mousedown",(function(e){return t.onMouseDown(e)})),l["ɵɵelementEnd"]()}2&e&&l["ɵɵproperty"]("value",t.value)},styles:["crt-editable-tab-header{display:flex}crt-editable-tab-header .tab-caption{width:170px;outline:none;border:none;text-transform:uppercase;font-size:13px;font-family:var(--font-family)}crt-editable-tab-header .tab-action-remove-button .crt-button{background:transparent}"],encapsulation:2}),e})();function LF(e,t){if(1&e&&l["ɵɵelement"](0,"crt-skeleton-loader",2),2&e){const e=l["ɵɵnextContext"]();l["ɵɵproperty"]("styles",e.skeletonStyles)}}function zF(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵelementStart"](0,"div"),l["ɵɵelementStart"](1,"div",17),l["ɵɵlistener"]("click",(function(t){l["ɵɵrestoreView"](e);const n=l["ɵɵnextContext"](2).index;return l["ɵɵnextContext"](2).selectTab(t,n-1)})),l["ɵɵelementEnd"](),l["ɵɵelementEnd"]()}if(2&e){const e=l["ɵɵnextContext"](2).index;l["ɵɵclassMap"]("tab-header-part-wrap "+(0===e?"first-tab":""))}}function BF(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵelementStart"](0,"crt-editable-tab-header",18),l["ɵɵlistener"]("captionChanged",(function(t){l["ɵɵrestoreView"](e);return l["ɵɵnextContext"](4).onCaptionChanged(t)})),l["ɵɵelementEnd"]()}if(2&e){const e=l["ɵɵnextContext"](2).$implicit,t=l["ɵɵnextContext"](2);l["ɵɵproperty"]("resourceContext",t.resourceContext)("tab",e)}}function GF(e,t){if(1&e&&(l["ɵɵelementStart"](0,"div",26),l["ɵɵelement"](1,"img",27),l["ɵɵpipe"](2,"bypassSecurityTrust"),l["ɵɵelementEnd"]()),2&e){const e=l["ɵɵnextContext"](4).$implicit;l["ɵɵproperty"]("title",e.hint||""),l["ɵɵadvance"](1),l["ɵɵproperty"]("src",l["ɵɵpipeBind2"](2,3,e.icon,"resourceUrl"),l["ɵɵsanitizeUrl"])("alt",e.hint)}}function HF(e,t){if(1&e&&(l["ɵɵelementStart"](0,"div",28),l["ɵɵelement"](1,"mat-icon",29),l["ɵɵelementEnd"]()),2&e){const e=l["ɵɵnextContext"](4).$implicit,t=l["ɵɵnextContext"](2);l["ɵɵproperty"]("title",e.hint||""),l["ɵɵadvance"](1),l["ɵɵstyleProp"]("color",e.selected?t.selectedTitleColor:t.titleColor),l["ɵɵproperty"]("svgIcon",e.icon||"default-tab-icon")}}function UF(e,t){1&e&&l["ɵɵelement"](0,"div",30)}function ZF(e,t){if(1&e&&(l["ɵɵelementContainerStart"](0,22),l["ɵɵtemplate"](1,GF,3,6,"div",23),l["ɵɵtemplate"](2,HF,2,4,"div",24),l["ɵɵtemplate"](3,UF,1,0,"div",25),l["ɵɵelementContainerEnd"]()),2&e){const e=l["ɵɵnextContext"](3).$implicit;l["ɵɵproperty"]("ngSwitch",e.iconSource),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngSwitchCase","url"),l["ɵɵadvance"](2),l["ɵɵproperty"]("ngIf",e.caption&&"only-icon"!==e.iconPosition)}}function $F(e,t){if(1&e&&l["ɵɵelement"](0,"crt-label",31),2&e){const e=l["ɵɵnextContext"](3).$implicit,t=l["ɵɵnextContext"](2);l["ɵɵproperty"]("labelColor",e.selected?t.selectedTitleColor:t.titleColor)("caption",e.title)}}function WF(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵelementStart"](0,"div",19),l["ɵɵlistener"]("click",(function(t){l["ɵɵrestoreView"](e);const n=l["ɵɵnextContext"](2).index;return l["ɵɵnextContext"](2).selectTab(t,n)})),l["ɵɵtemplate"](1,ZF,4,3,"ng-container",20),l["ɵɵtemplate"](2,$F,1,2,"crt-label",21),l["ɵɵelementEnd"]()}if(2&e){const e=l["ɵɵnextContext"](2).$implicit;l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",e.iconPosition&&"only-text"!==e.iconPosition),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf","only-icon"!==e.iconPosition)}}function qF(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵelementStart"](0,"crt-button",32),l["ɵɵlistener"]("clicked",(function(){l["ɵɵrestoreView"](e);const t=l["ɵɵnextContext"](2).$implicit;return l["ɵɵnextContext"](2).onRemoveClicked(t)})),l["ɵɵpipe"](1,"translate"),l["ɵɵelementEnd"]()}2&e&&l["ɵɵproperty"]("disableRipple",!0)("title",l["ɵɵpipeBind1"](1,2,"Components.TabPanel.DeleteTab"))}function YF(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵelementStart"](0,"div",33),l["ɵɵelementStart"](1,"div",34),l["ɵɵlistener"]("click",(function(t){l["ɵɵrestoreView"](e);const n=l["ɵɵnextContext"](2).index;return l["ɵɵnextContext"](2).selectTab(t,n+1)})),l["ɵɵelementEnd"](),l["ɵɵelementEnd"]()}}function JF(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵtemplate"](0,zF,2,3,"div",10),l["ɵɵelementStart"](1,"div",11),l["ɵɵlistener"]("cdkDropListDropped",(function(t){l["ɵɵrestoreView"](e);return l["ɵɵnextContext"](3).onTabDrop(t)}))("dblclick",(function(t){l["ɵɵrestoreView"](e);const n=l["ɵɵnextContext"]().$implicit;return l["ɵɵnextContext"](2).onCaptionEdit(t,n)})),l["ɵɵelementStart"](2,"div",12),l["ɵɵtemplate"](3,BF,1,2,"crt-editable-tab-header",13),l["ɵɵtemplate"](4,WF,3,2,"ng-template",null,14,l["ɵɵtemplateRefExtractor"]),l["ɵɵelementEnd"](),l["ɵɵtemplate"](6,qF,2,4,"crt-button",15),l["ɵɵelementEnd"](),l["ɵɵtemplate"](7,YF,2,0,"div",16)}if(2&e){const e=l["ɵɵreference"](5),t=l["ɵɵnextContext"](),n=t.$implicit,i=t.index,r=l["ɵɵnextContext"](2);l["ɵɵproperty"]("ngIf","fullyColored"===r.styleType&&n.selected),l["ɵɵadvance"](1),l["ɵɵproperty"]("id",r.name+"-list-"+i)("ngClass",n.headerClasses)("cdkDropListData",r.items)("cdkDropListConnectedTo",r.getAllTabs(i)),l["ɵɵadvance"](1),l["ɵɵproperty"]("cdkDragData",n),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",n.editMode)("ngIfElse",e),l["ɵɵadvance"](3),l["ɵɵproperty"]("ngIf",r.isRemoveTabButtonVisible(n)),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf","fullyColored"===r.styleType&&n.selected)}}function QF(e,t){if(1&e&&l["ɵɵelementContainer"](0,37),2&e){const e=l["ɵɵnextContext"](2).$implicit;l["ɵɵproperty"]("crtViewElement",e)}}function KF(e,t){if(1&e&&(l["ɵɵelementStart"](0,"div",35),l["ɵɵtemplate"](1,QF,1,1,"ng-container",36),l["ɵɵelementEnd"]()),2&e){const e=l["ɵɵnextContext"]().$implicit,t=l["ɵɵnextContext"](2);l["ɵɵstyleProp"]("background",t.bodyBackground),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",e.selected)}}function XF(e,t){1&e&&(l["ɵɵelementStart"](0,"mat-tab",7),l["ɵɵtemplate"](1,JF,8,10,"ng-template",8),l["ɵɵtemplate"](2,KF,2,3,"ng-template",9),l["ɵɵelementEnd"]())}function eV(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵelementStart"](0,"div"),l["ɵɵelementStart"](1,"mat-tab-group",3),l["ɵɵlistener"]("selectedIndexChange",(function(t){l["ɵɵrestoreView"](e);return l["ɵɵnextContext"]().selectedTabIndex=t})),l["ɵɵtemplate"](2,XF,3,0,"mat-tab",4),l["ɵɵelementEnd"](),l["ɵɵelementStart"](3,"div",5),l["ɵɵlistener"]("mousedown",(function(e){return e.stopPropagation()}))("dblclick",(function(e){return e.stopPropagation()})),l["ɵɵelementStart"](4,"crt-button",6),l["ɵɵlistener"]("clicked",(function(){l["ɵɵrestoreView"](e);return l["ɵɵnextContext"]().addNewTab()})),l["ɵɵpipe"](5,"translate"),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵelementEnd"]()}if(2&e){const e=l["ɵɵnextContext"]();l["ɵɵclassMap"](e.styleClasses),l["ɵɵadvance"](1),l["ɵɵproperty"]("selectedIndex",e.selectedTabIndex)("disableRipple",!0),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngForOf",e.tabs)("ngForTrackBy",e.trackByNgFor),l["ɵɵadvance"](2),l["ɵɵproperty"]("title",l["ɵɵpipeBind1"](5,9,"Components.TabPanel.AddTab"))("disableRipple",!0)}}let tV=class extends $P{constructor(e,t,n,i,r){super(e,t),this._dialogService=n,this._translateService=i,this._resourceFinderService=r,this._destroyed$=new h.Subject,this._tabs=[],this.itemPropertiesChanged=new l.EventEmitter,this._designerSchemaService=this.injector.get(nO),this._designerContainerService=this.injector.get(Nj),this._commandFactoryService=this.injector.get(HN),this._macrosHandlerService=this.injector.get(uo),this._viewCommandExecutor=this.injector.get(ZN),this._featureService.getFeatureState("TabContainerDeleteConfirmationDialog").subscribe({next:e=>{this._isConfirmationDialogEnabled=e}})}set tabs(e){this._tabs=e}get tabs(){return this._tabs}get activeTabName(){var e;return null===(e=this.activeTabItem)||void 0===e?void 0:e.name}get activeTabItem(){return this.tabs[this.selectedTabIndex]}get resourceContext(){return this._resourceContext}_findCurrentItems(e,t){if(e.name===t)return e.items;if(e.items)for(const n of e.items){const e=this._findCurrentItems(n,t);if(e)return e}return null}_findInnerItem(e,t){if(Array.isArray(e.items)&&e.items.some((e=>e.name===t)))return e.name;if(e.items)for(const n of e.items){const e=this._findInnerItem(n,t);if(e)return e}return null}_getUpdateViewConfig(){return{viewConfig:{name:this.name,items:this.tabs}}}_insertTab(e){const t={containerName:this.name,index:this.selectedTabIndex+1,designerTool:{defaultConfig:{type:e.type,defaultPropertyValues:e,defaultLocalizableStrings:{caption:"Components.TabPanel.NewTabName"}}}};this._commandFactoryService.create("crt.AddViewItemCommand",t).pipe((0,$r.zg)((e=>e.execute()))).subscribe()}_hasInnerItem(e,t){var n;return this.tabs.some((n=>n.name===e||n.items.some((n=>n.name===e||n.name===t))))||(null===(n=this.activeTabItem)||void 0===n?void 0:n.items.some((e=>Array.isArray(e.items)?e.items.some((e=>e.name===t)):null)))}_convertTabs(e){let t=e.filter((e=>"crt.TabContainer"===e.type)),n=e.filter((e=>"crt.TabContainer"!==e.type));return n.length>0&&(n=n.map((e=>{const t=TP.getTabConfig(e.name,e.caption,[e],e.icon);return e.name=wt.generateUnique("GridContainer"),delete e.caption,delete e.defaultLocalizableStrings,t})),t=t.concat(n)),t}_getUpdateItemsConfig(e){return{applyPropertiesStrategies:[{value:Ep.Override,propertyPath:"itemConfig.items"}],silentMode:!0,viewConfig:{items:e}}}_initTabItems(){var e;const t=this.injector.get(il);if(!t)return;const n=null!==(e=t.items)&&void 0!==e?e:[],i=this._convertTabs(n);if(this.tabs=i.map((e=>{const t=(0,so.Z)(e);return XP.setSelected(t,!1),XP.updateTabIconSource(t),t.title=this._getCaptionByResource(t.caption),t})),0!==n.filter((e=>"crt.TabContainer"!==e.type)).length){const e=t.name;this.applyItemsChanges(e,i)}if(this.tabs.length>0){const e=this.tabs[0];XP.setSelected(e,!0)}}_getDeleteConfirmationCaption(e){const t=this._translateService.instant("Components.TabPanel.DeleteTabConfirmation");return ur.String.Format(t,e)}_updateViewConfig(e){this._commandFactoryService.create("crt.UpdateViewConfigCommand",e).pipe((0,$r.zg)((e=>e.execute()))).subscribe()}_getCaptionByResource(e){return this._resourceFinderService.findValueFromResource(e,this._resourceContext)||e}_getDefaultTabIcon(e){return e===fb.OnlyText?void 0:YP}onIconPositionChanged(e){this.tabs.forEach((t=>{if(t.icon)XP.updateTabIconSource(t);else{const n=this._getDefaultTabIcon(e);XP.setTabIcon(t,n)}})),this.setTabSelected(this.selectedTabIndex)}applyItemsChanges(e,t){const n=this._getUpdateItemsConfig(t);n.viewConfig.name=e||this.name,this._updateViewConfig(n)}setTabSelected(e,t=FN.Edit){if(e<0)return;this.tabs.forEach((e=>XP.setSelected(e,!1)));const n=this.tabs[e];XP.setSelected(n,!0),this._designerContainerService.select(this.activeTabName,t);const i={viewConfig:{name:this.activeTabName}};this.applyStateChanges(i)}applyStateChanges(e){e=e||this._getUpdateViewConfig(),this._commandFactoryService.create("crt.UpdateViewConfigCommand",e).pipe((0,$r.zg)((e=>e.execute()))).subscribe((e=>{e.success&&this.detectChanges()}))}getAllTabs(e){const t=[];for(let n=0;n<this.tabs.length;n++)n!==e&&t.push(this.name+"-list-"+n);return t}subscribeOnSchemaLoaded(){this._designerSchemaService.schemaLoaded$.subscribe((e=>this._resourceContext=null==e?void 0:e.resources))}_subscribeSelectedChanged(){this._designerContainerService.selectedChanged$.pipe((0,b.R)(this._destroyed$),(0,f.h)((({name:e})=>this.tabs.some((t=>t.name===e))))).subscribe({next:({name:e})=>{const t=this.tabs.findIndex((t=>t.name===e));this.selectedTabIndex!==t&&(this.selectedTabIndex=t)}})}subscribeOnSchemaChanged(){this._designerSchemaService.schemaChanged$.pipe((0,b.R)(this._destroyed$),(0,f.h)((({changes:{viewConfig:e,parentName:t}})=>t===this.name||this.tabs.some((e=>e.name===t))||this._hasInnerItem(e.name,t)))).subscribe({next:({schema:e,changes:{viewConfig:t,operation:n,parentName:i,index:r}})=>{switch(this._resourceContext=null==e?void 0:e.resources,n){case kp.Insert:this.onAfterInsert(t,i,r);break;case kp.MoveToContainer:this.onAfterMoveToContainer(t,i,r,e);break;case kp.Remove:this.onAfterDelete(t,i);break;case kp.Update:this.onAfterUpdate(t,i,e)}this.detectChanges()}})}onAfterInsert(e,t,n){var i;if(this.name===t){const t=(0,so.Z)(e);return this.tabs.splice(n,0,t),0===(null===(i=this.items)||void 0===i?void 0:i.length)&&(this.items=this.tabs),this.setSelectedTabIndex(n),void this.setTabSelected(n,FN.Add)}const r=this.tabs.find((e=>e.name===t));if(r&&!r.items.some((t=>t.name===e.name)))return void r.items.splice(n,0,e);const a=this.tabs.find((e=>e.items.some((e=>e.name===t)))),o=null==a?void 0:a.items.find((e=>e.name===t));o&&!o.items.some((t=>t.name===e.name))&&o.items.splice(n,0,e)}onAfterMoveToContainer(e,t,n,i){if(this.activeTabItem&&(this.activeTabName===t||this._findInnerItem(this.activeTabItem,e.name)||this._findInnerItem(this.activeTabItem,t))){const e=this._findCurrentItems({items:i.viewConfig},this.activeTabName);this.activeTabItem.items=e}}onAfterUpdate(e,t,n){if(this.activeTabItem&&(this.activeTabName===e.name||this.activeTabName===t||this._findInnerItem(this.activeTabItem,e.name)||this._findInnerItem(this.activeTabItem,t))){const e=this._findCurrentItems({items:n.viewConfig},this.activeTabName);this.activeTabItem.items=e}const i=this.tabs.find((t=>t.name===e.name&&"crt.TabContainer"===t.type));i&&(XP.setTabIcon(i,e.icon),XP.setTabIconPosition(i,e.iconPosition),i.title=this._getCaptionByResource(e.caption))}onAfterDelete(e,t){if(this.name===t){const t=this.tabs.findIndex((t=>t.name===e.name));if(this.tabs=this.tabs.filter((t=>t.name!==e.name)),0===this.tabs.length)return;return void(this.selectedTabIndex===this.tabs.length||t<this.selectedTabIndex?this.selectedTabIndex--:this.setTabSelected(this.selectedTabIndex))}if(this.activeTabName===t)return void(this.activeTabItem.items=this.activeTabItem.items.filter((t=>t.name!==e.name)));const n=this.activeTabItem.items.find((e=>e.name===t));n&&(n.items=n.items.filter((t=>t.name!==e.name)))}onTabDrop(e){const t=parseInt(e.previousContainer.id.replace(this.name+"-list-","")),n=parseInt(e.container.id.replace(this.name+"-list-",""));t!==n&&(this._designerSchemaService.moveToIndex(this.tabs[t].name,n),(0,Yp.bA)(this.tabs,t,n),this.selectedTabIndex=n)}onRemoveClicked(e){var t;this._isConfirmationDialogEnabled&&(null===(t=e.items)||void 0===t?void 0:t.length)>0?this.getTabCaption(e).pipe((0,g.U)((e=>this._getDeleteConfirmationCaption(e))),(0,$r.zg)((e=>this._dialogService.openConfirmationDialog({message:e,primaryButton:W,secondaryButton:$}))),(0,f.h)((e=>e===W.result))).subscribe((()=>{this.onRemoveClickedProcessing(e)})):this.onRemoveClickedProcessing(e)}addNewTab(){const e=wt.generateUnique("TabContainer"),t=TP.getNewTabConfig(e);this._insertTab(t)}onRemoveClickedProcessing(e){this._viewCommandExecutor.remove(e).pipe((0,Pn.w)((e=>e.execute()))).subscribe()}ngOnInit(){super.ngOnInit(),this.subscribeOnSchemaLoaded(),this.subscribeOnSchemaChanged(),this._subscribeSelectedChanged(),this._initTabItems()}ngOnDestroy(){this._destroyed$.next(),this._destroyed$.complete()}onCaptionEdit(e,t){e.stopPropagation(),this.tabs.forEach((e=>XP.setEditMode(e,!1))),XP.setEditMode(t,!0)}onCaptionChanged(e){const t={name:this.activeTabItem.name,changes:[{path:"itemConfig.caption",value:e}]};this._commandFactoryService.create("crt.ChangeViewItemCommand",t).pipe((0,$r.zg)((e=>e.execute()))).subscribe((e=>{e.success&&this.detectChanges()}))}onEditModeBlur(e){this.activeTabItem.caption=e,XP.setEditMode(this.activeTabItem,!1)}isRemoveTabButtonVisible(e){return this.tabs.length>1&&e.selected&&!e.editMode}getTabCaption(e){return this._macrosHandlerService.handle(e,this._resourceContext).pipe((0,g.U)((e=>e.caption)))}selectTab(e,t){e.stopPropagation(),t<0||t>=this.tabs.length||(this.selectedTabIndex=t)}};tV.ɵfac=function(e){return new(e||tV)(l["ɵɵdirectiveInject"](l.Injector),l["ɵɵdirectiveInject"](i.DomSanitizer),l["ɵɵdirectiveInject"](X),l["ɵɵdirectiveInject"](u.sK),l["ɵɵdirectiveInject"](fa))},tV.ɵcmp=l["ɵɵdefineComponent"]({type:tV,selectors:[["crt-designer-tab-panel"]],outputs:{itemPropertiesChanged:"itemPropertiesChanged"},features:[l["ɵɵInheritDefinitionFeature"]],decls:3,vars:2,consts:[[3,"styles",4,"ngIf","ngIfElse"],["tabs_template",""],[3,"styles"],["data-qa","tabs","animationDuration","0ms",1,"tab-group",3,"selectedIndex","disableRipple","selectedIndexChange"],["data-qa","tab",4,"ngFor","ngForOf","ngForTrackBy"],[1,"tab-actions-container",3,"mousedown","dblclick"],["icon","tab-action-add-icon",1,"tab-action-add-button",3,"title","disableRipple","clicked"],["data-qa","tab"],["mat-tab-label",""],["matTabContent",""],[3,"class",4,"ngIf"],["cdkDropList","","cdkDropListLockAxis","x","cdkDropListOrientation","horizontal",3,"id","ngClass","cdkDropListData","cdkDropListConnectedTo","cdkDropListDropped","dblclick"],["cdkDrag","","cdkDragRootElement",".mat-tab-label",1,"tab-header-content",3,"cdkDragData"],[3,"resourceContext","tab","captionChanged",4,"ngIf","ngIfElse"],["readonly_header",""],["class","tab-action-remove-button","icon","tab-action-remove-icon",3,"disableRipple","title","clicked",4,"ngIf"],["class","tab-header-part-wrap",4,"ngIf"],[1,"pre-tab-header","tab-header-part",3,"click"],[3,"resourceContext","tab","captionChanged"],[1,"tab-header-content",3,"click"],[3,"ngSwitch",4,"ngIf"],["class","tab-label","data-qa","tab-label","labelType","body-1","labelEllipsis","true",3,"labelColor","caption",4,"ngIf"],[3,"ngSwitch"],["class","tab-icon url",3,"title",4,"ngSwitchCase"],["class","tab-icon system",3,"title",4,"ngSwitchDefault"],["class","tab-icon-space",4,"ngIf"],[1,"tab-icon","url",3,"title"],[3,"src","alt"],[1,"tab-icon","system",3,"title"],[3,"svgIcon"],[1,"tab-icon-space"],["data-qa","tab-label","labelType","body-1","labelEllipsis","true",1,"tab-label",3,"labelColor","caption"],["icon","tab-action-remove-icon",1,"tab-action-remove-button",3,"disableRipple","title","clicked"],[1,"tab-header-part-wrap"],[1,"post-tab-header","tab-header-part",3,"click"],[1,"tab-body"],["crtViewModel","",3,"crtViewElement",4,"ngIf"],["crtViewModel","",3,"crtViewElement"]],template:function(e,t){if(1&e&&(l["ɵɵtemplate"](0,LF,1,1,"crt-skeleton-loader",0),l["ɵɵtemplate"](1,eV,6,11,"ng-template",null,1,l["ɵɵtemplateRefExtractor"])),2&e){const e=l["ɵɵreference"](2);l["ɵɵproperty"]("ngIf",t.loading)("ngIfElse",e)}},directives:[o.NgIf,di,me.SP,o.NgForOf,Jw,me.uX,me.uD,me.Vc,Yp.Wj,o.NgClass,Yp.Zt,VF,o.NgSwitch,o.NgSwitchCase,o.NgSwitchDefault,St.Hw,ex,Su,_u],pipes:[u.X$,io],styles:["crt-designer-tab-panel .crt-tab-panel,crt-tab-panel .crt-tab-panel{overflow:hidden;border-radius:8px;box-sizing:border-box;width:100%;height:100%}crt-designer-tab-panel .crt-tab-panel .mat-tab-header,crt-tab-panel .crt-tab-panel .mat-tab-header{padding-left:16px;padding-right:16px;box-sizing:border-box;height:40px}crt-designer-tab-panel .crt-tab-panel .mat-tab-header .mat-tab-label-active,crt-designer-tab-panel .crt-tab-panel .mat-tab-header .mat-tab-label:hover,crt-tab-panel .crt-tab-panel .mat-tab-header .mat-tab-label-active,crt-tab-panel .crt-tab-panel .mat-tab-header .mat-tab-label:hover{padding-bottom:0;border-bottom-width:2px;border-bottom-style:solid}crt-designer-tab-panel .crt-tab-panel .mat-tab-header .mat-tab-header-pagination,crt-tab-panel .crt-tab-panel .mat-tab-header .mat-tab-header-pagination{min-width:24px}crt-designer-tab-panel .crt-tab-panel .mat-tab-header .mat-tab-header-pagination-disabled .mat-tab-header-pagination-chevron,crt-tab-panel .crt-tab-panel .mat-tab-header .mat-tab-header-pagination-disabled .mat-tab-header-pagination-chevron{opacity:.38}crt-designer-tab-panel .crt-tab-panel .mat-tab-header .mat-tab-header-pagination-chevron,crt-tab-panel .crt-tab-panel .mat-tab-header .mat-tab-header-pagination-chevron{border-width:1px 1px 0 0;height:6px;width:6px}crt-designer-tab-panel .crt-tab-panel .mat-tab-header .mat-ink-bar,crt-tab-panel .crt-tab-panel .mat-tab-header .mat-ink-bar{display:none}crt-designer-tab-panel .crt-tab-panel .mat-tab-label,crt-designer-tab-panel .crt-tab-panel .mat-tab-label-active,crt-tab-panel .crt-tab-panel .mat-tab-label,crt-tab-panel .crt-tab-panel .mat-tab-label-active{min-width:0;max-width:280px;height:36px;box-sizing:border-box;padding:0 14px 2px;margin:0 4px}crt-designer-tab-panel .crt-tab-panel .mat-tab-label-active .mat-tab-label-content,crt-designer-tab-panel .crt-tab-panel .mat-tab-label .mat-tab-label-content,crt-tab-panel .crt-tab-panel .mat-tab-label-active .mat-tab-label-content,crt-tab-panel .crt-tab-panel .mat-tab-label .mat-tab-label-content{justify-content:left;overflow:hidden;padding:2px 0 0}crt-designer-tab-panel .crt-tab-panel .mat-tab-label-active .mat-tab-label-content .tab-header,crt-designer-tab-panel .crt-tab-panel .mat-tab-label .mat-tab-label-content .tab-header,crt-tab-panel .crt-tab-panel .mat-tab-label-active .mat-tab-label-content .tab-header,crt-tab-panel .crt-tab-panel .mat-tab-label .mat-tab-label-content .tab-header{display:flex;align-items:center;overflow:hidden;padding:8px 0}crt-designer-tab-panel .crt-tab-panel .mat-tab-label-active .mat-tab-label-content .tab-header .tab-header-content,crt-designer-tab-panel .crt-tab-panel .mat-tab-label .mat-tab-label-content .tab-header .tab-header-content,crt-tab-panel .crt-tab-panel .mat-tab-label-active .mat-tab-label-content .tab-header .tab-header-content,crt-tab-panel .crt-tab-panel .mat-tab-label .mat-tab-label-content .tab-header .tab-header-content{align-items:center}crt-designer-tab-panel .crt-tab-panel .mat-tab-label-active .mat-tab-label-content .tab-header .tab-icon,crt-designer-tab-panel .crt-tab-panel .mat-tab-label .mat-tab-label-content .tab-header .tab-icon,crt-tab-panel .crt-tab-panel .mat-tab-label-active .mat-tab-label-content .tab-header .tab-icon,crt-tab-panel .crt-tab-panel .mat-tab-label .mat-tab-label-content .tab-header .tab-icon{display:flex;align-items:center;width:16px;height:100%;pointer-events:none}crt-designer-tab-panel .crt-tab-panel .mat-tab-label-active .mat-tab-label-content .tab-header .tab-icon.system mat-icon,crt-designer-tab-panel .crt-tab-panel .mat-tab-label-active .mat-tab-label-content .tab-header .tab-icon.url img,crt-designer-tab-panel .crt-tab-panel .mat-tab-label .mat-tab-label-content .tab-header .tab-icon.system mat-icon,crt-designer-tab-panel .crt-tab-panel .mat-tab-label .mat-tab-label-content .tab-header .tab-icon.url img,crt-tab-panel .crt-tab-panel .mat-tab-label-active .mat-tab-label-content .tab-header .tab-icon.system mat-icon,crt-tab-panel .crt-tab-panel .mat-tab-label-active .mat-tab-label-content .tab-header .tab-icon.url img,crt-tab-panel .crt-tab-panel .mat-tab-label .mat-tab-label-content .tab-header .tab-icon.system mat-icon,crt-tab-panel .crt-tab-panel .mat-tab-label .mat-tab-label-content .tab-header .tab-icon.url img{width:16px;height:16px}crt-designer-tab-panel .crt-tab-panel .mat-tab-label-active .mat-tab-label-content .tab-header .tab-icon-space,crt-designer-tab-panel .crt-tab-panel .mat-tab-label .mat-tab-label-content .tab-header .tab-icon-space,crt-tab-panel .crt-tab-panel .mat-tab-label-active .mat-tab-label-content .tab-header .tab-icon-space,crt-tab-panel .crt-tab-panel .mat-tab-label .mat-tab-label-content .tab-header .tab-icon-space{display:block;width:8px}crt-designer-tab-panel .crt-tab-panel .mat-tab-label-active .mat-tab-label-content .tab-header .tab-label,crt-designer-tab-panel .crt-tab-panel .mat-tab-label .mat-tab-label-content .tab-header .tab-label,crt-tab-panel .crt-tab-panel .mat-tab-label-active .mat-tab-label-content .tab-header .tab-label,crt-tab-panel .crt-tab-panel .mat-tab-label .mat-tab-label-content .tab-header .tab-label{overflow:hidden;pointer-events:none}crt-designer-tab-panel .crt-tab-panel .mat-tab-label-active .mat-tab-label-content .tab-header .tab-label .crt-label,crt-designer-tab-panel .crt-tab-panel .mat-tab-label .mat-tab-label-content .tab-header .tab-label .crt-label,crt-tab-panel .crt-tab-panel .mat-tab-label-active .mat-tab-label-content .tab-header .tab-label .crt-label,crt-tab-panel .crt-tab-panel .mat-tab-label .mat-tab-label-content .tab-header .tab-label .crt-label{border-width:0}crt-designer-tab-panel .crt-tab-panel .mat-tab-body-wrapper,crt-tab-panel .crt-tab-panel .mat-tab-body-wrapper{height:calc(100% - 40px)}crt-designer-tab-panel .crt-tab-panel .mat-tab-group,crt-tab-panel .crt-tab-panel .mat-tab-group{height:100%}crt-designer-tab-panel .crt-tab-panel .tab-body,crt-tab-panel .crt-tab-panel .tab-body{padding:5px 16px;height:calc(100% + 2px);overflow:auto}crt-designer-tab-panel .crt-tab-panel.style-default>.tab-group>.mat-tab-header,crt-tab-panel .crt-tab-panel.style-default>.tab-group>.mat-tab-header{border-top-width:3px;border-top-style:solid}crt-designer-tab-panel .crt-tab-panel.style-default>.tab-group>.mat-tab-header .mat-tab-label,crt-designer-tab-panel .crt-tab-panel.style-default>.tab-group>.mat-tab-header .mat-tab-label-active,crt-tab-panel .crt-tab-panel.style-default>.tab-group>.mat-tab-header .mat-tab-label,crt-tab-panel .crt-tab-panel.style-default>.tab-group>.mat-tab-header .mat-tab-label-active{height:36px}crt-designer-tab-panel .crt-tab-panel.style-partially-colored>.tab-group>.mat-tab-header,crt-tab-panel .crt-tab-panel.style-partially-colored>.tab-group>.mat-tab-header{box-sizing:border-box;border-top-width:3px;border-top-style:solid;border-top-left-radius:8px;border-top-right-radius:8px}crt-designer-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-tab-header,crt-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-tab-header{padding:0;border-bottom-width:1px;border-bottom-style:solid;box-sizing:border-box}crt-designer-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-tab-header .mat-tab-label,crt-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-tab-header .mat-tab-label{margin:0;padding:0;height:40px}crt-designer-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-tab-header .mat-tab-label:hover,crt-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-tab-header .mat-tab-label:hover{border:none}crt-designer-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-tab-header .mat-tab-label .mat-tab-label-content,crt-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-tab-header .mat-tab-label .mat-tab-label-content{padding:6px 16px;height:40px;box-sizing:border-box}crt-designer-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-tab-header .mat-tab-label-active,crt-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-tab-header .mat-tab-label-active{padding:0;border-bottom:none}crt-designer-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-tab-header .mat-tab-label-active .mat-tab-label-content,crt-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-tab-header .mat-tab-label-active .mat-tab-label-content{padding:0}crt-designer-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-tab-header .mat-tab-label-active .mat-tab-label-content .tab-header-part-wrap,crt-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-tab-header .mat-tab-label-active .mat-tab-label-content .tab-header-part-wrap{height:39px;width:8px}crt-designer-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-tab-header .mat-tab-label-active .mat-tab-label-content .tab-header-part-wrap .tab-header-part,crt-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-tab-header .mat-tab-label-active .mat-tab-label-content .tab-header-part-wrap .tab-header-part{width:100%;height:100%}crt-designer-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-tab-header .mat-tab-label-active .mat-tab-label-content .tab-header-part-wrap .tab-header-part.pre-tab-header,crt-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-tab-header .mat-tab-label-active .mat-tab-label-content .tab-header-part-wrap .tab-header-part.pre-tab-header{border-radius:0 0 8px 0}crt-designer-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-tab-header .mat-tab-label-active .mat-tab-label-content .tab-header-part-wrap .tab-header-part.post-tab-header,crt-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-tab-header .mat-tab-label-active .mat-tab-label-content .tab-header-part-wrap .tab-header-part.post-tab-header{border-radius:0 0 0 8px}crt-designer-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-tab-header .mat-tab-label-active .mat-tab-label-content .tab-header,crt-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-tab-header .mat-tab-label-active .mat-tab-label-content .tab-header{margin-top:3px;padding:8px 16px;height:37px;box-sizing:border-box;border-radius:5px 5px 0 0}crt-designer-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-tab-header .mat-tab-header-pagination-before,crt-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-tab-header .mat-tab-header-pagination-before{padding:0}crt-designer-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-tab-header .mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,crt-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-tab-header .mat-tab-header-pagination-before .mat-tab-header-pagination-chevron{margin-left:8px}crt-designer-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-tab-header .mat-tab-header-pagination-after,crt-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-tab-header .mat-tab-header-pagination-after{padding:0}crt-designer-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-tab-header .mat-tab-header-pagination-after .mat-tab-header-pagination-chevron,crt-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-tab-header .mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{margin-left:-8px}crt-designer-tab-panel[dir=rtl] .crt-tab-panel.style-fully-colored .mat-tab-header .mat-tab-label-active .mat-tab-label-content .tab-header-part-wrap .tab-header-part.pre-tab-header,crt-tab-panel[dir=rtl] .crt-tab-panel.style-fully-colored .mat-tab-header .mat-tab-label-active .mat-tab-label-content .tab-header-part-wrap .tab-header-part.pre-tab-header{border-radius:0 0 0 8px}crt-designer-tab-panel[dir=rtl] .crt-tab-panel.style-fully-colored .mat-tab-header .mat-tab-label-active .mat-tab-label-content .tab-header-part-wrap .tab-header-part.post-tab-header,crt-tab-panel[dir=rtl] .crt-tab-panel.style-fully-colored .mat-tab-header .mat-tab-label-active .mat-tab-label-content .tab-header-part-wrap .tab-header-part.post-tab-header{border-radius:0 0 8px 0}crt-designer-tab-panel[dir=rtl] .crt-tab-panel.style-fully-colored .mat-tab-header .mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,crt-tab-panel[dir=rtl] .crt-tab-panel.style-fully-colored .mat-tab-header .mat-tab-header-pagination-before .mat-tab-header-pagination-chevron{margin-left:0}crt-designer-tab-panel[dir=rtl] .crt-tab-panel.style-fully-colored .mat-tab-header .mat-tab-header-pagination-after .mat-tab-header-pagination-chevron,crt-tab-panel[dir=rtl] .crt-tab-panel.style-fully-colored .mat-tab-header .mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{margin-left:8px}","@keyframes wait_fadein{0%{pointer-events:none}to{pointer-events:auto}}crt-designer-tab-panel .crt-tab-panel{display:flex;flex-direction:row}crt-designer-tab-panel .crt-tab-panel .mat-tab-header{height:40px;padding-right:0;border-bottom:1px solid rgba(var(--divider-foreground),var(--divider-foreground-alpha))}crt-designer-tab-panel .crt-tab-panel .mat-tab-header .mat-tab-label .mat-tab-label-content{padding:0}crt-designer-tab-panel .crt-tab-panel .mat-tab-header .cdk-drag-placeholder.mat-tab-label-active .mat-tab-label-content,crt-designer-tab-panel .crt-tab-panel .mat-tab-header .cdk-drag-placeholder.mat-tab-label .mat-tab-label-content:hover{border-bottom-width:0}crt-designer-tab-panel .crt-tab-panel .mat-tab-header .mat-tab-label.cdk-drag-placeholder{background-color:#9ac1eb;cursor:move;border-bottom-width:0;transition:transform .25s cubic-bezier(0,0,.2,1)}crt-designer-tab-panel .crt-tab-panel .mat-tab-header .mat-tab-label.cdk-drag-placeholder .tab-header{opacity:0}crt-designer-tab-panel .crt-tab-panel .mat-tab-header .mat-tab-label.cdk-drag-placeholder .crt-label label{cursor:move}crt-designer-tab-panel .crt-tab-panel .tab-group{display:block;max-width:calc(100% - 40px);min-width:calc(100% - 40px)}crt-designer-tab-panel .crt-tab-panel .tab-body{width:calc(100% + 8px);min-width:calc(100% + 8px);max-width:calc(100% + 8px)}crt-designer-tab-panel .crt-tab-panel .tab-actions-container{box-sizing:border-box;height:40px;min-width:40px;text-align:right;border-top-right-radius:8px;padding-right:16px;border-bottom-width:1px;border-bottom-style:solid}crt-designer-tab-panel .crt-tab-panel .tab-action-add-button{margin:4px 0}crt-designer-tab-panel .crt-tab-panel .tab-action-add-button .crt-button{padding:0;background:transparent;margin:8px 0;height:16px}crt-designer-tab-panel .crt-tab-panel .tab-action-add-button .crt-button .mat-icon{height:16px;width:16px;vertical-align:middle}crt-designer-tab-panel .crt-tab-panel .tab-action-add-button .crt-button .mat-icon #tab-action-add{display:block}crt-designer-tab-panel .crt-tab-panel .tab-action-remove-button .crt-button{background:transparent}crt-designer-tab-panel .crt-tab-panel .tab-header .tab-header-content{display:flex;width:100%}crt-designer-tab-panel .crt-tab-panel .tab-header .tab-header-content .tab-icon-space{display:block;width:8px}crt-designer-tab-panel .crt-tab-panel .mat-tab-label .mat-tab-label-content .tab-header{padding:5px 0}crt-designer-tab-panel .crt-tab-panel .mat-tab-header .mat-tab-label-active .mat-tab-label-content .tab-header.tab-editing{border-bottom-width:1px;border-bottom-style:solid}crt-designer-tab-panel .crt-tab-panel .mat-tab-header .mat-tab-label-active .mat-tab-label-content .tab-header .tab-header-content{max-width:220px}crt-designer-tab-panel .crt-tab-panel .mat-tab-label .tab-action-remove-button{animation:wait_fadein 1s;height:18px;margin-left:8px}crt-designer-tab-panel .crt-tab-panel .mat-tab-label .tab-action-remove-button .crt-button{max-height:18px;padding:0}crt-designer-tab-panel .crt-tab-panel .mat-tab-label .tab-action-remove-button .mat-icon{width:16px;height:16px}crt-designer-tab-panel .crt-tab-panel.style-default .mat-tab-header .mat-tab-label,crt-designer-tab-panel .crt-tab-panel.style-default .mat-tab-header .mat-tab-label-active{height:36px}crt-designer-tab-panel .crt-tab-panel.style-partially-colored>.tab-actions-container{border-top-style:solid;border-top-width:3px;border-top-right-radius:8px}crt-designer-tab-panel .crt-tab-panel.style-partially-colored>.tab-group>.mat-tab-header{border-top-right-radius:0}crt-designer-tab-panel .crt-tab-panel.style-partially-colored>.tab-group>.mat-tab-header .mat-tab-label,crt-designer-tab-panel .crt-tab-panel.style-partially-colored>.tab-group>.mat-tab-header .mat-tab-label-active{height:36px}crt-designer-tab-panel .crt-tab-panel.style-fully-colored>.tab-actions-container{border-bottom-width:1px;border-bottom-style:solid}crt-designer-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-tab-header .mat-tab-label.cdk-drag-placeholder{background-color:#9ac1eb;cursor:move;border-bottom-width:0;transition:transform .25s cubic-bezier(0,0,.2,1)}crt-designer-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-tab-header .mat-tab-label.cdk-drag-placeholder .mat-tab-label-content{opacity:0}.cdk-drag-preview.mat-tab-label{border:1px solid #004fd6;background-color:#fff;opacity:.7;padding:0}.cdk-drag-preview.mat-tab-label .mat-tab-label-content{padding:0}.cdk-drag-preview.mat-tab-label .tab-header{padding:0 8px}.cdk-drag-preview.mat-tab-label .tab-header crt-label{text-transform:uppercase;text-overflow:ellipsis}.cdk-drag-preview.mat-tab-label .tab-header crt-label .crt-label{display:inline-grid}.cdk-drag-preview.mat-tab-label .tab-header .tab-icon,.cdk-drag-preview.mat-tab-label .tab-header .tab-label{padding:8px 0}.cdk-drag-preview.mat-tab-label .tab-action-remove-button{display:none}.drag-active.resize-active .mat-tab-header .mat-ink-bar{visibility:hidden!important}"],encapsulation:2,changeDetection:0}),tV=(0,a.gn)([Ks({type:"crt.DesignerTabPanel",overrideType:"crt.TabPanel"}),(0,a.w6)("design:paramtypes",[l.Injector,i.DomSanitizer,X,u.sK,fa])],tV);let nV=class{constructor(e){this._materialIconsRegistrator=e,this._materialIconsRegistrator.addIcons([{name:"tab-action-add-icon",icon:n(70494)},{name:"tab-action-remove-icon",icon:n(42702)}])}};nV.ɵfac=function(e){return new(e||nV)(l["ɵɵinject"](Dn))},nV.ɵmod=l["ɵɵdefineNgModule"]({type:nV}),nV.ɵinj=l["ɵɵdefineInjector"]({imports:[[o.CommonModule,Kw,cx,nM,ui,QP,Yp._t,Zg,St.Ps,me.Nh,Dt.AV,Rn,u.aw,Pu,oF]]}),nV=(0,a.gn)([(0,r.CrtModule)({viewElements:[tV]}),(0,a.w6)("design:paramtypes",[Dn])],nV),("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](nV,{declarations:[tV,bF,VF,mo],imports:[o.CommonModule,Kw,cx,nM,ui,QP,Yp._t,Zg,St.Ps,me.Nh,Dt.AV,Rn,u.aw,Pu,oF],exports:[tV,VF]});const iV=["metaItemDesignerContainerRef"];function rV(e,t){1&e&&l["ɵɵelement"](0,"ts-mask",9)}let aV=(()=>{class e{constructor(e,t,n,i){this._registryService=e,this._componentFactoryResolver=t,this._changeDetectorRef=n,this._injector=i,this._destroyed$=new h.Subject,this.loading=!0,this.isModalBoxOpened=!1,this.settingsChanged=new l.EventEmitter,this.closing=new l.EventEmitter}set settings(e){e&&!(0,Ed.Z)(this._settings,e)&&(this._settings=e,this._isReadyToRenderDesigner()&&this._renderDesigner(this._settings))}_isReadyToRenderDesigner(){return!!this._metaItemDesignerContainerRef}_createDesignerComponent(e){const t=this._registryService.getDesignerComponentType(e);if(!t)throw new Error("Meta item designer type is not registered");const n=this._componentFactoryResolver.resolveComponentFactory(t);return this._metaItemDesignerContainerRef.createComponent(n,0,this._injector)}_configureDesignerComponent(e){this._metaItemDesignerRef.instance.onConfigure(e),this._metaItemDesignerRef.instance.settingsChanged.pipe((0,b.R)(this._destroyed$)).subscribe((e=>{this._settings=Object.assign(Object.assign({},this._settings),e)})),this._metaItemDesignerRef.instance.loaded.pipe((0,b.R)(this._destroyed$)).subscribe((()=>{this.loading=!1,this._changeDetectorRef.detectChanges()})),this._metaItemDesignerRef.instance.openModalBox.pipe((0,b.R)(this._destroyed$)).subscribe((e=>{this.isModalBoxOpened=e,this._changeDetectorRef.detectChanges()})),this._changeDetectorRef.detectChanges()}_destroyDesignerComponentIfExists(){this._metaItemDesignerRef&&this._metaItemDesignerRef.destroy()}_renderDesigner(e){this._destroyDesignerComponentIfExists(),this.loading=!0,this._metaItemDesignerRef=this._createDesignerComponent(e.metaItemType),this._configureDesignerComponent(e)}onSaveButtonClick(){this.isModalBoxOpened||(0,h.of)(null).pipe((0,rl.g)(500),(0,b.R)(this._destroyed$)).subscribe({next:()=>{this._metaItemDesignerRef.instance.validate().isValid&&this.settingsChanged.emit((0,so.Z)(this._settings))}})}onCloseButtonClick(){this.isModalBoxOpened||this.closing.emit()}getClasses(){return{"settings-panel-header":!0,"settings-panel-cover":this.isModalBoxOpened}}ngAfterViewInit(){this._settings&&this._renderDesigner(this._settings)}ngOnDestroy(){this._destroyed$.next(),this._destroyed$.complete()}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](VN),l["ɵɵdirectiveInject"](l.ComponentFactoryResolver),l["ɵɵdirectiveInject"](l.ChangeDetectorRef),l["ɵɵdirectiveInject"](l.Injector))},e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["crt-designer-settings"]],viewQuery:function(e,t){if(1&e&&l["ɵɵviewQuery"](iV,5,l.ViewContainerRef),2&e){let e;l["ɵɵqueryRefresh"](e=l["ɵɵloadQuery"]())&&(t._metaItemDesignerContainerRef=e.first)}},inputs:{caption:"caption",settings:"settings"},outputs:{settingsChanged:"settingsChanged",closing:"closing"},decls:15,vars:15,consts:[[3,"ngClass"],[1,"settings-panel-header-caption"],[1,"buttons"],["color","primary",1,"action-button",3,"disableRipple","disabled","clicked"],[1,"action-button",3,"disableRipple","disabled","clicked"],[1,"settings-content"],["class","component-mask",4,"ngIf"],[1,"meta-item-designer-container"],["metaItemDesignerContainerRef",""],[1,"component-mask"]],template:function(e,t){1&e&&(l["ɵɵelementStart"](0,"div",0),l["ɵɵelementStart"](1,"div",1),l["ɵɵtext"](2),l["ɵɵpipe"](3,"translate"),l["ɵɵelementEnd"](),l["ɵɵelementStart"](4,"div",2),l["ɵɵelementStart"](5,"crt-button",3),l["ɵɵlistener"]("clicked",(function(){return t.onSaveButtonClick()})),l["ɵɵtext"](6),l["ɵɵpipe"](7,"translate"),l["ɵɵelementEnd"](),l["ɵɵelementStart"](8,"crt-button",4),l["ɵɵlistener"]("clicked",(function(){return t.onCloseButtonClick()})),l["ɵɵtext"](9),l["ɵɵpipe"](10,"translate"),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵelementStart"](11,"div",5),l["ɵɵtemplate"](12,rV,1,0,"ts-mask",6),l["ɵɵelementContainer"](13,7,8),l["ɵɵelementEnd"]()),2&e&&(l["ɵɵproperty"]("ngClass",t.getClasses()),l["ɵɵadvance"](2),l["ɵɵtextInterpolate1"](" ",l["ɵɵpipeBind1"](3,9,t.caption||"DesignerSettingsComponent.HeaderCaption")," "),l["ɵɵadvance"](3),l["ɵɵproperty"]("disableRipple",t.isModalBoxOpened)("disabled",t.loading||t.isModalBoxOpened),l["ɵɵadvance"](1),l["ɵɵtextInterpolate1"](" ",l["ɵɵpipeBind1"](7,11,"BasePageComponent.Save")," "),l["ɵɵadvance"](2),l["ɵɵproperty"]("disableRipple",t.isModalBoxOpened)("disabled",t.isModalBoxOpened),l["ɵɵadvance"](1),l["ɵɵtextInterpolate1"](" ",l["ɵɵpipeBind1"](10,13,"BasePageComponent.Cancel")," "),l["ɵɵadvance"](3),l["ɵɵproperty"]("ngIf",t.loading))},directives:[o.NgClass,Jw,o.NgIf,Ge],pipes:[u.X$],styles:[".settings-panel-header[_ngcontent-%COMP%]{padding-left:32px}.settings-panel-header[_ngcontent-%COMP%]   .settings-panel-header-caption[_ngcontent-%COMP%]{display:inline-block;width:100%;overflow:hidden}.settings-panel-header[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{display:flex;justify-items:flex-start;align-items:flex-start;flex-flow:row nowrap;margin-bottom:32px}.settings-panel-header[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]{margin-right:16px}.settings-panel-cover[_ngcontent-%COMP%]{transition:opacity .3s ease}.settings-content[_ngcontent-%COMP%]{position:relative;height:100%}.settings-content[_ngcontent-%COMP%]   .component-mask[_ngcontent-%COMP%]{position:absolute;height:100%;width:100%}"]}),e})();var oV=n(59746);let sV=(()=>{class e{constructor(e,t){this._commandFactoryService=e,this._designerSchemaService=t}_resolveViewItemChangeCommand(e){var t,n,i;const r=this._designerSchemaService.getViewConfigInfoByName(e),a=Ws.designElementRegistrationInfos.get(null===(t=r.viewConfig)||void 0===t?void 0:t.type);return null!==(i=null===(n=null==a?void 0:a.designViewItemCommands)||void 0===n?void 0:n.change)&&void 0!==i?i:"crt.ChangeViewItemCommand"}resolve(e){const t={[RN.DataSourceAttribute]:"crt.ChangeEntityDataSourceItemCommand",[RN.DataSource]:"crt.ChangeEntityDataSourceCommand",[RN.ViewElement]:this._resolveViewItemChangeCommand(e.name),[RN.ViewElementBinding]:"crt.ChangeViewItemBinding"}[e.type];return t?this._commandFactoryService.create(t,e):(0,h.of)(null)}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](HN),l["ɵɵinject"](nO))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})(),lV=class extends wF{createDisplayValue(e){return this.findTranslate("InterfaceDesigner.PropertiesPages.TabPanelPropertiesPage.ItemsLabel")}};var cV;lV=(0,a.gn)([(cV={type:"crt.TabPanel"},function(e){if(!cV.type.startsWith("crt."))throw new Error(`Error registering ${cV.type} caption creator.\n\t\t\t\tType property should start with "crt." prefix.`);_F.register(cV.type,e)})],lV);let dV=(()=>{class e{constructor(e,t,n){this._designerSchemaService=e,this._designerContainerService=t,this._displayValueCreatorFactoryService=n,this._destroyed$=new h.Subject,this._navigationChanged$=new h.Subject,this._navigationDirectionChanged$=new h.Subject,this._subscribeOnSelectElement(),this._subscribeOnSchemaChanged()}_subscribeOnSelectElement(){this._designerContainerService.selectedChanged$.pipe((0,b.R)(this._destroyed$)).subscribe((({name:e})=>{this._elementName=e,this._emitNavigationTree(this._elementName)}))}_getDisplayValue(e){const t=this._displayValueCreatorFactoryService.get(e.type);return(null==t?void 0:t.getDisplayValue(e))||""}_subscribeOnSchemaChanged(){this._designerSchemaService.schemaChanged$.pipe((0,b.R)(this._destroyed$),(0,f.h)((({changes:{viewConfig:e,operation:t}})=>t===kp.Update&&e.name===this._elementName))).subscribe((({changes:e})=>{this._emitNavigationTree(e.viewConfig.name)}))}_getNavigationTree(e){const t=this._designerSchemaService.getViewConfigInfoByName(e),n=t.parentName,i=t.viewConfig,r=this._getDisplayValue(i);if(!r)return[];const a={caption:r,name:i.name};return n?[...this._getNavigationTree(n),a]:[a]}_emitNavigationTree(e){let t=[];e&&(t=this._getNavigationTree(e)),this._navigationChanged$.next(t)}navigationChange(){return this._navigationChanged$.pipe((0,v.O)([]),(0,Ol.G)(),(0,Pn.w)((([e,t])=>(t.length<e.length?this._navigationDirectionChanged$.next("backward"):this._navigationDirectionChanged$.next("forward"),(0,h.of)(t)))))}navigationDirection(){return this._navigationDirectionChanged$.asObservable()}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](nO),l["ɵɵinject"](Nj),l["ɵɵinject"](_F))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})();function uV(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵelementStart"](0,"crt-button",12),l["ɵɵlistener"]("clicked",(function(){l["ɵɵrestoreView"](e);return l["ɵɵnextContext"]().onUndoClick()})),l["ɵɵelement"](1,"mat-icon",13),l["ɵɵpipe"](2,"translate"),l["ɵɵelementEnd"]()}2&e&&(l["ɵɵadvance"](1),l["ɵɵproperty"]("title",l["ɵɵpipeBind1"](2,1,"InterfaceDesignerHeaderComponent.UndoButtonTooltip")))}function pV(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵelementStart"](0,"crt-button",12),l["ɵɵlistener"]("clicked",(function(){l["ɵɵrestoreView"](e);return l["ɵɵnextContext"]().onResetSchemaClick()})),l["ɵɵelement"](1,"mat-icon",14),l["ɵɵelementEnd"]()}if(2&e){const e=l["ɵɵnextContext"]();l["ɵɵadvance"](1),l["ɵɵclassProp"]("spin",e.resetSchemaProcessing),l["ɵɵproperty"]("title","Reset schema")}}function mV(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵelementStart"](0,"crt-button",12),l["ɵɵlistener"]("clicked",(function(){l["ɵɵrestoreView"](e);return l["ɵɵnextContext"]().onAlwaysVisibleCellClick()})),l["ɵɵelement"](1,"mat-icon",15),l["ɵɵelementEnd"]()}2&e&&(l["ɵɵadvance"](1),l["ɵɵproperty"]("title","Toggle visible cell"))}function hV(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵelementStart"](0,"crt-button",12),l["ɵɵlistener"]("clicked",(function(){l["ɵɵrestoreView"](e);return l["ɵɵnextContext"]().onTogglePaddingVisibilityClick()})),l["ɵɵelement"](1,"mat-icon",16),l["ɵɵelementEnd"]()}2&e&&(l["ɵɵadvance"](1),l["ɵɵproperty"]("title","Toggle padding visibility"))}let gV=(()=>{class e{constructor(e,t,n,i,r,a){this._matIconRegistry=e,this._domSanitizer=t,this._designerUndoService=n,this._designerContainerService=i,this._featureService=r,this._environment=a,this.save=new l.EventEmitter,this.cancel=new l.EventEmitter,this.openProperty=new l.EventEmitter,this.openSourceCode=new l.EventEmitter,this.isVisibleTogglePaddingVisibility=!1,this.isVisibleResetSchemaButton=!1,this.isVisibleUndoButton=!1,this.resetSchemaProcessing=!1,this.isVisibleAlwaysVisibleCell=!1,this._registerIcons(),this._featureService.getFeatureState("TogglePaddingVisibility").subscribe({next:e=>{this.isVisibleTogglePaddingVisibility=e}}),this._featureService.getFeatureState("UndoDeleteButton").subscribe({next:e=>{this.isVisibleUndoButton=e}}),this._environment&&"/"===this._environment.appPath&&!this._environment.production&&(this.isVisibleResetSchemaButton=!0,this.isVisibleAlwaysVisibleCell=!0)}_registerIcons(){[{name:"cell",icon:n(80159)},{name:"toolsButton",icon:n(66576)},{name:"padding",icon:n(87885)},{name:"undo",icon:n(1781)},{name:"reset",icon:n(25006)},{name:"sourceCodeButton",icon:n(63893)}].forEach((({name:e,icon:t})=>{this._matIconRegistry.addSvgIconLiteral(e,this._domSanitizer.bypassSecurityTrustHtml(t))}))}onSaveClick(){this.save.emit()}onCancelClick(){this.cancel.emit()}onOpenPropertyClick(){this.openProperty.emit()}onOpenSourceCodeClick(){this.openSourceCode.emit()}onTogglePaddingVisibilityClick(){this._designerContainerService.togglePadding()}onResetSchemaClick(){this.resetSchemaProcessing=!0,window.resetSchema=!0,location.reload()}onUndoClick(){this._designerUndoService.undo()}onAlwaysVisibleCellClick(){this._designerContainerService.toggleAlwaysVisibleCell()}onKeyDown(e){const{code:t,ctrlKey:n,metaKey:i,altKey:r,shiftKey:a}=e;this.isVisibleUndoButton&&("KeyZ"!==t||!n&&!i||a||r||(e.preventDefault(),this.onUndoClick())),this.isVisibleResetSchemaButton&&"KeyZ"===t&&(n||i)&&a&&!r&&(e.preventDefault(),this.onResetSchemaClick()),"KeyS"!==t||!n&&!i||a||r||(e.preventDefault(),this.onSaveClick())}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](St.jv),l["ɵɵdirectiveInject"](i.DomSanitizer),l["ɵɵdirectiveInject"](Fj),l["ɵɵdirectiveInject"](Nj),l["ɵɵdirectiveInject"](ls),l["ɵɵdirectiveInject"]("environment"))},e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["crt-interface-designer-header"]],hostBindings:function(e,t){1&e&&l["ɵɵlistener"]("keydown",(function(e){return t.onKeyDown(e)}),!1,l["ɵɵresolveWindow"])},inputs:{title:"title"},outputs:{save:"save",cancel:"cancel",openProperty:"openProperty",openSourceCode:"openSourceCode"},decls:22,vars:17,consts:[[1,"header-container"],[1,"button-container"],["color","primary","shape","rounded","textTransform","capitalize",3,"clicked"],["color","default","shape","rounded","textTransform","capitalize",3,"clicked"],["shape","rounded",3,"clicked",4,"ngIf"],[1,"title-container"],[1,"text-container"],[1,"property-container"],["shape","rounded","textTransform","capitalize","data-qa","openSourceCode",3,"clicked"],["svgIcon","sourceCodeButton",3,"title"],["shape","rounded","textTransform","capitalize","data-qa","openProperty",3,"clicked"],["svgIcon","toolsButton",3,"title"],["shape","rounded",3,"clicked"],["svgIcon","undo",3,"title"],["svgIcon","reset",3,"title"],["svgIcon","cell",3,"title"],["svgIcon","padding",3,"title"]],template:function(e,t){1&e&&(l["ɵɵelementStart"](0,"div",0),l["ɵɵelementStart"](1,"div",1),l["ɵɵelementStart"](2,"crt-button",2),l["ɵɵlistener"]("clicked",(function(){return t.onSaveClick()})),l["ɵɵtext"](3),l["ɵɵpipe"](4,"translate"),l["ɵɵelementEnd"](),l["ɵɵelementStart"](5,"crt-button",3),l["ɵɵlistener"]("clicked",(function(){return t.onCancelClick()})),l["ɵɵtext"](6),l["ɵɵpipe"](7,"translate"),l["ɵɵelementEnd"](),l["ɵɵtemplate"](8,uV,3,3,"crt-button",4),l["ɵɵelementEnd"](),l["ɵɵelementStart"](9,"div",5),l["ɵɵelementStart"](10,"div",6),l["ɵɵtext"](11),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵelementStart"](12,"div",7),l["ɵɵtemplate"](13,pV,2,3,"crt-button",4),l["ɵɵtemplate"](14,mV,2,1,"crt-button",4),l["ɵɵtemplate"](15,hV,2,1,"crt-button",4),l["ɵɵelementStart"](16,"crt-button",8),l["ɵɵlistener"]("clicked",(function(){return t.onOpenSourceCodeClick()})),l["ɵɵelement"](17,"mat-icon",9),l["ɵɵpipe"](18,"translate"),l["ɵɵelementEnd"](),l["ɵɵelementStart"](19,"crt-button",10),l["ɵɵlistener"]("clicked",(function(){return t.onOpenPropertyClick()})),l["ɵɵelement"](20,"mat-icon",11),l["ɵɵpipe"](21,"translate"),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵelementEnd"]()),2&e&&(l["ɵɵadvance"](3),l["ɵɵtextInterpolate1"](" ",l["ɵɵpipeBind1"](4,9,"InterfaceDesignerHeaderComponent.SaveButtonCaption")," "),l["ɵɵadvance"](3),l["ɵɵtextInterpolate1"](" ",l["ɵɵpipeBind1"](7,11,"InterfaceDesignerHeaderComponent.CancelButtonCaption")," "),l["ɵɵadvance"](2),l["ɵɵproperty"]("ngIf",t.isVisibleUndoButton),l["ɵɵadvance"](3),l["ɵɵtextInterpolate1"](" ",t.title," "),l["ɵɵadvance"](2),l["ɵɵproperty"]("ngIf",t.isVisibleResetSchemaButton),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",t.isVisibleAlwaysVisibleCell),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",t.isVisibleTogglePaddingVisibility),l["ɵɵadvance"](2),l["ɵɵproperty"]("title",l["ɵɵpipeBind1"](18,13,"InterfaceDesignerHeaderComponent.OpenSourceCodeTooltip")),l["ɵɵadvance"](3),l["ɵɵproperty"]("title",l["ɵɵpipeBind1"](21,15,"InterfaceDesignerHeaderComponent.OpenPropertyTooltip")))},directives:[Jw,o.NgIf,St.Hw],pipes:[u.X$],styles:[".header-container[_ngcontent-%COMP%]{width:100%;position:sticky;top:0;z-index:100;display:flex;align-items:center;border-bottom-width:1px;border-bottom-style:solid;box-sizing:border-box;height:56px}.header-container[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{display:flex;align-items:center;margin-left:16px}.header-container[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   crt-button[_ngcontent-%COMP%] + crt-button[_ngcontent-%COMP%]{margin-left:16px}.header-container[_ngcontent-%COMP%]   .title-container[_ngcontent-%COMP%]{width:0;text-align:center;display:flex;justify-content:center;flex-grow:1}.header-container[_ngcontent-%COMP%]   .title-container[_ngcontent-%COMP%]   .text-container[_ngcontent-%COMP%]{align-self:center;overflow:hidden;text-overflow:ellipsis;max-height:100%;white-space:nowrap}.header-container[_ngcontent-%COMP%]   .property-container[_ngcontent-%COMP%]{display:flex;align-items:center;padding-right:16px}.mat-icon.spin[_ngcontent-%COMP%]{animation:spin 2s linear infinite}@keyframes spin{to{transform:rotate(1turn)}}"]}),e})(),fV=(()=>{class e{}return e.ɵfac=function(t){return new(t||e)},e.ɵdir=l["ɵɵdefineDirective"]({type:e,selectors:[["","crtDesignTimeViewElement",""]],features:[l["ɵɵProvidersFeature"]([{provide:nl,useValue:!0},{provide:Qs,useClass:qs}])]}),e})();function vV(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵelementStart"](0,"div",4),l["ɵɵelementStart"](1,"crt-breadcrumbs",5),l["ɵɵlistener"]("itemClicked",(function(t){l["ɵɵrestoreView"](e);return l["ɵɵnextContext"]().onBreadcrumbsItemClicked(t)})),l["ɵɵelementEnd"](),l["ɵɵelementEnd"]()}if(2&e){const e=l["ɵɵnextContext"]();l["ɵɵadvance"](1),l["ɵɵproperty"]("breadcrumbs",e.breadcrumbs)}}const bV=function(e){return{name:"test",type:e}};function CV(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵelementContainerStart"](0,6,7),l["ɵɵlistener"]("viewElementShow",(function(t){l["ɵɵrestoreView"](e);return l["ɵɵnextContext"]().onViewElementShow(t)})),l["ɵɵelementContainerEnd"]()}if(2&e){const e=l["ɵɵnextContext"]();l["ɵɵproperty"]("crtViewElement",l["ɵɵpureFunction1"](1,bV,e.propertiesComponentTypeName))}}let yV=(()=>{class e{constructor(e,t,n,i,r,a){this._panelWidthValidatorService=e,this._designElementRegistry=t,this._directionality=n,this._changeDetector=i,this._designerContainerService=r,this._interfaceDesignerPropertiesPanelService=a,this._destroyed$=new h.Subject,this._componentRef$=new h.ReplaySubject(1),this._navigationItems=[],this.panelWidth=Tj.panelMinWidth,this.itemPropertiesChanged=new l.EventEmitter,this.pagePropertiesChanged=new l.EventEmitter}get isRtl(){return"rtl"===this._directionality.value}get cursors(){return{leftOrRight:"ew-resize"}}get resizeEdges(){return this.isRtl?{right:!0}:{left:!0}}set propertiesComponentTypeName(e){var t;null===(t=this._propertiesPanelSubscription)||void 0===t||t.unsubscribe(),this._propertiesPanelSubscription=new h.Subscription,this._propertiesComponentTypeName!==e&&(this._propertiesComponentTypeName=null,this._changeDetector.detectChanges(),this._propertiesComponentTypeName=e,this._changeDetector.detectChanges())}get propertiesComponentTypeName(){return this._propertiesComponentTypeName}get showBreadcrumbs(){return this._navigationItems.length>1}get breadcrumbs(){return this._navigationItems}set elementProperties(t){if(e._shouldChangeProperties(this._elementProperties,t))if(this._elementProperties=t,this._elementProperties){const e=this._getPropertiesComponentTypeByElementProperties(t);e===this.propertiesComponentTypeName?this._updatePropertiesPanelData(this._elementProperties):(this._componentRef$.next(null),this.propertiesComponentTypeName=e,this._loadPropertiesPanelData(this._elementProperties))}else this.propertiesComponentTypeName=null}get pageProperties(){return this._pageProperties}set pageProperties(e){var t;if(!e)return;(0,Ed.Z)(this._pageProperties,e)||(this._pageProperties=e);const n="crt.PagePropertiesPanel";this.propertiesComponentTypeName!==n&&(this._componentRef$.next(null),this.propertiesComponentTypeName=n),null===(t=this._propertiesPanelSubscription)||void 0===t||t.unsubscribe(),this._propertiesPanelSubscription=new h.Subscription,this._propertiesPanelSubscription.add(this._componentRef$.pipe((0,A.P)((e=>Boolean(e)))).subscribe((t=>{t.setPropertyValue("config",e),this._propertiesPanelSubscription.add(t.on("changed$",(e=>this._onPagePropertiesChanged(e))))})))}static _shouldChangeProperties(e,t){const n=null==e?void 0:e.itemConfig,i=null==t?void 0:t.itemConfig,r=null==n?void 0:n.name,a=null==i?void 0:i.name;return!r||!a||r!==a}_getPropertiesComponentTypeByElementProperties(e){var t,n;if(e.type===RN.DataSourceAttribute||e.type===RN.DataSource)return null===(t=null==e?void 0:e.itemConfig)||void 0===t?void 0:t.propertiesPanelComponentTypeName;const i=null===(n=null==e?void 0:e.itemConfig)||void 0===n?void 0:n.type,r=this._designElementRegistry.get(i);return null==r?void 0:r.propertiesPanelComponentTypeName}_updateDSAttributeNameOnChange(e,t){if((null==t?void 0:t.type)===RN.DataSourceAttribute){const n=t.itemConfig,i=e.changes.find((e=>"name"===e.path));i&&(n.dataSourceAttributeName=i.value)}}_onPagePropertiesChanged(e){const t=e.changes.find((e=>"name"===e.path)),n=e.changes.find((e=>"caption"===e.path)),i=e.changes.find((e=>"description"===e.path)),r=e.elementProperties,a={name:(null==t?void 0:t.value)||r.name,caption:(null==n?void 0:n.value)||r.caption,description:(null==i?void 0:i.value)||r.description};this.pagePropertiesChanged.emit(a)}_onPropertiesChanged(e,t){var n;t=e.elementProperties||t;let i=e.name||(null===(n=null==t?void 0:t.itemConfig)||void 0===n?void 0:n.name);if((null==t?void 0:t.type)===RN.DataSourceAttribute){const e=t.itemConfig;i=e.dataSourceName+"."+e.dataSourceAttributeName}if((null==t?void 0:t.type)===RN.DataSource){i=t.itemConfig.dataSourceName}this.itemPropertiesChanged.next({name:i,changes:e.changes,type:t.type}),this._updateDSAttributeNameOnChange(e,t)}_setConfigAndSubscribeOnPanelEvents(e){this._componentRef$.pipe((0,A.P)((e=>Boolean(e)))).subscribe((t=>{var n;t.setPropertyValue("config",e),null===(n=this._propertiesPanelSubscription)||void 0===n||n.unsubscribe(),this._propertiesPanelSubscription=new h.Subscription,this._propertiesPanelSubscription.add(t.on("changed$",(t=>this._onPropertiesChanged(t,e))))}))}_updatePropertiesPanelData(e){this._setConfigAndSubscribeOnPanelEvents(e)}_loadPropertiesPanelData(e){this._propertiesPanelViewElement&&e&&this._setConfigAndSubscribeOnPanelEvents(e)}_subscribeOnNavigationChanges(){this._interfaceDesignerPropertiesPanelService.navigationChange().pipe((0,b.R)(this._destroyed$)).subscribe((e=>{this._navigationItems=e,this._changeDetector.markForCheck()}))}onViewElementShow(e){this._propertiesPanelViewElement=e,this._componentRef$.next(e.componentRef),this._loadPropertiesPanelData(this._elementProperties)}validateResize(e){const t=e.rectangle.width;return this._panelWidthValidatorService.isValid(t)}onResizing(e){this.panelWidth=e.rectangle.width}onBreadcrumbsItemClicked(e){this._designerContainerService.select(e.name)}ngOnInit(){this._subscribeOnNavigationChanges()}ngOnDestroy(){var e;null===(e=this._propertiesPanelSubscription)||void 0===e||e.unsubscribe(),this._destroyed$.next(),this._destroyed$.complete()}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](Tj),l["ɵɵdirectiveInject"](Ws),l["ɵɵdirectiveInject"](en.Is),l["ɵɵdirectiveInject"](l.ChangeDetectorRef),l["ɵɵdirectiveInject"](Nj),l["ɵɵdirectiveInject"](dV))},e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["crt-interface-designer-properties-panel"]],inputs:{elementProperties:"elementProperties",pageProperties:"pageProperties"},outputs:{itemPropertiesChanged:"itemPropertiesChanged",pagePropertiesChanged:"pagePropertiesChanged"},decls:4,vars:10,consts:[["mwlResizable","","id","interface-designer-properties-panel",1,"wrapper","main-interface-designer-properties-panel",3,"resizeEdges","resizeCursors","validateResize","resizing"],["mwlResizeHandle","",1,"resize","resize-grip",3,"resizeEdges"],["class","breadcrumbs-container",4,"ngIf"],[3,"crtViewElement","viewElementShow",4,"ngIf"],[1,"breadcrumbs-container"],[3,"breadcrumbs","itemClicked"],[3,"crtViewElement","viewElementShow"],["designerMainPropertiesPanel",""]],template:function(e,t){1&e&&(l["ɵɵelementStart"](0,"div",0),l["ɵɵlistener"]("resizing",(function(e){return t.onResizing(e)})),l["ɵɵelement"](1,"div",1),l["ɵɵtemplate"](2,vV,2,1,"div",2),l["ɵɵtemplate"](3,CV,2,3,"ng-container",3),l["ɵɵelementEnd"]()),2&e&&(l["ɵɵstyleProp"]("width",t.panelWidth,"px"),l["ɵɵclassProp"]("rtl",t.isRtl),l["ɵɵproperty"]("resizeEdges",t.resizeEdges)("resizeCursors",t.cursors)("validateResize",t.validateResize.bind(t)),l["ɵɵadvance"](1),l["ɵɵproperty"]("resizeEdges",t.resizeEdges),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",t.showBreadcrumbs),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",t.propertiesComponentTypeName))},directives:[GI.E$,GI.mC,o.NgIf,yk,_u],styles:[".wrapper[_ngcontent-%COMP%]{position:relative;height:100%}.wrapper.resize-active[_ngcontent-%COMP%]   .resize-grip[_ngcontent-%COMP%], .wrapper.resize-left-hover[_ngcontent-%COMP%]   .resize-grip[_ngcontent-%COMP%], .wrapper.resize-right-hover[_ngcontent-%COMP%]   .resize-grip[_ngcontent-%COMP%]{visibility:visible;opacity:1;top:40px;transition:opacity .25s ease-in-out}.wrapper[_ngcontent-%COMP%]   .breadcrumbs-container[_ngcontent-%COMP%]{padding-top:40px;margin-bottom:-40px;min-height:35px}.resize[_ngcontent-%COMP%]{position:absolute;width:1px}.resize.resize-grip[_ngcontent-%COMP%]{height:100%;visibility:hidden;opacity:0;transition:opacity .25s ease-in-out}.container[_ngcontent-%COMP%]{padding:10px;display:flex;justify-content:center;flex-flow:column nowrap}"],changeDetection:0}),e})();const wV=["cloneNode"],_V=["panel"];function xV(e,t){if(1&e&&(l["ɵɵelementContainerStart"](0),l["ɵɵelementContainer"](1,9),l["ɵɵelementContainerEnd"]()),2&e){const e=t.$implicit,n=l["ɵɵnextContext"](2);l["ɵɵadvance"](1),l["ɵɵproperty"]("crtViewElement",e)("crtViewModel",n.viewModel)}}function IV(e,t){if(1&e&&(l["ɵɵelementContainerStart"](0),l["ɵɵtemplate"](1,xV,2,2,"ng-container",8),l["ɵɵelementContainerEnd"]()),2&e){const e=l["ɵɵnextContext"]();l["ɵɵadvance"](1),l["ɵɵproperty"]("ngForOf",e.viewConfig)}}function SV(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵelementStart"](0,"div",10),l["ɵɵelementStart"](1,"ts-vertical-expansion-panel",11),l["ɵɵlistener"]("toggle",(function(){l["ɵɵrestoreView"](e);return l["ɵɵnextContext"]().onToggleRightPanel()})),l["ɵɵelement"](2,"div",12,13),l["ɵɵelementStart"](4,"crt-interface-designer-properties-panel",14,15),l["ɵɵlistener"]("itemPropertiesChanged",(function(t){l["ɵɵrestoreView"](e);return l["ɵɵnextContext"]().onItemPropertyChanged(t)}))("pagePropertiesChanged",(function(t){l["ɵɵrestoreView"](e);return l["ɵɵnextContext"]().onPagePropertiesChanged(t)})),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵelementEnd"]()}if(2&e){const e=l["ɵɵnextContext"]();l["ɵɵadvance"](1),l["ɵɵproperty"]("isExpanded",e.isElementPropertiesPanelExpanded)("panelConfig",e.rightPanelConfig),l["ɵɵadvance"](3),l["ɵɵproperty"]("elementProperties",e.designSettings)("pageProperties",e.pageProperties)}}const MV=function(e,t){return{"settings-panel":!0,"show-settings-panel":e,"cdk-overlay-dark-backdrop":t}};function DV(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵelementStart"](0,"div",16),l["ɵɵelementStart"](1,"crt-designer-settings",17),l["ɵɵlistener"]("closing",(function(){l["ɵɵrestoreView"](e);return l["ɵɵnextContext"]().onSettingsPanelClosing()}))("settingsChanged",(function(t){l["ɵɵrestoreView"](e);return l["ɵɵnextContext"]().onMetaItemDesignerSettingsChanged(t)})),l["ɵɵelementEnd"](),l["ɵɵelementEnd"]()}if(2&e){const e=l["ɵɵnextContext"]();l["ɵɵproperty"]("ngClass",l["ɵɵpureFunction2"](2,MV,e.isSettingsPanelVisible,e.isSettingsPanelVisible)),l["ɵɵadvance"](1),l["ɵɵproperty"]("settings",e.designSettings)}}let PV=(()=>{class e extends Us{constructor(e,t,n,i,r,a,o,s,c,d,u,p,m,g,f,v,b){super(b),this._metaItemDesignerService=e,this._changesApplierService=t,this._viewModelGenerator=n,this._changeDetectorRef=i,this._designerEntityService=r,this._designerSchemaService=a,this._designerContainerService=o,this._featureService=s,this._modelGenerator=c,this._changeCommandResolver=d,this._storageService=u,this._designerLoaderService=p,this._activatedRoute=m,this._environment=g,this._document=f,this._interfaceDesignerPropertiesPanelService=v,this.injector=b,this._isElementPanelExpandedKey="isElementPanelExpanded",this._selectedItemKey="selectedItem",this._lightBlueGreenTheme="light-blue-green-theme",this._orangeTheme="orange-theme",this._animationSpeed=20,this._schemaChangedSubscriptions=new h.Subscription,this._destroyed$=new h.Subject,this._isElementPropertiesPanelExpanded=!1,this._openPanelAnimationMode="none",this.useElementPropertiesPanel=!0,this.isSettingsPanelVisible=!1,this.isLeftPanelExpanded=!0,this.save=new l.EventEmitter,this.cancel=new l.EventEmitter,this.openProperty=new l.EventEmitter,this.openSourceCode=new l.EventEmitter,this.schemaChanged=new l.EventEmitter,this.pagePropertiesChanged=new l.EventEmitter,this._renderer=this.injector.get(l.Renderer2),this._useOrangeTheme()}get parentSchemas(){var e,t,n;return(null===(e=this._designItem)||void 0===e?void 0:e.schema)?[null===(t=this._designItem)||void 0===t?void 0:t.schema,...(null===(n=this._designItem)||void 0===n?void 0:n.parentSchemas)||[]]:[]}get isElementPropertiesPanelExpanded(){return this._isElementPropertiesPanelExpanded}set isElementPropertiesPanelExpanded(e){this._isElementPropertiesPanelExpanded=e,this._saveStorageValue(this._isElementPanelExpandedKey,e)}get viewConfig(){var e;return this.viewModel?null===(e=this._schema)||void 0===e?void 0:e.viewConfig:[]}set designItem(e){var t,n;const i=null!==(t=null==e?void 0:e.bundle)&&void 0!==t?t:{};e&&this._designItem!==e&&(this._designItem=e,this._schema=i,this._schemaName=null===(n=null==e?void 0:e.schema)||void 0===n?void 0:n.name,this._schema.useFullHierarchy=this._getUseFullHierarchy(),this._designerSchemaService.init(this._schema),this._generateViewModel(this._schema).pipe((0,b.R)(this._destroyed$)).subscribe((e=>(0,a.mG)(this,void 0,void 0,(function*(){this.viewModel=e,this._designerLoaderService.completeLoadingPart(KN.ViewModelGenerated),this._initSelectedItemName(),this._initElementPanelExpanded(),this._selectedItemName&&(this._updateDesignSettings(this._selectedItemName),yield new Promise((e=>setTimeout(e))),this._designerContainerService.select(this._selectedItemName))})))))}get rightPanelConfig(){return{direction:"left",animationDisabled:!1,showToggleButton:!0}}get leftPanelConfig(){return{direction:"right",animationDisabled:!1,showToggleButton:!1}}get designSettings(){return this._designSettings}set designSettings(e){"none"===this._openPanelAnimationMode?this._designSettings=e:this._setDesignSettingsWithAnimation(e)}static _isShouldGenerateViewModel(e){return e!==kp.Move&&e!==kp.Remove&&e!==kp.MoveToIndex}_onSchemaChanged(){this.schemaChanged.emit(this._schema)}_generateModel(e){return this._modelGenerator.generate(e.modelConfig)}_generateViewModel(e){return this._generateModel(e).pipe((0,En.b)((t=>e.models=t)),(0,$r.zg)((t=>this._viewModelGenerator.generate(e,[{provide:Fl,useValue:this._schemaName}]))))}_getAllViewElements(e=Array.from(this.nested)){return[...e,...e.flatMap((e=>this._getAllViewElements(e.nested)))]}_updateViewElementBindingContext(e,t){const n=this.findViewElementDirective(e.name);if(n){n.updateViewElementConfig(e);n.injector.get(el).viewModelSubject.next(t)}}_initMetaItemDesignerOpenedSubscription(){this._metaItemDesignerService.metaItemDesignerOpened$.pipe((0,b.R)(this._destroyed$)).subscribe((e=>{var t;this.useElementPropertiesPanel?this.isElementPropertiesPanelExpanded=!0:this.isSettingsPanelVisible=!0,e?this.designSettings=Object.assign(Object.assign({},e),{resources:null===(t=this._schema)||void 0===t?void 0:t.resources,parentSchemas:this.parentSchemas,packageUId:this._getPackageUId()}):this._designerContainerService.select(null),this._changeDetectorRef.detectChanges()}))}_initSelectedChangedSubscription(){this._designerContainerService.selectedChanged$.pipe((0,b.R)(this._destroyed$),(0,f.h)((({name:e})=>this._selectedItemName!==e))).subscribe((({name:e,mode:t})=>{this._selectedItemName=e,this.useElementPropertiesPanel&&this.isElementPropertiesPanelExpanded&&(this._updateDesignSettings(e,t),this._changeDetectorRef.detectChanges())}))}_initOpenPanelAnimationModeSubscription(){this._interfaceDesignerPropertiesPanelService.navigationDirection().pipe((0,b.R)(this._destroyed$)).subscribe((e=>{this._openPanelAnimationMode=e}))}_getPackageUId(){return this._designItem.schema.package.uId}_updateDesignSettings(e,t=FN.Edit){var n,i;const{viewConfig:r}=this._designerSchemaService.getViewConfigInfoByName(e);r?(this.designSettings={metaItemType:r.type,mode:t,itemConfig:r,type:RN.ViewElement,resources:null===(n=this._schema)||void 0===n?void 0:n.resources,viewModelConfig:null===(i=this._schema)||void 0===i?void 0:i.viewModelConfig,parentSchemas:this.parentSchemas,packageUId:this._getPackageUId(),schemaUId:this._designItem.schema.uId},this._saveStorageValue(this._selectedItemKey,r.name)):this._openPropertyPanel()}_openPropertyPanel(){this.designSettings=null,this.openProperty.emit(this.useElementPropertiesPanel)}_initSchemaChangedSubscription(){this._designerSchemaService.schemaChanged$.pipe((0,b.R)(this._destroyed$)).subscribe((({schema:t,changes:n})=>{this._schema=t,e._isShouldGenerateViewModel(n.operation)?this._subscribeViewModelGenerate(n.viewConfig):this._onSchemaChanged()}))}_subscribeViewModelGenerate(e){const t=new h.Subject;this._getGenerateViewModel().pipe((0,b.R)(t)).subscribe((n=>{this._updateViewElementBindingContext(e,n),this.useElementPropertiesPanel||(this.isSettingsPanelVisible=!1),t.next(),t.complete()}))}_getGenerateViewModel(){return this._generateViewModel(this._schema).pipe((0,A.P)(),(0,oV.QV)(h.animationFrameScheduler),(0,En.b)((()=>this._onSchemaChanged())))}_getSchemaStorageKey(e){var t;let n;const{schema:i,isNew:r,extendSchema:a,parentSchemas:o}=this._designItem||{};if(i&&a||r){const e=null===(t=null==o?void 0:o[0])||void 0===t?void 0:t.uId;n=e?`new_${e}`:"new"}else n=i?i.uId:"new";return`${e}_${n}`}_saveStorageValue(e,t){const n=this._getSchemaStorageKey(e);t?this._storageService.set(n,String(t)):this._storageService.remove(n)}_loadStorageValue(e){const t=this._storageService.get(this._getSchemaStorageKey(e));return String(t)}_initElementPanelExpanded(){const e=this._loadStorageValue(this._isElementPanelExpandedKey);this._isElementPropertiesPanelExpanded="true"===e}_initSelectedItemName(){var e;const t=this._loadStorageValue(this._selectedItemKey),n=t&&this._designerSchemaService.getViewConfigInfoByName(t);this._selectedItemName=null===(e=null==n?void 0:n.viewConfig)||void 0===e?void 0:e.name}_loadFeatures(){this._featureService.getFeaturesState(["DoNotUseInterfaceDesignerElementPropertiesPanel","UseBlueThemeInDesigner"]).subscribe((([e,t])=>{this.useElementPropertiesPanel=!e,t&&this._useBlueTheme()}))}_useBlueTheme(){const e=this._document.body;this._renderer.removeClass(e,this._orangeTheme),this._renderer.addClass(e,this._lightBlueGreenTheme)}_useOrangeTheme(){const e=this._document.body;this._renderer.removeClass(e,this._lightBlueGreenTheme),this._renderer.addClass(e,this._orangeTheme)}_getUseFullHierarchy(){const e=this._activatedRoute.snapshot.queryParams;return"true"===(null==e?void 0:e.useFullHierarchy)}_setPanelPosition(e){this.panel.nativeElement.style.transform=`translateX(${e}px`}_resetPanelPosition(){this.panel.nativeElement.style.transform=""}_clonePanel(){const e=this.panel.nativeElement.cloneNode(!0);this.cloneNode.nativeElement.appendChild(e)}_clearPanelClone(){this.cloneNode.nativeElement.innerHTML=""}_resetOpenPanelAnimationMode(){this._openPanelAnimationMode="none"}_setDesignSettingsWithAnimation(e){this._clonePanel();const t="backward"===this._openPanelAnimationMode;this._resetOpenPanelAnimationMode();const{width:n}=this.panel.nativeElement.getBoundingClientRect();let i=n*(t?-1:1);this._setPanelPosition(i),this._designSettings=e;const r=n/this._animationSpeed*(t?-1:1),a=new h.Subject;(0,h.interval)(0,h.animationFrameScheduler).pipe((0,b.R)(a),(0,Al.x)((()=>{this._clearPanelClone(),this._resetPanelPosition()}))).subscribe((()=>{i-=r,(t?i<=0:i>=0)?this._setPanelPosition(i):a.next()}))}findViewElementDirective(e){return this._getAllViewElements().find((t=>t.viewElementConfig.name===e))}onMetaItemDesignerSettingsChanged(e){this._designerSchemaService.update(e)}onItemPropertyChanged(e){this._changeCommandResolver.resolve(e).subscribe((e=>{e.execute().subscribe()}))}onPagePropertiesChanged(e){e&&this.pagePropertiesChanged.emit(Object.assign(Object.assign({},e),{caption:new Hr(e.caption),description:new Hr(e.description)}))}onSettingsPanelClosing(){const e=this.designSettings.itemConfig;this._metaItemDesignerService.closeMetaItemDesigner(e.name),this.isSettingsPanelVisible=!1}ngOnInit(){this._initMetaItemDesignerOpenedSubscription(),this._initSchemaChangedSubscription(),this._initSelectedChangedSubscription(),this._loadFeatures()}ngOnDestroy(){this._schemaChangedSubscriptions.unsubscribe(),this._destroyed$.next(),this._destroyed$.complete(),this._useBlueTheme()}onSave(){this.save.emit()}onCancel(){this.cancel.emit()}onBeforeUnload(){this._environment&&"/"===this._environment.appPath&&!this._environment.production&&this.save.emit(),this.useElementPropertiesPanel&&(this._saveStorageValue(this._selectedItemKey,this._selectedItemName),this._saveStorageValue(this._isElementPanelExpandedKey,this.isElementPropertiesPanelExpanded))}onOpenProperty(){this.useElementPropertiesPanel?(this.designSettings&&this.isElementPropertiesPanelExpanded||this.onToggleRightPanel(),this._designerContainerService.select(null)):this._openPropertyPanel()}onOpenSourceCode(){this.openSourceCode.emit()}onToggleRightPanel(){this.isElementPropertiesPanelExpanded=!this.isElementPropertiesPanelExpanded,this.isElementPropertiesPanelExpanded&&this.useElementPropertiesPanel&&this._updateDesignSettings(this._selectedItemName)}onToggleLeftPanel(){this.isLeftPanelExpanded=!this.isLeftPanelExpanded}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](LN),l["ɵɵdirectiveInject"](BN),l["ɵɵdirectiveInject"](Lc),l["ɵɵdirectiveInject"](l.ChangeDetectorRef),l["ɵɵdirectiveInject"](Mj),l["ɵɵdirectiveInject"](nO),l["ɵɵdirectiveInject"](Nj),l["ɵɵdirectiveInject"](ls),l["ɵɵdirectiveInject"](cc),l["ɵɵdirectiveInject"](sV),l["ɵɵdirectiveInject"](Vj),l["ɵɵdirectiveInject"](XN),l["ɵɵdirectiveInject"](Wp.gz),l["ɵɵdirectiveInject"]("environment"),l["ɵɵdirectiveInject"](o.DOCUMENT),l["ɵɵdirectiveInject"](dV),l["ɵɵdirectiveInject"](l.Injector))},e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["crt-base-interface-designer"]],viewQuery:function(e,t){if(1&e&&(l["ɵɵviewQuery"](wV,5,l.ElementRef),l["ɵɵviewQuery"](_V,5,l.ElementRef),l["ɵɵviewQuery"](_u,5)),2&e){let e;l["ɵɵqueryRefresh"](e=l["ɵɵloadQuery"]())&&(t.cloneNode=e.first),l["ɵɵqueryRefresh"](e=l["ɵɵloadQuery"]())&&(t.panel=e.first),l["ɵɵqueryRefresh"](e=l["ɵɵloadQuery"]())&&(t.nested=e)}},hostBindings:function(e,t){1&e&&l["ɵɵlistener"]("beforeunload",(function(){return t.onBeforeUnload()}),!1,l["ɵɵresolveWindow"])},inputs:{pageProperties:"pageProperties",title:"title",designItem:"designItem"},outputs:{save:"save",cancel:"cancel",openProperty:"openProperty",openSourceCode:"openSourceCode",schemaChanged:"schemaChanged",pagePropertiesChanged:"pagePropertiesChanged"},features:[l["ɵɵInheritDefinitionFeature"]],decls:9,vars:8,consts:[[1,"interface-designer-header",3,"title","save","cancel","openProperty","openSourceCode"],[1,"designer-container"],[1,"left-panel"],[3,"panelConfig","isExpanded","toggle"],["crtDesignTimeViewElement","",1,"canvas-panel","light-blue-green-theme"],[4,"ngIf"],["class","element-properties-panel-container",4,"ngIf"],[3,"ngClass",4,"ngIf"],[4,"ngFor","ngForOf"],[3,"crtViewElement","crtViewModel"],[1,"element-properties-panel-container"],[1,"element-properties-panel",3,"isExpanded","panelConfig","toggle"],[1,"clone-node"],["cloneNode",""],[3,"elementProperties","pageProperties","itemPropertiesChanged","pagePropertiesChanged"],["panel",""],[3,"ngClass"],[1,"designer-settings","mat-elevation-z24",3,"settings","closing","settingsChanged"]],template:function(e,t){1&e&&(l["ɵɵelementStart"](0,"crt-interface-designer-header",0),l["ɵɵlistener"]("save",(function(){return t.onSave()}))("cancel",(function(){return t.onCancel()}))("openProperty",(function(){return t.onOpenProperty()}))("openSourceCode",(function(){return t.onOpenSourceCode()})),l["ɵɵelementEnd"](),l["ɵɵelementStart"](1,"div",1),l["ɵɵelementStart"](2,"div",2),l["ɵɵelementStart"](3,"ts-vertical-expansion-panel",3),l["ɵɵlistener"]("toggle",(function(){return t.onToggleLeftPanel()})),l["ɵɵelement"](4,"crt-designer-tools"),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵelementStart"](5,"div",4),l["ɵɵtemplate"](6,IV,2,1,"ng-container",5),l["ɵɵelementEnd"](),l["ɵɵtemplate"](7,SV,6,4,"div",6),l["ɵɵelementEnd"](),l["ɵɵtemplate"](8,DV,2,5,"div",7)),2&e&&(l["ɵɵproperty"]("title",t.title),l["ɵɵadvance"](2),l["ɵɵclassProp"]("show",t.isLeftPanelExpanded),l["ɵɵadvance"](1),l["ɵɵproperty"]("panelConfig",t.leftPanelConfig)("isExpanded",t.isLeftPanelExpanded),l["ɵɵadvance"](3),l["ɵɵproperty"]("ngIf",t.viewConfig),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",t.useElementPropertiesPanel),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",!t.useElementPropertiesPanel))},directives:[gV,rC,MA,fV,o.NgIf,o.NgForOf,_u,Su,yV,o.NgClass,aV],styles:["[_nghost-%COMP%]{overflow:hidden}.interface-designer-header[_ngcontent-%COMP%]{height:56px}.designer-container[_ngcontent-%COMP%]{display:flex;width:100%;height:calc(100% - 56px)}.designer-container[_ngcontent-%COMP%]   .left-panel[_ngcontent-%COMP%]{z-index:3}.designer-container[_ngcontent-%COMP%]   .left-panel.show[_ngcontent-%COMP%]{width:280px;display:block;overflow-x:hidden;overflow-y:auto;scrollbar-width:thin}.designer-container[_ngcontent-%COMP%]   .canvas-panel[_ngcontent-%COMP%]{flex:1;position:relative;overflow:hidden;display:flex;flex-direction:column}.designer-header[_ngcontent-%COMP%]{display:block}.settings-panel[_ngcontent-%COMP%]{display:none}.settings-panel.show-settings-panel[_ngcontent-%COMP%]{position:absolute;display:block;top:0;left:0;z-index:101;padding:20px;width:calc(100vw - 56px);height:calc(100vh - 56px)}.settings-panel.show-settings-panel[_ngcontent-%COMP%]   .designer-settings[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}.element-properties-panel[_ngcontent-%COMP%]{height:100vh}.clone-node[_ngcontent-%COMP%]{position:absolute;height:100%;filter:blur(.8px)}"]}),e})(),TV=(()=>{class e{}return e.ɵfac=function(t){return new(t||e)},e.ɵmod=l["ɵɵdefineNgModule"]({type:e}),e.ɵinj=l["ɵɵdefineInjector"]({providers:[{provide:oo,useFactory:ao,deps:[fa],multi:!0},Lc,Tj,dV],imports:[[o.CommonModule,Cy,eC,GI.ym,Pu,St.Ps,B.ot,u.aw,wk]]}),e})();("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](TV,{declarations:[yV],imports:[o.CommonModule,Cy,eC,GI.ym,Pu,St.Ps,B.ot,u.aw,wk],exports:[yV]});class kV extends Ll{constructor(e,t){super(e,t),this.dataSourceName=e,this._designerEntityService=t.get(Mj),this._transformer=t.get(zj),this._lczToString=t.get(no)}_getLocalizableValue(e){return this._lczToString.transform(new Hr(e.filter((e=>e.value))))}innerDelete(e){return(0,DF.of)(null)}innerInsert(e){return(0,DF.of)(null)}innerLoad(e,t){return(0,DF.of)([])}innerSave(e,t){return(0,DF.of)(null)}innerGetLookupDataSchema(e){return(0,DF.of)(null)}innerGetSchema(){return this._designerEntityService.getByName(this.initialConfig.entitySchemaName).pipe((0,g.U)((e=>this._transformer.toDataSchema(e))),(0,$r.zg)((e=>{var t;const n=[];return Object.entries(null!==(t=this.initialConfig.attributes)&&void 0!==t?t:{}).filter((([,e])=>"ForwardReference"===e.type)).forEach((([t,i])=>{n.push(this._designerEntityService.getForwardReferenceColumn(`${this.initialConfig.entitySchemaName}.${i.path}`).pipe((0,g.U)((n=>{const r=new Gl;r.name=t,r.caption=this._getLocalizableValue(n.caption),r.dataValueType=n.type,r.validators={},r.attributeType=Bl.ForwardReferenceAttribute,r.path=i.path,e.attributes.push(r)}))))})),0===n.length?(0,DF.of)(e):(0,h.combineLatest)(n).pipe((0,Tn.q)(1),(0,g.U)((()=>e)))})))}innerGetDefaultValues(){return(0,DF.of)(null)}innerCanDelete(e){return(0,DF.of)(null)}innerCanEdit(e){return(0,DF.of)(null)}innerCanCreate(e){return(0,DF.of)(null)}}let EV=(()=>{class e{resolve(e){let t;switch(e){case"crt.EntityDataSource":t=kV;break;case"crt.WebServiceDataSource":t=ic;break;default:t=null}return(0,h.of)(t)}}return e.ɵfac=function(t){return new(t||e)},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})();const NV={rows:{toolbar:!1,numeration:!1,selectionCheckbox:!1},columns:{toolbar:!0,sorting:!0,resizing:!0,renaming:!1,dragAndDrop:!0},cells:{selectable:!1},header:{toolbar:{columnsSelection:!0,actions:!1}}};let OV=(()=>{class e{}return e.ɵfac=function(t){return new(t||e)},e.ɵmod=l["ɵɵdefineNgModule"]({type:e}),e.ɵinj=l["ɵɵdefineInjector"]({providers:[kj,Zk,{provide:AM,useClass:Ej},{provide:EM,useClass:jk},{provide:jM,useValue:NV}],imports:[[Nr,Ey]]}),e})();("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](OV,{imports:[Nr,Ey]});let jV=(()=>{class e extends Ty{constructor(e,t){super(),this._dataSourceManager=e,this._dataSchemaRepository=t}getDataSchemaAttributeByPath(e){return this._dataSchemaRepository.getSchemaAttribute(e)}getDataSchemaByName(e){return this._dataSchemaRepository.getSchema(e).pipe((0,Tn.q)(1))}getDataSources(){return this._dataSourceManager.getDataSources$(r.DataSourceScope.Page).pipe((0,Tn.q)(1))}getDataSourceByName(e){return this._dataSourceManager.getDataSourceByName$(e)}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](Lj),l["ɵɵinject"](Bj))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})(),AV=(()=>{class e{}return e.ɵfac=function(t){return new(t||e)},e.ɵmod=l["ɵɵdefineNgModule"]({type:e}),e.ɵinj=l["ɵɵdefineInjector"]({providers:[Lj,Bj,{provide:Ty,useClass:jV}],imports:[[Ey],Ey]}),e})();("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](AV,{imports:[Ey],exports:[Ey]});let RV=(()=>{class e{constructor(e){this._dropListRefProxy=e}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](tO))},e.ɵmod=l["ɵɵdefineNgModule"]({type:e}),e.ɵinj=l["ɵɵdefineInjector"]({providers:[eO,ac,nO,HN,Hj,Mj,Rj,iO,aO,tO,r.GenerateNameMacroProcessor,ap,LN,BN,zN,QN,cc,sV,Ys,Lc,Fj,Lj,Bj,oO,ZN,{provide:rc,useClass:EV},{provide:Fp,useExisting:nO},Ia,{provide:dc,useClass:Zj},Zj,_F],imports:[[Pd,Cy,o.CommonModule,Nk,AV,OV,nV,Dt.AV,tF,xR,cF,Yp._t,eC,c.u5,TV,Zg,He,B.ot,G.Is,x.lN,St.Ps,$p.Tx,zt.LD,c.UX,GI.ym,u.aw,Pu,pj]]}),e})();var FV;("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](RV,{declarations:[Wj,PV,wA,aV,MA,fV,CA,gA,cA,gV,Kj],imports:[Pd,Cy,o.CommonModule,Nk,AV,OV,nV,Dt.AV,tF,xR,cF,Yp._t,eC,c.u5,TV,Zg,He,B.ot,G.Is,x.lN,St.Ps,$p.Tx,zt.LD,c.UX,GI.ym,u.aw,Pu,pj],exports:[PV,MA,aV,gA,cA]});let VV=FV=class extends pc{constructor(e,t,n){super(e,t,n),this.injector=e,this.async=t,this.i18nMessageKey="Validators.GridColumnsCount.Message",this._designerSchemaService=e.get(nO)}static _getMaxFilledColumnsCount(e){let t=0;return e.forEach((e=>{const n=e.layoutConfig.column+e.layoutConfig.colSpan;n>t&&(t=n)})),t-1}validate(e){var t;const n=this._designerSchemaService.getViewConfigInfoByName(this.params.gridName),i=null===(t=null==n?void 0:n.viewConfig)||void 0===t?void 0:t.items;if(!n||!(null==i?void 0:i.length))return null;const r=FV._getMaxFilledColumnsCount(i);return(null==e?void 0:e.value)<r?{invalidColumnsCount:this.defaultValidationError()}:null}};VV=FV=(0,a.gn)([uc({type:"crt.GridColumns",async:!1}),(0,a.w6)("design:paramtypes",[l.Injector,Boolean,Object])],VV);let LV=class extends xF{constructor(e,t){super(e),this.injector=e,this.config=t}injectDependencies(){return this._schemaService=this.injector.get(Fp),super.injectDependencies()}innerExecute(){return this._schemaService.setPrimaryDataSource(this.config.dataSourceName),(0,h.of)({success:!0})}};LV=(0,a.gn)([yF({type:"crt.ChangePrimaryDataSource"}),(0,a.w6)("design:paramtypes",[l.Injector,Object])],LV);var zV=n(57874);let BV=(()=>{class e extends kF{constructor(e,t){super(e,t),this.config=t}_copyViewConfig(){const e=this._getCurrentViewConfigInfo(),t=(0,so.Z)(e.viewConfig);return this.prepareViewConfig(t),t}_getNewItemsAttribute(e,t){var n;if(!t||"string"!=typeof t)return{changedViewModelAttributesMap:null,newItems:t};const i=e,a=`${e}${r.DATA_SOURCE_PREFIX}`,o=t.slice(1),s=this.designerSchemaService.getViewModelConfig().attributes[o],l=null===(n=s.modelConfig)||void 0===n?void 0:n.path;this._copyDataSource(a,o);const{newViewModelAttributes:c,changedViewModelAttributesMap:d}=this._copyViewModelAttributes(l,a,s.viewModelConfig.attributes),u={isCollection:!0,modelConfig:{path:a},viewModelConfig:{attributes:c}};return this.designerSchemaService.createViewModelAttribute(i,u),{changedViewModelAttributesMap:d,newItems:`$${i}`}}_copyDataSource(e,t){const n=this.designerSchemaService.getMappedDataSourceAttributePath(t),i=this.designerSchemaService.getDataSourceConfigByName(n);i&&this.designerSchemaService.createDataSource(e,{type:"crt.EntityDataSource",scope:r.DataSourceScope.ViewElement,config:(0,so.Z)(i)})}_copyViewModelAttributes(e,t,n){const i=new Map,r=Object.entries(n).reduce(((n,[r,a])=>{const o=r.replace(e,t);i.set(r,o);const s=a.modelConfig.path.replace(e,t);return n[o]={modelConfig:{path:s}},n}),{});return{changedViewModelAttributesMap:i,newViewModelAttributes:r}}_saveNewViewConfig(e,t){var n,i,r;const a=null!==(n=this.config.index)&&void 0!==n?n:null===(i=this.designerSchemaService.getViewConfigInfoByName(this.config.name))||void 0===i?void 0:i.index;this.designerSchemaService.create({parentName:null!==(r=this.config.parentName)&&void 0!==r?r:this._getCurrentViewConfigInfo().parentName,defaultViewConfig:(0,zV.Z)(e),defaultConfig:{type:this.viewItemType,defaultPropertyValues:{name:t}},propertyName:this.config.propertyName,index:a})}_getCurrentViewConfigInfo(){return this.designerSchemaService.getViewConfigInfoByProperty("name",this.config.name)[0]}innerExecute(){const e=this._copyViewConfig(),t=wt.generateUnique(this.viewItemName),{changedViewModelAttributesMap:n,newItems:i}=this._getNewItemsAttribute(t,e.items);return e.items=i,this.setupAdditionalViewConfigOptions(e,n),this._saveNewViewConfig(e,t),(0,h.of)({success:!0})}}return e.ɵfac=function(e){l["ɵɵinvalidFactory"]()},e.ɵdir=l["ɵɵdefineDirective"]({type:e,features:[l["ɵɵInheritDefinitionFeature"]]}),e})(),GV=class extends BV{constructor(e,t){super(e,t),this.viewItemName="DataGrid",this.viewItemType="crt.DataGrid"}_getNewPrimaryColumnName(e,t){return(null==e?void 0:e.get(t))||t}_getNewColumns(e,t){if(!t||"string"==typeof t)return t;return t.map((t=>{var n;delete t.cellView;const i=(null==e?void 0:e.get(t.code))||t.code;return Object.assign(Object.assign({},t),{code:i,caption:null===(n=t.caption)||void 0===n?void 0:n.replace(new RegExp(t.code,"g"),i)})}))}prepareViewConfig(e){delete e.sorting,delete e.sortingChange,delete e.paginationChange}setupAdditionalViewConfigOptions(e,t){e.primaryColumnName=this._getNewPrimaryColumnName(t,e.primaryColumnName),e.columns=this._getNewColumns(t,e.columns)}};GV=(0,a.gn)([yF({type:"crt.CopyDataGridItemCommand"}),(0,a.w6)("design:paramtypes",[l.Injector,Object])],GV);let HV=class extends IF{constructor(e,t){super(e,t)}_addViewModelAttribute(e,t,n){return this.designerSchemaService.isViewModelAttributeExists(e)||(this.designerSchemaService.createDefaultAttribute(e),this.designerSchemaService.bindViewModelAttribute(e,t,n)),(0,DF.of)({success:!0})}_initRuntimeSchemaCacheInvalidationChannel(){this._runtimeSchemaCacheInvalidationBroadcastService=this.injector.get(it).createInstance(Vl)}injectDependencies(){return super.injectDependencies().pipe((0,En.b)((()=>{this._initRuntimeSchemaCacheInvalidationChannel()})))}invalidateRuntimeSchemaCache(e){this._runtimeSchemaCacheInvalidationBroadcastService.publish({schemaName:e})}updateDesignerToolConfigs(e,t){const n=e.dataSourceConfig,i=e.defaultConfig;n.viewModelAttributeName=t,i.defaultPropertyValues=Object.assign(Object.assign({},i.defaultPropertyValues),{control:`$${t}`,label:`$Resources.Strings.${t}`,labelPosition:"auto"})}innerExecute(){const e=this.config.designerTool,t=e.dataSourceConfig,n=t.dataSourceName,i=t.dataSourceAttributeName;let r=this.designerSchemaService.findAttributeByDataSourceAttributePath(`${n}.${i}`);return r||(r=this.designerSchemaService.generateUniqueAttributeNameByType(t.viewModelAttributeName)),this.updateDesignerToolConfigs(e,r),this._addViewModelAttribute(r,n,i).pipe((0,$r.zg)((()=>super.innerExecute())))}};HV=(0,a.gn)([yF({type:"crt.AddDataSourceItemCommand"}),(0,a.w6)("design:paramtypes",[l.Injector,Object])],HV);let UV=class extends HV{constructor(e,t){super(e,t)}injectDependencies(){return super.injectDependencies()}updateDesignerToolConfigs(e,t){super.updateDesignerToolConfigs(e,t);const n=e.defaultConfig;n.defaultPropertyValues=Object.assign(Object.assign({},n.defaultPropertyValues),{listActions:[Object.assign(Object.assign({},V_),{name:"addRecord_"+r.GENERATE_GUID_MACRO,defaultLocalizableStrings:{caption:"Components.Combobox.AddNewRecord"}})],showValueAsLink:!0})}innerExecute(){return super.innerExecute()}};UV=(0,a.gn)([yF({type:"crt.AddLookupDataSourceItemCommand"}),(0,a.w6)("design:paramtypes",[l.Injector,Object])],UV);let ZV=class extends HV{constructor(e,t){super(e,t)}injectDependencies(){return super.injectDependencies().pipe((0,En.b)((()=>{this._designerEntityService=this.injector.get(Mj)})))}innerExecute(){const e=this.config.designerTool.dataSourceConfig;return this._designerEntityService.createColumn(e.schemaName,e.dataValueType).pipe((0,$r.zg)((t=>(e.dataSourceAttributeName=t.name,super.innerExecute()))),(0,En.b)((()=>this.invalidateRuntimeSchemaCache(e.schemaName))))}};ZV=(0,a.gn)([yF({type:"crt.AddNewDataSourceItemCommand"}),(0,a.w6)("design:paramtypes",[l.Injector,Object])],ZV);let $V=class extends UV{constructor(e,t){super(e,t),this.config=t}injectDependencies(){return super.injectDependencies().pipe((0,En.b)((()=>{this._designerEntityService=this.injector.get(Mj)})))}innerExecute(){const e=this.config.designerTool.dataSourceConfig;return this._designerEntityService.createColumn(e.schemaName,e.dataValueType).pipe((0,$r.zg)((t=>(e.dataSourceAttributeName=t.name,super.innerExecute()))),(0,En.b)((()=>this.invalidateRuntimeSchemaCache(e.schemaName))))}};$V=(0,a.gn)([yF({type:"crt.AddNewLookupDataSourceItemCommand"}),(0,a.w6)("design:paramtypes",[l.Injector,Object])],$V);let WV=class extends xF{constructor(e,t){super(e),this.injector=e,this.config=t}_initRuntimeSchemaCacheInvalidationChannel(){this._runtimeSchemaCacheInvalidationBroadcastService=this.injector.get(it).createInstance(Vl)}_invalidateRuntimeSchemaCache(e){this._runtimeSchemaCacheInvalidationBroadcastService.publish({schemaName:e})}_updateDataSourceAttributePathOnNameChange(e,t){const n=this.config.changes.find((e=>"name"===e.path));if(n){const i=this.designerSchemaService.findAttributeByDataSourceAttributePath(`${e}.${t}`);this.designerSchemaService.bindViewModelAttribute(i,e,n.value)}}_getViewModelAttributePath(e,t){return this.designerSchemaService.findAttributeByDataSourceAttributePath(`${e}.${t}`)}_updateViewElements(e,t){const n=this.injector.get(pO);e.forEach((e=>{const i=n.getControlExtraConfig(e.viewConfig.type,t);(i||this.config.changes.find((e=>"caption"===e.path)))&&this.designerSchemaService.update({itemConfig:Object.assign({name:e.viewConfig.name},i),selectOnCanvas:!1})}))}injectDependencies(){return super.injectDependencies().pipe((0,En.b)((()=>{this._designerEntityDataSourceService=this.injector.get(Dj),this._designerEntityService=this.injector.get(Mj),this._initRuntimeSchemaCacheInvalidationChannel()})))}innerExecute(){return this._designerEntityDataSourceService.getDataSourcesInfo$().pipe((0,Tn.q)(1),(0,$r.zg)((e=>{const t=this.config.name.split("."),n=t[0],i=t[1],r=e.find((e=>e.dataSourceName===n));return this._updateDataSourceAttributePathOnNameChange(n,i),this._designerEntityService.updateColumn(r.entitySchemaName,i,this.config.changes).pipe((0,En.b)((e=>{const t=this._getViewModelAttributePath(n,i),r=this.designerSchemaService.getViewConfigsByViewModelAttribute(t);r&&this._updateViewElements(r,e)})),(0,En.b)((()=>{this._invalidateRuntimeSchemaCache(r.entitySchemaName)})),(0,g.U)((()=>({success:!0}))))})))}};WV=(0,a.gn)([yF({type:"crt.ChangeEntityDataSourceItemCommand"}),(0,a.w6)("design:paramtypes",[l.Injector,Object])],WV);let qV=class extends xF{constructor(e,t){super(e),this.injector=e,this.config=t}injectDependencies(){return super.injectDependencies().pipe((0,En.b)((()=>{this._dsManager=this.injector.get(Lj)})))}_generateViewModelAttributeData(e,t){const n=e.split(".");let i,r;return n.length>2?(i=this._createDataSourceConfigAttribute(n),r=`${n[0]}.${i}`):(i=this._generateUniqueAttributeNameByType(this._getBaseViewModelAttributeNameByType(t)),r=e),{viewModelAttributeName:i,viewModelAttributePath:r}}_findOrCreateViewModelAttribute(e,t){const n=this._getViewModelAttributeByDataSourcePath(e);if(n)return(0,h.of)(n);{const{viewModelAttributeName:n,viewModelAttributePath:i}=this._generateViewModelAttributeData(e,t);return this._createViewModelAttribute(n,i).pipe((0,$r.zg)((()=>(0,h.of)(n))))}}_getViewModelAttributeByDataSourcePath(e){return this.designerSchemaService.findAttributeByDataSourceAttributePath(e)}_generateUniqueAttributeNameByType(e){return this.designerSchemaService.generateUniqueAttributeNameByType(e)}_getBaseViewModelAttributeNameByType(e){var t;return null===(t=Object.values(AN).find((t=>t.controlType===e)))||void 0===t?void 0:t.viewModelAttributeName}_createViewModelAttribute(e,t){if(!this.designerSchemaService.isViewModelAttributeExists(e)){const n=t.split("."),i=n[0],r=n[1];this.designerSchemaService.createDefaultAttribute(e),this.designerSchemaService.bindViewModelAttribute(e,i,r)}return(0,h.of)(null)}_createDataSourceConfigAttribute(e){const t=e[0],n=this.designerSchemaService.getDataSourceConfigByName(t);n.attributes||(n.attributes={});const i=e.slice(1),r=i.join(""),a={path:i.join("."),type:"ForwardReference"};return n.attributes=Object.assign(Object.assign({},n.attributes),{[r]:a}),this.designerSchemaService.bindDataSource(t,n),r}_generateItemConfig(e,t,n){let i={};return i={name:this.config.name,control:"$"+t,label:`$Resources.Strings.${t}`},n===AN.Combobox.controlType&&(i=Object.assign({},i)),i}_getExtraConfig(e,t){const n=this.injector.get(Dj),i=this.injector.get(pO);return n.getDataSourcesInfo$().pipe((0,Tn.q)(1),(0,g.U)((n=>{const r=e.split("."),a=r[0],o=r[1],s=n.find((e=>e.dataSourceName===a)).entitySchema.columns.find((e=>e.name===o));return i.getControlExtraConfig(t,s)})))}_removeDataSourceAttributeIfNeeded(){var e,t;const n=this.designerSchemaService.getViewConfigInfoByName(this.config.name),i=null===(e=n.viewConfig.control)||void 0===e?void 0:e.slice(1);if(!i||!(null===(t=n.viewConfig.control)||void 0===t?void 0:t.startsWith("$")))return(0,h.of)(null);const r=this.designerSchemaService.getMappedDataSourceAttributePath(i).split(".").shift();return this.designerSchemaService.getViewConfigsByViewModelAttribute(i).length>1?(0,h.of)(null):this._dsManager.getDataSourceServiceByDataSourceName(r).pipe((0,$r.zg)((e=>e.removeAttribute(i))))}innerExecute(){var e;const t=this.config.changes.find((e=>"control"===e.path)).value,n=this.config.changes.find((e=>"readOnlyConfig"===e.path)).value,i=this.designerSchemaService.getViewConfigInfoByName(this.config.name).viewConfig,r=null===(e=i.control)||void 0===e?void 0:e.toString();let a=Object.assign({},n);if(!t)return(null==r?void 0:r.startsWith("$"))&&(this.designerSchemaService.removeDataSourceAttributePath(r.slice(1)),this.designerSchemaService.update({itemConfig:Object.assign({},a)})),(0,h.of)({success:!0});const o=t.split(".")[1];return this._removeDataSourceAttributeIfNeeded().pipe((0,Pn.w)((()=>(0,h.forkJoin)([this._findOrCreateViewModelAttribute(t,i.type),this._getExtraConfig(t,i.type)]))),(0,En.b)((([e,t])=>{e&&(a=Object.assign(Object.assign(Object.assign({},a),t),this._generateItemConfig(o,e,i.type))),this.designerSchemaService.update({itemConfig:Object.assign({},a)})})),(0,g.U)((()=>({success:!0}))))}};qV=(0,a.gn)([yF({type:"crt.ChangeViewItemBinding"}),(0,a.w6)("design:paramtypes",[l.Injector,Object])],qV);let YV=class extends xF{constructor(e,t){super(e),this.injector=e,this.config=t}_generateViewModelAttributeData(e){const t=e.split(".");let n,i;return t.length>2?(n=this._createDataSourceConfigAttribute(t),i=`${t[0]}.${n}`):(n=this.designerSchemaService.generateUniqueAttributeNameByType("Parameter"),i=e),{viewModelAttributeName:n,viewModelAttributePath:i}}_findOrCreateViewModelAttribute(e){const t=this._getViewModelAttributeByDataSourcePath(e);if(t)return(0,h.of)(t);{const{viewModelAttributeName:t,viewModelAttributePath:n}=this._generateViewModelAttributeData(e);return this._createViewModelAttribute(t,n).pipe((0,co.h)(t))}}_getViewModelAttributeByDataSourcePath(e){return this.designerSchemaService.findAttributeByDataSourceAttributePath(e)}_createViewModelAttribute(e,t){if(!this.designerSchemaService.isViewModelAttributeExists(e)){const n=t.split("."),i=n[0],r=n[1];this.designerSchemaService.createDefaultAttribute(e),this.designerSchemaService.bindViewModelAttribute(e,i,r)}return(0,h.of)(null)}_createDataSourceConfigAttribute(e){const t=e[0],n=this.designerSchemaService.getDataSourceConfigByName(t);n.attributes||(n.attributes={});const i=e.slice(1),r=i.join(""),a={path:i.join("."),type:"ForwardReference"};return n.attributes=Object.assign(Object.assign({},n.attributes),{[r]:a}),this.designerSchemaService.bindDataSource(t,n),r}innerExecute(){var e;const t=null===(e=this.config.changes[0])||void 0===e?void 0:e.value;return this._findOrCreateViewModelAttribute(t).pipe((0,g.U)((e=>({success:!0,viewModelAttributeName:e}))))}};YV=(0,a.gn)([yF({type:"crt.ChangeRequestParameterBindingCommand"}),(0,a.w6)("design:paramtypes",[l.Injector,Object])],YV);let JV=class extends xF{constructor(e,t){super(e),this.injector=e,this.config=t}innerExecute(){const e=this.injector.get(Mj);return this.config.oldName?e.updateEntity(this.config.oldName,[{path:"caption",value:this.config.caption},{path:"name",value:this.config.name}]).pipe((0,g.U)((e=>({success:!0,lookupSchemaUId:e.uId})))):e.createLookupDesignItem(this.config.caption,this.config.name).pipe((0,g.U)((e=>({success:!0,lookupSchemaUId:e.uId}))))}};JV=(0,a.gn)([yF({type:"crt.CreateOrEditLookupEntityCommand"}),(0,a.w6)("design:paramtypes",[l.Injector,Object])],JV);let QV=class extends xF{constructor(e,t){super(e),this.injector=e,this.config=t}innerExecute(){const{dataSourceName:e,dataSourceAttributePaths:t}=this.config,n=this.designerSchemaService.getEntityDataSourceConfigService(e);let i=[];return n&&(n.setAttributes(t),i=n.getAttributeNames(),n.apply()),(0,h.of)({dataSourceAttributeNames:i,success:!0})}};QV=(0,a.gn)([yF({type:"crt.UpdateEntityDataSourceAttributes"}),(0,a.w6)("design:paramtypes",[l.Injector,Object])],QV);let KV=class extends xF{constructor(e,t){super(e),this.injector=e,this.config=t,this._designerLoaderService=e.get(XN)}_addColumn(e,t){(this.config.columnConfigs||[]).forEach((n=>{const i=(e||"")+n.name,r=WO.create(i,n.dataValueType);r.caption=n.caption,n.requirementType&&(r.requirementType=n.requirementType),t.addColumn(r),this.config.primaryDisplayColumnName===n.name&&(t.primaryDisplayColumn=r)}))}innerExecute(){this._designerLoaderService.resetLoadingPart(KN.DataSourceLoaded);const e=this.injector.get(Mj),t=this.injector.get(LN);return(0,h.forkJoin)([e.schemaNamePrefix,e.createDesignItem(this.config.caption,this.config.description)]).pipe((0,g.U)((([e,n])=>{const i={type:"crt.EntityDataSource",scope:this.config.scope,config:{entitySchemaName:n.name}};this._addColumn(e,n);const a=n.name+r.DATA_SOURCE_PREFIX;return this.designerSchemaService.createDataSource(a,i),t.openMetaItemDesigner("crt.EntityDataSource",FN.Edit,{itemConfig:{dataSourceName:a,propertiesPanelComponentTypeName:"crt.EntityDataSourcePropertiesPanel"},type:RN.DataSource}),{success:!0}})))}};KV=(0,a.gn)([yF({type:"crt.AddEntityDataSourceCommand"}),(0,a.w6)("design:paramtypes",[l.Injector,Object])],KV);let XV=class extends xF{constructor(e,t){super(e),this.injector=e,this.config=t}_updateDSConfigEntitySchemaNameOnNameChange(){const e=this.config.changes.find((e=>"name"===e.path));if(e){const t=this.config.name,n=this.designerSchemaService.getDataSourceConfigByName(t);n.entitySchemaName=e.value,this.designerSchemaService.bindDataSource(t,n)}}innerExecute(){const e=this.injector.get(Dj),t=this.injector.get(Mj);return e.getDataSourcesInfo$().pipe((0,Tn.q)(1),(0,$r.zg)((e=>{const n=this.config.name,i=e.find((e=>e.dataSourceName===n));return t.updateEntity(i.entitySchemaName,this.config.changes).pipe((0,En.b)((()=>this._updateDSConfigEntitySchemaNameOnNameChange())))})),(0,$r.zg)((()=>(0,h.of)({success:!0}))))}};XV=(0,a.gn)([yF({type:"crt.ChangeEntityDataSourceCommand"}),(0,a.w6)("design:paramtypes",[l.Injector,Object])],XV);let eL=class extends xF{constructor(e,t){super(e),this.config=t}innerExecute(){const e=this.injector.get(Ij);return this.injector.get(Dj).getDataSourcesInfo$().pipe((0,Tn.q)(1),(0,$r.zg)((t=>e.saveDesignItems((0,dt.Z)(t.map((e=>e.entitySchemaName)))).pipe((0,g.U)((e=>({success:e.success})))))))}};eL=(0,a.gn)([yF({type:"crt.SaveEntityDataSourcesCommand"}),(0,a.w6)("design:paramtypes",[l.Injector,Object])],eL);let tL=class extends xF{constructor(e,t){super(e),this.injector=e,this.config=t}innerExecute(){const e={type:"crt.EntityDataSource",scope:r.DataSourceScope.Page,config:{entitySchemaName:this.config.entitySchemaName}},t=this.config.entitySchemaName+r.DATA_SOURCE_PREFIX;try{return this.designerSchemaService.createDataSource(t,e),(0,h.of)({success:!0})}catch(e){return(0,h.of)({success:!1})}}};tL=(0,a.gn)([yF({type:"crt.SetEntityDataSourceCommand"}),(0,a.w6)("design:paramtypes",[l.Injector,Object])],tL);let nL=class extends xF{constructor(e,t){super(e),this.injector=e,this.config=t}innerExecute(){const e=this.injector.get(Mj),t=this.injector.get(PO);return e.createOrUpdateEntityAddon(this.config.entitySchemaName,"BusinessRule",this.config.addonConfig,t).pipe((0,g.U)((()=>({success:!0}))))}};nL=(0,a.gn)([yF({type:"crt.CreateOrUpdateEntityBusinessRulesAddonsCommand"}),(0,a.w6)("design:paramtypes",[l.Injector,Object])],nL);let iL=class extends BV{constructor(e,t){super(e,t),this.config=t,this.viewItemName="Gallery",this.viewItemType="crt.Gallery"}_getNewTemplateValuesMapping(e,t){if(!t)return t;const n={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=null==e?void 0:e.get(t[i]));return n}_getNewItemConfig(e,t){return t?Object.assign(Object.assign({},t),{templateValuesMapping:this._getNewTemplateValuesMapping(e,t.templateValuesMapping)}):t}prepareViewConfig(e){}setupAdditionalViewConfigOptions(e,t){e.itemConfig=this._getNewItemConfig(t,e.itemConfig)}};iL=(0,a.gn)([yF({type:"crt.CopyGalleryItemCommand"}),(0,a.w6)("design:paramtypes",[l.Injector,Object])],iL);let rL=class extends xF{constructor(e,t){super(e),this.injector=e,this.config=t}innerExecute(){return"string"==typeof this.config.value?this.designerSchemaService.bindViewModelAttribute(this.config.attribute,this.config.dataSourceName,this.config.value):this.designerSchemaService.bindViewModelAttributeCollection(this.config.attribute,this.config.dataSourceName,this.config.value,this.config.collectionAttributePrefix,this.config.strategy||Ep.Merge),(0,h.of)({success:!0})}};rL=(0,a.gn)([yF({type:"crt.BindViewModelAttributeCommand"}),(0,a.w6)("design:paramtypes",[l.Injector,Object])],rL);let aL=class extends xF{constructor(e,t){super(e),this.injector=e,this.config=t}innerExecute(){return this.designerSchemaService.setViewModelAttribute(this.config.attribute,this.config.config),(0,h.of)({success:!0})}};aL=(0,a.gn)([yF({type:"crt.SetViewModelAttributeCommand"}),(0,a.w6)("design:paramtypes",[l.Injector,Object])],aL);let oL=class extends xF{constructor(e,t){super(e),this.injector=e,this.config=t}innerExecute(){return this.designerSchemaService.updateViewModelAttribute(this.config.attribute,this.config.config),(0,h.of)({success:!0})}};oL=(0,a.gn)([yF({type:"crt.UpdateViewModelAttributeCommand"}),(0,a.w6)("design:paramtypes",[l.Injector,Object])],oL);const sL={channel:"widget-designer-channel",requestWidgetConfig:"RequestWidgetConfig",responseWidgetConfig:"ResponseWidgetConfig",saveWidgetConfig:"SaveWidgetConfig",designerLoaded:"DesignerLoaded",modalOpening:"ModalOpening",modalClosing:"ModalClosing"},lL=new l.InjectionToken("Represents a names of window massages events");let cL=(()=>{class e{constructor(e,t){this._window=e,this._widgetWindowMessageNames=t,this.INITIALIZE_MESSAGE="initialize",this.MESSAGE_EVENT="message",this.configChanged$=new h.Subject,this.designerLoaded$=new h.Subject,this.modalOpening$=new h.Subject,this.modalClosing$=new h.Subject}set initialConfig(e){this._initialConfig=e}_postMessage(e,t){this._contentWindow.postMessage({channel:this._widgetWindowMessageNames.channel,name:e,payload:t},window.location.origin)}initCommunication(e){return this._contentWindow=e,(0,h.fromEvent)(this._window,this.MESSAGE_EVENT).pipe((0,f.h)((e=>{var t;return(null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.channel)===this._widgetWindowMessageNames.channel})))}onMessage(e){var t;const{data:{name:n="",payload:i={}}}=e||{};switch(n){case this.INITIALIZE_MESSAGE:const{handshakeMessage:n}=i;this._postMessage(n);break;case this._widgetWindowMessageNames.requestWidgetConfig:this._postMessage(this._widgetWindowMessageNames.responseWidgetConfig,this._initialConfig);break;case this._widgetWindowMessageNames.saveWidgetConfig:this.configChanged$.next(null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.payload);break;case this._widgetWindowMessageNames.designerLoaded:this.designerLoaded$.next();break;case this._widgetWindowMessageNames.modalOpening:this.modalOpening$.next();break;case this._widgetWindowMessageNames.modalClosing:this.modalClosing$.next()}}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](xa),l["ɵɵinject"](lL))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"root"}),e})(),dL=(()=>{class e{static forRoot(t){return{ngModule:e,providers:[Ia,cL,(n=t,{provide:lL,useValue:Object.assign(Object.assign({},sL),n)})]};var n}}return e.ɵfac=function(t){return new(t||e)},e.ɵmod=l["ɵɵdefineNgModule"]({type:e}),e.ɵinj=l["ɵɵdefineInjector"]({}),e})();const uL=new l.InjectionToken("Represents a map with names of widget designers");let pL=(()=>{class e{constructor(e,t){this._domSanitizer=e,this._widgetsDesignersMap=t,this.WIDGET_DESIGNER_LOADER_URL="Nui/ViewModule.aspx?vm=WidgetDesignerLoader&designSchemaName="}createUrl(e){const t=da(),n=this._widgetsDesignersMap.get(e)||"",i=o.Location.joinWithSlash(t,this.WIDGET_DESIGNER_LOADER_URL+n+"&disableLogo=1");return this._domSanitizer.bypassSecurityTrustResourceUrl(i)}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](i.DomSanitizer),l["ɵɵinject"](uL))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"root"}),e})();const mL=["widgetDesignerPage"];function hL(e,t){if(1&e&&l["ɵɵelement"](0,"iframe",1,2),2&e){const e=l["ɵɵnextContext"]();l["ɵɵproperty"]("src",e.uri,l["ɵɵsanitizeResourceUrl"])}}let gL=class{constructor(e,t){this._widgetWindowMessenger=e,this._widgetDesignerUrlCreator=t,this._destroyed$=new h.Subject,this.loaded=new l.EventEmitter,this.openModalBox=new l.EventEmitter,this.settingsChanged=new l.EventEmitter}ngOnInit(){this._widgetWindowMessenger.configChanged$.subscribe((e=>this.settingsChanged.emit(e))),this._widgetWindowMessenger.designerLoaded$.pipe((0,b.R)(this._destroyed$)).subscribe((()=>this.loaded.emit())),this._widgetWindowMessenger.modalOpening$.pipe((0,b.R)(this._destroyed$)).subscribe((()=>this.openModalBox.emit(!0))),this._widgetWindowMessenger.modalClosing$.pipe((0,b.R)(this._destroyed$)).subscribe((()=>this.openModalBox.emit(!1)))}ngAfterViewInit(){var e;const{nativeElement:{contentWindow:t=null}={}}=null!==(e=this._widgetDesignerPageIFrameRef)&&void 0!==e?e:{};t&&this._widgetWindowMessenger.initCommunication(t).pipe((0,b.R)(this._destroyed$)).subscribe((e=>this._widgetWindowMessenger.onMessage(e)))}onConfigure(e){this._widgetWindowMessenger.initialConfig=e;const t=null==e?void 0:e.itemConfig;this.uri=this._widgetDesignerUrlCreator.createUrl(null==t?void 0:t.type)}validate(){return{isValid:!0,messages:[]}}ngOnDestroy(){this._destroyed$.next(),this._destroyed$.complete()}};gL.ɵfac=function(e){return new(e||gL)(l["ɵɵdirectiveInject"](cL),l["ɵɵdirectiveInject"](pL))},gL.ɵcmp=l["ɵɵdefineComponent"]({type:gL,selectors:[["crt-widget-designer"]],viewQuery:function(e,t){if(1&e&&l["ɵɵviewQuery"](mL,5),2&e){let e;l["ɵɵqueryRefresh"](e=l["ɵɵloadQuery"]())&&(t._widgetDesignerPageIFrameRef=e.first)}},decls:1,vars:1,consts:[["data-qa","widget-designer-iframe","title","widget-designer-iframe",3,"src",4,"ngIf"],["data-qa","widget-designer-iframe","title","widget-designer-iframe",3,"src"],["widgetDesignerPage",""]],template:function(e,t){1&e&&l["ɵɵtemplate"](0,hL,2,1,"iframe",0),2&e&&l["ɵɵproperty"]("ngIf",t.uri)},directives:[o.NgIf],styles:["[_nghost-%COMP%]{flex:1}iframe[_ngcontent-%COMP%]{display:block;border:none;width:100%;height:100%}"]}),gL=(0,a.gn)([CF({type:"crt.ChartWidget"}),CF({type:"crt.IndicatorWidget"}),CF({type:"crt.GaugeWidget"}),CF({type:"crt.FunnelWidget"}),CF({type:"crt.FullPipelineWidget"}),(0,a.w6)("design:paramtypes",[cL,pL])],gL);let fL=class{};fL.ɵfac=function(e){return new(e||fL)},fL.ɵmod=l["ɵɵdefineNgModule"]({type:fL}),fL.ɵinj=l["ɵɵdefineInjector"]({providers:[{provide:uL,useValue:new Map([["crt.ChartWidget","HomePageChartDesigner"],["crt.IndicatorWidget","HomePageIndicatorDesigner"],["crt.GaugeWidget","HomePageGaugeDesigner"],["crt.FunnelWidget","HomePageFunnelDesigner"],["crt.FullPipelineWidget","HomePageFullPipelineDesigner"]])},pL],imports:[[o.CommonModule,dL.forRoot()]]}),fL=(0,a.gn)([(0,r.CrtModule)({viewElements:[gL]})],fL),("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](fL,{declarations:[gL],imports:[o.CommonModule,dL],exports:[gL]});let vL=(()=>{class e extends DN{constructor(e,t,n){super(e,t),this._deviceService=n}createResizeObserver(){var e;(null===(e=this._deviceService)||void 0===e?void 0:e.browser)===JE.An.SAFARI&&super.createResizeObserver()}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](l.Renderer2),l["ɵɵdirectiveInject"](l.ElementRef),l["ɵɵdirectiveInject"](JE.x0))},e.ɵdir=l["ɵɵdefineDirective"]({type:e,selectors:[["","crtChartResizeObserver",""]],features:[l["ɵɵInheritDefinitionFeature"]]}),e})(),bL=(()=>{class e{constructor(e){this._formatterFactory=e}formatData(e,t){return this._formatterFactory.resolveFormatter(t).format(e,t)}format(e,t){const{dataSet:n}=t||{},{formatting:i}=n||{};return this.formatData(null==e?void 0:e.toString(),i)}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](Zo))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"root"}),e})();const CL=(e,t)=>{const n="number"==typeof e?e:parseFloat(e),i=null==t?void 0:t.reduce(((e,t)=>e+t),0);return i?Math.round(100*n/i):0};let yL=(()=>{class e extends bL{constructor(e){super(e),this.LABEL_STRING_FORMAT={type:"string",maxLineLength:10,maxLinesCount:2}}_getFormattedLabel(e){var t,n,i;const{chart:r,dataIndex:a}=null!=e?e:{},o=null!==(i=(null!==(n=null===(t=null==r?void 0:r.data)||void 0===t?void 0:t.labels)&&void 0!==n?n:[])[a])&&void 0!==i?i:"",s=super.formatData(null==o?void 0:o.toString(),this.LABEL_STRING_FORMAT);return Array.isArray(s)?s:[s]}_getPercentageLabel(e,t){var n,i;const r=null!==(i=null===(n=null==t?void 0:t.dataSet)||void 0===n?void 0:n.data)&&void 0!==i?i:[];return`${CL(e,r)}%`}_appendPercentageLabelPostfix(e,t){var n;if(0===e.length)return[t];let i=null!==(n=e.pop())&&void 0!==n?n:"";return i=""===i?t:`${i} - ${t}`,[...e,i]}format(e,t){const n=this._getFormattedLabel(t),i=this._getPercentageLabel(e,t);return this._appendPercentageLabelPostfix(n,i)}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](Zo))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"root"}),e})();class wL{constructor(e){this._chartJsDataLabelFormatter=e}formatDataLabel(e,t){const{chart:n,dataset:i,dataIndex:r}=t;return this._chartJsDataLabelFormatter.format(e,{chart:n,dataSet:i,dataIndex:r})}setScale(e){return this.scale=e,this}setSeries(e){return this.series=e,this}setFocusPoints(e){return this.focusPoints=e,this}createDataSets(){var e;const{dataSet:t,label:n,legend:i,dataItems:r,providing:a}=this.series||{};return{data:null!==(e=null==t?void 0:t.data)&&void 0!==e?e:[],dataSetLabels:null==t?void 0:t.labels,dataItems:r,providing:a,label:null!=n?n:"",datalabels:{display:!1},formatting:null==t?void 0:t.formatting,isLegendEnabled:Boolean(null==i?void 0:i.enabled)}}}const _L="#FFFFFF";function xL(e,t){3===(e=e.replace(/^#/,"")).length&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]);let[n,i,r]=e.match(/.{2}/g);[n,i,r]=[parseInt(n,16),parseInt(i,16),parseInt(r,16)];return`rgba(${(n.length<2?"0":"")+n},${(i.length<2?"0":"")+i},${(r.length<2?"0":"")+r},${t})`}function IL(e){return e&&e.length>0}function SL(e,t){return Boolean(e.filter((e=>e.datasetIndex===t&&null===e.index))[0])}function ML(e,t,n){return Boolean(e.filter((e=>e.datasetIndex===t&&e.index===n))[0])}let DL=(()=>{class e extends wL{constructor(e){super(e)}createDataSets(){const{color:e}=this.series,t=aN(e).color,n=this.focusPoints;return Object.assign(Object.assign({},super.createDataSets()),{type:"line",lineTension:0,borderColor:function(e){return function(e,t,n){return IL(n)?SL(n,e.datasetIndex)?t:xL(t,.45):t}(e,t,n)},backgroundColor:"transparent",pointBorderColor:function(e){return function(e,t,n){return IL(n)?SL(n,e.datasetIndex)||ML(n,e.datasetIndex,e.dataIndex)?t:xL(t,.45):t}(e,t,n)},pointBackgroundColor:function(e){return function(e,t,n){return IL(n)?SL(n,e.datasetIndex)||ML(n,e.datasetIndex,e.dataIndex)?t:_L:t}(e,t,n)},pointHoverBorderColor:t,pointHoverBackgroundColor:function(e){return function(e,t,n){return IL(n)&&(SL(n,e.datasetIndex)||ML(n,e.datasetIndex,e.dataIndex))?t:_L}(e,t,n)}})}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](bL))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})(),PL=(()=>{class e extends DL{constructor(e){super(e)}createDataSets(){return Object.assign(Object.assign({},super.createDataSets()),{pointRadius:0,pointHitRadius:5,lineTension:.4,cubicInterpolationMode:"monotone"})}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](bL))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})(),TL=(()=>{class e extends PL{constructor(e){super(e)}createDataSets(){const{color:e}=this.series,t=aN(e).color;return Object.assign(Object.assign({},super.createDataSets()),{fill:!0,backgroundColor:t})}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](bL))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})();class kL extends wL{constructor(e,t){super(e),this._directionality=t,this.DEFAULT_DATA_LABEL_OPTIONS={offset:0,display:!0,formatter:super.formatDataLabel.bind(this),padding:{top:2,bottom:2,left:2,right:2}},this.DEFAULT_INNER_DATA_LABEL_OPTIONS=Object.assign(Object.assign({},this.DEFAULT_DATA_LABEL_OPTIONS),{align:"center",anchor:"center",color:"#FFFFFF"}),this.DEFAULT_OUTER_DATA_LABEL_OPTIONS=Object.assign(Object.assign({},this.DEFAULT_DATA_LABEL_OPTIONS),{align:"end",anchor:"end"})}get stack(){return this.isStacked?this.series.stack:void 0}get dataLabels(){var e;const t=this.isStacked?this.DEFAULT_INNER_DATA_LABEL_OPTIONS:this.DEFAULT_OUTER_DATA_LABEL_OPTIONS;return"rtl"===(null===(e=this._directionality)||void 0===e?void 0:e.value)&&(t.textAlign="right"),t}get isStacked(){var e;return Boolean(null===(e=this.scale)||void 0===e?void 0:e.stacked)}createDataSets(){const{color:e}=this.series,t=aN(e),n=this.focusPoints;return Object.assign(Object.assign({},super.createDataSets()),{stack:this.stack,datalabels:this.dataLabels,borderColor:"transparent",backgroundColor:function(e){return function(e,t,n){return IL(n)?SL(n,e.datasetIndex)||ML(n,e.datasetIndex,e.dataIndex)?t:xL(t,.45):t}(e,t.color,n)},hoverBackgroundColor:t.hoverColor})}}let EL=(()=>{class e extends kL{constructor(e,t){super(e,t)}createDataSets(){return Object.assign(Object.assign({},super.createDataSets()),{type:"bar"})}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](bL),l["ɵɵinject"](en.Is))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})();const NL="'Open Sans', 'Bpmonline Open Sans', 'sans-serif'",OL=`12px ${NL}`,jL="#757575";class AL extends wL{constructor(e,t){super(e),this._directionality=t,this.DEFAULT_DATA_LABEL_OPTIONS={display:"auto",color:jL,font:{family:NL,size:13},align:"end",anchor:"end",formatter:super.formatDataLabel.bind(this)}}get dataLabels(){var e;const t=this.DEFAULT_DATA_LABEL_OPTIONS;return"rtl"===(null===(e=this._directionality)||void 0===e?void 0:e.value)&&(t.textAlign="right"),t}_getBackgroundColors(){const{colors:e}=this.series,t=(null==e?void 0:e.map((e=>aN(e).color)))||[...rN.values()].map((e=>e.default.color));return this._getColors(t)}_getHoverBackgroundColors(){const{colors:e}=this.series,t=(null==e?void 0:e.map((e=>rN.has(e)?aN(e).hoverColor:sN(e))))||[...rN.values()].map((e=>e.hover.color));return this._getColors(t)}_getColors(e){var t;const{dataSet:n}=this.series,i=(null!==(t=null==n?void 0:n.data)&&void 0!==t?t:[]).length;for(;e.length<i;)e=e.concat(e);return e.slice(0,i)}createDataSets(){const e=this._getBackgroundColors(),t=this.focusPoints;return Object.assign(Object.assign({},super.createDataSets()),{datalabels:this.dataLabels,borderWidth:1,backgroundColor:function(n){return function(e,t,n){if(!IL(n))return t;const i=[...t];for(let t=0;t<i.length;t++){const r=i[t];SL(n,e.datasetIndex)||ML(n,e.datasetIndex,t)||(i[t]=xL(r,.2))}return i}(n,e,t)},hoverBackgroundColor:this._getHoverBackgroundColors()})}}let RL=(()=>{class e extends AL{constructor(e,t){super(e,t)}createDataSets(){return Object.assign(Object.assign({},super.createDataSets()),{type:"doughnut"})}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](yL),l["ɵɵinject"](en.Is))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})(),FL=(()=>{class e extends kL{constructor(e,t){super(e,t)}createDataSets(){return Object.assign(Object.assign({},super.createDataSets()),{type:"horizontalBar"})}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](bL),l["ɵɵinject"](en.Is))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})(),VL=(()=>{class e extends AL{constructor(e,t){super(e,t)}createDataSets(){return Object.assign(Object.assign({},super.createDataSets()),{type:"pie"})}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](yL),l["ɵɵinject"](en.Is))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})(),LL=(()=>{class e extends DL{constructor(e){super(e)}createDataSets(){return Object.assign(Object.assign({},super.createDataSets()),{showLine:!1})}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](bL))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})();let zL=(()=>{class e extends AL{constructor(e,t){super(e,t)}createDataSets(){const e=this.focusPoints,t=this._getBackgroundColors();return Object.assign(Object.assign({},super.createDataSets()),{type:"tsfunnel",datalabels:{display:!1},tooltipData:this.series.tooltipData,backgroundColor:function(){return function(e,t){if(!IL(t))return e;if(SL(t,0))return e;const n=[...e];for(let e=0;e<n.length;e++){const i=n[e];ML(t,0,e)||(n[e]=xL(i,.4))}return n}(t,e)}})}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](bL),l["ɵɵinject"](en.Is))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})();const BL=new l.InjectionToken("Represents a factory of chart series builders");var GL=n(44491),HL=n.n(GL);const UL={id:"crt-legend-plugin",beforeInit:e=>{(e=>{e.options.legend.labels.filter||(e.options.legend.labels.filter=(e,t)=>{const n=t.datasets&&t.datasets[e.datasetIndex];return!0===(null==n?void 0:n.isLegendEnabled)})})(e),(e=>{const t=e.options.legend.labels.generateLabels||HL().defaults.global.legend.labels.generateLabels;e.options.legend.labels.generateLabels=e=>t(e).map((e=>{var t;const n=e.text;return(null!==(t=null==n?void 0:n.length)&&void 0!==t?t:0)>50&&(e.text=`${n.substring(0,50)}...`),e}))})(e)}},ZL=e=>{if("number"!=typeof e.max)return;const t=e.max;e.buildTicks();const n=(e.max-e.min)/(e.ticks.length-1);(e.max-t)/n<.5&&(e.max=t+n)},$L=e=>{e.beforeBuildTicks=ZL},WL={id:"crt-scales-plugin",beforeInit:e=>{var t,n,i,r;null===(n=null===(t=e.options.scales)||void 0===t?void 0:t.xAxes)||void 0===n||n.forEach((e=>$L(e))),null===(r=null===(i=e.options.scales)||void 0===i?void 0:i.yAxes)||void 0===r||r.forEach((e=>$L(e)))}};let qL=(()=>{class e{_getLineWidth(e,t){const{radius:n,center:i}=t,r=Math.abs(i.y-e.y);return 2*Math.sqrt(Math.pow(n,2)-Math.pow(r,2))}_getLineHeight(e,t){const n=1.618*e,i=t.height;return Math.min(n,i)}_getLinesCount(e,t){const{span:n,maxLinesCount:i}=t,r=n.height,a=Math.round(r/e);return null==i?a:Math.min(a,i)}getBoundingLines(e,t){const{span:n,circle:i}=t,r=[],a=this._getLineHeight(e,n),o=this._getLinesCount(a,t),s=n.center;let l;l=o%2==0?s.y-a/2-a*(o/2-1):s.y-a*((o-1)/2);for(let e=0;e<o;e++){const t={x:s.x,y:l+e*a},n=this._getLineWidth(t,i);r.push({center:t,width:n,height:a})}return r}}return e.ɵfac=function(t){return new(t||e)},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"root"}),e})();class YL{constructor(e){this._renderingContext=e}_getFont(e){const{size:t,family:n,weight:i}=e;return`${i} ${t}px ${n}`}drawText(e,t){const{center:n,color:i,font:r}=t;this._renderingContext.font=this._getFont(r),this._renderingContext.textAlign="center",this._renderingContext.textBaseline="middle",this._renderingContext.fillStyle=i,this._renderingContext.fillText(e,n.x,n.y)}measureTextWidth(e,t){return this._renderingContext.font=this._getFont(t),this._renderingContext.measureText(e).width}}function JL(e,t,n){const i="function"==typeof e?e(t):e;return null!=i?i:n}let QL=(()=>{class e{constructor(){this.DEFAULT_MIN_FONT_SIZE=6,this.DEFAULT_MAX_FONT_SIZE=50,this.DEFAULT_FONT_WEIGHT="normal",this.DEFAULT_TEXT_OFFSET=0,this.DEFAULT_TEXT_DISPLAY_TYPE="auto",this.DEFAULT_TEXT_OVERFLOW_TYPE="ellipsis",this.DEFAULT_TEXT_RENDERING_TYPE="nowrap"}_toBoundingSpan(e,t,n){var i;const{top:r,bottom:a}=null!==(i=null==e?void 0:e.offset)&&void 0!==i?i:{},{center:o,radius:s,diameter:l}=null!=n?n:{},c=l*JL(r,t,this.DEFAULT_TEXT_OFFSET)/100,d=l*JL(a,t,this.DEFAULT_TEXT_OFFSET)/100,u=o.y-(s-c),p=o.y+(s-d);return{center:{x:o.x,y:(u+p)/2},height:Math.abs(u-p)}}_toTextStyling(e,t){const{font:n,color:i}=null!=e?e:{},r=JL(i,t,jL);return{font:{family:JL(null==n?void 0:n.family,t,NL),weight:JL(null==n?void 0:n.weight,t,this.DEFAULT_FONT_WEIGHT),minSize:JL(null==n?void 0:n.minSize,t,this.DEFAULT_MIN_FONT_SIZE),maxSize:JL(null==n?void 0:n.maxSize,t,this.DEFAULT_MAX_FONT_SIZE)},color:aN(r).color}}_toTextRendering(e,t){const{wrapType:n,overflowType:i}=null!=e?e:{};return{wrapType:JL(n,t,this.DEFAULT_TEXT_RENDERING_TYPE),overflowType:JL(i,t,this.DEFAULT_TEXT_OVERFLOW_TYPE)}}_toTextVisibility(e,t,n){const{display:i,minSupportedWidth:r,maxSupportedWidth:a}=null!=e?e:{};if("auto"!==JL(i,t,this.DEFAULT_TEXT_DISPLAY_TYPE))return Boolean(i);const{diameter:o}=n,s=JL(r,t),l=JL(a,t);return!(null!=s&&s>o)&&!(null!=l&&l<o)}toRenderingOptions(e,t,n){const{text:i,styling:r,placement:a,rendering:o,visibility:s}=e;return{text:JL(i,t,""),visible:this._toTextVisibility(s,t,n),styling:this._toTextStyling(r,t),rendering:this._toTextRendering(o,t),boundingSpan:this._toBoundingSpan(a,t,n),boundingCircle:n}}}return e.ɵfac=function(t){return new(t||e)},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"root"}),e})();class KL{constructor(e){this._boundingLinesMeasurer=e,this.ELLIPSIS="...",this.MIN_SYLLABE_LENGTH=2}get fontBounding(){const{minSize:e,maxSize:t}=this.stylingOptions.font;return{minSize:e,maxSize:t}}get text(){return this._renderingOptions.text}get stylingOptions(){return this._renderingOptions.styling}get renderingOptions(){return this._renderingOptions.rendering}get boundingSpan(){return this._renderingOptions.boundingSpan}get boundingCircle(){return this._renderingOptions.boundingCircle}getFont(e){const{family:t,weight:n}=this._renderingOptions.styling.font;return{size:e,family:t,weight:n}}getTextWidth(e,t){const n=this.getFont(t);return this.renderingContext.measureTextWidth(e,n)}getLineWidth(e){const{radius:t,center:n}=this.boundingCircle,i=Math.abs(n.y-e.y);return 2*Math.sqrt(Math.pow(t,2)-Math.pow(i,2))}getDrawOptions(e,t){return{font:this.getFont(e),color:this.stylingOptions.color,center:t}}getBoundingLines(e,t){return this._boundingLinesMeasurer.getBoundingLines(e,{span:this.boundingSpan,circle:this.boundingCircle,maxLinesCount:t})}breakWordIntoSyllables(e,t,n){let i=0;const r=e.length;for(;i<r;){const r=e.slice(0,i);if(this.getTextWidth(r,t)>=n)break;i++}i<this.MIN_SYLLABE_LENGTH&&(i=0);return r-i<this.MIN_SYLLABE_LENGTH&&(i=r),{end:e.slice(i),start:e.slice(0,i)}}render(e,t){this.renderingContext=e,this._renderingOptions=t,this.internalRender()}}let XL=(()=>{class e extends KL{constructor(e){super(e),this.TEXT_LINES_COUNT=1}_getFontSize(e){const{minSize:t,maxSize:n}=this.fontBounding,i=Math.trunc(e*n);return i>n?n:i<t?t:i}_getFontSizeRatio(){const e=this.fontBounding.maxSize,{width:t,height:n}=this._getBoundingLine(e),i=t/this.getTextWidth(this.text,e),r=n/e;return Math.min(i,r)}_getRenderingText(e){const{overflowType:t}=this.renderingOptions;if("none"===t)return this.text;const n=this.getTextWidth(this.text,e),i=this._getBoundingLine(e).width;if(n<=i)return this.text;const{start:r}=this.breakWordIntoSyllables(this.text,e,i);return r+this.ELLIPSIS}_getBoundingLine(e){return this.getBoundingLines(e,this.TEXT_LINES_COUNT).pop()}internalRender(){const e=this._getFontSizeRatio(),t=this._getFontSize(e),n=this._getRenderingText(t),i=this.getDrawOptions(t,this.boundingSpan.center);this.renderingContext.drawText(n,i)}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](qL))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"root"}),e})(),ez=(()=>{class e extends KL{constructor(e){super(e),this.HYPHEN="-"}_appendWord(e,t){return(0,bi.Z)(e)?t:e+" "+t}_isTextFit(e){const t=this._getWords();return this.getBoundingLines(e).forEach((({width:n})=>{let i="";for(;t.length>0;){const r=t.shift(),a=this._appendWord(i,r);if(this.getTextWidth(a,e)>=n){t.unshift(r);break}i=a}})),0===t.length}_isTextFitIntoLines(e,t){const n=this._getWords();return this.getBoundingLines(e,t).forEach((({width:t})=>{let i="";for(;n.length>0;){const r=n.shift(),a=(0,bi.Z)(i),o=this._appendWord(i,r),s=this.getTextWidth(o,e),l=t-this.getTextWidth(i,e);if(s<t){i=o;continue}const{start:c,end:d}=this.breakWordIntoSyllables(r,e,l);if(0!==d.length){if(a&&c.length>0){n.unshift(d);break}n.unshift(r);break}i=o}})),0===n.length}_getWords(){return this.text.split(" ")}_getFontSize(){const{minSize:e,maxSize:t}=this.fontBounding;let n=t;for(;n>e&&!this._isTextFit(n);)n--;return n}_getLinesCount(e){let t=1;const n=this.getBoundingLines(e).length;for(;t<n&&!this._isTextFitIntoLines(e,t);)t++;return t}_renderTextIntoLines(e,t){const n=this._getWords(),i=this.getBoundingLines(e,t);for(let t=0;t<i.length&&0!==n.length;t++){const{center:r,width:a}=i[t],o=this.getDrawOptions(e,r);let s="";for(;n.length>0;){const r=n.shift(),o=""===s,l=this._appendWord(s,r);if(this.getTextWidth(l,e)<a){s=l;continue}const{start:c,end:d}=this.breakWordIntoSyllables(r,e,a-this.getTextWidth(s,e));o&&c.length>0?(s=this._appendWord(s,c),0!==d.length&&n.unshift(d)):n.unshift(r),t===i.length-1&&n.length>0?s+=this.ELLIPSIS:o&&c.length>0&&0!==d.length&&(s+=this.HYPHEN);break}this.renderingContext.drawText(s,o)}}internalRender(){const e=this._getFontSize(),t=this._getLinesCount(e);this._renderTextIntoLines(e,t)}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](qL))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"root"}),e})();const tz=new l.InjectionToken("Represents a registration map of text renderers",{providedIn:"root",factory:()=>new Map([["nowrap",XL],["word-wrap",ez]])});let nz=(()=>{class e{constructor(e,t){this._injector=e,this._renderersMap=t}_getRendererByType(e){var t;const{wrapType:n}=null!==(t=null==e?void 0:e.rendering)&&void 0!==t?t:{};if(this._renderersMap.has(n)){const e=this._renderersMap.get(n);return this._injector.get(e)}}_getRendererByPredicat(e){for(const[t,n]of this._renderersMap)if("function"==typeof t&&t(e))return this._injector.get(n)}resolveRenderer(e){var t;return null!==(t=this._getRendererByType(e))&&void 0!==t?t:this._getRendererByPredicat(e)}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](l.Injector),l["ɵɵinject"](tz))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"root"}),e})(),iz=(()=>{class e{constructor(e){this._formatterFactory=e,this.MIN_SUPPORTED_INNER_CIRCLE_DIAMETR=50,this.DEFAULT_LABEL_OPTIONS={text:this._getLabelText.bind(this),styling:{font:{minSize:8,maxSize:16}},placement:{offset:{top:0,bottom:60}},rendering:{wrapType:"word-wrap",overflowType:"ellipsis"},visibility:{display:"auto",minSupportedWidth:this.MIN_SUPPORTED_INNER_CIRCLE_DIAMETR}},this.DEFAULT_PERCENT_OPTIONS={text:this._getPercentText.bind(this),styling:{font:{minSize:8,maxSize:24}},placement:{offset:{top:45,bottom:40}},rendering:{wrapType:"nowrap",overflowType:"none"},visibility:{display:"auto",minSupportedWidth:this.MIN_SUPPORTED_INNER_CIRCLE_DIAMETR}},this.DEFAULT_METRIC_OPTIONS={text:this._getMetricText.bind(this),styling:{font:{family:"Montserrat",weight:600,minSize:6,maxSize:70},color:this._getMetricColor.bind(this)},rendering:{wrapType:"nowrap",overflowType:"none"}},this.DEFAULT_SMALL_METRIC_OPTIONS=Object.assign(Object.assign({},this.DEFAULT_METRIC_OPTIONS),{placement:{offset:{top:70,bottom:5}},visibility:{display:"auto",minSupportedWidth:this.MIN_SUPPORTED_INNER_CIRCLE_DIAMETR}}),this.DEFAULT_LARGE_METRIC_OPTIONS=Object.assign(Object.assign({},this.DEFAULT_METRIC_OPTIONS),{placement:{offset:{top:10,bottom:0}},visibility:{display:"auto",maxSupportedWidth:this.MIN_SUPPORTED_INNER_CIRCLE_DIAMETR}})}get value(){return{enabled:!0,paddingInPercent:15,labels:{label:this.DEFAULT_LABEL_OPTIONS,percent:this.DEFAULT_PERCENT_OPTIONS,smallMetric:this.DEFAULT_SMALL_METRIC_OPTIONS,largeMetric:this.DEFAULT_LARGE_METRIC_OPTIONS}}}_getLabelText(e){var t;const{chart:n,dataIndex:i}=e;return null===(t=n.data.labels[i])||void 0===t?void 0:t.toString()}_getPercentText(e){var t;const n=null!==(t=this._getDataSet(e).data)&&void 0!==t?t:[],i=n[e.dataIndex];return`${CL(i,n)}%`}_getMetricText(e){var t,n,i;const r=this._getDataSet(e),a=null!==(i=null===(n=(null!==(t=r.data)&&void 0!==t?t:[])[e.dataIndex])||void 0===n?void 0:n.toString())&&void 0!==i?i:"",o=r.formatting,s=this._formatterFactory.resolveFormatter(o).format(a,r.formatting);return Array.isArray(s)?s.join(" "):s}_getMetricColor(e){var t,n;return null!==(n=(null!==(t=this._getDataSet(e).hoverBackgroundColor)&&void 0!==t?t:[])[e.dataIndex])&&void 0!==n?n:jL}_getDataSet(e){var t,n;const{chart:i,dataSetIndex:r}=e;return null!==(n=(null!==(t=i.data.datasets)&&void 0!==t?t:[])[r])&&void 0!==n?n:{}}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](Zo))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"root"}),e})();class rz{constructor(e,t){this.radius=e,this.center=t}get diameter(){return 2*this.radius}}let az=(()=>{class e{constructor(e,t){this._textRendererFactory=e,this._renderingOptionsConverter=t,this.DEFAULT_PADDING_IN_PERCENT=10}_isTooltipDisable(e){return!Boolean(e.enabled)}_getBoundingCircle(e,t){const n=this._getCircleRadius(e,t.paddingInPercent),i=this._getCircleCenterCoordinate(e);return new rz(n,i)}_getCircleRadius(e,t){var n;t=null!=t?t:this.DEFAULT_PADDING_IN_PERCENT;const i=parseFloat(null!==(n=e.innerRadius)&&void 0!==n?n:0);return i-t/100*i}_getCircleCenterCoordinate(e){const{top:t=0,left:n=0,right:i=0,bottom:r=0}=e.chartArea||{};return{x:(n+i)/2,y:(t+r)/2}}_getRenderingOptions(e,t,n){const i=Object.values(n.labels),r=this._getBoundingCircle(e,n);return i.map((e=>this._renderingOptionsConverter.toRenderingOptions(e,t,r)))}renderTooltip(e,t,n){if(this._isTooltipDisable(n))return;const i=new YL(e.ctx);this._getRenderingOptions(e,t,n).filter((e=>e.visible)).forEach((e=>{this._textRendererFactory.resolveRenderer(e).render(i,e)}))}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](nz),l["ɵɵinject"](QL))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"root"}),e})(),oz=(()=>{class e{constructor(e,t){this._defaultDoughnutTooltipOptions=e,this._chartJsDoughnutTooltipRenderer=t}static get PLUGIN_ID(){return"crt-doughnut-tooltip-plugin"}_isTooltipVisible(e){return e._active&&e._active.length>0}_getTooltipContext(e,t){const n=t._active[0];return{chart:e,dataIndex:n._index,dataSetIndex:n._datasetIndex}}_getTooltipOptions(t){var n,i,r;return null!==(r=(null!==(i=(null!==(n=t.config.options)&&void 0!==n?n:{}).plugins)&&void 0!==i?i:{})[e.PLUGIN_ID])&&void 0!==r?r:this._defaultDoughnutTooltipOptions.value}createPlugin(){return{id:e.PLUGIN_ID,beforeInit:e=>{const t=e.options.tooltips;t.custom||(t.enabled=!1)},beforeTooltipDraw:(e,t)=>{var n;const i=null!==(n=null==t?void 0:t.tooltip)&&void 0!==n?n:{};if(!this._isTooltipVisible(i))return;const r=this._getTooltipContext(e,i),a=this._getTooltipOptions(e);this._chartJsDoughnutTooltipRenderer.renderTooltip(e,r,a)}}}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](iz),l["ɵɵinject"](az))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"root"}),e})();let sz=(()=>{class e{constructor(e){this.formatterFactory=e,this.TOOLTIP_CONTAINER_CLASS_NAME="chart-js-tooltip",this.TOOLTIP_POSITION_OFFSET=12}get pluginId(){return"crt-tooltip-plugin"}get customElementName(){return"crt-chart-tooltip-element"}static _getValidTooltipOffset(e,t,n){let{x:i,y:r}=n;const a=e.maxY-t.height;r=Math.min(r,a),r=Math.max(r,e.minY);const o=e.maxX-t.width;return i=Math.min(i,o),i=Math.max(i,e.minX),{left:i,top:r}}_getPositionOffset(e){const t=e.canvas.parentNode,n=getComputedStyle(t),i=parseInt(n.getPropertyValue("padding-top"),10)||0,r=parseInt(n.getPropertyValue("padding-left"),10)||0,a=getComputedStyle(e.canvas),o=parseInt(a.getPropertyValue("margin-top"),10)||0,s=parseInt(a.getPropertyValue("margin-left"),10)||0,l=parseInt(a.getPropertyValue("padding-top"),10)||0;return{x:r+s+(parseInt(a.getPropertyValue("padding-left"),10)||0),y:i+o+l}}_getAlignment(e){const{chart:t,tooltipBox:n,alignmentPriority:i}=e,r=this._getRestriction(t),a=e=>function(e){switch(e){case"left":return r.maxX<n.x;case"center":{const e=n.x+n.width/2;return r.maxX<e}case"right":{const e=n.x+n.width;return r.maxX<e}}}(e)||function(e){switch(e){case"left":{const e=n.x-n.width;return r.minX>e}case"center":{const e=n.x-n.width/2;return r.minX>e}case"right":{const e=n.x;return r.minX>e}}}(e),o=e=>function(e){switch(e){case"bottom":{const e=n.y-n.height;return r.minY>e}case"top":{const e=n.y;return r.minY>e}case"center":{const e=n.y-n.height/2;return r.minY>e}}}(e)||function(e){switch(e){case"bottom":{const e=n.y;return r.maxY<e}case"top":{const e=n.y+n.height;return r.maxY<e}case"center":{const e=n.y+n.height/2;return r.maxY<e}}}(e);return{xAlign:function(){for(const e of i.x)if(!a(e))return e;return"center"}(),yAlign:function(){for(const e of i.y)if(!o(e))return e;return"center"}()}}_getRestriction(e){const t=e.chartArea;return{minX:t.left,maxX:t.right,minY:t.top,maxY:e.height}}_getTooltipEl(e){const t=e.parentNode;let n=t.querySelector(`.${this.TOOLTIP_CONTAINER_CLASS_NAME}`);return n||(n=document.createElement("div"),n.setAttribute("class",this.TOOLTIP_CONTAINER_CLASS_NAME),t.appendChild(n)),n}_createOrUpdateTooltipComponent(e,t){let n=e.getElementsByTagName(this.customElementName)[0];n&&n.remove(),n=document.createElement(this.customElementName),n.setAttribute("config",JSON.stringify(t)),e.append(n)}getTooltipInputModel(e){var t,n;const{chart:i,tooltipModel:r}=e,a=null===(t=null==r?void 0:r.body)||void 0===t?void 0:t.map((e=>e.lines)),o=i.config.data.datasets.filter(((e,t)=>i.isDatasetVisible(t))),s=[].concat.apply([],null==o?void 0:o.map((e=>e.data))),l=Math.max(...s),c=null==a?void 0:a.flat().filter(((e,t)=>o[t])).map(((e,t)=>{var n,i;const[a,s]=e.split(": "),c=o[t].formatting,d=this.formatterFactory.resolveFormatter({type:"number"}).format(s,c),u=r.labelColors[t],p=null!==(i=null===(n=u)||void 0===n?void 0:n.backgroundColor)&&void 0!==i?i:u;return{name:a,value:d,progress:CL(s,[l]),background:p}}));return{label:(null!==(n=r.title)&&void 0!==n?n:[]).join(" "),series:c}}getTooltipOptions(e){return{enabled:!1,mode:"index",intersect:!1,custom:this.customTooltips.bind(this,e)}}getAlignmentPriority(e){switch(e){case"pie":case"doughnut":return{x:["center","center","center"],y:["center","center","center"]};case"horizontalBar":return{x:["center","center","center"],y:["top","bottom","center"]};default:return{x:["right","left","center"],y:["center","top","bottom"]}}}getPointOffset(e){switch(e){case"pie":case"doughnut":case"horizontalBar":return{x:0,y:this.TOOLTIP_POSITION_OFFSET};default:return{x:this.TOOLTIP_POSITION_OFFSET,y:0}}}setTooltipPosition(t){const{tooltipEl:n,tooltipModel:i,chart:r,alignmentPriority:a,pointOffset:o}=t,s=this._getPositionOffset(r),l={x:i.caretX+s.x,y:i.caretY+s.y,height:n.offsetHeight,width:n.offsetWidth},c=this._getAlignment({chart:r,tooltipBox:l,alignmentPriority:a}),d=this._getRestriction(r);let u=0,p=0;switch(c.xAlign){case"left":u=l.x-n.offsetWidth-o.x;break;case"center":u=l.x-n.offsetWidth/2;break;case"right":u=l.x+o.x}switch(c.yAlign){case"top":p=l.y+o.y;break;case"center":p=l.y-n.offsetHeight/2;break;case"bottom":p=l.y-n.offsetHeight-o.y}const{left:m,top:h}=e._getValidTooltipOffset(d,l,{x:u,y:p});n.style.left=`${m}px`,n.style.top=`${h}px`}customTooltips(e,t){const{chart:n,alignmentPriority:i,pointOffset:r}=e,a=this._getTooltipEl(n.canvas);if(!a)return;const o=this.getTooltipInputModel({chart:n,tooltipModel:t});this._createOrUpdateTooltipComponent(a,o),0!==t.opacity?(a.style.position="absolute",a.style.pointerEvents="none",a.style.zIndex="2",this.setTooltipPosition({tooltipEl:a,tooltipModel:t,chart:n,alignmentPriority:i,pointOffset:r}),a.style.opacity="1"):a.style.opacity="0"}createPlugin(){return{id:this.pluginId,beforeInit:e=>{const t=e.options.tooltips;if(t.custom)return;const n=[...e.config.data.datasets].shift(),i={chart:e,alignmentPriority:this.getAlignmentPriority(null==n?void 0:n.type),pointOffset:this.getPointOffset(null==n?void 0:n.type)};Object.assign(t,this.getTooltipOptions(i))}}}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](Zo))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"root"}),e})(),lz=(()=>{class e extends sz{constructor(e){super(e),this.TOOLTIP_HORIZONTAL_OFFSET=50}get pluginId(){return"crt-default-funnel-tooltip-plugin"}_assignTooltipOptions(e){const t=e.options,n=t.tooltips,i={x:e.width*t.bottomWidth/2-this.TOOLTIP_HORIZONTAL_OFFSET,y:0},r={chart:e,alignmentPriority:this.getAlignmentPriority(),pointOffset:i};Object.assign(n,this.getTooltipOptions(r),{})}getTooltipOptions(e){return Object.assign(super.getTooltipOptions(e),{mode:"nearest",intersect:!0,callbacks:{label:this.labelCallback}})}labelCallback(e,t){const n=t.datasets[e.datasetIndex];return`${n.dataSetLabels&&n.dataSetLabels[e.index]||n.label||""}: ${e.value}`}getTooltipInputModel(e){var t;const n=super.getTooltipInputModel(e);return n.series=null===(t=null==n?void 0:n.series)||void 0===t?void 0:t.map((e=>(Object.assign(e,{progress:-1}),e))),n}getAlignmentPriority(){return{x:["right","center","left"],y:["center","top","bottom"]}}createPlugin(){return{id:this.pluginId,afterInit:e=>this._assignTooltipOptions(e),resize:e=>this._assignTooltipOptions(e)}}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](Zo))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"root"}),e})(),cz=(()=>{class e extends sz{constructor(e){super(e)}get customElementName(){return"crt-chart-pie-tooltip-element"}getTooltipOptions(e){return Object.assign(super.getTooltipOptions(e),{mode:"nearest",intersect:!0})}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](Zo))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"root"}),e})();const dz=new l.InjectionToken("Represents the collection of chart tooltips");function uz(e){return st.create({token:dz,mappings:e||[{predicate:"pie",injectable:cz},{predicate:"doughnut",injectable:oz},{predicate:"tsfunnel",injectable:lz}],default:sz})}let pz=(()=>{class e{}return e.ɵfac=function(t){return new(t||e)},e.ɵmod=l["ɵɵdefineNgModule"]({type:e}),e.ɵinj=l["ɵɵdefineInjector"]({providers:[TL,EL,RL,zL,FL,DL,VL,LL,PL,st.create({token:BL,mappings:[{predicate:dN.Area,injectable:TL},{predicate:dN.Bar,injectable:EL},{predicate:dN.Doughnut,injectable:RL},{predicate:dN.Funnel,injectable:zL},{predicate:dN.HorizontalBar,injectable:FL},{predicate:dN.Line,injectable:DL},{predicate:dN.Pie,injectable:VL},{predicate:dN.Scatter,injectable:LL},{predicate:dN.Spline,injectable:PL}]})]}),e})(),mz=(()=>{class e{constructor(){this.PIE_LAYOUT={padding:{top:40,bottom:40,left:40,right:40}}}createLayout(e){const t=e.series||[];if(0===t.length)return{};switch(t[0].type){case dN.Pie:case dN.Funnel:case dN.Doughnut:return this.PIE_LAYOUT;default:return{}}}}return e.ɵfac=function(t){return new(t||e)},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"root"}),e})(),hz=(()=>{class e{constructor(){this.PIE_LEGEND={display:!1},this.DEFAULT_LEGEND={display:!0,align:"end",labels:{boxWidth:5,usePointStyle:!0,fontSize:12,fontColor:jL,fontFamily:NL},onHover:e=>e.target.style.cursor="pointer",onLeave:e=>e.target.style.cursor="default"}}createLegend(e){const t=e.series||[];if(0===t.length)return{};switch(t[0].type){case dN.Pie:case dN.Funnel:case dN.Doughnut:return this.PIE_LEGEND;default:return this.DEFAULT_LEGEND}}}return e.ɵfac=function(t){return new(t||e)},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"root"}),e})(),gz=(()=>{class e{constructor(e){this._formatterFactory=e,this.PIE_SCALES={display:!1},this.DEFAULT_AXIS={gridLines:{display:!0,drawBorder:!0,drawOnChartArea:!1},scaleLabel:{fontColor:jL,fontFamily:NL,fontStyle:"normal",fontSize:12},ticks:{suggestedMin:0,suggestedMax:0,fontColor:jL,fontFamily:NL,fontStyle:"normal",fontSize:12}}}_getDefaultScales(e){const{scales:t}=null!=e?e:{},n=Boolean(null==t?void 0:t.stacked);return{xAxes:[this._getAxis(!0,n,null==t?void 0:t.xAxis)],yAxes:[this._getAxis(!1,n,null==t?void 0:t.yAxis)]}}_getAxis(e,t,n){const{name:i,formatting:r}=n||{},a={ticks:{callback:this._getAxisFormatter(r).bind(this)},offset:e,stacked:t,scaleLabel:{display:Boolean(i),labelString:i}},o=(0,so.Z)(this.DEFAULT_AXIS);return(0,Ne.Z)(o,a)}_getAxisFormatter(e){return t=>this._formatAxisTick(null==t?void 0:t.toString(),e)}_formatAxisTick(e,t){return this._formatterFactory.resolveFormatter(t).format(e,t)}_getHorizontalBarScales(e){const t=this._getDefaultScales(e);return{xAxes:t.yAxes,yAxes:t.xAxes}}createScales(e){const t=e.series||[];if(0===t.length)return{};switch(t[0].type){case dN.Pie:case dN.Doughnut:case dN.Funnel:return this.PIE_SCALES;case dN.HorizontalBar:return this._getHorizontalBarScales(e);default:return this._getDefaultScales(e)}}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](Zo))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"root"}),e})();class fz{}var vz=n(98569),bz=n.n(vz);function Cz(e,t,n){var i;if(!t)return;const r=(null===(i=t.dataset)||void 0===i?void 0:i.dataItems[t.dataIndex])||{},a={datasetIndex:t.datasetIndex,index:t.dataIndex},o=n.click;"function"==typeof o&&o.call(null,r,a,e)}let yz=(()=>{class e{constructor(e,t,n,i,r){this._chartJsDataSetsBuilderFactory=e,this._chartJsScalesBuilder=t,this._chartJsLegendBuilder=n,this._chartJsLayoutBuilder=i,this._chartTooltipsPluginsFactory=r}static _getLabelConfig(e){return"tsfunnel"===e?{font:OL}:null}static _getHoverOptions(e){switch(e){case"pie":case"tsfunnel":case"doughnut":return{intersect:!0};default:return{intersect:!1,mode:"index"}}}static _getCutoutPercentage(e){return"doughnut"===e?70:void 0}_createChartDataSets(e,t,n){return this._chartJsDataSetsBuilderFactory.create(e.type).setScale(t).setSeries(e).setFocusPoints(n).createDataSets()}_getPlugins(e){const t=this.createTooltipPlugin(e);return"tsfunnel"===e?[t]:[UL,WL,t,bz()]}_getAnimation(e){var t;return{duration:null!==(t=e.animation)&&void 0!==t?t:1e3}}createTooltipPlugin(e){return this._chartTooltipsPluginsFactory.create(e).createPlugin()}setDatasetProperties(e,t){e.forEach((e=>{e.datalabels&&(e.datalabels.color=e=>e.hovered?"#10a0e3":jL,e.datalabels.listeners={click:function(e){var n;Cz(null===(n=arguments[1])||void 0===n?void 0:n.native,e,t)},enter:function(e){return e.hovered=!0,!0},leave:function(e){return e.hovered=!1,!0}})}))}convert(t,n){const{scales:i,labels:r,series:a=[],focusPoints:o}=null!=t?t:{},s=a.map((e=>this._createChartDataSets(e,i,o)));if(0===s.length)return;this.setDatasetProperties(s,n);const l=s[0].type,c=this._chartJsScalesBuilder.createScales(t),d=this._chartJsLegendBuilder.createLegend(t),u=this._chartJsLayoutBuilder.createLayout(t),p=e._getLabelConfig(l),m=e._getHoverOptions(l),h=this._getPlugins(l);return{type:l,data:{labels:r,datasets:s},options:{animation:this._getAnimation(t),labelConfig:p,responsive:!0,maintainAspectRatio:!1,hover:m,legend:d,scales:c,layout:u,cutoutPercentage:e._getCutoutPercentage(l),onClick:function(e){!function(e,t,n){var i,r;const a=t.getElementAtEvent(e)[0];if(!a)return;const o=(null===(i=t.data)||void 0===i?void 0:i.datasets)&&(null===(r=t.data)||void 0===r?void 0:r.datasets[a._datasetIndex]),s=o.dataItems&&o.dataItems[a._index],l=n.click,c={datasetIndex:a._datasetIndex,index:a._index};"function"==typeof l&&l.call(null,s,c,e)}(e,this,n)},onHover:function(e){!function(e,t){const n=t.getElementAtEvent(e),i=e.target,r=n.length?"pointer":"auto";i.style.cursor=r}(e,this)}},plugins:h}}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](BL),l["ɵɵinject"](gz),l["ɵɵinject"](hz),l["ɵɵinject"](mz),l["ɵɵinject"](dz))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})();function wz(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵelementStart"](0,"canvas",1),l["ɵɵlistener"]("resized",(function(){l["ɵɵrestoreView"](e);const t=l["ɵɵnextContext"]();return null==t.chartElement||null==t.chartElement.chart?null:t.chartElement.chart.resize()})),l["ɵɵelementEnd"]()}if(2&e){const e=l["ɵɵnextContext"]();l["ɵɵproperty"]("chartType",e.convertedConfig.type)("options",e.convertedConfig.options)("datasets",e.convertedConfig.data.datasets)("labels",e.convertedConfig.data.labels)("plugins",e.convertedConfig.plugins)}}let _z=(()=>{class e{constructor(e){this._configConverter=e,this.seriesClick=new l.EventEmitter}set config(e){const t=Object.assign({},e);this.convertedConfig=this._configConverter.convert(t,{click:this.onSeriesClick.bind(this)})}onSeriesClick(e,t,n){this.seriesClick.emit({mouseEvent:n,point:e,pointLocation:t})}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](fz))},e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["ts-chart"]],viewQuery:function(e,t){if(1&e&&l["ɵɵviewQuery"](YE,5),2&e){let e;l["ɵɵqueryRefresh"](e=l["ɵɵloadQuery"]())&&(t.chartElement=e.first)}},inputs:{config:"config"},outputs:{seriesClick:"seriesClick"},decls:1,vars:1,consts:[["crtChart","","crtChartResizeObserver","",3,"chartType","options","datasets","labels","plugins","resized",4,"ngIf"],["crtChart","","crtChartResizeObserver","",3,"chartType","options","datasets","labels","plugins","resized"]],template:function(e,t){1&e&&l["ɵɵtemplate"](0,wz,1,5,"canvas",0),2&e&&l["ɵɵproperty"]("ngIf",t.convertedConfig)},styles:["[_nghost-%COMP%]{display:block;width:100%;height:100%;position:relative;overflow:hidden}"],changeDetection:0}),e})();function xz(e,t){if(1&e&&(l["ɵɵelementStart"](0,"div",6),l["ɵɵtext"](1),l["ɵɵelementEnd"]()),2&e){const e=l["ɵɵnextContext"](2);l["ɵɵadvance"](1),l["ɵɵtextInterpolate"](e.tooltipConfig.label)}}function Iz(e,t){if(1&e&&(l["ɵɵelementStart"](0,"div",12),l["ɵɵelement"](1,"mat-progress-bar",13),l["ɵɵelementEnd"]()),2&e){const e=l["ɵɵnextContext"]().$implicit;l["ɵɵadvance"](1),l["ɵɵpropertyInterpolate"]("value",e.progress)}}function Sz(e,t){if(1&e&&(l["ɵɵelementStart"](0,"div",7),l["ɵɵelementStart"](1,"div",8),l["ɵɵelementStart"](2,"span",9),l["ɵɵtext"](3),l["ɵɵelementEnd"](),l["ɵɵelementStart"](4,"span",10),l["ɵɵtext"](5),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵtemplate"](6,Iz,2,1,"div",11),l["ɵɵelementEnd"]()),2&e){const e=t.$implicit,n=t.index;l["ɵɵattribute"]("series-index",n),l["ɵɵadvance"](3),l["ɵɵtextInterpolate"](e.name),l["ɵɵadvance"](2),l["ɵɵtextInterpolate"](e.value),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",e.progress>=0)}}function Mz(e,t){if(1&e&&(l["ɵɵelementStart"](0,"div",1),l["ɵɵtemplate"](1,xz,2,1,"div",2),l["ɵɵelementStart"](2,"div",3),l["ɵɵtemplate"](3,Sz,7,4,"div",4),l["ɵɵelementEnd"](),l["ɵɵelement"](4,"div",5),l["ɵɵelementEnd"]()),2&e){const e=l["ɵɵnextContext"]();l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",e.tooltipConfig.label),l["ɵɵadvance"](2),l["ɵɵproperty"]("ngForOf",null==e.tooltipConfig?null:e.tooltipConfig.series),l["ɵɵadvance"](1),l["ɵɵproperty"]("innerHTML",e.getStyles(),l["ɵɵsanitizeHtml"])}}let Dz=(()=>{class e{constructor(e){this.sanitizer=e}set config(e){switch(typeof e){case"object":this.tooltipConfig=e;break;case"string":this.tooltipConfig=JSON.parse(e);break;default:this.tooltipConfig=null}}_getColorStyle(e,t){const n=e.background||"#604edc",i=e.color||n;let r=`[series-index="${t}"] .mat-progress-bar-fill::after {background: ${n};}`;return e.color&&(r+=`[series-index="${t}"] .value-wrap .value {color: ${i};}`),r}getStyles(){var e;const t=null===(e=this.tooltipConfig)||void 0===e?void 0:e.series;if(!t||0===t.length)return"";const n=t.map(((e,t)=>this._getColorStyle(e,t))).join("");return this.sanitizer.bypassSecurityTrustHtml(`<style>${n}</style>`)}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](i.DomSanitizer))},e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["crt-chart-tooltip"]],inputs:{config:"config"},decls:1,vars:1,consts:[["class","tooltip-container",4,"ngIf"],[1,"tooltip-container"],["class","title",4,"ngIf"],[1,"values-container"],["class","value-container",4,"ngFor","ngForOf"],[3,"innerHTML"],[1,"title"],[1,"value-container"],[1,"value-wrap"],[1,"value-title"],[1,"value"],["class","progress-wrap",4,"ngIf"],[1,"progress-wrap"],["mode","determinate",3,"value"]],template:function(e,t){1&e&&l["ɵɵtemplate"](0,Mz,5,3,"div",0),2&e&&l["ɵɵproperty"]("ngIf",t.tooltipConfig)},directives:[o.NgIf,o.NgForOf,nS.pW],styles:[".tooltip-container{display:flex;justify-content:flex-start;flex-direction:column;min-width:101px;max-width:200px;background:#fff;box-shadow:0 3px 6px #00000029;border:1px solid #006ce0;border-radius:4px;padding:10px 16px;color:#757575;overflow:hidden;-webkit-user-select:none;user-select:none}.tooltip-container .title{font-weight:600;font-size:13px;line-height:18px;letter-spacing:0;color:#006ce0;text-align:left;text-transform:uppercase;margin-bottom:14px;max-height:36px;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis}.tooltip-container .mat-progress-bar-background{fill:#e2e2e2}.tooltip-container .value-container .progress-wrap{padding-bottom:8px;padding-top:5px}.tooltip-container .value-container .mat-progress-bar{height:4px;border-radius:4px}.tooltip-container .value-container .mat-progress-bar .mat-progress-bar-buffer{background:#e2e2e2}.tooltip-container .value-wrap{display:flex;justify-content:space-between}.tooltip-container .value-wrap .value{color:#0d2e4e;text-align:center;font-weight:600;font-size:13px;line-height:16px;letter-spacing:1.3px;font-family:Montserrat,Open Sans,sans-serif;padding-left:5px}.tooltip-container .value-wrap .value-title{letter-spacing:0;color:#757575;text-align:center;font-size:10px;line-height:16px;font-family:Open Sans,sans-serif;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}"],encapsulation:3,changeDetection:0}),e})(),Pz=(()=>{class e{constructor(e){e.defineComponent("crt-chart-tooltip-element",Dz)}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](Ja))},e.ɵmod=l["ɵɵdefineNgModule"]({type:e}),e.ɵinj=l["ɵɵdefineInjector"]({imports:[[o.CommonModule,nS.Cv]]}),e})();function Tz(e,t){if(1&e&&(l["ɵɵelementStart"](0,"div",1),l["ɵɵelementStart"](1,"div",2),l["ɵɵtext"](2),l["ɵɵelementEnd"](),l["ɵɵelementStart"](3,"div",3),l["ɵɵelementStart"](4,"div",4),l["ɵɵtext"](5),l["ɵɵelementEnd"](),l["ɵɵelement"](6,"div",5),l["ɵɵelementEnd"](),l["ɵɵelementStart"](7,"div",6),l["ɵɵtext"](8),l["ɵɵelementEnd"](),l["ɵɵelementEnd"]()),2&e){const e=l["ɵɵnextContext"]();l["ɵɵstyleProp"]("background",e.tooltipSeries.background),l["ɵɵadvance"](2),l["ɵɵtextInterpolate2"]("",e.tooltipSeries.name," - ",e.tooltipSeries.progress,"%"),l["ɵɵadvance"](3),l["ɵɵtextInterpolate"](e.tooltipSeries.value),l["ɵɵadvance"](3),l["ɵɵtextInterpolate"](e.tooltipConfig.label)}}("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](Pz,{declarations:[Dz],imports:[o.CommonModule,nS.Cv],exports:[Dz]});let kz=(()=>{class e{set config(e){switch(typeof e){case"object":this.tooltipConfig=e;break;case"string":this.tooltipConfig=JSON.parse(e);break;default:this.tooltipConfig=null}}get tooltipSeries(){var e;return((null===(e=this.tooltipConfig)||void 0===e?void 0:e.series)||[])[0]}}return e.ɵfac=function(t){return new(t||e)},e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["crt-chart-pie-tooltip"]],inputs:{config:"config"},decls:1,vars:1,consts:[["class","chart-percentage-tooltip",3,"background",4,"ngIf"],[1,"chart-percentage-tooltip"],[1,"title"],[1,"value"],[1,"number"],[1,"unit"],[1,"footer-text"]],template:function(e,t){1&e&&l["ɵɵtemplate"](0,Tz,9,6,"div",0),2&e&&l["ɵɵproperty"]("ngIf",t.tooltipSeries)},directives:[o.NgIf],styles:[".chart-percentage-tooltip{padding:16px;color:#fff;font-family:Open Sans,sans-serif;border-radius:4px;font-size:13px;border:1px solid #fff}.chart-percentage-tooltip .value .number{font-family:Montserrat,Open Sans,sans-serif;font-size:38px;font-weight:600}"],encapsulation:3,changeDetection:0}),e})(),Ez=(()=>{class e{constructor(e){e.defineComponent("crt-chart-pie-tooltip-element",kz)}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](Ja))},e.ɵmod=l["ɵɵdefineNgModule"]({type:e}),e.ɵinj=l["ɵɵdefineInjector"]({imports:[[o.CommonModule,nS.Cv]]}),e})();("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](Ez,{declarations:[kz],imports:[o.CommonModule,nS.Cv],exports:[kz]}),n(28491);let Nz=(()=>{class e{}return e.ɵfac=function(t){return new(t||e)},e.ɵmod=l["ɵɵdefineNgModule"]({type:e}),e.ɵinj=l["ɵɵdefineInjector"]({providers:[{provide:fz,useClass:yz},mz,hz,gz,bL,yL,uz()],imports:[[o.CommonModule,pz,qE.m9,Pz,Ez]]}),e})();("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](Nz,{declarations:[_z,YE,vL],imports:[o.CommonModule,pz,qE.m9,Pz,Ez],exports:[_z,YE,vL]}),l["ɵɵsetComponentScope"](_z,[o.NgIf,YE,vL],[]);class Oz{constructor(e){this.label=e.label,this.legend=e.legend,this.dataSet=e.dataSet,this.dataItems=e.dataItems,this.providing=e.providing}}class jz extends Oz{constructor(e){super(e),this.type=dN.Line,this.color=e.color}}new jz({dataSet:{data:[3,7,5,11,3,5,1]},label:"Line",color:QE.DarkTurquoise,legend:{enabled:!1}});class Az extends jz{constructor(e){super(e),this.type=dN.Spline}}new Az({dataSet:{data:[6,10,8,2,7,4,1]},label:"Spline",color:"rgba(148,159,177,1)"});class Rz extends jz{constructor(e){super(e),this.type=dN.Scatter}}new Rz({dataSet:{data:[5,8,7,7,4,11,2]},label:"Scatter",color:"red"});class Fz extends Az{constructor(e){super(e),this.type=dN.Area}}class Vz extends Oz{constructor(e){super(e),this.type=dN.Pie,this.colors=null==e?void 0:e.colors}}class Lz extends Vz{constructor(e){super(e),this.type=dN.Funnel,this.tooltipData=e.tooltipData}}new Fz({dataSet:{data:[3e3,7e3,5e3,11e4,3e3,5e3,100]},label:"Area",color:QE.NavyBlue}),new Lz({dataSet:{data:[3,2,1]},label:"Funnel"});class zz extends Oz{constructor(e){super(e),this.type=dN.Bar,this.color=e.color,this.stack=e.stack}}new zz({dataSet:{data:[3,7,5,11,3.12,500.123123123,1e5],formatting:{type:"number",decimalPrecision:3}},color:"rgba(0, 0, 255,0.4)",label:"Bar"});class Bz extends zz{constructor(e){super(e),this.type=dN.HorizontalBar}}new Bz({color:"red",stack:"1",dataSet:{data:[1,2,3,4,5,6,7]},label:"Horizontal bar 1"}),new Bz({color:"green",stack:"1",dataSet:{data:[1,2,3,4,5,6,7]},label:"Horizontal bar 2"}),new Bz({color:"blue",dataSet:{data:[1,2,3,4,5,6,7]},label:"Horizontal bar 3"}),new Vz({dataSet:{data:[3,7,5,11,3,5,1]},label:"Pie"});class Gz extends Vz{constructor(e){super(e),this.type=dN.Doughnut}}new Gz({dataSet:{data:[3,7,5,11,3,5,1]},label:"Doughnut"});const Hz={contentDirection:"column",displayMode:"diagram",isFullScreenMode:!1,isValidated:!0};let Uz=(()=>{class e extends Us{constructor(e,t){super(e),this.isDesignTimeInjected=t,this.seriesSchemaMap=new Map,this.analyticsConfig=Hz,this.drillDown=new l.EventEmitter,this.paginationChange=new l.EventEmitter,this.sortingChange=new l.EventEmitter}set sectionBindingColumnRecordId(e){this.setSectionBindingColumnRecordId(e),this.changeDetectorRef.detectChanges()}get sectionBindingRecordId(){return this._sectionBindingRecordId}set listConfig(e){e&&(this._listConfig=e,this._gridData=Object.assign({items:this.listData},e))}get listConfig(){return this._listConfig}get listData(){return this._listData}set listData(e){this._listData=e,e&&(this._gridData=Object.assign({items:e},this.listConfig))}get gridData(){return this._gridData}get analyticsSchemaName(){return this._analyticsSchemaName}handleFullScreenClick(e,t){this.analyticsConfig=Object.assign(Object.assign({},this.analyticsConfig),{displayMode:e&&t?"split":"diagram",isFullScreenMode:e}),this.headerConfig=Object.assign(Object.assign({},this.headerConfig),{showLayoutTools:e&&t,isFullScreenMode:e})}handleDirectionMenuItemClick(e){this.analyticsConfig=Object.assign(Object.assign({},this.analyticsConfig),{contentDirection:e})}ngOnDestroy(){this._sectionBindingRecordId=null}setSectionBindingColumnRecordId(e){this._sectionBindingRecordId=e}setHeaderConfig(e){var t;const n=null===(t=this.headerConfig)||void 0===t?void 0:t.isFullScreenMode;this.headerConfig=this.createHeaderConfig(e),this.headerConfig.isFullScreenMode=n}createHeaderConfig(e){return{title:e.title,color:e.color,theme:e.theme,showTools:!1,isFullScreenMode:!1,showFullScreen:!0,showLayoutTools:!1}}hasSectionBindingColumnRecordId(){return this.sectionBindingRecordId&&"string"==typeof this.sectionBindingRecordId}}return e.ɵfac=function(e){l["ɵɵinvalidFactory"]()},e.ɵdir=l["ɵɵdefineDirective"]({type:e,inputs:{sectionBindingColumnRecordId:"sectionBindingColumnRecordId",listConfig:"listConfig",listData:"listData",pagingConfig:"pagingConfig",sortingConfig:"sortingConfig"},outputs:{drillDown:"drillDown",paginationChange:"paginationChange",sortingChange:"sortingChange"},features:[l["ɵɵInheritDefinitionFeature"]]}),e})();var Zz=(()=>(function(e){e.ByValue="by-value",e.ByDatePart="by-date-part"}(Zz||(Zz={})),Zz))();const $z=new l.InjectionToken("Represents the collection of chart labels creators"),Wz=new l.InjectionToken("Represents a collection of chart series builders");function qz(e){return{provide:Wz,useClass:e,multi:!0}}const Yz=new l.InjectionToken("Represents a factory of chart series data config converters"),Jz=new l.InjectionToken("Represents a factory of chart series data converters"),Qz=new l.InjectionToken("Represents a factory of chart series data sorters");let Kz=(()=>{class e{constructor(e){this._seriesBuilders=e}resolveSeriesBuilder(e){const t=this._seriesBuilders.find((t=>t.chartType===e));if(t)return t;throw new Error(`Cannot resolve chart series builder by the '${e}' type.`)}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](Wz))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"root"}),e})();class Xz{addFilters(e,t){const n=null==t?void 0:t.filter;n&&e.filters.add(n)}addAggregateColumn(e,t){e.addColumn(null==t?void 0:t.column,EN)}addColumnOrder(e,t){e.getColumn(t.columnAlias).withOrdering(t.orderDirection,t.orderPosition)}addSectionBindingFilter(e,t){(null==t?void 0:t.path)&&(null==t?void 0:t.rootSchemaPrimaryColumnValue)&&e.filters.addSchemaColumnFilterWithParameter(r.ComparisonType.Equal,t.path,t.rootSchemaPrimaryColumnValue)}toEsq(e){const t=new r.EntitySchemaQuery(e.schemaName);return this.addFilters(t,e.filters),this.addSectionBindingFilter(t,e.sectionBindingColumn),this.addGroupColumn(t,e.grouping),this.addAggregateColumn(t,e.aggregation),t.rowCount=e.rowCount,t}}const eB="grouping",tB="datePart_";let nB=(()=>{class e extends Xz{addGroupColumn(e,t){((null==t?void 0:t.column)||[]).forEach((t=>{var n;const i=`datePart_${null===(n=t.expression)||void 0===n?void 0:n.datePartType}`;e.addColumn(t,i)}))}}return e.ɵfac=function(){let t;return function(n){return(t||(t=l["ɵɵgetInheritedFactory"](e)))(n||e)}}(),e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})(),iB=(()=>{class e extends Xz{addGroupColumn(e,t){e.addColumn(null==t?void 0:t.column,eB)}}return e.ɵfac=function(){let t;return function(n){return(t||(t=l["ɵɵgetInheritedFactory"](e)))(n||e)}}(),e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})();let rB=(()=>{class e{}return e.ɵfac=function(t){return new(t||e)},e.ɵmod=l["ɵɵdefineNgModule"]({type:e}),e.ɵinj=l["ɵɵdefineInjector"]({providers:[iB,nB,st.create({token:Yz,mappings:[{predicate:Zz.ByValue,injectable:iB},{predicate:Zz.ByDatePart,injectable:nB}]})]}),e})(),aB=(()=>{class e{constructor(e){this._translateService=e}getGroupedSeriesData(e){var t,n;const i=e.grouping,r=i,a=null!==(t=null==r?void 0:r.displayValue)&&void 0!==t?t:i,o=this._translateService.instant("CDK.ChartWidget.Common.EmptyValue");return{value:(null!==(n=null==r?void 0:r.value)&&void 0!==n?n:i)||null,displayValue:a||o,orderValue:a||o}}getAggregationSeriesData(e){return{value:e.aggregation}}generateEntities(e,t){return(0,so.Z)(e)}toSeriesData(e,t={enable:!1,limit:0}){return this.generateEntities(e,t).map((e=>({grouping:this.getGroupedSeriesData(e),aggregation:this.getAggregationSeriesData(e)})))}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](u.sK))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})();var oB=n(20364);let sB=(()=>{class e{constructor(){this._minYearValue=1970,this._minDayWeekHourValue=1,this._dateTimeDurationDefs=[{priority:1,datePartUnit:"y",datePartType:r.DatePartType.Year,fixDurationValue:e=>0===e?this._minYearValue:e},{priority:2,datePartUnit:"M",datePartType:r.DatePartType.Month,fixDurationValue:e=>e>0?--e:e},{priority:3,datePartUnit:"w",datePartType:r.DatePartType.Week,fixDurationValue:e=>0===e?this._minDayWeekHourValue:e},{priority:4,datePartUnit:"date",datePartType:r.DatePartType.Day,fixDurationValue:e=>0===e?this._minDayWeekHourValue:e},{priority:5,datePartUnit:"h",datePartType:r.DatePartType.Hour,fixDurationValue:e=>0===e?this._minDayWeekHourValue:e}]}_toDurationDefValue(e){const{value:t,datePartType:n}=e,{priority:i,datePartUnit:r,fixDurationValue:a}=this._dateTimeDurationDefs.find((e=>e.datePartType===n));return{value:a(t),priority:i,datePartType:n,datePartUnit:r}}_sortDurationsByPriority(e,t){return e.priority>t.priority?1:-1}toMoment(e){return e.map((e=>this._toDurationDefValue(e))).sort(((e,t)=>this._sortDurationsByPriority(e,t))).reduce(((e,{value:t,datePartUnit:n})=>e.set(n,t)),_o()(0))}}return e.ɵfac=function(t){return new(t||e)},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"root"}),e})();const lB=new Map([[r.DatePartType.Day,"days"],[r.DatePartType.Month,"months"],[r.DatePartType.Year,"years"]]);let cB=(()=>{class e extends aB{constructor(e,t,n){super(e),this._formatterFactory=t,this._datePartValuesToMomentConverter=n,this._datePartTypeUnitMapping={[r.DatePartType.Year]:"y",[r.DatePartType.Month]:"M",[r.DatePartType.Week]:"w",[r.DatePartType.Day]:"d",[r.DatePartType.Hour]:"h"},this._datePartTypeRangeMapping={[r.DatePartType.Month]:()=>({min:1,max:12}),[r.DatePartType.Week]:()=>({min:1,max:53}),[r.DatePartType.Day]:()=>({min:1,max:31}),[r.DatePartType.Hour]:()=>({min:0,max:23}),[r.DatePartType.Year]:e=>({min:Math.min(...e)||1970,max:Math.max(...e)})}}_getGroupedDateValues(e){return Object.keys(e).filter((e=>e.startsWith(tB))).map((t=>({value:e[t],datePartType:this._getDatePartType(t)})))}_getDatePartType(e){const t=e.replace(tB,"");return parseInt(t,10)}_getGroupedDateValue(e){return this._getMomentDateValue(e).unix()}_getMomentDateValue(e){const t=e.map((({value:e,datePartType:t})=>({value:e,datePartType:t})));return this._datePartValuesToMomentConverter.toMoment(t)}_appendDataBySingleGroupByColumn(e,t){const n=tB+t,i=e.map((e=>e[n])),{min:r,max:a}=this._datePartTypeRangeMapping[t](i);for(let t=r;t<=a;t++){(0,oB.Z)(e,(e=>e[n]===t))||e.push({[n]:t,[EN]:0})}return e}_appendDataByMultipleGroupByColumns(e,t,n){if(e.length<=1)return e;const{min:i,max:r}=this._getDateTimeRange(e);for(;i<r&&e.length<n;){this._incrementDateTime(i,t);const n=this._generateEmptyItem(i,t);(0,oB.Z)(e,(e=>this.getGroupedSeriesData(e).value===this.getGroupedSeriesData(n).value))||e.push(n)}return e}_getDateTimeRange(e){const t=[...e].sort(((e,t)=>this._getGroupedDateValue(this._getGroupedDateValues(e))>this._getGroupedDateValue(this._getGroupedDateValues(t))?1:-1));return{min:this._getGroupedDateTime((0,_k.Z)(t)),max:this._getGroupedDateTime((0,Qx.Z)(t))}}_getGroupedDateTime(e){const t=this._getGroupedDateValues(e);return 1===(null==t?void 0:t.length)?t[0].value:this._getMomentDateValue(t)}_incrementDateTime(e,t){const n=this._datePartTypeUnitMapping[(0,_k.Z)(t)];return e.add(1,n)}_generateEmptyItem(e,t){const n={[EN]:0};return t.forEach((t=>{n[tB+t]=this._getDateTimePart(t,e)})),n}_getDateTimePart(e,t){switch(e){case r.DatePartType.Day:return t.get("date");case r.DatePartType.Month:return t.get("month")+1;case r.DatePartType.Year:return t.get("year");default:return 0}}_getDateTimeFormat(e){return e.reduce(((e,t)=>{var n,i;return t.datePartType===r.DatePartType.Hour?Object.assign(Object.assign({},e),{time:{display:!0,format:"hour"}}):Object.assign(Object.assign({},e),{date:{display:!0,format:t.datePartType===r.DatePartType.Week?"week":new Set([...null!==(i=null===(n=e.date)||void 0===n?void 0:n.format)&&void 0!==i?i:[],lB.get(t.datePartType)])}})}),{type:"datetime"})}_getDisplayValue(e,t){const n=this._getGroupedDateTime(e),i=this._getDateTimeFormat(t),r=this._formatterFactory.resolveFormatter(i);return"number"==typeof n?n.toString():r.format(n.toString(),i)}getGroupedSeriesData(e){const t=this._getGroupedDateValues(e),n=this._getGroupedDateValue(t);return{value:n,displayValue:this._getDisplayValue(e,t),orderValue:n,datePartValue:t}}generateEntities(e,t){const{enable:n,limit:i}=t,r=super.generateEntities(e,t);if(0===r.length||!n)return r;const a=this._getGroupedDateValues((0,_k.Z)(r));if(1===a.length){const e=(0,_k.Z)(a).datePartType;return this._appendDataBySingleGroupByColumn(r,e)}const o=a.map((e=>e.datePartType));return this._appendDataByMultipleGroupByColumns(r,o,i)}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](u.sK),l["ɵɵinject"](Zo),l["ɵɵinject"](sB))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})();let dB=(()=>{class e{}return e.ɵfac=function(t){return new(t||e)},e.ɵmod=l["ɵɵdefineNgModule"]({type:e}),e.ɵinj=l["ɵɵdefineInjector"]({providers:[aB,cB,st.create({token:Jz,mappings:[{predicate:Zz.ByValue,injectable:aB},{predicate:Zz.ByDatePart,injectable:cB}],default:aB})]}),e})();var uB=n(7329);let pB=(()=>{class e{normalizeSeriesData(e){const t=e.flat().map((e=>e.grouping.value)),n=e.flat().reduce(((e,t)=>(e[t.grouping.value]=t,e)),{}),i=new Set(t);return e.map((e=>Array.from(i,(t=>{const i=e.find((e=>e.grouping.value===t));if(i)return i;const r=uB.Z(n[t]);return Object.assign(r,{aggregation:{value:0}})}))))}}return e.ɵfac=function(t){return new(t||e)},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"root"}),e})();class mB{constructor(e,t,n){this._queryExecutor=e,this._chartSeriesDataConfigConverter=t,this._chartSeriesDataConverter=n}getSeriesData(e){var t,n,i;const r=null!==(n=null===(t=null==e?void 0:e.filters)||void 0===t?void 0:t.filter)&&void 0!==n?n:{},a=Boolean(null===(i=null==r?void 0:r.items)||void 0===i?void 0:i.columnIsNotNullFilter),o=this._chartSeriesDataConfigConverter.toEsq(e);return this._queryExecutor.executeSelectQuery(o).pipe((0,Pn.w)((t=>(0,h.of)(this._chartSeriesDataConverter.toSeriesData(t,{enable:!a,limit:null==e?void 0:e.rowCount})))))}}let hB=(()=>{class e{constructor(e,t,n){this._queryExecutor=e,this._seriesDataConverterFactory=t,this._seriesDataConfigConverterFactory=n}resolveSeriesDataProvider(e){var t;const n=null===(t=null==e?void 0:e.grouping)||void 0===t?void 0:t.type,i=this._seriesDataConverterFactory.create(n),r=this._seriesDataConfigConverterFactory.create(n);return new mB(this._queryExecutor,r,i)}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](ps),l["ɵɵinject"](Jz),l["ɵɵinject"](Yz))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"root"}),e})();class gB{get orderDirectionIndex(){return this.seriesOrderConfig.direction===r.OrderDirection.Desc?-1:1}compareValues(e,t){return e>t?this.orderDirectionIndex:-this.orderDirectionIndex}setSeriesData(e){return this.seriesData=null!=e?e:[],this}setSeriesOrderConfig(e){return this.seriesOrderConfig=e,this}}let fB=(()=>{class e extends gB{get _mainSeriesIndex(){var e;return null!==(e=this.seriesOrderConfig.seriesIndex)&&void 0!==e?e:0}sort(){const e=[...this.seriesData[this._mainSeriesIndex]].sort(((e,t)=>this.compareValues(e.aggregation.value,t.aggregation.value)));return this.seriesData.map((t=>e.map((e=>t.find((t=>t.grouping.value===e.grouping.value))))))}}return e.ɵfac=function(){let t;return function(n){return(t||(t=l["ɵɵgetInheritedFactory"](e)))(n||e)}}(),e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})();var vB=(()=>(function(e){e.ByAggregationValue="by-aggregation-value",e.ByGroupingValue="by-grouping-value"}(vB||(vB={})),vB))();let bB=(()=>{class e extends gB{sort(){return this.seriesData.map((e=>[...e].sort(((e,t)=>this.compareValues(e.grouping.orderValue,t.grouping.orderValue)))))}}return e.ɵfac=function(){let t;return function(n){return(t||(t=l["ɵɵgetInheritedFactory"](e)))(n||e)}}(),e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})();let CB=(()=>{class e{}return e.ɵfac=function(t){return new(t||e)},e.ɵmod=l["ɵɵdefineNgModule"]({type:e}),e.ɵinj=l["ɵɵdefineInjector"]({providers:[fB,bB,st.create({token:Qz,mappings:[{predicate:vB.ByAggregationValue,injectable:fB},{predicate:vB.ByGroupingValue,injectable:bB}]})]}),e})(),yB=(()=>{class e{constructor(e,t,n){this._chartSeriesDataProviderFactory=e,this._chartSeriesDataNormalizer=t,this._chartSeriesDataSorterFactory=n}_getSeriesData(e){const t=e.map((e=>this._chartSeriesDataProviderFactory.resolveSeriesDataProvider(e).getSeriesData(e)));return(0,h.forkJoin)(t)}_sortSeriesData(e,t){if(!t)return e;return this._chartSeriesDataSorterFactory.create(t.type).setSeriesData(e).setSeriesOrderConfig(t).sort()}getSeriesData(e,t){return this._getSeriesData(e).pipe((0,g.U)((e=>this._chartSeriesDataNormalizer.normalizeSeriesData(e))),(0,g.U)((e=>this._sortSeriesData(e,t))))}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](hB),l["ɵɵinject"](pB),l["ɵɵinject"](Qz))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"root"}),e})(),wB=(()=>{class e{constructor(e,t,n){this._chartSeriesBuilderFactory=e,this._multipleChartSeriesDataProvider=t,this._chartLabelsCreatorFactory=n}_getSeriesData(e,t){const n=e.map((e=>{var t;return null===(t=e.data)||void 0===t?void 0:t.providing}));return this._multipleChartSeriesDataProvider.getSeriesData(n,t)}_getChartLabels(e,t){return this._chartLabelsCreatorFactory.create(e).createLabels(t,e)}_getChartSeries(e,t){return e.map(((e,n)=>this._chartSeriesBuilderFactory.resolveSeriesBuilder(e.type).setSeriesData(t[n]).setSeriesConfig(e).createSeries()))}getChartConfig(e){const t=e.series||[],n=e.seriesOrder;return this._getSeriesData(t,n).pipe((0,g.U)((n=>0===n.length?{labels:[],series:[]}:{labels:this._getChartLabels(t,n),series:this._getChartSeries(t,n),scales:e.scales})))}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](Kz),l["ɵɵinject"](yB),l["ɵɵinject"]($z))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"root"}),e})();class _B{get seriesDataSet(){return this.seriesData.map((e=>e.aggregation&&e.aggregation.value))}get seriesLabels(){return this.seriesData.map((e=>{var t;return(null===(t=e.grouping)||void 0===t?void 0:t.displayValue)||""}))}get seriesData(){var e;return null!==(e=this._seriesData)&&void 0!==e?e:[]}get seriesConfig(){return this._seriesConfig}get baseSeriesOptions(){var e,t,n,i,r,a;return{label:null===(e=this.seriesConfig)||void 0===e?void 0:e.label,legend:null===(t=this.seriesConfig)||void 0===t?void 0:t.legend,dataItems:this.seriesData,providing:null===(i=null===(n=this.seriesConfig)||void 0===n?void 0:n.data)||void 0===i?void 0:i.providing,dataSet:{data:this.seriesDataSet,labels:this.seriesLabels,formatting:null===(a=null===(r=this.seriesConfig)||void 0===r?void 0:r.data)||void 0===a?void 0:a.formatting}}}setSeriesData(e){return this._seriesData=e,this}setSeriesConfig(e){return this._seriesConfig=e,this}}let xB=(()=>{class e extends _B{get chartType(){return dN.Area}createSeries(){const{color:e}=this.seriesConfig;return new Fz(Object.assign(Object.assign({},this.baseSeriesOptions),{color:e}))}}return e.ɵfac=function(){let t;return function(n){return(t||(t=l["ɵɵgetInheritedFactory"](e)))(n||e)}}(),e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})(),IB=(()=>{class e extends _B{get chartType(){return dN.Bar}createSeries(){const{color:e,stack:t}=this.seriesConfig;return new zz(Object.assign(Object.assign({},this.baseSeriesOptions),{color:e,stack:t}))}}return e.ɵfac=function(){let t;return function(n){return(t||(t=l["ɵɵgetInheritedFactory"](e)))(n||e)}}(),e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})(),SB=(()=>{class e extends _B{get chartType(){return dN.Doughnut}createSeries(){return new Gz(Object.assign({},this.baseSeriesOptions))}}return e.ɵfac=function(){let t;return function(n){return(t||(t=l["ɵɵgetInheritedFactory"](e)))(n||e)}}(),e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})(),MB=(()=>{class e extends _B{get chartType(){return dN.HorizontalBar}createSeries(){const{color:e}=this.seriesConfig;return new Bz(Object.assign(Object.assign({},this.baseSeriesOptions),{color:e}))}}return e.ɵfac=function(){let t;return function(n){return(t||(t=l["ɵɵgetInheritedFactory"](e)))(n||e)}}(),e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})(),DB=(()=>{class e extends _B{get chartType(){return dN.Line}createSeries(){const{color:e}=this.seriesConfig;return new jz(Object.assign(Object.assign({},this.baseSeriesOptions),{color:e}))}}return e.ɵfac=function(){let t;return function(n){return(t||(t=l["ɵɵgetInheritedFactory"](e)))(n||e)}}(),e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})(),PB=(()=>{class e extends _B{get chartType(){return dN.Pie}createSeries(){return new Vz(Object.assign({},this.baseSeriesOptions))}}return e.ɵfac=function(){let t;return function(n){return(t||(t=l["ɵɵgetInheritedFactory"](e)))(n||e)}}(),e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})(),TB=(()=>{class e extends _B{get chartType(){return dN.Scatter}createSeries(){const{color:e}=this.seriesConfig;return new Rz(Object.assign(Object.assign({},this.baseSeriesOptions),{color:e}))}}return e.ɵfac=function(){let t;return function(n){return(t||(t=l["ɵɵgetInheritedFactory"](e)))(n||e)}}(),e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})(),kB=(()=>{class e extends _B{get chartType(){return dN.Spline}createSeries(){const{color:e}=this.seriesConfig;return new Az(Object.assign(Object.assign({},this.baseSeriesOptions),{color:e}))}}return e.ɵfac=function(){let t;return function(n){return(t||(t=l["ɵɵgetInheritedFactory"](e)))(n||e)}}(),e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})(),EB=(()=>{class e extends _B{get chartType(){return dN.Funnel}createSeries(){const{colors:e}=this.seriesConfig;return new Lz(Object.assign(Object.assign({},this.baseSeriesOptions),{colors:e}))}}return e.ɵfac=function(){let t;return function(n){return(t||(t=l["ɵɵgetInheritedFactory"](e)))(n||e)}}(),e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})(),NB=(()=>{class e{convert(e,t){return new t(Object.assign({},e))}}return e.ɵfac=function(t){return new(t||e)},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"root"}),e})(),OB=(()=>{class e{createLabels(e){return(0,_k.Z)(e).map((e=>e.grouping&&e.grouping.displayValue))}}return e.ɵfac=function(t){return new(t||e)},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"root"}),e})(),jB=(()=>{class e{constructor(e){this.formatterFactory=e}_createLabel(e,t){const{grouping:n,aggregation:i}=e,r=(null==n?void 0:n.displayValue)||"",a=(null==i?void 0:i.value)||0;return`${r} (${this.formatterFactory.resolveFormatter(t).format(a.toString(),t)})`}createLabels(e,t){var n,i;const r=null===(i=null===(n=(0,_k.Z)(t))||void 0===n?void 0:n.data)||void 0===i?void 0:i.formatting;return(0,_k.Z)(e).map((e=>this._createLabel(e,r)))}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](Zo))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"root"}),e})();function AB(e){return e.some((e=>e.type===dN.Funnel))}var RB=n(80165),FB=n(67130);class VB extends sr{constructor(){super(...arguments),this._defaultAggregatedDataValueTypes=[r.DataValueType.DateTime,r.DataValueType.Date,r.DataValueType.Time,r.DataValueType.Integer,r.DataValueType.Float,r.DataValueType.FLOAT1,r.DataValueType.FLOAT2,r.DataValueType.FLOAT3,r.DataValueType.FLOAT4,r.DataValueType.FLOAT8,r.DataValueType.Money],this._blobDataValueTypes=[r.DataValueType.Image,r.DataValueType.Blob]}static _getFirstColumnOnlyFilter(){return()=>!1}static _getOnlyLookupsFilter(){return e=>e.data.isLookupType}static _createStagedMetaPathArray(e){return e.split(".").reduce(((e,t)=>{const n=(e.length>0?e[e.length-1]:[]).concat(t);return e.concat([n])}),[]).map((e=>e.join(".")))}static _getIsEqualsType(e,t){return e.data.dataValueType===t}static _extractSelectedMetaPathsFromOptions(e){const t=null==e?void 0:e.selectedMetaPaths;return Array.isArray(t)?t.filter((e=>e)):[]}static _createFlattenStagedMetaPathArray(e){const t=(0,RB.Z)(e,(e=>VB._createStagedMetaPathArray(e)));return(0,dt.Z)(t)}static _getHasChildren(e){return e.isLookupType||e.dataValueType===r.DataValueType.IMAGELOOKUP}_getAllowedReferenceSchema(e){return t=>e.includes(t.data.referenceSchemaName)}_getPrimaryColumnFilter(){return e=>this._entitySchema.primaryColumnUId!==e.data.uId}_getDataValueTypeFilter(e){return t=>VB._getIsEqualsType(t,e)}_getDataValueTypeLenientFilter(e){return t=>{var n;return(null===(n=function(e){const t=Object.keys(za).find((t=>za[t].includes(e)));return za[t]}(e))||void 0===n?void 0:n.includes(t.data.dataValueType))||VB._getIsEqualsType(t,e)}}_getUsageTypeFilter(e){return t=>e===Sa.Advanced||t.data.usageType===e}_getExcludeUsageTypeFilter(e){return t=>t.data.usageType!==e}_getExcludedDataValueTypesFilter(e){return t=>e.indexOf(t.data.dataValueType)<0}_getAggregationDataValueTypesFilter(){return e=>this._defaultAggregatedDataValueTypes.indexOf(e.data.dataValueType)>-1}_getEnableBlobDataValueTypeFilter(){return e=>this._blobDataValueTypes.indexOf(e.data.dataValueType)<0}_getMainRootItem(e){return this.getEntitySchema(e).pipe((0,g.U)((({caption:e})=>{const t=this.getDefaultRootItem();return t.caption=e.toString(),t})))}_getStructureExplorerItemArraysByMetaPath(e,t){const n="root",i=VB._createFlattenStagedMetaPathArray(t),r=this._getMainRootItem(e).pipe((0,g.U)((e=>new Map([[n,e]])))),a=this.getColumnsInformationByMetaPath(e,i).pipe((0,g.U)((e=>new Map(e.map((e=>[e.metaPath,e]))))));return(0,h.concat)(r,a).pipe((0,FB.u)(((e,t)=>{const n=Array.from(e).concat(Array.from(t));return new Map(n)}),new Map),(0,g.U)((e=>t.map((t=>{const i=VB._createStagedMetaPathArray(t);return[e.get(n)].concat(i.map((t=>e.get(t))))})))))}mapFunction(e){return{id:e.uId,name:e.name,caption:e.caption||e.name,hasChildren:VB._getHasChildren(e),metaPath:e.uId,metaPathCaption:e.caption,columnPath:e.name,tags:null,data:e}}mapItemsToResult(e){const t={items:[],relatedItems:[]};return e.forEach((e=>{t.items.push(e),e.hasChildren&&t.relatedItems.push(e)})),t}innerInitialize(e){const t=Object.assign({},e);t.mapFunction=t.mapFunction?t.mapFunction:this.mapFunction;const n=t.options;if(super.innerInitialize(t),!n.entitySchemaUId)throw new Error("EntitySchemaUId is not defined");!0!==n.displayId&&this.addItemsFilterFunction(this._getPrimaryColumnFilter()),n.firstColumnsOnly&&this.addRelatedItemsFilterFunction(VB._getFirstColumnOnlyFilter()),null!=n.dataValueType&&(n.lenientDataValueTypeComparison?this.addItemsFilterFunction(this._getDataValueTypeLenientFilter(n.dataValueType)):this.addItemsFilterFunction(this._getDataValueTypeFilter(n.dataValueType))),n.onlyLookups&&this.addItemsFilterFunction(VB._getOnlyLookupsFilter()),this.addItemsFilterFunction(this._getExcludeUsageTypeFilter(Sa.None)),this.addRelatedItemsFilterFunction(this._getExcludeUsageTypeFilter(Sa.None)),null!=n.usageType&&(this.addItemsFilterFunction(this._getUsageTypeFilter(n.usageType)),this.addRelatedItemsFilterFunction(this._getUsageTypeFilter(n.usageType))),Array.isArray(n.allowedReferenceSchemas)&&this.addItemsFilterFunction(this._getAllowedReferenceSchema(n.allowedReferenceSchemas)),n.enableBlobDataValueType||this.addItemsFilterFunction(this._getEnableBlobDataValueTypeFilter()),Array.isArray(n.excludedDataValueTypes)&&this.addItemsFilterFunction(this._getExcludedDataValueTypesFilter(n.excludedDataValueTypes)),n.aggregationColumnsOnly&&this.addItemsFilterFunction(this._getAggregationDataValueTypesFilter()),this._rootEntitySchemaUId=n.entitySchemaUId}getAllItems(e){const t=e.id?e.data.referenceSchemaUId:this._rootEntitySchemaUId;return this.getEntitySchema(t).pipe((0,g.U)((e=>(this._entitySchema=e,e.columns))))}getCaption(){return this._entitySchema.caption.toString()}getInitialState(e){var t;const n=null===(t=e.options)||void 0===t?void 0:t.entitySchemaUId,i=VB._extractSelectedMetaPathsFromOptions(e.options);return n&&(null==i?void 0:i.length)>0?this._getStructureExplorerItemArraysByMetaPath(n,i).pipe((0,g.U)((e=>new cr(e)))):(0,h.of)(new cr([]))}}let LB=(()=>{class e{}return e.Providers={ENTITY_SCHEMA:"EntitySchemaStructureExplorerDataProvider",DESIGN_ENTITY_SCHEMA:"DesignEntitySchemaStructureExplorerDataProvider"},e})(),zB=(()=>{class e{constructor(e,t){this._structureExplorerService=e,this._entitySchemaProvider=t}_openStructureExplorer(e){const t=this._getStructureExplorerConfig(e.uId);return this._structureExplorerService.show(t)}_getStructureExplorerConfig(e){return{providers:[this._getDataProviderConfig(e)],enableMultiSelection:!1}}_getDataProviderConfig(e){return{name:LB.Providers.ENTITY_SCHEMA,options:{entitySchemaUId:e}}}_getEntitySchemaByName(e){return this._entitySchemaProvider.getSchemaByName(e)}show(e){return this._getEntitySchemaByName(e).pipe((0,Pn.w)((e=>this._openStructureExplorer(e))))}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](Er),l["ɵɵinject"](va))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})(),BB=(()=>{class e{_generateGroupingConfig(e){return{column:this._getSeriesValueDataGroupingColumn(e),type:this._getChartGroupingType(e)}}_getSeriesValueDataGroupingColumn(e){if(this._isDateTimeColumnType(e)){const t=new r.ColumnExpression({columnPath:e.columnPath});return[new r.DatePartFunctionColumn(r.DatePartType.Month,t),new r.DatePartFunctionColumn(r.DatePartType.Year,t)]}return new r.EntityQueryColumn(e.columnPath)}_getChartGroupingType(e){return this._isDateTimeColumnType(e)?Zz.ByDatePart:Zz.ByValue}_isDateTimeColumnType(e){return e.data.dataValueType===r.DataValueType.Date||e.data.dataValueType===r.DataValueType.DateTime}_getWidgetDataFiltersConfig(e){return{filter:{filterType:r.FilterType.FilterGroup,logicalOperatorType:r.LogicalOperatorType.And,items:{columnIsNotNullFilter:this._createIsNotNullFilter(e)}}}}_createIsNotNullFilter(e){const t=e.columnPath,n=new r.ColumnExpression({columnPath:t});return new r.IsNullFilter(r.ComparisonType.Is_not_null,n)}convert(e,t){return e&&t?Object.assign(Object.assign({},t),{data:Object.assign(Object.assign({},t.data),{providing:Object.assign(Object.assign({},t.data.providing),{filters:this._getWidgetDataFiltersConfig(e),grouping:this._generateGroupingConfig(e)})})}):t}}return e.ɵfac=function(t){return new(t||e)},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})();var GB=n(1156);let HB=(()=>{class e extends jk{constructor(e,t,n){super(e,t,n),this.structureExplorer=e,this.schemaService=t,this.cellViewConfigCreatorFactory=n}createColumnDefinition(e){const{structureExplorerItem:t,dataSourceName:n}=e,i=`${n}_${t.columnPath.replace(/\.+/g,"")}`,r={id:t.id,path:t.columnPath,code:i,caption:t.caption,dataValueType:t.data.dataValueType};return Object.assign({},r)}getItemsAttributeName(e){return e.get(il).listData.replace("$","")}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](Er),l["ɵɵinject"](Fp),l["ɵɵinject"](Ok))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})();const UB=["fullscreen"];function ZB(e,t){1&e&&l["ɵɵelement"](0,"div")}function $B(e,t){1&e&&(l["ɵɵelementStart"](0,"div",10),l["ɵɵprojection"](1),l["ɵɵelementEnd"]())}function WB(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵelementStart"](0,"div",11),l["ɵɵelementStart"](1,"crt-data-grid",12),l["ɵɵlistener"]("sortingChange",(function(t){l["ɵɵrestoreView"](e);return l["ɵɵnextContext"](2).handleSortingChange(t)}))("paginationChange",(function(t){l["ɵɵrestoreView"](e);return l["ɵɵnextContext"](2).handlePaginationChange(t)}))("columnsChange",(function(t){l["ɵɵrestoreView"](e);return l["ɵɵnextContext"](2).handleColumnChange(t)}))("columnCaptionChange",(function(t){l["ɵɵrestoreView"](e);return l["ɵɵnextContext"](2).handleColumnCaptionChange(t)}))("saveForAll",(function(){l["ɵɵrestoreView"](e);return l["ɵɵnextContext"](2).handleSaveForAll()}))("resetToDefault",(function(){l["ɵɵrestoreView"](e);return l["ɵɵnextContext"](2).handleResetToDefault()})),l["ɵɵelementEnd"](),l["ɵɵelementEnd"]()}if(2&e){const e=l["ɵɵnextContext"](2);l["ɵɵadvance"](1),l["ɵɵproperty"]("items",e.gridData.items)("columns",e.gridData.columns)("primaryColumnName",e.gridData.primaryColumnName)("features",e.dataGridFeatures)("header",e.gridData.header)("sorting",e.sorting)}}function qB(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵelementStart"](0,"crt-widget-header",6),l["ɵɵlistener"]("fullScreenStateChanged",(function(t){l["ɵɵrestoreView"](e);return l["ɵɵnextContext"]().handleFullScreenClick(t)}))("switchChartType",(function(t){l["ɵɵrestoreView"](e);return l["ɵɵnextContext"]().handleSwitchChartTypeClick(t)}))("switchDirectionType",(function(t){l["ɵɵrestoreView"](e);return l["ɵɵnextContext"]().handleDirectionMenuItemClick(t)}))("showChartSeriesDrilldown",(function(t){l["ɵɵrestoreView"](e);return l["ɵɵnextContext"]().showChartSeriesDrilldown.emit(t)})),l["ɵɵelementEnd"](),l["ɵɵelementStart"](1,"div",7),l["ɵɵtemplate"](2,$B,2,0,"div",8),l["ɵɵtemplate"](3,WB,2,6,"div",9),l["ɵɵelementEnd"]()}if(2&e){const e=l["ɵɵnextContext"]();l["ɵɵproperty"]("chartsSeries",e.chartsSeries)("widgetConfig",e.widgetConfig)("headerConfig",e.headerConfig),l["ɵɵadvance"](1),l["ɵɵstyleProp"]("flex-direction",null==e.analyticsConfig?null:e.analyticsConfig.contentDirection),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf","data"!==(null==e.analyticsConfig?null:e.analyticsConfig.displayMode)||!e.gridData),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf","diagram"!==(null==e.analyticsConfig?null:e.analyticsConfig.displayMode)&&e.gridData)}}function YB(e,t){1&e&&l["ɵɵelement"](0,"crt-view-element-placeholder")}function JB(e,t){1&e&&l["ɵɵelement"](0,"div",13)}const QB=[[["",8,"main-content"]]],KB=function(e){return{"full-screen":e}},XB=[".main-content"];let eG=(()=>{class e{constructor(e,t,n){this._columnDataProvider=e,this._dialogService=t,this._translationService=n,this._analyticsConfig=Hz,this._offsetWith=-1,this._offsetHeight=-1,this._isFullScreenMode=!1,this._destroyed$=new h.Subject,this.confirmationDialogSaveForAllMessage="CDK.AnalyticsWidget.Grid.ConfirmationDialog.SaveDataGridConfigsForAllUsers",this.confirmationDialogResetToDefaultMessage="CDK.AnalyticsWidget.Grid.ConfirmationDialog.ResetDataGridConfigsToDefault",this.dataGridFeatures={rows:{toolbar:!1},columns:{sorting:!0}},this.showTools=!0,this.switchChartType=new l.EventEmitter,this.showChartSeriesDrilldown=new l.EventEmitter,this.sortingChange=new l.EventEmitter,this.paginationChange=new l.EventEmitter,this.columnCaptionChange=new l.EventEmitter,this.viewChange=new l.EventEmitter,this.switchDirectionType=new l.EventEmitter,this.fullScreenStateChanged=new l.EventEmitter,this.dataChange=new l.EventEmitter}get analyticsConfig(){return this._analyticsConfig}set analyticsConfig(e){this._analyticsConfig=e,this._analyticsConfig&&this._isFullScreenMode!==this._analyticsConfig.isFullScreenMode&&(this._isFullScreenMode=this._analyticsConfig.isFullScreenMode,this.setFullScreenStyles())}set gridData(e){this._gridData=e}get gridData(){return this._gridData}_isActionConfirmed(e){return(0,a.mG)(this,void 0,void 0,(function*(){return(yield this._dialogService.openConfirmationDialog({message:this._translationService.instant(e),primaryButton:U,secondaryButton:Z}).toPromise())===U.result}))}setFullScreenStyles(){var e,t;const n=null===(e=this.divRef)||void 0===e?void 0:e.nativeElement;n&&((null===(t=this.analyticsConfig)||void 0===t?void 0:t.isFullScreenMode)?(this._offsetWith=n.offsetWith,this._offsetHeight=n.offsetHeight,n.style.maxWith="",n.style.maxHeight=""):(n.style.maxWith=this._offsetWith+"px",n.style.maxHeight=this._offsetHeight+"px"))}handleDirectionMenuItemClick(e){this.switchDirectionType.emit(e)}handleSwitchChartTypeClick(e){this.switchChartType.emit(e)}handleFullScreenClick(e){this.fullScreenStateChanged.emit(e)}handleSortingChange(e){const t={columns:this.gridData.columns,sorting:e};this._columnDataProvider.saveAnalyticsColumnsToUserProfile(this.analyticsSchemaName,t).subscribe(),this.sortingChange.emit(e)}handlePaginationChange(e){const t={type:e.type};this.paginationChange.emit(t)}handleColumnCaptionChange(e){this.columnCaptionChange.emit(e)}handleSaveForAll(){return(0,a.mG)(this,void 0,void 0,(function*(){const e={columns:this.gridData.columns,sorting:this.sorting};(yield this._isActionConfirmed(this.confirmationDialogSaveForAllMessage))&&this._columnDataProvider.saveAnalyticsColumnsToAllUsers(this.analyticsSchemaName,e).subscribe()}))}handleResetToDefault(){return(0,a.mG)(this,void 0,void 0,(function*(){(yield this._isActionConfirmed(this.confirmationDialogResetToDefaultMessage))&&this._columnDataProvider.getDefaultAnalyticsColumns(this.analyticsSchemaName).pipe((0,GB.map)((e=>{e&&this.handleColumnChange(e.columns)}))).subscribe()}))}handleColumnChange(e){const t={columns:e,sorting:this.sorting};this._columnDataProvider.saveAnalyticsColumnsToUserProfile(this.analyticsSchemaName,t).subscribe(),this.viewChange.emit(e)}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](PN),l["ɵɵdirectiveInject"](X),l["ɵɵdirectiveInject"](u.sK))},e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["crt-analytics-widget"]],viewQuery:function(e,t){if(1&e&&l["ɵɵviewQuery"](UB,5),2&e){let e;l["ɵɵqueryRefresh"](e=l["ɵɵloadQuery"]())&&(t.divRef=e.first)}},inputs:{analyticsConfig:"analyticsConfig",gridData:"gridData",widgetConfig:"widgetConfig",showTools:"showTools",headerConfig:"headerConfig",chartsSeries:"chartsSeries",analyticsSchemaName:"analyticsSchemaName",sorting:"sorting"},outputs:{switchChartType:"switchChartType",showChartSeriesDrilldown:"showChartSeriesDrilldown",sortingChange:"sortingChange",paginationChange:"paginationChange",columnCaptionChange:"columnCaptionChange",viewChange:"viewChange",switchDirectionType:"switchDirectionType",fullScreenStateChanged:"fullScreenStateChanged",dataChange:"dataChange"},features:[l["ɵɵProvidersFeature"]([{provide:EM,useClass:HB},{provide:AM,useClass:VM}])],ngContentSelectors:XB,decls:8,vars:7,consts:[[1,"analytics-widget",3,"ngClass"],["fullscreen",""],[4,"ngIf","ngIfThen","ngIfElse"],["view",""],["placeholder",""],["class","background-blur",4,"ngIf"],[3,"chartsSeries","widgetConfig","headerConfig","fullScreenStateChanged","switchChartType","switchDirectionType","showChartSeriesDrilldown"],[1,"content"],["class","diagram",4,"ngIf"],["class","data",4,"ngIf"],[1,"diagram"],[1,"data"],[3,"items","columns","primaryColumnName","features","header","sorting","sortingChange","paginationChange","columnsChange","columnCaptionChange","saveForAll","resetToDefault"],[1,"background-blur"]],template:function(e,t){if(1&e&&(l["ɵɵprojectionDef"](QB),l["ɵɵelementStart"](0,"div",0,1),l["ɵɵtemplate"](2,ZB,1,0,"div",2),l["ɵɵtemplate"](3,qB,4,7,"ng-template",null,3,l["ɵɵtemplateRefExtractor"]),l["ɵɵtemplate"](5,YB,1,0,"ng-template",null,4,l["ɵɵtemplateRefExtractor"]),l["ɵɵelementEnd"](),l["ɵɵtemplate"](7,JB,1,0,"div",5)),2&e){const e=l["ɵɵreference"](4),n=l["ɵɵreference"](6);l["ɵɵproperty"]("ngClass",l["ɵɵpureFunction1"](5,KB,null==t.analyticsConfig?null:t.analyticsConfig.isFullScreenMode)),l["ɵɵadvance"](2),l["ɵɵproperty"]("ngIf",null==t.analyticsConfig?null:t.analyticsConfig.isValidated)("ngIfThen",e)("ngIfElse",n),l["ɵɵadvance"](5),l["ɵɵproperty"]("ngIf",null==t.analyticsConfig?null:t.analyticsConfig.isFullScreenMode)}},styles:[".background-blur[_ngcontent-%COMP%]{background-color:hsla(0,0%,100%,.4);height:100vh;width:100vw;position:fixed;top:0;left:0;z-index:1498}.analytics-widget[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;font-family:Open Sans,Roboto,Helvetica Neue,sans-serif;border-radius:8px;background-clip:padding-box;background-color:#fff;border:1px solid #e6e6e6;overflow:hidden;box-sizing:border-box}.analytics-widget.full-screen[_ngcontent-%COMP%]{position:fixed;top:10px;left:10px;height:calc(100vh - 10px);width:calc(100vw - 20px);z-index:1499;border:none}.analytics-widget.full-screen[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding:24px 32px}.analytics-widget.full-screen[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%], .analytics-widget.full-screen[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .diagram[_ngcontent-%COMP%]{min-height:50%;min-width:50%}.analytics-widget[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{display:flex;width:100%;align-items:stretch;justify-content:stretch;height:calc(100% - 38px);border-radius:8px;background-color:#fff;margin-top:-8px}.analytics-widget[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%], .analytics-widget[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .diagram[_ngcontent-%COMP%]{height:100%;width:100%}"]}),e})();function tG(e,t){return{caption:`CDK.ChartWidget.${(0,lN.Z)(e).replace(" ","")}.Caption`,name:t,icon:n(63045)(`./chart-widget-${e}.icon.svg`),defaultPropertyValues:{config:{title:"",theme:"full-fill",color:"green",series:[{type:e}]}}}}let nG=class extends Uz{constructor(e,t,n,i,r,a,o,s,l,c){super(l,c),this._changeDetectorRef=e,this._chartConfigProvider=t,this._chartSeriesConverter=n,this._featureService=i,this._translationService=r,this._chartStructureExplorerService=a,this._chartSeriesConfigConverterService=o,this._ngZone=s,this._chartDrilldownFeatureName="ChartDrilldown",this._chartSeriesClickChangeTypeFeatureName="ChartSeriesClickChangeType",this._drilldownByChartSeriesMenuFeatureName="ChartDrilldownByChartSeriesMenu",this._subscription=new h.Subscription,this._chartClicks=0,this._chartSeriesDoubleClickDelayMs=200,this._doubleClickTimeout=null,this.chartsSeries=new Map([[dN.Line,jz],[dN.Scatter,Rz],[dN.Spline,Az],[dN.Area,Fz],[dN.Bar,zz],[dN.HorizontalBar,Bz],[dN.Pie,Vz],[dN.Doughnut,Gz],[dN.Funnel,Lz]]),this.background=""}get _currentSeries(){var e;return this.chartWidgetConfig.series[null===(e=this._currentChartClickConfig)||void 0===e?void 0:e.pointLocation.datasetIndex]}set config(e){this.analyticsConfig=Object.assign(Object.assign({},this.analyticsConfig),{isValidated:e&&!this._isDefaultConfig(e)}),this.analyticsConfig.isValidated&&(this._clearSubscriptions(),this.chartWidgetConfig=e,this.setHeaderConfig(this.chartWidgetConfig),(this.isDesignTime||this.sectionBindingRecordId||!this._hasSectionBindingColumnPath(e))&&this._requestDataSubscription(this.chartWidgetConfig))}_getSeriesMenuItems(){var e,t;const n=this.chartConfig?null===(e=this.chartConfig)||void 0===e?void 0:e.series:null===(t=this.chartWidgetConfig)||void 0===t?void 0:t.series,i=[];return n.forEach(((e,t)=>{let n=e.color;n||(n=Array.from(XE.keys())[t]),i.push({color:n,label:e.label,index:t})})),i}createHeaderConfig(e){const t=super.createHeaderConfig(e);return t.showTools=!this.isDesignTime,t.chartsSeries=this.chartsSeries,this._isDrilldownFeatureEnabled&&this._isDrilldownByChartSeriesMenuEnabled&&(t.displayDataSeries=this._getSeriesMenuItems()),t}get chartConfig(){var e;return null!==(e=this._switchedChartConfig)&&void 0!==e?e:this._originalChartConfig}_initializeFeatures(){const e=this._featureService.getFeatureState(this._chartDrilldownFeatureName),t=this._featureService.getFeatureState(this._chartSeriesClickChangeTypeFeatureName),n=this._featureService.getFeatureState(this._drilldownByChartSeriesMenuFeatureName);this._subscription.add((0,h.forkJoin)([e,t,n]).subscribe((([e,t,n])=>{var i;this._isDrilldownFeatureEnabled=e,this._isChartSeriesClickChangeTypeEnabled=t,this._isDrilldownByChartSeriesMenuEnabled=n,this._initializeChartSeriesMenuItems(),this._isDrilldownFeatureEnabled&&(null===(i=this.chartWidgetConfig)||void 0===i?void 0:i.series)&&this.setHeaderConfig(this.chartWidgetConfig)})))}_initializeChartSeriesMenuItems(){this.chartSeriesMenuItems=this._createChartSeriesMenu()}_getFocusPoints(){return this._selectedDrillDownPointLocation?[this._selectedDrillDownPointLocation]:[]}_isDefaultConfig(e){return Ha(tG(dN.Line,"line-chart").defaultPropertyValues.config,e)}_clearSubscriptions(){this._getChartConfigSubscription&&this._getChartConfigSubscription.unsubscribe()}_requestDataSubscription(e,t=null){var n,i;for(const e of this.chartWidgetConfig.series){const t=null===(i=null===(n=null==e?void 0:e.data)||void 0===n?void 0:n.providing)||void 0===i?void 0:i.sectionBindingColumn;t&&(t.rootSchemaPrimaryColumnValue=this.sectionBindingRecordId)}this._getChartConfigSubscription=this._chartConfigProvider.getChartConfig(e).subscribe((e=>{this._originalChartConfig=e,this._switchedChartConfig=null,t&&this.switchChartType(t),this._changeDetectorRef.detectChanges()}))}_hasSectionBindingColumnPath(e){var t,n,i;for(const r of e.series)if(null===(i=null===(n=null===(t=r.data)||void 0===t?void 0:t.providing)||void 0===n?void 0:n.sectionBindingColumn)||void 0===i?void 0:i.path)return!0;return!1}_updateFocusPoints(e){this._originalChartConfig&&(this._switchedChartConfig=Object.assign(Object.assign({},this.chartConfig),{focusPoints:this._getFocusPoints(),animation:e?0:void 0}))}_getAggregationAttribute(e){let t;if(e.aggregationType!==r.AggregationType.None&&e.aggregationType!==r.AggregationType.Count){const n=null==e?void 0:e.functionArgument;t=n&&n.columnPath}return t}_getGroupingColumns(e){var t;const n=null==e?void 0:e.grouping.column;let i=[];return(null==e?void 0:e.grouping.type)===Zz.ByDatePart?n.forEach((e=>{var t,n;i.push(null===(n=null===(t=null==e?void 0:e.expression)||void 0===t?void 0:t.functionArgument)||void 0===n?void 0:n.columnPath)})):i.push(null===(t=null==n?void 0:n.expression)||void 0===t?void 0:t.columnPath),i=i.filter(Boolean),i}_getGroupByValue(e){return e?(null==e?void 0:e.datePartValue)?{value:null==e?void 0:e.datePartValue,dataValueType:r.DataValueType.DateTime}:{value:null==e?void 0:e.value,dataValueType:r.DataValueType.Text}:null}_createChartSeriesMenu(){const e=[];return e.push({handleItemClick:()=>this._handleShowDataMenuItemClick(),type:"crt.MenuItem",caption:"CDK.ChartWidget.Common.ShowDataCaption",icon:"chart-show-data.icon",visible:this._isDrilldownFeatureEnabled}),this._setChartTypeMenuItems(e),e}_setChartTypeMenuItems(e){e.length>0&&e.push({type:"crt.MenuDivider",visible:this._isDrilldownFeatureEnabled}),e.push(mN("CDK.ChartWidget.Common.DrillDownCaption",this._translationService),...pN(this.chartsSeries,this._handleChartSeriesMenuItemClick.bind(this),this._translationService))}_handleChartSeriesMenuItemClick(e){var t;const n=this._getSchemaNameFromConfig(this._currentSeries),i=null===(t=this._currentChartClickConfig)||void 0===t?void 0:t.pointLocation.datasetIndex;this._chartStructureExplorerService.show(n).subscribe((t=>{if(!t||0===t.length)return;const n=this._getChartWidgetConfig(i,t[0]);this._requestDataSubscription(n,e)}))}_getChartWidgetConfig(e,t){const n=(0,so.Z)(this.chartWidgetConfig);return n.series[e]=this._chartSeriesConfigConverterService.convert(t,n.series[e]),n}_getSchemaNameFromConfig(e){return e.data.providing.schemaName}_openChartSeriesMenu(e){this._currentChartClickConfig=e,this._setOpenStylesToChartSeriesMenuContainer(e),this.chartSeriesMenuTrigger.openMenu()}_setOpenStylesToChartSeriesMenuContainer(e){var t,n,i,r;this._setStyleValueToElementRef(this.chartSeriesMenuContainer,"display","initial");const a=null!==(n=null===(t=e.mouseEvent)||void 0===t?void 0:t.target)&&void 0!==n?n:this._lastMouseEvent.target;this._setStyleValueToElementRef(this.chartSeriesMenuContainer,"left",this._getStyleCalcPercentCoordinates(a.offsetWidth,this._getMouseEventPosition(null!==(i=e.mouseEvent)&&void 0!==i?i:this._lastMouseEvent,"X"))),this._setStyleValueToElementRef(this.chartSeriesMenuContainer,"top",this._getStyleCalcPercentCoordinates(a.offsetHeight,this._getMouseEventPosition(null!==(r=e.mouseEvent)&&void 0!==r?r:this._lastMouseEvent,"Y")))}_setStyleValueToElementRef(e,t,n){e.nativeElement.style[t]=n}_getMouseEventPosition(e,t){return e["offset"+t]||e["layer"+t]-5}_getStyleCalcPercentCoordinates(e,t){return`calc(${100/e*t}% + 10px)`}_handleShowDataMenuItemClick(e){if(!this._isDrilldownFeatureEnabled)return;e=e||this._currentChartClickConfig,this._selectedDrillDownPointLocation=e.pointLocation,this._updateFocusPoints(!0),this.handleFullScreenClick(!0,!0);const t=this._createWidgetDrilldownEventConfig(e);this._analyticsSchemaName=t.schemaName,this._lastPoint=e,this.drillDown.emit(t)}_createWidgetDrilldownEventConfig(e){var t,n,i,r;const a=this._getDataProvidingByClickConfig(e),o=this._getGroupByValue(null===(t=null==e?void 0:e.point)||void 0===t?void 0:t.grouping),s=this._getGroupingColumns(a),l=null===(i=null===(n=null==a?void 0:a.aggregation)||void 0===n?void 0:n.column)||void 0===i?void 0:i.expression,c=this._getAggregationAttribute(l);return(null==a?void 0:a.schemaName)&&this._analyticsSchemaName&&this._analyticsSchemaName!==(null==a?void 0:a.schemaName)&&(this._lastColumnConfig=null,this.sortingConfig=null),{schemaName:null==a?void 0:a.schemaName,groupByValue:o,groupBy:s,aggregateBy:c,columns:this._lastColumnConfig,pagingConfig:this.pagingConfig,sortingConfig:this.sortingConfig,filters:{widgetFilters:null===(r=null==a?void 0:a.filters)||void 0===r?void 0:r.filter,pageBindingFilter:null==a?void 0:a.sectionBindingColumn}}}_getDataProvidingByClickConfig(e){var t;const n=this.chartWidgetConfig.series[null==e?void 0:e.pointLocation.datasetIndex];return null===(t=null==n?void 0:n.data)||void 0===t?void 0:t.providing}setSectionBindingColumnRecordId(e){super.setSectionBindingColumnRecordId(e),(!this._hasSectionBindingColumnPath(this.chartWidgetConfig)||this.hasSectionBindingColumnRecordId()||this.isDesignTime||this.isDesignTimeInjected)&&this._requestDataSubscription(this.chartWidgetConfig)}switchChartType(e){if(!this._originalChartConfig)return;const t=this._originalChartConfig.series.map(((t,n)=>{const i=this._chartSeriesConverter.convert(t,e);return i.color||(i.color=Array.from(XE.keys())[n]),i}));this._switchedChartConfig=Object.assign(Object.assign({},this.chartConfig),{series:t,focusPoints:this._getFocusPoints(),animation:void 0}),this.setHeaderConfig(this.chartWidgetConfig)}onFullScreenStateChange(e,t){e||(this._selectedDrillDownPointLocation=null,this._updateFocusPoints(!1)),this.handleFullScreenClick(e,t)}onMenuClosed(){this._currentChartClickConfig=null,this._setStyleValueToElementRef(this.chartSeriesMenuContainer,"display","none")}ngOnInit(){this._initializeFeatures()}chartMouseEventHandler(e){this._lastMouseEvent=e}ngAfterViewInit(){this._subscription.add(this.chartSeriesMenuTrigger.menuClosed.subscribe((()=>this.onMenuClosed()))),this._ngZone.runOutsideAngular((()=>{this.chartComponent.nativeElement.addEventListener("mousemove",this.chartMouseEventHandler.bind(this))}))}ngOnDestroy(){var e;super.ngOnDestroy(),this._clearSubscriptions(),this._subscription.unsubscribe(),(null===(e=this.chartComponent)||void 0===e?void 0:e.nativeElement)&&this.chartComponent.nativeElement.removeEventListener("mousemove",this.chartMouseEventHandler.bind(this))}onSeriesClick(e){this.isDesignTime||(this._chartClicks++,this._chartClicks>=1&&(this._doubleClickTimeout=setTimeout((()=>{1===this._chartClicks&&this._isChartSeriesClickChangeTypeEnabled?this._openChartSeriesMenu(e):this._handleShowDataMenuItemClick(e),this._chartClicks=0,clearTimeout(this._doubleClickTimeout)}),this._chartSeriesDoubleClickDelayMs)))}handleShowSeriesDataClick(e){const t={mouseEvent:{},point:{},pointLocation:{index:null,datasetIndex:e}};setTimeout((()=>{this._handleShowDataMenuItemClick(t)}))}onAnalyticsViewChanged(e){this._lastColumnConfig=e,this._handleShowDataMenuItemClick(this._lastPoint)}onPaginationChange(e){this.paginationChange.emit(e)}onSortingChange(e){this.sortingColumns=e;const t=e.map((e=>({columnName:e.columnCode.split("_").pop(),direction:e.direction})));this.sortingConfig={attributeName:"",default:t},this._handleShowDataMenuItemClick(this._lastPoint)}};nG.ɵfac=function(e){return new(e||nG)(l["ɵɵdirectiveInject"](l.ChangeDetectorRef),l["ɵɵdirectiveInject"](wB),l["ɵɵdirectiveInject"](NB),l["ɵɵdirectiveInject"](ls),l["ɵɵdirectiveInject"](u.sK),l["ɵɵdirectiveInject"](zB),l["ɵɵdirectiveInject"](BB),l["ɵɵdirectiveInject"](l.NgZone),l["ɵɵdirectiveInject"](l.Injector),l["ɵɵdirectiveInject"](nl,8))},nG.ɵcmp=l["ɵɵdefineComponent"]({type:nG,selectors:[["crt-chart-widget"]],viewQuery:function(e,t){if(1&e&&(l["ɵɵviewQuery"](sw,5),l["ɵɵviewQuery"](sw,5,l.ElementRef),l["ɵɵviewQuery"](_z,5,l.ElementRef)),2&e){let e;l["ɵɵqueryRefresh"](e=l["ɵɵloadQuery"]())&&(t.chartSeriesMenuTrigger=e.first),l["ɵɵqueryRefresh"](e=l["ɵɵloadQuery"]())&&(t.chartSeriesMenuContainer=e.first),l["ɵɵqueryRefresh"](e=l["ɵɵloadQuery"]())&&(t.chartComponent=e.first)}},inputs:{sortingConfig:"sortingConfig",isDesignTime:"isDesignTime",config:"config"},features:[l["ɵɵInheritDefinitionFeature"]],decls:7,vars:9,consts:[[3,"chartsSeries","headerConfig","analyticsConfig","gridData","analyticsSchemaName","sorting","fullScreenStateChanged","switchDirectionType","switchChartType","viewChange","paginationChange","sortingChange","showChartSeriesDrilldown"],[1,"chart-widget-wrapper","main-content"],[1,"chart"],[3,"config","seriesClick"],[1,"chart-menu-container",3,"crtMenuTriggerFor","menuClosed"],[3,"items"],["menu",""]],template:function(e,t){if(1&e&&(l["ɵɵelementStart"](0,"crt-analytics-widget",0),l["ɵɵlistener"]("fullScreenStateChanged",(function(e){return t.onFullScreenStateChange(e,!1)}))("switchDirectionType",(function(e){return t.handleDirectionMenuItemClick(e)}))("switchChartType",(function(e){return t.switchChartType(e)}))("viewChange",(function(e){return t.onAnalyticsViewChanged(e)}))("paginationChange",(function(e){return t.onPaginationChange(e)}))("sortingChange",(function(e){return t.onSortingChange(e)}))("showChartSeriesDrilldown",(function(e){return t.handleShowSeriesDataClick(e)})),l["ɵɵelementStart"](1,"div",1),l["ɵɵelementStart"](2,"div",2),l["ɵɵelementStart"](3,"ts-chart",3),l["ɵɵlistener"]("seriesClick",(function(e){return t.onSeriesClick(e)})),l["ɵɵelementEnd"](),l["ɵɵelementStart"](4,"div",4),l["ɵɵlistener"]("menuClosed",(function(){return t.onMenuClosed()})),l["ɵɵelementEnd"](),l["ɵɵelement"](5,"crt-menu",5,6),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵelementEnd"]()),2&e){const e=l["ɵɵreference"](6);l["ɵɵproperty"]("chartsSeries",t.chartsSeries)("headerConfig",t.headerConfig)("analyticsConfig",t.analyticsConfig)("gridData",t.gridData)("analyticsSchemaName",t.analyticsSchemaName)("sorting",t.sortingColumns),l["ɵɵadvance"](3),l["ɵɵproperty"]("config",t.chartConfig),l["ɵɵadvance"](1),l["ɵɵproperty"]("crtMenuTriggerFor",e),l["ɵɵadvance"](1),l["ɵɵproperty"]("items",t.chartSeriesMenuItems)}},directives:[eG,_z,sw,Wy],styles:[".chart-widget-wrapper[_ngcontent-%COMP%]{width:100%;height:100%}.chart-widget-wrapper[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%]{position:relative;height:100%;width:100%}.chart-widget-wrapper[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%]   ts-chart[_ngcontent-%COMP%]{padding:5px;height:calc(100% - 2 * 5px);width:calc(100% - 2 * 5px)}.chart-widget-wrapper[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%]   .chart-menu-container[_ngcontent-%COMP%]{display:none;position:absolute}"]}),nG=(0,a.gn)([Xs({type:"crt.ChartWidget"}),Ks({type:"crt.ChartWidget",toolbarConfig:[tG(dN.Spline,"spline-chart"),tG(dN.Line,"line-chart"),tG(dN.HorizontalBar,"horizontal-bar-chart"),tG(dN.Doughnut,"doughnut-chart"),tG(dN.Area,"area-chart"),tG(dN.Bar,"bar-chart"),tG(dN.Scatter,"scatter-chart"),tG(dN.Funnel,"funnel-chart")],interfaceDesignerPropertiesPanelSchemaName:"InterfaceDesignerChartWidgetPropertiesPanel",propertiesPanelComponentTypeName:"crt.ChartWidgetPropertiesPanel"}),(0,a.w6)("design:paramtypes",[l.ChangeDetectorRef,wB,NB,ls,u.sK,zB,BB,l.NgZone,l.Injector,Boolean])],nG);let iG=(()=>{class e extends VB{constructor(e){super(),this._entitySchemaService=e,this.name=LB.Providers.ENTITY_SCHEMA}getEntitySchema(e){return this._entitySchemaService.getEntitySchemaByUId(e).pipe((0,g.U)((e=>e.entitySchema)))}getColumnsInformationByMetaPath(e,t){return this._entitySchemaService.getEntitySchemaColumnsInformationByMetaPath(e,t).pipe((0,g.U)((e=>e.map((({column:e,columnMetaPath:t,columnPath:n,columnCaptionPath:i})=>{const r=this.mapFunction(e);return r.metaPath=t,r.columnPath=n,r.metaPathCaption=i,r})))))}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](ta))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})(),rG=(()=>{class e{}return e.ɵfac=function(t){return new(t||e)},e.ɵmod=l["ɵɵdefineNgModule"]({type:e}),e.ɵinj=l["ɵɵdefineInjector"]({imports:[[o.CommonModule,MN,St.Ps,$p.Tx,Hg,$s,pD]]}),e})();("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](rG,{declarations:[eG],imports:[o.CommonModule,MN,St.Ps,$p.Tx,Hg,$s,pD],exports:[eG]}),l["ɵɵsetComponentScope"](eG,[o.NgClass,o.NgIf,yN,JM,Zs],[]);let aG=class{constructor(e,t){this._domSanitizer=e,this._matIconRegistry=t,this.CHART_WIDGET_ICONS=["gear-icon","arrow-down","chart-widget-tsfunnel-menu.icon","chart-widget-doughnut-menu.icon","chart-widget-horizontal-bar-menu.icon","chart-widget-bar-menu.icon","chart-widget-area-menu.icon","chart-widget-spline-menu.icon","chart-widget-scatter-menu.icon","chart-widget-line-menu.icon"],this._registerIcons()}_registerIcons(){this.CHART_WIDGET_ICONS.forEach((e=>{this._registerIcon(e)}))}_registerIcon(e){const t=this._domSanitizer.bypassSecurityTrustHtml(n(9596)("./"+e+".svg"));this._matIconRegistry.addSvgIconLiteral(e,t)}};aG.ɵfac=function(e){return new(e||aG)(l["ɵɵinject"](i.DomSanitizer),l["ɵɵinject"](St.jv))},aG.ɵmod=l["ɵɵdefineNgModule"]({type:aG}),aG.ɵinj=l["ɵɵdefineInjector"]({providers:[wB,Kz,hB,yB,PN,Cs,qz(xB),qz(EB),qz(IB),qz(SB),qz(MB),qz(DB),qz(PB),qz(TB),qz(kB),st.create({token:$z,mappings:[{predicate:AB,injectable:jB}],default:OB}),zB,Er,kr,{provide:Tr,useClass:iG,multi:!0},BB],imports:[[o.CommonModule,Nz,rB,dB,CB,Ow,B.ot,St.Ps,$p.Tx,MN,$s,rG]]}),aG=(0,a.gn)([(0,r.CrtModule)({viewElements:[nG],requestHandlers:[kN]}),(0,a.w6)("design:paramtypes",[i.DomSanitizer,St.jv])],aG),("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](aG,{declarations:[nG],imports:[o.CommonModule,Nz,rB,dB,CB,Ow,B.ot,St.Ps,$p.Tx,MN,$s,rG],exports:[nG]});var oG=n(38722);let sG=(()=>{class e{constructor(){this.METRIC_MACROS="##__METRIC__##",this.DEFAULT_METRIC_MACROS="{0}"}get metric(){return this._metric?Array.isArray(this._metric)?this._metric:[this._metric]:[]}get template(){var e;return null!==(e=this._template)&&void 0!==e?e:""}get metricMacros(){var e;return null!==(e=this._metricMacros)&&void 0!==e?e:this.DEFAULT_METRIC_MACROS}_splitTemplate(e,t){return ft(e,{searchValue:t,replaceMacros:this.METRIC_MACROS})}_createLine(e,t){return e===this.METRIC_MACROS?t.map(this._createMetricLine):this._createTextLine(e)}_createTextLine(e){return{type:"text",value:e.trim()}}_createMetricLine(e){return{type:"metric",value:e}}setMetric(e){return this._metric=e,this}setTemplate(e){return this._template=e,this}setMetricMacros(e){return this._metricMacros=e,this}build(){return this._splitTemplate(this.template,this.metricMacros).filter(Boolean).map((e=>this._createLine(e,this.metric))).flat()}}return e.ɵfac=function(t){return new(t||e)},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"root"}),e})();function lG(e,t){1&e&&l["ɵɵelement"](0,"div")}const cG=function(e){return{value:e}};function dG(e,t){if(1&e&&l["ɵɵelementContainer"](0,11),2&e){const e=t.$implicit;l["ɵɵnextContext"]();const n=l["ɵɵreference"](7),i=l["ɵɵreference"](9);l["ɵɵproperty"]("ngTemplateOutlet","metric"===e.type?n:i)("ngTemplateOutletContext",l["ɵɵpureFunction1"](2,cG,e.value))}}function uG(e,t){if(1&e&&(l["ɵɵelementStart"](0,"div",12),l["ɵɵtext"](1),l["ɵɵelementEnd"]()),2&e){const e=t.value,n=l["ɵɵnextContext"](2);l["ɵɵstyleProp"]("color",n.metricColor),l["ɵɵproperty"]("ngClass",n.fontSizeCssClass),l["ɵɵadvance"](1),l["ɵɵtextInterpolate"](e)}}function pG(e,t){if(1&e&&(l["ɵɵelementStart"](0,"div",13),l["ɵɵtext"](1),l["ɵɵelementEnd"]()),2&e){const e=t.value,n=l["ɵɵnextContext"](2);l["ɵɵproperty"]("ngClass",n.fontSizeCssClass),l["ɵɵadvance"](1),l["ɵɵtextInterpolate"](e)}}function mG(e,t){if(1&e&&(l["ɵɵelementStart"](0,"div",4),l["ɵɵelementStart"](1,"div",5),l["ɵɵtext"](2),l["ɵɵelementEnd"](),l["ɵɵelementStart"](3,"div",6),l["ɵɵelementStart"](4,"div",7),l["ɵɵtemplate"](5,dG,1,4,"ng-container",8),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵelementEnd"](),l["ɵɵtemplate"](6,uG,2,4,"ng-template",null,9,l["ɵɵtemplateRefExtractor"]),l["ɵɵtemplate"](8,pG,2,2,"ng-template",null,10,l["ɵɵtemplateRefExtractor"])),2&e){const e=l["ɵɵnextContext"]();l["ɵɵadvance"](2),l["ɵɵtextInterpolate"](e.title),l["ɵɵadvance"](3),l["ɵɵproperty"]("ngForOf",e.textLines)}}function hG(e,t){1&e&&l["ɵɵelement"](0,"crt-view-element-placeholder")}let gG=class extends Uz{constructor(e,t,n,i){super(n,i),this._widgetDataProvider=e,this._indicatorTextLinesBuilder=t,this._defaultFontSize="medium",this.title="",this.metricColor=KE,this.indicatorThemeCssClass="",this.background="",this.textLines=[],this.fontSizeCssClass=this._defaultFontSize}set config(e){this.isValidated=Boolean(e&&e.data),this.isValidated&&(this.indicatorWidgetConfig=e,this._loadWidgetData(e))}get config(){return this.indicatorWidgetConfig}_setTextLines(e,t){this._clearSubscriptions(),this._indicatorWidgetConfigSubscription=this._widgetDataProvider.getWidgetData(t).subscribe((t=>{this.buildTextLines(e,t)}))}_hasSectionBindingColumnPath(){var e,t,n;return Boolean(null===(n=null===(t=null===(e=this.indicatorWidgetConfig)||void 0===e?void 0:e.data)||void 0===t?void 0:t.providing)||void 0===n?void 0:n.sectionBindingColumn)}_setTextOptions(e){const{fontSizeMode:t=this._defaultFontSize}=e||{};this.fontSizeCssClass=t}_setTheme(e){const{text:t,layout:n,theme:i=cN.FullFill}=e,r=oN(null==t?void 0:t.color),a=oN(null==n?void 0:n.color);if(i===cN.WithoutFill)return this.indicatorThemeCssClass=cN.WithoutFill,this.background=KE,void(this.metricColor=r.color||a.color);this.indicatorThemeCssClass="";const o=[a.backgroundImage,a.gradientColor];this.background=oG.Z.compact(o).join(","),this.metricColor=r.color||KE}_loadWidgetData(e){var t,n,i,r,a;const o=null===(n=null===(t=e.data)||void 0===t?void 0:t.providing)||void 0===n?void 0:n.sectionBindingColumn;(null==o?void 0:o.path)&&(null==o?void 0:o.rootSchemaPrimaryColumnValue)!==this.sectionBindingRecordId&&(o.rootSchemaPrimaryColumnValue=this.sectionBindingRecordId);const{title:s="",data:l,text:c}=e;this.title=s,this._setTextOptions(c),this._setTheme(e),this.sectionBindingRecordId||null==(null===(a=null===(r=null===(i=null==e?void 0:e.data)||void 0===i?void 0:i.providing)||void 0===r?void 0:r.sectionBindingColumn)||void 0===a?void 0:a.path)?this._setTextLines(c,l):this.buildTextLines(c,"0")}_clearSubscriptions(){this._indicatorWidgetConfigSubscription&&this._indicatorWidgetConfigSubscription.unsubscribe()}buildTextLines(e,t){this.textLines=this._indicatorTextLinesBuilder.setMetric(t).setTemplate(e.template).setMetricMacros(e.metricMacros).build(),this.changeDetectorRef.detectChanges()}setSectionBindingColumnRecordId(e){super.setSectionBindingColumnRecordId(e),(!this._hasSectionBindingColumnPath()||this.hasSectionBindingColumnRecordId()||this.isDesignTimeInjected)&&this._loadWidgetData(this.indicatorWidgetConfig)}ngOnDestroy(){super.ngOnDestroy(),this._clearSubscriptions()}};gG.ɵfac=function(e){return new(e||gG)(l["ɵɵdirectiveInject"](NN),l["ɵɵdirectiveInject"](sG),l["ɵɵdirectiveInject"](l.Injector),l["ɵɵdirectiveInject"](nl,8))},gG.ɵcmp=l["ɵɵdefineComponent"]({type:gG,selectors:[["crt-indicator-widget"]],inputs:{config:"config"},features:[l["ɵɵInheritDefinitionFeature"]],decls:6,vars:6,consts:[[1,"indicator-widget",3,"ngClass"],[4,"ngIf","ngIfThen","ngIfElse"],["view",""],["placeholder",""],[1,"indicator-widget-container"],[1,"indicator-widget-title"],[1,"indicator-widget-value-container"],[1,"indicator-widget-inner-value-container"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngFor","ngForOf"],["indicatorMetric",""],["indicatorText",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"indicator-widget-metric",3,"ngClass"],[1,"indicator-widget-text",3,"ngClass"]],template:function(e,t){if(1&e&&(l["ɵɵelementStart"](0,"div",0),l["ɵɵtemplate"](1,lG,1,0,"div",1),l["ɵɵtemplate"](2,mG,10,2,"ng-template",null,2,l["ɵɵtemplateRefExtractor"]),l["ɵɵtemplate"](4,hG,1,0,"ng-template",null,3,l["ɵɵtemplateRefExtractor"]),l["ɵɵelementEnd"]()),2&e){const e=l["ɵɵreference"](3),n=l["ɵɵreference"](5);l["ɵɵstyleProp"]("background",t.background),l["ɵɵproperty"]("ngClass",t.indicatorThemeCssClass),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",t.isValidated)("ngIfThen",e)("ngIfElse",n)}},directives:[o.NgClass,o.NgIf,o.NgForOf,o.NgTemplateOutlet,Zs],styles:["@keyframes indicator-opacity{0%{opacity:0}to{opacity:1}}.indicator-widget[_ngcontent-%COMP%]{width:100%;height:100%;color:#fff;background-color:#fff;background-size:cover;background-repeat:no-repeat;border-radius:8px;overflow:hidden;font-size:15px;border:1px solid #e6e6e6;box-sizing:border-box}.indicator-widget[_ngcontent-%COMP%]   .indicator-widget-container[_ngcontent-%COMP%]{padding:8px 16px;height:calc(100% - 40px)}.indicator-widget[_ngcontent-%COMP%]   .indicator-widget-container[_ngcontent-%COMP%]   .indicator-widget-title[_ngcontent-%COMP%]{font-size:16px;line-height:19px;height:39px;font-family:Open Sans,Roboto,Helvetica Neue,sans-serif;overflow:hidden;text-overflow:ellipsis;-webkit-line-clamp:2;-webkit-box-orient:vertical}.indicator-widget[_ngcontent-%COMP%]   .indicator-widget-container[_ngcontent-%COMP%]   .indicator-widget-value-container[_ngcontent-%COMP%]{display:table;height:calc(100% - 22px);width:100%}.indicator-widget[_ngcontent-%COMP%]   .indicator-widget-container[_ngcontent-%COMP%]   .indicator-widget-value-container[_ngcontent-%COMP%]   .indicator-widget-inner-value-container[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle;max-width:1px;padding-top:2px}.indicator-widget[_ngcontent-%COMP%]   .indicator-widget-container[_ngcontent-%COMP%]   .indicator-widget-value-container[_ngcontent-%COMP%]   .indicator-widget-inner-value-container[_ngcontent-%COMP%]   .indicator-widget-text[_ngcontent-%COMP%]{font-size:16px;font-family:Open Sans,Roboto,Helvetica Neue,sans-serif;text-overflow:ellipsis;overflow:hidden}.indicator-widget[_ngcontent-%COMP%]   .indicator-widget-container[_ngcontent-%COMP%]   .indicator-widget-value-container[_ngcontent-%COMP%]   .indicator-widget-inner-value-container[_ngcontent-%COMP%]   .indicator-widget-text.large[_ngcontent-%COMP%]{font-size:16px;line-height:16px;padding-bottom:2px}.indicator-widget[_ngcontent-%COMP%]   .indicator-widget-container[_ngcontent-%COMP%]   .indicator-widget-value-container[_ngcontent-%COMP%]   .indicator-widget-inner-value-container[_ngcontent-%COMP%]   .indicator-widget-text.medium[_ngcontent-%COMP%]{font-size:12px;line-height:16px;padding-bottom:1px}.indicator-widget[_ngcontent-%COMP%]   .indicator-widget-container[_ngcontent-%COMP%]   .indicator-widget-value-container[_ngcontent-%COMP%]   .indicator-widget-inner-value-container[_ngcontent-%COMP%]   .indicator-widget-metric[_ngcontent-%COMP%]{font-family:Montserrat,Open Sans,sans-serif;font-weight:600;letter-spacing:1px;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;animation:indicator-opacity 1s normal}.indicator-widget[_ngcontent-%COMP%]   .indicator-widget-container[_ngcontent-%COMP%]   .indicator-widget-value-container[_ngcontent-%COMP%]   .indicator-widget-inner-value-container[_ngcontent-%COMP%]   .indicator-widget-metric.large[_ngcontent-%COMP%]{font-size:66px;line-height:66px}.indicator-widget[_ngcontent-%COMP%]   .indicator-widget-container[_ngcontent-%COMP%]   .indicator-widget-value-container[_ngcontent-%COMP%]   .indicator-widget-inner-value-container[_ngcontent-%COMP%]   .indicator-widget-metric.large[_ngcontent-%COMP%]:first-child{padding-top:17px}.indicator-widget[_ngcontent-%COMP%]   .indicator-widget-container[_ngcontent-%COMP%]   .indicator-widget-value-container[_ngcontent-%COMP%]   .indicator-widget-inner-value-container[_ngcontent-%COMP%]   .indicator-widget-metric.medium[_ngcontent-%COMP%]{font-size:56px;line-height:48px}.indicator-widget[_ngcontent-%COMP%]   .indicator-widget-container[_ngcontent-%COMP%]   .indicator-widget-value-container[_ngcontent-%COMP%]   .indicator-widget-inner-value-container[_ngcontent-%COMP%]   .indicator-widget-metric.medium[_ngcontent-%COMP%]:first-child{padding-top:13px}.indicator-widget.without-fill[_ngcontent-%COMP%]   .indicator-widget-title[_ngcontent-%COMP%]{color:#0d2e4e}.indicator-widget.without-fill[_ngcontent-%COMP%]   .indicator-widget-text[_ngcontent-%COMP%]{color:#757575}"]}),gG=(0,a.gn)([Xs({type:"crt.IndicatorWidget"}),Ks({type:"crt.IndicatorWidget",toolbarConfig:{caption:"CDK.IndicatorWidget.Caption",name:"indicator-widget",icon:n(27146),defaultPropertyValues:{config:{title:"",theme:"full-fill",layout:{color:"green"},text:{template:""}}}},interfaceDesignerPropertiesPanelSchemaName:"InterfaceDesignerIndicatorWidgetPropertiesPanel",propertiesPanelComponentTypeName:"crt.IndicatorWidgetPropertiesPanel"}),(0,a.w6)("design:paramtypes",[NN,sG,l.Injector,Boolean])],gG);let fG=class{};fG.ɵfac=function(e){return new(e||fG)},fG.ɵmod=l["ɵɵdefineNgModule"]({type:fG}),fG.ɵinj=l["ɵɵdefineInjector"]({providers:[Cs,NN],imports:[[o.CommonModule,$s]]}),fG=(0,a.gn)([(0,r.CrtModule)({viewElements:[gG]})],fG),("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](fG,{declarations:[gG],imports:[o.CommonModule,$s],exports:[gG]});var vG=(()=>(function(e){e[e.ByCount=0]="ByCount",e[e.ToFirstStage=1]="ToFirstStage",e[e.StageConversion=2]="StageConversion"}(vG||(vG={})),vG))();let bG=(()=>{class e extends lz{constructor(e){super(e),this._numberFormatter=this.formatterFactory.resolveFormatter({type:"number"})}get pluginId(){return"crt-pipeline-tooltip-plugin"}get customElementName(){return"crt-funnel-widget-tooltip-element"}static _getBackgroundColor(e){var t,n,i;const r=null===(t=null==e?void 0:e.labelColors)||void 0===t?void 0:t[0];return null!==(i=null===(n=r)||void 0===n?void 0:n.backgroundColor)&&void 0!==i?i:r}getTooltipInputModel(t){var n,i;const{chart:r,tooltipModel:a}=t,o=r.config.data.datasets.filter(((e,t)=>r.isDatasetVisible(t))),s=null===(n=a.dataPoints)||void 0===n?void 0:n[0].index,l=[].concat.apply([],null==o?void 0:o.map((e=>e.tooltipData))),c=[].concat.apply([],null==o?void 0:o.map((e=>e.data))),[d]=l.filter(((e,t)=>t===s)).map((t=>{if(t)return t.map((({name:t,value:n})=>{const i=e._getBackgroundColor(a);return{name:t,value:n,progress:CL(n,c),background:GL.helpers.getHoverColor(i)}}))}));return{label:(null!==(i=a.title)&&void 0!==i?i:[]).join(" "),series:d}}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](Zo))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"root"}),e})();const CG=e=>{switch(e){case vG.ByCount:return{slice:vG.ByCount,valueAttributeName:"CountInStage"};case vG.ToFirstStage:return{slice:vG.ToFirstStage,valueAttributeName:"ConversionToFirstStage"};case vG.StageConversion:return{slice:vG.StageConversion,valueAttributeName:"ConversionToStage"};default:throw new Error("Invalid slice type.")}};let yG=(()=>{class e{constructor(e){this._translateService=e}_getStageDataLine(e,t){const n=`CDK.FunnelWidget.OpportunityFunnel.${Object.values(vG)[e]}LabelTemplate`;return this._translateService.instant(n).replace("{0}",parseFloat(t.toFixed(2)))}format(e,t){if(!e)return[];const{valueAttributeName:n}=CG(t);return e.map((({elements:e,stageName:i})=>{var r,a;const o=null!==(a=null===(r=e.find((e=>e.name===n)))||void 0===r?void 0:r.value)&&void 0!==a?a:0;return[`${i}: ${this._getStageDataLine(t,o)}`]}))}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](u.sK))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})();const wG=e=>{switch(e){case vG.ByCount:return["CountInStage","Amount"];case vG.ToFirstStage:return["ConversionToFirstStage","ConversionToFirstStageCount"];case vG.StageConversion:return["ConversionToStage","ConversionToStageCount"];default:throw new Error("Invalid slice type.")}};let _G=(()=>{class e{constructor(){this.COUNT_STAGE_COLUMN_NAME="CountInStage",this.CONVERSION_STAGE_COUNT_COLUMN_NAME="ConversionToStageCount",this.CONVERSION_FIRST_STAGE_COUNT_COLUMN_NAME="ConversionToFirstStageCount"}static _sortSlicesData(e,t,n){return e.name===n?-1:t.name===n?1:0}_getCountColumnNameBySliceType(e){switch(e){case vG.ByCount:return this.COUNT_STAGE_COLUMN_NAME;case vG.ToFirstStage:return this.CONVERSION_FIRST_STAGE_COUNT_COLUMN_NAME;case vG.StageConversion:return this.CONVERSION_STAGE_COUNT_COLUMN_NAME;default:throw new Error(`Slice type ${e} is not supported.`)}}_enrichSeriesData(e,t){const n=e.map((e=>e.name)),i=wG(t).filter((e=>!n.includes(e)));return i.length>0&&i.forEach((t=>{e.push({name:t,value:0})})),e}prepareSeriesData(t,n){const i=this._getCountColumnNameBySliceType(n),r=t.elements.filter((e=>wG(n).includes(e.name)));return t.elements=this._enrichSeriesData(r,n).sort(((t,n)=>e._sortSlicesData(t,n,i))),t}}return e.ɵfac=function(t){return new(t||e)},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})(),xG=(()=>{class e{constructor(e,t){this._httpClient=e,this._sliceDataService=t,this._serviceUri="/rest/FullPipelineService/GetAllSlicesFullPipelineData"}_getSliceDataByType(e,t){const n=e.find((({type:e})=>e===t));if(!n)throw new Error("Invalid slice type.");return n.data.map((e=>this._sliceDataService.prepareSeriesData(e,t)))}_findStageElementsByStageId(e,t){const n=e.find((({stageId:e})=>e===t));return n?n.elements:null}_joinCollectionsByStageId(e,t,n){return e.map(((e,i)=>n({stageInfo:e,stageElements:this._findStageElementsByStageId(t,e.id)},i)))}_prepareRequestBody(e,{startDate:t,dueDate:n},i){return{pipelineConfig:{entities:e.map((e=>{var r;let a;if(e.filters&&(a=Object.assign({},e.filters),a.items=Object.assign({},null===(r=e.filters)||void 0===r?void 0:r.items),i&&(null==i?void 0:i.path))){const e=this._buildSectionBindingColumnFilter(i);a.items[e.key]=e.value}return Object.assign(Object.assign({},e),{filters:JSON.stringify((0,EF.ZE)(a,{exposeUnsetFields:!1,excludePrefixes:["_"]})),startDate:t,dueDate:n})}))}}}_buildSectionBindingColumnFilter(e){const t={Id:e.rootSchemaPrimaryColumnValue,value:e.rootSchemaPrimaryColumnValue},n=new r.ColumnExpression({columnPath:e.path}),i=new r.InFilter(r.ComparisonType.Equal,n,[]),a={expressionType:r.ExpressionType.Parameter,parameter:{dataValueType:r.DataValueType.Lookup,value:t}};i.rightExpressions.push(a);const o=new r.FilterGroup(r.LogicalOperatorType.And);o.add(i);const s=o.filters.entries().next().value;return{key:s[0],value:s[1]}}_checkIfFunnelDataRequestNeeded(e){var t;const n=Boolean(!this._sectionBindingColumnId&&(null===(t=e.sectionBindingColumn)||void 0===t?void 0:t.rootSchemaPrimaryColumnValue));return!this._funnelDataObservable$||!this._funnelEntities||e.funnelEntities!==this._funnelEntities||n||Boolean(this._sectionBindingColumnId)}_fetchFunnelData(e){const t=this._prepareRequestBody(e.funnelEntities,e.periodFilter,e.sectionBindingColumn);return this._httpClient.post(this._serviceUri,t).pipe((0,En.b)((({success:e,errorInfo:t})=>{if(!e)throw new Error(t.message)})),(0,Ul.d)(1))}_prepareFunnelDataItems(e){return this._funnelDataObservable$.pipe((0,g.U)((({info:{slices:t,stagesInfo:n}})=>{const i=this._getSliceDataByType(t,e);return this._joinCollectionsByStageId(n,i,(({stageInfo:e,stageElements:t})=>({schemaName:e.schemaName,stageName:e.displayValue,elements:t})))})))}getFunnelData(e){var t;return r.ValidationUtilities.checkArgumentEmpty("config",e),this._checkIfFunnelDataRequestNeeded(e)&&(this._funnelEntities=e.funnelEntities,this._sectionBindingColumnId=null===(t=e.sectionBindingColumn)||void 0===t?void 0:t.rootSchemaPrimaryColumnValue,this._funnelDataObservable$=this._fetchFunnelData(e)),this._prepareFunnelDataItems(e.funnelSliceType)}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](s.HttpClient),l["ɵɵinject"](_G))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})(),IG=(()=>{class e{static _getWidgetColors(e){if(e<=5)return[QE.LightBlue,QE.DarkGreen,QE.Orange,QE.OrangeRed,QE.BrightRed];switch(e){case 6:return[QE.LightBlue,QE.CelestialBlue,QE.DarkGreen,QE.Orange,QE.OrangeRed,QE.BrightRed];case 7:return[QE.LightBlue,QE.CelestialBlue,QE.DarkGreen,QE.Green,QE.Orange,QE.OrangeRed,QE.BrightRed];case 8:return[QE.LightBlue,QE.CelestialBlue,QE.DarkGreen,QE.Green,QE.Orange,QE.OrangeRed,QE.BrightRed,QE.Red];case 9:return[QE.LightBlue,QE.CelestialBlue,QE.Blue,QE.DarkGreen,QE.Green,QE.Orange,QE.OrangeRed,QE.BrightRed,QE.Red];case 10:return[QE.LightBlue,QE.CelestialBlue,QE.Blue,QE.DarkGreen,QE.Green,QE.LightGreen,QE.Orange,QE.OrangeRed,QE.BrightRed,QE.Red];case 11:return[QE.LightBlue,QE.CelestialBlue,QE.Blue,QE.DarkGreen,QE.Green,QE.LightGreen,QE.Orange,QE.OrangeRed,QE.BrightRed,QE.Red,QE.Coral];case 12:return[QE.LightBlue,QE.CelestialBlue,QE.Blue,QE.DarkGreen,QE.Green,QE.LightGreen,QE.Orange,QE.OrangeRed,QE.BrightRed,QE.Red,QE.Coral,QE.DarkTurquoise];case 13:return[QE.LightBlue,QE.CelestialBlue,QE.Blue,QE.DarkGreen,QE.Green,QE.LightGreen,QE.Orange,QE.OrangeRed,QE.BrightRed,QE.Red,QE.Coral,QE.DarkTurquoise,QE.Turquoise];case 14:return[QE.LightBlue,QE.CelestialBlue,QE.Blue,QE.DarkGreen,QE.Green,QE.LightGreen,QE.Orange,QE.OrangeRed,QE.BrightRed,QE.Red,QE.Coral,QE.DarkTurquoise,QE.Turquoise,QE.Purple];case 15:return[QE.LightBlue,QE.CelestialBlue,QE.Blue,QE.DarkGreen,QE.Green,QE.LightGreen,QE.Orange,QE.OrangeRed,QE.BrightRed,QE.Red,QE.Coral,QE.DarkTurquoise,QE.Turquoise,QE.Purple,QE.Violet];default:return[QE.LightBlue,QE.CelestialBlue,QE.Blue,QE.DarkGreen,QE.Green,QE.LightGreen,QE.Orange,QE.OrangeRed,QE.BrightRed,QE.Red,QE.Coral,QE.DarkTurquoise,QE.Turquoise,QE.Purple,QE.Violet,QE.NavyBlue]}}getColors(t){const n=t.length;return e._getWidgetColors(n).slice(0,n)}}return e.ɵfac=function(t){return new(t||e)},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})();var SG=n(50729);const MG=QE.LightBlue,DG=new Map([["Lead",QE.LightBlue],["Opportunity",QE.Green]]);let PG=(()=>{class e extends IG{getColors(e){const t=[],n=(0,SG.Z)(e,(e=>e.schemaName));return Object.keys(n).forEach((e=>{n[e].forEach(((n,i)=>{const r=sN(aN(DG.get(e)||MG).color,-2048*i);t.push(r)}))})),t}}return e.ɵfac=function(){let t;return function(n){return(t||(t=l["ɵɵgetInheritedFactory"](e)))(n||e)}}(),e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})(),TG=(()=>{class e{constructor(){this._minHeight=.2}transform(e,t){const n=e.map((e=>e.elements)),{valueAttributeName:i}=CG(t),r=n.map((e=>e.find((e=>e.name===i)))),a=r.reduce(((e,{value:t})=>e+t),0)||1;return r.map((({value:e})=>e/a<=this._minHeight?this._minHeight*a:e))}}return e.ɵfac=function(t){return new(t||e)},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})(),kG=(()=>{class e{constructor(e,t,n){this._currencyService=e,this._translateService=t,this._numberFormatter=n}static _getFormatSettings(e,t){return Number.isInteger(t)?Object.assign(Object.assign({},e),{decimalPrecision:0}):e}_getFormattedValue(t){const n=e._getFormatSettings({type:"number",decimalPrecision:2},t);return this._numberFormatter.format(t.toString(),n)}_getLocalizableData(e,t,n){const i=this._translateService.instant(`CDK.FunnelWidget.Tooltip.${e}Value`),r=this._translateService.instant(`CDK.FunnelWidget.Tooltip.${e}`),a=this._getFormattedValue(t);return{name:r,value:ur.String.Format(i,a,null!=n?n:"")}}prepareTooltipData(e){return this._currencyService.getPrimaryCurrencyInfo().pipe((0,g.U)((t=>e.map((e=>e.map((e=>this._getLocalizableData(e.name,e.value,null==t?void 0:t.Symbol))))))))}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](_s),l["ɵɵinject"](u.sK),l["ɵɵinject"](Vo))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})(),EG=(()=>{class e{constructor(e,t,n,i,r){this._dataProvider=e,this._dataFormatter=t,this._colorsProvider=n,this._dataTransformer=i,this._tooltipData=r}prepareFunnelChartConfiguration(e,t){let n;return r.ValidationUtilities.checkArgumentEmpty("request",e),r.ValidationUtilities.checkArgumentEmpty("funnelAppearanceConfig",t),this._dataProvider.getFunnelData(e).pipe((0,En.b)((e=>{n=e})),(0,hO.b)((e=>{const t=e.map((e=>e.elements));return this._tooltipData.prepareTooltipData(t)})),(0,g.U)((i=>{const r=this._dataTransformer.transform(n,e.funnelSliceType),a=this._dataFormatter.format(n,e.funnelSliceType),o=this._colorsProvider.getColors(n);return{series:[{type:dN.Funnel,color:t.color,dataSet:{data:r},label:null,legend:null,colors:o,tooltipData:i}],labels:a}})))}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](xG),l["ɵɵinject"](yG),l["ɵɵinject"](IG),l["ɵɵinject"](TG),l["ɵɵinject"](kG))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})(),NG=(()=>{class e{constructor(e){this._entitySchemaService=e}getFunnelLegendData(e){const t=null==e?void 0:e.entities.map((e=>this._entitySchemaService.getEntitySchemaByName(e.schemaName)));return(0,h.forkJoin)(t).pipe((0,g.U)((e=>({items:e.map((e=>{const t=e.entitySchema,n=aN(DG.get(t.name)||MG);return{title:t.caption.toString(),color:n.color}}))}))))}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](ta))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})();function OG(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵelementStart"](0,"button",9),l["ɵɵlistener"]("click",(function(){l["ɵɵrestoreView"](e);const t=l["ɵɵnextContext"]().$implicit;return l["ɵɵnextContext"](2).changeFunnelType(t.type)})),l["ɵɵtext"](1),l["ɵɵpipe"](2,"translate"),l["ɵɵelementEnd"]()}if(2&e){const e=l["ɵɵnextContext"]().$implicit;l["ɵɵadvance"](1),l["ɵɵtextInterpolate1"](" ",l["ɵɵpipeBind1"](2,1,e.label)," ")}}function jG(e,t){if(1&e){const e=l["ɵɵgetCurrentView"]();l["ɵɵelementStart"](0,"button",10),l["ɵɵlistener"]("click",(function(){l["ɵɵrestoreView"](e);const t=l["ɵɵnextContext"]().$implicit;return l["ɵɵnextContext"](2).changeFunnelType(t.type)})),l["ɵɵtext"](1),l["ɵɵpipe"](2,"translate"),l["ɵɵelementEnd"]()}if(2&e){const e=l["ɵɵnextContext"]().$implicit;l["ɵɵadvance"](1),l["ɵɵtextInterpolate1"](" ",l["ɵɵpipeBind1"](2,1,e.label)," ")}}function AG(e,t){if(1&e&&(l["ɵɵelementContainerStart"](0),l["ɵɵtemplate"](1,OG,3,3,"button",7),l["ɵɵtemplate"](2,jG,3,3,"ng-template",null,8,l["ɵɵtemplateRefExtractor"]),l["ɵɵelementContainerEnd"]()),2&e){const e=t.$implicit,n=l["ɵɵreference"](3),i=l["ɵɵnextContext"](2);l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",i.selectedFunnelType===e.type)("ngIfElse",n)}}function RG(e,t){if(1&e&&(l["ɵɵelementContainerStart"](0),l["ɵɵtemplate"](1,AG,4,2,"ng-container",6),l["ɵɵelementContainerEnd"]()),2&e){const e=l["ɵɵnextContext"]();l["ɵɵadvance"](1),l["ɵɵproperty"]("ngForOf",e.funnelTypeList)}}let FG=class extends Uz{constructor(e,t){super(e,t),this.selectedFunnelType=vG.ByCount,this.funnelTypeList=[{label:"CDK.FunnelWidget.OpportunityFunnel.ByCountBtnLabel",type:vG.ByCount},{label:"CDK.FunnelWidget.OpportunityFunnel.StageConversionBtnLabel",type:vG.StageConversion},{label:"CDK.FunnelWidget.OpportunityFunnel.ToFirstStageBtnLabel",type:vG.ToFirstStage}],this._funnelWidgetService=this.injector.get(EG),this._changeDetectorRef=this.injector.get(l.ChangeDetectorRef)}set config(e){e&&(this._clearSubscriptions(),this._funnelWidgetConfig=e,(!this._hasSectionBindingColumnSetting()||this.hasSectionBindingColumnRecordId()||this.isDesignTime||this.isDesignTimeInjected)&&this._createFunnelConfig())}get config(){return this._funnelWidgetConfig}_clearSubscriptions(){var e;null===(e=this._funnelWidgetConfigSubscription)||void 0===e||e.unsubscribe()}_hasSectionBindingColumnSetting(){var e;return null===(e=this._funnelWidgetConfig.sectionBindingColumn)||void 0===e?void 0:e.path}_createFunnelConfig(){const e={funnelEntities:this._funnelWidgetConfig.entities,periodFilter:{startDate:null,dueDate:null},funnelSliceType:this.selectedFunnelType},t={color:this._funnelWidgetConfig.color};if(this._hasSectionBindingColumnSetting()&&this.hasSectionBindingColumnRecordId()){const t=this._funnelWidgetConfig.sectionBindingColumn;t.rootSchemaPrimaryColumnValue=this.sectionBindingRecordId,e.sectionBindingColumn=t}this._funnelWidgetConfigSubscription=this._funnelWidgetService.prepareFunnelChartConfiguration(e,t).subscribe({next:e=>{this.funnelConfig=e,this._changeDetectorRef.detectChanges()}})}setSectionBindingColumnRecordId(e){super.setSectionBindingColumnRecordId(e),(!this._hasSectionBindingColumnSetting()||this.hasSectionBindingColumnRecordId()||this.isDesignTime||this.isDesignTimeInjected)&&this._createFunnelConfig()}ngOnDestroy(){super.ngOnDestroy(),this._clearSubscriptions()}changeFunnelType(e){this.selectedFunnelType=e,this._funnelWidgetConfig&&this._createFunnelConfig()}};function VG(e,t){if(1&e&&l["ɵɵelement"](0,"crt-full-pipeline-widget-legend",3),2&e){const e=l["ɵɵnextContext"]();l["ɵɵproperty"]("config",e.legendConfig)}}FG.ɵfac=function(e){return new(e||FG)(l["ɵɵdirectiveInject"](l.Injector),l["ɵɵdirectiveInject"](nl,8))},FG.ɵcmp=l["ɵɵdefineComponent"]({type:FG,selectors:[["crt-funnel-widget"]],inputs:{funnelTypeList:"funnelTypeList",isDesignTime:"isDesignTime",config:"config"},features:[l["ɵɵProvidersFeature"]([uz([{predicate:"tsfunnel",injectable:bG}]),{provide:fz,useClass:yz}]),l["ɵɵInheritDefinitionFeature"]],decls:6,vars:3,consts:[[1,"funnel-widget-wrapper"],[3,"widgetConfig"],[1,"buttons"],[4,"ngIf"],[1,"chart"],[3,"config"],[4,"ngFor","ngForOf"],["mat-flat-button","","color","primary","class","funnel-btn",3,"click",4,"ngIf","ngIfElse"],["matButton",""],["mat-flat-button","","color","primary",1,"funnel-btn",3,"click"],["mat-button","",1,"funnel-btn",3,"click"]],template:function(e,t){1&e&&(l["ɵɵelementStart"](0,"div",0),l["ɵɵelement"](1,"crt-widget-header",1),l["ɵɵelementStart"](2,"div",2),l["ɵɵtemplate"](3,RG,2,1,"ng-container",3),l["ɵɵelementEnd"](),l["ɵɵelementStart"](4,"div",4),l["ɵɵelement"](5,"ts-chart",5),l["ɵɵelementEnd"](),l["ɵɵelementEnd"]()),2&e&&(l["ɵɵadvance"](1),l["ɵɵproperty"]("widgetConfig",t.config),l["ɵɵadvance"](2),l["ɵɵproperty"]("ngIf",t.funnelConfig),l["ɵɵadvance"](2),l["ɵɵproperty"]("config",t.funnelConfig))},directives:[yN,o.NgIf,_z,o.NgForOf,B.lW],pipes:[u.X$],styles:[".funnel-widget-wrapper{width:100%;height:100%;font-family:Open Sans,Roboto,Helvetica Neue,sans-serif;border-radius:8px;background-color:#fff;border:1px solid #e6e6e6;overflow:hidden;box-sizing:border-box}.funnel-widget-wrapper .buttons{display:grid;grid-template-columns:auto auto auto;justify-content:center;align-items:center;border-radius:8px;background-color:#fff;margin-top:-8px;height:50px;padding:0 4px}.funnel-widget-wrapper .buttons .funnel-btn{padding:0 12px;margin-top:28px;font-size:13px;min-width:0}.funnel-widget-wrapper .buttons .funnel-btn .mat-button-wrapper{display:block;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.funnel-widget-wrapper .chart{height:calc(100% - 50px - 46px + 8px)}"],encapsulation:2}),FG=(0,a.gn)([Xs({type:"crt.FunnelWidget"}),Ks({type:"crt.FunnelWidget",toolbarConfig:{caption:"CDK.FunnelWidget.OpportunityFunnel.Caption",name:"funnel-widget",icon:n(17185),defaultPropertyValues:{config:{entities:[{schemaName:"Opportunity",calculatedOperations:[{operation:"Amount",targetColumnName:"Budget"}],connectedWith:null}],title:"",color:QE.Blue,theme:"full-fill"}},defaultLocalizableStrings:{config:{title:"CDK.FunnelWidget.OpportunityFunnel.DefaultTitle"}}},interfaceDesignerPropertiesPanelSchemaName:"InterfaceDesignerFunnelWidgetPropertiesPanel",propertiesPanelComponentTypeName:"crt.FunnelWidgetPropertiesPanel"}),(0,a.w6)("design:paramtypes",[l.Injector,Boolean])],FG);let LG=class extends Us{constructor(e,t,n){super(n),this._funnelLegendDataProviderService=e,this._changeDetector=t,this.isLegendVisible=!0,this.funnelTypeList=[{label:"CDK.FunnelWidget.FullPipelineFunnel.ByCountBtnLabel",type:vG.ByCount},{label:"CDK.FunnelWidget.FullPipelineFunnel.StageConversionBtnLabel",type:vG.StageConversion},{label:"CDK.FunnelWidget.FullPipelineFunnel.ToFirstStageBtnLabel",type:vG.ToFirstStage}]}set config(e){this._config=e,this._setLegendConfig(e)}get config(){return this._config}_setLegendConfig(e){this._funnelLegendDataProviderService.getFunnelLegendData(e).subscribe((e=>this.legendConfig=e))}onWidgetResize(e){const t=e.contentRect;this.isLegendVisible=t.height>150&&t.width>200,this._changeDetector.detectChanges()}};LG.ɵfac=function(e){return new(e||LG)(l["ɵɵdirectiveInject"](NG),l["ɵɵdirectiveInject"](l.ChangeDetectorRef),l["ɵɵdirectiveInject"](l.Injector))},LG.ɵcmp=l["ɵɵdefineComponent"]({type:LG,selectors:[["crt-full-pipeline-widget"]],inputs:{config:"config"},features:[l["ɵɵProvidersFeature"]([{provide:IG,useClass:PG},EG,NG]),l["ɵɵInheritDefinitionFeature"]],decls:3,vars:3,consts:[["crtResizeObserver","",3,"funnelTypeList","config","resized"],[1,"legend-wrapper"],[3,"config",4,"ngIf"],[3,"config"]],template:function(e,t){1&e&&(l["ɵɵelementStart"](0,"crt-funnel-widget",0),l["ɵɵlistener"]("resized",(function(e){return t.onWidgetResize(e)})),l["ɵɵelementEnd"](),l["ɵɵelementStart"](1,"div",1),l["ɵɵtemplate"](2,VG,1,1,"crt-full-pipeline-widget-legend",2),l["ɵɵelementEnd"]()),2&e&&(l["ɵɵproperty"]("funnelTypeList",t.funnelTypeList)("config",t.config),l["ɵɵadvance"](2),l["ɵɵproperty"]("ngIf",t.isLegendVisible&&t.legendConfig))},styles:["[_nghost-%COMP%]{display:block;width:100%;height:100%;position:relative;overflow:hidden}.legend-wrapper[_ngcontent-%COMP%]{position:relative}.legend-wrapper[_ngcontent-%COMP%]   crt-full-pipeline-widget-legend[_ngcontent-%COMP%]{position:absolute;bottom:30px;right:30px}"]}),LG=(0,a.gn)([Xs({type:"crt.FullPipelineWidget"}),Ks({type:"crt.FullPipelineWidget",toolbarConfig:{caption:"CDK.FunnelWidget.FullPipelineFunnel.Caption",name:"full-pipeline-funnel-widget",icon:n(39582),defaultPropertyValues:{config:{entities:[{schemaName:"Lead",calculatedOperations:[{operation:"Amount",targetColumnName:"Budget"}],connectedWith:null},{schemaName:"Opportunity",calculatedOperations:[{operation:"Amount",targetColumnName:"Budget"}],connectedWith:{childSchemaColumnName:"Id",connectionSchemaName:"Lead",parentSchemaColumnName:"Opportunity",schemaName:"Lead",type:0}}],title:"",color:QE.Blue,theme:"full-fill"}},defaultLocalizableStrings:{config:{title:"CDK.FunnelWidget.FullPipelineFunnel.DefaultTitle"}}},interfaceDesignerPropertiesPanelSchemaName:"InterfaceDesignerFullPipelineWidgetPropertiesPanel",propertiesPanelComponentTypeName:"crt.FullPipelineWidgetPropertiesPanel"}),(0,a.w6)("design:paramtypes",[NG,l.ChangeDetectorRef,l.Injector])],LG);const zG=function(e){return{rtl:e}};function BG(e,t){if(1&e&&(l["ɵɵelementStart"](0,"div",3),l["ɵɵelementStart"](1,"span",4),l["ɵɵtext"](2),l["ɵɵelementEnd"](),l["ɵɵelement"](3,"span",5),l["ɵɵelementEnd"]()),2&e){const e=t.$implicit,n=l["ɵɵnextContext"](2);l["ɵɵproperty"]("ngClass",l["ɵɵpureFunction1"](3,zG,n.isRtl())),l["ɵɵadvance"](2),l["ɵɵtextInterpolate"](e.name),l["ɵɵadvance"](1),l["ɵɵproperty"]("innerHTML",e.value,l["ɵɵsanitizeHtml"])}}function GG(e,t){if(1&e&&(l["ɵɵelementStart"](0,"div",1),l["ɵɵtemplate"](1,BG,4,5,"div",2),l["ɵɵelementEnd"]()),2&e){const e=l["ɵɵnextContext"]();l["ɵɵstyleProp"]("border-color",e.tooltipColor),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngForOf",e.tooltipSeries)}}let HG=(()=>{class e{constructor(e){this._directionality=e}set config(e){switch(typeof e){case"object":this._tooltipConfig=e;break;case"string":this._tooltipConfig=JSON.parse(e);break;default:this._tooltipConfig=null}this._initDefaultValues()}_initDefaultValues(){var e;const t=null===(e=this._tooltipConfig)||void 0===e?void 0:e.series;this.tooltipColor=t?t[0].background:null,this.tooltipSeries=null==t?void 0:t.map((e=>({name:e.name,value:e.value})))}isRtl(){return"rtl"===this._directionality.value}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](en.Is))},e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["crt-funnel-widget-tooltip"]],inputs:{config:"config"},decls:1,vars:1,consts:[["class","funnel-widget-tooltip",3,"border-color",4,"ngIf"],[1,"funnel-widget-tooltip"],["class","funnel-widget-tooltip-item",3,"ngClass",4,"ngFor","ngForOf"],[1,"funnel-widget-tooltip-item",3,"ngClass"],[1,"title"],[1,"value",3,"innerHTML"]],template:function(e,t){1&e&&l["ɵɵtemplate"](0,GG,2,3,"div",0),2&e&&l["ɵɵproperty"]("ngIf",t.tooltipSeries)},directives:[o.NgIf,o.NgForOf,o.NgClass],styles:[".funnel-widget-tooltip{background-color:#fff;border-style:solid;border-width:1px;border-radius:4px;box-shadow:0 3px 6px #00000029;display:grid;grid-gap:8px;min-width:112px;padding:8px 12px}.funnel-widget-tooltip .funnel-widget-tooltip-item{display:flex;justify-content:space-between;flex-flow:nowrap}.funnel-widget-tooltip .funnel-widget-tooltip-item.rtl .title{margin:0 0 0 32px}.funnel-widget-tooltip .funnel-widget-tooltip-item .title{color:#757575;font:normal normal 10px/15px Open Sans,Regular,sans-serif;letter-spacing:0;margin:0 32px 0 0}.funnel-widget-tooltip .funnel-widget-tooltip-item .value{color:#0d2e4e;font:normal 600 12px/15px Montserrat,sans-serif;letter-spacing:1.3px;white-space:nowrap}"],encapsulation:3,changeDetection:0}),e})();function UG(e,t){if(1&e&&(l["ɵɵelementStart"](0,"div",2),l["ɵɵelement"](1,"div",3),l["ɵɵelementStart"](2,"div",4),l["ɵɵtext"](3),l["ɵɵelementEnd"](),l["ɵɵelementEnd"]()),2&e){const e=t.$implicit;l["ɵɵadvance"](1),l["ɵɵstyleProp"]("background-color",e.color),l["ɵɵadvance"](2),l["ɵɵtextInterpolate"](e.title)}}let ZG=(()=>{class e{}return e.ɵfac=function(t){return new(t||e)},e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["crt-full-pipeline-widget-legend"]],inputs:{config:"config"},decls:2,vars:1,consts:[[1,"funnel-legend"],["class","legend-item",4,"ngFor","ngForOf"],[1,"legend-item"],[1,"legend-item-color"],[1,"legend-item-title"]],template:function(e,t){1&e&&(l["ɵɵelementStart"](0,"div",0),l["ɵɵtemplate"](1,UG,4,3,"div",1),l["ɵɵelementEnd"]()),2&e&&(l["ɵɵadvance"](1),l["ɵɵproperty"]("ngForOf",null==t.config?null:t.config.items))},directives:[o.NgForOf],styles:[".funnel-legend{padding:8px;box-shadow:0 3px 6px #00000029;border:1px solid #006ce0;border-radius:4px;max-width:250px;background-color:#fff}.funnel-legend .legend-item{display:flex;align-items:center}.funnel-legend .legend-item .legend-item-color{width:8px;height:8px;border-radius:4px;display:table}.funnel-legend .legend-item .legend-item-title{padding:0 8px;color:#757575;font-size:10px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-family:Open Sans,Bpmonline Open Sans,sans-serif}"],encapsulation:2}),e})(),$G=class{constructor(e){e.defineComponent("crt-funnel-widget-tooltip-element",HG)}};$G.ɵfac=function(e){return new(e||$G)(l["ɵɵinject"](Ja))},$G.ɵmod=l["ɵɵdefineNgModule"]({type:$G}),$G.ɵinj=l["ɵɵdefineInjector"]({providers:[EG,_G,kG,xG,yG,TG,IG],imports:[[o.CommonModule,Nz,Cy,u.aw,B.ot,MN]]}),$G=(0,a.gn)([(0,r.CrtModule)({viewElements:[FG,LG]}),(0,a.w6)("design:paramtypes",[Ja])],$G),("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"]($G,{declarations:[FG,LG,ZG,DN,HG,ZG],imports:[o.CommonModule,Nz,Cy,u.aw,B.ot,MN],exports:[FG,LG,HG,ZG]}),l["ɵɵsetComponentScope"](LG,[FG,DN,o.NgIf,ZG],[]);var WG=n(97242);const qG=["containerRef"];let YG=(()=>{class e{constructor(e){this._numberFormatUtil=e,this._thresholds={0:{color:"1197F1"}},this._markers={},this._maxNotResizebleValueLenght=5,this._largeWidgetSizeStartsFrom=250,this._largeWidgetSizeDivideCoef=100,this._smallWidgetSizeDivideCoef=75,this._fontSizeMaxCoef=.22,this._fontSizeMinCoef=.06,this.ariaMin=0,this.ariaMax=0,this.gaugeAriaValue=0,this.thresholdGap=.4,this.type="arch",this.value=0,this.margin=25,this.min=0,this.max=100,this.ariaLabel="",this.thick={percentage:3.5},this.shiftValue=0,this.size=200}set thresholds(e){this._thresholds=e,this.size+=1e-8}get thresholds(){return this._thresholds}set markers(e){this._markers=e,this.size+=1e-8}get markers(){return this._markers}get color(){var e;const t=Object.keys(this._thresholds);if(t){const n=t.filter((e=>Number(e)<=this.value)).reverse()[0];return null===(e=this._thresholds[n])||void 0===e?void 0:e.color}}_setLabels(e=!1){var t;const n=this.color;n&&(null===(t=this._elementRef)||void 0===t?void 0:t.nativeElement)&&(this._elementRef.nativeElement.style.color=n);const i=this._getLabelElement();if(i){if(e){const e=this.shiftValue<0?this.value-Math.abs(this.shiftValue):this.value+this.shiftValue;i.innerHTML=this._numberFormatUtil.formatNumberValue(e)}this._setFontSize()}}_getLabelElement(){var e,t,n;const i=null===(n=null===(t=null===(e=this._elementsRef)||void 0===e?void 0:e.first)||void 0===t?void 0:t.nativeElement)||void 0===n?void 0:n.getElementsByClassName("reading-block");return i&&i.length?i[0]:null}_setFontSize(){const e=this._getLabelElement();if(!e)return;const t=this._numberFormatUtil.formatNumberValue(this.value+this.shiftValue).toString(),n=this.size>this._largeWidgetSizeStartsFrom?this._largeWidgetSizeDivideCoef:this._smallWidgetSizeDivideCoef,i=t.length>this._maxNotResizebleValueLenght?this._fontSizeMaxCoef-t.length/n:this._fontSizeMaxCoef,r=Math.max(i,this._fontSizeMinCoef);e.style.fontSize=(this.size-2*this.margin)*r+"px",e.style.transform=`translateY(${this.size/2-this.size*r/2}px)`}onResized(e){let t=0;t=Math.min(null==e?void 0:e.height,null==e?void 0:e.width);let n=Math.min(t,100)/10;n=Math.max(n,30),Math.abs(t-this.size)>n&&(this.size=t+this.margin),this._setFontSize()}ngOnChanges(e){const t=Boolean(e.value||!e.shiftValue&&0!==this.shiftValue&&this.value!==this.shiftValue);this._setLabels(t),this.ariaMin=this.min+this.shiftValue,this.ariaMax=this.max+this.shiftValue,this.gaugeAriaValue=this.value+this.shiftValue}ngAfterViewChecked(){this._setLabels()}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](ja))},e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["crt-gauge-chart"]],viewQuery:function(e,t){if(1&e&&(l["ɵɵviewQuery"](qG,5),l["ɵɵviewQuery"](qG,5)),2&e){let e;l["ɵɵqueryRefresh"](e=l["ɵɵloadQuery"]())&&(t._elementRef=e.first),l["ɵɵqueryRefresh"](e=l["ɵɵloadQuery"]())&&(t._elementsRef=e)}},inputs:{type:"type",value:"value",margin:"margin",min:"min",max:"max",ariaLabel:"ariaLabel",thick:"thick",prependText:"prependText",appendText:"appendText",label:"label",shiftValue:"shiftValue",size:"size",thresholds:"thresholds",markers:"markers"},features:[l["ɵɵNgOnChangesFeature"]],decls:4,vars:16,consts:[["crtResizable","",1,"gauge-container-wrapper",3,"resized"],["role","slider","tabIndex","0",1,"gauge-container"],["containerRef",""],["margin","auto",3,"type","value","min","max","prepend","append","label","thick","size","markers","thresholds","thresholdGap"]],template:function(e,t){1&e&&(l["ɵɵelementStart"](0,"div",0),l["ɵɵlistener"]("resized",(function(e){return t.onResized(e)})),l["ɵɵelementStart"](1,"div",1,2),l["ɵɵelement"](3,"ngx-gauge",3),l["ɵɵelementEnd"](),l["ɵɵelementEnd"]()),2&e&&(l["ɵɵadvance"](1),l["ɵɵattribute"]("aria-valuemin",t.ariaMin)("aria-valuemax",t.ariaMax)("aria-valuenow",t.gaugeAriaValue)("aria-label",t.ariaLabel),l["ɵɵadvance"](2),l["ɵɵproperty"]("type",t.type)("value",t.value)("min",t.min)("max",t.max)("prepend",t.prependText)("append",t.appendText)("label",t.label)("thick",t.thick)("size",t.size)("markers",t.markers)("thresholds",t.thresholds)("thresholdGap",t.thresholdGap))},directives:[An,WG.EO],styles:[".gauge-container-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100%;width:100%;margin-top:-8px}.gauge-container-wrapper[_ngcontent-%COMP%]   .gauge-container[_ngcontent-%COMP%]{animation:fadein .7s ease 1 alternate}@keyframes fadein{0%{opacity:0}to{opacity:1}}.gauge-container-wrapper[_ngcontent-%COMP%]   .gauge-container[_ngcontent-%COMP%]   .ngx-gauge-meter[_ngcontent-%COMP%]   .reading-affix[_ngcontent-%COMP%], .gauge-container-wrapper[_ngcontent-%COMP%]   .gauge-container[_ngcontent-%COMP%]   .ngx-gauge-meter[_ngcontent-%COMP%]   .reading-block[_ngcontent-%COMP%]{color:inherit}"]}),e})(),JG=(()=>{class e{}return e.ɵfac=function(t){return new(t||e)},e.ɵmod=l["ɵɵdefineNgModule"]({type:e}),e.ɵinj=l["ɵɵdefineInjector"]({imports:[[o.CommonModule,WG.ez,Rn]]}),e})();function QG(e,t){1&e&&l["ɵɵelement"](0,"div")}function KG(e,t){if(1&e&&(l["ɵɵelement"](0,"crt-widget-header",4),l["ɵɵelementStart"](1,"div",5),l["ɵɵelement"](2,"crt-gauge-chart",6,7),l["ɵɵelementEnd"]()),2&e){const e=l["ɵɵnextContext"]();l["ɵɵproperty"]("widgetConfig",e.config),l["ɵɵadvance"](1),l["ɵɵstyleProp"]("color",e.textColor),l["ɵɵadvance"](1),l["ɵɵproperty"]("value",e.bindingMetricValue)("thresholds",e.thresholds)("prependText",e.prependText)("markers",e.markers)("appendText",e.appendText)("min",e.min)("max",e.max)("shiftValue",e.config.min)("ariaLabel",null==e.config?null:e.config.title)}}function XG(e,t){1&e&&l["ɵɵelement"](0,"crt-view-element-placeholder")}("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](JG,{declarations:[YG],imports:[o.CommonModule,WG.ez,Rn],exports:[YG]});let eH=class extends gG{constructor(e,t,n,i,r){super(e,t,n,r),this.numberFormatUtil=i,this._metricValue=0,this.bindingMetricValue=0,this.min=0,this.max=100,this.markers={},this.thresholds={0:{color:"green"}}}set metricValue(e){this._metricValue=e;const t=this.config.min;this.bindingMetricValue=t<0?e+Math.abs(t):e-t}get metricValue(){return this._metricValue}set config(e){var t;e&&(this._config=e,e.color=e.color||(null===(t=e.layout)||void 0===t?void 0:t.color),this.max=e.max-e.min,e.thresholds&&(this._setThresholds(e.thresholds),this._setMarkers(e.thresholds)),this._setColor(e),super.config=e)}get config(){return this._config}_setThresholds(e){const t={};Object.keys(e).forEach((n=>{const i=this.config.min<0?+n+Math.abs(this.config.min):+n-this.config.min;t[i]=e[n]})),this.thresholds=t}_setMarkers(e){const t={};Object.keys(e).forEach((e=>{const n=this.config.min<0?+e+Math.abs(this.config.min):+e-this.config.min;t[n]=this._getMarkerModel(e)})),t[this.max]=this._getMarkerModel(this.config.max),this.markers=t}_getMarkerModel(e){return{fontColor:"rgba(0, 0, 0, 0.7)",size:8,label:e.toString(),type:"none",rotate:!1}}_setColor(e){const{text:t,layout:n}=e,i=oN(null==t?void 0:t.color),r=oN(null==n?void 0:n.color);this.textColor=i.color||r.color}buildTextLines(e,t){super.buildTextLines(e,t),this.prependText="",this.appendText="";let n=!1;this.textLines.forEach((e=>{if("text"===e.type){const t=` ${e.value}`;n?this.appendText=this.appendText.concat(t).trim():this.prependText=this.prependText.concat(t).trim()}else"metric"===e.type&&(this.metricValue=this.numberFormatUtil.parseStringToNumber(e.value),n=!0)})),this.changeDetectorRef.detectChanges()}};eH.ɵfac=function(e){return new(e||eH)(l["ɵɵdirectiveInject"](NN),l["ɵɵdirectiveInject"](sG),l["ɵɵdirectiveInject"](l.Injector),l["ɵɵdirectiveInject"](ja),l["ɵɵdirectiveInject"](nl,8))},eH.ɵcmp=l["ɵɵdefineComponent"]({type:eH,selectors:[["crt-gauge-widget"]],inputs:{config:"config"},features:[l["ɵɵInheritDefinitionFeature"]],decls:6,vars:4,consts:[[1,"gauge-chart-widget-wrapper",3,"ngClass"],[4,"ngIf","ngIfThen","ngIfElse"],["view",""],["placeholder",""],[3,"widgetConfig"],[1,"gauge-chart"],[3,"value","thresholds","prependText","markers","appendText","min","max","shiftValue","ariaLabel"],["gaugeRef",""]],template:function(e,t){if(1&e&&(l["ɵɵelementStart"](0,"div",0),l["ɵɵtemplate"](1,QG,1,0,"div",1),l["ɵɵtemplate"](2,KG,4,12,"ng-template",null,2,l["ɵɵtemplateRefExtractor"]),l["ɵɵtemplate"](4,XG,1,0,"ng-template",null,3,l["ɵɵtemplateRefExtractor"]),l["ɵɵelementEnd"]()),2&e){const e=l["ɵɵreference"](3),n=l["ɵɵreference"](5);l["ɵɵproperty"]("ngClass",t.indicatorThemeCssClass),l["ɵɵadvance"](1),l["ɵɵproperty"]("ngIf",t.isValidated)("ngIfThen",e)("ngIfElse",n)}},directives:[o.NgClass,o.NgIf,yN,YG,Zs],styles:[".gauge-chart-widget-wrapper[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:8px;background-clip:padding-box;background-color:#fff;border:1px solid #e6e6e6;overflow:hidden;box-sizing:border-box}.gauge-chart-widget-wrapper[_ngcontent-%COMP%]   .gauge-chart[_ngcontent-%COMP%]{height:calc(100% - 38px);border-radius:8px;background-color:#fff;margin-top:-8px}.gauge-chart-widget-wrapper[_ngcontent-%COMP%]   .gauge-chart[_ngcontent-%COMP%]   crt-gauge-chart[_ngcontent-%COMP%]{padding:5px;height:calc(100% - 2 * 5px);width:calc(100% - 2 * 5px)}"]}),eH=(0,a.gn)([Xs({type:"crt.GaugeWidget"}),Ks({type:"crt.GaugeWidget",toolbarConfig:{caption:"CDK.GaugeWidget.Caption",name:"gauge-widget",icon:n(79743),defaultPropertyValues:{config:{title:"",theme:"full-fill",layout:{color:"green"},text:{template:"{0}"}}}},interfaceDesignerPropertiesPanelSchemaName:"InterfaceDesignerGaugeWidgetPropertiesPanel",propertiesPanelComponentTypeName:"crt.GaugeWidgetPropertiesPanel"}),(0,a.w6)("design:paramtypes",[NN,sG,l.Injector,ja,Boolean])],eH);let tH=class{};tH.ɵfac=function(e){return new(e||tH)},tH.ɵmod=l["ɵɵdefineNgModule"]({type:tH}),tH.ɵinj=l["ɵɵdefineInjector"]({imports:[[o.CommonModule,$s,JG,fG,MN]]}),tH=(0,a.gn)([(0,r.CrtModule)({viewElements:[eH]})],tH),("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](tH,{declarations:[eH],imports:[o.CommonModule,$s,JG,fG,MN],exports:[eH]});let nH=(()=>{class e{constructor(e){this.googleTagManager=e,this._init$=new h.ReplaySubject(1),this.schemaStateGenerated=new l.EventEmitter,this.schemaState=null,this.modelInitConfigs=null,this.googleTagManager.initialize().subscribe({next:()=>this._init$.next()})}set schema(e){this._schemaName=e,this._init$.subscribe({next:()=>this._sendGTMData()})}get schema(){return this._schemaName}_sendGTMData(){const e={moduleName:this.moduleName,schemaName:this.schema};this.googleTagManager.track(e)}ngOnDestroy(){this._init$.complete()}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵdirectiveInject"](Ms))},e.ɵdir=l["ɵɵdefineDirective"]({type:e,inputs:{schemaState:"schemaState",modelInitConfigs:"modelInitConfigs",schema:"schema"},outputs:{schemaStateGenerated:"schemaStateGenerated"}}),e})(),iH=(()=>{class e extends nH{constructor(){super(...arguments),this.moduleName="PageModule"}}return e.ɵfac=function(){let t;return function(n){return(t||(t=l["ɵɵgetInheritedFactory"](e)))(n||e)}}(),e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["crt-card"]],features:[l["ɵɵInheritDefinitionFeature"]],decls:1,vars:3,consts:[[1,"light-blue-green-theme",3,"schema","schemaState","modelInitConfigs","schemaStateGenerated"]],template:function(e,t){1&e&&(l["ɵɵelementStart"](0,"crt-schema",0),l["ɵɵlistener"]("schemaStateGenerated",(function(e){return t.schemaStateGenerated.next(e)})),l["ɵɵelementEnd"]()),2&e&&l["ɵɵproperty"]("schema",t.schema)("schemaState",t.schemaState)("modelInitConfigs",t.modelInitConfigs)},directives:[$E],encapsulation:2}),e})(),rH=(()=>{class e extends nH{constructor(){super(...arguments),this.moduleName="HomePageModule"}}return e.ɵfac=function(){let t;return function(n){return(t||(t=l["ɵɵgetInheritedFactory"](e)))(n||e)}}(),e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["crt-home-page"]],features:[l["ɵɵInheritDefinitionFeature"]],decls:1,vars:3,consts:[[1,"light-blue-green-theme",3,"schema","schemaState","modelInitConfigs","schemaStateGenerated"]],template:function(e,t){1&e&&(l["ɵɵelementStart"](0,"crt-schema",0),l["ɵɵlistener"]("schemaStateGenerated",(function(e){return t.schemaStateGenerated.next(e)})),l["ɵɵelementEnd"]()),2&e&&l["ɵɵproperty"]("schema",t.schema)("schemaState",t.schemaState)("modelInitConfigs",t.modelInitConfigs)},directives:[$E],encapsulation:2}),e})(),aH=(()=>{class e extends nH{constructor(){super(...arguments),this.moduleName="SectionModule"}}return e.ɵfac=function(){let t;return function(n){return(t||(t=l["ɵɵgetInheritedFactory"](e)))(n||e)}}(),e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["crt-section"]],features:[l["ɵɵInheritDefinitionFeature"]],decls:1,vars:3,consts:[[1,"light-blue-green-theme",3,"schema","schemaState","modelInitConfigs","schemaStateGenerated"]],template:function(e,t){1&e&&(l["ɵɵelementStart"](0,"crt-schema",0),l["ɵɵlistener"]("schemaStateGenerated",(function(e){return t.schemaStateGenerated.next(e)})),l["ɵɵelementEnd"]()),2&e&&l["ɵɵproperty"]("schema",t.schema)("schemaState",t.schemaState)("modelInitConfigs",t.modelInitConfigs)},directives:[$E],encapsulation:2}),e})(),oH=(()=>{class e extends nH{constructor(){super(...arguments),this.moduleName="PageModule"}}return e.ɵfac=function(){let t;return function(n){return(t||(t=l["ɵɵgetInheritedFactory"](e)))(n||e)}}(),e.ɵcmp=l["ɵɵdefineComponent"]({type:e,selectors:[["crt-page"]],features:[l["ɵɵInheritDefinitionFeature"]],decls:1,vars:3,consts:[[1,"light-blue-green-theme",3,"schema","schemaState","modelInitConfigs","schemaStateGenerated"]],template:function(e,t){1&e&&(l["ɵɵelementStart"](0,"crt-schema",0),l["ɵɵlistener"]("schemaStateGenerated",(function(e){return t.schemaStateGenerated.next(e)})),l["ɵɵelementEnd"]()),2&e&&l["ɵɵproperty"]("schema",t.schema)("schemaState",t.schemaState)("modelInitConfigs",t.modelInitConfigs)},directives:[$E],encapsulation:2}),e})(),sH=class{_createGetRecordUrl(e,t,n){return{type:"crt.7XRequest",action:"GetRecordUrl",$context:e,payload:{recordId:t,entityName:n}}}convert(e,t,n){return(0,a.mG)(this,void 0,void 0,(function*(){const{referenceSchemaName:i}=yield Sc(t,n),a=this._createGetRecordUrl(t,e,i);return yield r.HandlerChainService.instance.process(a)}))}};sH=(0,a.gn)([(0,r.CrtConverter)("crt.ToRecordLinkAsync")],sH);class lH{constructor(e,t){this._bindingContext=e,this._dataGridViewConfig=t}getViewModelItemsAttributeName(){const e=this._dataGridViewConfig.items;if(e&&"string"==typeof e)return e.substring(1)}getViewModel(){return this._bindingContext.viewModel$.pipe((0,Tn.q)(1))}getDataSourceName(){return this.getViewModel().pipe((0,g.U)((e=>e.getBoundDataSourceName(this.getViewModelItemsAttributeName()))))}}let cH=(()=>{class e{resolve(e){return new lH(e.get(tl),e.get(il))}}return e.ɵfac=function(t){return new(t||e)},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"root"}),e})(),dH=class extends r.BaseRequestHandler{_getEntitySchemaName(e){var t,n;const i=this._getDataSourceName(e),r=null===(n=null===(t=e.$context.dataSchemas[i])||void 0===t?void 0:t.dataSourceConfig)||void 0===n?void 0:n.config;return null==r?void 0:r.entitySchemaName}_getDataSourceName(e){return e.$context.getBoundDataSourceName(e.itemsAttributeName)}handle(e){var t;return(0,a.mG)(this,void 0,void 0,(function*(){const n={type:"crt.7XRequest",action:"AddRecord",$context:e.$context,payload:{entityName:null!==(t=e.entityName)&&void 0!==t?t:this._getEntitySchemaName(e),defaultValues:e.defaultValues,entityPageName:e.entityPageName}};yield this.handlerChain.process(n)}))}};dH=(0,a.gn)([(0,r.CrtRequestHandler)({requestType:"crt.CreateRecordRequest",type:"crt.CreateRecordHandler"})],dH);var uH=(()=>(function(e){e.AllSections="BaseGridSectionTemplate",e.AllCards="BasePageTemplate"}(uH||(uH={})),uH))();let pH=class extends r.BaseRequestHandler{_getDataSchema(e){const t=this._getDataSourceName(e);return e.$context.dataSchemas[t]}_getDataSourceName(e){return e.$context.getBoundDataSourceName(e.itemsAttributeName)}handle(e){var t,n;return(0,a.mG)(this,void 0,void 0,(function*(){const i=this._getDataSchema(e),r={type:"crt.7XRequest",action:"AddRecordFromLookup",$context:e.$context,payload:{attributeName:e.attributeName,entityName:null!==(t=e.schemaName)&&void 0!==t?t:null==i?void 0:i.name,displayValue:(null===(n=e.detail)||void 0===n?void 0:n.searchValue)||"",displayColumn:null==i?void 0:i.primaryDisplayAttributeName}};yield this.handlerChain.process(r)}))}};pH.ɵfac=function(){let e;return function(t){return(e||(e=l["ɵɵgetInheritedFactory"](pH)))(t||pH)}}(),pH.ɵprov=l["ɵɵdefineInjectable"]({token:pH,factory:pH.ɵfac,providedIn:"any"}),pH=(0,a.gn)([(0,r.CrtRequestHandler)({requestType:"crt.CreateRecordFromLookupRequest",type:"crt.CreateRecordFromLookupHandler",scopes:[uH.AllSections,uH.AllCards]})],pH);let mH=class extends r.BaseRequestHandler{handle(e){var t;return(0,a.mG)(this,void 0,void 0,(function*(){const n=e.$context;if((yield n.CardState)===r.ModelInPageAction.Edit){const i=yield null===(t=this.next)||void 0===t?void 0:t.handle(e);return n.IsChanged=!1,i}if((yield n.CardState)===r.ModelInPageAction.Add||(yield n.CardState)===r.ModelInPageAction.Copy)return yield this.handlerChain.process({type:"crt.7XRequest",action:"BackHistoryState",$context:e.$context})}))}};mH=(0,a.gn)([(0,r.CrtRequestHandler)({type:"crt.CardCancelRecordChangesHandler",requestType:"crt.CancelRecordChangesRequest",scopes:[uH.AllCards]})],mH);let hH=class extends r.BaseRequestHandler{constructor(e){super(),this._dialogService=e,this._maskDelay=0,this._maskService=new r.MaskService}_save(e){return(0,a.mG)(this,void 0,void 0,(function*(){const t=yield e.getPrimaryModelName(),n=yield e.getPrimaryDataSchema(),i=e.getViewModelAttributePath(t,n.primaryAttributeName),a={dataSourceName:t,type:"crt.SaveDataRequest",parameters:[{type:r.ModelParameterType.PrimaryColumnValue,value:i}],$context:e};return this.handlerChain.process(a)}))}_sendCardResponse(e,t){var n,i,r;return(0,a.mG)(this,void 0,void 0,(function*(){const a=yield e.getPrimaryModelName(),o=yield e.getPrimaryDataSchema(),s=e.getViewModelAttributePath(a,o.primaryAttributeName),l=e.getViewModelAttributePath(a,o.primaryDisplayAttributeName),c={type:"crt.7XRequest",action:"CardResponse",payload:{action:e.CardState,success:t,primaryDisplayColumnName:o.primaryDisplayAttributeName,uId:yield e[s],primaryColumnValue:yield e[s],primaryDisplayColumnValue:yield e[l],referenceSchemaName:null===(r=null===(i=null===(n=e.dataSchemas[a])||void 0===n?void 0:n.dataSourceConfig)||void 0===i?void 0:i.config)||void 0===r?void 0:r.entitySchemaName},$context:e};return this.handlerChain.process(c)}))}_getPrimaryColumnValue(e){return(0,a.mG)(this,void 0,void 0,(function*(){const t=yield e.getPrimaryModelName(),n=yield e.getPrimaryDataSchema(),i=e.getViewModelAttributePath(t,n.primaryAttributeName);return yield e[i]}))}handle(e){return(0,a.mG)(this,void 0,void 0,(function*(){if(yield e.$context.isValid()){this._maskService.showBodyMask({delay:this._maskDelay});try{const t=e.$context,n=yield t.getPrimaryModelName(),i={primaryColumnValue:yield this._getPrimaryColumnValue(t)},{result:r,message:a}=yield e.$context.canSave(n,i);if(!r)return this._maskService.hideBodyMask(),this._dialogService.openInfoDialog(a),!1;const o=yield this._save(e.$context);if(!1===(null==o?void 0:o.success)&&(null==o?void 0:o.errorInfo))return this._maskService.hideBodyMask(),this._dialogService.openInfoDialog(null==o?void 0:o.errorInfo),!1}catch(e){return this._maskService.hideBodyMask(),this._dialogService.openInfoDialog((null==e?void 0:e.message)||(null==e?void 0:e.errorInfo)),!1}return yield this._sendCardResponse(e.$context,!0),e.$context.IsChanged=!1,this._maskService.hideBodyMask(),!0}e.$context.validate()}))}};hH.ɵfac=function(e){return new(e||hH)(l["ɵɵinject"](X))},hH.ɵprov=l["ɵɵdefineInjectable"]({token:hH,factory:hH.ɵfac,providedIn:"any"}),hH=(0,a.gn)([(0,r.CrtRequestHandler)({requestType:"crt.SaveRecordRequest",type:"crt.SaveRecordHandler"}),(0,a.w6)("design:paramtypes",[X])],hH);let gH=class extends r.BaseRequestHandler{_backHistoryState(e){return(0,a.mG)(this,void 0,void 0,(function*(){yield this.handlerChain.process({type:"crt.7XRequest",action:"BackHistoryState",$context:e})}))}handle(e){var t;return(0,a.mG)(this,void 0,void 0,(function*(){const n=yield null===(t=this.next)||void 0===t?void 0:t.handle(e),i=yield e.$context.CardState;return!n||e.preventCardClose||i!==r.ModelInPageAction.Add&&i!==r.ModelInPageAction.Copy||(yield this._backHistoryState(e.$context)),n}))}};gH.ɵfac=function(){let e;return function(t){return(e||(e=l["ɵɵgetInheritedFactory"](gH)))(t||gH)}}(),gH.ɵprov=l["ɵɵdefineInjectable"]({token:gH,factory:gH.ɵfac,providedIn:"any"}),gH=(0,a.gn)([(0,r.CrtRequestHandler)({requestType:"crt.SaveRecordRequest",type:"crt.CardSaveRecordHandler",scopes:[uH.AllCards]})],gH);let fH=class extends r.BaseRequestHandler{handle(e){return(0,a.mG)(this,void 0,void 0,(function*(){yield this.handlerChain.process({type:"crt.7XRequest",action:"BackHistoryState",$context:e.$context})}))}};function vH(e){return Object.keys(e.dataSchemas||{})[0]}fH=(0,a.gn)([(0,r.CrtRequestHandler)({type:"crt.ClosePageHandler",requestType:"crt.ClosePageRequest"})],fH);let bH=class extends r.BaseRequestHandler{_getEntitySchemaName(e){var t,n;const i=this._getDataSourceName(e),r=null===(n=null===(t=e.$context.dataSchemas[i])||void 0===t?void 0:t.dataSourceConfig)||void 0===n?void 0:n.config;return null==r?void 0:r.entitySchemaName}_getDataSourceName(e){return e.$context.getBoundDataSourceName(e.itemsAttributeName)||vH(e.$context)}handle(e){var t;return(0,a.mG)(this,void 0,void 0,(function*(){const n={type:"crt.7XRequest",action:"EditRecord",$context:e.$context,payload:{recordId:e.recordId,entityName:null!==(t=e.entityName)&&void 0!==t?t:this._getEntitySchemaName(e)}};return yield this.handlerChain.process(n)}))}};bH=(0,a.gn)([(0,r.CrtRequestHandler)({requestType:"crt.UpdateRecordRequest",type:"crt.UpdateRecordHandler"})],bH);let CH=class extends r.BaseRequestHandler{_setPrimaryDSAttribute(e,t){const n=t.name,i=e.dataSchemas[n],r=t.recordId,a=e.getViewModelAttributePath(n,i.primaryAttributeName);e[a]=r}_loadDataSource(e,t,n=[]){return(0,a.mG)(this,void 0,void 0,(function*(){yield this.handlerChain.process({type:"crt.LoadDataRequest",$context:t,dataSourceName:e,parameters:n})}))}_loadDS(e,t){return(0,a.mG)(this,void 0,void 0,(function*(){const n=t.name,i=e.dataSchemas[n],a=e.getViewModelAttributePath(n,i.primaryAttributeName);yield this._loadDataSource(n,e,[{type:r.ModelParameterType.PrimaryColumnValue,value:a}])}))}_copyDS(e,t,n){return(0,a.mG)(this,void 0,void 0,(function*(){yield this.handlerChain.process({type:"crt.CopyDataRequest",$context:e,dataSourceName:t,recordId:n})}))}_loadDefaultValues(e,t){return(0,a.mG)(this,void 0,void 0,(function*(){return this.handlerChain.process({type:"crt.LoadDefaultValuesRequest",$context:e,dataSourceName:t})}))}_isString(e){return null!==e&&"string"==typeof e}_getAttributeValue(e,t,n,i){return(0,a.mG)(this,void 0,void 0,(function*(){const a=e.dataSchemas[t].findAttributeByName(n);if(a.dataValueType===r.DataValueType.Lookup&&this._isString(i)){const t=new r.ToLookupConverter;return yield t.convert(i,e,a.referenceSchemaName)}return i}))}_setValuePairs(e,t,n){var i;return(0,a.mG)(this,void 0,void 0,(function*(){if((null===(i=t.defaultValues)||void 0===i?void 0:i.length)&&(e===r.ModelInPageAction.Add||e===r.ModelInPageAction.Copy)){const e={},i=t.name;for(const{attributeName:r,value:a}of t.defaultValues)if(a){let t=a;const o=null==n?void 0:n.getViewModelAttributePath(i,r);o&&(t=yield this._getAttributeValue(n,i,r,a),n[o]=t),e[r]=t}return n.create(i,e).toPromise()}}))}initModelInEditModeAsync(e,t){return(0,a.mG)(this,void 0,void 0,(function*(){this._setPrimaryDSAttribute(e,t),yield this._loadDS(e,t)}))}initModelInCopyModeAsync(e,t){return(0,a.mG)(this,void 0,void 0,(function*(){yield this._loadDefaultValues(e,t.name),yield this._copyDS(e,t.name,t.recordId),yield this._setValuePairs(r.ModelInPageAction.Copy,t,e)}))}initModelInAddingModeAsync(e,t){return(0,a.mG)(this,void 0,void 0,(function*(){yield this._loadDefaultValues(e,t.name),yield this._setValuePairs(r.ModelInPageAction.Add,t,e)}))}handle(e){return(0,a.mG)(this,void 0,void 0,(function*(){const t=e.$context;(t.modelInitConfigs||[]).forEach((e=>{const n=e.action;e.name=e.name||vH(t),n===r.ModelInPageAction.Edit?this.initModelInEditModeAsync(t,e):n===r.ModelInPageAction.Add?this.initModelInAddingModeAsync(t,e):n===r.ModelInPageAction.Copy?this.initModelInCopyModeAsync(t,e):this._loadDataSource(e.name,t)}))}))}};CH=(0,a.gn)([(0,r.CrtRequestHandler)({type:"crt.PageInitHandler",requestType:"crt.HandleViewModelInitRequest"})],CH);let yH=class extends CH{initModelInEditModeAsync(e,t){const n=Object.create(null,{initModelInEditModeAsync:{get:()=>super.initModelInEditModeAsync}});return(0,a.mG)(this,void 0,void 0,(function*(){n.initModelInEditModeAsync.call(this,e,t).then((()=>{e.IsChangesTrackingEnabled=!0}))}))}initModelInCopyModeAsync(e,t){return e.IsChanged=!0,e.IsChangesTrackingEnabled=!0,super.initModelInCopyModeAsync(e,t)}initModelInAddingModeAsync(e,t){return e.IsChanged=!0,e.IsChangesTrackingEnabled=!0,super.initModelInAddingModeAsync(e,t)}handle(e){const t=Object.create(null,{handle:{get:()=>super.handle}});return(0,a.mG)(this,void 0,void 0,(function*(){const n=e.$context,i=n.modelInitConfigs||[];i&&i.length>0&&(n.CardState=i[0].action),t.handle.call(this,e)}))}};function wH(e){return Object.values(e.dataSchemas||{})[0]}yH=(0,a.gn)([(0,r.CrtRequestHandler)({type:"crt.CardInitHandler",requestType:"crt.HandleViewModelInitRequest",scopes:[uH.AllCards]})],yH);let _H=class extends r.BaseRequestHandler{_getDefaultCaption(e){var t,n,i,o;return(0,a.mG)(this,void 0,void 0,(function*(){const a=yield null===(n=null===(t=e.$context.Resources)||void 0===t?void 0:t.Strings)||void 0===n?void 0:n.NewRecord,s=yield null===(o=null===(i=e.$context.Resources)||void 0===i?void 0:i.Strings)||void 0===o?void 0:o.Record;return(yield e.$context.CardState)===r.ModelInPageAction.Add?a:s}))}_updateCardCaption(e,t){return(0,a.mG)(this,void 0,void 0,(function*(){const n=wH(t),i=vH(t),r=t.getViewModelAttributePath(i,null==n?void 0:n.primaryDisplayAttributeName);if(e.attributeName===r){const n=yield this._getDefaultCaption(e);yield this.handlerChain.process({type:"crt.7XRequest",action:"InitDataViews",$context:t,payload:{caption:e.value||n,hidePageCaption:!0}})}}))}_setDefaultCaption(e){var t,n;return(0,a.mG)(this,void 0,void 0,(function*(){if("CardState"===e.attributeName&&(e.value===r.ModelInPageAction.Add||e.value===r.ModelInPageAction.Copy)){const i=yield null===(n=null===(t=e.$context.Resources)||void 0===t?void 0:t.Strings)||void 0===n?void 0:n.NewRecord;yield this.handlerChain.process({type:"crt.7XRequest",action:"InitDataViews",$context:e.$context,payload:{caption:i,hidePageCaption:!0}})}}))}_isAttributeBoundToPrimaryDS(e,t){const n=vH(t),i=t.getBoundDataSourceNameByAttributePath(e);return i&&i===n}handle(e){var t;return(0,a.mG)(this,void 0,void 0,(function*(){const n=e.$context;return!(yield n.IsChangesTrackingEnabled)||(yield n.IsChanged)||e.silent||this._isAttributeBoundToPrimaryDS(e.attributeName,n)&&(n.IsChanged=!0),"CardState"===e.attributeName?yield this._setDefaultCaption(e):yield this._updateCardCaption(e,n),yield null===(t=this.next)||void 0===t?void 0:t.handle(e)}))}};_H=(0,a.gn)([(0,r.CrtRequestHandler)({requestType:"crt.HandleViewModelAttributeChangeRequest",type:"crt.CardChangeAttributeHandler",scopes:[uH.AllCards]})],_H);let xH=class extends r.BaseRequest{};xH=(0,a.gn)([(0,r.CrtRequest)({type:"crt.CopyRecordRequest"})],xH);let IH=class extends r.BaseRequestHandler{_getEntitySchemaName(e){var t,n;const i=this._getDataSourceName(e),r=null===(n=null===(t=e.$context.dataSchemas[i])||void 0===t?void 0:t.dataSourceConfig)||void 0===n?void 0:n.config;return null==r?void 0:r.entitySchemaName}_getDataSourceName(e){return e.$context.getBoundDataSourceName(e.itemsAttributeName)||vH(e.$context)}handle(e){var t;return(0,a.mG)(this,void 0,void 0,(function*(){const n={type:"crt.7XRequest",action:"CopyRecord",$context:e.$context,payload:{entityName:null!==(t=e.entityName)&&void 0!==t?t:this._getEntitySchemaName(e),recordId:e.recordId}};yield this.handlerChain.process(n)}))}};IH=(0,a.gn)([(0,r.CrtRequestHandler)({requestType:"crt.CopyRecordRequest",type:"crt.CopyRecordHandler",scopes:[uH.AllSections]})],IH);let SH=class extends r.BaseRequestHandler{constructor(e,t){super(),this._dialogService=e,this._translateService=t,this._maskDelay=250,this._handlerChain=r.HandlerChainService.instance,this._maskService=new r.MaskService}_deleteRecordFromCollection(e,t,n){return(0,a.mG)(this,void 0,void 0,(function*(){const i=yield e.$context[n],r=(yield Promise.all(i.map((e=>e[t])))).findIndex((t=>t===e.recordId));i.splice(r,1),i.reload([...i])}))}_deleteRecord(e,t){return(0,a.mG)(this,void 0,void 0,(function*(){return yield this._handlerChain.process({type:"crt.DeleteDataRequest",$context:e.$context,dataSourceName:t,parameters:[{type:r.ModelParameterType.PrimaryColumnValue,value:"@requestPayload.primaryColumnValue"}],config:{payload:{primaryColumnValue:e.recordId}}})}))}_showInsufficientRightsDialog(e){var t;return(0,a.mG)(this,void 0,void 0,(function*(){yield this._maskService.hideBodyMask();const n=this._getDataSourceName(e),i=null===(t=e.$context.dataSchemas[n])||void 0===t?void 0:t.caption,r=this._translateService.instant("InfoDialog.RightLevelWarningMessage").replace("{0}",i);yield this._dialogService.openInfoDialog(r).toPromise()}))}_getDataSourceName(e){const t=e.$context;return t.getBoundDataSourceName(e.itemsAttributeName)||vH(t)}_performDelete(e){return(0,a.mG)(this,void 0,void 0,(function*(){const t=e.$context,n=wH(t),i=this._getDataSourceName(e),r=t.getViewModelAttributePath(i,n.primaryAttributeName);try{const{success:t,rowsAffected:n,errorInfo:a}=yield this._deleteRecord(e,i);if(yield this._maskService.hideBodyMask(),t&&n){const t=r.split(".").pop();return void(yield this._deleteRecordFromCollection(e,t,e.itemsAttributeName))}if(!t&&a)return void this._dialogService.openInfoDialog(a)}catch(e){yield this._maskService.hideBodyMask();const t=this._translateService.instant("InfoDialog.UnableToDeleteSelectedRecord");yield this._dialogService.openInfoDialog(t).toPromise()}}))}_canDelete(e){return(0,a.mG)(this,void 0,void 0,(function*(){return e.$context.canDelete(this._getDataSourceName(e),{primaryColumnValue:e.recordId})}))}handle(e){return(0,a.mG)(this,void 0,void 0,(function*(){const t=this._translateService.instant("ConfirmationDialog.DeleteRecordConfirmation");if((yield this._dialogService.openConfirmationDialog(t).toPromise())!==U.result)return;yield this._maskService.showBodyMask({delay:this._maskDelay});const{result:n}=yield this._canDelete(e);return n?this._performDelete(e):this._showInsufficientRightsDialog(e)}))}};SH.ɵfac=function(e){return new(e||SH)(l["ɵɵinject"](X),l["ɵɵinject"](u.sK))},SH.ɵprov=l["ɵɵdefineInjectable"]({token:SH,factory:SH.ɵfac,providedIn:"any"}),SH=(0,a.gn)([(0,r.CrtRequestHandler)({requestType:"crt.DeleteRecordRequest",type:"crt.DeleteRecordHandler",scopes:[uH.AllSections]}),(0,a.w6)("design:paramtypes",[X,u.sK])],SH);let MH=class extends r.BaseRequest{};MH=(0,a.gn)([(0,r.CrtRequest)({type:"crt.DeleteRecordRequest"})],MH);let DH=class extends r.BaseRequestHandler{_getEntityName(e){var t,n;const i=vH(e.$context),r=null===(n=null===(t=e.$context.dataSchemas[i])||void 0===t?void 0:t.dataSourceConfig)||void 0===n?void 0:n.config;return null==r?void 0:r.entitySchemaName}_updateSectionCaption(e){return(0,a.mG)(this,void 0,void 0,(function*(){yield this.handlerChain.process({type:"crt.7XRequest",action:"InitDataViews",$context:e.$context,payload:{entityName:this._getEntityName(e)}})}))}handle(e){var t;return(0,a.mG)(this,void 0,void 0,(function*(){return yield this._updateSectionCaption(e),null===(t=this.next)||void 0===t?void 0:t.handle(e)}))}};DH=(0,a.gn)([(0,r.CrtRequestHandler)({requestType:"crt.HandleViewModelInitRequest",type:"crt.SectionInitHandler",scopes:[uH.AllSections]})],DH);let PH=class extends r.BaseRequestHandler{constructor(e){super(),this._processEngineService=e}_getPrimaryDsId(e){const t=e.$context,n=vH(t),i=wH(t);if(!i||!n)return;const r=t.getViewModelAttributePath(n,i.primaryAttributeName);return e.$context[r]}_applyRecordIdToProcessParameters(e){var t;return(0,a.mG)(this,void 0,void 0,(function*(){if(e.recordIdProcessParameterName){const n=yield this._getPrimaryDsId(e);if(n){const i=null!==(t=(0,so.Z)(e.processParameters))&&void 0!==t?t:{};return i[e.recordIdProcessParameterName]=n,i}}return e.processParameters}))}handle(e){return(0,a.mG)(this,void 0,void 0,(function*(){const t=e.processName,n=yield this._applyRecordIdToProcessParameters(e);return this._processEngineService.executeProcessByName(t,n).toPromise()}))}};PH.ɵfac=function(e){return new(e||PH)(l["ɵɵinject"](js))},PH.ɵprov=l["ɵɵdefineInjectable"]({token:PH,factory:PH.ɵfac,providedIn:"any"}),PH=(0,a.gn)([(0,r.CrtRequestHandler)({type:"crt.RunBusinessProcessHandler",requestType:"crt.RunBusinessProcessRequest"}),(0,a.w6)("design:paramtypes",[js])],PH);let TH=class extends r.BaseRequestHandler{handle(e){return(0,a.mG)(this,void 0,void 0,(function*(){const t=e.$context,n=vH(t),i=wH(t),a=t.getViewModelAttributePath(n,i.primaryAttributeName);yield this.handlerChain.process({type:"crt.LoadDataRequest",$context:e.$context,dataSourceName:n,parameters:[{type:r.ModelParameterType.PrimaryColumnValue,value:a}]})}))}};TH=(0,a.gn)([(0,r.CrtRequestHandler)({type:"crt.CancelRecordChangesHandler",requestType:"crt.CancelRecordChangesRequest"})],TH);let kH=class extends r.BaseRequestHandler{handle(e){return(0,a.mG)(this,void 0,void 0,(function*(){const t={type:"crt.7XRequest",action:"OpenPage",$context:e.$context,payload:{schemaName:e.schemaName,modelInitConfigs:(0,so.Z)(e.modelInitConfigs)}};return yield this.handlerChain.process(t)}))}};kH=(0,a.gn)([(0,r.CrtRequestHandler)({requestType:"crt.OpenPageRequest",type:"crt.OpenPageHandler"})],kH);let EH=class extends r.BaseRequestHandler{_getDataSchema(e){const t=this._getDataSourceName(e);return e.$context.dataSchemas[t]}_getDataSourceName(e){return e.$context.getBoundDataSourceName(e.itemsAttributeName)}handle(e){var t;return(0,a.mG)(this,void 0,void 0,(function*(){const n=this._getDataSchema(e),i={type:"crt.7XRequest",action:"OpenLookupSource",$context:e.$context,payload:{entitySchemaName:null!==(t=e.schemaName)&&void 0!==t?t:null==n?void 0:n.name,displayValue:null==n?void 0:n.caption.toString()}};yield this.handlerChain.process(i)}))}};EH.ɵfac=function(){let e;return function(t){return(e||(e=l["ɵɵgetInheritedFactory"](EH)))(t||EH)}}(),EH.ɵprov=l["ɵɵdefineInjectable"]({token:EH,factory:EH.ɵfac,providedIn:"any"}),EH=(0,a.gn)([(0,r.CrtRequestHandler)({requestType:"crt.OpenLookupSourceRequest",type:"crt.OpenLookupSourceHandler",scopes:[uH.AllSections,uH.AllCards]})],EH);let NH=class extends r.BaseRequestHandler{_canOpenEditPage(e){return(0,a.mG)(this,void 0,void 0,(function*(){const t=e.$context;if((yield t.CardState)!==r.ModelInPageAction.Edit)return Promise.resolve(!0);if(!(yield t.isValid()))return Promise.resolve(!1);if(!(yield t.IsChanged))return Promise.resolve(!0);const n=t,i=wH(n),a=vH(n),o=n.getViewModelAttributePath(a,i.primaryAttributeName),s={dataSourceName:a,type:"crt.SaveDataRequest",$context:n,parameters:[{type:r.ModelParameterType.PrimaryColumnValue,value:o}]},l=yield this.handlerChain.process(s);return Promise.resolve(l.success)}))}handle(e){var t;return(0,a.mG)(this,void 0,void 0,(function*(){if(yield this._canOpenEditPage(e))return null===(t=this.next)||void 0===t?void 0:t.handle(e)}))}};NH=(0,a.gn)([(0,r.CrtRequestHandler)({requestType:"crt.UpdateRecordRequest",type:"crt.CardUpdateRecordHandler",scopes:[uH.AllCards,uH.AllSections]})],NH);let OH=class extends r.BaseRequestHandler{handle(e){return(0,a.mG)(this,void 0,void 0,(function*(){const t={type:"crt.7XRequest",action:"HandlePhoneLinkClick",$context:e.$context,$initialEvent:Object.assign(Object.assign({},e.$initialEvent),{phoneNumber:e.phoneNumber})};return yield this.handlerChain.process(t)}))}};OH=(0,a.gn)([(0,r.CrtRequestHandler)({type:"crt.PhoneLinkClickHandler",requestType:"crt.PhoneLinkClickRequest",scopes:[]})],OH);let jH=class extends r.BaseRequestHandler{handle(e){return(0,a.mG)(this,void 0,void 0,(function*(){const t=e.$context,{referenceSchemaName:n}=yield Sc(t,e.primaryAttributeName),i={type:"crt.7XRequest",action:"HandleEmailLinkClick",$context:t,$initialEvent:Object.assign(Object.assign({},e.$initialEvent),{recordId:e.recordId,primaryDisplayName:e.primaryDisplayName,entitySchemaName:n,emailAddress:e.emailAddress})};return yield this.handlerChain.process(i)}))}};jH=(0,a.gn)([(0,r.CrtRequestHandler)({type:"crt.EmailLinkClickHandler",requestType:"crt.EmailLinkClickRequest",scopes:[]})],jH);let AH=class extends r.BaseRequestHandler{_setTopRecord(e,t,n){return(0,a.mG)(this,void 0,void 0,(function*(){for(const[i,r]of Object.entries(e.attributes)){if(!(r instanceof Rl&&e.getBoundDataSourceName(i)===t))continue;const a=r,o=a.pop();o&&(a.reload([o,...a]),yield this._processSetTopRecordRequest(e,i,n))}}))}_processSetTopRecordRequest(e,t,n){return(0,a.mG)(this,void 0,void 0,(function*(){const i={type:"crt.SetTopRecordRequest",$context:e,itemsAttributeName:t,primaryAttributeValue:n};yield this.handlerChain.process(i)}))}removedItemIndex(e,t,n){return(0,a.mG)(this,void 0,void 0,(function*(){for(let i=0;i<e.length;i++){const r=e[i],a=r.getViewModelAttributePath(t,n.name);if((yield r[a])===n.value)return i}return-1}))}_onRecordDeleted(e,t,n){return(0,a.mG)(this,void 0,void 0,(function*(){for(const[i,r]of Object.entries(e.attributes))if(r instanceof Rl&&e.getBoundDataSourceName(i)===t){const e=r,i=yield this.removedItemIndex(e,t,n);i>=0&&e.splice(i,1)}}))}_onRecordUpdated(e,t,n){return(0,a.mG)(this,void 0,void 0,(function*(){return yield this.handlerChain.process({type:"crt.LoadDataRequest",$context:e,dataSourceName:t,parameters:[{type:r.ModelParameterType.PrimaryColumnValue,value:"@requestPayload.primaryColumnValue"}],config:{loadType:zr.Load,payload:{primaryColumnValue:n}}})}))}_onRecordCreated(e,t,n,i){return(0,a.mG)(this,void 0,void 0,(function*(){const r=yield this._onRecordUpdated(e,t,n),a=null==r?void 0:r[0];(null==a?void 0:a[i.primaryAttributeName])===n.value&&(yield this._setTopRecord(e,t,n))}))}handle(e){var t,n;return(0,a.mG)(this,void 0,void 0,(function*(){const i=e.$context,r=null===(t=e.modelEvent.payload)||void 0===t?void 0:t.primaryAttributesValues,a=e.modelName,o=i.dataSchemas[a];for(const t of r){const n=t.find((e=>e.name===o.primaryAttributeName));switch(e.modelEvent.type){case oc.Create:yield this._onRecordCreated(i,a,n,o);break;case oc.Update:yield this._onRecordUpdated(i,a,n);break;case oc.Delete:yield this._onRecordDeleted(i,a,n)}}return null===(n=this.next)||void 0===n?void 0:n.handle(e)}))}};AH=(0,a.gn)([(0,r.CrtRequestHandler)({requestType:"crt.HandleModelEventRequest",type:"crt.ViewModelCollectionRecordChangedHandler"})],AH);let RH=class extends r.BaseRequest{};RH=(0,a.gn)([(0,r.CrtRequest)({type:"crt.LoadRightsModuleRequest"})],RH);let FH=class extends r.BaseRequestHandler{handle(e){return(0,a.mG)(this,void 0,void 0,(function*(){const t={type:"crt.7XRequest",action:"LoadRightsModule",$context:e.$context,payload:Object.assign({},e.payload)};return yield this.handlerChain.process(t)}))}};FH=(0,a.gn)([(0,r.CrtRequestHandler)({type:"crt.LoadRightsModuleHandler",requestType:"crt.LoadRightsModuleRequest",scopes:[]})],FH);let VH=class extends dH{handle(e){var t;return(0,a.mG)(this,void 0,void 0,(function*(){const n={type:"crt.SaveRecordRequest",preventCardClose:!1,$context:e.$context};(yield this.handlerChain.process(n))&&(yield null===(t=this.next)||void 0===t?void 0:t.handle(e))}))}};VH=(0,a.gn)([(0,r.CrtRequestHandler)({requestType:"crt.CreateRecordRequest",type:"crt.CardCreateRecordHandler",scopes:[uH.AllCards]})],VH);class LH{constructor(e){this._dataGridContextResolver=e,this.type="action",this._handlerChain=r.HandlerChainService.instance}getRequest(e){var t,n,i;const r=this.getDataGridContext(e.injector);return r?null===(i=null===(n=r.getViewModel())||void 0===n?void 0:n.pipe((0,Pn.w)((t=>this.createRequest(e,t)))))||void 0===i?void 0:i.toPromise():null===(t=this.createRequest(e,null))||void 0===t?void 0:t.toPromise()}getDataGridContext(e){return this._dataGridContextResolver.resolve(e)}handler(e){return(0,a.mG)(this,void 0,void 0,(function*(){if(!e)return Promise.resolve();const t=yield this.getRequest(e);return t?this._handlerChain.process(t):Promise.resolve()}))}}let zH=(()=>{class e extends LH{constructor(e){super(e),this.code="copy",this.caption="DataGrid.RowToolbar.Copy",this.icon="copy-row-action"}createRequest(e,t){const{rowId:n,injector:i}=e,r=this.getDataGridContext(i).getViewModelItemsAttributeName();return(0,h.of)({type:"crt.CopyRecordRequest",$context:t,recordId:n,itemsAttributeName:r,scopes:[uH.AllSections]})}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](cH))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})(),BH=(()=>{class e extends LH{constructor(e){super(e),this.code="delete",this.caption="DataGrid.RowToolbar.Delete",this.icon="delete-row-action"}createRequest(e,t){const{rowId:n,injector:i}=e,r=this.getDataGridContext(i),a=r.getViewModelItemsAttributeName();return r.getDataSourceName().pipe((0,g.U)((e=>({type:"crt.DeleteRecordRequest",$context:t,recordId:n,itemsAttributeName:a,scopes:[uH.AllSections]}))))}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](cH))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})(),GH=(()=>{class e extends LH{constructor(e){super(e),this.code="edit",this.caption="DataGrid.RowToolbar.Open",this.icon="edit-row-action"}createRequest(e,t){const{rowId:n,injector:i}=e,r=this.getDataGridContext(i).getViewModelItemsAttributeName();return(0,h.of)({type:"crt.UpdateRecordRequest",$context:t,recordId:n,itemsAttributeName:r,scopes:[uH.AllSections,uH.AllCards]})}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](cH))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})();let HH=(()=>{class e{constructor(e,t){this._featureService=e,this._rightsService=t}getFeatures(){return(0,h.forkJoin)([this._featureService.getFeatureState("UseDataGridDesignFeatures"),this._featureService.getFeatureState("ShowDataGridSelectionCheckbox"),this._rightsService.getCanExecuteOperation("CanCreateDefaultGridSettings")]).pipe((0,g.U)((([e,t,n])=>({rows:{toolbar:!0,numeration:!0,selectionCheckbox:t},columns:{toolbar:e,sorting:!0,renaming:!1,resizing:e,dragAndDrop:e},cells:{selectable:!0},header:{toolbar:{actions:e,columnsSelection:e}},operations:{canCreateDefaultGridSettings:n}}))))}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](ls),l["ɵɵinject"](Fs))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"root"}),e})(),UH={};const ZH={provide:jM,useFactory:()=>UH};let $H=(()=>{class e{constructor(e){this._dataGridFeaturesService=e}init(){return this._dataGridFeaturesService.getFeatures().pipe((0,En.b)((e=>UH=e)),(0,co.h)(void 0))}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](HH))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"root"}),e})(),WH=(()=>{class e extends Hp{constructor(e,t){super(e),this._schemaPartsService=t}_updateDataSourceAttributes(e,t){return(0,a.mG)(this,void 0,void 0,(function*(){const{columns:n,dataSourceName:i}=e;if(0===n.length)return;const r=n.map((e=>e.code)).map((e=>e.split(`${i}_`).pop())),a=(0,dt.Z)(r),o=t.getEntityDataSourceConfigService(i);o&&o.setAttributes(a).apply()}))}_updateViewItem(e,t){return(0,a.mG)(this,void 0,void 0,(function*(){const{viewElementConfig:n,columns:i}=e;t.getViewConfigInfoByName(n.name).viewConfig.columns=i.map((e=>Object.assign(Object.assign({},e),{code:e.code.replace(/\.+/g,"")})))}))}_updateViewModelAttributes(e,t){return(0,a.mG)(this,void 0,void 0,(function*(){const{viewElementConfig:n,columns:i,dataSourceName:r}=e,a=n.items.toString().split("$").pop(),o=i.map((e=>e.code)).map((e=>e.replace(/\.+/g,""))).map((e=>e.split(`${r}_`).pop()));n.primaryColumnName&&o.push(n.primaryColumnName.split(`${r}_`).pop());const s=(0,dt.Z)(o);t.bindViewModelAttributeCollection(a,r,s,`${r}_`,Ep.Override)}))}innerHandle(e){var t,n;const i=(null===(t=null==e?void 0:e.columns)||void 0===t?void 0:t.length)>(null===(n=null==e?void 0:e.previousColumns)||void 0===n?void 0:n.length);return(0,h.from)(this._schemaPartsService.apply((t=>(0,a.mG)(this,void 0,void 0,(function*(){yield this._updateDataSourceAttributes(e,t),yield this._updateViewModelAttributes(e,t),yield this._updateViewItem(e,t)}))))).pipe((0,Pn.w)((()=>this._schemaPartsService.commit({silent:!1===i}))),(0,g.U)((()=>{})))}handle(e,t){return super.handle(Object.assign({},e),t)}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](Fp),l["ɵɵinject"](Lp))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})();let qH=class{constructor(e){this._materialIconsRegistrator=e;const t=["copy-row-action","delete-row-action","edit-row-action"].map((e=>({name:e,icon:n(68592)(`./${e}.svg`)})));this._materialIconsRegistrator.addIcons(t)}};qH.ɵfac=function(e){return new(e||qH)(l["ɵɵinject"](Dn))},qH.ɵmod=l["ɵɵdefineNgModule"]({type:qH}),qH.ɵinj=l["ɵɵdefineInjector"]({providers:[zH,BH,GH,ZH,{provide:l.APP_INITIALIZER,useFactory:function(e){return()=>e.init().toPromise()},deps:[$H],multi:!0}],imports:[[qk,nD.withItems({menuItemToken:OM,menuItems:[GH,zH,BH]})],nD]}),qH=(0,a.gn)([(0,r.CrtModule)({includes:[qk]}),(0,a.w6)("design:paramtypes",[Dn])],qH),("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](qH,{imports:[qk,nD],exports:[nD]});const YH={"en-US":JSON.parse('{"ConfirmationDialog":{"DeleteRecordConfirmation":"Are you sure that you want to delete the selected record?","SaveDataGridConfigsForAllUsers":"Save list settings for all users?","ResetDataGridConfigsToDefault":"Restore default list settings?"},"InfoDialog":{"RightLevelWarningMessage":"Insufficient rights to delete records in the \'{0}\' object","UnableToDeleteSelectedRecord":"Unable to delete selected record"}}'),"ru-RU":JSON.parse('{"ConfirmationDialog":{"DeleteRecordConfirmation":"Вы действительно хотите удалить выделенную запись?","SaveDataGridConfigsForAllUsers":"Сохранить настройки реестра для всех пользователей?","ResetDataGridConfigsToDefault":"Вернуть для реестра настройки по умолчанию?"},"InfoDialogComponent":{"RightLevelWarningMessage":"Недостаточно прав для удаления записи в объекте \'{0}\'","UnableToDeleteSelectedRecord":"Выделенную запись не получилось удалить"}}')};let JH=class extends r.BaseRequest{};JH=(0,a.gn)([(0,r.CrtRequest)({type:"crt.7XRequest"})],JH);let QH=class extends r.BaseRequestHandler{handle(e){var t;return(0,a.mG)(this,void 0,void 0,(function*(){const n=e.$context,i=n.dataSchemas,r=Object.entries(i).filter((([,t])=>{var n,i;return(null===(i=null===(n=t.dataSourceConfig)||void 0===n?void 0:n.config)||void 0===i?void 0:i.entitySchemaName)===e.entitySchemaName})).map((([e])=>e));for(const t of r)yield this.handlerChain.process({type:"crt.HandleModelEventRequest",$context:n,modelName:t,modelEvent:e.modelEvent});return null===(t=this.next)||void 0===t?void 0:t.handle(e)}))}};QH=(0,a.gn)([(0,r.CrtRequestHandler)({requestType:"crt.7XHandleModelEventRequest",type:"crt.CrtModelEventHandler"})],QH);let KH=(()=>{class e{constructor(){this._repository=new Map}set(e,t){this._repository.set(e,t)}get(e){return this._repository.get(e)}getAll(){return Array.from(this._repository.values())}}return e.ɵfac=function(t){return new(t||e)},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac,providedIn:"root"}),e})(),XH=(()=>{class e extends ac{constructor(e,t,n){super(t,n),this._dataSourceRepository=e}create(e,t,n={}){return super.create(e,t,n).pipe((0,En.b)((t=>{this._dataSourceRepository.set(e,t)})))}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](KH),l["ɵɵinject"](l.Injector),l["ɵɵinject"](rc))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})(),eU=(()=>{class e extends Ty{constructor(e,t){super(),this._dataSourceRepository=e,this._dataSchemaRepository=t}getDataSchemaAttributeByPath(e){return(0,h.throwError)(new Error("Method not implemented"))}getDataSchemaByName(e){return this._dataSchemaRepository.get(e)}getDataSourceByName(e){return(0,h.of)(this._dataSourceRepository.get(e))}getDataSources(){return(0,h.of)(this._dataSourceRepository.getAll())}}return e.ɵfac=function(t){return new(t||e)(l["ɵɵinject"](KH),l["ɵɵinject"](Kl))},e.ɵprov=l["ɵɵdefineInjectable"]({token:e,factory:e.ɵfac}),e})(),tU=(()=>{class e{}return e.ɵfac=function(t){return new(t||e)},e.ɵmod=l["ɵɵdefineNgModule"]({type:e}),e.ɵinj=l["ɵɵdefineInjector"]({providers:[{provide:Ty,useClass:eU}],imports:[[Ey]]}),e})();("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](tU,{imports:[Ey]});let nU=class{constructor(e){this._customElementsBootstrapService=e}ngDoBootstrap(){this._customElementsBootstrapService.defineComponent("crt-home-page-component",rH),this._customElementsBootstrapService.defineComponent("crt-card-component",iH),this._customElementsBootstrapService.defineComponent("crt-section-component",aH),this._customElementsBootstrapService.defineComponent("crt-page-component",oH),this._customElementsBootstrapService.defineComponent("crt-chart-widget-component",nG),this._customElementsBootstrapService.defineComponent("crt-indicator-widget-component",gG),this._customElementsBootstrapService.defineComponent("crt-gauge-widget-component",eH),this._customElementsBootstrapService.defineComponent("crt-funnel-widget-component",FG),this._customElementsBootstrapService.defineComponent("crt-full-pipeline-widget-component",LG)}};nU.ɵfac=function(e){return new(e||nU)(l["ɵɵinject"](Ja))},nU.ɵmod=l["ɵɵdefineNgModule"]({type:nU}),nU.ɵinj=l["ɵɵdefineInjector"]({providers:[{provide:o.APP_BASE_HREF,useValue:"/"},{provide:s.HTTP_INTERCEPTORS,useClass:Va,multi:!0},{provide:l.APP_INITIALIZER,useFactory:function(e,t){return()=>(0,a.mG)(this,void 0,void 0,(function*(){yield e.loadCurrentUserInfo().pipe((0,Pn.w)((e=>{var n,i;return t.use(null===(i=null===(n=null==e?void 0:e.userInfo)||void 0===n?void 0:n.cultureInfo)||void 0===i?void 0:i.sysCultureName).pipe((0,dr.K)((()=>(0,h.of)(null))))}))).toPromise()}))},deps:[ea,u.sK],multi:!0},Gs,{provide:Au,useValue:[Nk,aP,aG,tH,$G,fG,Cy]},Is,{provide:ca,useClass:ga},Nc,Xr,{provide:ys,useExisting:ps},{provide:AM,useClass:WH},Zk,{provide:EM,useClass:jk},{provide:ac,useClass:XH}],imports:[[d.PW,i.BrowserModule,Cy,aG,o.CommonModule,Nk,ee,c.u5,$G,s.HttpClientModule,fG,Pd,c.UX,fE,WE,tU,qH,Pu,RE,s.HttpClientXsrfModule.withOptions({cookieName:"BPMCSRF",headerName:"BPMCSRF"}),u.aw.forRoot({defaultLanguage:"en-US",loader:{provide:u.Zw,useFactory:(e,t)=>new p.w(e,t+"ClientApp/assets/i18n/"),deps:[s.HttpClient,o.APP_BASE_HREF]}}),pt.forRoot({i18n:YH}),Nr]]}),nU=(0,a.gn)([(0,r.CrtModule)({includes:[Cy,Nk,aG,$G,fG,tH,Pd,qH,RE],converters:[sH],requestHandlers:[yH,_H,TH,mH,fH,hH,gH,bH,NH,dH,VH,pH,IH,SH,CH,DH,PH,kH,jH,OH,AH,QH,FH,EH]}),(0,a.w6)("design:paramtypes",[Ja])],nU),("undefined"==typeof ngJitMode||ngJitMode)&&l["ɵɵsetNgModuleScope"](nU,{declarations:[iH,rH,aH,oH],imports:[d.PW,i.BrowserModule,Cy,aG,o.CommonModule,Nk,ee,c.u5,$G,s.HttpClientModule,fG,Pd,c.UX,fE,WE,tU,qH,Pu,RE,s.HttpClientXsrfModule,u.aw,pt,Nr]}),(0,r.bootstrapCrtModule)(nU),i.platformBrowser().bootstrapModule(nU).catch((e=>console.error(e)))},28491:()=>{!function(e){if(e){var t=e.helpers,n=e.defaults.global;n.elements.trapezium={backgroundColor:n.defaultColor,borderWidth:0,borderColor:n.defaultColor,borderSkipped:"bottom",type:"isosceles"};e.elements.Trapezium=e.elements.Rectangle.extend({getCorners:function(){var e=this._view,t=n.elements.trapezium,i=[],r=e.type||t.type,a=e.y,o=e.borderWidth||t.borderWidth,s=this.getUpperWidth()/2,l=this.getBottomWidth()/2,c=o/2;if(c=c<0?0:c,"isosceles"==r){var d=e.x;i=[[d-l+c,e.base],[d-s+c,a+c],[d+s-c,a+c],[d+l-c,e.base]]}else if("scalene"==r){var u=e.x1,p=e.x2;i=[[p-l+c,e.base],[u-s+c,a+c],[u+s-c,a+c],[p+l-c,e.base]]}return i},draw:function(){var e=this._chart.ctx,t=this._view,i=n.elements.trapezium,r=this.getCorners();this._cornersCache=r,e.beginPath(),e.fillStyle=t.backgroundColor||i.backgroundColor,e.strokeStyle=t.borderColor||i.borderColor,e.lineWidth=t.borderWidth||i.borderWidth;var a=["bottom","left","top","right"].indexOf(t.borderSkipped||i.borderSkipped,0);function o(e){return r[(a+e)%4]}-1===a&&(a=0),e.moveTo.apply(e,o(0));for(var s=1;s<4;s++)e.lineTo.apply(e,o(s));t.useShadow?(e.shadowColor="#999",e.shadowBlur=10):(e.shadowColor=null,e.shadowBlur=null),e.fill(),t.borderWidth&&e.stroke()},height:function(){var e=this._view;return e?e.base-e.y:0},inRange:function(e,t){return!!this._view&&function(e,t){for(var n=e[0],i=e[1],r=!1,a=0,o=t.length-1;a<t.length;o=a++){var s=t[a][0],l=t[a][1],c=t[o][0],d=t[o][1];l>i!=d>i&&n<(c-s)*(i-l)/(d-l)+s&&(r=!r)}return r}([e,t],this._cornersCache?this._cornersCache:this.getCorners())},getBottomWidth:function(){var e=this._view;return e.bottomWidth+(e.additionalWidth||0)},getUpperWidth:function(){var e=this._view;return e.upperWidth+(e.additionalWidth||0)},inLabelRange:function(e){var t=this._view;if(!t)return!1;var n=this.getBottomWidth(),i=this.getUpperWidth();if("scalene"==t.type)return t.x1>t.x2?e>=t.x2-n/2&&e<=t.x1+i/2:e<=t.x2+n/2&&e>=t.x1-i/2;var r=Math.max(i,n);return e>=t.x-r/2&&e<=t.x+r/2},tooltipPosition:function(){var e=this._view;return{x:e.x||e.x2,y:e.base-(e.base-e.y)/2}},getArea:function(){for(var e=0,t=this._cornersCache?this._cornersCache:this.getCorners(),n=0,i=t.length;n<i;n++){e+=t[n][0]*t[n==t.length-1?0:n+1][1]*.5,e-=t[n==t.length-1?0:n+1][0]*t[n][1]*.5}return Math.abs(e)},getCenterPoint:function(){var e,t,n,i,r,a=this._cornersCache?this._cornersCache:this.getCorners(),o=0,s=0;for(e=0,t=a.length-1;e<a.length;t=e,e++)i=a[e],r=a[t],n=i[0]*r[1]-r[0]*i[1],o+=(i[0]+r[0])*n,s+=(i[1]+r[1])*n;return{x:o/(n=6*this.getArea()),y:s/n}}}),e.defaults.tsfunnel={hover:{mode:"label"},gap:0,upperWidth:.8,bottomWidth:.45,keep:"auto",elements:{minHeight:18,borderWidth:0},tooltips:{callbacks:{title:function(){return""},label:function(e,t){return t.labels[e.index]+": "+t.datasets[e.datasetIndex].data[e.index]}}},labelConfig:{font:"12px Open Sans",lineHeight:18,offset:{top:4,bottom:0,left:0,right:0}},scales:{yAxes:[{type:"category",display:!1}],xAxes:[{type:"category",display:!1}]}},e.controllers.tsfunnel=e.DatasetController.extend({dataElementType:e.elements.Trapezium,initialize:function(n,i){if(e.controllers.bar.prototype.initialize.call(this,n,i),void 0!==n.options&&void 0!==n.options.sort&&"data"!==n.options.sort.substr(0,4)){var r=n.data.datasets[i],a=[];t.each(r.data,(function(e,t){a.push({index:t,value:e})}));for(var o=Object.keys(r),s=0,l=o.length;s<l;s++){var c=o[s],d=r[c];if(r.hasOwnProperty(c)&&Array.isArray(d)){var u=d.map((function(e,t){return d[a[t].index]}));r[c]=u}}}},getAvailableHeight:function(){return this.chart.chartArea.bottom-this.chart.chartArea.top},getAvailableWidth:function(){return this.chart.chartArea.right-this.chart.chartArea.left},getMinHeight:function(e){for(var t=this.getAvailableHeight(),n=this.chart.options.elements.minHeight;e.length*n>t&&0!==n;)n--;return n},getTotalSum:function(e){for(var t=0,n=0,i=e.length;n<i;n++)t+=e[n];return t},reCalculateValuesForMinValue:function(e,t){for(var n=this.getTotalSum(e),i=n*t/this.getAvailableHeight(),r=0,a=0,o=[],s=0,l=e.length;s<l;s++){var c=e[s];c<=i&&(a+=i,r+=c,o[s]=i)}var d=(n-a)/(n-r);d=Math.ceil(d*Math.pow(10,10))/Math.pow(10,10);for(var u=!1,p=0,m=e.length;p<m;p++)if(void 0===o[p]){var h=e[p]*d;h<i&&(u=!0),o[p]=h}return u?this.reCalculateValuesForMinValue(o,t):o},calculateDrawOptions:function(e){var t=this.getMinHeight(e),n=this.chart.chartArea,i=this.getAvailableWidth(),r=this.getAvailableHeight(),a=this.chart.options.upperWidth,o=this.chart.options.bottomWidth,s=i*a,l=Math.atan(2*r/(s-i*o)),c=[];0!==t&&(e=this.reCalculateValuesForMinValue(e,t));for(var d=this.getTotalSum(e),u=(n.left+n.right)/2,p=r/d,m=0,h=s,g=0,f=e.length;g<f;g++){var v=e[g],b=n.top+m,C=v*p;C<t&&(C=t),m+=C;var y=n.top+m,w=h-2*C/Math.tan(l);c.push({upperWidth:h,bottomWidth:w,x:u,y:b,base:y}),h=w}return c},update:function(e){var n=this.chart,i=this.getMeta().data,r=this.getDataset(),a=[],o=this.calculateDrawOptions(r.data);t.each(r.data,(function(e,i){var s="function"==typeof r.backgroundColor?r.backgroundColor():r.backgroundColor,l=t.getValueAtIndexOrDefault(s,i);a.push({orgIndex:i,value:e,backgroundColor:l,borderColor:t.getValueAtIndexOrDefault(r.borderColor,i,l),label:t.getValueAtIndexOrDefault(n.data.labels,i,r.label),drawOptions:o[i]})})),this.elementsData=a,t.each(i,(function(t,n){this.updateElement(t,n,e)}),this)},updateElement:function(e,n,i){var r=this.elementsData[n],a=r.drawOptions;t.extend(e,{_datasetIndex:this.index,_index:r.orgIndex,_model:{type:"isosceles",y:a.y,base:a.base,x:a.x,x1:0,x2:0,upperWidth:i?0:a.upperWidth,bottomWidth:i?0:a.bottomWidth,borderWidth:0,backgroundColor:r&&r.backgroundColor,borderColor:r&&r.borderColor}}),e.pivot()},updateDataBeforeDraw:function(){for(var e=this.chart.config.selectedItemIndex,t=this.getMeta(),n=0,i=t.data.length;n<i;n++){var r=t.data[n]._model;e===n?(r.additionalWidth=5,r.useShadow=!0):(r.additionalWidth=0,r.useShadow=!1)}},draw:function(t){this.updateDataBeforeDraw(),e.DatasetController.prototype.draw.call(this,t),this.drawLabels()},drawLabels:function(){var e=this.chart.ctx;e.textAlign="center",e.textBaseline="top",e.font=this.chart.options.labelConfig.font,e.fillStyle="white",t.each(this.elementsData,(function(e){this.drawLabel(e)}),this)},drawLabel:function(e){var t=this.chart.ctx,n=e.drawOptions,i=Array.isArray(e.label)?e.label:[e.label],r=this.chart.options.labelConfig,a=r.lineHeight,o=n.base-n.y,s=Math.floor(o/a),l=n.bottomWidth,c=[];i.forEach((function(e){if(t.measureText(e).width>l){var n=this.splitLabelText(e,l,s);c=c.concat(n)}else c.push(e)}),this);for(var d=(o-(c=c.slice(0,s||1)).length*a)/2+(r.offset&&r.offset.top||0),u=n.x,p=0,m=c.length;p<m;p++){var h=c[p],g=n.y+d+p*a;t.fillText(h,u,g)}},splitLabelText:function(e,t,n){for(var i=[""],r=e.length,a=0,o=0;o<r;o++){var s=e.charAt(o);if(this.chart.ctx.measureText(i[a]+s).width>t){if(++a==n)break;i[a]=s}else i[a]+=s}return i},removeHoverStyle:function(t){e.DatasetController.prototype.removeHoverStyle.call(this,t,this.chart.options.elements.trapezium)}})}}(Chart)},30407:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=30407,e.exports=t},46700:(e,t,n)=>{var i={"./af":26431,"./af.js":26431,"./ar":81286,"./ar-dz":1616,"./ar-dz.js":1616,"./ar-kw":9759,"./ar-kw.js":9759,"./ar-ly":43160,"./ar-ly.js":43160,"./ar-ma":62551,"./ar-ma.js":62551,"./ar-sa":79989,"./ar-sa.js":79989,"./ar-tn":6962,"./ar-tn.js":6962,"./ar.js":81286,"./az":15887,"./az.js":15887,"./be":14572,"./be.js":14572,"./bg":3276,"./bg.js":3276,"./bm":93344,"./bm.js":93344,"./bn":58985,"./bn-bd":83990,"./bn-bd.js":83990,"./bn.js":58985,"./bo":94391,"./bo.js":94391,"./br":46728,"./br.js":46728,"./bs":5536,"./bs.js":5536,"./ca":41043,"./ca.js":41043,"./cs":70420,"./cs.js":70420,"./cv":33513,"./cv.js":33513,"./cy":6771,"./cy.js":6771,"./da":47978,"./da.js":47978,"./de":46061,"./de-at":25204,"./de-at.js":25204,"./de-ch":2653,"./de-ch.js":2653,"./de.js":46061,"./dv":85,"./dv.js":85,"./el":8579,"./el.js":8579,"./en-au":25724,"./en-au.js":25724,"./en-ca":10525,"./en-ca.js":10525,"./en-gb":52847,"./en-gb.js":52847,"./en-ie":67216,"./en-ie.js":67216,"./en-il":39305,"./en-il.js":39305,"./en-in":73364,"./en-in.js":73364,"./en-nz":79130,"./en-nz.js":79130,"./en-sg":11161,"./en-sg.js":11161,"./eo":50802,"./eo.js":50802,"./es":40328,"./es-do":45551,"./es-do.js":45551,"./es-mx":75615,"./es-mx.js":75615,"./es-us":64790,"./es-us.js":64790,"./es.js":40328,"./et":96389,"./et.js":96389,"./eu":52961,"./eu.js":52961,"./fa":26151,"./fa.js":26151,"./fi":7997,"./fi.js":7997,"./fil":58898,"./fil.js":58898,"./fo":37779,"./fo.js":37779,"./fr":28174,"./fr-ca":3287,"./fr-ca.js":3287,"./fr-ch":38867,"./fr-ch.js":38867,"./fr.js":28174,"./fy":50452,"./fy.js":50452,"./ga":45014,"./ga.js":45014,"./gd":74127,"./gd.js":74127,"./gl":72124,"./gl.js":72124,"./gom-deva":6444,"./gom-deva.js":6444,"./gom-latn":37953,"./gom-latn.js":37953,"./gu":76604,"./gu.js":76604,"./he":1222,"./he.js":1222,"./hi":74235,"./hi.js":74235,"./hr":622,"./hr.js":622,"./hu":37735,"./hu.js":37735,"./hy-am":90402,"./hy-am.js":90402,"./id":59187,"./id.js":59187,"./is":30536,"./is.js":30536,"./it":35007,"./it-ch":94667,"./it-ch.js":94667,"./it.js":35007,"./ja":62093,"./ja.js":62093,"./jv":80059,"./jv.js":80059,"./ka":66870,"./ka.js":66870,"./kk":80880,"./kk.js":80880,"./km":1083,"./km.js":1083,"./kn":68785,"./kn.js":68785,"./ko":21721,"./ko.js":21721,"./ku":37851,"./ku.js":37851,"./ky":1727,"./ky.js":1727,"./lb":40346,"./lb.js":40346,"./lo":93002,"./lo.js":93002,"./lt":64035,"./lt.js":64035,"./lv":56927,"./lv.js":56927,"./me":5634,"./me.js":5634,"./mi":94173,"./mi.js":94173,"./mk":86320,"./mk.js":86320,"./ml":11705,"./ml.js":11705,"./mn":31062,"./mn.js":31062,"./mr":92805,"./mr.js":92805,"./ms":11341,"./ms-my":59900,"./ms-my.js":59900,"./ms.js":11341,"./mt":37734,"./mt.js":37734,"./my":19034,"./my.js":19034,"./nb":9324,"./nb.js":9324,"./ne":46495,"./ne.js":46495,"./nl":70673,"./nl-be":76272,"./nl-be.js":76272,"./nl.js":70673,"./nn":72486,"./nn.js":72486,"./oc-lnc":46219,"./oc-lnc.js":46219,"./pa-in":2829,"./pa-in.js":2829,"./pl":78444,"./pl.js":78444,"./pt":53170,"./pt-br":66117,"./pt-br.js":66117,"./pt.js":53170,"./ro":96587,"./ro.js":96587,"./ru":39264,"./ru.js":39264,"./sd":42135,"./sd.js":42135,"./se":95366,"./se.js":95366,"./si":61767,"./si.js":61767,"./sk":46143,"./sk.js":46143,"./sl":196,"./sl.js":196,"./sq":21082,"./sq.js":21082,"./sr":91621,"./sr-cyrl":98963,"./sr-cyrl.js":98963,"./sr.js":91621,"./ss":41404,"./ss.js":41404,"./sv":55685,"./sv.js":55685,"./sw":3872,"./sw.js":3872,"./ta":54106,"./ta.js":54106,"./te":39204,"./te.js":39204,"./tet":83692,"./tet.js":83692,"./tg":86361,"./tg.js":86361,"./th":31735,"./th.js":31735,"./tk":1568,"./tk.js":1568,"./tl-ph":96129,"./tl-ph.js":96129,"./tlh":13759,"./tlh.js":13759,"./tr":81644,"./tr.js":81644,"./tzl":90875,"./tzl.js":90875,"./tzm":16878,"./tzm-latn":11041,"./tzm-latn.js":11041,"./tzm.js":16878,"./ug-cn":74357,"./ug-cn.js":74357,"./uk":74810,"./uk.js":74810,"./ur":86794,"./ur.js":86794,"./uz":28966,"./uz-latn":77959,"./uz-latn.js":77959,"./uz.js":28966,"./vi":35386,"./vi.js":35386,"./x-pseudo":23156,"./x-pseudo.js":23156,"./yo":68028,"./yo.js":68028,"./zh-cn":9330,"./zh-cn.js":9330,"./zh-hk":89380,"./zh-hk.js":89380,"./zh-mo":60874,"./zh-mo.js":60874,"./zh-tw":96508,"./zh-tw.js":96508};function r(e){var t=a(e);return n(t)}function a(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}r.keys=function(){return Object.keys(i)},r.resolve=a,e.exports=r,r.id=46700},63898:e=>{e.exports='<svg id="Component_164_1" data-name="Component 164 – 1" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">\r\n  <g id="Rectangle_6510" data-name="Rectangle 6510" transform="translate(2 3)" fill="none" stroke="currentColor" stroke-miterlimit="10" stroke-width="1">\r\n    <rect width="11" height="13" stroke="none"/>\r\n    <rect x="0.5" y="0.5" width="10" height="12" fill="none"/>\r\n  </g>\r\n  <g id="Group_7507" data-name="Group 7507" transform="translate(424.867 -406.301)">\r\n    <path id="Path_6950" data-name="Path 6950" d="M-419.367,406.8h10v12" fill="none" stroke="currentColor" stroke-miterlimit="10" stroke-width="1"/>\r\n  </g>\r\n  <path id="Path_5597" data-name="Path 5597" d="M-419.3,412.284h4.985" transform="translate(424.305 -405.784)" fill="none" stroke="currentColor" stroke-miterlimit="10" stroke-width="1"/>\r\n  <path id="Path_5598" data-name="Path 5598" d="M-419.3,414.2h2.971" transform="translate(424.305 -405.784)" fill="none" stroke="currentColor" stroke-miterlimit="10" stroke-width="1"/>\r\n  <rect id="Rectangle_1928" data-name="Rectangle 1928" width="16" height="16" fill="none"/>\r\n</svg>\r\n'},4942:e=>{e.exports='<svg id="Delete" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">\r\n  <g id="Delete-2" data-name="Delete">\r\n    <g id="Group_2209" data-name="Group 2209" transform="translate(2 1)">\r\n      <rect id="Rectangle_1349" data-name="Rectangle 1349" width="1" height="7" transform="translate(3 4)" fill="currentColor"/>\r\n      <rect id="Rectangle_1350" data-name="Rectangle 1350" width="1" height="7" transform="translate(7 4)" fill="currentColor"/>\r\n      <rect id="Rectangle_1351" data-name="Rectangle 1351" width="1" height="7" transform="translate(5 4)" fill="currentColor"/>\r\n      <path id="Path_1876" data-name="Path 1876" d="M1026-153h-3v-2h-5v2h-3v1h1v8.9l1.41,1.1h6.15l1.45-1.1V-152h1Zm-7-1h3v1h-3Zm5,10.4-.78.6h-5.47l-.75-.59V-152h7Z" transform="translate(-1015 155)" fill="currentColor"/>\r\n    </g>\r\n    <rect id="Rectangle_1352" data-name="Rectangle 1352" width="16" height="16" fill="none"/>\r\n  </g>\r\n</svg>\r\n'},64939:e=>{e.exports='<svg id="Component_216_1" data-name="Component 216 – 1" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">\r\n  <g id="Group_7561" data-name="Group 7561" transform="translate(459.298 -438.337)">\r\n    <line id="Line_809" data-name="Line 809" x2="8.5" transform="translate(-455.798 446.837)" fill="none" stroke="currentColor" stroke-miterlimit="10" stroke-width="1"/>\r\n    <path id="Path_7017" data-name="Path 7017" d="M-450.3,443.837l3,3-3,3" fill="none" stroke="currentColor" stroke-miterlimit="10" stroke-width="1"/>\r\n  </g>\r\n  <rect id="Rectangle_6555" data-name="Rectangle 6555" width="16" height="16" fill="none"/>\r\n</svg>\r\n'},17363:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 22" enable-background="new 0 0 22 22" fit="" height="100%" width="100%" preserveAspectRatio="xMidYMid meet" focusable="false"><circle cx="11" cy="11" r="9.5" fill="none" stroke="#22AC14" stroke-miterlimit="10" class="circle"></circle><g xmlns="http://www.w3.org/2000/svg" class="content" fill="#22AC14"><path d="m10 9h2v7h-2v-7"></path><path d="M10,6h2v2h-2V7"></path></g></svg>'},37433:e=>{e.exports='<svg id="Group_7" data-name="Group 7" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\r\n\t<rect id="Rectangle_7" data-name="Rectangle 7" width="24" height="24" fill="none"/>\r\n\t<line id="Line_5" data-name="Line 5" y1="10" x2="10" transform="translate(7 7)" fill="none" stroke="#ffff" stroke-miterlimit="10" stroke-width="1"/>\r\n\t<line id="Line_6" data-name="Line 6" x2="10" y2="10" transform="translate(7 7)" fill="none" stroke="#ffff" stroke-miterlimit="10" stroke-width="1"/>\r\n</svg>\r\n'},48941:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16.024" viewBox="0 0 16 16.024"><defs><style>.structure-explorer-binary-icon-unique-class-a{fill:none;}.structure-explorer-binary-icon-unique-class-b{fill:#54657d;}</style></defs><g transform="translate(0 0)"><rect class="structure-explorer-binary-icon-unique-class-a" width="16" height="16" transform="translate(0 0)"/><path class="structure-explorer-binary-icon-unique-class-b" d="M881.587-85.337c0,2.3-.838,3.573-2.306,3.573-1.3,0-2.173-1.24-2.194-3.479,0-2.272.959-3.521,2.307-3.521C880.791-88.764,881.587-87.493,881.587-85.337Zm-3.6.1c0,1.761.531,2.761,1.347,2.761.918,0,1.357-1.093,1.357-2.822,0-1.667-.419-2.761-1.347-2.761C878.557-88.055,877.985-87.077,877.985-85.233Z" transform="translate(-871.088 88.764)"/><path class="structure-explorer-binary-icon-unique-class-b" d="M881.587-85.337c0,2.3-.838,3.573-2.306,3.573-1.3,0-2.173-1.24-2.194-3.479,0-2.272.959-3.521,2.307-3.521C880.791-88.764,881.587-87.493,881.587-85.337Zm-3.6.1c0,1.761.531,2.761,1.347,2.761.918,0,1.357-1.093,1.357-2.822,0-1.667-.419-2.761-1.347-2.761C878.557-88.055,877.985-87.077,877.985-85.233Z" transform="translate(-876.088 97.764)"/><path class="structure-explorer-binary-icon-unique-class-b" d="M874.186-87.884h-.023l-1.355.657-.2-.718,1.7-.819h.9v7h-1.019Z" transform="translate(-871.607 88.764)"/><path class="structure-explorer-binary-icon-unique-class-b" d="M884.332-87.884h-.024l-1.355.657-.2-.718,1.7-.819h.9v7h-1.019Z" transform="translate(-870.754 88.764)"/><path class="structure-explorer-binary-icon-unique-class-b" d="M884.332-87.884h-.024l-1.355.657-.2-.718,1.7-.819h.9v7h-1.019Z" transform="translate(-875.754 97.764)"/><path class="structure-explorer-binary-icon-unique-class-b" d="M884.332-79.907h-.024l-1.355.657-.2-.718,1.7-.819h.9v7h-1.019Z" transform="translate(-870.754 89.811)"/></g></svg>'},13742:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><defs><style>.structure-explorer-boolean-icon-unique-class-a,.structure-explorer-boolean-icon-unique-class-b{fill:none;}.structure-explorer-boolean-icon-unique-class-a{stroke:#54657d;stroke-miterlimit:10;}</style></defs><g transform="translate(-586.213 93.047)"><path class="structure-explorer-boolean-icon-unique-class-a" d="M591.213-85.547l2.5,2,6.5-7.5"/><path class="structure-explorer-boolean-icon-unique-class-a" d="M1626.707,39.564a6.5,6.5,0,1,1-6.1-4.263" transform="translate(-1026.389 -126.848)"/></g><rect class="structure-explorer-boolean-icon-unique-class-b" width="16" height="16"/></svg>'},17129:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><defs><style>.structure-explorer-date-icon-unique-class-a,.structure-explorer-date-icon-unique-class-b{fill:none;}.structure-explorer-date-icon-unique-class-a{stroke:#54657d;stroke-miterlimit:10;}.structure-explorer-date-icon-unique-class-c{stroke:none;}</style></defs><g transform="translate(0.5)"><g transform="translate(2365.657 64.642)"><line class="structure-explorer-date-icon-unique-class-a" x2="5.938" transform="translate(-2361.157 -62.142)"/><path class="structure-explorer-date-icon-unique-class-a" d="M-2353.157-61.732h2.5v12h-15v-12h2.563" transform="translate(0 -0.41)"/><line class="structure-explorer-date-icon-unique-class-a" x2="15" transform="translate(-2365.657 -58.142)"/><g class="structure-explorer-date-icon-unique-class-a" transform="translate(-2364.157 -64.642)"><rect class="structure-explorer-date-icon-unique-class-c" width="3" height="5"/><rect class="structure-explorer-date-icon-unique-class-b" x="0.5" y="0.5" width="2" height="4"/></g><g class="structure-explorer-date-icon-unique-class-a" transform="translate(-2355.157 -64.642)"><rect class="structure-explorer-date-icon-unique-class-c" width="3" height="5"/><rect class="structure-explorer-date-icon-unique-class-b" x="0.5" y="0.5" width="2" height="4"/></g></g></g><rect class="structure-explorer-date-icon-unique-class-b" width="16" height="16"/></svg>'},46684:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><defs><style>.structure-explorer-date-time-icon-unique-class-a,.structure-explorer-date-time-icon-unique-class-b,.structure-explorer-date-time-icon-unique-class-c,.structure-explorer-date-time-icon-unique-class-d{fill:none;}.structure-explorer-date-time-icon-unique-class-b,.structure-explorer-date-time-icon-unique-class-c{stroke:#54657d;}.structure-explorer-date-time-icon-unique-class-b,.structure-explorer-date-time-icon-unique-class-d{stroke-miterlimit:10;}.structure-explorer-date-time-icon-unique-class-e,.structure-explorer-date-time-icon-unique-class-f{stroke:none;}.structure-explorer-date-time-icon-unique-class-f{fill:#54657d;}</style></defs><rect class="structure-explorer-date-time-icon-unique-class-a" width="16" height="16"/><path class="structure-explorer-date-time-icon-unique-class-b" d="M1895.033,260.278h-4.149v-9h12v2" transform="translate(-1890.384 -248.778)"/><path class="structure-explorer-date-time-icon-unique-class-c" d="M0,0H4.5" transform="translate(1 5.5)"/><g transform="translate(4.5)"><line class="structure-explorer-date-time-icon-unique-class-b" y2="4" transform="translate(-1 0)"/><line class="structure-explorer-date-time-icon-unique-class-b" y2="4" transform="translate(5 0)"/></g><g class="structure-explorer-date-time-icon-unique-class-d" transform="translate(-1889.764 -248.583)"><path class="structure-explorer-date-time-icon-unique-class-e" d="M1905.764,258.584a5,5,0,1,1-5-5A5,5,0,0,1,1905.764,258.584Z"/><path class="structure-explorer-date-time-icon-unique-class-f" d="M 1900.7626953125 262.5840454101563 C 1902.968994140625 262.5840454101563 1904.763916015625 260.7896728515625 1904.763916015625 258.5840759277344 C 1904.763916015625 256.3778686523438 1902.968994140625 254.5829772949219 1900.7626953125 254.5829772949219 C 1898.557739257813 254.5829772949219 1896.763916015625 256.3778686523438 1896.763916015625 258.5840759277344 C 1896.763916015625 260.7896728515625 1898.557739257813 262.5840454101563 1900.7626953125 262.5840454101563 M 1900.7626953125 263.5840454101563 C 1898.000244140625 263.5840454101563 1895.763916015625 261.3454284667969 1895.763916015625 258.5840759277344 C 1895.763916015625 255.8215942382813 1898.000244140625 253.5829772949219 1900.7626953125 253.5829772949219 C 1903.524169921875 253.5829772949219 1905.763916015625 255.8215942382813 1905.763916015625 258.5840759277344 C 1905.763916015625 261.3454284667969 1903.524169921875 263.5840454101563 1900.7626953125 263.5840454101563 Z"/></g><path class="structure-explorer-date-time-icon-unique-class-b" d="M1900.1,254.194v5h2.5" transform="translate(-1889.097 -248.694)"/></svg>'},53073:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><defs><style>.structure-explorer-float-icon-unique-class-a{fill:#54657d;}.structure-explorer-float-icon-unique-class-b{fill:none;}</style></defs><g transform="translate(2212.813 -42.785)"><path class="structure-explorer-float-icon-unique-class-a" d="M-2210.728,47.87h-.024l-1.355.732-.2-.8,1.7-.911h.9v7.795h-1.019Z" transform="translate(1)"/><path class="structure-explorer-float-icon-unique-class-a" d="M-2207.943,54.682v-.647l.828-.8c1.99-1.9,2.891-2.9,2.9-4.077a1.391,1.391,0,0,0-1.547-1.524,2.659,2.659,0,0,0-1.656.66l-.336-.744a3.431,3.431,0,0,1,2.207-.791,2.193,2.193,0,0,1,2.387,2.266c0,1.44-1.043,2.6-2.686,4.186l-.624.576v.024h3.5v.875Z" transform="translate(4 0.03)"/><rect class="structure-explorer-float-icon-unique-class-a" width="1" height="1" transform="translate(-2206.813 53.785)"/></g><rect class="structure-explorer-float-icon-unique-class-b" width="16" height="16"/></svg>'},3465:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><defs><style>.structure-explorer-guid-icon-unique-class-a{fill:none;}.structure-explorer-guid-icon-unique-class-b{fill:#54657d;}</style></defs><rect class="structure-explorer-guid-icon-unique-class-a" width="16" height="16"/><path class="structure-explorer-guid-icon-unique-class-b" d="M4.252-2.767h-2v1h1V-.5c-.016.018.177,0-.252,0A1.724,1.724,0,0,1,1.172-2.253,1.727,1.727,0,0,1,3-4.03a3.445,3.445,0,0,1,1.252.216l.013-.729A3.252,3.252,0,0,0,3-4.767,2.5,2.5,0,0,0,.252-2.253,2.45,2.45,0,0,0,.96-.439,2.675,2.675,0,0,0,2.857.2,4.082,4.082,0,0,0,4.252,0Zm1-2v2.919A1.86,1.86,0,0,0,7.232.233a1.869,1.869,0,0,0,2.02-2.081V-4.767h-1v2.919C8.252-.771,7.685-.5,7.232-.5c-.358,0-.98-.253-.98-1.344V-4.767Zm5,0v5h1v-5Zm2,4.964c.016.02.559,0,1.026,0a3.21,3.21,0,0,0,2.244-.7,2.518,2.518,0,0,0,.73-1.893,2.2,2.2,0,0,0-.715-1.749,2.987,2.987,0,0,0-2.056-.607c-.52,0-1.229-.032-1.229-.015Zm1-4.227c.173-.036-.11,0,.229,0,1.385,0,1.871.8,1.871,1.633A1.773,1.773,0,0,1,13.393-.5c-.256,0,.025.029-.141,0Z" transform="translate(-0.252 9.768)"/></svg>'},99104:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><defs><style>.structure-explorer-image-icon-unique-class-a,.structure-explorer-image-icon-unique-class-c{fill:none;}.structure-explorer-image-icon-unique-class-a{stroke:#54657d;stroke-miterlimit:10;}.structure-explorer-image-icon-unique-class-b{fill:#54657d;}.structure-explorer-image-icon-unique-class-d{stroke:none;}</style></defs><g class="structure-explorer-image-icon-unique-class-a" transform="translate(0 2)"><rect class="structure-explorer-image-icon-unique-class-d" width="16" height="12"/><rect class="structure-explorer-image-icon-unique-class-c" x="0.5" y="0.5" width="15" height="11"/></g><circle class="structure-explorer-image-icon-unique-class-b" cx="1.5" cy="1.5" r="1.5" transform="translate(10 4)"/><path class="structure-explorer-image-icon-unique-class-b" d="M638.873-81.425l4-6,7,8h-11Z" transform="translate(-637.873 92.426)"/><path class="structure-explorer-image-icon-unique-class-b" d="M650.873-79.425l-2-3,2-1,2,2v2Z" transform="translate(-637.873 92.426)"/><rect class="structure-explorer-image-icon-unique-class-c" width="16" height="16"/></svg>'},41337:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><defs><style>.structure-explorer-integer-icon-unique-class-a{fill:#54657d;}.structure-explorer-integer-icon-unique-class-b{fill:none;}</style></defs><g transform="translate(0.502 3.971)"><path class="structure-explorer-integer-icon-unique-class-a" d="M-2210.728,47.87h-.024l-1.355.732-.2-.8,1.7-.911h.9v7.795h-1.019Z" transform="translate(2212.311 -46.755)"/><path class="structure-explorer-integer-icon-unique-class-a" d="M-2207.943,54.682v-.647l.828-.8c1.99-1.9,2.891-2.9,2.9-4.077a1.391,1.391,0,0,0-1.547-1.524,2.659,2.659,0,0,0-1.656.66l-.336-.744a3.431,3.431,0,0,1,2.207-.791,2.193,2.193,0,0,1,2.387,2.266c0,1.44-1.043,2.6-2.686,4.186l-.624.576v.024h3.5v.875Z" transform="translate(2212.311 -46.755)"/><path class="structure-explorer-integer-icon-unique-class-a" d="M-2201.9,53.471a3.526,3.526,0,0,0,1.727.492c1.356,0,1.775-.864,1.763-1.512-.013-1.091-.995-1.559-2.015-1.559h-.588V50.1h.588c.768,0,1.739-.4,1.739-1.319,0-.624-.4-1.176-1.368-1.176a2.86,2.86,0,0,0-1.558.516l-.276-.768a3.715,3.715,0,0,1,2.039-.6c1.535,0,2.231.911,2.231,1.859a1.938,1.938,0,0,1-1.439,1.835v.024a2.031,2.031,0,0,1,1.738,2c0,1.248-.971,2.339-2.842,2.339a3.964,3.964,0,0,1-2.027-.528Z" transform="translate(2212.311 -46.755)"/></g><rect class="structure-explorer-integer-icon-unique-class-b" width="16" height="16"/></svg>'},250:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><defs><style>.structure-explorer-lookup-icon-unique-class-a,.structure-explorer-lookup-icon-unique-class-b,.structure-explorer-lookup-icon-unique-class-c{fill:none;}.structure-explorer-lookup-icon-unique-class-a,.structure-explorer-lookup-icon-unique-class-b{stroke:#54657d;}.structure-explorer-lookup-icon-unique-class-a{stroke-miterlimit:10;}.structure-explorer-lookup-icon-unique-class-d{stroke:none;}</style></defs><g transform="translate(0.001)"><g class="structure-explorer-lookup-icon-unique-class-a" transform="translate(0 0)"><circle class="structure-explorer-lookup-icon-unique-class-d" cx="6" cy="6" r="6"/><circle class="structure-explorer-lookup-icon-unique-class-c" cx="6" cy="6" r="5.5"/></g><path class="structure-explorer-lookup-icon-unique-class-b" d="M.344.344,5.5,5.5" transform="translate(9.5 9.5)"/></g><rect class="structure-explorer-lookup-icon-unique-class-c" width="16" height="16"/></svg>'},84764:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><defs><style>.structure-explorer-string-icon-unique-class-a{fill:#54657d;}.structure-explorer-string-icon-unique-class-b{fill:none;}</style></defs><g transform="translate(2212.813 -5.301)"><path class="structure-explorer-string-icon-unique-class-a" d="M-2199.672,7.3l.139,2.951h-.354a3.592,3.592,0,0,0-.277-1.114,1.871,1.871,0,0,0-.766-.793,2.672,2.672,0,0,0-1.258-.255h-1.771V17.7a2.586,2.586,0,0,0,.25,1.448,1.4,1.4,0,0,0,1.086.389h.435v.343h-5.334v-.343h.446a1.277,1.277,0,0,0,1.132-.482,2.832,2.832,0,0,0,.2-1.355V8.089h-1.512a4.188,4.188,0,0,0-1.252.13,1.717,1.717,0,0,0-.826.677,2.739,2.739,0,0,0-.409,1.355h-.353l.148-2.951Z"/></g><rect class="structure-explorer-string-icon-unique-class-b" width="16" height="16"/></svg>'},85443:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><defs><style>.structure-explorer-time-icon-unique-class-a,.structure-explorer-time-icon-unique-class-c{fill:none;}.structure-explorer-time-icon-unique-class-a{stroke:#54657d;stroke-miterlimit:10;}.structure-explorer-time-icon-unique-class-b{stroke:none;}</style></defs><g transform="translate(-1816.814 -33.301)"><g class="structure-explorer-time-icon-unique-class-a" transform="translate(1816.814 33.301)"><circle class="structure-explorer-time-icon-unique-class-b" cx="8" cy="8" r="8"/><circle class="structure-explorer-time-icon-unique-class-c" cx="8" cy="8" r="7.5"/></g><path class="structure-explorer-time-icon-unique-class-a" d="M1825.314,36.015v5.244l3,3.542"/></g></svg>'},66259:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">\r\n  <line y2="13" transform="translate(8 1.5)" fill="none" stroke="currentColor" stroke-width="2"/>\r\n  <line y2="13" transform="translate(14.5 8) rotate(90)" fill="none" stroke="currentColor" stroke-width="2"/>\r\n  <rect width="16" height="16" fill="none"/>\r\n</svg>\r\n'},80159:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">\r\n\t<g fill="#DFE8EE" stroke="#B5D0EB" stroke-miterlimit="10" stroke-width="1">\r\n\t\t<rect x="1" y="1" width="14" height="14" rx="2"/>\r\n\t</g>\r\n</svg>\r\n'},92595:e=>{e.exports='<svg id="Component_862_1" data-name="Component 862 – 1" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">\r\n  <g id="Rectangle_6510" data-name="Rectangle 6510" transform="translate(2 4)" fill="none" stroke="#0d2e4e" stroke-miterlimit="10" stroke-width="2">\r\n    <rect width="9" height="11" stroke="none"/>\r\n    <rect x="1" y="1" width="7" height="9" fill="none"/>\r\n  </g>\r\n  <g id="Group_7507" data-name="Group 7507" transform="translate(422.367 -404.801)">\r\n    <path id="Path_6950" data-name="Path 6950" d="M-418.367,406.8h9v11" fill="none" stroke="#0d2e4e" stroke-miterlimit="10" stroke-width="2"/>\r\n  </g>\r\n  <rect id="Rectangle_1928" data-name="Rectangle 1928" width="16" height="16" fill="none"/>\r\n</svg>\r\n'},73972:e=>{e.exports='<svg id="icon_delete_16" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">\r\n  <g id="Group_2209" data-name="Group 2209" transform="translate(2 1)">\r\n    <path id="Path_1876" data-name="Path 1876" d="M1026-153h-3v-2h-5v2h-3v1h1v8.9l1.41,1.1h6.15l1.45-1.1V-152h1Zm-7-1h3v1h-3Z" transform="translate(-1015 155)" fill="#0d2e4e"/>\r\n    <rect id="Rectangle_1349" data-name="Rectangle 1349" width="1" height="7" transform="translate(3 4)" fill="#fff"/>\r\n    <rect id="Rectangle_1350" data-name="Rectangle 1350" width="1" height="7" transform="translate(7 4)" fill="#fff"/>\r\n    <rect id="Rectangle_1351" data-name="Rectangle 1351" width="1" height="7" transform="translate(5 4)" fill="#fff"/>\r\n  </g>\r\n  <rect id="Rectangle_1352" data-name="Rectangle 1352" width="16" height="16" fill="none"/>\r\n</svg>\r\n'},51119:e=>{e.exports='<?xml version="1.0" encoding="UTF-8"?>\r\n<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="114" height="114" viewBox="0 0 114 114">\r\n\t<defs>\r\n\t\t<style>.tile-pane-gauge-a,.tile-pane-gauge-c,.tile-pane-gauge-d,.tile-pane-gauge-f{fill:#fff;}.tile-pane-gauge-b{fill:url(#a);}.tile-pane-gauge-c,.tile-pane-gauge-d{font-size:12px;}.tile-pane-gauge-c{font-family:OpenSans, Open Sans;}.tile-pane-gauge-d{font-family:Montserrat-SemiBold, Montserrat;font-weight:600;letter-spacing:0.081em;}.tile-pane-gauge-e{clip-path:url(#b);}.tile-pane-gauge-g,.tile-pane-gauge-h{stroke:none;}.tile-pane-gauge-h{fill:#fff;}.tile-pane-gauge-i{filter:url(#c);}</style>\r\n\t\t<linearGradient id="a" x1="-0.076" y1="-0.059" x2="1.044" y2="1.049" gradientUnits="objectBoundingBox">\r\n\t\t\t<stop offset="0" stop-color="#0091ea" />\r\n\t\t\t<stop offset="1" stop-color="#0082cf" />\r\n\t\t</linearGradient>\r\n\t\t<clipPath id="b">\r\n\t\t\t<path class="tile-pane-gauge-a" d="M64.576,53.525h0A53.839,53.839,0,0,1,59.747,49.5a28.753,28.753,0,1,0-49.454.225,58.762,58.762,0,0,1-5.129,3.526A34.944,34.944,0,0,1,34.955,0,34.948,34.948,0,0,1,64.576,53.523Z" transform="translate(0)" />\r\n\t\t</clipPath>\r\n\t\t<filter id="c" x="46.529" y="61.027" width="47.385" height="38.128" filterUnits="userSpaceOnUse">\r\n\t\t\t<feOffset dy="3" input="SourceAlpha" />\r\n\t\t\t<feGaussianBlur stdDeviation="3" result="d" />\r\n\t\t\t<feFlood flood-color="#0058ef" />\r\n\t\t\t<feComposite operator="in" in2="d" />\r\n\t\t\t<feComposite in="SourceGraphic" />\r\n\t\t</filter>\r\n\t</defs>\r\n\t<rect class="tile-pane-gauge-b" width="114" height="114" rx="9" />\r\n\t<text class="tile-pane-gauge-c" transform="translate(27 21)">\r\n\t\t<tspan x="-19.406" y="0">Gauge</tspan>\r\n\t</text>\r\n\t<text class="tile-pane-gauge-d" transform="translate(58 92)">\r\n\t\t<tspan x="-8.712" y="0">XX</tspan>\r\n\t</text>\r\n\t<g transform="translate(-202.318 -1992.827)">\r\n\t\t<g class="tile-pane-gauge-e" transform="translate(225.746 2029.327)">\r\n\t\t\t<path class="tile-pane-gauge-a" d="M64.576,53.525h0A53.839,53.839,0,0,1,59.747,49.5a28.753,28.753,0,1,0-49.454.225,58.762,58.762,0,0,1-5.129,3.526A34.944,34.944,0,0,1,34.955,0,34.948,34.948,0,0,1,64.576,53.523Z" transform="translate(0)" />\r\n\t\t\t<g class="tile-pane-gauge-f" transform="translate(6.864 -16.321)">\r\n\t\t\t\t<path class="tile-pane-gauge-g" d="M 28.38788795471191 50.10850143432617 L -21.39307022094727 13.17486953735352 L -0.3786251544952393 -4.693844795227051 L 75.64794921875 12.75589275360107 L 28.38788795471191 50.10850143432617 Z" />\r\n\t\t\t\t<path class="tile-pane-gauge-h" d="M -0.2458915710449219 -4.150375366210938 L -20.58985137939453 13.1482048034668 L 28.37826919555664 49.47877883911133 L 74.52006530761719 13.01001358032227 L -0.2458915710449219 -4.150375366210938 M -0.5113449096679688 -5.237300872802734 L 76.77584075927734 12.50176620483398 L 28.39749526977539 50.73821640014648 L -22.1962890625 13.20152282714844 L -0.5113449096679688 -5.237300872802734 Z" />\r\n\t\t\t</g>\r\n\t\t\t<g class="tile-pane-gauge-f" transform="translate(-1.504 24.67)">\r\n\t\t\t\t<path class="tile-pane-gauge-g" d="M -13.75909423828125 45.78868865966797 L 3.635605335235596 -14.5278263092041 L 6.7893967628479 -13.24628829956055 L 36.39451217651367 9.271733283996582 L -13.75909423828125 45.78868865966797 Z" />\r\n\t\t\t\t<path class="tile-pane-gauge-h" d="M 3.962080001831055 -13.85546493530273 L -12.8746337890625 44.52622222900391 L 35.55708312988281 9.262975692749023 L 6.539575576782227 -12.80810546875 L 3.962080001831055 -13.85546493530273 M 3.309133529663086 -15.2001953125 L 7.039183616638184 -13.68449401855469 L 37.23194122314453 9.280494689941406 L -14.64355850219727 47.05116653442383 L 3.309133529663086 -15.2001953125 Z" />\r\n\t\t\t</g>\r\n\t\t</g>\r\n\t\t<g class="tile-pane-gauge-i" transform="matrix(1, 0, 0, 1, 202.32, 1992.83)">\r\n\t\t\t<path class="tile-pane-gauge-a" d="M0,2.256A2.254,2.254,0,0,1,4.251,1.208l27.319.836L4.27,3.267A2.254,2.254,0,0,1,0,2.256Z" transform="translate(57.85 67.03) rotate(31)" />\r\n\t\t</g>\r\n\t</g>\r\n</svg>\r\n'},63691:e=>{e.exports='<svg id="Component_842_1" data-name="Component 842 – 1" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">\r\n  <path id="Path_10149" data-name="Path 10149" d="M13.22,6.693a8.074,8.074,0,0,0-.653-1.587c1.027-.84,1.4-1.493.187-2.52-.747-.747-1.493.28-1.96.747a8.274,8.274,0,0,0-1.587-.747C9.393,1.653,9.113,1,7.9,1s-1.493.653-1.4,1.587a12.15,12.15,0,0,0-1.587.747c-.467-.467-1.12-1.493-1.867-.84-1.213,1.027-.84,1.773.187,2.613A8.074,8.074,0,0,0,2.58,6.693C1.647,6.507.9,6.787.9,8c0,1.307.653,1.493,1.587,1.307a4.952,4.952,0,0,0,.747,1.587c-.467.467-1.4,1.213-.747,1.96,1.027,1.213,1.68.84,2.52-.187a8.074,8.074,0,0,0,1.587.653C6.407,14.253,6.687,15,7.9,15s1.493-.747,1.307-1.68a8.074,8.074,0,0,0,1.587-.653c.84,1.027,1.493,1.4,2.52.187.653-.747-.28-1.493-.747-1.96a8.274,8.274,0,0,0,.747-1.587C14.247,9.493,14.9,9.213,14.9,8S14.153,6.507,13.22,6.693ZM7.9,10.8A2.75,2.75,0,0,1,5.1,8,2.75,2.75,0,0,1,7.9,5.2,2.75,2.75,0,0,1,10.7,8,2.808,2.808,0,0,1,7.9,10.8Z" transform="translate(0.1)" fill="#0d2e4e"/>\r\n  <rect id="Rectangle_24226" data-name="Rectangle 24226" width="16" height="16" fill="none"/>\r\n</svg>\r\n'},27890:e=>{e.exports='<?xml version="1.0" encoding="UTF-8"?>\r\n<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="114" height="114" viewBox="0 0 114 114">\r\n\t<defs>\r\n\t\t<style>.tile-pane-metric-a{fill:url(#a);}.tile-pane-metric-b,.tile-pane-metric-c,.tile-pane-metric-d,.tile-pane-metric-e{fill:#fff;}.tile-pane-metric-b{font-size:12px;}.tile-pane-metric-b,.tile-pane-metric-c{font-family:OpenSans, Open Sans;}.tile-pane-metric-c{font-size:8px;}.tile-pane-metric-d{font-size:22px;font-family:Montserrat-SemiBold, Montserrat;font-weight:600;letter-spacing:0.081em;}</style>\r\n\t\t<linearGradient id="a" x1="0.5" x2="0.5" y2="1" gradientUnits="objectBoundingBox">\r\n\t\t\t<stop offset="0" stop-color="#0091ea" />\r\n\t\t\t<stop offset="1" stop-color="#0082cf" />\r\n\t\t</linearGradient>\r\n\t</defs>\r\n\t<rect class="tile-pane-metric-a" width="114" height="114" rx="8" />\r\n\t<text class="tile-pane-metric-b" transform="translate(42 21)">\r\n\t\t<tspan x="-33.826" y="0">Metric</tspan>\r\n\t</text>\r\n\t<text class="tile-pane-metric-c" transform="translate(8 102)">\r\n\t\t<tspan x="0" y="0">Templates</tspan>\r\n\t</text>\r\n\t<text class="tile-pane-metric-d" transform="translate(11 66)">\r\n\t\t<tspan x="0" y="0">XX</tspan>\r\n\t</text>\r\n\t<path class="tile-pane-metric-e" d="M3,0,6,5H0Z" transform="translate(55.5 96.5) rotate(90)" />\r\n</svg>\r\n'},87885:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M16 6H8c-.6 0-1-.4-1-1s.4-1 1-1h8c.6 0 1 .4 1 1s-.4 1-1 1zm0 14H8c-.6 0-1-.4-1-1s.4-1 1-1h8c.6 0 1 .4 1 1s-.4 1-1 1zm3-3c-.6 0-1-.4-1-1V8c0-.6.4-1 1-1s1 .4 1 1v8c0 .6-.4 1-1 1zM5 17c-.6 0-1-.4-1-1V8c0-.6.4-1 1-1s1 .4 1 1v8c0 .6-.4 1-1 1z"/><path d="M23 24H1c-.6 0-1-.4-1-1V1c0-.6.4-1 1-1h22c.6 0 1 .4 1 1v22c0 .6-.4 1-1 1zM2 22h20V2H2v20z"/></svg>'},25006:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 1000" xml:space="preserve">\r\n  <path d="M143.6 500H10l178.2 178.2L366.4 500H232.7c0-147.4 119.8-267.3 267.3-267.3 45 0 87.8 11.1 124.7 31.2l65-65C635 164.1 569.9 143.6 500 143.6c-196.9 0-356.4 159.5-356.4 356.4zm623.7 0c0 147.4-119.8 267.3-267.3 267.3-45 0-87.8-11.1-124.7-31.2l-65 65c54.8 34.7 119.8 55.2 189.8 55.2 196.9 0 356.4-159.5 356.4-356.4H990L811.8 321.8 633.6 500h133.7z"/>\r\n</svg>\r\n'},66576:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24">\r\n  <defs>\r\n    <path id="a" fill="#0d2e4e" d="M0,0H1.7V5.1H0V0"/>\r\n    <path id="b" fill="#0d2e4e" d="M0,0H10.774V2.552H0V0"/>\r\n  </defs>\r\n  <rect width="24" height="24" fill="none" rx="4"/>\r\n  <path fill="#0d2e4e" d="M0,0H4.031V2.552H0V0" transform="rotate(180 3.701 3.488)"/>\r\n  <use xlink:href="#a" transform="rotate(180 4.23 4.125)"/>\r\n  <use xlink:href="#a" transform="rotate(180 8.095 7.276)"/>\r\n  <use xlink:href="#a" transform="rotate(180 4.095 10.421)"/>\r\n  <path fill="#0d2e4e" d="M0,0H11.969V2.552H0V0" transform="rotate(180 7.67 6.634)"/>\r\n  <path fill="#0d2e4e" d="M0,0H3.18V2.552H0V0" transform="rotate(180 3.276 9.823)"/>\r\n  <use xlink:href="#b" transform="rotate(180 10.364 3.488)"/>\r\n  <path fill="#0d2e4e" d="M0,0H3.122V2.552H0V0" transform="rotate(180 10.364 6.634)"/>\r\n  <use xlink:href="#b" transform="rotate(180 10.364 9.823)"/>\r\n</svg>\r\n'},63893:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\r\n  <g>\r\n    <g fill="none">\r\n      <path d="M0 0H24V24H0z"/>\r\n      <path stroke="#0d2e4e" stroke-width="2" d="M26.432,24.593,23.268,43.581" transform="translate(-13.347 -22.087)"/>\r\n      <path stroke="#0d2e4e" stroke-width="2" d="M7.6,0,3.8,4.008,0,0" transform="rotate(-90 15.053 .55)"/>\r\n      <path stroke="#0d2e4e" stroke-width="2" d="M7.6,4.008,3.8,0,0,4.008" transform="rotate(-90 10.053 5.55)"/>\r\n    </g>\r\n  </g>\r\n</svg>\r\n'},70494:e=>{e.exports='<svg id="tab-action-add" data-name="tab-action-add" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">\r\n  <g data-name="Group 2033" transform="translate(1 1)">\r\n    <line class="tab-action-add-icon" data-name="Line 38" y2="12" transform="translate(7 1)" fill="none" stroke-width="2"/>\r\n    <line class="tab-action-add-icon" data-name="Line 39" y2="12" transform="translate(13 7) rotate(90)" fill="none" stroke-width="2"/>\r\n  </g>\r\n  <rect id="Rectangle_23394" data-name="Rectangle 23394" width="16" height="16" fill="none"/>\r\n</svg>\r\n'},42702:e=>{e.exports='<svg id="Delete" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">\r\n  <path id="Exclusion_3" data-name="Exclusion 3" d="M8.561,13H2.412L1,11.9V3H0V2H3V0H8V2h3l.012,1h-1v8.9L8.562,13ZM7,4v7H8V4ZM5,4v7H6V4ZM3,4v7H4V4ZM4,1V2H7V1Z" transform="translate(2.1 1.1)" fill="#0d2e4e"/>\r\n  <rect id="Rectangle_1352" data-name="Rectangle 1352" width="16" height="16" fill="none"/>\r\n</svg>\r\n'},1781:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M12.5 8c-2.65 0-5.05.99-6.9 2.6L3.71 8.71C3.08 8.08 2 8.52 2 9.41V15c0 .55.45 1 1 1h5.59c.89 0 1.34-1.08.71-1.71l-1.91-1.91c1.39-1.16 3.16-1.88 5.12-1.88 3.16 0 5.89 1.84 7.19 4.5.27.56.91.84 1.5.64.71-.23 1.07-1.04.75-1.72C20.23 10.42 16.65 8 12.5 8z"/></svg>\r\n'},80805:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="72" height="64"><defs><clipPath id="a"><path fill="none" d="M0 0h33.75v5H0z"/></clipPath></defs><g transform="translate(-516 -872)"><rect width="72" height="64" rx="6" transform="translate(516 872)" fill="none"/><rect width="56" height="46" rx="4" transform="translate(524 880)" fill="none"/><g data-name="Group 14754" transform="rotate(90 519.455 828.779)" fill="#7fc8f4"><rect width="36.729" height="10.229" rx="4" transform="rotate(-90 697.929 120.8)" opacity=".5"/><rect width="36.729" height="10.91" rx="4" transform="rotate(-90 703.725 115.004)" opacity=".5"/><rect width="36.729" height="10.229" rx="4" transform="rotate(-90 709.862 108.867)" opacity=".5"/></g><g transform="rotate(90 -156.375 730.875)"><path d="M4 2.5 0 5V0ZM11 2.5 7 5V0ZM18 2.5 14 5V0ZM25 2.5 21 5V0ZM32 2.5 28 5V0Z" fill="#004fd6"/></g></g></svg>\r\n'},15335:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="72" height="64"><g transform="translate(-418 -872)"><rect width="72" height="64" rx="6" transform="translate(418 872)" fill="none"/><rect width="56" height="46" rx="4" transform="translate(426 880)" fill="none"/><g transform="translate(-148.128 117.452)" fill="#7fc8f4"><rect width="22" height="15" rx="4" transform="rotate(-90 690.338 113.21)" opacity=".5"/><rect width="22" height="16" rx="4" transform="rotate(-90 698.838 104.71)" opacity=".5"/><rect width="22" height="15" rx="4" transform="rotate(-90 707.838 95.71)" opacity=".5"/></g><g><path d="m434 890.5-4 2.5v-5Zm9 0-4 2.5v-5Zm9 0-4 2.5v-5Zm9 0-4 2.5v-5Zm9 0-4 2.5v-5Zm9 0-4 2.5v-5Z" fill="#004fd6"/></g></g></svg>\r\n'},85482:e=>{e.exports='<svg id="Grid_area_icon" xmlns="http://www.w3.org/2000/svg" width="72" height="64" viewBox="0 0 72 64"><g id="Group_14810" transform="translate(-290 -760)"><rect id="Rectangle_39847" width="72" height="64" rx="6" transform="translate(290 760)" fill="none"/><g id="Rectangle_6778" transform="translate(298 768)" fill="#fff" stroke="#999" stroke-width="1"><rect width="56" height="46" rx="4" stroke="none"/><rect x="0.5" y="0.5" width="55" height="45" rx="3.5" fill="none"/></g><rect id="Rectangle_24809" width="40" height="6" rx="3" transform="translate(306 778)" fill="#d1d1d1"/><rect id="Rectangle_39848" width="40" height="6" rx="3" transform="translate(306 788)" fill="#d1d1d1"/><rect id="Rectangle_39849" width="40" height="6" rx="3" transform="translate(306 798)" fill="#d1d1d1"/></g></svg>\r\n'},96153:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="72" height="64"><g data-name="Group 14609" transform="translate(-446 -144)"><rect data-name="Rectangle 24755" width="72" height="64" rx="6" transform="translate(446 144)" fill="none"/><g data-name="Rectangle 39843" transform="translate(457 155)" fill="#7fc8f4" stroke="#006ce0" opacity=".34"><rect width="50" height="43" rx="4" stroke="none"/><rect x=".5" y=".5" width="49" height="42" rx="3.5" fill="none"/></g></g></svg>'},61399:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="72" height="64"><g data-name="Group 14609" transform="translate(-446 -144)"><rect data-name="Rectangle 24755" width="72" height="64" rx="6" transform="translate(446 144)" fill="none"/><g data-name="Rectangle 39843" transform="translate(484 155)" fill="#7fc8f4" stroke="#006ce0" opacity=".34"><rect width="23" height="43" rx="4" stroke="none"/><rect x=".5" y=".5" width="22" height="42" rx="3.5" fill="none"/></g><g data-name="Rectangle 39845" transform="translate(457 155)" fill="#7fc8f4" stroke="#006ce0" opacity=".34"><rect width="23" height="43" rx="4" stroke="none"/><rect x=".5" y=".5" width="22" height="42" rx="3.5" fill="none"/></g></g></svg>'},73953:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="72" height="64"><g data-name="Group 14609" transform="translate(-446 -144)"><rect data-name="Rectangle 24755" width="72" height="64" rx="6" transform="translate(446 144)" fill="none"/><g data-name="Rectangle 39845" transform="translate(456 155)" fill="#7fc8f4" stroke="#006ce0" opacity=".34"><rect width="15" height="43" rx="4" stroke="none"/><rect x=".5" y=".5" width="14" height="42" rx="3.5" fill="none"/></g><g data-name="Rectangle 39906" transform="translate(474 155)" fill="#7fc8f4" stroke="#006ce0" opacity=".34"><rect width="15" height="43" rx="4" stroke="none"/><rect x=".5" y=".5" width="14" height="42" rx="3.5" fill="none"/></g><g data-name="Rectangle 39907" transform="translate(492 155)" fill="#7fc8f4" stroke="#006ce0" opacity=".34"><rect width="15" height="43" rx="4" stroke="none"/><rect x=".5" y=".5" width="14" height="42" rx="3.5" fill="none"/></g></g></svg>'},39079:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="72" height="64"><g data-name="Group 14609" transform="translate(-446 -144)"><rect data-name="Rectangle 24755" width="72" height="64" rx="6" transform="translate(446 144)" fill="none"/><g data-name="Rectangle 39845" transform="translate(457 155)" fill="#7fc8f4" stroke="#006ce0" opacity=".34"><rect width="10" height="43" rx="4" stroke="none"/><rect x=".5" y=".5" width="9" height="42" rx="3.5" fill="none"/></g><g data-name="Rectangle 39908" transform="translate(470 155)" fill="#7fc8f4" stroke="#006ce0" opacity=".34"><rect width="10" height="43" rx="4" stroke="none"/><rect x=".5" y=".5" width="9" height="42" rx="3.5" fill="none"/></g><g data-name="Rectangle 39909" transform="translate(483 155)" fill="#7fc8f4" stroke="#006ce0" opacity=".34"><rect width="10" height="43" rx="4" stroke="none"/><rect x=".5" y=".5" width="9" height="42" rx="3.5" fill="none"/></g><g data-name="Rectangle 39910" transform="translate(496 155)" fill="#7fc8f4" stroke="#006ce0" opacity=".34"><rect width="10" height="43" rx="4" stroke="none"/><rect x=".5" y=".5" width="9" height="42" rx="3.5" fill="none"/></g></g></svg>'},94309:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" enable-background="new 0 0 20 20"><g fill="#afb4c1"><path d="m9 11.8h2v3.3h-2z"/><circle cx="10" cy="12" r="1.5"/></g><g fill="none" stroke="#afb4c1" stroke-miterlimit="10"><path d="m16.5 18.5h-13c-.6 0-1-.4-1-1v-9c0-.6.4-1 1-1h13c.6 0 1 .4 1 1v9c0 .6-.4 1-1 1z"/><path d="M5.5,7V5.5c0-2.2,1.8-4,4-4h1c2.2,0,4,1.8,4,4V7" stroke-width="1.25"/></g></svg>'},8341:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="537" height="537" viewBox="0 0 537 537">\r\n  <g id="Ellipse_2751" data-name="Ellipse 2751" fill="none" stroke="#fff" stroke-width="70" opacity="0.15">\r\n    <circle cx="268.5" cy="268.5" r="268.5" stroke="none"/>\r\n    <circle cx="268.5" cy="268.5" r="233.5" fill="none"/>\r\n  </g>\r\n</svg>\r\n'},64478:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="115" height="25" viewBox="0 0 115 25">\r\n  <defs>\r\n    <clipPath id="clip-path">\r\n      <rect id="Rectangle_40815" data-name="Rectangle 40815" width="115" height="25" transform="translate(1242 6)" fill="#fff" stroke="#707070" stroke-width="1"/>\r\n    </clipPath>\r\n    <linearGradient id="linear-gradient" x1="0.5" x2="0.5" y2="1" gradientUnits="objectBoundingBox">\r\n      <stop offset="0" stop-color="#284578"/>\r\n      <stop offset="1" stop-color="#14233c"/>\r\n    </linearGradient>\r\n  </defs>\r\n  <g id="Mask_Group_15154" data-name="Mask Group 15154" transform="translate(-1242 -6)" clip-path="url(#clip-path)">\r\n    <g id="Group_14476" data-name="Group 14476" transform="translate(1247.072 9.799)">\r\n      <path id="Path_6161" data-name="Path 6161" d="M19.5-13.931c2.8,0,4.106-1.394,4.106-3.015,0-3.894-6.425-2.273-6.425-4.864,0-.924.773-1.682,2.576-1.682a5.478,5.478,0,0,1,2.909.864l.5-1.212a6.24,6.24,0,0,0-3.409-.939c-2.788,0-4.061,1.394-4.061,3.031,0,3.94,6.425,2.3,6.425,4.894,0,.924-.788,1.637-2.621,1.637A5.459,5.459,0,0,1,16-16.446l-.561,1.182A6.3,6.3,0,0,0,19.5-13.931Zm8.273-.121h1.5V-23.34h3.637v-1.318H24.133v1.318h3.637Zm10.643.121c2.8,0,4.485-1.621,4.485-4.7v-6.031h-1.47v5.97c0,2.349-1.091,3.409-3,3.409s-2.985-1.061-2.985-3.409v-5.97H33.927v6.031C33.927-15.552,35.624-13.931,38.412-13.931Zm5.878-.121h4.47c3.409,0,5.728-2.152,5.728-5.3s-2.318-5.3-5.728-5.3H44.29Zm1.515-1.318v-7.97H48.67c2.621,0,4.3,1.606,4.3,3.985s-1.682,3.985-4.3,3.985Zm9.63,1.318h1.515V-24.659H55.436Zm8.115.121a5.374,5.374,0,0,0,5.622-5.425,5.374,5.374,0,0,0-5.622-5.425A5.391,5.391,0,0,0,57.9-19.355,5.391,5.391,0,0,0,63.551-13.931Zm0-1.349a3.99,3.99,0,0,1-4.137-4.076,3.99,3.99,0,0,1,4.137-4.076,3.982,3.982,0,0,1,4.106,4.076A3.982,3.982,0,0,1,63.551-15.279Z" transform="translate(-15.435 28.176)" fill="#ff4013"/>\r\n      <g id="Group_5734" data-name="Group 5734" transform="translate(56.205)">\r\n        <g id="Group_4741" data-name="Group 4741" transform="translate(0 3.373)">\r\n          <path id="Path_4276" data-name="Path 4276" d="M355.826,146.735a4.065,4.065,0,0,1-.207-5.786,4.167,4.167,0,0,1,5.847-.2H363.2l-.054-.081a5.51,5.51,0,0,0-9.091,0,5.371,5.371,0,0,0-.506,5.145,5.507,5.507,0,0,0,9.6.922c.032-.047.065-.1.1-.148h-1.626A4.167,4.167,0,0,1,355.826,146.735Z" transform="translate(-353.122 -138.27)" fill="#ff4013"/>\r\n          <path id="Path_4277" data-name="Path 4277" d="M485.965,148.379a4.286,4.286,0,0,0-7.469-.717,4.179,4.179,0,0,0-.393,4,4.247,4.247,0,0,0,1.546,1.858,4.29,4.29,0,0,0,5.923-1.141A4.178,4.178,0,0,0,485.965,148.379Zm-3.941,4.579A2.945,2.945,0,1,1,485,150.013,2.963,2.963,0,0,1,482.025,152.958Z" transform="translate(-437.23 -143.395)" fill="#ff4013"/>\r\n          <path id="Path_4278" data-name="Path 4278" d="M402.81,145.8a4.089,4.089,0,0,0-4.208,3.963q0,.132,0,.264a4.178,4.178,0,0,0,4.508,4.243,4.23,4.23,0,0,0,3.306-1.347l-.837-.97a3.145,3.145,0,0,1-2.42,1,2.831,2.831,0,0,1-3.037-2.426h6.8c.016-.141.032-.329.032-.454A4.021,4.021,0,0,0,402.81,145.8Zm-2.688,3.647a2.709,2.709,0,0,1,5.377,0Z" transform="translate(-383.811 -143.396)" fill="#ff4013"/>\r\n          <path id="Path_4279" data-name="Path 4279" d="M389.828,145.806a3.21,3.21,0,0,0-3.052,1.471v-1.393H385.32v8.3h1.518v-4.133a2.487,2.487,0,0,1,2.642-2.8,2.692,2.692,0,0,1,.348.016Z" transform="translate(-374.856 -143.399)" fill="#ff4013"/>\r\n          <path id="Path_4280" data-name="Path 4280" d="M458.472,147.988c-.837,0-1.1-.5-1.1-1.393V142.1h2.4v-1.236h-2.406v-2.434h-1.518v2.434h-.522V142.1h.522v4.555c0,1.675.757,2.6,2.45,2.6a2.326,2.326,0,0,0,1.627-.579l-.474-1.078A1.377,1.377,0,0,1,458.472,147.988Z" transform="translate(-422.111 -138.38)" fill="#ff4013"/>\r\n          <rect id="Rectangle_5019" data-name="Rectangle 5019" width="1.518" height="8.297" transform="translate(38.391 2.485)" fill="#ff4013"/>\r\n          <path id="Path_4281" data-name="Path 4281" d="M433.24,147.035a4.287,4.287,0,0,0-6.55.626,4.179,4.179,0,0,0-.393,4,4.244,4.244,0,0,0,1.546,1.858,4.285,4.285,0,0,0,5.4-.514v1.166h1.31v-8.3h-1.31Zm-3.022,5.922a2.945,2.945,0,1,1,2.975-2.944A2.963,2.963,0,0,1,430.219,152.958Z" transform="translate(-402.272 -143.395)" fill="#ff4013"/>\r\n        </g>\r\n        <path id="Path_5977" data-name="Path 5977" d="M460.573,131.073l-5.876,1.349,1.75-1.349-7.169-3.363Z" transform="translate(-417.936 -127.71)" fill="url(#linear-gradient)"/>\r\n        <path id="Path_5977-2" data-name="Path 5977-2" d="M460.573,131.073h-4.127l-7.169-3.363Z" transform="translate(-417.936 -127.71)" fill="#284578"/>\r\n      </g>\r\n    </g>\r\n  </g>\r\n</svg>\r\n'},33517:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="74" height="85" viewBox="0 0 74 85">\r\n  <g id="Polygon_360" data-name="Polygon 360" transform="translate(74) rotate(90)" fill="none" opacity="0.15">\r\n    <path d="M42.5,0,85,74H0Z" stroke="none"/>\r\n    <path d="M 42.5 24.09488677978516 L 20.73017120361328 62 L 64.26982879638672 62 L 42.5 24.09488677978516 M 42.5 0 L 85 74 L 0 74 L 42.5 0 Z" stroke="none" fill="#fff"/>\r\n  </g>\r\n</svg>\r\n'},78254:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="127" height="127" viewBox="0 0 127 127">\r\n  <g id="Rectangle_39586" data-name="Rectangle 39586" fill="none" stroke="#fff" stroke-width="23" opacity="0.15">\r\n    <rect width="127" height="127" stroke="none"/>\r\n    <rect x="11.5" y="11.5" width="104" height="104" fill="none"/>\r\n  </g>\r\n</svg>\r\n'},53409:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewbox="0 0 16 16"><defs/><g transform="translate(143.941 -406.051)"><rect width="2" height="2" transform="translate(-136.941 408.051)" style="fill: #8095b3;"/><rect width="2" height="2" transform="translate(-136.941 413.051)" style="fill: #8095b3;"/><rect width="2" height="2" transform="translate(-136.941 418.051)" style="fill: #8095b3;"/></g><rect width="16" height="16" style="fill: none;"/></svg>\r\n'},54422:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 1 20 20" enable-background="new 0 0 20 20"><path d="M17,3V1h-3v2H6V1H3v2H0v4v1v12h20V3H17z M15,2h1v3h-1V2z M4,2h1v3H4V2z M19,19H1V8h18V19z M19,7H1V4h2v2h3V4h8\r\n\tv2h3V4h2V7z" fill="#8095b3"/><path fill="none" stroke="#8095b3" stroke-miterlimit="10" d="m6.5 12.5l3 3 5-5"/></svg>\r\n'},21695:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewbox="0 0 16 16"><defs/><path d="M-26.666,687.452l2.438,2,4.062-4" transform="translate(31.666 -676.453)" style="fill: none; stroke: #54657d; stroke-miterlimit: 10;"/><g transform="translate(0 2)" style="fill: none; stroke: #54657d; stroke-miterlimit: 10;"><rect width="16" height="14" style="stroke: none;"/><rect x="0.5" y="0.5" width="15" height="13" style="fill: none;"/></g><line x2="16" transform="translate(0 6.5)" style="fill: none; stroke: #54657d; stroke-miterlimit: 10;"/><g transform="translate(2)" style="stroke: #54657d; stroke-miterlimit: 10; fill: #fff;"><rect width="3" height="5" style="stroke: none;"/><rect x="0.5" y="0.5" width="2" height="4" style="fill: none;"/></g><g transform="translate(11)" style="stroke: #54657d; stroke-miterlimit: 10; fill: #fff;"><rect width="3" height="5" style="stroke: none;"/><rect x="0.5" y="0.5" width="2" height="4" style="fill: none;"/></g></svg>\r\n'},89854:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewbox="0 0 16 16"><defs/><g transform="translate(-1816.814 -33.301)"><g transform="translate(1816.814 33.301)" style="fill: none; stroke: #54657d; stroke-miterlimit: 10;"><circle cx="8" cy="8" r="8" style="stroke: none;"/><circle cx="8" cy="8" r="7.5" style="fill: none;"/></g><path d="M1824.814,36.015v5.244l3.266,3.8" style="fill: none; stroke: #54657d; stroke-miterlimit: 10;"/></g></svg>\r\n'},76974:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><defs><style>.a,.b{fill:none;}.b{stroke:#8095b3;stroke-miterlimit:10;}.c{fill:#8095b3;}</style></defs><rect class="a" width="16" height="16"/><rect class="b" width="11" height="9" rx="2" transform="translate(2.5 5.5)"/><path class="c" d="M9,9H7v2H9V9Z"/><path class="b" d="M626.5-136.5v-2a2,2,0,0,1,2-2h1a2,2,0,0,1,2,2v2" transform="translate(-621 142)"/></svg>'},58796:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><defs><style>.error-icon-a{fill:#df1f26;}.error-icon-b,.error-icon-c{fill:none;}.error-icon-b{stroke:#fff;stroke-miterlimit:10;stroke-width:1.5px;}</style></defs><circle class="error-icon-a" cx="7" cy="7" r="7" transform="translate(1 1)"/><line class="error-icon-b" x2="6" y2="6" transform="translate(5 5)"/><line class="error-icon-b" y1="6" x2="6" transform="translate(5 5)"/><rect class="error-icon-c" width="16" height="16"/></svg>'},11342:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="16.001" height="16" viewBox="0 0 16.001 16"><defs><style>.warning-icon-a{fill:#ff9800;}.warning-icon-b,.warning-icon-d{fill:none;}.warning-icon-b{stroke:#fff;stroke-linecap:round;stroke-miterlimit:10;stroke-width:2px;}.warning-icon-c{fill:#fff;}</style></defs><g transform="translate(-1330.138 361.759)"><path class="warning-icon-a" d="M1345.172-346.541H1331.1a.964.964,0,0,1-.84-1.438l7.033-12.505a.965.965,0,0,1,1.682,0l7.034,12.505A.965.965,0,0,1,1345.172-346.541Z"/><line class="warning-icon-b" y2="3" transform="translate(1338.139 -355.279)"/><circle class="warning-icon-c" cx="1.25" cy="1.25" r="1.25" transform="translate(1336.889 -350.529)"/></g><rect class="warning-icon-d" width="16" height="16" transform="translate(0.001)"/></svg>'},67525:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><defs><style>.a,.b{fill:none;}.b{stroke:#fff;stroke-linecap:round;stroke-width:1.5px;}</style></defs><g transform="translate(16) rotate(90)"><rect class="a" width="16" height="16"/><path class="b" d="M10.365,0,5.182,5.465,0,0" transform="translate(2.818 5.268)"/></g></svg>'},63853:e=>{e.exports='<svg id="Group_7" data-name="Group 7" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">\r\n  <rect id="Rectangle_7" data-name="Rectangle 7" width="16" height="16" fill="none"/>\r\n  <line id="Line_5" data-name="Line 5" y1="10" x2="10" transform="translate(3 3)" fill="none" stroke="#999" stroke-miterlimit="10" stroke-width="1"/>\r\n  <line id="Line_6" data-name="Line 6" x2="10" y2="10" transform="translate(3 3)" fill="none" stroke="#999" stroke-miterlimit="10" stroke-width="1"/>\r\n</svg>\r\n'},83225:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16">\r\n\t<g fill="none">\r\n\t\t<path d="M0 16V0h16v16z"/>\r\n\t\t<path d="m14 5-5.5 5.5L3 5" stroke="#006ce0"/>\r\n\t</g>\r\n</svg>\r\n'},18435:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><defs><style>.lsa{fill:#8095b3;}.lsb,.lsc{fill:none;}.lsb{stroke:#8095b3;stroke-miterlimit:10;}</style></defs><path class="lsa" d="M14.5,14l-.9-2.5H10L9.1,14H8.2l3.2-8.4h.8L15.4,14ZM12,7.1c0-.1-.1-.2-.1-.3s-.1-.2-.1-.3h0a.367.367,0,0,1-.1.3c-.1.1,0,.2-.1.3l-1.4,3.7h3.1Z" transform="translate(0.301 1)"/><line class="lsb" x2="10" transform="translate(0.301 2.5)"/><line class="lsb" y2="2" transform="translate(4.801 1)"/><path class="lsb" d="M1.5,11.5S6.2,7.2,8,2" transform="translate(0.301 1)"/><path class="lsb" d="M3,4.5a24.292,24.292,0,0,0,4.5,5.6" transform="translate(0.301 1)"/><rect class="lsc" width="16" height="16"/></svg>'},98728:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16">\r\n\t<g fill="none">\r\n\t\t<path d="M16 0v16H0V0z"/>\r\n\t\t<path d="m2 11 5.5-5.5L13 11" stroke="#006ce0"/>\r\n\t</g>\r\n</svg>\r\n'},36141:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">\r\n<defs><style>.arrow-down-svg-icon{fill:none;}.arrow-down-svg-icon{stroke:#006ce0;stroke-width:1.1px;}</style></defs>\r\n<g transform="translate(16 16) rotate(180)"><path class="arrow-down-svg-icon" d="M7,13,0,6.5,7,0" transform="translate(14.548 5.25) rotate(90)"/></g></svg>'},15894:e=>{e.exports='<svg id="Component_654_1" data-name="Component 654 – 1" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">\r\n  <rect id="Rectangle_6580" data-name="Rectangle 6580" width="16" height="16" fill="none"/>\r\n  <line id="Line_831" data-name="Line 831" y1="4" x2="4" transform="translate(2 10)" fill="none" stroke="#54657d" stroke-miterlimit="10" stroke-width="1"/>\r\n  <line id="Line_832" data-name="Line 832" y1="4" x2="4" transform="translate(10 2)" fill="none" stroke="#54657d" stroke-miterlimit="10" stroke-width="1"/>\r\n  <path id="Path_7086" data-name="Path 7086" d="M-57.433,448.76h-4.5v-4.5Z" transform="translate(70.933 -441.76)" fill="#54657d"/>\r\n  <path id="Path_7087" data-name="Path 7087" d="M-69.585,451.912h4.5v4.5Z" transform="translate(72.085 -442.912)" fill="#54657d"/>\r\n</svg>\r\n'},30360:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">\r\n\t<defs>\r\n\t\t<style>.a {\r\n\t\t\tfill: #54657d;\r\n\t\t}\r\n\r\n\t\t.b, .c {\r\n\t\t\tfill: none;\r\n\t\t}\r\n\r\n\t\t.b {\r\n\t\t\tstroke: #54657d;\r\n\t\t\tstroke-miterlimit: 10;\r\n\t\t}</style>\r\n\t</defs>\r\n\t<path class="a" d="M-347,453.292h-5v-5Z" transform="translate(354 -439.292)"/>\r\n\t<path class="a" d="M-340,446.292v-5h-5Z" transform="translate(354 -439.292)"/>\r\n\t<line class="b" y1="4" x2="4" transform="translate(9 3)"/>\r\n\t<line class="b" y1="4" x2="4" transform="translate(3 9)"/>\r\n\t<rect class="c" width="16" height="16"/>\r\n</svg>\r\n'},75741:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><defs><style>.info-icon-a,.info-icon-c{fill:none;}.info-icon-a{stroke:#22ac14;stroke-miterlimit:10;}.info-icon-b{fill:#22ac14;}</style></defs><g transform="translate(2.5 2.5)"><circle class="info-icon-a" cx="9.5" cy="9.5" r="9.5"/><rect class="info-icon-b" width="2" height="7" transform="translate(8.5 7.5)"/><rect class="info-icon-b" width="2" height="2" transform="translate(8.5 4.5)"/></g><rect class="info-icon-c" width="24" height="24"/></svg>\r\n'},22574:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16">\r\n\t<path fill="#54657d" d="M8.54 16h-.99a1.4 1.4 0 0 1-1.1-.46 1.51 1.51 0 0 1-.41-1.04v-.8a.95.95 0 0 0-.3-.12.53.53 0 0 1-.23-.09l-.59.5a1.54 1.54 0 0 1-2.2 0l-.71-.7a1.48 1.48 0 0 1-.37-.5 1.43 1.43 0 0 1-.13-.58A1.54 1.54 0 0 1 2 11.1l.61-.61q-.1-.14-.15-.25A.5.5 0 0 1 2.4 10h-.9A1.43 1.43 0 0 1 0 8.5V7.49a1.47 1.47 0 0 1 .4-1.1A1.5 1.5 0 0 1 1.5 6h.8a.95.95 0 0 0 .1-.28.38.38 0 0 1 .1-.21L2 4.89a1.73 1.73 0 0 1-.37-.52 1.38 1.38 0 0 1 0-1.17 1.75 1.75 0 0 1 .36-.51l.7-.7a1.6 1.6 0 0 1 2.22 0l.6.6a.46.46 0 0 1 .22-.18l.3-.12v-.8A1.47 1.47 0 0 1 6.44.4a1.5 1.5 0 0 1 1.1-.4h1a1.5 1.5 0 0 1 1.1.4 1.46 1.46 0 0 1 .4 1.1v.8a1.45 1.45 0 0 0 .3.09.4.4 0 0 1 .22.11l.6-.51a1.6 1.6 0 0 1 2.2 0l.7.7a1.6 1.6 0 0 1 .02 2.2l-.61.6.15.25a.51.51 0 0 1 .06.25h.8a1.42 1.42 0 0 1 1.1.44A1.5 1.5 0 0 1 16 7.5V8.5a1.41 1.41 0 0 1-.44 1.08 1.5 1.5 0 0 1-1.07.42h-.8a.96.96 0 0 0-.1.28.32.32 0 0 1-.11.21l.61.61a1.55 1.55 0 0 1 0 2.18l-.7.7a1.54 1.54 0 0 1-2.22 0l-.59-.58a2.17 2.17 0 0 0-.26.13.48.48 0 0 1-.26.05v.8a1.65 1.65 0 0 1-.4 1.19 1.45 1.45 0 0 1-1.1.43Zm-3.3-3.92.4.22a2.03 2.03 0 0 0 .5.23c.2.06.4.12.6.16l.4.1v1.6a.59.59 0 0 0 .13.33.43.43 0 0 0 .37.18h1.01a.53.53 0 0 0 .32-.14.45.45 0 0 0 .18-.38V12.8l.4-.1a2.33 2.33 0 0 0 .55-.2 2.4 2.4 0 0 1 .56-.2l.4-.2 1.1 1.2a.43.43 0 0 0 .33.16.3.3 0 0 0 .29-.16l.68-.68a.49.49 0 0 0 .17-.36.26.26 0 0 0-.17-.26l-1.2-1.1.21-.4a2.63 2.63 0 0 0 .24-.52c.06-.18.12-.38.16-.58l.1-.4h1.6a.56.56 0 0 0 .34-.14.43.43 0 0 0 .17-.35V7.49a.53.53 0 0 0-.14-.32.46.46 0 0 0-.38-.17h-1.6l-.09-.4a2.58 2.58 0 0 0-.2-.56 2.62 2.62 0 0 1-.2-.54l-.21-.4 1.2-1.22a.42.42 0 0 0 .17-.33.26.26 0 0 0-.16-.26l-.69-.7a.54.54 0 0 0-.35-.14.26.26 0 0 0-.26.14l-1.12 1.2-.4-.19a1.8 1.8 0 0 0-.51-.24l-.6-.15-.49-.12v-1.6a.49.49 0 0 0-.18-.32.5.5 0 0 0-.34-.17h-.99a.5.5 0 0 0-.34.17.48.48 0 0 0-.18.32v1.6l-.4.11a2.67 2.67 0 0 0-.55.19 4.24 4.24 0 0 1-.56.2l-.28.29-1.1-1.2a.54.54 0 0 0-.36-.14.27.27 0 0 0-.26.15l-.8.7a.42.42 0 0 0-.16.32.3.3 0 0 0 .16.28l1.2 1.1-.18.5a1.76 1.76 0 0 0-.25.51l-.17.59-.2.3h-1.6a.5.5 0 0 0-.34.17.49.49 0 0 0-.18.32v1a.49.49 0 0 0 .18.32.5.5 0 0 0 .34.19h1.6l.1.4a2.25 2.25 0 0 0 .2.55 2.27 2.27 0 0 1 .2.55l.2.4-1.2 1.1a.23.23 0 0 0-.1.15 1.32 1.32 0 0 0 0 .15.83.83 0 0 0 0 .14.33.33 0 0 0 .1.17l.7.68a.5.5 0 0 0 .35.16.26.26 0 0 0 .26-.16ZM8 11a2.86 2.86 0 0 1-2.13-.9A2.92 2.92 0 0 1 5 8a3 3 0 0 1 6 0 2.92 2.92 0 0 1-.87 2.11A2.86 2.86 0 0 1 8 11Zm0-5a2 2 0 0 0-1.99 2 1.95 1.95 0 0 0 .59 1.43 1.98 1.98 0 0 0 2.8 0A1.95 1.95 0 0 0 10 8a2 2 0 0 0-2-2Z"/>\r\n</svg>\r\n'},80507:e=>{e.exports='<svg id="Component_661_1" data-name="Component 661 – 1" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">\r\n  <rect id="Rectangle_6417" data-name="Rectangle 6417" width="16" height="16" transform="translate(0 16) rotate(-90)" fill="none"/>\r\n  <path id="Path_6923" data-name="Path 6923" d="M-1147.478,6876.829l-6,6c.008-.008,6,6,6,6" transform="translate(-6874.329 -1139.978) rotate(-90)" fill="none" stroke="#006ce0" stroke-width="1"/>\r\n  <path id="Path_7027" data-name="Path 7027" d="M-1147.478,6876.829l-6,6c.008-.008,6,6,6,6" transform="translate(-6874.329 -1144.978) rotate(-90)" fill="none" stroke="#006ce0" stroke-width="1"/>\r\n</svg>\r\n'},77578:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><g transform="translate(2.5 1.5)"><line x2="12" fill="none" stroke-miterlimit="10" stroke="#54657d" transform="translate(0 7)"/><line y1="12" fill="none" stroke-miterlimit="10" stroke="#54657d" transform="translate(6 1)"/></g><rect fill="none" width="16"  height="16"/></svg>\r\n'},50312:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><rect class="a" fill="none" width="16" height="16"/><g transform="translate(828.001 -256.344)"><g class="b" stroke-miterlimit="10" fill="none" transform="translate(-0.562 -0.563)"><path class="d" d="M-822.721,270.046a2.984,2.984,0,0,0-3,.861l-.715-.714a2.983,2.983,0,0,0,.862-3l9.281-9.282,2.856,2.856Z"/><path class="e" stroke="none" fill="#54657d" d="M -824.6316528320313 269.1003723144531 C -824.2100830078125 268.9744262695313 -823.8204345703125 268.9347534179688 -823.4967651367188 268.9347534179688 C -823.3335571289063 268.9347534179688 -823.1836547851563 268.9448852539063 -823.0501098632813 268.9602355957031 L -814.8533325195313 260.7627868652344 L -816.2953491210938 259.3211669921875 L -824.4864501953125 267.5129089355469 C -824.4336547851563 267.9642028808594 -824.45556640625 268.5171203613281 -824.6316528320313 269.1003723144531 M -825.7241821289063 270.9070129394531 C -826.014892578125 270.6171875 -826.1371459960938 270.4949951171875 -826.4390258789063 270.1930847167969 C -825.00927734375 268.7652282714844 -825.5767211914063 267.18896484375 -825.5767211914063 267.18896484375 L -816.2954711914063 257.9070129394531 L -813.4390258789063 260.7626647949219 L -822.7213134765625 270.045654296875 C -822.7213134765625 270.045654296875 -823.029541015625 269.9347534179688 -823.4967651367188 269.9347534179688 C -824.0857543945313 269.9347534179688 -824.927490234375 270.1108093261719 -825.7241821289063 270.9070129394531 Z"/></g><path class="c" stroke="#54657d" fill="none" d="M.5.5l2,2" transform="translate(-819.501 259.844)"/></g></svg>'},97790:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="130" height="16" viewBox="0 0 130 16">\r\n  <rect width="130" height="16" rx="8" fill="#cacaca" opacity="0.4"/>\r\n</svg>\r\n'},16066:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="16.001" height="16" viewBox="0 0 16.001 16">\r\n  <g id="Group_16564" data-name="Group 16564" transform="translate(-1.999 -2)">\r\n    <path id="Path_513" data-name="Path 513" d="M1734.432-870.935c1.5,1.207-.1,2.614-.8,3.419-.5.6-1.1,1.206-5.411-1.207a16.5,16.5,0,0,1-4.209-3.217,19.282,19.282,0,0,1-3.307-4.223c-2.3-4.323-1.7-5.027-1.1-5.429.8-.7,2.2-2.212,3.407-.8,2,2.413,2.2,3.519,1.5,4.122-.5.3-.4.4-.7.6-.8.8-.6,2.111,1.3,4.022l.3.4c1.4,1.408,3.207,2.111,4.008,1.408a7.084,7.084,0,0,0,.7-.9c.7-.7,1.4-.5,4.309,1.81" transform="translate(-1717.055 884.977)" fill="#4ba837"/>\r\n    <g id="Group_359" data-name="Group 359" transform="translate(11 3)">\r\n      <path id="Path_514" data-name="Path 514" d="M1728-880h4v1h-4Z" transform="translate(-1728 882)" fill="#4ba837"/>\r\n      <path id="Path_515" data-name="Path 515" d="M1728-878h6v1h-6Z" transform="translate(-1728 882)" fill="#4ba837"/>\r\n      <path id="Path_516" data-name="Path 516" d="M1728-882h7v1h-7Z" transform="translate(-1728 882)" fill="#4ba837"/>\r\n    </g>\r\n    <rect id="Rectangle_209" data-name="Rectangle 209" width="16" height="16" transform="translate(2 2)" fill="none"/>\r\n  </g>\r\n</svg>\r\n'},70283:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="8" height="16" viewBox="0 0 8 16">\r\n  <path d="M8,16H4a4,4,0,0,1-4-4V4A4,4,0,0,1,4,0H8Z" transform="translate(8 16) rotate(180)" fill="#cacaca" opacity="0.4"/>\r\n</svg>'},21741:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="8" height="16" viewBox="0 0 8 16">\r\n  <path d="M0,0l8,8-8,8V0Z" fill="#cacaca" opacity="0.4"/>\r\n</svg>'},84520:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="8" height="16" viewBox="0 0 8 16">\r\n  <path d="M0,0l8,8,-8,8H8V-16H-8Z" fill="#cacaca" opacity="0.4"/>\r\n</svg>'},82681:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="8" height="16" viewBox="0 0 8 16">\r\n  <path d="M0,0l8,8-8,8V0Z" fill="#22ac14" />\r\n</svg>'},67971:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="8" height="16" viewBox="0 0 8 16">\r\n  <path d="M8,16H4a4,4,0,0,1-4-4V4A4,4,0,0,1,4,0H8Z" fill="#22ac14"/>\r\n</svg>'},17815:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">\r\n  <g id="Group_16565" data-name="Group 16565" transform="translate(-2.473 -2)">\r\n    <g id="Group_361" data-name="Group 361" transform="translate(2.474 4)">\r\n      <path id="Path_517" data-name="Path 517" d="M1763-872.1l-8-7.9v10.6l.4.4h15.4l.2-.4V-880Z" transform="translate(-1755 881)" fill="#f4ac5c"/>\r\n      <path id="Path_518" data-name="Path 518" d="M1770-881h-13.9l6.9,7Z" transform="translate(-1755 881)" fill="#f4ac5c"/>\r\n    </g>\r\n    <rect id="Rectangle_210" data-name="Rectangle 210" width="16" height="16" transform="translate(2.473 2)" fill="none"/>\r\n  </g>\r\n</svg>\r\n'},74367:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">\r\n  <g id="Group_16566" data-name="Group 16566" transform="translate(-2.423 -2)">\r\n    <path id="Path_519" data-name="Path 519" d="M1804-870h-8l-4,3.1V-870h-2v-11h14Z" transform="translate(-1786.577 884)" fill="#3273bc"/>\r\n    <rect id="Rectangle_211" data-name="Rectangle 211" width="16" height="16" transform="translate(2.423 2)" fill="none"/>\r\n  </g>\r\n</svg>\r\n'},59042:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="16px" height="16px" viewBox="0 0 16 16">\r\n\t<g>\r\n\t\t<path d="M2.5,16V.5h9.92L8.5,4.5l3.92,4H2.63" fill="none" stroke="#22ac14" stroke-miterlimit="10" stroke-width="1"/>\r\n\t\t<rect width="16" height="16" fill="none"/>\r\n\t</g>\r\n</svg>\r\n'},12096:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="200" height="56" viewBox="0 0 200 56">\r\n  <g>\r\n\t<rect width="200" height="12" rx="6" fill="#f5f5f5"/>\r\n\t<rect width="64" height="12" rx="6" transform="translate(0 42)" fill="#f5f5f5"/>\r\n\t<rect width="64" height="12" rx="6" transform="translate(72 42)" fill="#f5f5f5"/>\r\n  </g>\r\n</svg>\r\n'},85514:e=>{e.exports='<svg id="Component_382_27" data-name="Component 382 – 27" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">\r\n  <path id="Path_7198" data-name="Path 7198" d="M1544.291-465.2l5-4h-12v14h1v-6h11Z" transform="translate(-1535.291 470.198)" fill="#179efe"/>\r\n  <rect id="Rectangle_6648" data-name="Rectangle 6648" width="16" height="16" fill="none"/>\r\n</svg>\r\n'},90164:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="72" height="64" viewBox="0 0 72 64">\r\n  <g id="Group_16580" data-name="Group 16580" transform="translate(-290 -760)">\r\n    <rect id="Rectangle_39847" data-name="Rectangle 39847" width="72" height="64" rx="6" transform="translate(290 760)" fill="none"/>\r\n    <rect id="Rectangle_6778" data-name="Rectangle 6778" width="56" height="46" rx="4" transform="translate(298 768)" fill="#f4f5f7"/>\r\n    <g id="Rectangle_39849" data-name="Rectangle 39849" transform="translate(306 795)" fill="#fff" stroke="#e6e6e6" stroke-width="1">\r\n      <rect width="40" height="11" rx="2" stroke="none"/>\r\n      <rect x="0.5" y="0.5" width="39" height="10" rx="1.5" fill="none"/>\r\n    </g>\r\n    <g id="Group_16579" data-name="Group 16579" transform="translate(-236 614)">\r\n      <path id="Path_11853" data-name="Path 11853" d="M2,0h9l3,3L11,6H2A2,2,0,0,1,0,4V2A2,2,0,0,1,2,0Z" transform="translate(542 162)" fill="#22ac14"/>\r\n      <path id="Path_11855" data-name="Path 11855" d="M-3,0H9L6,3,9,6H-3A2,2,0,0,1-5,4V2A2,2,0,0,1-3,0Z" transform="translate(577 168) rotate(180)" fill="#d1d1d1"/>\r\n      <rect id="Rectangle_42501" data-name="Rectangle 42501" width="5" height="5" rx="2.5" transform="translate(561 172)" fill="#0091ea"/>\r\n      <rect id="Rectangle_42502" data-name="Rectangle 42502" width="5" height="5" rx="2.5" transform="translate(568 172)" fill="#ff4013"/>\r\n      <path id="Path_11854" data-name="Path 11854" d="M0,0H11l3,3L11,6H0L3,3Z" transform="translate(555 162)" fill="#22ac14"/>\r\n      <rect id="Rectangle_24765" data-name="Rectangle 24765" width="17" height="5" rx="2.5" transform="translate(542 172)" fill="#d1d1d1"/>\r\n    </g>\r\n  </g>\r\n</svg>\r\n'},48988:e=>{e.exports='<svg id="Component_2434_22" data-name="Component 2434 – 22" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">\r\n  <rect id="Rectangle_6408" data-name="Rectangle 6408" width="16" height="16" fill="rgba(0,0,0,0)"/>\r\n  <path id="Path_11751" data-name="Path 11751" d="M1861.646,249.562l2-2h2l-4,4-4-4h2Z" transform="translate(1869.646 257.562) rotate(180)" fill="currentColor"/>\r\n</svg>\r\n'},13474:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="72" height="64" viewBox="0 0 72 64">\r\n  <g id="Group_12169" data-name="Group 12169" transform="translate(-464 -425)">\r\n    <g id="Group_9771" data-name="Group 9771" transform="translate(399 129)">\r\n      <rect id="Rectangle_21438" data-name="Rectangle 21438" width="56" height="24" rx="3" transform="translate(73 316)" fill="#006ce0"/>\r\n      <text id="OK" transform="translate(101 332)" fill="#fff" font-size="10" font-family="OpenSans-SemiBold, Open Sans" font-weight="600" letter-spacing="0.02em"><tspan x="-7.231" y="0">OK</tspan></text>\r\n    </g>\r\n    <rect id="Rectangle_24800" data-name="Rectangle 24800" width="72" height="64" rx="6" transform="translate(464 425)" fill="none"/>\r\n  </g>\r\n</svg>\r\n'},53937:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16">\r\n  <g fill="currentColor">\r\n    <path d="M7 2h2v2H7z"/>\r\n    <path d="M7 7h2v2H7z"/>\r\n    <path d="M7 12h2v2H7z"/>\r\n  </g>\r\n  <path fill="none" d="M0 0h16v16H0z"/>\r\n</svg>\r\n'},69319:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16">\r\n  <g fill="none" stroke="currentColor" stroke-miterlimit="10">\r\n\t<path d="M3 7.5h11"/>\r\n\t<path d="M8.5 13V2"/>\r\n  </g>\r\n  <path fill="none" d="M0 0h16v16H0z"/>\r\n</svg>\r\n'},2180:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16">\r\n  <g>\r\n    <g>\r\n      <path fill="none" stroke="currentColor" stroke-miterlimit="10" stroke-width="1" d="M7.5 4 3 8.5l4.5 4.5"/>\r\n    </g>\r\n    <path fill="none" stroke="currentColor" stroke-miterlimit="10" d="M3.5 8.5h11"/>\r\n    <path fill="none" d="M16 0v16H0V0z"/>\r\n  </g>\r\n</svg>\r\n'},25465:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16">\r\n  <g fill="none" stroke="currentColor">\r\n    <g>\r\n      <path stroke="none" d="M2 10h3v4H2z"/>\r\n      <path d="M2.5 10.5h2v3h-2z"/>\r\n    </g>\r\n    <g>\r\n      <path stroke="none" d="M6 6h3v8H6z"/>\r\n      <path d="M6.5 6.5h2v7h-2z"/>\r\n    </g>\r\n    <g>\r\n      <path stroke="none" d="M10 2h3v12h-3z"/>\r\n      <path d="M10.5 2.5h2v11h-2z"/>\r\n    </g>\r\n  </g>\r\n  <path fill="none" d="M0 0h16v16H0z"/>\r\n</svg>\r\n'},55796:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 16 16">\r\n  <defs>\r\n    <path id="a" stroke="none" d="M0 0h2v1H0z"/>\r\n  </defs>\r\n  <g fill="none" stroke="currentColor" stroke-miterlimit="10">\r\n    <g transform="translate(2)">\r\n      <rect width="12" height="16" stroke="none" rx="1"/>\r\n      <rect width="11" height="15" x=".5" y=".5" rx=".5"/>\r\n    </g>\r\n    <g>\r\n      <path stroke="none" d="M4 2h8v4H4z"/>\r\n      <path d="M4.5 2.5h7v3h-7z"/>\r\n    </g>\r\n  </g>\r\n  <path fill="none" d="M0 0h16v16H0z"/>\r\n</svg>\r\n'},7686:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16">\r\n  <path fill="none" d="M0 0h16v16H0z"/>\r\n  <path fill="none" stroke="currentColor" stroke-miterlimit="10" d="M3 13.5 13.5 3"/>\r\n  <path fill="none" stroke="currentColor" stroke-miterlimit="10" d="m3 3 10.5 10.5"/>\r\n</svg>\r\n'},78337:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16">\r\n  <g>\r\n    <g fill="currentColor">\r\n      <path d="M5 5h1v7H5z"/>\r\n      <path d="M9 5h1v7H9z"/>\r\n      <path d="M7 5h1v7H7z"/>\r\n      <path d="M13 3h-3V1H5v2H2v1h1v8.9L4.41 14h6.15l1.45-1.1V4h1ZM6 2h3v1H6Zm5 10.4-.78.6H4.75L4 12.41V4h7Z"/>\r\n    </g>\r\n    <path fill="none" d="M0 0h16v16H0z"/>\r\n  </g>\r\n</svg>\r\n'},75694:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16">\r\n  <g>\r\n    <g fill="none" stroke="currentColor" stroke-width="1" transform="translate(389.185 -406.05)">\r\n      <path d="M-382.5 413c-.5.032-.655.048-.995.048-2.487 0-4.5-.895-4.5-2s2.013-2 4.5-2 4.5.9 4.5 2"/>\r\n      <path d="M-382.5 416a10 10.061 0 0 1-1.238.076c-2.487 0-4.5-.895-4.5-2"/>\r\n      <path d="M-382 419a9.5 9.682 0 0 1-1.5.113c-2.487 0-4.5-.895-4.5-2"/>\r\n      <circle cx="4" cy="4" r="4" transform="translate(-381.5 411)"/>\r\n      <path d="M-377.685 413.051v4"/>\r\n    </g>\r\n  </g>\r\n  <path fill="none" d="M0 0h16v16H0z"/>\r\n</svg>\r\n'},13472:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg">\r\n  <path fill="none" d="M0 0h16v16H0z"/>\r\n  <g fill="none">\r\n    <path d="M2 1h7v5h5v9H2Z"/>\r\n    <path fill="currentColor" d="M3 2v12h10V7H8V2H3M2 1h7v5h5v9H2V1Z"/>\r\n  </g>\r\n  <path fill="none" stroke="currentColor" d="M5 5.5h2"/>\r\n  <path fill="none" stroke="currentColor" d="M5 7.5h2"/>\r\n  <path fill="none" stroke="currentColor" d="M5 9.5h6"/>\r\n  <path fill="none" stroke="currentColor" d="m8.5 1.366 5.118 5.151"/>\r\n  <path fill="none" stroke="currentColor" d="M5 11.5h6"/>\r\n</svg>\r\n'},51462:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16">\r\n  <path fill="none" d="M0 0h16v16H0z"/>\r\n  <g fill="none">\r\n    <path d="M2 1h7v5h5v9H2Z"/>\r\n    <path fill="currentColor" d="M3 2v12h10V7H8V2H3M2 1h7v5h5v9H2V1Z"/>\r\n  </g>\r\n  <path fill="none" stroke="currentColor" d="m8.5 1.366 5.118 5.151"/>\r\n</svg>\r\n'},20569:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16">\r\n  <path fill="none" stroke="currentColor" stroke-miterlimit="10" d="M1.5 3.5h13v9h-13z"/>\r\n  <path fill="none" stroke="currentColor" stroke-miterlimit="10" d="M1.5 3.5 8 9l6.5-5.5"/>\r\n  <path fill="none" d="M0 0h16v16H0z"/>\r\n</svg>\r\n'},76244:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16">\r\n  <g>\r\n    <path fill="none" stroke="currentColor" stroke-miterlimit="10" d="M3.5 14.5v-13h9L9 5l3.5 3.5h-9"/>\r\n  </g>\r\n  <path fill="none" d="M0 0h16v16H0z"/>\r\n</svg>\r\n'},61076:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16">\r\n  <path fill="currentColor" d="M8.542 15.998h-.99a1.408 1.408 0 0 1-1.1-.458 1.513 1.513 0 0 1-.413-1.042v-.8a.946.946 0 0 0-.3-.118.528.528 0 0 1-.224-.09l-.59.491a1.539 1.539 0 0 1-2.214 0l-.705-.7a1.478 1.478 0 0 1-.366-.5 1.427 1.427 0 0 1-.129-.575A1.542 1.542 0 0 1 2 11.097l.613-.608q-.094-.142-.153-.246a.5.5 0 0 1-.058-.246h-.9a1.43 1.43 0 0 1-1.51-1.5V7.489a1.466 1.466 0 0 1 .412-1.091 1.491 1.491 0 0 1 1.1-.409h.8a.947.947 0 0 0 .095-.282.376.376 0 0 1 .095-.21l-.5-.608a1.734 1.734 0 0 1-.365-.517 1.382 1.382 0 0 1 0-1.17 1.747 1.747 0 0 1 .365-.513l.705-.7a1.6 1.6 0 0 1 2.214 0l.59.608a.459.459 0 0 1 .224-.186c.087-.032.186-.071.3-.118v-.8A1.469 1.469 0 0 1 6.44.404a1.491 1.491 0 0 1 1.1-.411h.991a1.492 1.492 0 0 1 1.1.411 1.462 1.462 0 0 1 .413 1.089v.8a1.453 1.453 0 0 0 .295.095.408.408 0 0 1 .224.116l.59-.515a1.6 1.6 0 0 1 2.215 0l.7.7a1.591 1.591 0 0 1 .013 2.2l-.613.608q.094.142.153.246a.51.51 0 0 1 .057.246h.805a1.423 1.423 0 0 1 1.1.445 1.493 1.493 0 0 1 .412 1.055v1.014a1.413 1.413 0 0 1-.448 1.078 1.5 1.5 0 0 1-1.062.422h-.805a.961.961 0 0 0-.094.281.323.323 0 0 1-.118.211l.615.608a1.552 1.552 0 0 1 0 2.18l-.705.7a1.54 1.54 0 0 1-2.215 0l-.59-.586a2.168 2.168 0 0 0-.26.129.477.477 0 0 1-.258.059v.8a1.651 1.651 0 0 1-.413 1.183 1.449 1.449 0 0 1-1.1.43Zm-3.3-3.913.4.211a2.032 2.032 0 0 0 .5.235c.2.062.4.117.6.163l.4.095v1.592a.589.589 0 0 0 .13.341.427.427 0 0 0 .366.175h1.015a.533.533 0 0 0 .318-.141.453.453 0 0 0 .177-.375v-1.59l.4-.093a2.327 2.327 0 0 0 .554-.2 2.394 2.394 0 0 1 .555-.2l.4-.211 1.108 1.2a.429.429 0 0 0 .33.164.3.3 0 0 0 .283-.164l.685-.681a.489.489 0 0 0 .165-.352.257.257 0 0 0-.168-.262l-1.2-1.1.213-.4a2.632 2.632 0 0 0 .236-.517c.062-.187.118-.382.165-.585l.091-.4h1.6a.556.556 0 0 0 .342-.142.433.433 0 0 0 .178-.351V7.49a.53.53 0 0 0-.143-.316.458.458 0 0 0-.377-.176h-1.6l-.094-.4a2.578 2.578 0 0 0-.2-.562 2.617 2.617 0 0 1-.2-.539l-.212-.4 1.208-1.219a.421.421 0 0 0 .165-.327.26.26 0 0 0-.165-.259l-.685-.7a.536.536 0 0 0-.354-.141.263.263 0 0 0-.26.141l-1.113 1.2-.4-.187a1.806 1.806 0 0 0-.519-.246c-.189-.054-.385-.1-.59-.152l-.495-.117v-1.6a.487.487 0 0 0-.177-.316.505.505 0 0 0-.343-.176h-.99a.5.5 0 0 0-.343.176.482.482 0 0 0-.177.316v1.592l-.4.118a2.67 2.67 0 0 0-.555.188 4.241 4.241 0 0 1-.554.211l-.283.28-1.107-1.2a.537.537 0 0 0-.355-.142.266.266 0 0 0-.256.15l-.8.7a.418.418 0 0 0-.165.328.3.3 0 0 0 .165.28l1.208 1.1-.189.493a1.762 1.762 0 0 0-.248.515c-.054.188-.114.383-.176.586l-.189.3H1.511a.506.506 0 0 0-.343.175.486.486 0 0 0-.177.316v1.009a.486.486 0 0 0 .177.316.509.509 0 0 0 .343.181h1.6l.095.4a2.249 2.249 0 0 0 .2.55 2.268 2.268 0 0 1 .2.552l.213.4-1.2 1.1a.234.234 0 0 0-.106.151 1.317 1.317 0 0 0-.012.152.835.835 0 0 0 .012.142.329.329 0 0 0 .106.163l.685.681a.5.5 0 0 0 .354.163.26.26 0 0 0 .261-.163Zm2.761-1.088a2.858 2.858 0 0 1-2.133-.891A2.925 2.925 0 0 1 5 8.003a3 3 0 0 1 6 0 2.925 2.925 0 0 1-.867 2.108A2.858 2.858 0 0 1 8 10.997Zm0-4.989a2 2 0 0 0-1.992 1.99 1.949 1.949 0 0 0 .586 1.43 1.98 1.98 0 0 0 2.812 0 1.949 1.949 0 0 0 .586-1.43 2 2 0 0 0-1.992-1.99Z"/>\r\n</svg>\r\n'},96054:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16">\r\n  <g>\r\n    <path fill="none" stroke="currentColor" stroke-miterlimit="10" stroke-width="1" d="m3.5 7.5 5 4.5 5-4.5"/>\r\n  </g>\r\n  <path fill="none" stroke="currentColor" stroke-miterlimit="10" d="M8.5 11.5V.5"/>\r\n  <path fill="none" stroke="currentColor" stroke-miterlimit="10" d="M2.5 14.5h12"/>\r\n  <path fill="none" d="M0 0h16v16H0z"/>\r\n</svg>\r\n'},28242:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16">\r\n  <path fill="none" d="M0 0h16v16H0z"/>\r\n  <rect width="11" height="9" fill="none" stroke="currentColor" stroke-miterlimit="10" transform="translate(2.5 5.5)"/>\r\n  <g fill="none" stroke="currentColor" stroke-miterlimit="10">\r\n    <path stroke="none" d="M7 9h2v2H7z"/>\r\n    <path d="M7.5 9.5h1v1h-1z"/>\r\n  </g>\r\n  <path fill="none" stroke="currentColor" stroke-miterlimit="10" d="M5.5 5.5V3A1.5 1.5 0 0 1 7 1.5h2A1.5 1.5 0 0 1 10.5 3v2.5"/>\r\n</svg>\r\n'},57028:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16">\r\n  <g>\r\n    <path fill="none" stroke="currentColor" stroke-miterlimit="10" d="M8.499 3v5"/>\r\n    <path fill="currentColor" d="M8 9h.999v.999H8z"/>\r\n  </g>\r\n  <g>\r\n    <g>\r\n      <path fill="none" stroke="currentColor" stroke-miterlimit="10" d="M1.5 11.5h3v3l3-3h7v-10h-13Z"/>\r\n    </g>\r\n  </g>\r\n  <path fill="none" d="M16 16H0V0h16z"/>\r\n</svg>\r\n'},62378:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16">\r\n  <g fill="currentColor">\r\n    <path d="M14 7v2h-2V7z"/>\r\n    <path d="M9 7v2H7V7z"/>\r\n    <path d="M4 7v2H2V7z"/>\r\n  </g>\r\n  <path fill="none" d="M16 0v16H0V0z"/>\r\n</svg>\r\n'},63958:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16">\r\n  <g fill="none" stroke="currentColor" stroke-miterlimit="10" transform="translate(1 1)">\r\n    <rect width="14" height="14" stroke="none" rx="2"/>\r\n    <rect width="13" height="13" x=".5" y=".5" rx="1.5"/>\r\n  </g>\r\n  <path fill="none" stroke="currentColor" stroke-miterlimit="10" d="m11.529 4.43-7.554 7.503"/>\r\n  <path fill="none" stroke="currentColor" stroke-miterlimit="10" d="M5.606 4.429h5.923v5.923"/>\r\n  <path fill="none" d="M0 0h16v16H0z"/>\r\n</svg>\r\n'},54939:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16">\r\n  <g fill="currentColor">\r\n    <path d="m9.377 4.146 2.5 2.524-5.669 5.674-2.625-2.562Z"/>\r\n    <path d="m2.877 10.891 2.25 2.25-2.958.646Z"/>\r\n    <path d="m10.377 3.521 2.021 2.125 1.375-1.271-2.021-2.062Z"/>\r\n  </g>\r\n  <path fill="none" d="M0 0h16v16H0z"/>\r\n</svg>\r\n'},61760:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16">\r\n  <path fill="currentColor" d="M12.888 5H3.1A2 2 0 0 0 1 7v5h3v3h8v-3h3V7a2.006 2.006 0 0 0-2.112-2ZM11 14H5v-4h6Zm1.888-5.821a.718.718 0 1 1 .7-.718.711.711 0 0 1-.7.718ZM12.2 1H3.8v3h8.4Z"/>\r\n  <path fill="none" d="M0 0h16v16H0Z"/>\r\n</svg>\r\n'},8057:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg">\r\n  <g>\r\n    <g fill="none">\r\n      <path d="M3 15V1l12 7ZM4 2.766v10.469l9-5.234Z"/>\r\n      <path fill="currentColor" d="M3 15V1l12 7-12 7ZM4 2.7657v10.4686L13 8 4 2.7657Z"/>\r\n    </g>\r\n  </g>\r\n  <path fill="none" d="M0 0h16v16H0z"/>\r\n</svg>\r\n'},92407:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16">\r\n  <path fill="currentColor" d="m.5 7.5 2.5 3 2.5-3Z"/>\r\n  <path fill="currentColor" d="m15.5 8.5-2.5-3-2.5 3Z"/>\r\n  <path fill="none" stroke="currentColor" stroke-width="1" d="M13 8a5 5 0 0 1-5 5 5 5 0 0 1-3.5-1.5"/>\r\n  <path fill="none" stroke="currentColor" stroke-width="1" d="M3 8a5 5 0 0 1 5-5 5 5 0 0 1 3.5 1.5"/>\r\n  <path fill="none" d="M0 0h16v16H0z"/>\r\n</svg>\r\n'},80892:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16">\r\n  <g fill="none" stroke="currentColor" stroke-miterlimit="10">\r\n    <path d="M11.5 13.499v-5h-6v5"/>\r\n    <path d="M5.5 1.5v2.95h5.417"/>\r\n    <path d="M11.167 1.5H2.5v12h12V4.833Z"/>\r\n  </g>\r\n  <path fill="none" d="M0 0h16v16H0z"/>\r\n</svg>\r\n'},39259:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16">\r\n  <path fill="none" d="M0 0h16v16H0z"/>\r\n  <path fill="none" stroke="currentColor" d="M1 3.5h9"></path>\r\n  <path fill="none" stroke="currentColor" d="M12 3.5h3"></path>\r\n  <path fill="none" stroke="currentColor" d="M7 8.5H1"></path>\r\n  <path fill="none" stroke="currentColor" d="M4 13.5H1"></path>\r\n  <path fill="none" stroke="currentColor" d="M15 13.5H6"></path>\r\n  <path fill="none" stroke="currentColor" d="M15 8.5H9"></path>\r\n  <path fill="none" stroke="currentColor" d="M11.5 5V1"></path>\r\n  <path fill="none" stroke="currentColor" d="M7.5 6v4"></path>\r\n  <path fill="none" stroke="currentColor" d="M4.5 11v4"></path>\r\n</svg>\r\n'},58345:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16">\r\n  <g>\r\n    <g>\r\n      <g fill="none" stroke="currentColor" stroke-miterlimit="10">\r\n        <path d="M10.5 5A2.5 2.5 0 0 0 8 2.5 2.5 2.5 0 0 0 5.5 5 2.5 2.5 0 0 0 8 7.5 2.5 2.5 0 0 0 10.5 5Z"/>\r\n        <path d="M11.893 12.5H15.5c0-1.806-1.368-3-3.422-3a4.294 4.294 0 0 0-1.578.279"/>\r\n        <path d="M14.501 6a2 2 0 0 0-2-2 2 2 0 0 0-2 2 2 2 0 0 0 2 2 2 2 0 0 0 2-2Z"/>\r\n        <path d="M4.106 12.5H.5c0-1.806 1.369-3 3.421-3a4.306 4.306 0 0 1 1.579.279"/>\r\n        <path d="M1.501 6a2 2 0 0 1 2-2 2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2Z"/>\r\n        <path d="M12.5 13.5c0-2.409-1.8-4-4.5-4s-4.5 1.591-4.5 4Z"/>\r\n      </g>\r\n    </g>\r\n    <path fill="none" d="M0 0h16v16H0z"/>\r\n  </g>\r\n</svg>\r\n'},89567:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 72 40">\r\n  <g fill="#fff" stroke="#0d2e4e" transform="translate(8 8)">\r\n    <rect width="56" height="24" stroke="none" rx="2"/>\r\n    <rect width="55" height="23" x=".5" y=".5" fill="none" rx="1.5"/>\r\n  </g>\r\n  <rect width="24" height="6" fill="#d1d1d1" rx="3" transform="translate(16 17)"/>\r\n  <path fill="#ff4013" d="M16,14a2,2,0,0,1-2,2H2a2,2,0,0,1-2-2V2A2,2,0,0,1,2,0H14a2,2,0,0,1,2,2Z" transform="translate(44 12)"/>\r\n  <path fill="none" stroke="#fff" d="M12.5,4.5l-6,6L4,8.1" transform="translate(44 12)"/>\r\n</svg>\r\n'},75588:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><defs><style>.crt-color-picker-arrow-svg{fill:#5D5D5D;}.crt-color-picker-arrow-svg-box{fill:none;}</style></defs><g transform="translate(4 7)"><path class="crt-color-picker-arrow-svg" d="M1787.779-67.455l4,4,4-4Z" transform="translate(-1787.779 67.455)"/></g><rect class="crt-color-picker-arrow-svg-box" width="16" height="16"/></svg>\r\n'},75413:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="72" height="64" viewBox="0 0 72 64">\r\n  <g id="Group_14560" data-name="Group 14560" transform="translate(-464 -425)">\r\n    <rect id="Rectangle_24800" data-name="Rectangle 24800" width="72" height="64" rx="6" transform="translate(464 425)" fill="none"/>\r\n    <g id="Group_15511" data-name="Group 15511" transform="translate(1339.698 -2229.411) rotate(45)">\r\n      <path id="Union_94" data-name="Union 94" d="M7682-1705v-4h2v-5a4,4,0,0,1,4-4,4,4,0,0,1,4,4v5h2v4Z" transform="translate(-6382 4191)" fill="#004fd6"/>\r\n      <path id="Rectangle_40067" data-name="Rectangle 40067" d="M0,0H6A0,0,0,0,1,6,0V14a3,3,0,0,1-3,3H3a3,3,0,0,1-3-3V0A0,0,0,0,1,0,0Z" transform="translate(1303 2485)" fill="#fff" stroke="#004fd6" stroke-width="2"/>\r\n    </g>\r\n    <rect id="Rectangle_40065" data-name="Rectangle 40065" width="8" height="8" rx="2" transform="translate(505.253 467.498)" fill="#22ac14"/>\r\n    <rect id="Rectangle_40066" data-name="Rectangle 40066" width="8" height="8" rx="2" transform="translate(481.253 467.498)" fill="#ff4013"/>\r\n    <rect id="Rectangle_40067-2" data-name="Rectangle 40067" width="8" height="8" rx="2" transform="translate(493.253 467.498)" fill="#004fd6"/>\r\n  </g>\r\n</svg>\r\n'},68874:e=>{e.exports='<svg id="Combobox_add_new" data-name="Combobox-add-new" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">\r\n  <g id="Group_2033" data-name="Group 2033" transform="translate(2 2)">\r\n    <line id="Line_38" data-name="Line 38" y2="12" transform="translate(6)" fill="none" stroke="#004fd6" stroke-width="2"/>\r\n    <line id="Line_39" data-name="Line 39" y2="12" transform="translate(12 6) rotate(90)" fill="none" stroke="#004fd6" stroke-width="2"/>\r\n  </g>\r\n  <rect id="Rectangle_23394" data-name="Rectangle 23394" width="16" height="16" fill="none"/>\r\n</svg>\r\n'},95264:e=>{e.exports="<svg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'><g transform='translate(-1783.779 74.455)'><path style='fill: inherit;' d='M1787.779-67.455l4,4,4-4Z' /></g><rect style='fill: none;' width='16' height='16' /></svg>\r\n"},21942:e=>{e.exports='<svg id="Component_906_1" data-name="Component 906 – 1" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">\r\n  <rect id="Rectangle_6385" data-name="Rectangle 6385" width="14" height="14" rx="2" transform="translate(1 1)" fill="none" stroke="#0d2e4e" stroke-miterlimit="10" stroke-width="1"/>\r\n  <line id="Line_217" data-name="Line 217" x1="7.554" y2="7.503" transform="translate(3.975 4.43)" fill="none" stroke="#0d2e4e" stroke-miterlimit="10" stroke-width="1"/>\r\n  <path id="Path_6133" data-name="Path 6133" d="M-1021.839,155.963h5.923v5.923" transform="translate(1027.445 -151.533)" fill="none" stroke="#0d2e4e" stroke-miterlimit="10" stroke-width="1"/>\r\n  <rect id="Rectangle_6386" data-name="Rectangle 6386" width="16" height="16" fill="none"/>\r\n</svg>\r\n'},26208:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 72 40">\r\n  <g fill="#fff" stroke="#0d2e4e" transform="translate(8 8)">\r\n    <rect width="56" height="24" stroke="none" rx="2"/>\r\n    <rect width="55" height="23" x=".5" y=".5" fill="none" rx="1.5"/>\r\n  </g>\r\n  <rect width="24" height="6" fill="#d1d1d1" rx="3" transform="translate(16 17)"/>\r\n  <path fill="#ff4013" d="M1787.779-67.455l5.5,6,5.5-6Z" transform="translate(-1741.779 84.455)"/>\r\n</svg>\r\n'},6342:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">\r\n  <g id="cross_default_state" opacity="1">\r\n    <rect id="Rectangle_6497" data-name="Rectangle 6497" width="16" height="16" fill="none" stroke="none"/>\r\n    <line id="Line_772" data-name="Line 772" y1="10" x2="10" transform="translate(3 3)" fill="none" stroke="inherit" stroke-linecap="round" stroke-miterlimit="10" stroke-width="1"/>\r\n    <line id="Line_773" data-name="Line 773" x2="10" y2="10" transform="translate(3 3)" fill="none" stroke="inherit" stroke-linecap="round" stroke-miterlimit="10" stroke-width="1"/>\r\n  </g>\r\n</svg>\r\n'},12787:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="72" height="64" viewBox="0 0 72 64">\r\n  <g id="Group_16583" data-name="Group 16583" transform="translate(-464 -425)">\r\n    <rect id="Rectangle_2480011" data-name="Rectangle 2480011" width="72" height="64" rx="6" transform="translate(464 425)" fill="none"/>\r\n    <g id="Group_14731" data-name="Group 14731" transform="translate(2.38)">\r\n      <g id="Group_16585" data-name="Group 16585" transform="translate(-93)">\r\n        <rect id="Rectangle_42511" data-name="Rectangle 42511" width="28" height="6" rx="3" transform="translate(583.62 438)" fill="#0091ea" opacity="0.5"/>\r\n        <rect id="Rectangle_42512" data-name="Rectangle 42512" width="36" height="6" rx="3" transform="translate(583.62 450)" fill="#d1d1d1"/>\r\n        <rect id="Rectangle_42514" data-name="Rectangle 42514" width="36" height="6" rx="3" transform="translate(583.62 460)" fill="#d1d1d1"/>\r\n        <rect id="Rectangle_42516" data-name="Rectangle 42516" width="36" height="6" rx="3" transform="translate(583.62 470)" fill="#d1d1d1"/>\r\n      </g>\r\n    </g>\r\n    <g id="Group_14733" data-name="Group 14733" transform="translate(440 367)">\r\n      <rect id="Rectangle_6239" data-name="Rectangle 6239" width="16" height="16" rx="2" transform="translate(32 72)" fill="#ff4013"/>\r\n      <path id="Path_6339" data-name="Path 6339" d="M448.6,1481l3.962-4,4.038,4" transform="translate(-412.602 -1399.001)" fill="none" stroke="#fff" stroke-width="2"/>\r\n    </g>\r\n  </g>\r\n</svg>\r\n'},56068:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="72" height="64" viewBox="0 0 72 64">\r\n  <g id="Group_14206" data-name="Group 14206" transform="translate(-446 -144)">\r\n    <rect id="Rectangle_24755" data-name="Rectangle 24755" width="72" height="64" rx="6" transform="translate(446 144)" fill="none"/>\r\n    <rect id="Rectangle_24764" data-name="Rectangle 24764" width="33" height="6" rx="3" transform="translate(454 157)" fill="#0091ea" opacity="0.5"/>\r\n    <rect id="Rectangle_24765" data-name="Rectangle 24765" width="18" height="6" rx="3" transform="translate(454 169)" fill="#d1d1d1"/>\r\n    <rect id="Rectangle_24766" data-name="Rectangle 24766" width="18" height="6" rx="3" transform="translate(478 169)" fill="#d1d1d1"/>\r\n    <rect id="Rectangle_24767" data-name="Rectangle 24767" width="8" height="6" rx="3" transform="translate(502 169)" fill="#d1d1d1"/>\r\n    <rect id="Rectangle_24768" data-name="Rectangle 24768" width="18" height="6" rx="3" transform="translate(454 179)" fill="#d1d1d1"/>\r\n    <rect id="Rectangle_24769" data-name="Rectangle 24769" width="18" height="6" rx="3" transform="translate(478 179)" fill="#d1d1d1"/>\r\n    <rect id="Rectangle_24770" data-name="Rectangle 24770" width="8" height="6" rx="3" transform="translate(502 179)" fill="#d1d1d1"/>\r\n    <rect id="Rectangle_24771" data-name="Rectangle 24771" width="18" height="6" rx="3" transform="translate(454 189)" fill="#d1d1d1"/>\r\n    <rect id="Rectangle_24772" data-name="Rectangle 24772" width="18" height="6" rx="3" transform="translate(478 189)" fill="#d1d1d1"/>\r\n    <rect id="Rectangle_24773" data-name="Rectangle 24773" width="8" height="6" rx="3" transform="translate(502 189)" fill="#d1d1d1"/>\r\n  </g>\r\n</svg>\r\n'},18031:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="16.182" height="16.002" viewBox="0 0 16.182 16.002">\r\n    <g transform="translate(-170 -1033)">\r\n        <rect style="fill:none;" width="16" height="16" transform="translate(170 1033)" />\r\n        <path class="stroked" style="fill:none; stroke:inherit; stroke-linecap:round; stroke-miterlimit:10; stroke-width:2px;" d="M1895.4,263.075h-3.256v-10h13.022v2" transform="translate(-1721.146 782.925)" />\r\n        <path class="stroked" style="fill:none; stroke:inherit; stroke-linecap:round; stroke-width:2px;" d="M.4,0h4" transform="translate(171.604 1039.001)" />\r\n        <line class="stroked" style="fill:none; stroke:inherit; stroke-linecap:round; stroke-miterlimit:10; stroke-width:2px;" y2="1" transform="translate(173 1034)" />\r\n        <line class="stroked" style="fill:none; stroke:inherit; stroke-linecap:round; stroke-miterlimit:10; stroke-width:2px;" y2="1" transform="translate(182 1034)" />\r\n        <g  style="fill:none; stroke-miterlimit:10;" transform="translate(-1719.582 785.418)">\r\n            <path style="stroke:none;" d="M1905.764,258.584a5,5,0,1,1-5-5A5,5,0,0,1,1905.764,258.584Z" />\r\n            <path class="filled" style="stroke:none; fill:inherit;" d="M 1900.762817382813 262.0841064453125 C 1902.693359375 262.0841064453125 1904.263916015625 260.5140380859375 1904.263916015625 258.5841674804688 C 1904.263916015625 256.6535949707031 1902.693359375 255.0829620361328 1900.762817382813 255.0829620361328 C 1898.83349609375 255.0829620361328 1897.263916015625 256.6535949707031 1897.263916015625 258.5841674804688 C 1897.263916015625 260.5140380859375 1898.83349609375 262.0841064453125 1900.762817382813 262.0841064453125 M 1900.762817382813 263.5841064453125 C 1898.000244140625 263.5841064453125 1895.763916015625 261.3455200195313 1895.763916015625 258.5841674804688 C 1895.763916015625 255.8215789794922 1898.000244140625 253.5829620361328 1900.762817382813 253.5829620361328 C 1903.524291992188 253.5829620361328 1905.763916015625 255.8215789794922 1905.763916015625 258.5841674804688 C 1905.763916015625 261.3455200195313 1903.524291992188 263.5841064453125 1900.762817382813 263.5841064453125 Z" />\r\n        </g>\r\n        <path class="stroked" style="fill:none; stroke:inherit;stroke-linecap:round; stroke-width:1.5px;" d="M1900.1,254.194v1.593h1.48" transform="translate(-1719.098 788.712)" />\r\n    </g>\r\n</svg>'},69884:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">\r\n    <rect  style="fill:none;" width="16" height="16" />\r\n    <g class="b stroked" style="fill:none; stroke:#284578;stroke-miterlimit:10; stroke-width:2px;" transform="translate(1 3)">\r\n        <rect  style="stroke:none;" width="14" height="13" />\r\n        <rect  style="fill:none;" x="1" y="1" width="12" height="11" />\r\n    </g>\r\n    <line class="stroked" style="fill:none; stroke:#284578;stroke-miterlimit:10; stroke-width:2px;"  x2="12.875" transform="translate(1.429 8)" />\r\n    <g class="stroked" style="stroke:#284578;stroke-miterlimit:10; fill:#fff;stroke-width:1.5px;" transform="translate(3 1)">\r\n        <rect style="stroke:none;" width="2" height="4" />\r\n        <rect style="fill:none;" x="0.75" y="0.75" width="0.5" height="2.5" />\r\n    </g>\r\n    <g class="stroked" style="stroke:#284578;stroke-miterlimit:10; fill:#fff;stroke-width:1.5px;"  transform="translate(11 1)">\r\n        <rect style="stroke:none;" width="2" height="4" />\r\n        <rect class="filled" style="fill:none;" x="0.75" y="0.75" width="0.5" height="2.5" />\r\n    </g>\r\n</svg>'},26497:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="72" height="40" viewBox="0 0 72 40">\r\n  <g transform="translate(-60 -304.334)">\r\n    <rect width="72" height="40" transform="translate(60 304.334)" fill="none" opacity="0"/>\r\n    <g transform="translate(68 312.334)" fill="#fff" stroke="#0d2e4e" stroke-width="1">\r\n      <rect width="56" height="24" rx="2" stroke="none"/>\r\n      <rect x="0.5" y="0.5" width="55" height="23" rx="1.5" fill="none"/>\r\n    </g>\r\n    <rect width="24" height="6" rx="3" transform="translate(76 321.334)" fill="#d1d1d1"/>\r\n  </g>\r\n  <g transform="translate(-14416 23128)">\r\n    <rect width="16" height="16" transform="translate(14460 -23116)" fill="none"/>\r\n    <path d="M1895.033,260.278h-4.149v-9h12v2" transform="translate(12569.617 -23364.777)" fill="none" stroke="#ff4013" stroke-width="1.5"/>\r\n    <path d="M0,0H4.5" transform="translate(14461 -23110.5)" fill="none" stroke="#ff4013" stroke-width="1.5"/>\r\n    <line y2="4" transform="translate(14463.5 -23116)" fill="none" stroke="#ff4013" stroke-width="1.5"/>\r\n    <line y2="4" transform="translate(14469.5 -23116)" fill="none" stroke="#ff4013" stroke-width="1.5"/>\r\n    <g transform="translate(12570.236 -23364.582)" fill="none">\r\n      <path d="M1905.764,258.584a5,5,0,1,1-5-5A5,5,0,0,1,1905.764,258.584Z" stroke="none"/>\r\n      <path d="M 1900.7626953125 262.0840454101562 C 1902.693237304688 262.0840454101562 1904.263916015625 260.5139770507812 1904.263916015625 258.5840759277344 C 1904.263916015625 256.653564453125 1902.693237304688 255.0829772949219 1900.7626953125 255.0829772949219 C 1898.83349609375 255.0829772949219 1897.263916015625 256.653564453125 1897.263916015625 258.5840759277344 C 1897.263916015625 260.5139770507812 1898.83349609375 262.0840454101562 1900.7626953125 262.0840454101562 M 1900.7626953125 263.5840454101562 C 1898.000244140625 263.5840454101562 1895.763916015625 261.3454284667969 1895.763916015625 258.5840759277344 C 1895.763916015625 255.8215942382812 1898.000244140625 253.5829772949219 1900.7626953125 253.5829772949219 C 1903.524169921875 253.5829772949219 1905.763916015625 255.8215942382812 1905.763916015625 258.5840759277344 C 1905.763916015625 261.3454284667969 1903.524169921875 263.5840454101562 1900.7626953125 263.5840454101562 Z" stroke="none" fill="#ff4013"/>\r\n    </g>\r\n    <path d="M1900.1,254.194v5h2.5" transform="translate(12570.902 -23364.695)" fill="none" stroke="#ff4013" stroke-width="1.5"/>\r\n  </g>\r\n</svg>\r\n'},92661:e=>{e.exports='<svg id="Component_3014" data-name="Component 3014" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="currentColor">\r\n  <path id="Path_6932" data-name="Path 6932" d="M-376.5,485.792h-13a6.382,6.382,0,0,1,6.5-5A6.4,6.4,0,0,1-376.5,485.792Z" transform="translate(391 -471.292)"/>\r\n  <circle id="Ellipse_1349" data-name="Ellipse 1349" cx="3" cy="3" r="3" transform="translate(5 1.5)"/>\r\n  <rect id="Rectangle_6489" data-name="Rectangle 6489" width="16" height="16" fill="none"/>\r\n</svg>\r\n'},91348:e=>{e.exports='<svg id="Component_452_3" data-name="Component 452 – 3" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">\r\n  <g id="Ellipse_1346" data-name="Ellipse 1346" fill="none" stroke="#c23f23" stroke-width="1">\r\n    <circle cx="8" cy="8" r="8" stroke="none"/>\r\n    <circle cx="8" cy="8" r="7.5" fill="none"/>\r\n  </g>\r\n  <g id="Group_7749" data-name="Group 7749" transform="translate(-338.151 388.098) rotate(180)">\r\n    <line id="Line_782" data-name="Line 782" y2="6.5" transform="translate(-346.15 375.599)" fill="none" stroke="#c23f23" stroke-width="1"/>\r\n    <rect id="Rectangle_6505" data-name="Rectangle 6505" width="0.999" height="0.999" transform="translate(-346.65 383.099)" fill="#c23f23"/>\r\n  </g>\r\n</svg>\r\n'},39060:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="72" height="64" viewBox="0 0 72 64">\r\n  <g id="Group_16057" data-name="Group 16057" transform="translate(-50 -752)">\r\n    <rect id="Rectangle_39831" data-name="Rectangle 39831" width="72" height="64" rx="6" transform="translate(50 752)" fill="#fff"/>\r\n    <g id="Group_14560" data-name="Group 14560" transform="translate(-414 327)">\r\n      <rect id="Rectangle_24800" data-name="Rectangle 24800" width="72" height="64" rx="6" transform="translate(464 425)" fill="none"/>\r\n      <g id="Group_14731" data-name="Group 14731" transform="translate(-18.251 -1)">\r\n        <g id="Group_14728" data-name="Group 14728" transform="translate(490.547 439)">\r\n          <rect id="Rectangle_6612" data-name="Rectangle 6612" width="36" height="5" rx="2.5" transform="translate(5.704)" fill="#d1d1d1"/>\r\n          <rect id="Rectangle_38970" data-name="Rectangle 38970" width="50" height="5" rx="2.5" transform="translate(5.704 8)" fill="#d1d1d1"/>\r\n          <rect id="Rectangle_41224" data-name="Rectangle 41224" width="3" height="20" transform="translate(-0.296)" fill="#22ac14"/>\r\n          <rect id="Rectangle_41225" data-name="Rectangle 41225" width="17" height="4" rx="2" transform="translate(5.704 16)" fill="#0091ea" opacity="0.5"/>\r\n        </g>\r\n        <g id="Group_14728-2" data-name="Group 14728" transform="translate(490.547 465)">\r\n          <rect id="Rectangle_6612-2" data-name="Rectangle 6612" width="36" height="5" rx="2.5" transform="translate(5.704)" fill="#d1d1d1"/>\r\n          <rect id="Rectangle_41224-2" data-name="Rectangle 41224" width="3" height="12" transform="translate(-0.296)" fill="#22ac14"/>\r\n          <rect id="Rectangle_41225-2" data-name="Rectangle 41225" width="17" height="4" rx="2" transform="translate(5.704 8)" fill="#0091ea" opacity="0.5"/>\r\n        </g>\r\n      </g>\r\n    </g>\r\n  </g>\r\n</svg>\r\n'},4381:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16">\r\n\t<path fill="none" d="m14.4 5.25-6.5 7-6.5-7" class="svg-expansion-panel-mat-toggle" stroke="#fff"/>\r\n\t<path fill="none" d="M0 0h16v16H0z"/>\r\n</svg>\r\n'},70170:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16">\r\n\t<path fill="none" stroke="#fff" stroke-width="1.3" d="M4.6 6 8 9.38 11.47 6"/>\r\n\t<path fill="none" d="M0 0h16v16H0z"/>\r\n</svg>\r\n'},70626:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16">\r\n\t<path fill="none" d="m1.7 11.25 6.5-7 6.5 7" class="svg-expansion-panel-mat-toggle" stroke="#fff"/>\r\n\t<path fill="none" d="M0 0h16v16H0z"/>\r\n</svg>\r\n'},60309:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16">\r\n\t<path fill="none" stroke="#fff" stroke-width="1.3" d="M4.6 9.38 8 6l3.47 3.38"/>\r\n\t<path fill="none" d="M0 0h16v16H0z"/>\r\n</svg>\r\n'},65518:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="72" height="64" viewBox="0 0 72 64">\r\n  <g id="Group_145601111" data-name="Group 145601111" transform="translate(-464 -425)">\r\n    <rect id="Rectangle_248001111" data-name="Rectangle 248001111" width="72" height="64" rx="6" transform="translate(464 425)" fill="none"/>\r\n    <g id="Group_147311111" data-name="Group 147311111" transform="translate(2.38)">\r\n      <g id="Group_147281111" data-name="Group 147281111" transform="translate(491 439)">\r\n        <rect id="Rectangle_66121111" data-name="Rectangle 66121111" width="30" height="5" rx="2" transform="translate(-0.38)" fill="#e3e9f9"/>\r\n        <rect id="Rectangle_389701111" data-name="Rectangle 389701111" width="35" height="5" rx="2" transform="translate(-0.38 8)" fill="#006ce0"/>\r\n      </g>\r\n      <g id="Group_147291111" data-name="Group 147291111" transform="translate(491 455)">\r\n        <rect id="Rectangle_6612-21111" data-name="Rectangle 66121111" width="30" height="5" rx="2" transform="translate(-0.38)" fill="#e3e9f9"/>\r\n        <rect id="Rectangle_38970-21111" data-name="Rectangle 389701111" width="35" height="5" rx="2" transform="translate(-0.38 8)" fill="#006ce0"/>\r\n      </g>\r\n      <g id="Group_147301111" data-name="Group 147301111" transform="translate(491 471)">\r\n        <rect id="Rectangle_6612-31111" data-name="Rectangle 66121111" width="20" height="5" rx="2" transform="translate(9.62)" fill="#e3e9f9"/>\r\n        <rect id="Rectangle_398951111" data-name="Rectangle 398951111" width="5" height="5" rx="2" transform="translate(-0.38)" fill="#006ce0"/>\r\n      </g>\r\n    </g>\r\n    <g id="Group_147331111" data-name="Group 147331111" transform="translate(440 367)">\r\n      <rect id="Rectangle_62391111" data-name="Rectangle 62391111" width="16" height="16" rx="2" transform="translate(32 72)" fill="#ff4013"/>\r\n      <path id="Path_63391111" data-name="Path 63391111" d="M448.6,1481l3.962-4,4.038,4" transform="translate(-412.602 -1399.001)" fill="none" stroke="#fff" stroke-width="1.3"/>\r\n    </g>\r\n  </g>\r\n</svg>\r\n'},72373:e=>{e.exports='<svg id="Component_2433_33" data-name="Component 2433 – 33" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\r\n  <rect id="Rectangle_39404" data-name="Rectangle 39404" width="24" height="24" fill="none"/>\r\n  <path id="Path_11238" data-name="Path 11238" d="M3.011-1.195H2.7A11.1,11.1,0,0,1-.46-1.642,10.6,10.6,0,0,1-3.3-2.879,11.332,11.332,0,0,1-5.683-4.872,11.436,11.436,0,0,1-7.539-7.518l-.172-.275.172-.309a11.03,11.03,0,0,1,1.856-2.577,11.916,11.916,0,0,1,2.44-1.993A11.8,11.8,0,0,1-.391-13.944,10.859,10.859,0,0,1,2.7-14.391h0a11.457,11.457,0,0,1,3.2.447,11.648,11.648,0,0,1,2.887,1.271,11.144,11.144,0,0,1,2.405,1.993A10.779,10.779,0,0,1,12.976-8.1l.137.309-.137.275a10.173,10.173,0,0,1-1.615,2.612A11.29,11.29,0,0,1,9.024-2.947,12.152,12.152,0,0,1,6.207-1.642,11.457,11.457,0,0,1,3.011-1.195Zm0-1.478h0A10.05,10.05,0,0,0,8.182-4.03a9.55,9.55,0,0,0,3.625-3.763,9.679,9.679,0,0,0-1.615-2.131,10.351,10.351,0,0,0-2.062-1.6,10.528,10.528,0,0,0-2.44-1.048,9.591,9.591,0,0,0-2.68-.378A10.134,10.134,0,0,0-2.11-11.59a9.39,9.39,0,0,0-3.677,3.8A8.406,8.406,0,0,0-2.161-4.081,11.683,11.683,0,0,0,3.011-2.672Zm0-10.275a4.761,4.761,0,0,0-1.735.326A4.08,4.08,0,0,0-.22-11.607H.09a1.58,1.58,0,0,1,1.134.464A1.535,1.535,0,0,1,1.7-9.992a1.551,1.551,0,0,1-.481,1.134A1.551,1.551,0,0,1,.09-8.377,1.78,1.78,0,0,1-.769-8.6a1.41,1.41,0,0,1-.619-.67v.722A4.364,4.364,0,0,0-.151-5.473,3.982,3.982,0,0,0,2.873-4.15h.137A4.364,4.364,0,0,0,6.086-5.387a3.945,3.945,0,0,0,1.323-2.99v-.172a4.332,4.332,0,0,0-1.254-3.076,4,4,0,0,0-3.007-1.323H3.011Z" transform="translate(9.299 19.293)" fill="#004fd6"/>\r\n</svg>\r\n'},64889:e=>{e.exports='<svg id="Component_5489_10" data-name="Component 5489 – 10" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">\r\n  <path id="Subtraction_1013" data-name="Subtraction 1013" d="M1422.268-109.33h-.208a7.417,7.417,0,0,1-2.125-.3,7.126,7.126,0,0,1-1.906-.844,7.711,7.711,0,0,1-1.606-1.359,7.848,7.848,0,0,1-1.247-1.805l-.115-.187.115-.211a7.56,7.56,0,0,1,1.247-1.758,8.221,8.221,0,0,1,.856-.8l.735.735a6.43,6.43,0,0,0-1.661,2.034,5.727,5.727,0,0,0,2.437,2.532,7.813,7.813,0,0,0,3.477.96,7.38,7.38,0,0,0,1.18-.093l.835.835A7.67,7.67,0,0,1,1422.268-109.33Zm4.787-1.736h0l-.646-.646a6.561,6.561,0,0,0,1.775-2.117,6.627,6.627,0,0,0-1.086-1.453,6.967,6.967,0,0,0-1.386-1.09,7.05,7.05,0,0,0-1.64-.715,6.376,6.376,0,0,0-1.519-.251,2.683,2.683,0,0,1,1.83.9,2.991,2.991,0,0,1,.843,2.1v.117a2.753,2.753,0,0,1-.223,1.109h0l-3.973-3.973.052-.022.022-.009a3.17,3.17,0,0,1,1.166-.222c.094,0,.189,0,.284.006-.063,0-.127-.006-.191-.006h-.093a6.964,6.964,0,0,0-1.36.132l-.838-.838a7.225,7.225,0,0,1,1.99-.279,7.629,7.629,0,0,1,2.149.305,7.815,7.815,0,0,1,1.94.867,7.563,7.563,0,0,1,1.617,1.36,7.391,7.391,0,0,1,1.2,1.758l.093.211-.093.187a7,7,0,0,1-1.085,1.782,7.62,7.62,0,0,1-.827.794Zm-4.787-.279h-.092a2.672,2.672,0,0,1-2.033-.9,3.012,3.012,0,0,1-.832-2.1v-.221l3.212,3.212C1422.429-111.348,1422.346-111.345,1422.268-111.345Z" transform="translate(-1414.061 121.939)" fill="currentColor"/>\r\n  <rect id="Rectangle_44636" data-name="Rectangle 44636" width="16" height="16" fill="none"/>\r\n  <path id="Path_11999" data-name="Path 11999" d="M768,8279l12,12" transform="translate(-766 -8277)" fill="none" stroke="currentColor" stroke-width="1"/>\r\n</svg>\r\n'},8266:e=>{e.exports='<svg id="Component_2433_33" data-name="Component 2433 – 33" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\r\n  <rect id="Rectangle_39404" data-name="Rectangle 39404" width="24" height="24" fill="none"/>\r\n  <path id="Path_11238" data-name="Path 11238" d="M3.011-1.195H2.7A11.1,11.1,0,0,1-.46-1.642,10.6,10.6,0,0,1-3.3-2.879,11.332,11.332,0,0,1-5.683-4.872,11.436,11.436,0,0,1-7.539-7.518l-.172-.275.172-.309a11.03,11.03,0,0,1,1.856-2.577,11.916,11.916,0,0,1,2.44-1.993A11.8,11.8,0,0,1-.391-13.944,10.859,10.859,0,0,1,2.7-14.391h0a11.457,11.457,0,0,1,3.2.447,11.648,11.648,0,0,1,2.887,1.271,11.144,11.144,0,0,1,2.405,1.993A10.779,10.779,0,0,1,12.976-8.1l.137.309-.137.275a10.173,10.173,0,0,1-1.615,2.612A11.29,11.29,0,0,1,9.024-2.947,12.152,12.152,0,0,1,6.207-1.642,11.457,11.457,0,0,1,3.011-1.195Zm0-1.478h0A10.05,10.05,0,0,0,8.182-4.03a9.55,9.55,0,0,0,3.625-3.763,9.679,9.679,0,0,0-1.615-2.131,10.351,10.351,0,0,0-2.062-1.6,10.528,10.528,0,0,0-2.44-1.048,9.591,9.591,0,0,0-2.68-.378A10.134,10.134,0,0,0-2.11-11.59a9.39,9.39,0,0,0-3.677,3.8A8.406,8.406,0,0,0-2.161-4.081,11.683,11.683,0,0,0,3.011-2.672Zm0-10.275a4.761,4.761,0,0,0-1.735.326A4.08,4.08,0,0,0-.22-11.607H.09a1.58,1.58,0,0,1,1.134.464A1.535,1.535,0,0,1,1.7-9.992a1.551,1.551,0,0,1-.481,1.134A1.551,1.551,0,0,1,.09-8.377,1.78,1.78,0,0,1-.769-8.6a1.41,1.41,0,0,1-.619-.67v.722A4.364,4.364,0,0,0-.151-5.473,3.982,3.982,0,0,0,2.873-4.15h.137A4.364,4.364,0,0,0,6.086-5.387a3.945,3.945,0,0,0,1.323-2.99v-.172a4.332,4.332,0,0,0-1.254-3.076,4,4,0,0,0-3.007-1.323H3.011Z" transform="translate(9.299 19.293)" fill="#284578"/>\r\n</svg>\r\n'},67065:e=>{e.exports='<svg id="Component_707_4" data-name="Component 707 – 4" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">\r\n  <g id="Group_7356" data-name="Group 7356" transform="translate(354.15 -589.151)">\r\n    <g id="Group_7355" data-name="Group 7355">\r\n      <path id="Subtraction_898" data-name="Subtraction 898" d="M-8356.151-959.849h-2v-6.292l-5-5v-2.708h13v2.708l-4.293,4.292h-1.414l4.708-4.708v-1.293h-11v1.293l5,5v5.707h1v1Z" transform="translate(8010 1564)" fill="currentColor"/>\r\n      <g id="Group_15771" data-name="Group 15771" transform="translate(-1 -1)">\r\n        <g id="Ellipse_1346" data-name="Ellipse 1346" transform="translate(-344.15 599.151)" fill="none" stroke="currentColor" stroke-width="1">\r\n          <circle cx="2.5" cy="2.5" r="2.5" stroke="none"/>\r\n          <circle cx="2.5" cy="2.5" r="2" fill="none"/>\r\n        </g>\r\n        <path id="Path_11724" data-name="Path 11724" d="M-342.15,598.259v2" transform="translate(0.5 -0.108)" fill="none" stroke="currentColor" stroke-width="1"/>\r\n        <path id="Path_11725" data-name="Path 11725" d="M-342.15,598.259v2" transform="translate(0.5 4.892)" fill="none" stroke="currentColor" stroke-width="1"/>\r\n        <g id="Ellipse_1347" data-name="Ellipse 1347" transform="translate(-342.15 601.151)" fill="none" stroke="currentColor" stroke-width="1">\r\n          <circle cx="0.5" cy="0.5" r="0.5" stroke="none"/>\r\n          <circle cx="0.5" cy="0.5" fill="none"/>\r\n        </g>\r\n        <path id="Path_11726" data-name="Path 11726" d="M-342.15,598.259v2" transform="translate(260.109 943.802) rotate(90)" fill="none" stroke="currentColor" stroke-width="1"/>\r\n        <path id="Path_11727" data-name="Path 11727" d="M-342.15,598.259v2" transform="translate(255.109 943.802) rotate(90)" fill="none" stroke="currentColor" stroke-width="1"/>\r\n        <path id="Path_11728" data-name="Path 11728" d="M-342.15,598.259v2" transform="translate(325.795 418.08) rotate(45)" fill="none" stroke="currentColor" stroke-width="1"/>\r\n        <path id="Path_11729" data-name="Path 11729" d="M-342.15,598.259v2" transform="translate(322.259 421.616) rotate(45)" fill="none" stroke="currentColor" stroke-width="1"/>\r\n        <path id="Path_11730" data-name="Path 11730" d="M-342.15,598.259v2" transform="translate(-525.222 -65.794) rotate(-45)" fill="none" stroke="currentColor" stroke-width="1"/>\r\n        <path id="Path_11731" data-name="Path 11731" d="M-342.15,598.259v2" transform="translate(-521.686 -62.258) rotate(-45)" fill="none" stroke="currentColor" stroke-width="1"/>\r\n      </g>\r\n    </g>\r\n  </g>\r\n  <rect id="Rectangle_6429" data-name="Rectangle 6429" width="16" height="16" fill="none"/>\r\n</svg>\r\n'},28283:e=>{e.exports='<svg id="Component_192" data-name="Component 192" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">\r\n  <rect id="Rectangle_6497" data-name="Rectangle 6497" width="16" height="16" fill="none"/>\r\n  <line id="Line_772" data-name="Line 772" y1="10" x2="10" transform="translate(3 3)" fill="none" stroke="currentColor" stroke-width="1"/>\r\n  <line id="Line_773" data-name="Line 773" x2="10" y2="10" transform="translate(3 3)" fill="none" stroke="currentColor" stroke-width="1"/>\r\n</svg>'},29265:e=>{e.exports="<svg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'><g transform='translate(-1783.779 74.455)'><path style='fill: inherit;' d='M1787.779-67.455l4,4,4-4Z' /></g><rect style='fill: none;' width='16' height='16' /></svg>\r\n"},75567:e=>{e.exports='<svg id="Component_3796_3231" data-name="Component 3796 – 3231" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\r\n  <rect id="Rectangle_30700231" data-name="Rectangle 30700231" width="24" height="24" fill="none"/>\r\n  <path id="Path_7457231" data-name="Path 7457231" d="M14.812-1.439h-.3a10.894,10.894,0,0,1-3.1-.438A10.408,10.408,0,0,1,8.623-3.092,11.122,11.122,0,0,1,6.279-5.048a11.224,11.224,0,0,1-1.821-2.6l-.169-.27.169-.3a10.825,10.825,0,0,1,1.821-2.53A11.7,11.7,0,0,1,8.674-12.7a11.576,11.576,0,0,1,2.8-1.248,10.658,10.658,0,0,1,3.035-.438h0a11.245,11.245,0,0,1,3.137.438A11.432,11.432,0,0,1,20.478-12.7a10.938,10.938,0,0,1,2.361,1.956,10.58,10.58,0,0,1,1.754,2.53l.135.3-.135.27a9.985,9.985,0,0,1-1.585,2.563A11.081,11.081,0,0,1,20.714-3.16a11.927,11.927,0,0,1-2.766,1.282A11.245,11.245,0,0,1,14.812-1.439Zm0-1.45h0a9.864,9.864,0,0,0,5.076-1.332,9.373,9.373,0,0,0,3.558-3.693,9.5,9.5,0,0,0-1.585-2.091,10.159,10.159,0,0,0-2.024-1.568A10.333,10.333,0,0,0,17.443-12.6a9.413,9.413,0,0,0-2.631-.371,9.946,9.946,0,0,0-5.025,1.332A9.216,9.216,0,0,0,6.178-7.915,8.25,8.25,0,0,0,9.736-4.273,11.467,11.467,0,0,0,14.812-2.89Zm0-10.084a4.672,4.672,0,0,0-1.7.32,4,4,0,0,0-1.467.995h.3a1.551,1.551,0,0,1,1.113.455,1.506,1.506,0,0,1,.472,1.13,1.522,1.522,0,0,1-.472,1.113,1.522,1.522,0,0,1-1.113.472,1.747,1.747,0,0,1-.843-.219,1.384,1.384,0,0,1-.607-.658v.708a4.283,4.283,0,0,0,1.214,3.019,3.908,3.908,0,0,0,2.968,1.3h.135A4.283,4.283,0,0,0,17.83-5.554a3.872,3.872,0,0,0,1.3-2.934v-.169A4.252,4.252,0,0,0,17.9-11.676a3.924,3.924,0,0,0-2.951-1.3h-.135Z" transform="translate(-2.508 20.391)" fill="currentColor"/>\r\n  <rect id="Rectangle_30686231" data-name="Rectangle 30686231" width="24" height="24" fill="none"/>\r\n  <line id="Line_1737231" data-name="Line 1737231" x2="16" y2="16" transform="translate(3.5 4.476)" fill="none" stroke-linecap="round" stroke-width="2"/>\r\n  <line id="Line_1738231" data-name="Line 1738231" x2="16" y2="16" transform="translate(5.5 4.476)" fill="none" stroke-linecap="round" stroke-width="2"/>\r\n</svg>\r\n'},16044:e=>{e.exports='<svg id="Component_157_3" data-name="Component 157 – 3" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">\r\n  <g id="Group_7491" data-name="Group 7491" transform="translate(458.548 -589.151)">\r\n    <path id="Path_6939" data-name="Path 6939" d="M-447.939,600.4H-456.8v-9h3.3l2.2,2h5.5v2.5" transform="translate(-1.25 -1.75)" fill="none" stroke="currentColor" stroke-width="1"/>\r\n    <path id="Path_6943" data-name="Path 6943" d="M-390.685,594.651v2l3,3v5h2v-5l3-3v-2Z" transform="translate(-60.362 0)" fill="none" stroke="currentColor" stroke-width="1"/>\r\n  </g>\r\n  <rect id="Rectangle_6501" data-name="Rectangle 6501" width="16" height="16" fill="none"/>\r\n</svg>\r\n'},32935:e=>{e.exports='\r\n<svg xmlns="http://www.w3.org/2000/svg" width="72" height="64" viewBox="0 0 72 64">\r\n\t<g id="Group_12169" data-name="Group 12169" transform="translate(-464 -425)">\r\n\t\t<g id="Group_9771" data-name="Group 9771" transform="translate(399 129)">\r\n\t\t\t<rect id="Rectangle_21438" data-name="Rectangle 21438" width="56" height="24" rx="3" transform="translate(73 316)" fill="#004fd6"/>\r\n\t\t\t<path id="Path_9868" data-name="Path 9868" d="M788.408-567v3.36a4.876,4.876,0,0,0-2.112,1.056l-2.592-2.592-2.88,2.976,2.592,2.592a4.051,4.051,0,0,0-1.056,2.016H779v5.184h3.36c.192,0,.576,1.248,1.056,2.016l-2.592,2.5,2.976,2.976,2.5-2.592a4.8,4.8,0,0,0,2.112.96V-543H791v-23.792ZM791-551.64a3.4,3.4,0,0,1-3.36-3.36,3.4,3.4,0,0,1,3.36-3.36C792.847-558.339,792.847-551.661,791-551.64Z" transform="translate(-662 883)" fill="#fff" opacity="0.2"/>\r\n\t\t\t<g id="Group_16211" data-name="Group 16211" transform="translate(-1167 -209)">\r\n\t\t\t\t<path id="Path_11757" data-name="Path 11757" d="M7,7.885V12.5H7V7.885l4.5-3.846V2.5h-9V4.038Z" transform="translate(1255.5 533.5)" fill="none" stroke="#fff" stroke-width="2"/>\r\n\t\t\t\t<path id="Path_11756" data-name="Path 11756" d="M-450.8,601.4h-6v-9h3.3l2.2,2h5.5v1.5" transform="translate(1706.798 -62.401)" fill="none" stroke="#fff" stroke-width="2"/>\r\n\t\t\t</g>\r\n\t\t</g>\r\n\t\t<rect id="Rectangle_24800" data-name="Rectangle 24800" width="72" height="64" rx="6" transform="translate(464 425)" fill="none"/>\r\n\t</g>\r\n</svg>\r\n'},77797:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><g transform="translate(2.5 1.5)"><line x2="12" fill="none" stroke-miterlimit="10" stroke="#54657d" transform="translate(0 7)"/><line y1="12" fill="none" stroke-miterlimit="10" stroke="#54657d" transform="translate(6 1)"/></g><rect fill="none" width="16"  height="16"/></svg>\r\n'},42957:e=>{e.exports='<svg id="Component_149_1" data-name="Component 149 – 1" xmlns="http://www.w3.org/2000/svg" width="16.05" height="16.05" viewBox="0 0 16.05 16.05">\r\n  <g id="Group_7481" data-name="Group 7481" transform="translate(459.548 -471.435)">\r\n    <g id="Group_7479" data-name="Group 7479">\r\n      <path id="Path_6934" data-name="Path 6934" d="M-452.048,484.935h-6.5a5.993,5.993,0,0,1,6.25-4.881" fill="none" stroke="#284578" stroke-width="1"/>\r\n      <circle id="Ellipse_1351" data-name="Ellipse 1351" cx="3" cy="3" r="3" transform="translate(-455.548 471.935)" fill="none" stroke="#284578" stroke-width="1"/>\r\n    </g>\r\n    <g id="Group_7485" data-name="Group 7485" transform="translate(-26 1)">\r\n      <rect id="Rectangle_6495" data-name="Rectangle 6495" width="6" height="5" rx="1.225" transform="translate(-424.048 480.935)" fill="none" stroke="#284578" stroke-width="1.1"/>\r\n      <path id="Path_6937" data-name="Path 6937" d="M-238.546,480.935v-2c0-.552.6-1,1.333-1h1.334c.736,0,1.333.448,1.333,1v2" transform="translate(-184.502)" fill="none" stroke="#284578" stroke-width="1.1"/>\r\n      <rect id="Rectangle_6496" data-name="Rectangle 6496" width="1" height="2" transform="translate(-421.548 482.435)" fill="#284578"/>\r\n    </g>\r\n  </g>\r\n  <rect id="Rectangle_6491" data-name="Rectangle 6491" width="16" height="16" fill="none"/>\r\n</svg>\r\n'},54159:e=>{e.exports='<svg id="Component_84" data-name="Component 84" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">\r\n  <rect id="Rectangle_6497" data-name="Rectangle 6497" width="16" height="16" fill="none" stroke="none"/>\r\n  <line id="Line_772" data-name="Line 772" y1="10" x2="10" transform="translate(3 3)" fill="none" stroke="currentColor" stroke-width="1"/>\r\n  <line id="Line_773" data-name="Line 773" x2="10" y2="10" transform="translate(3 3)" fill="none" stroke="currentColor" stroke-width="1"/>\r\n</svg>\r\n'},25066:e=>{e.exports='<svg id="Component_156_5" data-name="Component 156 – 5" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">\r\n  <g id="Group_7491" data-name="Group 7491" transform="translate(0.5 0.5)">\r\n    <path id="Path_6939" data-name="Path 6939" d="M-453.8,600.4h-3v-9h3.3l2.2,2h5.5v5" transform="translate(456.798 -591.401)" fill="none" stroke="#0c2e4f" stroke-width="1"/>\r\n    <path id="Path_6940" data-name="Path 6940" d="M-491.791,601.651v-9h3l2,2h6v7Z" transform="translate(494.791 -587.651)" fill="none" stroke="#0c2e4f" stroke-width="1"/>\r\n  </g>\r\n  <rect id="Rectangle_6501" data-name="Rectangle 6501" width="16" height="16" fill="none"/>\r\n</svg>\r\n'},75137:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" stroke="currentColor" fill="currentColor">\r\n\t<path d="M0 0h24v24H0z" fill="none" stroke="none"/>\r\n\t<path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"/>\r\n</svg>\r\n'},90703:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" stroke-width="1.5" stroke="currentColor" fill="none">\r\n\t<path d="M0 0h24v24H0z" fill="none" stroke="none"/>\r\n\t<path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"/>\r\n</svg>\r\n'},78111:e=>{e.exports='<svg id="Component_154_474" data-name="Component 154 – 474" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">\r\n\t<path id="Path_6913" data-name="Path 6913" d="M-491.791,601.651v-9h3l2,2h6v7Z" transform="translate(494.291 -589.151)" fill="none" stroke="currentColor" stroke-width="1"/>\r\n\t<rect id="Rectangle_6431" data-name="Rectangle 6431" width="16" height="16" fill="none"/>\r\n</svg>\r\n'},18590:e=>{e.exports='<svg id="Component_97_2" data-name="Component 97 – 2" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">\r\n  <g id="Group_7491" data-name="Group 7491" transform="translate(459.548 -589.151)">\r\n    <line id="Line_776" data-name="Line 776" x1="6" transform="translate(-450.048 600.651)" fill="none" stroke="currentColor" stroke-width="1"/>\r\n    <line id="Line_777" data-name="Line 777" y2="6" transform="translate(-447.048 597.651)" fill="none" stroke="currentColor" stroke-width="1"/>\r\n    <path id="Path_6939" data-name="Path 6939" d="M-450.8,600.4h-6v-9h3.3l2.2,2h5.5v2.5" transform="translate(-1.25 0.25)" fill="none" stroke="currentColor" stroke-width="1"/>\r\n  </g>\r\n  <rect id="Rectangle_6500" data-name="Rectangle 6500" width="14" height="12" transform="translate(2 2)" fill="none" stroke="none"/>\r\n  <rect id="Rectangle_6501" data-name="Rectangle 6501" width="16" height="16" fill="none" stroke="none"/>\r\n</svg>\r\n'},23613:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="currentColor">\r\n\t<path d="M24 24H0V0h24v24z" fill="none" opacity=".87"  stroke="none"/>\r\n\t<path d="M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6-1.41-1.41z" />\r\n</svg>\r\n'},66520:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="currentColor">\r\n\t<path d="M0 0h24v24H0V0z" fill="none"/>\r\n\t<path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6-6-6z" />\r\n</svg>\r\n'},64788:e=>{e.exports='<svg id="icon_delete_16" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">\r\n  <g id="Group_2209" data-name="Group 2209" transform="translate(2 1)">\r\n    <path id="Path_1876" data-name="Path 1876" d="M1026-153h-3v-2h-5v2h-3v1h1v8.9l1.41,1.1h6.15l1.45-1.1V-152h1Zm-7-1h3v1h-3Z" transform="translate(-1015 155)" fill="#0d2e4e"/>\r\n    <rect id="Rectangle_1349" data-name="Rectangle 1349" width="1" height="7" transform="translate(3 4)" fill="#fff"/>\r\n    <rect id="Rectangle_1350" data-name="Rectangle 1350" width="1" height="7" transform="translate(7 4)" fill="#fff"/>\r\n    <rect id="Rectangle_1351" data-name="Rectangle 1351" width="1" height="7" transform="translate(5 4)" fill="#fff"/>\r\n  </g>\r\n  <rect id="Rectangle_1352" data-name="Rectangle 1352" width="16" height="16" fill="none"/>\r\n</svg>\r\n'},49115:e=>{e.exports='<svg id="Component_505_5" data-name="Component 505 – 5" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">\r\n  <g id="Group_6764" data-name="Group 6764" transform="translate(2.167 2.312)">\r\n    <g id="Group_6763" data-name="Group 6763">\r\n      <path id="Path_6130" data-name="Path 6130" d="M2038.4,122.663l2.5,2.524-5.669,5.674L2032.6,128.3Z" transform="translate(-2031.191 -120.829)" fill="#0c2e4f"/>\r\n      <path id="Path_6131" data-name="Path 6131" d="M2031.9,129.413l2.25,2.25-2.958.646Z" transform="translate(-2031.191 -120.829)" fill="#0c2e4f"/>\r\n      <path id="Path_6132" data-name="Path 6132" d="M2039.4,122.038l2.021,2.125,1.375-1.271-2.021-2.062Z" transform="translate(-2031.191 -120.829)" fill="#0c2e4f"/>\r\n    </g>\r\n  </g>\r\n  <rect id="Rectangle_6402" data-name="Rectangle 6402" width="16" height="16" fill="none"/>\r\n</svg>\r\n'},11377:e=>{e.exports='<svg id="Component_669_2" data-name="Component 669 – 2" xmlns="http://www.w3.org/2000/svg" width="72" height="64" viewBox="0 0 72 64">\r\n\t<rect id="Rectangle_24800" data-name="Rectangle 24800" width="72" height="64" rx="6" fill="none"/>\r\n\t<rect id="Rectangle_6612" data-name="Rectangle 6612" width="42" height="6" rx="3" transform="translate(22 8)" fill="#d1d1d1"/>\r\n\t<rect id="Rectangle_42316" data-name="Rectangle 42316" width="30" height="6" rx="3" transform="translate(34 22)" fill="#d1d1d1"/>\r\n\t<rect id="Rectangle_42318" data-name="Rectangle 42318" width="30" height="6" rx="3" transform="translate(34 46)" fill="#d1d1d1"/>\r\n\t<rect id="Rectangle_42317" data-name="Rectangle 42317" width="18" height="6" rx="3" transform="translate(34 34)" fill="#d1d1d1"/>\r\n\t<path id="Path_6339" data-name="Path 6339" d="M0,4,3.962,0,8,4" transform="translate(16 13) rotate(180)" fill="none" stroke="#004fd6" stroke-width="2"/>\r\n\t<path id="Path_11752" data-name="Path 11752" d="M0,4,3.962,0,8,4" transform="translate(28 21) rotate(90)" fill="none" stroke="#004fd6" stroke-width="2"/>\r\n\t<path id="Path_11753" data-name="Path 11753" d="M0,4,3.962,0,8,4" transform="translate(28 45) rotate(90)" fill="none" stroke="#004fd6" stroke-width="2"/>\r\n</svg>\r\n'},30574:e=>{e.exports='<svg id="Component_5493_1" data-name="Component 5493 – 1" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">\r\n  <g id="Path_1" data-name="Path 1" transform="translate(-590.943 -1855.995) rotate(30)" fill="none" stroke-miterlimit="10">\r\n    <path d="M1455.264,1317.911h-9v-1l2-3v-4h-1v-1h7v1h-1v4l2,3Z" stroke="none"/>\r\n    <path d="M 1454.061279296875 1316.911010742188 L 1452.262939453125 1314.213500976562 L 1452.262939453125 1309.911010742188 L 1449.26318359375 1309.911010742188 L 1449.26318359375 1314.21337890625 L 1447.4658203125 1316.911010742188 L 1454.061279296875 1316.911010742188 M 1455.263671875 1317.911010742188 L 1446.263671875 1317.911010742188 L 1446.263671875 1316.911743164062 L 1448.26318359375 1313.910766601562 L 1448.26318359375 1309.910400390625 L 1447.262939453125 1309.910400390625 L 1447.262939453125 1308.911010742188 L 1454.26318359375 1308.911010742188 L 1454.26318359375 1309.910400390625 L 1453.262939453125 1309.910400390625 L 1453.262939453125 1313.910766601562 L 1455.263671875 1316.911743164062 L 1455.263671875 1317.911010742188 Z" stroke="none" fill="currentColor"/>\r\n  </g>\r\n  <path id="Path_3" data-name="Path 3" d="M1452.465,1317.284v5" transform="translate(-592.729 -1856.302) rotate(30)" fill="none" stroke="currentColor" stroke-width="1"/>\r\n  <rect id="Rectangle_2" data-name="Rectangle 2" width="16" height="16" fill="none"/>\r\n</svg>\r\n'},52934:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="265" height="161" viewBox="0 0 265 161">\r\n\t<defs>\r\n\t\t<style>.a{fill:#e5e5e5;}.b{fill:#aeafb2;}.c{fill:url(#a);}.d{fill:url(#b);}.e{fill:url(#c);}.f{clip-path:url(#d);}.g{fill:#c4c4c4;}</style>\r\n\t\t<linearGradient id="a" x1="0.27" y1="1.321" x2="0.73" y2="-0.321" gradientUnits="objectBoundingBox">\r\n\t\t\t<stop offset="0" stop-color="#ececec"/>\r\n\t\t\t<stop offset="1" stop-color="#ebebeb"/>\r\n\t\t</linearGradient>\r\n\t\t<linearGradient id="b" x1="0.117" y1="0.746" x2="0.909" y2="0.21" gradientUnits="objectBoundingBox">\r\n\t\t\t<stop offset="0" stop-color="#dfdfdf"/>\r\n\t\t\t<stop offset="1" stop-color="#d3d3d3"/>\r\n\t\t</linearGradient>\r\n\t\t<linearGradient id="c" x1="0.5" y1="0" x2="0.5" y2="1" xlink:href="#b"/>\r\n\t\t<clipPath id="d"><rect class="a" width="183" height="34" transform="translate(90.637 169)"/></clipPath>\r\n\t</defs>\r\n\t<g transform="translate(-49.636 -42)">\r\n\t\t<rect class="a" width="265" height="161" transform="translate(49.636 42)"/>\r\n\t\t<g transform="translate(105.784 50.067)">\r\n\t\t\t<path class="b" d="M342,226s-60.239,17.188-61.14,18.907,18.988-2.046,30.57-4.829,31.825-10.313,31.825-10.313Z" transform="translate(-280.83 -190.642)"/>\r\n\t\t\t<path class="b" d="M471.5,155.658s26.9-22.59,32.139-26.027S520.829,118.5,520.829,118.5s-16.7,16.369-23.245,21.444S471.5,157.459,471.5,157.459Z" transform="translate(-409.079 -118.336)"/>\r\n\t\t\t<path class="c" d="M280.92,172.264s25.454-18.006,32.411-23.163,18.825-13.341,18.825-13.341,18.088-6.793,26.027-9.331S392.641,118,392.641,118l-49.327,39.123s-25.591,4.474-35.794,7.312C297.869,167.119,280.92,172.264,280.92,172.264Z" transform="translate(-280.89 -118)"/>\r\n\t\t\t<path class="d" d="M512.481,241.1l42.4-47.635L521.485,118,471.5,157.123Z" transform="translate(-409.079 -118)"/>\r\n\t\t\t<path class="e" d="M319.961,325.731,280.92,252.642s25.945-5.975,32.329-7.612,30.065-7.53,30.065-7.53l40.978,83.975Z" transform="translate(-280.89 -198.377)"/>\r\n\t\t</g>\r\n\t\t<g class="f">\r\n\t\t\t<path class="g" d="M354.5,557.318l63.949-6.984,61.986,3.492-61.986,11.131Z" transform="translate(-224.6 -358.726)"/>\r\n\t\t</g>\r\n\t</g>\r\n</svg>\r\n'},3692:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="72" height="64" viewBox="0 0 72 64">\r\n  <g id="Group_14596" data-name="Group 14596" transform="translate(-446 -144)">\r\n    <rect id="Rectangle_24755" data-name="Rectangle 24755" width="72" height="64" rx="6" transform="translate(446 144)" fill="none"/>\r\n    <rect id="Rectangle_24765" data-name="Rectangle 24765" width="16" height="12" rx="2" transform="translate(454 167)" fill="#d1d1d1"/>\r\n    <rect id="Rectangle_40069" data-name="Rectangle 40069" width="16" height="12" rx="2" transform="translate(474 167)" fill="#d1d1d1"/>\r\n    <rect id="Rectangle_40071" data-name="Rectangle 40071" width="16" height="12" rx="2" transform="translate(494 167)" fill="#d1d1d1"/>\r\n    <rect id="Rectangle_40054" data-name="Rectangle 40054" width="16" height="12" rx="2" transform="translate(454 183)" fill="#d1d1d1"/>\r\n    <rect id="Rectangle_40070" data-name="Rectangle 40070" width="16" height="12" rx="2" transform="translate(474 183)" fill="#d1d1d1"/>\r\n    <rect id="Rectangle_40072" data-name="Rectangle 40072" width="16" height="12" rx="2" transform="translate(494 183)" fill="#d1d1d1"/>\r\n    <rect id="Rectangle_40068" data-name="Rectangle 40068" width="56" height="6" rx="3" transform="translate(454 157)" fill="#0091ea" opacity="0.5"/>\r\n  </g>\r\n</svg>\r\n'},6694:e=>{e.exports='<svg id="Component_1293_6767" data-name="Component 1293 – 6767" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">\r\n  <rect id="Rectangle_6189767" data-name="Rectangle 6189767" width="16" height="16" fill="rgba(0,0,0,0)"/>\r\n  <g id="Group_6675767" data-name="Group 6675767" transform="translate(7.5 2)">\r\n    <g id="Group_6674767" data-name="Group 6674767">\r\n      <g id="Group_6673767" data-name="Group 6673767">\r\n        <rect id="Rectangle_6186767" data-name="Rectangle 6186767" width="1.5" height="1.5" fill="currentColor" stroke="rgba(0,0,0,0)" stroke-width="1"/>\r\n        <rect id="Rectangle_6187767" data-name="Rectangle 6187767" width="1.5" height="1.5" transform="translate(0 5)" fill="currentColor" stroke="rgba(0,0,0,0)" stroke-width="1"/>\r\n        <rect id="Rectangle_6188767" data-name="Rectangle 6188767" width="1.5" height="1.5" transform="translate(0 10)" fill="currentColor"/>\r\n      </g>\r\n    </g>\r\n  </g>\r\n</svg>\r\n'},8655:e=>{e.exports='<svg id="Component_1293_6676" data-name="Component 1293 – 6676" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">\r\n  <rect id="Rectangle_6189676" data-name="Rectangle 6189676" width="16" height="16" fill="rgba(0,0,0,0)"/>\r\n  <g id="Group_6675676" data-name="Group 6675676" transform="translate(7 2)">\r\n    <g id="Group_6674676" data-name="Group 6674676">\r\n      <g id="Group_6673676" data-name="Group 6673676">\r\n        <rect id="Rectangle_6186676" data-name="Rectangle 6186676" width="2" height="2" fill="currentColor" stroke="rgba(0,0,0,0)" stroke-width="1"/>\r\n        <rect id="Rectangle_6187676" data-name="Rectangle 6187676" width="2" height="2" transform="translate(0 5)" fill="currentColor" stroke="rgba(0,0,0,0)" stroke-width="1"/>\r\n        <rect id="Rectangle_6188676" data-name="Rectangle 6188676" width="2" height="2" transform="translate(0 10)" fill="currentColor"/>\r\n      </g>\r\n    </g>\r\n  </g>\r\n</svg>\r\n'},47747:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="72" height="64" viewBox="0 0 72 64" xmlns:xlink="http://www.w3.org/1999/xlink"><g transform="translate(-464 -425)"><g transform="translate(399 129)"><rect width="30" height="5" rx="2.5" transform="translate(99 320)" fill="#c8c8c8"/><rect width="56" height="5" rx="2.5" transform="translate(73 328)" fill="#c8c8c8"/><rect width="56" height="5" rx="2.5" transform="translate(73 336)" fill="#c8c8c8"/><text transform="translate(84 325)" fill="#181818" style="font-size:10px;font-family:OpenSans-Semibold, Open Sans;font-weight:600;letter-spacing:0.02em;"><tspan x="-10.73" y="0">Text</tspan></text></g><rect width="72" height="64" rx="6" transform="translate(464 425)" fill="none"/></g></svg>'},47056:e=>{e.exports='<svg id="Component_34_7" data-name="Component 34 – 7" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">\r\n  <rect id="Rectangle_10" data-name="Rectangle 10" width="16" height="16" fill="none"/>\r\n  <rect id="Rectangle_11" data-name="Rectangle 11" width="11" height="9" rx="2" transform="translate(2.5 5.5)" fill="none" stroke="#54657d" stroke-miterlimit="10" stroke-width="1"/>\r\n  <path id="Path_4" data-name="Path 4" d="M9,9H7v2H9V9Z" fill="#54657d"/>\r\n  <path id="Path_5" data-name="Path 5" d="M626.5-136.5v-2a2,2,0,0,1,2-2h1a2,2,0,0,1,2,2v2" transform="translate(-621 142)" fill="none" stroke="#54657d" stroke-miterlimit="10" stroke-width="1"/>\r\n</svg>\r\n'},40899:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">\r\n  <g transform="translate(-1783.779 74.455)">\r\n    <g>\r\n      <g>\r\n        <path d="M1787.779-67.455l4,4,4-4Z" fill="currentColor"/>\r\n      </g>\r\n    </g>\r\n  </g>\r\n  <rect width="16" height="16" fill="none"/>\r\n</svg>\r\n'},64620:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 72 40">\r\n  <g transform="translate(-60 -304.334)">\r\n    <g fill="#fff" stroke="#0d2e4e" transform="translate(68 312.334)">\r\n      <rect width="56" height="24" stroke="none" rx="2"/>\r\n      <rect width="55" height="23" x=".5" y=".5" fill="none" rx="1.5"/>\r\n    </g>\r\n    <rect width="24" height="6" fill="#d1d1d1" rx="3" transform="translate(76 321.334)"/>\r\n  </g>\r\n  <text fill="#ff4013" font-family="OpenSans-Bold, Open Sans" font-size="15" font-weight="700" transform="translate(43 26)"><tspan x="0" y="0">10</tspan></text>\r\n</svg>\r\n'},91912:e=>{e.exports='<svg id="Component_5492_1" data-name="Component 5492 – 1" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">\r\n  <g id="Path_1" data-name="Path 1" transform="translate(-1443.264 -1307.911)" fill="currentColor" stroke-miterlimit="10">\r\n    <path d="M 1454.763671875 1317.411010742188 L 1446.763671875 1317.411010742188 L 1446.763671875 1317.063110351562 L 1448.679321289062 1314.18798828125 L 1448.76318359375 1314.062133789062 L 1448.76318359375 1313.910766601562 L 1448.76318359375 1309.910400390625 L 1448.76318359375 1309.411010742188 L 1452.762939453125 1309.411010742188 L 1452.762939453125 1309.910400390625 L 1452.762939453125 1313.910766601562 L 1452.762939453125 1314.062133789062 L 1452.846923828125 1314.188110351562 L 1454.763671875 1317.063110351562 L 1454.763671875 1317.411010742188 Z" stroke="none"/>\r\n    <path d="M 1454.061279296875 1316.911010742188 L 1452.262939453125 1314.213500976562 L 1452.262939453125 1309.911010742188 L 1449.26318359375 1309.911010742188 L 1449.26318359375 1314.21337890625 L 1447.4658203125 1316.911010742188 L 1454.061279296875 1316.911010742188 M 1455.263671875 1317.911010742188 L 1446.263671875 1317.911010742188 L 1446.263671875 1316.911743164062 L 1448.26318359375 1313.910766601562 L 1448.26318359375 1309.910400390625 L 1447.262939453125 1309.910400390625 L 1447.262939453125 1308.911010742188 L 1454.26318359375 1308.911010742188 L 1454.26318359375 1309.910400390625 L 1453.262939453125 1309.910400390625 L 1453.262939453125 1313.910766601562 L 1455.263671875 1316.911743164062 L 1455.263671875 1317.911010742188 Z" stroke="none" fill="currentColor"/>\r\n  </g>\r\n  <path id="Path_3" data-name="Path 3" d="M1452.465,1317.284v5" transform="translate(-1444.965 -1307.284)" fill="none" stroke="currentColor" stroke-width="1"/>\r\n  <rect id="Rectangle_2" data-name="Rectangle 2" width="16" height="16" fill="none"/>\r\n</svg>\r\n'},44298:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">\r\n  <g id="Group_14450901" data-name="Group 14450901" transform="translate(-1268 -148)">\r\n    <rect id="Rectangle_30688901" data-name="Rectangle 30688901" width="16" height="16" rx="4" transform="translate(1268 148)" fill="none"/>\r\n    <g id="Group_7490901" data-name="Group 7490901" transform="translate(1270.03 148.925)">\r\n      <line id="Line_774901" data-name="Line 774901" x2="12" transform="translate(-0.03 7.075)" fill="none" stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>\r\n      <line id="Line_775901" data-name="Line 775901" y1="12" transform="translate(5.97 1.075)" fill="none" stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>\r\n    </g>\r\n  </g>\r\n</svg>\r\n'},84517:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><defs><style>.lsazzz{fill:currentColor;}.lsbzzz,.lsczzz{fill:none;}.lsbzzz{stroke:currentColor;stroke-miterlimit:10;}</style></defs><path class="lsazzz" d="M14.5,14l-.9-2.5H10L9.1,14H8.2l3.2-8.4h.8L15.4,14ZM12,7.1c0-.1-.1-.2-.1-.3s-.1-.2-.1-.3h0a.367.367,0,0,1-.1.3c-.1.1,0,.2-.1.3l-1.4,3.7h3.1Z" transform="translate(0.301 1)"/><line class="lsbzzz" x2="10" transform="translate(0.301 2.5)"/><line class="lsbzzz" y2="2" transform="translate(4.801 1)"/><path class="lsbzzz" d="M1.5,11.5S6.2,7.2,8,2" transform="translate(0.301 1)"/><path class="lsbzzz" d="M3,4.5a24.292,24.292,0,0,0,4.5,5.6" transform="translate(0.301 1)"/><rect class="lsczzz" width="16" height="16"/></svg>'},28006:e=>{e.exports='<svg id="Component_926_1" data-name="Component 926 – 1" xmlns="http://www.w3.org/2000/svg" width="16.203" height="16" viewBox="0 0 16.203 16">\r\n  <rect id="Rectangle_6294" data-name="Rectangle 6294" width="16" height="16" transform="translate(0.001)" fill="none"/>\r\n  <g id="Group_15717" data-name="Group 15717" transform="translate(-329 -7212)">\r\n    <path id="Path_11642" data-name="Path 11642" d="M-568.5,658.938h-.263a.37.37,0,0,1-.319-.154.494.494,0,0,1-.113-.3v-1.393l-.35-.083q-.264-.062-.525-.143a1.782,1.782,0,0,1-.437-.2l-.35-.185-1.16,1.044a.228.228,0,0,1-.227.143.44.44,0,0,1-.311-.143l-.6-.595a.29.29,0,0,1-.093-.143.73.73,0,0,1-.01-.123.848.848,0,0,1,.01-.133.216.216,0,0,1,.093-.133l1.05-.962-.186-.35a1.947,1.947,0,0,0-.176-.482,2.013,2.013,0,0,1-.174-.482l-.087-.35h-1.4a.447.447,0,0,1-.3-.159.421.421,0,0,1-.156-.276v-.882a.422.422,0,0,1,.156-.276.434.434,0,0,1,.3-.154h1.406l.164-.262c.057-.179.107-.349.156-.513a1.494,1.494,0,0,1,.217-.451l.164-.43-1.055-.962a.261.261,0,0,1-.145-.246.364.364,0,0,1,.145-.287l.7-.612a.231.231,0,0,1,.226-.131.466.466,0,0,1,.31.123l.968,1.05.248-.246a3.671,3.671,0,0,0,.484-.185,2.315,2.315,0,0,1,.485-.164l.348-.1v-1.393a.429.429,0,0,1,.156-.276.438.438,0,0,1,.3-.154h.867a.438.438,0,0,1,.3.154.416.416,0,0,1,.154.276v1.4l.437.1c.179.041.352.085.515.133a1.528,1.528,0,0,1,.455.215l.35.164.972-1.05a.229.229,0,0,1,.226-.123.471.471,0,0,1,.311.123l.6.612a.223.223,0,0,1,.144.226.369.369,0,0,1-.144.287l-1.055,1.066.184.35a2.445,2.445,0,0,0,.177.471,2.177,2.177,0,0,1,.174.492l.082.35h1.4a.4.4,0,0,1,.33.154.456.456,0,0,1,.125.276v.367h.807v-.367a1.3,1.3,0,0,0-.358-.923,1.248,1.248,0,0,0-.963-.389h-.7a.446.446,0,0,0-.05-.214c-.034-.061-.079-.133-.133-.215l.534-.533a1.309,1.309,0,0,0,.383-.962,1.314,1.314,0,0,0-.393-.962l-.617-.612a1.313,1.313,0,0,0-.966-.389,1.323,1.323,0,0,0-.97.389l-.516.451a.358.358,0,0,0-.2-.1,1.308,1.308,0,0,1-.263-.082v-.7a1.273,1.273,0,0,0-.362-.953,1.293,1.293,0,0,0-.961-.359h-.867a1.3,1.3,0,0,0-.961.359,1.285,1.285,0,0,0-.362.953v.7c-.1.04-.181.074-.256.1a.389.389,0,0,0-.2.164l-.518-.533a1.315,1.315,0,0,0-.966-.389,1.317,1.317,0,0,0-.968.389l-.617.612a1.505,1.505,0,0,0-.32.448,1.209,1.209,0,0,0-.114.513,1.212,1.212,0,0,0,.114.513,1.544,1.544,0,0,0,.32.451l.437.532a.322.322,0,0,0-.082.185.906.906,0,0,1-.087.246h-.7a1.3,1.3,0,0,0-.961.359,1.272,1.272,0,0,0-.36.953v.882a1.278,1.278,0,0,0,.36.943,1.284,1.284,0,0,0,.961.369h.788a.41.41,0,0,0,.049.215q.051.091.134.215l-.537.532a1.309,1.309,0,0,0-.314.446,1.289,1.289,0,0,0-.113.525,1.243,1.243,0,0,0,.113.5,1.31,1.31,0,0,0,.321.437l.611.611a1.29,1.29,0,0,0,.969.411,1.292,1.292,0,0,0,.968-.411l.516-.43a.47.47,0,0,0,.2.08.852.852,0,0,1,.258.1v.7a1.321,1.321,0,0,0,.36.912,1.234,1.234,0,0,0,.961.4h.338Z" transform="translate(904.443 6566.098)" fill="currentColor"/>\r\n    <path id="Path_11643" data-name="Path 11643" d="M-567.8,650.908a2.536,2.536,0,0,0-1.848.793,2.541,2.541,0,0,0-.793,1.849,2.581,2.581,0,0,0,.764,1.855,2.519,2.519,0,0,0,1.821.78v-.87a1.685,1.685,0,0,1-1.18-.507,1.722,1.722,0,0,1-.518-1.258,1.694,1.694,0,0,1,.518-1.238,1.688,1.688,0,0,1,1.236-.515v0a1.689,1.689,0,0,1,1.238.511,1.688,1.688,0,0,1,.509,1.162h.889a2.531,2.531,0,0,0-.785-1.771A2.537,2.537,0,0,0-567.8,650.908Z" transform="translate(903.796 6565.453)" fill="currentColor"/>\r\n  </g>\r\n  <g id="Group_15716" data-name="Group 15716" transform="translate(460.548 -471.436)">\r\n    <path id="Path_6974" data-name="Path 6974" d="M-554.477,482.007a3.24,3.24,0,0,0,.781,3.324,3.237,3.237,0,0,0,4.579,0,3.239,3.239,0,0,0,0-4.579,3.227,3.227,0,0,0-2.469-.944" transform="translate(103.097 0.632)" fill="none" stroke="currentColor" stroke-miterlimit="10" stroke-width="1"/>\r\n    <path id="Path_6975" data-name="Path 6975" d="M-550.565,478l-3,2,3,2Z" transform="translate(103.018 0.431)" fill="currentColor"/>\r\n  </g>\r\n</svg>\r\n'},53781:e=>{e.exports='<svg id="Component_168_1" data-name="Component 168 – 1" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">\r\n  <g id="Group_7519" data-name="Group 7519" transform="translate(314.587 -756.288)">\r\n    <path id="Path_6963" data-name="Path 6963" d="M-303.151,769.737v-5h-6v5" transform="translate(0.064 0.05)" fill="none" stroke="currentColor" stroke-miterlimit="10" stroke-width="1"/>\r\n    <path id="Path_6964" data-name="Path 6964" d="M-309.151,757.788v2.95h5.417" transform="translate(0.064)" fill="none" stroke="currentColor" stroke-miterlimit="10" stroke-width="1"/>\r\n    <path id="Path_6965" data-name="Path 6965" d="M-303.42,757.788h-8.667v12h12v-8.667Z" fill="none" stroke="currentColor" stroke-miterlimit="10" stroke-width="1"/>\r\n  </g>\r\n  <rect id="Rectangle_6515" data-name="Rectangle 6515" width="16" height="16" fill="none"/>\r\n</svg>\r\n'},43289:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 72 40">\r\n  <g id="Group_16619" data-name="Group 16619" transform="translate(-16 -184)">\r\n    <g id="Component_1200_43" data-name="Component 1200 – 43" transform="translate(16 184)">\r\n      <rect id="Rectangle_24279" data-name="Rectangle 24279" width="72" height="64" rx="6" fill="none"/>\r\n    </g>\r\n    <g id="Group_15489" data-name="Group 15489">\r\n      <g id="Group_13838" data-name="Group 13838" transform="translate(-44 -120.334)">\r\n        <rect id="Rectangle_42509" data-name="Rectangle 42509" width="72" height="40" transform="translate(60 304.334)" fill="none" opacity="0"/>\r\n        <g id="Rectangle_44559" data-name="Rectangle 44559" transform="translate(68 312.334)" fill="#fff" stroke="#0d2e4e" stroke-width="1">\r\n          <rect width="56" height="24" rx="2" stroke="none"/>\r\n          <rect x="0.5" y="0.5" width="55" height="23" rx="1.5" fill="none"/>\r\n        </g>\r\n        <rect id="Rectangle_6778" data-name="Rectangle 6778" width="40" height="6" rx="3" transform="translate(76 321.334)" fill="#d1d1d1"/>\r\n        <rect id="Rectangle_44560" data-name="Rectangle 44560" width="26" height="6" rx="3" transform="translate(76 321.334)" fill="#0d2e4e"/>\r\n        <g id="Ellipse_2990" data-name="Ellipse 2990" transform="translate(96 318.334)" fill="#fff" stroke="#ff4013" stroke-width="2">\r\n          <circle cx="6" cy="6" r="6" stroke="none"/>\r\n          <circle cx="6" cy="6" r="5" fill="none"/>\r\n        </g>\r\n        <g id="Ellipse_2991" data-name="Ellipse 2991" transform="translate(96 318.334)" fill="none" stroke="#fff" stroke-width="2">\r\n          <circle cx="6" cy="6" r="6" stroke="none"/>\r\n          <circle cx="6" cy="6" r="7" fill="none"/>\r\n        </g>\r\n      </g>\r\n    </g>\r\n  </g>\r\n</svg>\r\n'},52606:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="18.084" height="18.108" viewBox="0 0 18.084 18.108">\r\n  <path id="Icon_weather-snowflake-cold" data-name="Icon weather-snowflake-cold" d="M8.952,17.292a.864.864,0,0,1,.24-.6.755.755,0,0,1,.576-.252.781.781,0,0,1,.588.252.843.843,0,0,1,.24.6.788.788,0,0,1-.24.576.811.811,0,0,1-1.152,0A.749.749,0,0,1,8.952,17.292Zm2.376,0a.864.864,0,0,1,.24-.6.755.755,0,0,1,.576-.252H16.02L13.284,13.7a.713.713,0,0,1-.252-.564.832.832,0,0,1,1.428-.588l2.724,2.724V11.424a.826.826,0,0,1,.252-.6.807.807,0,0,1,.6-.252.755.755,0,0,1,.576.252.843.843,0,0,1,.24.6V15.3L21.6,12.54a.793.793,0,0,1,.576-.252.819.819,0,0,1,.588.252.868.868,0,0,1,.216.588.769.769,0,0,1-.216.564l-2.736,2.736H23.9a.748.748,0,0,1,.564.252.843.843,0,0,1,.24.6.82.82,0,0,1-.8.8H20.028l2.748,2.748a.769.769,0,0,1,.216.564.868.868,0,0,1-.216.588.819.819,0,0,1-.588.252.774.774,0,0,1-.576-.252l-2.748-2.76v3.888a.815.815,0,0,1-.24.588.788.788,0,0,1-.576.24.864.864,0,0,1-.6-.24.781.781,0,0,1-.252-.588V19.248l-2.724,2.724a.84.84,0,0,1-1.428-.588.73.73,0,0,1,.252-.564l2.76-2.748H12.168a.788.788,0,0,1-.576-.24A.614.614,0,0,1,11.328,17.292ZM11.34,23.1a.774.774,0,0,1,.252-.576.713.713,0,0,1,.564-.252A.862.862,0,0,1,13,23.1a.774.774,0,0,1-.252.576.8.8,0,0,1-.588.252.713.713,0,0,1-.564-.252A.755.755,0,0,1,11.34,23.1Zm0-11.652a.774.774,0,0,1,.252-.576.713.713,0,0,1,.564-.252.862.862,0,0,1,.84.828.819.819,0,0,1-.252.588.8.8,0,0,1-.588.252.713.713,0,0,1-.564-.252A.819.819,0,0,1,11.34,11.448ZM17.16,25.5a.748.748,0,0,1,.252-.564.843.843,0,0,1,.6-.24.82.82,0,0,1,.816.8.815.815,0,0,1-.24.588.788.788,0,0,1-.576.24.864.864,0,0,1-.6-.24A.763.763,0,0,1,17.16,25.5Zm0-16.452a.781.781,0,0,1,.252-.588.843.843,0,0,1,.6-.24.788.788,0,0,1,.576.24.815.815,0,0,1,.24.588.82.82,0,0,1-.816.8.864.864,0,0,1-.6-.24A.748.748,0,0,1,17.16,9.048ZM23,23.1a.774.774,0,0,1,.252-.576.713.713,0,0,1,.564-.252.862.862,0,0,1,.84.828.774.774,0,0,1-.252.576.8.8,0,0,1-.588.252.713.713,0,0,1-.564-.252A.755.755,0,0,1,23,23.1Zm0-11.652a.774.774,0,0,1,.252-.576.713.713,0,0,1,.564-.252.862.862,0,0,1,.84.828.819.819,0,0,1-.252.588.8.8,0,0,1-.588.252.713.713,0,0,1-.564-.252A.819.819,0,0,1,23,11.448Zm2.4,5.844a.864.864,0,0,1,.24-.6.781.781,0,0,1,.588-.252.748.748,0,0,1,.564.252.843.843,0,0,1,.24.6.82.82,0,0,1-.8.8.815.815,0,0,1-.588-.24A.781.781,0,0,1,25.4,17.292Z" transform="translate(-8.952 -8.22)" fill="currentColor"/>\r\n</svg>\r\n'},79111:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">\r\n  <g transform="translate(80.572 -714.792)">\r\n    <rect width="15" height="10" transform="translate(-80.072 719.292)" fill="none" stroke="currentColor" stroke-width="1"/>\r\n    <path d="M-80.072,719.151l7.5,4.5,7.5-4.5" transform="translate(0 0.141)" fill="none" stroke="currentColor" stroke-width="1"/>\r\n    <rect width="5" height="3" transform="translate(-75.072 716.292)" fill="none" stroke="currentColor" stroke-width="1"/>\r\n  </g>\r\n  <rect width="16" height="16" fill="none"/>\r\n</svg>\r\n'},50633:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">\r\n  <g transform="translate(387.197 -811.635)">\r\n    <path d="M-385.2,823.635c0-4.443,1.967-1,1.967-5.881,0-2.659.479-4.026,2.208-4.026a1.517,1.517,0,0,0,.782-.417v-1.676h1.986v1.676a1.512,1.512,0,0,0,.782.417c1.729,0,2.195,1.368,2.195,4.026,0,5.233,2.081,1.438,2.081,5.881Z" transform="translate(0.5 0.5)" fill="none" stroke="currentColor" stroke-width="1"/>\r\n    <g transform="translate(0.479 -0.461)" fill="none">\r\n      <path d="M-377.676,826.1c0,.973-.715,2-1.446,2s-1.554-1.027-1.554-2Z" stroke="none"/>\r\n      <path d="M -380.6760559082031 826.0960693359375 L -377.6760559082031 826.0960693359375 C -377.6760559082031 827.06884765625 -378.391357421875 828.0960693359375 -379.1218872070312 828.0960693359375 C -379.8513793945312 828.0960693359375 -380.6760559082031 827.06884765625 -380.6760559082031 826.0960693359375 Z" stroke="none" fill="currentColor"/>\r\n    </g>\r\n  </g>\r\n  <rect width="16" height="16" fill="none"/>\r\n</svg>\r\n'},74335:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">\r\n  <g transform="translate(0 2)" fill="none" stroke="currentColor" stroke-width="1">\r\n    <rect width="16" height="14" stroke="none"/>\r\n    <rect x="0.5" y="0.5" width="15" height="13" fill="none"/>\r\n  </g>\r\n  <line x2="16" transform="translate(0 6.5)" fill="none" stroke="currentColor" stroke-width="1"/>\r\n  <g transform="translate(2)" fill="none" stroke="currentColor" stroke-width="1">\r\n    <rect width="3" height="5" stroke="none"/>\r\n    <rect x="0.5" y="0.5" width="2" height="4" fill="none"/>\r\n  </g>\r\n  <g transform="translate(11)" fill="none" stroke="currentColor" stroke-width="1">\r\n    <rect width="3" height="5" stroke="none"/>\r\n    <rect x="0.5" y="0.5" width="2" height="4" fill="none"/>\r\n  </g>\r\n</svg>\r\n'},86518:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="16.001" height="16.001" viewBox="0 0 16.001 16.001">\r\n  <rect width="16" height="16" fill="none"/>\r\n  <g transform="translate(0.501 2.497)">\r\n    <g>\r\n      <path d="M-450.026-210.3v10l-15-3.889v-1.667Z" transform="translate(465.026 210.3)" fill="none" stroke="currentColor" stroke-width="1"/>\r\n      <path d="M-463.432-207.518l-.037,3.392,1.037,6.093h3.5l-2.327-5.48" transform="translate(466.432 211.037)" fill="none" stroke="currentColor" stroke-width="1"/>\r\n    </g>\r\n  </g>\r\n</svg>\r\n'},72987:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">\r\n  <g transform="translate(354.65 -372.599)">\r\n    <line y2="5" transform="translate(-346.151 375.599)" fill="none" stroke="currentColor" stroke-width="1"/>\r\n    <rect width="0.999" height="0.999" transform="translate(-346.65 381.599)" fill="currentColor"/>\r\n  </g>\r\n  <g transform="translate(354.15 -372.764)">\r\n    <g>\r\n      <path d="M-352.65,384.264h3v3l3-3h7v-10h-13Z" fill="none" stroke="currentColor" stroke-width="1"/>\r\n    </g>\r\n  </g>\r\n  <rect width="16" height="16" transform="translate(16 16) rotate(180)" fill="none"/>\r\n</svg>\r\n'},83560:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">\r\n  <path d="M15-13v-5H3V-8H5v3.8L8.8-8H10v2h3.2L17-2.2V-6h2v-6.992ZM10-9H8.2L6-6.8V-9H4v-8H14v4H10Zm8,2H16v2.2L13.8-7H11v-5h7Z" transform="translate(-3 18)" fill="currentColor"/>\r\n  <rect width="16" height="16" fill="none"/>\r\n</svg>\r\n'},44262:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">\r\n  <path d="M-234.647,765.433v4h-11v-13h11v1" transform="translate(247.148 -754.933)" fill="none" stroke="currentColor" stroke-width="1"/>\r\n  <path d="M-232.647,758.433l-7,7-3-3" transform="translate(247.148 -754.933)" fill="none" stroke="currentColor" stroke-width="1"/>\r\n  <rect width="16" height="16" fill="none"/>\r\n</svg>\r\n'},3303:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">\r\n  <g transform="translate(-1816.814 -33.301)">\r\n    <g transform="translate(1816.814 33.301)" fill="none" stroke="currentColor" stroke-width="1">\r\n      <circle cx="8" cy="8" r="8" stroke="none"/>\r\n      <circle cx="8" cy="8" r="7.5" fill="none"/>\r\n    </g>\r\n    <path d="M1824.814,36.015v5.244l3.266,3.8" fill="none" stroke="currentColor" stroke-width="1"/>\r\n  </g>\r\n</svg>\r\n'},19368:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">\r\n  <g transform="translate(389.186 -406.05)">\r\n    <g>\r\n      <path d="M-382.69,413c-.32.032-.655.048-.995.048-2.487,0-4.5-.895-4.5-2s2.013-2,4.5-2,4.5.9,4.5,2" fill="none" stroke="currentColor" stroke-width="1"/>\r\n      <path d="M-382.447,414.974a10.061,10.061,0,0,1-1.238.076c-2.487,0-4.5-.895-4.5-2" transform="translate(0 1)" fill="none" stroke="currentColor" stroke-width="1"/>\r\n      <path d="M-382.185,416.937a9.682,9.682,0,0,1-1.5.113c-2.487,0-4.5-.895-4.5-2" transform="translate(0 2)" fill="none" stroke="currentColor" stroke-width="1"/>\r\n      <circle cx="4" cy="4" r="4" transform="translate(-381.685 411.05)" fill="none" stroke="currentColor" stroke-width="1"/>\r\n      <line y2="4" transform="translate(-377.685 413.051)" fill="none" stroke="currentColor" stroke-width="1"/>\r\n    </g>\r\n  </g>\r\n  <rect width="16" height="16" fill="none"/>\r\n</svg>\r\n'},21712:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">\r\n  <rect width="16" height="16" fill="none"/>\r\n  <g transform="translate(1)" fill="none">\r\n    <path d="M1,1H8V6h5v9H1Z" stroke="none"/>\r\n    <path d="M 2 2 L 2 14 L 12 14 L 12 7 L 7 7 L 7 2 L 2 2 M 1 1 L 8 1 L 8 6 L 13 6 L 13 15 L 1 15 L 1 1 Z" stroke="none" fill="currentColor"/>\r\n  </g>\r\n  <path d="M2.979,3.258h2" transform="translate(2.021 2.242)" fill="none" stroke="currentColor" stroke-width="1"/>\r\n  <path d="M2.979,3.258h2" transform="translate(2.021 4.242)" fill="none" stroke="currentColor" stroke-width="1"/>\r\n  <path d="M2.979,3.258h6" transform="translate(2.021 6.242)" fill="none" stroke="currentColor" stroke-width="1"/>\r\n  <path d="M8.5.366l5.118,5.151" transform="translate(0 1)" fill="none" stroke="currentColor" stroke-width="1"/>\r\n  <path d="M2.979,3.258h6" transform="translate(2.021 8.242)" fill="none" stroke="currentColor" stroke-width="1"/>\r\n</svg>\r\n'},46076:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">\r\n  <path d="M-376.5,485.792h-13a6.382,6.382,0,0,1,6.5-5A6.4,6.4,0,0,1-376.5,485.792Z" transform="translate(391 -471.292)" fill="none" stroke="currentColor" stroke-miterlimit="10" stroke-width="1"/>\r\n  <circle cx="3" cy="3" r="3" transform="translate(5 1.5)" fill="none" stroke="currentColor" stroke-miterlimit="10" stroke-width="1"/>\r\n  <rect width="16" height="16" fill="none"/>\r\n</svg>\r\n'},57484:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16.354" viewBox="0 0 16 16.354">\r\n  <g transform="translate(0 0.354)">\r\n    <g transform="translate(-8 -7)">\r\n      <path d="M872-349l2.5-2.5,4,4L886-355" transform="translate(-863 362)" fill="none" stroke="currentColor" stroke-width="1"/>\r\n      <path d="M872.5-345.5h3v7h-3Z" transform="translate(-863 361)" fill="none" stroke="currentColor" stroke-width="1"/>\r\n      <path d="M877.5-343.5h3v5h-3Z" transform="translate(-863 361)" fill="none" stroke="currentColor" stroke-width="1"/>\r\n      <path d="M882.5-347.5h3v9h-3Z" transform="translate(-863 361)" fill="none" stroke="currentColor" stroke-width="1"/>\r\n    </g>\r\n    <rect width="16" height="16" fill="none"/>\r\n  </g>\r\n</svg>\r\n'},11430:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">\r\n  <g transform="translate(459.548 -406.05)">\r\n    <g>\r\n      <path d="M-453.34,420.009h-4v-13h10v7" transform="translate(0.291 0.542)" fill="none" stroke="currentColor" stroke-width="1"/>\r\n      <line x2="5" transform="translate(-455.548 410.55)" fill="none" stroke="currentColor" stroke-width="1"/>\r\n      <line x2="2" transform="translate(-455.548 412.55)" fill="none" stroke="currentColor" stroke-width="1"/>\r\n      <line x2="5" transform="translate(-455.548 414.55)" fill="none" stroke="currentColor" stroke-width="1"/>\r\n      <line x2="4" transform="translate(-455.548 416.55)" fill="none" stroke="currentColor" stroke-width="1"/>\r\n      <line x1="6" y2="6" transform="translate(-452.048 415.55)" fill="none" stroke="currentColor" stroke-width="1"/>\r\n    </g>\r\n  </g>\r\n  <rect width="16" height="16" fill="none"/>\r\n</svg>\r\n'},81989:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">\r\n  <rect width="13" height="9" transform="translate(1.5 3.5)" fill="none" stroke="currentColor" stroke-width="1"/>\r\n  <path d="M-213.511,549.093l6.5,5.5,6.5-5.5" transform="translate(215.011 -545.593)" fill="none" stroke="currentColor" stroke-width="1"/>\r\n  <rect width="16" height="16" fill="none"/>\r\n</svg>\r\n'},54305:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">\r\n  <path d="M-248.99,857.45h5.555a.8.8,0,0,1,.789.8v10.4a.8.8,0,0,1-.789.8h-13.421a.8.8,0,0,1-.789-.8v-10.4a.8.8,0,0,1,.789-.8h5.483" transform="translate(258.146 -853.95)" fill="none" stroke="currentColor" stroke-width="1"/>\r\n  <path d="M-251.446,861.35a1.5,1.5,0,0,1-1.5,1.5,1.5,1.5,0,0,1-1.5-1.5,1.5,1.5,0,0,1,1.5-1.5A1.5,1.5,0,0,1-251.446,861.35Z" transform="translate(257.946 -853.35)" fill="none" stroke="currentColor" stroke-width="1"/>\r\n  <path d="M-250.246,866.85h-5a2.784,2.784,0,0,1,2.5-3A2.784,2.784,0,0,1-250.246,866.85Z" transform="translate(257.746 -854.35)" fill="none" stroke="currentColor" stroke-width="1"/>\r\n  <rect width="5" height="1" transform="translate(9 6)" fill="currentColor"/>\r\n  <rect width="5" height="1" transform="translate(9 8)" fill="currentColor"/>\r\n  <rect width="5" height="1" transform="translate(9 10)" fill="currentColor"/>\r\n  <rect width="3.2" height="1" transform="translate(9 12)" fill="currentColor"/>\r\n  <g transform="translate(257.446 -854.65)" fill="none">\r\n    <path d="M-248.447,859.65h-2l-2-5h6Z" stroke="none"/>\r\n    <path d="M -249.1237335205078 858.650390625 L -247.9234924316406 855.650390625 L -250.9691925048828 855.650390625 L -249.7689208984375 858.650390625 L -249.1237335205078 858.650390625 M -248.4467468261719 859.650390625 L -250.4458923339844 859.650390625 L -252.4463500976562 854.650390625 L -246.4463500976562 854.650390625 L -248.4467468261719 859.650390625 Z" stroke="none" fill="currentColor"/>\r\n  </g>\r\n  <rect width="16" height="16" fill="none"/>\r\n</svg>\r\n'},61098:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">\r\n  <rect width="16" height="16" fill="none"/>\r\n  <g transform="translate(1)" fill="none">\r\n    <path d="M1,1H8V6h5v9H1Z" stroke="none"/>\r\n    <path d="M 2 2 L 2 14 L 12 14 L 12 7 L 7 7 L 7 2 L 2 2 M 1 1 L 8 1 L 8 6 L 13 6 L 13 15 L 1 15 L 1 1 Z" stroke="none" fill="currentColor"/>\r\n  </g>\r\n  <path d="M8.5.366l5.118,5.151" transform="translate(0 1)" fill="none" stroke="currentColor" stroke-width="1"/>\r\n</svg>\r\n'},11404:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">\r\n  <g transform="translate(2212.313 -207.727)">\r\n    <g transform="translate(-2211.313 216.726)" fill="none" stroke="currentColor" stroke-width="1">\r\n      <rect width="5" height="5" rx="2.5" stroke="none"/>\r\n      <rect x="0.5" y="0.5" width="4" height="4" rx="2" fill="none"/>\r\n    </g>\r\n    <g transform="translate(-2201.313 216.726)" fill="none" stroke="currentColor" stroke-width="1">\r\n      <rect width="5" height="5" stroke="none"/>\r\n      <rect x="0.5" y="0.5" width="4" height="4" fill="none"/>\r\n    </g>\r\n    <g transform="translate(-2203.813 209.694) rotate(45)" fill="none" stroke="currentColor" stroke-width="1">\r\n      <rect width="4.995" height="4.995" stroke="none"/>\r\n      <rect x="0.5" y="0.5" width="3.995" height="3.995" fill="none"/>\r\n    </g>\r\n    <path d="M-2201.438,214.726h2.625v4.5" transform="translate(0 -1.5)" fill="none" stroke="currentColor" stroke-width="1"/>\r\n    <path d="M-2208.813,219.227v-4.5h2.625" transform="translate(0 -1.5)" fill="none" stroke="currentColor" stroke-width="1"/>\r\n  </g>\r\n  <rect width="16" height="16" fill="none"/>\r\n</svg>\r\n'},36296:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">\r\n  <path d="M-491.791,601.651v-9h3l2,2h6v7Z" transform="translate(494.291 -589.151)" fill="none" stroke="currentColor" stroke-width="1"/>\r\n  <rect width="16" height="16" fill="none"/>\r\n</svg>\r\n'},40195:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">\r\n  <g transform="translate(351.034 -406.658)">\r\n    <g transform="translate(-350.034 408.658)" fill="none" stroke="currentColor" stroke-width="1">\r\n      <rect width="10" height="3" stroke="none"/>\r\n      <rect x="0.5" y="0.5" width="9" height="2" fill="none"/>\r\n    </g>\r\n    <g transform="translate(-343.034 416.658)" fill="none" stroke="currentColor" stroke-width="1">\r\n      <rect width="7" height="3" stroke="none"/>\r\n      <rect x="0.5" y="0.5" width="6" height="2" fill="none"/>\r\n    </g>\r\n    <path d="M-340.034,410.158h3.5v4h-9v4h2.5" fill="none" stroke="currentColor" stroke-width="1"/>\r\n  </g>\r\n  <rect width="16" height="16" fill="none"/>\r\n</svg>\r\n'},98020:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">\r\n  <g transform="translate(-8 -8)">\r\n    <path d="M888-1225v5H878v-5h10m1-1H877v7h12Z" transform="translate(-867 1242)" fill="currentColor"/>\r\n    <path d="M889-1228v2H877v-2h12m1-1H876v4h14Z" transform="translate(-867 1242)" fill="currentColor"/>\r\n    <rect width="1" height="10" transform="translate(14 13)" fill="currentColor"/>\r\n    <rect width="1" height="10" transform="translate(17 13)" fill="currentColor"/>\r\n    <ellipse cx="1.5" cy="1.96" rx="1.5" ry="1.96" transform="translate(11.684 11.403) rotate(-63.43)" fill="none" stroke="currentColor" stroke-miterlimit="10" stroke-width="1"/>\r\n    <ellipse cx="1.96" cy="1.5" rx="1.96" ry="1.5" transform="translate(15.447 10.509) rotate(-26.57)" fill="none" stroke="currentColor" stroke-miterlimit="10" stroke-width="1"/>\r\n  </g>\r\n  <rect width="16" height="16" fill="none"/>\r\n</svg>\r\n'},81058:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">\r\n  <g transform="translate(1)">\r\n    <path d="M-2799.346,1196.853a1.446,1.446,0,0,0-1.446,1.446,1.446,1.446,0,0,0,1.446,1.446,1.447,1.447,0,0,0,1.446-1.446" transform="translate(2805.42 -1189.332)" fill="none" stroke="currentColor" stroke-width="1"/>\r\n    <path d="M-2799.853,1193.041a3.766,3.766,0,0,0-1.179-.188,3.759,3.759,0,0,0-3.76,3.76,3.76,3.76,0,0,0,3.76,3.76,3.76,3.76,0,0,0,3.76-3.76,3.747,3.747,0,0,0-.168-1.114" transform="translate(2807.106 -1187.646)" fill="none" stroke="currentColor" stroke-width="1"/>\r\n    <path d="M-2801.184,1189.124l-1.533-.271a6.072,6.072,0,0,0-6.074,6.075,6.073,6.073,0,0,0,6.074,6.074,6.073,6.073,0,0,0,6.074-6.074,6.74,6.74,0,0,0-.216-1.612" transform="translate(2808.792 -1185.96)" fill="none" stroke="currentColor" stroke-width="1"/>\r\n    <line x1="3" y2="3" transform="translate(6.5 5.5)" fill="none" stroke="currentColor" stroke-width="1"/>\r\n    <path d="M-2790.792,1186.853v3h3" transform="translate(2800.292 -1184.352)" fill="none" stroke="currentColor" stroke-width="1"/>\r\n    <path d="M-2786.792,1183.853v3h3" transform="translate(2798.293 -1183.353)" fill="none" stroke="currentColor" stroke-width="1"/>\r\n  </g>\r\n  <rect width="16" height="16" fill="none"/>\r\n</svg>\r\n'},23219:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">\r\n  <g transform="translate(0)">\r\n    <g transform="translate(319.116 -471.435)">\r\n      <g>\r\n        <path d="M-308.68,476.435a2.5,2.5,0,0,0-2.5-2.5,2.5,2.5,0,0,0-2.5,2.5,2.5,2.5,0,0,0,2.5,2.5A2.5,2.5,0,0,0-308.68,476.435Z" transform="translate(0.064)" fill="none" stroke="currentColor" stroke-width="1"/>\r\n        <path d="M-307.222,483.935h3.607c0-1.806-1.368-3-3.422-3a4.294,4.294,0,0,0-1.578.279" transform="translate(-0.001)" fill="none" stroke="currentColor" stroke-width="1"/>\r\n        <path d="M-304.615,477.435a2,2,0,0,0-2-2,2,2,0,0,0-2,2,2,2,0,0,0,2,2A2,2,0,0,0-304.615,477.435Z" fill="none" stroke="currentColor" stroke-width="1"/>\r\n        <path d="M-315.124,483.935h-3.606c0-1.806,1.369-3,3.421-3a4.306,4.306,0,0,1,1.579.279" transform="translate(0.114)" fill="none" stroke="currentColor" stroke-width="1"/>\r\n        <path d="M-317.615,477.435a2,2,0,0,1,2-2,2,2,0,0,1,2,2,2,2,0,0,1-2,2A2,2,0,0,1-317.615,477.435Z" fill="none" stroke="currentColor" stroke-width="1"/>\r\n        <path d="M-306.678,484.935c0-2.409-1.8-4-4.5-4s-4.5,1.591-4.5,4Z" transform="translate(0.062)" fill="none" stroke="currentColor" stroke-width="1"/>\r\n      </g>\r\n    </g>\r\n    <rect width="16" height="16" fill="none"/>\r\n  </g>\r\n</svg>\r\n'},4853:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">\r\n  <rect width="16" height="16" fill="none"/>\r\n  <path d="M-142.229,510.534l6-5.5,6,5.5" transform="translate(144.229 -502.034)" fill="none" stroke="currentColor" stroke-width="1"/>\r\n  <path d="M-1,0V6.5H8V0" transform="translate(4.5 7)" fill="none" stroke="currentColor" stroke-width="1"/>\r\n</svg>\r\n'},25051:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">\r\n  <g fill="none" stroke="currentColor" stroke-width="1">\r\n    <circle cx="8" cy="8" r="8" stroke="none"/>\r\n    <circle cx="8" cy="8" r="7.5" fill="none"/>\r\n  </g>\r\n  <g transform="translate(-338.151 388.098) rotate(180)">\r\n    <line y2="6.5" transform="translate(-346.15 375.599)" fill="none" stroke="currentColor" stroke-width="1"/>\r\n    <rect width="0.999" height="0.999" transform="translate(-346.65 383.099)" fill="currentColor"/>\r\n  </g>\r\n</svg>\r\n'},28362:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">\r\n  <rect width="16" height="16" fill="none"/>\r\n  <rect width="11" height="9" rx="2" transform="translate(2.5 5.5)" fill="none" stroke="currentColor" stroke-width="1"/>\r\n  <g transform="translate(7 9)" fill="none">\r\n    <path d="M0,0H2V2H0Z" stroke="none"/>\r\n    <path d="M 0 0 L 2 0 L 2 2 L 0 2 L 0 0 Z" stroke="none" fill="currentColor"/>\r\n  </g>\r\n  <path d="M-278.581,378.264v-2.5a1.5,1.5,0,0,1,1.5-1.5h2a1.5,1.5,0,0,1,1.5,1.5v2.5" transform="translate(284.081 -372.764)" fill="none" stroke="currentColor" stroke-width="1"/>\r\n</svg>\r\n'},43198:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">\r\n  <rect width="16" height="16" fill="none"/>\r\n  <g transform="translate(1 1)" fill="none" stroke="currentColor" stroke-width="1">\r\n    <rect width="14" height="14" rx="2" stroke="none"/>\r\n    <rect x="0.5" y="0.5" width="13" height="13" rx="1.5" fill="none"/>\r\n  </g>\r\n  <path d="M-1166.224,8326.077h-5" transform="translate(1179.224 -8321.577)" fill="none" stroke="currentColor" stroke-width="1"/>\r\n  <path d="M-1166.224,8326.077h-5" transform="translate(1176.724 -8318.077)" fill="none" stroke="currentColor" stroke-width="1"/>\r\n  <path d="M-1166.224,8326.077h-5" transform="translate(1174.224 -8314.577)" fill="none" stroke="currentColor" stroke-width="1"/>\r\n</svg>\r\n'},77862:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">\r\n  <g transform="translate(-1923.919 -33.301)">\r\n    <circle cx="4" cy="4" r="4" transform="translate(1926.169 35.551)" fill="none" stroke="currentColor" stroke-width="1"/>\r\n    <line x2="4.75" y2="4.75" transform="translate(1932.919 42.301)" fill="none" stroke="currentColor" stroke-width="1"/>\r\n  </g>\r\n  <rect width="16" height="16" fill="none"/>\r\n</svg>\r\n'},30697:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">\r\n  <g transform="translate(0)">\r\n    <path d="M-315.146,864.292h-9.5v-9h13V860.2" transform="translate(325.146 -853.792)" fill="none" stroke="currentColor" stroke-width="1"/>\r\n    <path d="M-322.146,855.292a2.5,2.5,0,0,1-2.5,2.5" transform="translate(325.146 -853.292)" fill="none" stroke="currentColor" stroke-width="1"/>\r\n    <path d="M-311.746,857.792a2.5,2.5,0,0,1-2.5-2.5" transform="translate(325.146 -853.292)" fill="none" stroke="currentColor" stroke-width="1"/>\r\n    <path d="M-324.646,861.692a2.5,2.5,0,0,1,2.5,2.5" transform="translate(325.146 -854.192)" fill="none" stroke="currentColor" stroke-width="1"/>\r\n    <g transform="translate(5 4)" fill="none" stroke="currentColor" stroke-width="1">\r\n      <circle cx="2" cy="2" r="2" stroke="none"/>\r\n      <circle cx="2" cy="2" r="1.5" fill="none"/>\r\n    </g>\r\n    <path d="M-309.846,861.592c0,.829-1.343,1.5-3,1.5s-3-.671-3-1.5,1.343-1.5,3-1.5S-309.846,860.764-309.846,861.592Z" transform="translate(325.346 -853.592)" fill="none" stroke="currentColor" stroke-width="1"/>\r\n    <path d="M-309.846,863.292c0,.663-1.343,1.5-3,1.5s-3-.837-3-1.5" transform="translate(325.346 -852.792)" fill="none" stroke="currentColor" stroke-width="1"/>\r\n    <path d="M-309.846,864.892c0,.662-1.343,1.5-3,1.5s-3-.838-3-1.5" transform="translate(325.346 -851.892)" fill="none" stroke="currentColor" stroke-width="1"/>\r\n    <rect width="16" height="16" fill="none"/>\r\n  </g>\r\n</svg>\r\n'},84776:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">\r\n  <g transform="translate(928.223 -222.407)">\r\n    <path d="M-919.467,236.407c1.255-1.9,4.413-2.3,5.744-2.382V224.41s-4.856-.255-6,4.18c-1.143-4.435-6-4.18-6-4.18v9.615c1.331.085,4.49.487,5.745,2.382Z" fill="none" stroke="currentColor" stroke-width="1"/>\r\n    <line y2="7.692" transform="translate(-919.723 228.407)" fill="none" stroke="currentColor" stroke-width="1"/>\r\n  </g>\r\n  <rect width="16" height="16" fill="none"/>\r\n</svg>\r\n'},95329:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">\r\n  <g transform="translate(2212.313 -207.727)">\r\n    <g transform="translate(-2211.313 219.726)" fill="none" stroke="currentColor" stroke-width="1">\r\n      <rect width="3" height="3" stroke="none"/>\r\n      <rect x="0.5" y="0.5" width="2" height="2" fill="none"/>\r\n    </g>\r\n    <g transform="translate(-2205.313 219.726)" fill="none" stroke="currentColor" stroke-width="1">\r\n      <rect width="3" height="3" stroke="none"/>\r\n      <rect x="0.5" y="0.5" width="2" height="2" fill="none"/>\r\n    </g>\r\n    <g transform="translate(-2199.313 219.726)" fill="none" stroke="currentColor" stroke-width="1">\r\n      <rect width="3" height="3" stroke="none"/>\r\n      <rect x="0.5" y="0.5" width="2" height="2" fill="none"/>\r\n    </g>\r\n    <g transform="translate(-2205.313 208.726)" fill="none" stroke="currentColor" stroke-width="1">\r\n      <rect width="3" height="3" stroke="none"/>\r\n      <rect x="0.5" y="0.5" width="2" height="2" fill="none"/>\r\n    </g>\r\n    <path d="M-2209.813,219.59v-4.864h12v4.864" transform="translate(0 0.5)" fill="none" stroke="currentColor" stroke-width="1"/>\r\n    <line y2="9" transform="translate(-2203.813 211.226)" fill="none" stroke="currentColor" stroke-width="1"/>\r\n  </g>\r\n  <rect width="16" height="16" fill="none"/>\r\n</svg>\r\n'},46554:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">\r\n  <rect width="16" height="16" fill="none"/>\r\n  <g transform="translate(828.001 -256.344)">\r\n    <g transform="translate(-0.562 -0.563)" fill="none">\r\n      <path d="M-822.721,270.046a2.984,2.984,0,0,0-3,.861l-.715-.714a2.983,2.983,0,0,0,.862-3l9.281-9.282,2.856,2.856Z" stroke="none"/>\r\n      <path d="M -824.6316528320312 269.1003723144531 C -824.2100830078125 268.9744262695312 -823.8204345703125 268.9347534179688 -823.4967651367188 268.9347534179688 C -823.3335571289062 268.9347534179688 -823.1836547851562 268.9448852539062 -823.0501098632812 268.9602355957031 L -814.8533325195312 260.7627868652344 L -816.2953491210938 259.3211669921875 L -824.4864501953125 267.5129089355469 C -824.4336547851562 267.9642028808594 -824.45556640625 268.5171203613281 -824.6316528320312 269.1003723144531 M -825.7241821289062 270.9070129394531 C -826.014892578125 270.6171875 -826.1371459960938 270.4949951171875 -826.4390258789062 270.1930847167969 C -825.00927734375 268.7652282714844 -825.5767211914062 267.18896484375 -825.5767211914062 267.18896484375 L -816.2954711914062 257.9070129394531 L -813.4390258789062 260.7626647949219 L -822.7213134765625 270.045654296875 C -822.7212524414062 270.0456237792969 -824.2954711914062 269.4791870117188 -825.7241821289062 270.9070129394531 Z" stroke="none" fill="currentColor"/>\r\n    </g>\r\n    <path d="M.5.5l2,2" transform="translate(-819.501 259.844)" fill="none" stroke="currentColor" stroke-width="1"/>\r\n  </g>\r\n</svg>\r\n'},10308:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="16.007" height="16.006" viewBox="0 0 16.007 16.006">\r\n  <g transform="translate(0 0.006)">\r\n    <path d="M-409.778,728.7c1.361,1.1-.126,2.466-.728,3.183-.456.537-1.028,1.176-5.043-1.032a20.216,20.216,0,0,1-3.967-2.981h0c-.026-.029-.142-.144-.169-.174v0a20.285,20.285,0,0,1-2.981-3.971c-2.206-4.018-1.568-4.591-1.031-5.046.715-.611,2.047-2.061,3.181-.73,1.891,2.223,2.077,3.273,1.381,3.815a4.179,4.179,0,0,0-.581.614c-.736.734-.562,2,1.192,3.751l.307.367c1.3,1.3,3.026,2.006,3.761,1.27.239-.241.332-.479.662-.81C-413.156,726.312-412.472,726.527-409.778,728.7Z" transform="translate(424.721 -716.903)" fill="none" stroke="currentColor" stroke-width="1"/>\r\n    <rect width="16" height="16" fill="none"/>\r\n  </g>\r\n</svg>\r\n'},8307:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="16.395" height="16" viewBox="0 0 16.395 16">\r\n  <g transform="translate(-8 -8)">\r\n    <line x2="2.62" y2="3.37" transform="translate(21.38 13.63)" fill="none" stroke="currentColor" stroke-width="1"/>\r\n    <path d="M876.59,294a5.51,5.51,0,0,0,4.41,4.41V301h-5.3l-.25.17-1.45,1V301h-2v-7h4.59m.91-1H871v9h2v2l3-2h6v-4.5A4.5,4.5,0,0,1,877.5,293Z" transform="translate(-863 -281)" fill="currentColor"/>\r\n    <rect width="1" height="1" transform="translate(12 18)" fill="currentColor"/>\r\n    <rect width="1" height="3" transform="translate(12 14)" fill="currentColor"/>\r\n    <path d="M882.5,290a2.5,2.5,0,1,1-2.5,2.5,2.5,2.5,0,0,1,2.5-2.5m0-1a3.5,3.5,0,1,0,3.5,3.5,3.5,3.5,0,0,0-3.5-3.5Z" transform="translate(-863 -281)" fill="currentColor"/>\r\n    <path d="M17,11v1h2v2h1V11Z" fill="currentColor"/>\r\n  </g>\r\n  <rect width="16" height="16" fill="none"/>\r\n</svg>\r\n'},45010:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">\r\n  <path d="M1756.542,177.995h-.99a1.408,1.408,0,0,1-1.1-.458,1.513,1.513,0,0,1-.413-1.042v-.8a.946.946,0,0,0-.3-.118.528.528,0,0,1-.224-.09l-.59.491a1.539,1.539,0,0,1-2.214,0l-.705-.7a1.478,1.478,0,0,1-.366-.5,1.427,1.427,0,0,1-.129-.575,1.542,1.542,0,0,1,.489-1.109l.613-.608q-.094-.142-.153-.246a.5.5,0,0,1-.058-.246h-.9a1.43,1.43,0,0,1-1.51-1.5v-1.008a1.466,1.466,0,0,1,.412-1.091,1.491,1.491,0,0,1,1.1-.409h.8a.947.947,0,0,0,.095-.282.376.376,0,0,1,.095-.21l-.5-.608a1.734,1.734,0,0,1-.365-.517,1.382,1.382,0,0,1,0-1.17,1.747,1.747,0,0,1,.365-.513l.705-.7a1.6,1.6,0,0,1,2.214,0l.59.608a.459.459,0,0,1,.224-.186c.087-.032.186-.071.3-.118v-.8a1.469,1.469,0,0,1,.413-1.089,1.491,1.491,0,0,1,1.1-.411h.991a1.492,1.492,0,0,1,1.1.411,1.462,1.462,0,0,1,.413,1.089v.8a1.453,1.453,0,0,0,.295.095.408.408,0,0,1,.224.116l.59-.515a1.6,1.6,0,0,1,2.215,0l.7.7a1.591,1.591,0,0,1,.013,2.2l-.613.608q.094.142.153.246a.51.51,0,0,1,.057.246h.805a1.423,1.423,0,0,1,1.1.445,1.493,1.493,0,0,1,.412,1.055V170.5a1.413,1.413,0,0,1-.448,1.078,1.5,1.5,0,0,1-1.062.422h-.805a.961.961,0,0,0-.094.281.323.323,0,0,1-.118.211l.615.608a1.552,1.552,0,0,1,0,2.18l-.705.7a1.54,1.54,0,0,1-2.215,0l-.59-.586a2.168,2.168,0,0,0-.26.129.477.477,0,0,1-.258.059v.8a1.651,1.651,0,0,1-.413,1.183A1.449,1.449,0,0,1,1756.542,177.995Zm-3.3-3.913.4.211a2.032,2.032,0,0,0,.5.235c.2.062.4.117.6.163l.4.095v1.592a.589.589,0,0,0,.13.341.427.427,0,0,0,.366.175h1.015a.533.533,0,0,0,.318-.141.453.453,0,0,0,.177-.375v-1.59l.4-.093a2.327,2.327,0,0,0,.554-.2,2.394,2.394,0,0,1,.555-.2l.4-.211,1.108,1.2a.429.429,0,0,0,.33.164.3.3,0,0,0,.283-.164l.685-.681a.489.489,0,0,0,.165-.352.257.257,0,0,0-.168-.262l-1.2-1.1.213-.4a2.632,2.632,0,0,0,.236-.517c.062-.187.118-.382.165-.585l.091-.4h1.6a.556.556,0,0,0,.342-.142.433.433,0,0,0,.178-.351v-1.007a.53.53,0,0,0-.143-.316.458.458,0,0,0-.377-.176h-1.6l-.094-.4a2.578,2.578,0,0,0-.2-.562,2.617,2.617,0,0,1-.2-.539l-.212-.4,1.208-1.219a.421.421,0,0,0,.165-.327.26.26,0,0,0-.165-.259l-.685-.7a.536.536,0,0,0-.354-.141.263.263,0,0,0-.26.141l-1.113,1.2-.4-.187a1.806,1.806,0,0,0-.519-.246c-.189-.054-.385-.1-.59-.152l-.495-.117v-1.6a.487.487,0,0,0-.177-.316.505.505,0,0,0-.343-.176h-.99a.5.5,0,0,0-.343.176.482.482,0,0,0-.177.316v1.592l-.4.118a2.67,2.67,0,0,0-.555.188,4.241,4.241,0,0,1-.554.211l-.283.28-1.107-1.2a.537.537,0,0,0-.355-.142.266.266,0,0,0-.256.15l-.8.7a.418.418,0,0,0-.165.328.3.3,0,0,0,.165.28l1.208,1.1-.189.493a1.762,1.762,0,0,0-.248.515c-.054.188-.114.383-.176.586l-.189.3h-1.606a.506.506,0,0,0-.343.175.486.486,0,0,0-.177.316v1.009a.486.486,0,0,0,.177.316.509.509,0,0,0,.343.181h1.6l.095.4a2.249,2.249,0,0,0,.2.55,2.268,2.268,0,0,1,.2.552l.213.4-1.2,1.1a.234.234,0,0,0-.106.151,1.317,1.317,0,0,0-.012.152.835.835,0,0,0,.012.142.329.329,0,0,0,.106.163l.685.681a.5.5,0,0,0,.354.163.26.26,0,0,0,.261-.163Zm2.761-1.088a2.858,2.858,0,0,1-2.133-.891A2.925,2.925,0,0,1,1753,170a3,3,0,0,1,6,0,2.925,2.925,0,0,1-.867,2.108A2.858,2.858,0,0,1,1756,172.994Zm0-4.989a2,2,0,0,0-1.992,1.99,1.949,1.949,0,0,0,.586,1.43,1.98,1.98,0,0,0,2.812,0,1.949,1.949,0,0,0,.586-1.43,2,2,0,0,0-1.992-1.99Z" transform="translate(-1748 -161.997)" fill="currentColor"/>\r\n</svg>\r\n'},9940:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">\r\n  <path d="M8.5,3.3,9.9,6.2l.2.5.5.1,3.2.4L11.6,9.4l-.4.4.1.5.5,3.1L9,11.8l-.5-.2-.5.2L5.2,13.2l.6-3,.1-.5-.4-.4L3.2,7.1l3.1-.4.5-.1L7,6.1,8.5,3.3M8.5,1,6.2,5.7,1,6.4,4.8,10l-.9,5,4.6-2.3L13.1,15l-.8-5L16,6.4l-5.2-.7Z" transform="translate(-1)" fill="currentColor"/>\r\n  <rect width="16" height="16" fill="none"/>\r\n</svg>\r\n'},57180:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">\r\n  <path d="M1456-915.5h-13a6.529,6.529,0,0,1,3.335-4.322,6.5,6.5,0,0,0,3.166.821,6.5,6.5,0,0,0,3.162-.82A6.563,6.563,0,0,1,1456-915.5Z" transform="translate(-1441.5 930)" fill="rgba(0,0,0,0)" stroke="currentColor" stroke-width="1"/>\r\n  <circle cx="3" cy="3" r="3" transform="translate(5 1.5)" fill="none" stroke="currentColor" stroke-width="1"/>\r\n  <rect width="16" height="16" fill="none"/>\r\n  <path d="M456,7120.5h1.5s.044,4.434-4.5,4.5" transform="translate(-445 -7116)" fill="none" stroke="currentColor" stroke-width="1"/>\r\n</svg>\r\n'},24444:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">\r\n  <g transform="translate(494.322 -372.622)">\r\n    <path d="M-490.822,387.122v-13h9l-3.5,3.5,3.5,3.5h-9" transform="translate(0 0)" fill="none" stroke="currentColor" stroke-width="1"/>\r\n  </g>\r\n  <rect width="16" height="16" fill="none"/>\r\n</svg>\r\n'},65038:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">\r\n  <g transform="translate(-8 -8)">\r\n    <path d="M876,50v4h-3V50h3m1-1h-5v6h5Z" transform="translate(-863 -33)" fill="currentColor"/>\r\n    <path d="M885,44v5h-3V44h3m1-1h-5v7h5Z" transform="translate(-863 -33)" fill="currentColor"/>\r\n    <path d="M879,44v3h-6V44h6m1-1h-8v5h8Z" transform="translate(-863 -33)" fill="currentColor"/>\r\n    <path d="M885,52v2h-6V52h6m1-1h-8v4h8Z" transform="translate(-863 -33)" fill="currentColor"/>\r\n  </g>\r\n  <rect width="16" height="16" fill="none"/>\r\n</svg>\r\n'},76078:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="16.249" height="16" viewBox="0 0 16.249 16">\r\n  <g transform="translate(284.081 -406.05)">\r\n    <g>\r\n      <path d="M-280.582,409.8h12l-2.5,6h-7.5" transform="translate(0 -0.25)" fill="none" stroke="currentColor" stroke-width="1"/>\r\n      <path d="M-271.081,417.8h-7l-3-10h-3" transform="translate(0 -0.25)" fill="none" stroke="currentColor" stroke-width="1"/>\r\n      <rect width="1" height="1" transform="translate(-278.581 419.55)" fill="none" stroke="currentColor" stroke-width="1"/>\r\n      <rect width="1" height="1" transform="translate(-271.581 419.55)" fill="none" stroke="currentColor" stroke-width="1"/>\r\n      <line x2="4.938" transform="translate(-277.581 411.55)" fill="none" stroke="currentColor" stroke-width="1"/>\r\n      <line x2="4.938" transform="translate(-277.581 413.55)" fill="none" stroke="currentColor" stroke-width="1"/>\r\n    </g>\r\n  </g>\r\n  <rect width="16" height="16" transform="translate(0)" fill="none"/>\r\n</svg>\r\n'},86343:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">\r\n  <g transform="translate(284.081 -471.435)">\r\n    <path d="M-272.367,486.435h5v-10h-5" transform="translate(-2.214 -0.5)" fill="none" stroke="currentColor" stroke-width="1"/>\r\n    <line x1="3.5" transform="translate(-274.581 482.935)" fill="none" stroke="currentColor" stroke-width="1"/>\r\n    <line x1="3.5" transform="translate(-274.581 480.935)" fill="none" stroke="currentColor" stroke-width="1"/>\r\n    <line x1="3.5" transform="translate(-274.581 478.935)" fill="none" stroke="currentColor" stroke-width="1"/>\r\n    <g transform="translate(-2)">\r\n      <path d="M-273.081,485.935v-12h-8v12Z" transform="translate(0.5 0)" fill="none" stroke="currentColor" stroke-width="1"/>\r\n      <line x2="2.005" transform="translate(-276.086 476.935)" fill="none" stroke="currentColor" stroke-width="1"/>\r\n      <line x2="2.005" transform="translate(-279.086 476.935)" fill="none" stroke="currentColor" stroke-width="1"/>\r\n      <line x2="2.005" transform="translate(-276.086 478.935)" fill="none" stroke="currentColor" stroke-width="1"/>\r\n      <line x2="2.005" transform="translate(-279.086 478.935)" fill="none" stroke="currentColor" stroke-width="1"/>\r\n      <line x2="2.005" transform="translate(-276.086 480.935)" fill="none" stroke="currentColor" stroke-width="1"/>\r\n      <line x2="2.005" transform="translate(-279.086 480.935)" fill="none" stroke="currentColor" stroke-width="1"/>\r\n      <line x2="2.005" transform="translate(-276.086 482.935)" fill="none" stroke="currentColor" stroke-width="1"/>\r\n      <line x2="2.005" transform="translate(-279.086 482.935)" fill="none" stroke="currentColor" stroke-width="1"/>\r\n    </g>\r\n  </g>\r\n  <rect width="16" height="16" fill="none"/>\r\n</svg>\r\n'},14800:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="72" height="64" viewBox="0 0 72 64"><g transform="translate(-446 -144)"><rect width="72" height="64" rx="6" transform="translate(446 144)" fill="none"/><rect width="12" height="6" rx="3" transform="translate(454 164)" fill="#ff6100"/><rect width="12" height="6" rx="3" transform="translate(470 164)" fill="#0091ea" opacity="0.5"/><rect width="12" height="6" rx="3" transform="translate(486 164)" fill="#0091ea" opacity="0.5"/><rect width="56" height="6" rx="3" transform="translate(454 174)" fill="#d1d1d1"/><rect width="56" height="6" rx="3" transform="translate(454 184)" fill="#d1d1d1"/></g></svg>'},65834:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 72 40">\r\n  <g transform="translate(-60 -304.334)">\r\n    <g fill="#fff" stroke="#0d2e4e" transform="translate(68 312.334)">\r\n      <rect width="56" height="24" stroke="none" rx="2"/>\r\n      <rect width="55" height="23" x=".5" y=".5" fill="none" rx="1.5"/>\r\n    </g>\r\n    <rect width="24" height="6" fill="#d1d1d1" rx="3" transform="translate(76 321.334)"/>\r\n  </g>\r\n  <text fill="#ff4013" font-family="OpenSans-Bold, Open Sans" font-size="15" font-weight="700" transform="translate(48 25)"><tspan x="0" y="0">T</tspan></text>\r\n</svg>\r\n'},63090:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">\r\n    <g transform="translate(-510 -1604)">\r\n        <rect style="fill:none;" width="16" height="16" transform="translate(510 1604)" />\r\n        <g class="stroked" style="fill:none; stroke:#284578;stroke-miterlimit:10;stroke-width:2px;" transform="translate(511 1605)">\r\n            <circle style="stroke:none;" cx="7" cy="7" r="7" />\r\n            <circle style="fill:none;" cx="7" cy="7" r="6" />\r\n        </g>\r\n        <path class="stroked" style="stroke:#284578;stroke-miterlimit:10;stroke-width:2px; stroke-linecap:round;" d="M1824.814,35.015v3.257l1.682,1.958" transform="translate(-1306.814 1574.1)" />\r\n    </g>\r\n</svg>\r\n'},87726:e=>{e.exports='<svg id="Component_707_11" data-name="Component 707 – 11" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">\r\n  <g id="Ellipse_1346" data-name="Ellipse 1346" fill="none" stroke="#162e4c" stroke-width="1">\r\n    <circle cx="8" cy="8" r="8" stroke="none"/>\r\n    <circle cx="8" cy="8" r="7.5" fill="none"/>\r\n  </g>\r\n  <g id="Group_7749" data-name="Group 7749" transform="translate(-338.151 388.098) rotate(180)">\r\n    <line id="Line_782" data-name="Line 782" y2="6.5" transform="translate(-346.15 375.599)" fill="none" stroke="#162e4c" stroke-width="1"/>\r\n    <rect id="Rectangle_6505" data-name="Rectangle 6505" width="0.999" height="0.999" transform="translate(-346.65 383.099)" fill="#162e4c"/>\r\n  </g>\r\n</svg>\r\n'},57421:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="65.898" height="50" viewBox="0 0 65.898 50">\r\n  <g id="Group_10554" data-name="Group 10554" transform="translate(-630.824 -282)">\r\n    <g id="Group_10553" data-name="Group 10553" transform="translate(-8 4)">\r\n      <rect id="Rectangle_23319" data-name="Rectangle 23319" width="24" height="8" transform="translate(640 311) rotate(-90)" fill="#757575" opacity="0.15"/>\r\n      <rect id="Rectangle_23320" data-name="Rectangle 23320" width="15" height="8" transform="translate(655 313) rotate(-90)" fill="#757575" opacity="0.36"/>\r\n      <rect id="Rectangle_23321" data-name="Rectangle 23321" width="50" height="8" transform="translate(671 328) rotate(-90)" fill="#757575" opacity="0.16"/>\r\n      <rect id="Rectangle_23326" data-name="Rectangle 23326" width="20" height="8" transform="translate(671 298) rotate(-90)" fill="#757575" opacity="0.36"/>\r\n      <rect id="Rectangle_23322" data-name="Rectangle 23322" width="30" height="8" transform="translate(687 311) rotate(-90)" fill="#757575" opacity="0.12"/>\r\n      <rect id="Rectangle_23327" data-name="Rectangle 23327" width="17" height="8" transform="translate(687 298) rotate(-90)" fill="#757575" opacity="0.36"/>\r\n      <rect id="Rectangle_23323" data-name="Rectangle 23323" width="11" height="8" transform="translate(640 298) rotate(-90)" fill="#757575" opacity="0.15"/>\r\n      <rect id="Rectangle_23324" data-name="Rectangle 23324" width="25" height="8" transform="translate(655 313) rotate(-90)" fill="#757575" opacity="0.19"/>\r\n      <path id="Path_9959" data-name="Path 9959" d="M223.923,2054c8.8,1.753,9.21,7.979,18.455,7.661s19.38-15.618,29.076-15.618,13.109-8.362,16.091-8.043" transform="translate(416.077 -1753.707)" fill="none" stroke="#757575" stroke-linecap="round" stroke-width="2" opacity="0.36"/>\r\n    </g>\r\n  </g>\r\n</svg>\r\n'},80431:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="8" height="4" viewBox="0 0 8 4">\r\n  <path id="Path_809" data-name="Path 809" d="M0,0,4,4,8,0Z" fill="#fff"/>\r\n</svg>\r\n'},59076:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="88" height="88" viewBox="0 0 88 88"><defs><style>.a{fill:url(#a);}.b{opacity:0.32;}.c{clip-path:url(#b);}.d,.e,.g{fill:none;}.d{stroke:#fff;stroke-width:17px;}.d,.e{opacity:0.08;}.f,.h{stroke:none;}.h{fill:#fff;}</style><radialGradient id="a" cx="0" cy="1.041" r="1.492" gradientTransform="translate(-0.654 0.413) rotate(-49.36)" gradientUnits="objectBoundingBox"><stop offset="0" stop-color="#09f"/><stop offset="0.584" stop-color="#a033ff"/><stop offset="0.894" stop-color="#ff5280"/><stop offset="1" stop-color="#ff7061"/></radialGradient><clipPath id="b"><rect class="a" width="88" height="88" rx="8" transform="translate(0.015)"/></clipPath></defs><g class="b" transform="translate(-5549 16466)"><g class="c" transform="translate(5548.985 -16466)"><g class="d" transform="translate(56.015 3)"><rect class="f" width="81" height="80"/><rect class="g" x="8.5" y="8.5" width="64" height="63"/></g><g class="d" transform="translate(-41.985 -32)"><ellipse class="f" cx="41" cy="41.5" rx="41" ry="41.5"/><ellipse class="g" cx="41" cy="41.5" rx="32.5" ry="33"/></g><g class="e" transform="translate(40.015 52.361) rotate(90)"><path class="f" d="M35.638,0,71.277,61.815H0Z"/><path class="h" d="M 35.63842010498047 34.0362663269043 L 29.42396926879883 44.81531524658203 L 41.85287475585938 44.81531524658203 L 35.63842010498047 34.0362663269043 M 35.63842010498047 0 L 71.27684020996094 61.81531524658203 L 0 61.81531524658203 L 35.63842010498047 0 Z"/></g></g></g></svg>'},37515:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="88" height="88" viewBox="0 0 88 88"><defs><style>.a{fill:url(#a);}.b{opacity:0.32;}.c{clip-path:url(#b);}.d,.e,.g{fill:none;}.d{stroke:#fff;stroke-width:17px;}.d,.e{opacity:0.08;}.f,.h{stroke:none;}.h{fill:#fff;}</style><radialGradient id="a" cx="0" cy="1.041" r="1.492" gradientTransform="translate(-0.654 0.413) rotate(-49.36)" gradientUnits="objectBoundingBox"><stop offset="0" stop-color="#09f"/><stop offset="0.584" stop-color="#a033ff"/><stop offset="0.894" stop-color="#ff5280"/><stop offset="1" stop-color="#ff7061"/></radialGradient><clipPath id="b"><rect class="a" width="88" height="88" rx="8" transform="translate(0.015)"/></clipPath></defs><g class="b" transform="translate(-5739 16466)"><g class="c" transform="translate(5738.985 -16466)"><g class="d" transform="translate(4.015 3)"><rect class="f" width="81" height="80"/><rect class="g" x="8.5" y="8.5" width="64" height="63"/></g><g class="d" transform="translate(6.015 -40)"><ellipse class="f" cx="41" cy="41.5" rx="41" ry="41.5"/><ellipse class="g" cx="41" cy="41.5" rx="32.5" ry="33"/></g><g class="e" transform="translate(118.923 52.361) rotate(90)"><path class="f" d="M35.638,0,71.277,61.815H0Z"/><path class="h" d="M 35.63842010498047 34.0362663269043 L 29.42396926879883 44.81531524658203 L 41.85287475585938 44.81531524658203 L 35.63842010498047 34.0362663269043 M 35.63842010498047 0 L 71.27684020996094 61.81531524658203 L 0 61.81531524658203 L 35.63842010498047 0 Z"/></g></g></g></svg>'},33365:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="88" height="88" viewBox="0 0 88 88"><defs><style>.a{fill:url(#a);}.b{opacity:0.32;}.c{clip-path:url(#b);}.d,.e,.g{fill:none;}.d{stroke:#fff;stroke-width:17px;}.d,.e{opacity:0.08;}.f,.h{stroke:none;}.h{fill:#fff;}</style><radialGradient id="a" cx="0" cy="1.041" r="1.492" gradientTransform="translate(-0.654 0.413) rotate(-49.36)" gradientUnits="objectBoundingBox"><stop offset="0" stop-color="#09f"/><stop offset="0.584" stop-color="#a033ff"/><stop offset="0.894" stop-color="#ff5280"/><stop offset="1" stop-color="#ff7061"/></radialGradient><clipPath id="b"><rect class="a" width="88" height="88" rx="8" transform="translate(0.015)"/></clipPath></defs><g class="b" transform="translate(-5919 16466)"><g class="c" transform="translate(5918.985 -16466)"><g class="d" transform="translate(61.015 4)"><rect class="f" width="81" height="80"/><rect class="g" x="8.5" y="8.5" width="64" height="63"/></g><g class="d" transform="translate(-28.985 -22)"><ellipse class="f" cx="57" cy="57.5" rx="57" ry="57.5"/><ellipse class="g" cx="57" cy="57.5" rx="48.5" ry="49"/></g><g class="e" transform="translate(108.79 -15.147) rotate(90)"><path class="f" d="M59.146,0l59.146,102.59H0Z"/><path class="h" d="M 59.1462287902832 34.03624725341797 L 29.4239501953125 85.58992767333984 L 88.86849212646484 85.58992767333984 L 59.1462287902832 34.03624725341797 M 59.14623260498047 -7.62939453125e-06 L 118.2924499511719 102.5899276733398 L -1.52587890625e-05 102.5899276733398 L 59.14623260498047 -7.62939453125e-06 Z"/></g></g></g></svg>'},66514:e=>{e.exports='<svg id="Component_5492_3" data-name="Component 5492 – 3" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">\r\n  <rect id="Rectangle_6579" data-name="Rectangle 6579" width="16" height="16" fill="none"/>\r\n  <g id="Group_16870" data-name="Group 16870" transform="translate(-696 -7212)">\r\n    <path id="Path_12008" data-name="Path 12008" d="M703.172,7214.3v5" transform="translate(0.828 -0.297)" fill="none" stroke="#162e4c" stroke-width="1"/>\r\n    <path id="Path_12009" data-name="Path 12009" d="M703.172,7214.3v5" transform="translate(1407.172 14440.297) rotate(180)" fill="none" stroke="#162e4c" stroke-width="1"/>\r\n    <path id="Polygon_401" data-name="Polygon 401" d="M3,0,6,3H0Z" transform="translate(701 7212)" fill="#0d2e4e"/>\r\n    <path id="Polygon_402" data-name="Polygon 402" d="M3,0,6,3H0Z" transform="translate(707 7228) rotate(180)" fill="#0d2e4e"/>\r\n    <path id="Path_12010" data-name="Path 12010" d="M703.172,7214.3v5" transform="translate(7924.297 6516.829) rotate(90)" fill="none" stroke="#162e4c" stroke-width="1"/>\r\n    <path id="Path_12011" data-name="Path 12011" d="M703.172,7214.3v5" transform="translate(-6516.297 7923.172) rotate(-90)" fill="none" stroke="#162e4c" stroke-width="1"/>\r\n    <path id="Polygon_403" data-name="Polygon 403" d="M3,0,6,3H0Z" transform="translate(712 7217) rotate(90)" fill="#0d2e4e"/>\r\n    <path id="Polygon_404" data-name="Polygon 404" d="M3,0,6,3H0Z" transform="translate(696 7223) rotate(-90)" fill="#0d2e4e"/>\r\n  </g>\r\n</svg>\r\n'},99084:e=>{e.exports='<svg id="Component_186_3" data-name="Component 186 – 3" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">\r\n  <rect id="Rectangle_6381" data-name="Rectangle 6381" width="16" height="16" fill="none"/>\r\n  <line id="Line_39" data-name="Line 39" x1="6.5" transform="translate(2 8.5)" fill="none" stroke="#162e4c" stroke-width="1"/>\r\n  <line id="Line_215" data-name="Line 215" y2="12" transform="translate(14 4.5) rotate(90)" fill="none" stroke="#162e4c" stroke-width="1"/>\r\n  <line id="Line_216" data-name="Line 216" y2="12" transform="translate(14 12.5) rotate(90)" fill="none" stroke="#162e4c" stroke-width="1"/>\r\n</svg>\r\n'},14992:e=>{e.exports='<svg id="Icon_d6_16x16" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">\r\n  <g id="Group_8060" data-name="Group 8060" transform="translate(443.494 617.718)">\r\n    <path id="Path_7426" data-name="Path 7426" d="M-434.241-610.29h0a3.835,3.835,0,0,1-3.917,2.5c-2.177,0-3.115-3.378-4.236-3.351v7.423h14v-11.5c-3.376,0-4.447,2.218-5.847,4.929" transform="translate(-0.018)" fill="#ff4013"/>\r\n  </g>\r\n  <rect id="Rectangle_7514" data-name="Rectangle 7514" width="16" height="16" fill="none"/>\r\n</svg>\r\n'},39417:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="72" height="64" viewBox="0 0 72 64">\r\n  <g id="Group_16036" data-name="Group 16036" transform="translate(-446 -351)">\r\n    <g id="Group_16035" data-name="Group 16035" transform="translate(0 -1.5)">\r\n      <path id="Path_11700" data-name="Path 11700" d="M279.923,2067v-31s-3.485,16-12,16-5.926-9-15-9-10.1,18-18,18-11-25-11-25v31Z" transform="translate(230.078 -1672.5)" fill="#ff4013"/>\r\n      <g id="Group_16034" data-name="Group 16034" transform="translate(454 398.5)">\r\n        <rect id="Rectangle_40917" data-name="Rectangle 40917" width="8" height="6" rx="3" fill="#d1d1d1"/>\r\n        <rect id="Rectangle_40918" data-name="Rectangle 40918" width="8" height="6" rx="3" transform="translate(16)" fill="#d1d1d1"/>\r\n        <rect id="Rectangle_40919" data-name="Rectangle 40919" width="8" height="6" rx="3" transform="translate(32)" fill="#d1d1d1"/>\r\n        <rect id="Rectangle_40920" data-name="Rectangle 40920" width="8" height="6" rx="3" transform="translate(48)" fill="#d1d1d1"/>\r\n      </g>\r\n    </g>\r\n    <rect id="Rectangle_40921" data-name="Rectangle 40921" width="72" height="64" rx="6" transform="translate(446 351)" fill="none"/>\r\n  </g>\r\n</svg>\r\n'},10007:e=>{e.exports='<svg id="Icon_d1_16x16" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">\r\n  <g id="Group_8058" data-name="Group 8058" transform="translate(530.688 580.22)">\r\n    <path id="Path_7420" data-name="Path 7420" d="M-531.087-569.14h3v5h-3Z" transform="translate(1.399 -2.079)" fill="#0058ef"/>\r\n    <path id="Path_11907" data-name="Path 11907" d="M-531.087-569.14h3v3h-3Z" transform="translate(6.399 -0.079)" fill="#0058ef"/>\r\n    <path id="Path_11904" data-name="Path 11904" d="M-531.087-569.14h3v6h-3Z" transform="translate(1.399 -9.079)" fill="#ff4013"/>\r\n    <path id="Path_11908" data-name="Path 11908" d="M-531.087-569.14h3v6h-3Z" transform="translate(6.399 -7.079)" fill="#ff4013"/>\r\n    <path id="Path_11906" data-name="Path 11906" d="M-531.087-569.14h3v3h-3Z" transform="translate(11.399 -10.08)" fill="#ff4013"/>\r\n    <path id="Path_7421" data-name="Path 7421" d="M-519.087-579.14h3v9h-3Z" transform="translate(-0.601 3.92)" fill="#0058ef"/>\r\n  </g>\r\n  <rect id="Rectangle_7516" data-name="Rectangle 7516" width="16" height="16" fill="none"/>\r\n</svg>\r\n'},13009:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="72" height="64" viewBox="0 0 72 64">\r\n  <g id="Group_16019" data-name="Group 16019" transform="translate(-607 -149)">\r\n    <g id="Group_16017" data-name="Group 16017" transform="translate(618 162.788)">\r\n      <rect id="Rectangle_40880" data-name="Rectangle 40880" width="15" height="8" transform="translate(0 29) rotate(-90)" fill="#0058ef"/>\r\n      <rect id="Rectangle_40881" data-name="Rectangle 40881" width="5" height="8" transform="translate(14 29) rotate(-90)" fill="#0058ef"/>\r\n      <rect id="Rectangle_40882" data-name="Rectangle 40882" width="20" height="8" transform="translate(28 29) rotate(-90)" fill="#0058ef"/>\r\n      <rect id="Rectangle_40883" data-name="Rectangle 40883" width="12" height="8" transform="translate(42 29) rotate(-90)" fill="#0058ef"/>\r\n      <rect id="Rectangle_40884" data-name="Rectangle 40884" width="13" height="8" transform="translate(0 13) rotate(-90)" fill="#ff4013"/>\r\n      <rect id="Rectangle_40885" data-name="Rectangle 40885" width="19" height="8" transform="translate(14 23) rotate(-90)" fill="#ff4013"/>\r\n      <rect id="Rectangle_40886" data-name="Rectangle 40886" width="8" height="8" transform="translate(28 8) rotate(-90)" fill="#ff4013"/>\r\n      <rect id="Rectangle_40887" data-name="Rectangle 40887" width="12" height="8" transform="translate(42 16) rotate(-90)" fill="#ff4013"/>\r\n    </g>\r\n    <g id="Group_16018" data-name="Group 16018" transform="translate(618 196.483)">\r\n      <rect id="Rectangle_40888" data-name="Rectangle 40888" width="8" height="6.194" rx="3" fill="#d1d1d1"/>\r\n      <rect id="Rectangle_40889" data-name="Rectangle 40889" width="8" height="6.194" rx="3" transform="translate(14)" fill="#d1d1d1"/>\r\n      <rect id="Rectangle_40890" data-name="Rectangle 40890" width="8" height="6.194" rx="3" transform="translate(28)" fill="#d1d1d1"/>\r\n      <rect id="Rectangle_40891" data-name="Rectangle 40891" width="8" height="6.194" rx="3" transform="translate(42)" fill="#d1d1d1"/>\r\n    </g>\r\n    <rect id="Rectangle_40892" data-name="Rectangle 40892" width="72" height="64" transform="translate(607 149)" fill="none"/>\r\n  </g>\r\n</svg>\r\n'},35974:e=>{e.exports='<svg id="Icon_d3_16x16" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">\r\n  <g id="Icon_d3_16x16-2" data-name="Icon_d3_16x16" transform="translate(613.219 -455.729) rotate(-90)">\r\n    <g id="Group_8053" data-name="Group 8053" transform="translate(1.543 1.5)">\r\n      <path id="Subtraction_789" data-name="Subtraction 789" d="M826.77-4130.124h-3.021a4.005,4.005,0,0,0-3.575-3.575v-3.021a7.109,7.109,0,0,1,4.535,2.062,7.1,7.1,0,0,1,2.06,4.533Z" transform="translate(-1285 3523)" fill="#ff4013"/>\r\n      <path id="Subtraction_791" data-name="Subtraction 791" d="M816.5-4125.093h0a7.156,7.156,0,0,1-1.731-4.617,6.974,6.974,0,0,1,1.907-4.8,7.068,7.068,0,0,1,4.69-2.206v3.021a3.987,3.987,0,0,0-2.555,1.288,3.991,3.991,0,0,0-1.041,2.691,3.96,3.96,0,0,0,.854,2.47l-2.121,2.154Z" transform="translate(-1287 3523)" fill="#ff6b00"/>\r\n      <path id="Subtraction_790" data-name="Subtraction 790" d="M819.762-4124.719a6.96,6.96,0,0,1-4.617-1.731l2.136-2.136a3.959,3.959,0,0,0,2.488.868,3.989,3.989,0,0,0,2.691-1.041,3.987,3.987,0,0,0,1.289-2.554h3.021a7.066,7.066,0,0,1-2.206,4.689A6.979,6.979,0,0,1,819.762-4124.719Z" transform="translate(-1285 3525)" fill="#0061d9"/>\r\n    </g>\r\n    <rect id="Rectangle_7510" data-name="Rectangle 7510" width="16" height="16" transform="translate(-471.729 -613.219)" fill="none"/>\r\n  </g>\r\n</svg>\r\n'},21542:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="72" height="64" viewBox="0 0 72 64">\r\n  <defs>\r\n    <clipPath id="clip-path">\r\n      <path id="Exclusion_42" data-name="Exclusion 42" d="M20,0A20,20,0,0,0,5.861,34.144,20,20,0,0,0,34.145,5.858,19.865,19.865,0,0,0,20,0Zm0,32A12,12,0,1,1,32,20,12.012,12.012,0,0,1,20,32Z" fill="#ff4013"/>\r\n    </clipPath>\r\n    <linearGradient id="linear-gradient" x1="0.5" y1="1" x2="0.5" gradientUnits="objectBoundingBox">\r\n      <stop offset="0" stop-color="#ff9800"/>\r\n      <stop offset="1" stop-color="#ff5700"/>\r\n    </linearGradient>\r\n    <linearGradient id="linear-gradient-2" x1="0.5" y1="1" x2="0.5" gradientUnits="objectBoundingBox">\r\n      <stop offset="0" stop-color="#0065ea"/>\r\n      <stop offset="1" stop-color="#005bc2"/>\r\n    </linearGradient>\r\n  </defs>\r\n  <g id="Group_16022" data-name="Group 16022" transform="translate(-606 -247)">\r\n    <g id="Group_16021" data-name="Group 16021" transform="translate(623.068 257.981) rotate(3)">\r\n      <g id="Mask_Group_15162" data-name="Mask Group 15162" transform="translate(0 40.002) rotate(-90)" clip-path="url(#clip-path)">\r\n        <path id="Path_11693" data-name="Path 11693" d="M5.886,24.256l24.489-14.8L1.718.334-14.873,14.3Z" transform="translate(27.033 -3.951) rotate(30)" fill="#ff4013" stroke="#fff" stroke-width="1"/>\r\n        <path id="Path_11694" data-name="Path 11694" d="M19.743,22.962,29.7,2.2,0,2.9Z" transform="translate(-9.755 25.615) rotate(-60)" stroke="#fff" stroke-width="1" fill="url(#linear-gradient)"/>\r\n        <path id="Path_11695" data-name="Path 11695" d="M6.3,20.118,37.387,23,49.671,6.272,23,.1,0,0Z" transform="matrix(0.966, -0.259, 0.259, 0.966, -2.243, 25.853)" stroke="#fff" stroke-width="1" fill="url(#linear-gradient-2)"/>\r\n      </g>\r\n    </g>\r\n    <rect id="Rectangle_40895" data-name="Rectangle 40895" width="72" height="64" rx="6" transform="translate(606 247)" fill="none"/>\r\n  </g>\r\n</svg>\r\n'},31942:e=>{e.exports='<svg id="Icon_d2_16x16" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">\r\n  <g id="Icon_d2_16x16-2" data-name="Icon_d2_16x16" transform="translate(-569.219 529.687) rotate(90)">\r\n    <g id="Group_8058" data-name="Group 8058" transform="translate(1.001 -3.999)">\r\n      <rect id="Rectangle_44591" data-name="Rectangle 44591" width="3" height="10" transform="translate(-529.688 -576.22)" fill="#22ac14"/>\r\n      <rect id="Rectangle_44592" data-name="Rectangle 44592" width="3" height="6" transform="translate(-524.688 -572.22)" fill="#22ac14"/>\r\n      <rect id="Rectangle_44593" data-name="Rectangle 44593" width="3" height="14" transform="translate(-519.688 -580.22)" fill="#22ac14"/>\r\n    </g>\r\n    <rect id="Rectangle_7516" data-name="Rectangle 7516" width="16" height="16" transform="translate(-529.687 -585.219)" fill="none"/>\r\n  </g>\r\n</svg>\r\n'},31332:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="72" height="64" viewBox="0 0 72 64">\r\n  <g id="Group_14568" data-name="Group 14568" transform="translate(-607 -149)">\r\n    <g id="Group_14569" data-name="Group 14569" transform="translate(3 -29)">\r\n      <rect id="Rectangle_21188" data-name="Rectangle 21188" width="29" height="6" transform="translate(631 195)" fill="#22ac14"/>\r\n      <rect id="Rectangle_21189" data-name="Rectangle 21189" width="18" height="6" transform="translate(631 207)" fill="#22ac14"/>\r\n      <rect id="Rectangle_21190" data-name="Rectangle 21190" width="35" height="6" transform="translate(631 219)" fill="#22ac14"/>\r\n      <rect id="Rectangle_21187" data-name="Rectangle 21187" width="10" height="6" rx="3" transform="translate(615 195)" fill="#d1d1d1"/>\r\n      <rect id="Rectangle_21187-2" data-name="Rectangle 21187" width="10" height="6" rx="3" transform="translate(615 207)" fill="#d1d1d1"/>\r\n      <rect id="Rectangle_21187-3" data-name="Rectangle 21187" width="10" height="6" rx="3" transform="translate(615 219)" fill="#d1d1d1"/>\r\n    </g>\r\n    <rect id="Rectangle_24756" data-name="Rectangle 24756" width="72" height="64" rx="6" transform="translate(607 149)" fill="none"/>\r\n  </g>\r\n</svg>\r\n'},44442:e=>{e.exports='<svg id="Icon_d5_16x16" xmlns="http://www.w3.org/2000/svg" width="16.265" height="16" viewBox="0 0 16.265 16">\r\n  <g id="Group_8067" data-name="Group 8067" transform="translate(560.687 615.219)">\r\n    <path id="Path_11909" data-name="Path 11909" d="M-560.687-605.37h4l3,3,2-7,3,1,2-6" transform="translate(1 1.151)" fill="rgba(0,0,0,0)" stroke="#ff4013" stroke-linecap="round" stroke-width="2"/>\r\n  </g>\r\n  <rect id="Rectangle_7511" data-name="Rectangle 7511" width="16" height="16" fill="none"/>\r\n</svg>\r\n'},63112:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="74.518" height="64" viewBox="0 0 74.518 64">\r\n  <defs>\r\n    <filter id="Path_11696" x="0" y="3.614" width="74.518" height="47.109" filterUnits="userSpaceOnUse">\r\n      <feOffset dy="2" input="SourceAlpha"/>\r\n      <feGaussianBlur stdDeviation="3" result="blur"/>\r\n      <feFlood flood-color="#00650a" flood-opacity="0.161"/>\r\n      <feComposite operator="in" in2="blur"/>\r\n      <feComposite in="SourceGraphic"/>\r\n    </filter>\r\n  </defs>\r\n  <g id="Group_16025" data-name="Group 16025" transform="translate(-524.865 -247)">\r\n    <g id="Group_16024" data-name="Group 16024" transform="translate(18.5 -15.999)">\r\n      <g transform="matrix(1, 0, 0, 1, 506.37, 263)" filter="url(#Path_11696)">\r\n        <path id="Path_11696-2" data-name="Path 11696" d="M277.923,2034.991l-11.8,17.729-5.151-7.666L254,2060.991l-4.984-4.842-9.637,2.219-15.452-2.219" transform="translate(-213.79 -2022.99)" fill="none" stroke="#ff4013" stroke-linecap="round" stroke-width="2"/>\r\n      </g>\r\n      <g id="Group_16023" data-name="Group 16023" transform="translate(515.5 309)">\r\n        <rect id="Rectangle_40896" data-name="Rectangle 40896" width="8" height="6" rx="3" fill="#d1d1d1"/>\r\n        <rect id="Rectangle_40897" data-name="Rectangle 40897" width="8" height="6" rx="3" transform="translate(16)" fill="#d1d1d1"/>\r\n        <rect id="Rectangle_40898" data-name="Rectangle 40898" width="8" height="6" rx="3" transform="translate(32)" fill="#d1d1d1"/>\r\n        <rect id="Rectangle_40899" data-name="Rectangle 40899" width="8" height="6" rx="3" transform="translate(48)" fill="#d1d1d1"/>\r\n      </g>\r\n    </g>\r\n    <rect id="Rectangle_40900" data-name="Rectangle 40900" width="72" height="64" rx="6" transform="translate(526 247)" fill="none"/>\r\n  </g>\r\n</svg>\r\n'},61822:e=>{e.exports='<svg id="Icon_d7_16x16" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">\r\n  <circle id="Ellipse_1393" data-name="Ellipse 1393" cx="1.5" cy="1.5" r="1.5" transform="translate(1 6)" fill="#ff4013"/>\r\n  <circle id="Ellipse_2400" data-name="Ellipse 2400" cx="1.5" cy="1.5" r="1.5" transform="translate(12 2)" fill="#ff4013"/>\r\n  <circle id="Ellipse_2396" data-name="Ellipse 2396" cx="1.5" cy="1.5" r="1.5" transform="translate(1 11)" fill="#604edc"/>\r\n  <circle id="Ellipse_2398" data-name="Ellipse 2398" cx="1.5" cy="1.5" r="1.5" transform="translate(12 7)" fill="#604edc"/>\r\n  <circle id="Ellipse_2399" data-name="Ellipse 2399" cx="1.5" cy="1.5" r="1.5" transform="translate(7 11)" fill="#ff4013"/>\r\n  <rect id="Rectangle_7517" data-name="Rectangle 7517" width="16" height="16" fill="none"/>\r\n</svg>\r\n'},32331:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="72.002" height="64" viewBox="0 0 72.002 64">\r\n  <defs>\r\n    <filter id="Ellipse_2927" x="0" y="14" width="24" height="24" filterUnits="userSpaceOnUse">\r\n      <feOffset dy="2" input="SourceAlpha"/>\r\n      <feGaussianBlur stdDeviation="3" result="blur"/>\r\n      <feFlood flood-color="#7120ff" flood-opacity="0.161"/>\r\n      <feComposite operator="in" in2="blur"/>\r\n      <feComposite in="SourceGraphic"/>\r\n    </filter>\r\n    <filter id="Ellipse_2928" x="15.002" y="28" width="24" height="24" filterUnits="userSpaceOnUse">\r\n      <feOffset dy="2" input="SourceAlpha"/>\r\n      <feGaussianBlur stdDeviation="3" result="blur-2"/>\r\n      <feFlood flood-color="#7120ff" flood-opacity="0.161"/>\r\n      <feComposite operator="in" in2="blur-2"/>\r\n      <feComposite in="SourceGraphic"/>\r\n    </filter>\r\n    <filter id="Ellipse_2929" x="48.002" y="15" width="24" height="24" filterUnits="userSpaceOnUse">\r\n      <feOffset dy="2" input="SourceAlpha"/>\r\n      <feGaussianBlur stdDeviation="3" result="blur-3"/>\r\n      <feFlood flood-color="#7120ff" flood-opacity="0.161"/>\r\n      <feComposite operator="in" in2="blur-3"/>\r\n      <feComposite in="SourceGraphic"/>\r\n    </filter>\r\n    <filter id="Ellipse_2930" x="15" y="19" width="24" height="24" filterUnits="userSpaceOnUse">\r\n      <feOffset dy="2" input="SourceAlpha"/>\r\n      <feGaussianBlur stdDeviation="3" result="blur-4"/>\r\n      <feFlood flood-color="#ffb520" flood-opacity="0.161"/>\r\n      <feComposite operator="in" in2="blur-4"/>\r\n      <feComposite in="SourceGraphic"/>\r\n    </filter>\r\n    <filter id="Ellipse_2931" x="32.002" y="28" width="24" height="24" filterUnits="userSpaceOnUse">\r\n      <feOffset dy="2" input="SourceAlpha"/>\r\n      <feGaussianBlur stdDeviation="3" result="blur-5"/>\r\n      <feFlood flood-color="#7120ff" flood-opacity="0.161"/>\r\n      <feComposite operator="in" in2="blur-5"/>\r\n      <feComposite in="SourceGraphic"/>\r\n    </filter>\r\n    <filter id="Ellipse_2932" x="48" y="25" width="24" height="24" filterUnits="userSpaceOnUse">\r\n      <feOffset dy="2" input="SourceAlpha"/>\r\n      <feGaussianBlur stdDeviation="3" result="blur-6"/>\r\n      <feFlood flood-color="#7120ff" flood-opacity="0.161"/>\r\n      <feComposite operator="in" in2="blur-6"/>\r\n      <feComposite in="SourceGraphic"/>\r\n    </filter>\r\n  </defs>\r\n  <g id="Group_16033" data-name="Group 16033" transform="translate(-525.998 -351)">\r\n    <g id="Group_16032" data-name="Group 16032" transform="translate(-22.502)">\r\n      <g id="Group_16031" data-name="Group 16031" transform="translate(556.502 397)">\r\n        <rect id="Rectangle_40910" data-name="Rectangle 40910" width="8" height="6" rx="3" fill="#d1d1d1"/>\r\n        <rect id="Rectangle_40911" data-name="Rectangle 40911" width="8" height="6" rx="3" transform="translate(16)" fill="#d1d1d1"/>\r\n        <rect id="Rectangle_40912" data-name="Rectangle 40912" width="8" height="6" rx="3" transform="translate(32)" fill="#d1d1d1"/>\r\n        <rect id="Rectangle_40913" data-name="Rectangle 40913" width="8" height="6" rx="3" transform="translate(48)" fill="#d1d1d1"/>\r\n      </g>\r\n      <rect id="Rectangle_40914" data-name="Rectangle 40914" width="14" height="6" rx="3" transform="translate(598.5 363)" fill="#d1d1d1"/>\r\n      <rect id="Rectangle_40915" data-name="Rectangle 40915" width="21" height="6" rx="3" transform="translate(573.5 363)" fill="#d1d1d1"/>\r\n      <g transform="matrix(1, 0, 0, 1, 548.5, 351)" filter="url(#Ellipse_2927)">\r\n        <circle id="Ellipse_2927-2" data-name="Ellipse 2927" cx="2" cy="2" r="2" transform="translate(10 22)" fill="#604edc" stroke="#604edc" stroke-linecap="round" stroke-width="2"/>\r\n      </g>\r\n      <g transform="matrix(1, 0, 0, 1, 548.5, 351)" filter="url(#Ellipse_2928)">\r\n        <circle id="Ellipse_2928-2" data-name="Ellipse 2928" cx="2" cy="2" r="2" transform="translate(25 36)" fill="#604edc" stroke="#604edc" stroke-linecap="round" stroke-width="2"/>\r\n      </g>\r\n      <g transform="matrix(1, 0, 0, 1, 548.5, 351)" filter="url(#Ellipse_2929)">\r\n        <circle id="Ellipse_2929-2" data-name="Ellipse 2929" cx="2" cy="2" r="2" transform="translate(58 23)" fill="#ff4013" stroke="#ff4013" stroke-linecap="round" stroke-width="2"/>\r\n      </g>\r\n      <g transform="matrix(1, 0, 0, 1, 548.5, 351)" filter="url(#Ellipse_2930)">\r\n        <circle id="Ellipse_2930-2" data-name="Ellipse 2930" cx="3" cy="3" r="3" transform="translate(24 26)" fill="#ff4013"/>\r\n      </g>\r\n      <g transform="matrix(1, 0, 0, 1, 548.5, 351)" filter="url(#Ellipse_2931)">\r\n        <circle id="Ellipse_2931-2" data-name="Ellipse 2931" cx="2" cy="2" r="2" transform="translate(42 36)" fill="#ff4013" stroke="#ff4013" stroke-linecap="round" stroke-width="2"/>\r\n      </g>\r\n      <g transform="matrix(1, 0, 0, 1, 548.5, 351)" filter="url(#Ellipse_2932)">\r\n        <circle id="Ellipse_2932-2" data-name="Ellipse 2932" cx="2" cy="2" r="2" transform="translate(58 33)" fill="#604edc" stroke="#604edc" stroke-linecap="round" stroke-width="2"/>\r\n      </g>\r\n    </g>\r\n    <rect id="Rectangle_40916" data-name="Rectangle 40916" width="72" height="64" rx="6" transform="translate(526 351)" fill="none"/>\r\n  </g>\r\n</svg>\r\n'},26215:e=>{e.exports='<svg id="Icon_d4_16x16" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">\r\n  <g id="Group_8067" data-name="Group 8067" transform="translate(560.687 615.219)">\r\n    <path id="Path_7440" data-name="Path 7440" d="M-550.537-615.2c-4.731-.6-3.84,15.355-12,8.078" transform="translate(3.85 3)" fill="none" stroke="#604edc" stroke-linecap="round" stroke-width="2"/>\r\n    <path id="Path_7441" data-name="Path 7441" d="M-562.537-609.554c7.048-7.875,8.508,6.168,12,5.578" transform="translate(3.85 1.739)" fill="none" stroke="#ff7043" stroke-linecap="round" stroke-width="2"/>\r\n  </g>\r\n  <rect id="Rectangle_7511" data-name="Rectangle 7511" width="16" height="16" fill="none"/>\r\n</svg>\r\n'},23708:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="72" height="64" viewBox="0 0 72 64">\r\n  <g id="Group_16028" data-name="Group 16028" transform="translate(-446 -247)">\r\n    <g id="Group_16027" data-name="Group 16027" transform="translate(-16.502 3.358)">\r\n      <path id="Path_11697" data-name="Path 11697" d="M223.923,2054.216c7.743,1.777,8.107,8.087,16.244,7.764s17.059-15.828,25.593-15.828,11.538-8.474,14.163-8.151" transform="translate(246.578 -1781.35)" fill="none" stroke="#604edc" stroke-linecap="round" stroke-width="2"/>\r\n      <path id="Path_11698" data-name="Path 11698" d="M223.923,2062.226s6.6-11.347,15.306-11.347,16.55,9.164,26.446,4.222,14.25-6.875,14.25-6.875" transform="translate(246.578 -1783.585)" fill="none" stroke="#ff7043" stroke-linecap="round" stroke-width="2"/>\r\n      <g id="Group_16026" data-name="Group 16026" transform="translate(470.5 289.642)">\r\n        <rect id="Rectangle_40901" data-name="Rectangle 40901" width="8" height="6" rx="3" fill="#d1d1d1"/>\r\n        <rect id="Rectangle_40902" data-name="Rectangle 40902" width="8" height="6" rx="3" transform="translate(16)" fill="#d1d1d1"/>\r\n        <rect id="Rectangle_40903" data-name="Rectangle 40903" width="8" height="6" rx="3" transform="translate(32)" fill="#d1d1d1"/>\r\n        <rect id="Rectangle_40904" data-name="Rectangle 40904" width="8" height="6" rx="3" transform="translate(48)" fill="#d1d1d1"/>\r\n      </g>\r\n    </g>\r\n    <rect id="Rectangle_40905" data-name="Rectangle 40905" width="72" height="64" rx="6" transform="translate(446 247)" fill="none"/>\r\n  </g>\r\n</svg>\r\n'},37078:e=>{e.exports='<svg id="Icon_d8_16x16" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">\r\n  <g id="Group_8059" data-name="Group 8059" transform="translate(563.553 580.106)">\r\n    <path id="Path_7422" data-name="Path 7422" d="M-548.687-579.14l-1.73,5h-10.539l-1.73-5Z" transform="translate(0.134 0.034)" fill="#ff4013"/>\r\n    <path id="Path_7423" data-name="Path 7423" d="M-551.387-565.14l-1.065,3h-4.87l-1.065-3Z" transform="translate(-0.666 -2.966)" fill="#22ac14"/>\r\n    <path id="Path_7424" data-name="Path 7424" d="M-550.187-571.14l-1.328,4h-7.344l-1.328-4Z" transform="translate(-0.366 -1.966)" fill="#0091ea"/>\r\n  </g>\r\n  <rect id="Rectangle_7515" data-name="Rectangle 7515" width="16" height="16" fill="none"/>\r\n</svg>\r\n'},90566:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="72" height="64" viewBox="0 0 72 64">\r\n  <defs>\r\n    <clipPath id="clip-clip-path-tsfunnel">\r\n      <path id="Path_10329" data-name="Path 10329" d="M34,19,28,49H7L0,19Z" transform="translate(0 -19.579)" fill="#fff" stroke="#707070" stroke-width="1"/>\r\n    </clipPath>\r\n  </defs>\r\n  <g id="Group_12147" data-name="Group 12147" transform="translate(-606 -351)">\r\n    <g id="Mask_Group_417" data-name="Mask Group 417" transform="translate(625 368.579)" clip-path="url(#clip-clip-path-tsfunnel)">\r\n      <rect id="Rectangle_24746" data-name="Rectangle 24746" width="36" height="8" transform="translate(-0.996 1.422)" fill="#e800f1"/>\r\n      <rect id="Rectangle_24747" data-name="Rectangle 24747" width="36" height="8" transform="translate(-0.996 10.422)" fill="#0091ea"/>\r\n      <rect id="Rectangle_24748" data-name="Rectangle 24748" width="36" height="8" transform="translate(-0.996 19.422)" fill="#22ac14"/>\r\n    </g>\r\n    <rect id="Rectangle_24760" data-name="Rectangle 24760" width="72" height="64" rx="6" transform="translate(606 351)" fill="none"/>\r\n  </g>\r\n</svg>\r\n'},91258:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="88" height="88" viewBox="0 0 88 88"><defs><style>.a{fill:url(#a);}.b{opacity:0.32;}.c{clip-path:url(#b);}.d,.e,.g{fill:none;}.d{stroke:#fff;stroke-width:17px;}.d,.e{opacity:0.08;}.f,.h{stroke:none;}.h{fill:#fff;}</style><radialGradient id="a" cx="0" cy="1.041" r="1.492" gradientTransform="translate(-0.654 0.413) rotate(-49.36)" gradientUnits="objectBoundingBox"><stop offset="0" stop-color="#09f"/><stop offset="0.584" stop-color="#a033ff"/><stop offset="0.894" stop-color="#ff5280"/><stop offset="1" stop-color="#ff7061"/></radialGradient><clipPath id="b"><rect class="a" width="88" height="88" rx="8" transform="translate(0.015)"/></clipPath></defs><g class="b" transform="translate(-6099 16466)"><g class="c" transform="translate(6098.985 -16466)"><g class="d" transform="translate(38.015 4)"><rect class="f" width="81" height="80"/><rect class="g" x="8.5" y="8.5" width="64" height="63"/></g><g class="d" transform="translate(-21.985 -16)"><ellipse class="f" cx="41" cy="41.5" rx="41" ry="41.5"/><ellipse class="g" cx="41" cy="41.5" rx="32.5" ry="33"/></g><g class="e" transform="translate(80.83 38.361) rotate(90)"><path class="f" d="M35.638,0,71.277,61.815H0Z"/><path class="h" d="M 35.63842010498047 34.0362663269043 L 29.42396926879883 44.81531524658203 L 41.85287475585938 44.81531524658203 L 35.63842010498047 34.0362663269043 M 35.63842010498047 0 L 71.27684020996094 61.81531524658203 L 0 61.81531524658203 L 35.63842010498047 0 Z"/></g></g></g></svg>'},27859:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="88" height="88" viewBox="0 0 88 88"><defs><style>.a{fill:url(#a);}.b{opacity:0.32;}.c{clip-path:url(#b);}.d,.e,.g{fill:none;}.d{stroke:#fff;stroke-width:17px;}.d,.e{opacity:0.08;}.f,.h{stroke:none;}.h{fill:#fff;}</style><radialGradient id="a" cx="0" cy="1.041" r="1.492" gradientTransform="translate(-0.654 0.413) rotate(-49.36)" gradientUnits="objectBoundingBox"><stop offset="0" stop-color="#09f"/><stop offset="0.584" stop-color="#a033ff"/><stop offset="0.894" stop-color="#ff5280"/><stop offset="1" stop-color="#ff7061"/></radialGradient><clipPath id="b"><rect class="a" width="88" height="88" rx="8" transform="translate(0.015)"/></clipPath></defs><g class="b" transform="translate(-5549 16316)"><g class="c" transform="translate(5548.985 -16316)"><g class="d" transform="translate(16.015 61)"><rect class="f" width="81" height="80"/><rect class="g" x="8.5" y="8.5" width="64" height="63"/></g><g class="d" transform="translate(-24.985)"><ellipse class="f" cx="41" cy="41.5" rx="41" ry="41.5"/><ellipse class="g" cx="41" cy="41.5" rx="32.5" ry="33"/></g><g class="e" transform="translate(105.83 4.361) rotate(90)"><path class="f" d="M35.638,0,71.277,61.815H0Z"/><path class="h" d="M 35.63842010498047 34.0362663269043 L 29.42396926879883 44.81531524658203 L 41.85287475585938 44.81531524658203 L 35.63842010498047 34.0362663269043 M 35.63842010498047 0 L 71.27684020996094 61.81531524658203 L 0 61.81531524658203 L 35.63842010498047 0 Z"/></g></g></g></svg>'},46523:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="88" height="88" viewBox="0 0 88 88"><defs><style>.a{fill:url(#a);}.b{opacity:0.32;clip-path:url(#b);}.c,.d,.f{fill:none;}.c{stroke:#fff;stroke-width:17px;}.c,.d{opacity:0.08;}.e,.g{stroke:none;}.g{fill:#fff;}</style><radialGradient id="a" cx="0" cy="1.041" r="1.492" gradientTransform="translate(-0.654 0.413) rotate(-49.36)" gradientUnits="objectBoundingBox"><stop offset="0" stop-color="#09f"/><stop offset="0.584" stop-color="#a033ff"/><stop offset="0.894" stop-color="#ff5280"/><stop offset="1" stop-color="#ff7061"/></radialGradient><clipPath id="b"><rect class="a" width="88" height="88" rx="8" transform="translate(0.015)"/></clipPath></defs><g class="b" transform="translate(-0.015)"><g class="c" transform="translate(16.015)"><rect class="e" width="81" height="80"/><rect class="f" x="8.5" y="8.5" width="64" height="63"/></g><g class="c" transform="translate(-12.985 -20)"><ellipse class="e" cx="41" cy="41.5" rx="41" ry="41.5"/><ellipse class="f" cx="41" cy="41.5" rx="32.5" ry="33"/></g><g class="d" transform="translate(69.015 52.361) rotate(90)"><path class="e" d="M35.638,0,71.277,61.815H0Z"/><path class="g" d="M 35.63842010498047 34.0362663269043 L 29.42396926879883 44.81531524658203 L 41.85287475585938 44.81531524658203 L 35.63842010498047 34.0362663269043 M 35.63842010498047 0 L 71.27684020996094 61.81531524658203 L 0 61.81531524658203 L 35.63842010498047 0 Z"/></g></g></svg>'},78067:e=>{e.exports='<svg id="Component_3013_78" data-name="Component 3013 – 78" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">\r\n\t<circle id="Ellipse_2192" data-name="Ellipse 2192" cx="5" cy="5" r="5" transform="translate(3 3)" fill="#000"/>\r\n\t<rect id="Rectangle_44619" data-name="Rectangle 44619" width="16" height="16" fill="none"/>\r\n</svg>\r\n'},39582:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="72" height="64" viewBox="0 0 72 64">\r\n  <defs>\r\n    <clipPath id="clip-path-funnel">\r\n      <path id="Path_11699" data-name="Path 11699" d="M34,19,28,49H7L0,19Z" transform="translate(0 -19.579)" fill="#fff" stroke="#707070" stroke-width="1"/>\r\n    </clipPath>\r\n  </defs>\r\n  <g id="Group_16030" data-name="Group 16030" transform="translate(-606 -351)">\r\n    <g id="Mask_Group_15163" data-name="Mask Group 15163" transform="translate(625 368.579)" clip-path="url(#clip-path-funnel)">\r\n      <rect id="Rectangle_40906" data-name="Rectangle 40906" width="36" height="8" transform="translate(-0.996 1.422)" fill="#ff4013"/>\r\n      <rect id="Rectangle_40907" data-name="Rectangle 40907" width="36" height="8" transform="translate(-0.996 10.422)" fill="#0091ea"/>\r\n      <rect id="Rectangle_40908" data-name="Rectangle 40908" width="36" height="8" transform="translate(-0.996 19.422)" fill="#22ac14"/>\r\n    </g>\r\n    <rect id="Rectangle_40909" data-name="Rectangle 40909" width="72" height="64" rx="6" transform="translate(606 351)" fill="none"/>\r\n  </g>\r\n</svg>\r\n'},17185:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="72" height="64" viewBox="0 0 72 64">\r\n  <defs>\r\n    <clipPath id="clip-path-sales-funnel">\r\n      <path id="Path_11701" data-name="Path 11701" d="M34,19,28,49H7L0,19Z" transform="translate(0 -19.579)" fill="#fff" stroke="#707070" stroke-width="1"/>\r\n    </clipPath>\r\n    <filter id="Ellipse_2933" x="30.004" y="27" width="34" height="34" filterUnits="userSpaceOnUse">\r\n      <feOffset dy="3" input="SourceAlpha"/>\r\n      <feGaussianBlur stdDeviation="3" result="blur"/>\r\n      <feFlood flood-color="#0058ef" flood-opacity="0.161"/>\r\n      <feComposite operator="in" in2="blur"/>\r\n      <feComposite in="SourceGraphic"/>\r\n    </filter>\r\n  </defs>\r\n  <g id="Group_16038" data-name="Group 16038" transform="translate(-446 -455)">\r\n    <g id="Group_16037" data-name="Group 16037">\r\n      <g id="Mask_Group_15164" data-name="Mask Group 15164" transform="translate(465 472.579)" clip-path="url(#clip-path-sales-funnel)">\r\n        <rect id="Rectangle_40922" data-name="Rectangle 40922" width="36" height="8" transform="translate(-0.996 1.422)" fill="#ff4013"/>\r\n        <rect id="Rectangle_40923" data-name="Rectangle 40923" width="36" height="8" transform="translate(-0.996 10.422)" fill="#0091ea"/>\r\n        <rect id="Rectangle_40924" data-name="Rectangle 40924" width="36" height="8" transform="translate(-0.996 19.422)" fill="#22ac14"/>\r\n      </g>\r\n      <g transform="matrix(1, 0, 0, 1, 446, 455)" filter="url(#Ellipse_2933)">\r\n        <g id="Ellipse_2933-2" data-name="Ellipse 2933" transform="translate(39 33)" fill="#004fd8" stroke="#fff" stroke-width="1">\r\n          <circle cx="8" cy="8" r="8" stroke="none"/>\r\n          <circle cx="8" cy="8" r="7.5" fill="none"/>\r\n        </g>\r\n      </g>\r\n      <g id="_25228" data-name="25228" transform="translate(367.551 490.542)">\r\n        <path id="Path_11702" data-name="Path 11702" d="M129.051,6.646a2.054,2.054,0,0,0-.22-.466,1.649,1.649,0,0,0-.371-.387,4.379,4.379,0,0,0-.434-.3,4.439,4.439,0,0,0-.529-.259q-.336-.143-.532-.213t-.567-.192q-.329-.11-.49-.167t-.423-.165a2.593,2.593,0,0,1-.392-.189,3.026,3.026,0,0,1-.277-.2.7.7,0,0,1-.207-.253.714.714,0,0,1-.059-.292.777.777,0,0,1,.42-.676,2.024,2.024,0,0,1,1.085-.262,2.661,2.661,0,0,1,.6.07,3.453,3.453,0,0,1,.521.158,3.814,3.814,0,0,1,.41.195q.193.107.273.161c.054.037.088.061.1.073a.248.248,0,0,0,.189.043.193.193,0,0,0,.161-.1l.567-.889a.161.161,0,0,0-.035-.232c-.028-.024-.063-.053-.105-.085s-.133-.091-.273-.177a3.522,3.522,0,0,0-.444-.228,4.92,4.92,0,0,0-.609-.2l-.384-.083-2.3.053-.557.143-.531.319a2.125,2.125,0,0,0-.869,1.742,1.853,1.853,0,0,0,.06.475,2.21,2.21,0,0,0,.147.405,1.471,1.471,0,0,0,.249.353,4.023,4.023,0,0,0,.3.3,2.448,2.448,0,0,0,.375.259q.231.134.4.216t.438.189q.273.107.431.162l.431.152q.378.128.56.2t.462.195a1.969,1.969,0,0,1,.409.228,1.189,1.189,0,0,1,.235.256.559.559,0,0,1,.105.323.824.824,0,0,1-.431.743,1.88,1.88,0,0,1-1,.262,2.8,2.8,0,0,1-.518-.049,3.878,3.878,0,0,1-1.7-.762l-.014-.012a.188.188,0,0,0-.168-.055.228.228,0,0,0-.161.073l-.721.822a.168.168,0,0,0,.014.25q.035.037.122.11t.326.229a4.848,4.848,0,0,0,.518.292,5.091,5.091,0,0,0,.711.271l.377.08,2.3.042.832-.194.589-.572a2.156,2.156,0,0,0,.7-1.605A1.762,1.762,0,0,0,129.051,6.646Z" transform="translate(0 0)" fill="#fff"/>\r\n        <rect id="Rectangle_40925" data-name="Rectangle 40925" width="1" height="11" transform="translate(125.453 -0.542)" fill="#fff"/>\r\n      </g>\r\n    </g>\r\n    <rect id="Rectangle_40926" data-name="Rectangle 40926" width="72" height="64" rx="6" transform="translate(446 455)" fill="none"/>\r\n  </g>\r\n</svg>\r\n'},79743:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="72" height="64" viewBox="0 0 72 64">\r\n  <defs>\r\n    <linearGradient id="linear-gradient" x1="0.5" x2="0.5" y2="1" gradientUnits="objectBoundingBox">\r\n      <stop offset="0" stop-color="#0065ea"/>\r\n      <stop offset="1" stop-color="#005bc2"/>\r\n    </linearGradient>\r\n    <clipPath id="clip-path-gauge-widget">\r\n      <path id="Subtraction_799" data-name="Subtraction 799" d="M44.7,36.165h0l-3.321-2.274a20,20,0,1,0-34.757,0L3.3,36.164a24,24,0,1,1,41.4,0Z" fill="url(#linear-gradient)"/>\r\n    </clipPath>\r\n  </defs>\r\n  <g id="Group_15521" data-name="Group 15521" transform="translate(-526 -144)">\r\n    <rect id="Rectangle_24269" data-name="Rectangle 24269" width="72" height="64" transform="translate(526 144)" fill="none"/>\r\n    <g id="Group_12125" data-name="Group 12125" transform="translate(537.999 157)">\r\n      <g id="Group_12123" data-name="Group 12123" transform="translate(0 0)">\r\n        <g id="Mask_Group_122" data-name="Mask Group 122" transform="translate(0)" clip-path="url(#clip-path-gauge-widget)">\r\n          <path id="Subtraction_793" data-name="Subtraction 793" d="M44.7,36.164h0L41.379,33.89a20,20,0,1,0-34.757,0L3.3,36.163a24,24,0,1,1,41.4,0Z" transform="translate(0 0.001)" fill="#0091ea"/>\r\n          <path id="Polygon_109" data-name="Polygon 109" d="M31,0,62,23H0Z" transform="translate(55.001 22.001) rotate(180)" fill="#df1f26" stroke="#fff" stroke-width="2"/>\r\n          <path id="Polygon_110" data-name="Polygon 110" d="M19,0,38,25H0Z" transform="translate(24.001 3.501) rotate(90)" fill="#c2185b" stroke="#fff" stroke-width="2"/>\r\n          <path id="Polygon_112" data-name="Polygon 112" d="M19,0,38,25H0Z" transform="translate(24.001 41.501) rotate(-90)" fill="#0058ef" stroke="#fff" stroke-width="2"/>\r\n        </g>\r\n        <path id="Union_26" data-name="Union 26" d="M0,1.5A1.5,1.5,0,0,1,2.827.8l18.683.573L2.823,2.209A1.5,1.5,0,0,1,0,1.5Z" transform="translate(23.544 20.001) rotate(31)" fill="#df1f26"/>\r\n      </g>\r\n      <g id="Group_12124" data-name="Group 12124" transform="translate(17.001 34)">\r\n        <g id="Group_9983" data-name="Group 9983" transform="translate(8 0)">\r\n          <line id="Line_1133" data-name="Line 1133" x2="4" transform="translate(0.499)" fill="none" stroke="#0d2e4e" stroke-width="1"/>\r\n          <line id="Line_1175" data-name="Line 1175" x2="4" transform="translate(0.499 4)" fill="none" stroke="#0d2e4e" stroke-width="1"/>\r\n          <line id="Line_1178" data-name="Line 1178" x2="4" transform="translate(0.499 8)" fill="none" stroke="#0d2e4e" stroke-width="1"/>\r\n          <line id="Line_1137" data-name="Line 1137" y1="3" transform="translate(5 0.5)" fill="none" stroke="#0d2e4e" stroke-width="1"/>\r\n          <line id="Line_1177" data-name="Line 1177" y1="3" transform="translate(5 4.5)" fill="none" stroke="#0d2e4e" stroke-width="1"/>\r\n          <line id="Line_1139" data-name="Line 1139" y1="3" transform="translate(0 0.5)" fill="none" stroke="#0d2e4e" stroke-width="1"/>\r\n          <line id="Line_1176" data-name="Line 1176" y1="3" transform="translate(0 4.5)" fill="none" stroke="#0d2e4e" stroke-width="1"/>\r\n        </g>\r\n        <g id="Group_10333" data-name="Group 10333" transform="translate(0 0)">\r\n          <line id="Line_1133-2" data-name="Line 1133" x2="4" transform="translate(0.499)" fill="none" stroke="#0d2e4e" stroke-width="1"/>\r\n          <line id="Line_1175-2" data-name="Line 1175" x2="4" transform="translate(0.499 4)" fill="none" stroke="#0d2e4e" stroke-width="1"/>\r\n          <line id="Line_1178-2" data-name="Line 1178" x2="4" transform="translate(0.499 8)" fill="none" stroke="#0d2e4e" stroke-width="1"/>\r\n          <line id="Line_1137-2" data-name="Line 1137" y1="3" transform="translate(5 0.5)" fill="none" stroke="#0d2e4e" stroke-width="1"/>\r\n          <line id="Line_1177-2" data-name="Line 1177" y1="3" transform="translate(5 4.5)" fill="none" stroke="#0d2e4e" stroke-width="1"/>\r\n          <line id="Line_1139-2" data-name="Line 1139" y1="3" transform="translate(0 0.5)" fill="none" stroke="#0d2e4e" stroke-width="1"/>\r\n          <line id="Line_1176-2" data-name="Line 1176" y1="3" transform="translate(0 4.5)" fill="none" stroke="#0d2e4e" stroke-width="1"/>\r\n        </g>\r\n      </g>\r\n    </g>\r\n  </g>\r\n</svg>\r\n'},44086:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><defs><style>.a{fill:#fff;}.b{fill:none;}</style></defs><g transform="translate(0.55 0.33)"><path class="a" d="M-15951.608,15185.819h-.941a1,1,0,0,1-1-1v-.837a6.1,6.1,0,0,1-1.55-.641l-.789.8a1,1,0,0,1-.689.273,1,1,0,0,1-.688-.273l-.62-.621a1,1,0,0,1,0-1.382l.78-.781a6,6,0,0,1-.713-1.578h-.729a1,1,0,0,1-1-1v-.937a1,1,0,0,1,1-1h.661a5.85,5.85,0,0,1,.681-1.69l-.673-.669a1,1,0,0,1,0-1.382l.62-.621a1,1,0,0,1,.691-.276,1,1,0,0,1,.69.276l.642.642a1.422,1.422,0,0,1,.831-.193h.141l.175,0a2.3,2.3,0,0,0,.571-.059v-1.2a1,1,0,0,1,1-1h.937a1,1,0,0,1,1,1v1.2a1.513,1.513,0,0,0,.49.071c.095,0,.19,0,.278-.011h.008c.1-.006.184-.009.255-.009a1.081,1.081,0,0,1,.606.149l.733-.729a1,1,0,0,1,.689-.276.994.994,0,0,1,.688.276l.62.617a1,1,0,0,1,0,1.382l-.729.729a6.012,6.012,0,0,1,.688,1.63h.7a.993.993,0,0,1,.957,1.01v.941a1,1,0,0,1-1,1h-.7a5.9,5.9,0,0,1-.688,1.643l.729.729a1,1,0,0,1,0,1.382l-.62.621a1,1,0,0,1-.689.273,1,1,0,0,1-.688-.273l-.733-.733a5.894,5.894,0,0,1-1.626.693v.837A1,1,0,0,1-15951.608,15185.819Zm-.441-10.121a2.5,2.5,0,0,0-2.5,2.5,2.5,2.5,0,0,0,2.5,2.5,2.5,2.5,0,0,0,2.5-2.5A2.5,2.5,0,0,0-15952.05,15175.7Z" transform="translate(15959.55 -15170.67)"/></g><rect class="b" width="16" height="16"/></svg>'},83491:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="88" height="88" viewBox="0 0 88 88"><defs><style>.a{fill:url(#a);}.b{opacity:0.32;clip-path:url(#b);}.c,.d,.e,.g{fill:none;}.c,.d{stroke:#fff;}.c{stroke-width:17px;}.c,.d,.e{opacity:0.08;}.d{stroke-width:19px;}.f,.h{stroke:none;}.h{fill:#fff;}</style><radialGradient id="a" cx="0" cy="1.041" r="1.492" gradientTransform="translate(-0.654 0.413) rotate(-49.36)" gradientUnits="objectBoundingBox"><stop offset="0" stop-color="#09f"/><stop offset="0.584" stop-color="#a033ff"/><stop offset="0.894" stop-color="#ff5280"/><stop offset="1" stop-color="#ff7061"/></radialGradient><clipPath id="b"><rect class="a" width="88" height="88" rx="8" transform="translate(0.015)"/></clipPath></defs><g class="b" transform="translate(-0.015)"><g class="c" transform="translate(70.015 3)"><rect class="f" width="81" height="80"/><rect class="g" x="8.5" y="8.5" width="64" height="63"/></g><g class="d" transform="translate(-21.985 -18)"><ellipse class="f" cx="61" cy="61.5" rx="61" ry="61.5"/><ellipse class="g" cx="61" cy="61.5" rx="51.5" ry="52"/></g><g class="e" transform="translate(30.923 7.361) rotate(90)"><path class="f" d="M35.638,0,71.277,61.815H0Z"/><path class="h" d="M 35.63842010498047 34.0362663269043 L 29.42396926879883 44.81531524658203 L 41.85287475585938 44.81531524658203 L 35.63842010498047 34.0362663269043 M 35.63842010498047 0 L 71.27684020996094 61.81531524658203 L 0 61.81531524658203 L 35.63842010498047 0 Z"/></g></g></svg>'},27146:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="72" height="64" viewBox="0 0 72 64">\r\n  <g id="Group_16020" data-name="Group 16020" transform="translate(-446 -144)">\r\n    <rect id="Rectangle_40893" data-name="Rectangle 40893" width="32" height="3" rx="1.5" transform="translate(466 155.373)" fill="#d1d1d1"/>\r\n    <text id="_100" data-name="100" transform="translate(483 188.257)" fill="#ff4013" font-size="22" font-family="Montserrat-Bold, Montserrat" font-weight="700" letter-spacing="-0.022em"><tspan x="-18" y="0">100</tspan></text>\r\n    <rect id="Rectangle_40894" data-name="Rectangle 40894" width="72" height="64" transform="translate(446 144)" fill="none"/>\r\n  </g>\r\n</svg>\r\n'},24678:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">\r\n  <g id="Group_16843" data-name="Group 16843" transform="translate(-7204 1034) rotate(-90)">\r\n    <rect id="Rectangle_6408" data-name="Rectangle 6408" width="16" height="16" transform="translate(1018 7220) rotate(-90)" fill="none"/>\r\n    <path id="Path_6208" data-name="Path 6208" d="M1859.754,240.671h1v6h2l-2.5,3-2.5-3h2Z" transform="translate(779.329 9071.754) rotate(-90)" fill="#0d2e4e"/>\r\n    <path id="Path_11993" data-name="Path 11993" d="M1032,7205.261v14" transform="translate(-0.5 -0.261)" fill="none" stroke="#0d2e4e" stroke-width="1"/>\r\n  </g>\r\n</svg>\r\n'},16678:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">\r\n  <g id="Group_16841" data-name="Group 16841" transform="translate(-1018 -7204)">\r\n    <rect id="Rectangle_6408" data-name="Rectangle 6408" width="16" height="16" transform="translate(1018 7220) rotate(-90)" fill="none"/>\r\n    <path id="Path_6208" data-name="Path 6208" d="M1859.754,240.671h1v6h2l-2.5,3-2.5-3h2Z" transform="translate(779.329 9071.754) rotate(-90)" fill="#0d2e4e"/>\r\n    <path id="Path_11993" data-name="Path 11993" d="M1032,7205.261v14" transform="translate(-0.5 -0.261)" fill="none" stroke="#0d2e4e" stroke-width="1"/>\r\n  </g>\r\n</svg>\r\n'},35603:e=>{e.exports='<svg id="Group_16842" data-name="Group 16842" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">\r\n  <rect id="Rectangle_6408" data-name="Rectangle 6408" width="16" height="16" transform="translate(0 16) rotate(-90)" fill="none"/>\r\n  <path id="Path_6208" data-name="Path 6208" d="M2,9H3V3H5L2.5,0,0,3H2Z" transform="translate(5 10) rotate(-90)" fill="#0d2e4e"/>\r\n  <path id="Path_11993" data-name="Path 11993" d="M1032,7205.261v14" transform="translate(-1029.5 -7204.261)" fill="none" stroke="#0d2e4e" stroke-width="1"/>\r\n</svg>\r\n'},86849:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="88" height="88" viewBox="0 0 88 88"><defs><style>.a{fill:url(#a);}.b{opacity:0.32;clip-path:url(#b);}.c,.d,.f{fill:none;}.c{stroke:#fff;stroke-width:17px;}.c,.d{opacity:0.08;}.e,.g{stroke:none;}.g{fill:#fff;}</style><radialGradient id="a" cx="0" cy="1.041" r="1.492" gradientTransform="translate(-0.654 0.413) rotate(-49.36)" gradientUnits="objectBoundingBox"><stop offset="0" stop-color="#09f"/><stop offset="0.584" stop-color="#a033ff"/><stop offset="0.894" stop-color="#ff5280"/><stop offset="1" stop-color="#ff7061"/></radialGradient><clipPath id="b"><rect class="a" width="88" height="88" rx="8" transform="translate(0.015)"/></clipPath></defs><g class="b" transform="translate(-0.015)"><g class="c" transform="translate(56.015 3)"><rect class="e" width="81" height="80"/><rect class="f" x="8.5" y="8.5" width="64" height="63"/></g><g class="c" transform="translate(3.015 2)"><ellipse class="e" cx="41" cy="41.5" rx="41" ry="41.5"/><ellipse class="f" cx="41" cy="41.5" rx="32.5" ry="33"/></g><g class="d" transform="translate(190.015 -19.909) rotate(90)"><path class="e" d="M67.454,0l67.454,117H0Z"/><path class="g" d="M 67.45408630371094 34.03626251220703 L 29.42395782470703 100 L 105.4842147827148 100 L 67.45408630371094 34.03626251220703 M 67.45408630371094 0 L 134.9081878662109 117 L -1.52587890625e-05 117 L 67.45408630371094 0 Z"/></g></g></svg>'},9311:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="88" height="88" viewBox="0 0 88 88"><defs><style>.a{fill:url(#a);}.b{opacity:0.32;clip-path:url(#b);}.c,.d,.e,.g{fill:none;}.c,.d{stroke:#fff;}.c{stroke-width:17px;}.c,.d,.e{opacity:0.08;}.d{stroke-width:22px;}.f,.h{stroke:none;}.h{fill:#fff;}</style><radialGradient id="a" cx="0" cy="1.041" r="1.492" gradientTransform="translate(-0.654 0.413) rotate(-49.36)" gradientUnits="objectBoundingBox"><stop offset="0" stop-color="#09f"/><stop offset="0.584" stop-color="#a033ff"/><stop offset="0.894" stop-color="#ff5280"/><stop offset="1" stop-color="#ff7061"/></radialGradient><clipPath id="b"><rect class="a" width="88" height="88" rx="8" transform="translate(0.015)"/></clipPath></defs><g class="b" transform="translate(-0.015)"><g class="c" transform="translate(4.015 4)"><rect class="f" width="81" height="80"/><rect class="g" x="8.5" y="8.5" width="64" height="63"/></g><g class="d" transform="translate(54.015 -17)"><ellipse class="f" cx="60" cy="61.5" rx="60" ry="61.5"/><ellipse class="g" cx="60" cy="61.5" rx="49" ry="50.5"/></g><g class="e" transform="translate(33.923 11.361) rotate(90)"><path class="f" d="M12.138,0,24.277,20.815H0Z"/><path class="h" d="M 12.13842010498047 -3.814697265625e-06 L 24.27684020996094 20.81531524658203 L 0 20.81531524658203 L 12.13842010498047 -3.814697265625e-06 Z"/></g></g></svg>'},72144:e=>{e.exports='<svg id="Component_3021_13" data-name="Component 3021 – 13" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">\r\n  <rect id="Rectangle_6428" data-name="Rectangle 6428" width="16" height="16" fill="none"/>\r\n  <path id="Path_6910" data-name="Path 6910" d="M-347,453.292h-5v-5Z" transform="translate(354 -439.293)" fill="#000"/>\r\n  <path id="Path_6911" data-name="Path 6911" d="M-340,446.292v-5h-5Z" transform="translate(354 -439.293)" fill="#000"/>\r\n  <line id="Line_295" data-name="Line 295" y1="4" x2="4" transform="translate(9 3)" fill="none" stroke="#000" stroke-width="1"/>\r\n  <line id="Line_296" data-name="Line 296" y1="4" x2="4" transform="translate(3 9)" fill="none" stroke="#000" stroke-width="1"/>\r\n</svg>\r\n'},44776:e=>{e.exports='<svg id="Component_170_54" data-name="Component 170 – 54" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">\r\n  <g id="Group_7345" data-name="Group 7345" transform="translate(-2064.059 107.242)">\r\n    <rect id="Rectangle_6419" data-name="Rectangle 6419" width="2" height="2" transform="translate(2071.059 -105.242)" fill="#000"/>\r\n    <rect id="Rectangle_6420" data-name="Rectangle 6420" width="2" height="2" transform="translate(2071.059 -100.242)" fill="#000"/>\r\n    <rect id="Rectangle_6421" data-name="Rectangle 6421" width="2" height="2" transform="translate(2071.059 -95.242)" fill="#000"/>\r\n  </g>\r\n  <rect id="Rectangle_6422" data-name="Rectangle 6422" width="16" height="16" fill="none"/>\r\n</svg>\r\n'},60482:e=>{e.exports='<svg id="Component_654_35" data-name="Component 654 – 35" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">\r\n  <rect id="Rectangle_6580" data-name="Rectangle 6580" width="16" height="16" fill="none"/>\r\n  <line id="Line_831" data-name="Line 831" y1="4" x2="4" transform="translate(2 10)" fill="none" stroke="#000" stroke-width="1"/>\r\n  <line id="Line_832" data-name="Line 832" y1="4" x2="4" transform="translate(10 2)" fill="none" stroke="#000" stroke-width="1"/>\r\n  <path id="Path_7086" data-name="Path 7086" d="M-57.433,448.76h-4.5v-4.5Z" transform="translate(70.933 -441.76)" fill="#000"/>\r\n  <path id="Path_7087" data-name="Path 7087" d="M-69.585,451.912h4.5v4.5Z" transform="translate(72.085 -442.912)" fill="#000"/>\r\n</svg>\r\n'},29192:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="88" height="88" viewBox="0 0 88 88"><defs><style>.a{fill:url(#a);}.b{opacity:0.32;clip-path:url(#b);}.c,.d,.f{fill:none;}.c{stroke:#fff;stroke-width:17px;}.c,.d{opacity:0.08;}.e,.g{stroke:none;}.g{fill:#fff;}</style><radialGradient id="a" cx="0" cy="1.041" r="1.492" gradientTransform="translate(-0.654 0.413) rotate(-49.36)" gradientUnits="objectBoundingBox"><stop offset="0" stop-color="#09f"/><stop offset="0.584" stop-color="#a033ff"/><stop offset="0.894" stop-color="#ff5280"/><stop offset="1" stop-color="#ff7061"/></radialGradient><clipPath id="b"><rect class="a" width="88" height="88" rx="8" transform="translate(0.015)"/></clipPath></defs><g class="b" transform="translate(-0.015)"><g class="c" transform="translate(26.015 23)"><rect class="e" width="81" height="80"/><rect class="f" x="8.5" y="8.5" width="64" height="63"/></g><g class="c" transform="translate(-54.985 -33)"><ellipse class="e" cx="41" cy="41.5" rx="41" ry="41.5"/><ellipse class="f" cx="41" cy="41.5" rx="32.5" ry="33"/></g><g class="d" transform="translate(88.015 8.361) rotate(90)"><path class="e" d="M35.638,0,71.277,61.815H0Z"/><path class="g" d="M 35.63842010498047 34.0362663269043 L 29.42396926879883 44.81531524658203 L 41.85287475585938 44.81531524658203 L 35.63842010498047 34.0362663269043 M 35.63842010498047 0 L 71.27684020996094 61.81531524658203 L 0 61.81531524658203 L 35.63842010498047 0 Z"/></g></g></svg>'},1819:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="88" height="88" viewBox="0 0 88 88"><defs><style>.a{fill:url(#a);}.b{opacity:0.32;clip-path:url(#b);}.c,.d,.f{fill:none;}.c{stroke:#fff;stroke-width:17px;}.c,.d{opacity:0.08;}.e,.g{stroke:none;}.g{fill:#fff;}</style><radialGradient id="a" cx="0" cy="1.041" r="1.492" gradientTransform="translate(-0.654 0.413) rotate(-49.36)" gradientUnits="objectBoundingBox"><stop offset="0" stop-color="#09f"/><stop offset="0.584" stop-color="#a033ff"/><stop offset="0.894" stop-color="#ff5280"/><stop offset="1" stop-color="#ff7061"/></radialGradient><clipPath id="b"><rect class="a" width="88" height="88" rx="8" transform="translate(0.015)"/></clipPath></defs><g class="b" transform="translate(-0.015)"><g class="c" transform="translate(56.015 3)"><rect class="e" width="81" height="80"/><rect class="f" x="8.5" y="8.5" width="64" height="63"/></g><g class="c" transform="translate(-53.985 3)"><ellipse class="e" cx="41" cy="41.5" rx="41" ry="41.5"/><ellipse class="f" cx="41" cy="41.5" rx="32.5" ry="33"/></g><g class="d" transform="translate(36.015 8.361) rotate(90)"><path class="e" d="M35.638,0,71.277,61.815H0Z"/><path class="g" d="M 35.63842010498047 34.0362663269043 L 29.42396926879883 44.81531524658203 L 41.85287475585938 44.81531524658203 L 35.63842010498047 34.0362663269043 M 35.63842010498047 0 L 71.27684020996094 61.81531524658203 L 0 61.81531524658203 L 35.63842010498047 0 Z"/></g></g></svg>'},5658:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="88" height="88" viewBox="0 0 88 88"><defs><style>.a{fill:url(#a);}.b{opacity:0.32;clip-path:url(#b);}.c,.d,.f{fill:none;}.c{stroke:#fff;stroke-width:17px;}.c,.d{opacity:0.08;}.e,.g{stroke:none;}.g{fill:#fff;}</style><radialGradient id="a" cx="0" cy="1.041" r="1.492" gradientTransform="translate(-0.654 0.413) rotate(-49.36)" gradientUnits="objectBoundingBox"><stop offset="0" stop-color="#09f"/><stop offset="0.584" stop-color="#a033ff"/><stop offset="0.894" stop-color="#ff5280"/><stop offset="1" stop-color="#ff7061"/></radialGradient><clipPath id="b"><rect class="a" width="88" height="88" rx="8" transform="translate(0.015)"/></clipPath></defs><g class="b" transform="translate(-0.015)"><g class="c" transform="translate(13.015 3)"><rect class="e" width="81" height="80"/><rect class="f" x="8.5" y="8.5" width="64" height="63"/></g><g class="c" transform="translate(58.015 5)"><ellipse class="e" cx="41" cy="41.5" rx="41" ry="41.5"/><ellipse class="f" cx="41" cy="41.5" rx="32.5" ry="33"/></g><g class="d" transform="translate(129.923 10.861) rotate(90)"><path class="e" d="M35.638,0,71.277,61.815H0Z"/><path class="g" d="M 35.63842010498047 34.0362663269043 L 29.42396926879883 44.81531524658203 L 41.85287475585938 44.81531524658203 L 35.63842010498047 34.0362663269043 M 35.63842010498047 0 L 71.27684020996094 61.81531524658203 L 0 61.81531524658203 L 35.63842010498047 0 Z"/></g></g></svg>'},31157:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="88" height="88" viewBox="0 0 88 88"><defs><style>.a{fill:url(#a);}.b{opacity:0.32;clip-path:url(#b);}.c,.d,.e,.g{fill:none;}.c,.d{stroke:#fff;}.c{stroke-width:17px;}.c,.d,.e{opacity:0.08;}.d{stroke-width:23px;}.f,.h{stroke:none;}.h{fill:#fff;}</style><radialGradient id="a" cx="0" cy="1.041" r="1.492" gradientTransform="translate(-0.654 0.413) rotate(-49.36)" gradientUnits="objectBoundingBox"><stop offset="0" stop-color="#09f"/><stop offset="0.584" stop-color="#a033ff"/><stop offset="0.894" stop-color="#ff5280"/><stop offset="1" stop-color="#ff7061"/></radialGradient><clipPath id="b"><rect class="a" width="88" height="88" rx="8" transform="translate(0.015)"/></clipPath></defs><g class="b" transform="translate(-0.015)"><g class="c" transform="translate(4.015 4)"><rect class="f" width="81" height="80"/><rect class="g" x="8.5" y="8.5" width="64" height="63"/></g><g class="d" transform="translate(-105.985 -21)"><ellipse class="f" cx="63.5" cy="64.5" rx="63.5" ry="64.5"/><ellipse class="g" cx="63.5" cy="64.5" rx="52" ry="53"/></g><g class="e" transform="translate(138.923 8.361) rotate(90)"><path class="f" d="M35.638,0,71.277,61.815H0Z"/><path class="h" d="M 35.63842010498047 34.0362663269043 L 29.42396926879883 44.81531524658203 L 41.85287475585938 44.81531524658203 L 35.63842010498047 34.0362663269043 M 35.63842010498047 0 L 71.27684020996094 61.81531524658203 L 0 61.81531524658203 L 35.63842010498047 0 Z"/></g></g></svg>'},8201:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="88" height="88" viewBox="0 0 88 88"><defs><style>.a{fill:url(#a);}.b{opacity:0.32;clip-path:url(#b);}.c,.d,.e,.g{fill:none;}.c,.d{stroke:#fff;}.c{stroke-width:30px;}.c,.d,.e{opacity:0.08;}.d{stroke-width:7px;}.f,.h{stroke:none;}.h{fill:#fff;}</style><radialGradient id="a" cx="0" cy="1.041" r="1.492" gradientTransform="translate(-0.654 0.413) rotate(-49.36)" gradientUnits="objectBoundingBox"><stop offset="0" stop-color="#09f"/><stop offset="0.584" stop-color="#a033ff"/><stop offset="0.894" stop-color="#ff5280"/><stop offset="1" stop-color="#ff7061"/></radialGradient><clipPath id="b"><rect class="a" width="88" height="88" rx="8" transform="translate(0.015)"/></clipPath></defs><g class="b" transform="translate(-0.015)"><g class="c" transform="translate(30.015 -38)"><rect class="f" width="182" height="180"/><rect class="g" x="15" y="15" width="152" height="150"/></g><g class="d" transform="translate(30.015 29)"><ellipse class="f" cx="14.5" cy="15" rx="14.5" ry="15"/><ellipse class="g" cx="14.5" cy="15" rx="11" ry="11.5"/></g><g class="e" transform="translate(75.015 62.958) rotate(90)"><path class="f" d="M29.27,0,58.54,50.77H0Z"/><path class="h" d="M 29.27017021179199 22.02346420288086 L 19.03903961181641 39.76949691772461 L 39.50130081176758 39.76949691772461 L 29.27017021179199 22.02346420288086 M 29.27017021179199 3.814697265625e-06 L 58.54033279418945 50.76949691772461 L 7.62939453125e-06 50.76949691772461 L 29.27017021179199 3.814697265625e-06 Z"/></g><g class="e" transform="translate(75.015 -35.042) rotate(90)"><path class="f" d="M29.27,0,58.54,50.77H0Z"/><path class="h" d="M 29.27017021179199 22.02346420288086 L 19.03903961181641 39.76949691772461 L 39.50130081176758 39.76949691772461 L 29.27017021179199 22.02346420288086 M 29.27017021179199 3.814697265625e-06 L 58.54033279418945 50.76949691772461 L 7.62939453125e-06 50.76949691772461 L 29.27017021179199 3.814697265625e-06 Z"/></g></g></svg>'},89447:e=>{e.exports='<svg id="Component_211_1" data-name="Component 211 – 1" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">\r\n  <g id="Group_7552" data-name="Group 7552" transform="translate(530.326 -406.05)">\r\n    <g id="Path_7008" data-name="Path 7008" fill="none">\r\n      <path d="M-519.789,420.05h-5.017l-4.52-12h14Z" stroke="none"/>\r\n      <path d="M -520.484130859375 419.05029296875 L -516.7650146484375 409.05029296875 L -527.8809814453125 409.05029296875 L -524.1146240234375 419.05029296875 L -520.484130859375 419.05029296875 M -519.7891235351562 420.05029296875 L -524.8065795898438 420.05029296875 L -529.326171875 408.05029296875 L -515.326171875 408.05029296875 L -519.7891235351562 420.05029296875 Z" stroke="none" fill="#fff"/>\r\n    </g>\r\n    <line id="Line_802" data-name="Line 802" x2="9.762" transform="translate(-527.326 412.55)" fill="none" stroke="#fff" stroke-width="1"/>\r\n    <line id="Line_803" data-name="Line 803" x2="6.451" transform="translate(-525.326 416.55)" fill="none" stroke="#fff" stroke-width="1"/>\r\n  </g>\r\n  <rect id="Rectangle_6546" data-name="Rectangle 6546" width="16" height="16" fill="none"/>\r\n</svg>\r\n'},15924:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="88" height="88" viewBox="0 0 88 88"><defs><style>.a{fill:url(#a);}.b{opacity:0.32;clip-path:url(#b);}.c,.d,.f{fill:none;}.c{stroke:#fff;stroke-width:17px;}.c,.d{opacity:0.08;}.e,.g{stroke:none;}.g{fill:#fff;}</style><radialGradient id="a" cx="0" cy="1.041" r="1.492" gradientTransform="translate(-0.654 0.413) rotate(-49.36)" gradientUnits="objectBoundingBox"><stop offset="0" stop-color="#09f"/><stop offset="0.584" stop-color="#a033ff"/><stop offset="0.894" stop-color="#ff5280"/><stop offset="1" stop-color="#ff7061"/></radialGradient><clipPath id="b"><rect class="a" width="88" height="88" rx="8" transform="translate(0.015)"/></clipPath></defs><g class="b" transform="translate(-0.015)"><g class="c" transform="translate(0.015 3)"><rect class="e" width="81" height="80"/><rect class="f" x="8.5" y="8.5" width="64" height="63"/></g><g class="c" transform="translate(-7.985 -35)"><ellipse class="e" cx="41" cy="41.5" rx="41" ry="41.5"/><ellipse class="f" cx="41" cy="41.5" rx="32.5" ry="33"/></g><g class="d" transform="translate(118.923 61.361) rotate(90)"><path class="e" d="M35.638,0,71.277,61.815H0Z"/><path class="g" d="M 35.63842010498047 34.0362663269043 L 29.42396926879883 44.81531524658203 L 41.85287475585938 44.81531524658203 L 35.63842010498047 34.0362663269043 M 35.63842010498047 0 L 71.27684020996094 61.81531524658203 L 0 61.81531524658203 L 35.63842010498047 0 Z"/></g></g></svg>'},41113:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="88" height="88" viewBox="0 0 88 88"><defs><style>.a{fill:#22ac14;}.b{opacity:0.32;clip-path:url(#a);}.c,.d,.e,.g{fill:none;}.c,.d{stroke:#fff;}.c{stroke-width:17px;}.c,.d,.e{opacity:0.08;}.d{stroke-width:21px;}.f,.h{stroke:none;}.h{fill:#fff;}</style><clipPath id="a"><rect class="a" width="88" height="88" rx="8" transform="translate(0.015)"/></clipPath></defs><g class="b" transform="translate(-0.015)"><g class="c" transform="translate(-3.985 -44)"><rect class="f" width="81" height="80"/><rect class="g" x="8.5" y="8.5" width="64" height="63"/></g><g class="d" transform="translate(53.015 -22)"><ellipse class="f" cx="65.5" cy="66.5" rx="65.5" ry="66.5"/><ellipse class="g" cx="65.5" cy="66.5" rx="55" ry="56"/></g><g class="e" transform="translate(40.015 52.361) rotate(90)"><path class="f" d="M11.819,0,23.638,20.5H0Z"/><path class="h" d="M 11.81887817382813 0 L 23.63775825500488 20.5 L -1.9073486328125e-06 20.5 L 11.81887817382813 0 Z"/></g></g></svg>'},36979:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="26" height="26" viewBox="0 0 26 26"><defs><style>.a{fill:#fff;}.b{fill:none;}</style></defs><path class="a" d="M930-390l6.662,9.444L930-373.136l10.675-7.42Z" transform="translate(-922.581 393.109)"/><rect class="b" width="26" height="26"/></svg>'},23048:e=>{e.exports='<svg id="Boolean_icon" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><rect id="Rectangle_23177" width="16" height="16" fill="none"/><g id="Rectangle_12" transform="translate(1 1)" fill="none" stroke="#ff4013" stroke-width="2"><rect width="14" height="14" stroke="none"/><rect x="1" y="1" width="12" height="12" fill="none"/></g><path id="Path_30" d="M10.5,4.5,5.912,9,4,7.162" transform="translate(1 0.5)" fill="rgba(0,0,0,0)" stroke="#ff4013" stroke-width="2"/></svg>\r\n'},77054:e=>{e.exports='<svg id="Date_icon" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><rect id="Rectangle_23177" width="16" height="16" fill="none"/><g id="Rectangle_6448" transform="translate(1 3)" fill="none" stroke="#ff4013" stroke-miterlimit="10" stroke-width="2"><rect width="14" height="12" stroke="none"/><rect x="1" y="1" width="12" height="10" fill="none"/></g><line id="Line_764" x2="12" transform="translate(2 7)" fill="none" stroke="#ff4013" stroke-miterlimit="10" stroke-width="2"/><path id="Path_11729" d="M176.171,1073.754v3" transform="translate(-171.171 -1072.754)" fill="none" stroke="#ff4013" stroke-width="2"/><path id="Path_11730" d="M176.171,1073.754v3" transform="translate(-165.171 -1072.754)" fill="none" stroke="#ff4013" stroke-width="2"/></svg>\r\n'},46283:e=>{e.exports='<svg id="Datetime_icon" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><g id="Icon_left_panel_date_time_16x16_heavy" transform="translate(0)"><rect id="Rectangle_6448" width="16" height="16" fill="none"/><path id="Path_6271" d="M1895.033,260.278h-4.149v-9h12v2" transform="translate(-1889.884 -248.278)" fill="none" stroke="#ff4013" stroke-miterlimit="10" stroke-width="2"/><path id="Path_7772" d="M0,0H4.5" transform="translate(1 6)" fill="none" stroke="#ff4013" stroke-width="2"/><line id="Line_771" y2="4" transform="translate(4)" fill="none" stroke="#ff4013" stroke-miterlimit="10" stroke-width="2"/><line id="Line_772" y2="4" transform="translate(10)" fill="none" stroke="#ff4013" stroke-miterlimit="10" stroke-width="2"/><g id="Path_6272" transform="translate(-1889.764 -248.582)" fill="none" stroke-miterlimit="10"><path d="M1905.764,258.584a5,5,0,1,1-5-5A5,5,0,0,1,1905.764,258.584Z" stroke="none"/><path d="M 1900.7626953125 261.5840454101562 C 1902.417602539062 261.5840454101562 1903.763916015625 260.23828125 1903.763916015625 258.5840759277344 C 1903.763916015625 256.9292602539062 1902.417602539062 255.5829772949219 1900.7626953125 255.5829772949219 C 1899.109130859375 255.5829772949219 1897.763916015625 256.9292602539062 1897.763916015625 258.5840759277344 C 1897.763916015625 260.23828125 1899.109130859375 261.5840454101562 1900.7626953125 261.5840454101562 M 1900.7626953125 263.5840454101562 C 1898.000244140625 263.5840454101562 1895.763916015625 261.3454284667969 1895.763916015625 258.5840759277344 C 1895.763916015625 255.8215942382812 1898.000244140625 253.5829772949219 1900.7626953125 253.5829772949219 C 1903.524169921875 253.5829772949219 1905.763916015625 255.8215942382812 1905.763916015625 258.5840759277344 C 1905.763916015625 261.3454284667969 1903.524169921875 263.5840454101562 1900.7626953125 263.5840454101562 Z" stroke="none" fill="#ff4013"/></g><path id="Path_6273" d="M1900.1,255.194v4h2.5" transform="translate(-1889.098 -249.194)" fill="none" stroke="#ff4013" stroke-miterlimit="10" stroke-width="2"/></g></svg>\r\n'},88745:e=>{e.exports='<svg id="File_icon" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><rect id="Rectangle_23177" width="16" height="16" fill="none"/><g id="Group_7055" transform="translate(-733.278 92.545)"><g id="Rectangle_6454" transform="translate(735.278 -91.545)" fill="none" stroke="#ff4013" stroke-miterlimit="10" stroke-width="2"><rect width="12" height="14" stroke="none"/><rect x="1" y="1" width="10" height="12" fill="none"/></g><line id="Line_774" x2="6" transform="translate(738.278 -87.545)" fill="none" stroke="#ff4013" stroke-miterlimit="10" stroke-width="2"/><line id="Line_775" x2="6" transform="translate(738.278 -84.545)" fill="none" stroke="#ff4013" stroke-miterlimit="10" stroke-width="2"/><line id="Line_777" x2="4" transform="translate(738.278 -81.545)" fill="none" stroke="#ff4013" stroke-miterlimit="10" stroke-width="2"/></g></svg>\r\n'},72428:e=>{e.exports='<svg id="Float_icon" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><g id="Group_14515" transform="translate(-144 -422)"><rect id="Rectangle_39433" width="16" height="16" transform="translate(144 422)" fill="none"/></g><path id="Path_11302" d="M6.957-4.64a6.469,6.469,0,0,1-.8,3.6A2.764,2.764,0,0,1,3.707.127,2.732,2.732,0,0,1,1.285-1.079,6.377,6.377,0,0,1,.47-4.64a6.53,6.53,0,0,1,.793-3.621A2.752,2.752,0,0,1,3.707-9.426,2.739,2.739,0,0,1,6.135-8.208,6.39,6.39,0,0,1,6.957-4.64Zm-4.539,0a7.22,7.22,0,0,0,.3,2.447,1.022,1.022,0,0,0,.993.74A1.033,1.033,0,0,0,4.7-2.2,7.02,7.02,0,0,0,5-4.64a7,7,0,0,0-.308-2.453,1.034,1.034,0,0,0-.987-.746,1.025,1.025,0,0,0-.99.746A7.208,7.208,0,0,0,2.418-4.64ZM7.759-.908a1.064,1.064,0,0,1,.286-.806,1.158,1.158,0,0,1,.832-.273,1.125,1.125,0,0,1,.816.279,1.061,1.061,0,0,1,.289.8,1.061,1.061,0,0,1-.292.79,1.105,1.105,0,0,1-.812.289,1.138,1.138,0,0,1-.825-.282A1.057,1.057,0,0,1,7.759-.908ZM13.69,0H11.728V-5.37l.019-.882.032-.965q-.489.489-.679.641l-1.066.857L9.088-6.9l2.99-2.38H13.69Z" transform="translate(0.53 12.426)" fill="#ff4013"/></svg>\r\n'},35429:e=>{e.exports='<svg id="Guid_icon" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><rect id="Rectangle_42308" width="16" height="16" fill="none"/><path id="Path_11737" d="M1.162,0H3.43V-9.8H1.162Zm9.926-10.388v3.654a2.894,2.894,0,0,0-2.254-.91A3.661,3.661,0,0,0,5.068-3.766,3.661,3.661,0,0,0,8.834.112a2.9,2.9,0,0,0,2.352-.98V0h2.086V-10.388ZM9.212-1.68A1.911,1.911,0,0,1,7.28-3.766,1.911,1.911,0,0,1,9.212-5.852,1.908,1.908,0,0,1,11.13-3.766,1.908,1.908,0,0,1,9.212-1.68Z" transform="translate(0.838 13)" fill="#ff4013" stroke="rgba(0,0,0,0)" stroke-width="1"/></svg>\r\n'},69194:e=>{e.exports='<svg id="Integer_icon" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><rect id="Rectangle_39434" width="16" height="16" fill="none"/><path id="Path_11303" d="M5.37,0H3.409V-5.37l.019-.882.032-.965q-.489.489-.679.641l-1.066.857L.768-6.9l2.99-2.38H5.37Zm9.007-4.64a6.469,6.469,0,0,1-.8,3.6A2.764,2.764,0,0,1,11.127.127,2.732,2.732,0,0,1,8.706-1.079,6.377,6.377,0,0,1,7.89-4.64a6.53,6.53,0,0,1,.793-3.621,2.752,2.752,0,0,1,2.444-1.165,2.739,2.739,0,0,1,2.428,1.219A6.39,6.39,0,0,1,14.377-4.64Zm-4.539,0a7.22,7.22,0,0,0,.3,2.447,1.022,1.022,0,0,0,.993.74,1.033,1.033,0,0,0,.99-.749,7.02,7.02,0,0,0,.3-2.437,7,7,0,0,0-.308-2.453,1.034,1.034,0,0,0-.987-.746,1.025,1.025,0,0,0-.99.746A7.208,7.208,0,0,0,9.839-4.64Z" transform="translate(0.428 13)" fill="#ff4013"/></svg>\r\n'},26634:e=>{e.exports='<svg id="Lookup_icon" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><g id="Group_6916" transform="translate(2.277 2)"><g id="Group_6915" transform="translate(-0.277)"><circle id="Ellipse_237" cx="4.5" cy="4.5" r="4.5" fill="none" stroke="#ff4013" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path id="Path_6243" d="M.344.344,4.123,4.123" transform="translate(7.877 7.876)" fill="none" stroke="#ff4013" stroke-width="2"/></g></g><rect id="Rectangle_24756" width="16" height="16" fill="none"/></svg>\r\n'},37786:e=>{e.exports='<svg id="Money_icon" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><rect id="Rectangle_23177" width="16" height="16" fill="none"/><path id="Path_7070" d="M-318.645,863.293h-6v-8h14v4" transform="translate(325.645 -852.293)" fill="none" stroke="#ff4013" stroke-miterlimit="10" stroke-width="2"/><path id="Path_7071" d="M-322.646,855.292a2,2,0,0,1-2,2" transform="translate(326.646 -851.292)" fill="none" stroke="#ff4013" stroke-miterlimit="10" stroke-width="2"/><path id="Path_7072" d="M-312.246,857.292a2,2,0,0,1-2-2" transform="translate(326.246 -851.292)" fill="none" stroke="#ff4013" stroke-miterlimit="10" stroke-width="2"/><path id="Path_7073" d="M-324.646,861.692a2,2,0,0,1,2,2" transform="translate(326.646 -853.692)" fill="none" stroke="#ff4013" stroke-miterlimit="10" stroke-width="2"/><g id="Ellipse_1363" transform="translate(6 5)" fill="none" stroke="#ff4013" stroke-miterlimit="10" stroke-width="2"><circle cx="2" cy="2" r="2" stroke="none"/><circle cx="2" cy="2" r="1" fill="none"/></g><path id="Path_7074" d="M-310.846,861.425c0,.737-1.12,1.333-2.5,1.333s-2.5-.6-2.5-1.333,1.12-1.333,2.5-1.333S-310.846,860.69-310.846,861.425Z" transform="translate(325.846 -851.092)" fill="none" stroke="#ff4013" stroke-miterlimit="10" stroke-width="2"/><path id="Path_7075" d="M-310.846,863.292c0,.589-1.12,1.333-2.5,1.333s-2.5-.744-2.5-1.333" transform="translate(325.846 -850.292)" fill="none" stroke="#ff4013" stroke-miterlimit="10" stroke-width="2"/></svg>\r\n'},98873:e=>{e.exports='<svg id="Text_icon" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><rect id="Rectangle_39432" width="16" height="16" fill="none"/><path id="Path_11304" d="M5.113,0H2.994V-8.23H.28V-9.994H7.827V-8.23H5.113Z" transform="translate(4 13)" fill="#ff4013"/></svg>\r\n'},99342:e=>{e.exports='<svg id="Time_icon" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><rect id="Rectangle_23177" width="16" height="16" fill="none"/><g id="Ellipse_1346" transform="translate(1 1)" fill="none" stroke="#ff4013" stroke-miterlimit="10" stroke-width="2"><circle cx="7" cy="7" r="7" stroke="none"/><circle cx="7" cy="7" r="6" fill="none"/></g><path id="Path_6908" d="M1824.814,31.345v6h3" transform="translate(-1816.814 -29.345)" fill="none" stroke="#ff4013" stroke-miterlimit="10" stroke-width="2"/></svg>\r\n'},36645:e=>{e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMjY1IiBoZWlnaHQ9IjE2MSIgdmlld0JveD0iMCAwIDI2NSAxNjEiPg0KCTxkZWZzPg0KCQk8c3R5bGU+LmF7ZmlsbDojZTVlNWU1O30uYntmaWxsOiNhZWFmYjI7fS5je2ZpbGw6dXJsKCNhKTt9LmR7ZmlsbDp1cmwoI2IpO30uZXtmaWxsOnVybCgjYyk7fS5me2NsaXAtcGF0aDp1cmwoI2QpO30uZ3tmaWxsOiNjNGM0YzQ7fTwvc3R5bGU+DQoJCTxsaW5lYXJHcmFkaWVudCBpZD0iYSIgeDE9IjAuMjciIHkxPSIxLjMyMSIgeDI9IjAuNzMiIHkyPSItMC4zMjEiIGdyYWRpZW50VW5pdHM9Im9iamVjdEJvdW5kaW5nQm94Ij4NCgkJCTxzdG9wIG9mZnNldD0iMCIgc3RvcC1jb2xvcj0iI2VjZWNlYyIvPg0KCQkJPHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjZWJlYmViIi8+DQoJCTwvbGluZWFyR3JhZGllbnQ+DQoJCTxsaW5lYXJHcmFkaWVudCBpZD0iYiIgeDE9IjAuMTE3IiB5MT0iMC43NDYiIHgyPSIwLjkwOSIgeTI9IjAuMjEiIGdyYWRpZW50VW5pdHM9Im9iamVjdEJvdW5kaW5nQm94Ij4NCgkJCTxzdG9wIG9mZnNldD0iMCIgc3RvcC1jb2xvcj0iI2RmZGZkZiIvPg0KCQkJPHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjZDNkM2QzIi8+DQoJCTwvbGluZWFyR3JhZGllbnQ+DQoJCTxsaW5lYXJHcmFkaWVudCBpZD0iYyIgeDE9IjAuNSIgeTE9IjAiIHgyPSIwLjUiIHkyPSIxIiB4bGluazpocmVmPSIjYiIvPg0KCQk8Y2xpcFBhdGggaWQ9ImQiPjxyZWN0IGNsYXNzPSJhIiB3aWR0aD0iMTgzIiBoZWlnaHQ9IjM0IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg5MC42MzcgMTY5KSIvPjwvY2xpcFBhdGg+DQoJPC9kZWZzPg0KCTxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKC00OS42MzYgLTQyKSI+DQoJCTxyZWN0IGNsYXNzPSJhIiB3aWR0aD0iMjY1IiBoZWlnaHQ9IjE2MSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNDkuNjM2IDQyKSIvPg0KCQk8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMDUuNzg0IDUwLjA2NykiPg0KCQkJPHBhdGggY2xhc3M9ImIiIGQ9Ik0zNDIsMjI2cy02MC4yMzksMTcuMTg4LTYxLjE0LDE4LjkwNywxOC45ODgtMi4wNDYsMzAuNTctNC44MjksMzEuODI1LTEwLjMxMywzMS44MjUtMTAuMzEzWiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTI4MC44MyAtMTkwLjY0MikiLz4NCgkJCTxwYXRoIGNsYXNzPSJiIiBkPSJNNDcxLjUsMTU1LjY1OHMyNi45LTIyLjU5LDMyLjEzOS0yNi4wMjdTNTIwLjgyOSwxMTguNSw1MjAuODI5LDExOC41cy0xNi43LDE2LjM2OS0yMy4yNDUsMjEuNDQ0UzQ3MS41LDE1Ny40NTksNDcxLjUsMTU3LjQ1OVoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC00MDkuMDc5IC0xMTguMzM2KSIvPg0KCQkJPHBhdGggY2xhc3M9ImMiIGQ9Ik0yODAuOTIsMTcyLjI2NHMyNS40NTQtMTguMDA2LDMyLjQxMS0yMy4xNjMsMTguODI1LTEzLjM0MSwxOC44MjUtMTMuMzQxLDE4LjA4OC02Ljc5MywyNi4wMjctOS4zMzFTMzkyLjY0MSwxMTgsMzkyLjY0MSwxMThsLTQ5LjMyNywzOS4xMjNzLTI1LjU5MSw0LjQ3NC0zNS43OTQsNy4zMTJDMjk3Ljg2OSwxNjcuMTE5LDI4MC45MiwxNzIuMjY0LDI4MC45MiwxNzIuMjY0WiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTI4MC44OSAtMTE4KSIvPg0KCQkJPHBhdGggY2xhc3M9ImQiIGQ9Ik01MTIuNDgxLDI0MS4xbDQyLjQtNDcuNjM1TDUyMS40ODUsMTE4LDQ3MS41LDE1Ny4xMjNaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNDA5LjA3OSAtMTE4KSIvPg0KCQkJPHBhdGggY2xhc3M9ImUiIGQ9Ik0zMTkuOTYxLDMyNS43MzEsMjgwLjkyLDI1Mi42NDJzMjUuOTQ1LTUuOTc1LDMyLjMyOS03LjYxMiwzMC4wNjUtNy41MywzMC4wNjUtNy41M2w0MC45NzgsODMuOTc1WiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTI4MC44OSAtMTk4LjM3NykiLz4NCgkJPC9nPg0KCQk8ZyBjbGFzcz0iZiI+DQoJCQk8cGF0aCBjbGFzcz0iZyIgZD0iTTM1NC41LDU1Ny4zMThsNjMuOTQ5LTYuOTg0LDYxLjk4NiwzLjQ5Mi02MS45ODYsMTEuMTMxWiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTIyNC42IC0zNTguNzI2KSIvPg0KCQk8L2c+DQoJPC9nPg0KPC9zdmc+DQo="},16370:e=>{e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iODgiIGhlaWdodD0iODgiIHZpZXdCb3g9IjAgMCA4OCA4OCI+PGRlZnM+PHN0eWxlPi5he2ZpbGw6dXJsKCNhKTt9LmJ7b3BhY2l0eTowLjMyO30uY3tjbGlwLXBhdGg6dXJsKCNiKTt9LmQsLmUsLmd7ZmlsbDpub25lO30uZHtzdHJva2U6I2ZmZjtzdHJva2Utd2lkdGg6MTdweDt9LmQsLmV7b3BhY2l0eTowLjA4O30uZiwuaHtzdHJva2U6bm9uZTt9Lmh7ZmlsbDojZmZmO308L3N0eWxlPjxyYWRpYWxHcmFkaWVudCBpZD0iYSIgY3g9IjAiIGN5PSIxLjA0MSIgcj0iMS40OTIiIGdyYWRpZW50VHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTAuNjU0IDAuNDEzKSByb3RhdGUoLTQ5LjM2KSIgZ3JhZGllbnRVbml0cz0ib2JqZWN0Qm91bmRpbmdCb3giPjxzdG9wIG9mZnNldD0iMCIgc3RvcC1jb2xvcj0iIzA5ZiIvPjxzdG9wIG9mZnNldD0iMC41ODQiIHN0b3AtY29sb3I9IiNhMDMzZmYiLz48c3RvcCBvZmZzZXQ9IjAuODk0IiBzdG9wLWNvbG9yPSIjZmY1MjgwIi8+PHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjZmY3MDYxIi8+PC9yYWRpYWxHcmFkaWVudD48Y2xpcFBhdGggaWQ9ImIiPjxyZWN0IGNsYXNzPSJhIiB3aWR0aD0iODgiIGhlaWdodD0iODgiIHJ4PSI4IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLjAxNSkiLz48L2NsaXBQYXRoPjwvZGVmcz48ZyBjbGFzcz0iYiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTU1NDkgMTY0NjYpIj48ZyBjbGFzcz0iYyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNTU0OC45ODUgLTE2NDY2KSI+PGcgY2xhc3M9ImQiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDU2LjAxNSAzKSI+PHJlY3QgY2xhc3M9ImYiIHdpZHRoPSI4MSIgaGVpZ2h0PSI4MCIvPjxyZWN0IGNsYXNzPSJnIiB4PSI4LjUiIHk9IjguNSIgd2lkdGg9IjY0IiBoZWlnaHQ9IjYzIi8+PC9nPjxnIGNsYXNzPSJkIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNDEuOTg1IC0zMikiPjxlbGxpcHNlIGNsYXNzPSJmIiBjeD0iNDEiIGN5PSI0MS41IiByeD0iNDEiIHJ5PSI0MS41Ii8+PGVsbGlwc2UgY2xhc3M9ImciIGN4PSI0MSIgY3k9IjQxLjUiIHJ4PSIzMi41IiByeT0iMzMiLz48L2c+PGcgY2xhc3M9ImUiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDQwLjAxNSA1Mi4zNjEpIHJvdGF0ZSg5MCkiPjxwYXRoIGNsYXNzPSJmIiBkPSJNMzUuNjM4LDAsNzEuMjc3LDYxLjgxNUgwWiIvPjxwYXRoIGNsYXNzPSJoIiBkPSJNIDM1LjYzODQyMDEwNDk4MDQ3IDM0LjAzNjI2NjMyNjkwNDMgTCAyOS40MjM5NjkyNjg3OTg4MyA0NC44MTUzMTUyNDY1ODIwMyBMIDQxLjg1Mjg3NDc1NTg1OTM4IDQ0LjgxNTMxNTI0NjU4MjAzIEwgMzUuNjM4NDIwMTA0OTgwNDcgMzQuMDM2MjY2MzI2OTA0MyBNIDM1LjYzODQyMDEwNDk4MDQ3IDAgTCA3MS4yNzY4NDAyMDk5NjA5NCA2MS44MTUzMTUyNDY1ODIwMyBMIDAgNjEuODE1MzE1MjQ2NTgyMDMgTCAzNS42Mzg0MjAxMDQ5ODA0NyAwIFoiLz48L2c+PC9nPjwvZz48L3N2Zz4="},6766:e=>{e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iODgiIGhlaWdodD0iODgiIHZpZXdCb3g9IjAgMCA4OCA4OCI+PGRlZnM+PHN0eWxlPi5he2ZpbGw6dXJsKCNhKTt9LmJ7b3BhY2l0eTowLjMyO30uY3tjbGlwLXBhdGg6dXJsKCNiKTt9LmQsLmUsLmd7ZmlsbDpub25lO30uZHtzdHJva2U6I2ZmZjtzdHJva2Utd2lkdGg6MTdweDt9LmQsLmV7b3BhY2l0eTowLjA4O30uZiwuaHtzdHJva2U6bm9uZTt9Lmh7ZmlsbDojZmZmO308L3N0eWxlPjxyYWRpYWxHcmFkaWVudCBpZD0iYSIgY3g9IjAiIGN5PSIxLjA0MSIgcj0iMS40OTIiIGdyYWRpZW50VHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTAuNjU0IDAuNDEzKSByb3RhdGUoLTQ5LjM2KSIgZ3JhZGllbnRVbml0cz0ib2JqZWN0Qm91bmRpbmdCb3giPjxzdG9wIG9mZnNldD0iMCIgc3RvcC1jb2xvcj0iIzA5ZiIvPjxzdG9wIG9mZnNldD0iMC41ODQiIHN0b3AtY29sb3I9IiNhMDMzZmYiLz48c3RvcCBvZmZzZXQ9IjAuODk0IiBzdG9wLWNvbG9yPSIjZmY1MjgwIi8+PHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjZmY3MDYxIi8+PC9yYWRpYWxHcmFkaWVudD48Y2xpcFBhdGggaWQ9ImIiPjxyZWN0IGNsYXNzPSJhIiB3aWR0aD0iODgiIGhlaWdodD0iODgiIHJ4PSI4IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLjAxNSkiLz48L2NsaXBQYXRoPjwvZGVmcz48ZyBjbGFzcz0iYiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTU3MzkgMTY0NjYpIj48ZyBjbGFzcz0iYyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNTczOC45ODUgLTE2NDY2KSI+PGcgY2xhc3M9ImQiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDQuMDE1IDMpIj48cmVjdCBjbGFzcz0iZiIgd2lkdGg9IjgxIiBoZWlnaHQ9IjgwIi8+PHJlY3QgY2xhc3M9ImciIHg9IjguNSIgeT0iOC41IiB3aWR0aD0iNjQiIGhlaWdodD0iNjMiLz48L2c+PGcgY2xhc3M9ImQiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDYuMDE1IC00MCkiPjxlbGxpcHNlIGNsYXNzPSJmIiBjeD0iNDEiIGN5PSI0MS41IiByeD0iNDEiIHJ5PSI0MS41Ii8+PGVsbGlwc2UgY2xhc3M9ImciIGN4PSI0MSIgY3k9IjQxLjUiIHJ4PSIzMi41IiByeT0iMzMiLz48L2c+PGcgY2xhc3M9ImUiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDExOC45MjMgNTIuMzYxKSByb3RhdGUoOTApIj48cGF0aCBjbGFzcz0iZiIgZD0iTTM1LjYzOCwwLDcxLjI3Nyw2MS44MTVIMFoiLz48cGF0aCBjbGFzcz0iaCIgZD0iTSAzNS42Mzg0MjAxMDQ5ODA0NyAzNC4wMzYyNjYzMjY5MDQzIEwgMjkuNDIzOTY5MjY4Nzk4ODMgNDQuODE1MzE1MjQ2NTgyMDMgTCA0MS44NTI4NzQ3NTU4NTkzOCA0NC44MTUzMTUyNDY1ODIwMyBMIDM1LjYzODQyMDEwNDk4MDQ3IDM0LjAzNjI2NjMyNjkwNDMgTSAzNS42Mzg0MjAxMDQ5ODA0NyAwIEwgNzEuMjc2ODQwMjA5OTYwOTQgNjEuODE1MzE1MjQ2NTgyMDMgTCAwIDYxLjgxNTMxNTI0NjU4MjAzIEwgMzUuNjM4NDIwMTA0OTgwNDcgMCBaIi8+PC9nPjwvZz48L2c+PC9zdmc+"},46567:e=>{e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iODgiIGhlaWdodD0iODgiIHZpZXdCb3g9IjAgMCA4OCA4OCI+PGRlZnM+PHN0eWxlPi5he2ZpbGw6dXJsKCNhKTt9LmJ7b3BhY2l0eTowLjMyO30uY3tjbGlwLXBhdGg6dXJsKCNiKTt9LmQsLmUsLmd7ZmlsbDpub25lO30uZHtzdHJva2U6I2ZmZjtzdHJva2Utd2lkdGg6MTdweDt9LmQsLmV7b3BhY2l0eTowLjA4O30uZiwuaHtzdHJva2U6bm9uZTt9Lmh7ZmlsbDojZmZmO308L3N0eWxlPjxyYWRpYWxHcmFkaWVudCBpZD0iYSIgY3g9IjAiIGN5PSIxLjA0MSIgcj0iMS40OTIiIGdyYWRpZW50VHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTAuNjU0IDAuNDEzKSByb3RhdGUoLTQ5LjM2KSIgZ3JhZGllbnRVbml0cz0ib2JqZWN0Qm91bmRpbmdCb3giPjxzdG9wIG9mZnNldD0iMCIgc3RvcC1jb2xvcj0iIzA5ZiIvPjxzdG9wIG9mZnNldD0iMC41ODQiIHN0b3AtY29sb3I9IiNhMDMzZmYiLz48c3RvcCBvZmZzZXQ9IjAuODk0IiBzdG9wLWNvbG9yPSIjZmY1MjgwIi8+PHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjZmY3MDYxIi8+PC9yYWRpYWxHcmFkaWVudD48Y2xpcFBhdGggaWQ9ImIiPjxyZWN0IGNsYXNzPSJhIiB3aWR0aD0iODgiIGhlaWdodD0iODgiIHJ4PSI4IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLjAxNSkiLz48L2NsaXBQYXRoPjwvZGVmcz48ZyBjbGFzcz0iYiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTU5MTkgMTY0NjYpIj48ZyBjbGFzcz0iYyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNTkxOC45ODUgLTE2NDY2KSI+PGcgY2xhc3M9ImQiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDYxLjAxNSA0KSI+PHJlY3QgY2xhc3M9ImYiIHdpZHRoPSI4MSIgaGVpZ2h0PSI4MCIvPjxyZWN0IGNsYXNzPSJnIiB4PSI4LjUiIHk9IjguNSIgd2lkdGg9IjY0IiBoZWlnaHQ9IjYzIi8+PC9nPjxnIGNsYXNzPSJkIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMjguOTg1IC0yMikiPjxlbGxpcHNlIGNsYXNzPSJmIiBjeD0iNTciIGN5PSI1Ny41IiByeD0iNTciIHJ5PSI1Ny41Ii8+PGVsbGlwc2UgY2xhc3M9ImciIGN4PSI1NyIgY3k9IjU3LjUiIHJ4PSI0OC41IiByeT0iNDkiLz48L2c+PGcgY2xhc3M9ImUiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEwOC43OSAtMTUuMTQ3KSByb3RhdGUoOTApIj48cGF0aCBjbGFzcz0iZiIgZD0iTTU5LjE0NiwwbDU5LjE0NiwxMDIuNTlIMFoiLz48cGF0aCBjbGFzcz0iaCIgZD0iTSA1OS4xNDYyMjg3OTAyODMyIDM0LjAzNjI0NzI1MzQxNzk3IEwgMjkuNDIzOTUwMTk1MzEyNSA4NS41ODk5Mjc2NzMzMzk4NCBMIDg4Ljg2ODQ5MjEyNjQ2NDg0IDg1LjU4OTkyNzY3MzMzOTg0IEwgNTkuMTQ2MjI4NzkwMjgzMiAzNC4wMzYyNDcyNTM0MTc5NyBNIDU5LjE0NjIzMjYwNDk4MDQ3IC03LjYyOTM5NDUzMTI1ZS0wNiBMIDExOC4yOTI0NDk5NTExNzE5IDEwMi41ODk5Mjc2NzMzMzk4IEwgLTEuNTI1ODc4OTA2MjVlLTA1IDEwMi41ODk5Mjc2NzMzMzk4IEwgNTkuMTQ2MjMyNjA0OTgwNDcgLTcuNjI5Mzk0NTMxMjVlLTA2IFoiLz48L2c+PC9nPjwvZz48L3N2Zz4="},67403:e=>{e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iODgiIGhlaWdodD0iODgiIHZpZXdCb3g9IjAgMCA4OCA4OCI+PGRlZnM+PHN0eWxlPi5he2ZpbGw6dXJsKCNhKTt9LmJ7b3BhY2l0eTowLjMyO30uY3tjbGlwLXBhdGg6dXJsKCNiKTt9LmQsLmUsLmd7ZmlsbDpub25lO30uZHtzdHJva2U6I2ZmZjtzdHJva2Utd2lkdGg6MTdweDt9LmQsLmV7b3BhY2l0eTowLjA4O30uZiwuaHtzdHJva2U6bm9uZTt9Lmh7ZmlsbDojZmZmO308L3N0eWxlPjxyYWRpYWxHcmFkaWVudCBpZD0iYSIgY3g9IjAiIGN5PSIxLjA0MSIgcj0iMS40OTIiIGdyYWRpZW50VHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTAuNjU0IDAuNDEzKSByb3RhdGUoLTQ5LjM2KSIgZ3JhZGllbnRVbml0cz0ib2JqZWN0Qm91bmRpbmdCb3giPjxzdG9wIG9mZnNldD0iMCIgc3RvcC1jb2xvcj0iIzA5ZiIvPjxzdG9wIG9mZnNldD0iMC41ODQiIHN0b3AtY29sb3I9IiNhMDMzZmYiLz48c3RvcCBvZmZzZXQ9IjAuODk0IiBzdG9wLWNvbG9yPSIjZmY1MjgwIi8+PHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjZmY3MDYxIi8+PC9yYWRpYWxHcmFkaWVudD48Y2xpcFBhdGggaWQ9ImIiPjxyZWN0IGNsYXNzPSJhIiB3aWR0aD0iODgiIGhlaWdodD0iODgiIHJ4PSI4IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLjAxNSkiLz48L2NsaXBQYXRoPjwvZGVmcz48ZyBjbGFzcz0iYiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTYwOTkgMTY0NjYpIj48ZyBjbGFzcz0iYyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNjA5OC45ODUgLTE2NDY2KSI+PGcgY2xhc3M9ImQiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDM4LjAxNSA0KSI+PHJlY3QgY2xhc3M9ImYiIHdpZHRoPSI4MSIgaGVpZ2h0PSI4MCIvPjxyZWN0IGNsYXNzPSJnIiB4PSI4LjUiIHk9IjguNSIgd2lkdGg9IjY0IiBoZWlnaHQ9IjYzIi8+PC9nPjxnIGNsYXNzPSJkIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMjEuOTg1IC0xNikiPjxlbGxpcHNlIGNsYXNzPSJmIiBjeD0iNDEiIGN5PSI0MS41IiByeD0iNDEiIHJ5PSI0MS41Ii8+PGVsbGlwc2UgY2xhc3M9ImciIGN4PSI0MSIgY3k9IjQxLjUiIHJ4PSIzMi41IiByeT0iMzMiLz48L2c+PGcgY2xhc3M9ImUiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDgwLjgzIDM4LjM2MSkgcm90YXRlKDkwKSI+PHBhdGggY2xhc3M9ImYiIGQ9Ik0zNS42MzgsMCw3MS4yNzcsNjEuODE1SDBaIi8+PHBhdGggY2xhc3M9ImgiIGQ9Ik0gMzUuNjM4NDIwMTA0OTgwNDcgMzQuMDM2MjY2MzI2OTA0MyBMIDI5LjQyMzk2OTI2ODc5ODgzIDQ0LjgxNTMxNTI0NjU4MjAzIEwgNDEuODUyODc0NzU1ODU5MzggNDQuODE1MzE1MjQ2NTgyMDMgTCAzNS42Mzg0MjAxMDQ5ODA0NyAzNC4wMzYyNjYzMjY5MDQzIE0gMzUuNjM4NDIwMTA0OTgwNDcgMCBMIDcxLjI3Njg0MDIwOTk2MDk0IDYxLjgxNTMxNTI0NjU4MjAzIEwgMCA2MS44MTUzMTUyNDY1ODIwMyBMIDM1LjYzODQyMDEwNDk4MDQ3IDAgWiIvPjwvZz48L2c+PC9nPjwvc3ZnPg=="},83514:e=>{e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iODgiIGhlaWdodD0iODgiIHZpZXdCb3g9IjAgMCA4OCA4OCI+PGRlZnM+PHN0eWxlPi5he2ZpbGw6dXJsKCNhKTt9LmJ7b3BhY2l0eTowLjMyO30uY3tjbGlwLXBhdGg6dXJsKCNiKTt9LmQsLmUsLmd7ZmlsbDpub25lO30uZHtzdHJva2U6I2ZmZjtzdHJva2Utd2lkdGg6MTdweDt9LmQsLmV7b3BhY2l0eTowLjA4O30uZiwuaHtzdHJva2U6bm9uZTt9Lmh7ZmlsbDojZmZmO308L3N0eWxlPjxyYWRpYWxHcmFkaWVudCBpZD0iYSIgY3g9IjAiIGN5PSIxLjA0MSIgcj0iMS40OTIiIGdyYWRpZW50VHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTAuNjU0IDAuNDEzKSByb3RhdGUoLTQ5LjM2KSIgZ3JhZGllbnRVbml0cz0ib2JqZWN0Qm91bmRpbmdCb3giPjxzdG9wIG9mZnNldD0iMCIgc3RvcC1jb2xvcj0iIzA5ZiIvPjxzdG9wIG9mZnNldD0iMC41ODQiIHN0b3AtY29sb3I9IiNhMDMzZmYiLz48c3RvcCBvZmZzZXQ9IjAuODk0IiBzdG9wLWNvbG9yPSIjZmY1MjgwIi8+PHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjZmY3MDYxIi8+PC9yYWRpYWxHcmFkaWVudD48Y2xpcFBhdGggaWQ9ImIiPjxyZWN0IGNsYXNzPSJhIiB3aWR0aD0iODgiIGhlaWdodD0iODgiIHJ4PSI4IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLjAxNSkiLz48L2NsaXBQYXRoPjwvZGVmcz48ZyBjbGFzcz0iYiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTU1NDkgMTYzMTYpIj48ZyBjbGFzcz0iYyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNTU0OC45ODUgLTE2MzE2KSI+PGcgY2xhc3M9ImQiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDE2LjAxNSA2MSkiPjxyZWN0IGNsYXNzPSJmIiB3aWR0aD0iODEiIGhlaWdodD0iODAiLz48cmVjdCBjbGFzcz0iZyIgeD0iOC41IiB5PSI4LjUiIHdpZHRoPSI2NCIgaGVpZ2h0PSI2MyIvPjwvZz48ZyBjbGFzcz0iZCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTI0Ljk4NSkiPjxlbGxpcHNlIGNsYXNzPSJmIiBjeD0iNDEiIGN5PSI0MS41IiByeD0iNDEiIHJ5PSI0MS41Ii8+PGVsbGlwc2UgY2xhc3M9ImciIGN4PSI0MSIgY3k9IjQxLjUiIHJ4PSIzMi41IiByeT0iMzMiLz48L2c+PGcgY2xhc3M9ImUiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEwNS44MyA0LjM2MSkgcm90YXRlKDkwKSI+PHBhdGggY2xhc3M9ImYiIGQ9Ik0zNS42MzgsMCw3MS4yNzcsNjEuODE1SDBaIi8+PHBhdGggY2xhc3M9ImgiIGQ9Ik0gMzUuNjM4NDIwMTA0OTgwNDcgMzQuMDM2MjY2MzI2OTA0MyBMIDI5LjQyMzk2OTI2ODc5ODgzIDQ0LjgxNTMxNTI0NjU4MjAzIEwgNDEuODUyODc0NzU1ODU5MzggNDQuODE1MzE1MjQ2NTgyMDMgTCAzNS42Mzg0MjAxMDQ5ODA0NyAzNC4wMzYyNjYzMjY5MDQzIE0gMzUuNjM4NDIwMTA0OTgwNDcgMCBMIDcxLjI3Njg0MDIwOTk2MDk0IDYxLjgxNTMxNTI0NjU4MjAzIEwgMCA2MS44MTUzMTUyNDY1ODIwMyBMIDM1LjYzODQyMDEwNDk4MDQ3IDAgWiIvPjwvZz48L2c+PC9nPjwvc3ZnPg=="},67118:e=>{e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iODgiIGhlaWdodD0iODgiIHZpZXdCb3g9IjAgMCA4OCA4OCI+PGRlZnM+PHN0eWxlPi5he2ZpbGw6dXJsKCNhKTt9LmJ7b3BhY2l0eTowLjMyO2NsaXAtcGF0aDp1cmwoI2IpO30uYywuZCwuZntmaWxsOm5vbmU7fS5je3N0cm9rZTojZmZmO3N0cm9rZS13aWR0aDoxN3B4O30uYywuZHtvcGFjaXR5OjAuMDg7fS5lLC5ne3N0cm9rZTpub25lO30uZ3tmaWxsOiNmZmY7fTwvc3R5bGU+PHJhZGlhbEdyYWRpZW50IGlkPSJhIiBjeD0iMCIgY3k9IjEuMDQxIiByPSIxLjQ5MiIgZ3JhZGllbnRUcmFuc2Zvcm09InRyYW5zbGF0ZSgtMC42NTQgMC40MTMpIHJvdGF0ZSgtNDkuMzYpIiBncmFkaWVudFVuaXRzPSJvYmplY3RCb3VuZGluZ0JveCI+PHN0b3Agb2Zmc2V0PSIwIiBzdG9wLWNvbG9yPSIjMDlmIi8+PHN0b3Agb2Zmc2V0PSIwLjU4NCIgc3RvcC1jb2xvcj0iI2EwMzNmZiIvPjxzdG9wIG9mZnNldD0iMC44OTQiIHN0b3AtY29sb3I9IiNmZjUyODAiLz48c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNmZjcwNjEiLz48L3JhZGlhbEdyYWRpZW50PjxjbGlwUGF0aCBpZD0iYiI+PHJlY3QgY2xhc3M9ImEiIHdpZHRoPSI4OCIgaGVpZ2h0PSI4OCIgcng9IjgiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAuMDE1KSIvPjwvY2xpcFBhdGg+PC9kZWZzPjxnIGNsYXNzPSJiIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMC4wMTUpIj48ZyBjbGFzcz0iYyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTYuMDE1KSI+PHJlY3QgY2xhc3M9ImUiIHdpZHRoPSI4MSIgaGVpZ2h0PSI4MCIvPjxyZWN0IGNsYXNzPSJmIiB4PSI4LjUiIHk9IjguNSIgd2lkdGg9IjY0IiBoZWlnaHQ9IjYzIi8+PC9nPjxnIGNsYXNzPSJjIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTIuOTg1IC0yMCkiPjxlbGxpcHNlIGNsYXNzPSJlIiBjeD0iNDEiIGN5PSI0MS41IiByeD0iNDEiIHJ5PSI0MS41Ii8+PGVsbGlwc2UgY2xhc3M9ImYiIGN4PSI0MSIgY3k9IjQxLjUiIHJ4PSIzMi41IiByeT0iMzMiLz48L2c+PGcgY2xhc3M9ImQiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDY5LjAxNSA1Mi4zNjEpIHJvdGF0ZSg5MCkiPjxwYXRoIGNsYXNzPSJlIiBkPSJNMzUuNjM4LDAsNzEuMjc3LDYxLjgxNUgwWiIvPjxwYXRoIGNsYXNzPSJnIiBkPSJNIDM1LjYzODQyMDEwNDk4MDQ3IDM0LjAzNjI2NjMyNjkwNDMgTCAyOS40MjM5NjkyNjg3OTg4MyA0NC44MTUzMTUyNDY1ODIwMyBMIDQxLjg1Mjg3NDc1NTg1OTM4IDQ0LjgxNTMxNTI0NjU4MjAzIEwgMzUuNjM4NDIwMTA0OTgwNDcgMzQuMDM2MjY2MzI2OTA0MyBNIDM1LjYzODQyMDEwNDk4MDQ3IDAgTCA3MS4yNzY4NDAyMDk5NjA5NCA2MS44MTUzMTUyNDY1ODIwMyBMIDAgNjEuODE1MzE1MjQ2NTgyMDMgTCAzNS42Mzg0MjAxMDQ5ODA0NyAwIFoiLz48L2c+PC9nPjwvc3ZnPg=="},85549:e=>{e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iODgiIGhlaWdodD0iODgiIHZpZXdCb3g9IjAgMCA4OCA4OCI+PGRlZnM+PHN0eWxlPi5he2ZpbGw6dXJsKCNhKTt9LmJ7b3BhY2l0eTowLjMyO2NsaXAtcGF0aDp1cmwoI2IpO30uYywuZCwuZSwuZ3tmaWxsOm5vbmU7fS5jLC5ke3N0cm9rZTojZmZmO30uY3tzdHJva2Utd2lkdGg6MTdweDt9LmMsLmQsLmV7b3BhY2l0eTowLjA4O30uZHtzdHJva2Utd2lkdGg6MTlweDt9LmYsLmh7c3Ryb2tlOm5vbmU7fS5oe2ZpbGw6I2ZmZjt9PC9zdHlsZT48cmFkaWFsR3JhZGllbnQgaWQ9ImEiIGN4PSIwIiBjeT0iMS4wNDEiIHI9IjEuNDkyIiBncmFkaWVudFRyYW5zZm9ybT0idHJhbnNsYXRlKC0wLjY1NCAwLjQxMykgcm90YXRlKC00OS4zNikiIGdyYWRpZW50VW5pdHM9Im9iamVjdEJvdW5kaW5nQm94Ij48c3RvcCBvZmZzZXQ9IjAiIHN0b3AtY29sb3I9IiMwOWYiLz48c3RvcCBvZmZzZXQ9IjAuNTg0IiBzdG9wLWNvbG9yPSIjYTAzM2ZmIi8+PHN0b3Agb2Zmc2V0PSIwLjg5NCIgc3RvcC1jb2xvcj0iI2ZmNTI4MCIvPjxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iI2ZmNzA2MSIvPjwvcmFkaWFsR3JhZGllbnQ+PGNsaXBQYXRoIGlkPSJiIj48cmVjdCBjbGFzcz0iYSIgd2lkdGg9Ijg4IiBoZWlnaHQ9Ijg4IiByeD0iOCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMC4wMTUpIi8+PC9jbGlwUGF0aD48L2RlZnM+PGcgY2xhc3M9ImIiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0wLjAxNSkiPjxnIGNsYXNzPSJjIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg3MC4wMTUgMykiPjxyZWN0IGNsYXNzPSJmIiB3aWR0aD0iODEiIGhlaWdodD0iODAiLz48cmVjdCBjbGFzcz0iZyIgeD0iOC41IiB5PSI4LjUiIHdpZHRoPSI2NCIgaGVpZ2h0PSI2MyIvPjwvZz48ZyBjbGFzcz0iZCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTIxLjk4NSAtMTgpIj48ZWxsaXBzZSBjbGFzcz0iZiIgY3g9IjYxIiBjeT0iNjEuNSIgcng9IjYxIiByeT0iNjEuNSIvPjxlbGxpcHNlIGNsYXNzPSJnIiBjeD0iNjEiIGN5PSI2MS41IiByeD0iNTEuNSIgcnk9IjUyIi8+PC9nPjxnIGNsYXNzPSJlIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgzMC45MjMgNy4zNjEpIHJvdGF0ZSg5MCkiPjxwYXRoIGNsYXNzPSJmIiBkPSJNMzUuNjM4LDAsNzEuMjc3LDYxLjgxNUgwWiIvPjxwYXRoIGNsYXNzPSJoIiBkPSJNIDM1LjYzODQyMDEwNDk4MDQ3IDM0LjAzNjI2NjMyNjkwNDMgTCAyOS40MjM5NjkyNjg3OTg4MyA0NC44MTUzMTUyNDY1ODIwMyBMIDQxLjg1Mjg3NDc1NTg1OTM4IDQ0LjgxNTMxNTI0NjU4MjAzIEwgMzUuNjM4NDIwMTA0OTgwNDcgMzQuMDM2MjY2MzI2OTA0MyBNIDM1LjYzODQyMDEwNDk4MDQ3IDAgTCA3MS4yNzY4NDAyMDk5NjA5NCA2MS44MTUzMTUyNDY1ODIwMyBMIDAgNjEuODE1MzE1MjQ2NTgyMDMgTCAzNS42Mzg0MjAxMDQ5ODA0NyAwIFoiLz48L2c+PC9nPjwvc3ZnPg=="},48668:e=>{e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iODgiIGhlaWdodD0iODgiIHZpZXdCb3g9IjAgMCA4OCA4OCI+PGRlZnM+PHN0eWxlPi5he2ZpbGw6dXJsKCNhKTt9LmJ7b3BhY2l0eTowLjMyO2NsaXAtcGF0aDp1cmwoI2IpO30uYywuZCwuZntmaWxsOm5vbmU7fS5je3N0cm9rZTojZmZmO3N0cm9rZS13aWR0aDoxN3B4O30uYywuZHtvcGFjaXR5OjAuMDg7fS5lLC5ne3N0cm9rZTpub25lO30uZ3tmaWxsOiNmZmY7fTwvc3R5bGU+PHJhZGlhbEdyYWRpZW50IGlkPSJhIiBjeD0iMCIgY3k9IjEuMDQxIiByPSIxLjQ5MiIgZ3JhZGllbnRUcmFuc2Zvcm09InRyYW5zbGF0ZSgtMC42NTQgMC40MTMpIHJvdGF0ZSgtNDkuMzYpIiBncmFkaWVudFVuaXRzPSJvYmplY3RCb3VuZGluZ0JveCI+PHN0b3Agb2Zmc2V0PSIwIiBzdG9wLWNvbG9yPSIjMDlmIi8+PHN0b3Agb2Zmc2V0PSIwLjU4NCIgc3RvcC1jb2xvcj0iI2EwMzNmZiIvPjxzdG9wIG9mZnNldD0iMC44OTQiIHN0b3AtY29sb3I9IiNmZjUyODAiLz48c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNmZjcwNjEiLz48L3JhZGlhbEdyYWRpZW50PjxjbGlwUGF0aCBpZD0iYiI+PHJlY3QgY2xhc3M9ImEiIHdpZHRoPSI4OCIgaGVpZ2h0PSI4OCIgcng9IjgiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAuMDE1KSIvPjwvY2xpcFBhdGg+PC9kZWZzPjxnIGNsYXNzPSJiIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMC4wMTUpIj48ZyBjbGFzcz0iYyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNTYuMDE1IDMpIj48cmVjdCBjbGFzcz0iZSIgd2lkdGg9IjgxIiBoZWlnaHQ9IjgwIi8+PHJlY3QgY2xhc3M9ImYiIHg9IjguNSIgeT0iOC41IiB3aWR0aD0iNjQiIGhlaWdodD0iNjMiLz48L2c+PGcgY2xhc3M9ImMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDMuMDE1IDIpIj48ZWxsaXBzZSBjbGFzcz0iZSIgY3g9IjQxIiBjeT0iNDEuNSIgcng9IjQxIiByeT0iNDEuNSIvPjxlbGxpcHNlIGNsYXNzPSJmIiBjeD0iNDEiIGN5PSI0MS41IiByeD0iMzIuNSIgcnk9IjMzIi8+PC9nPjxnIGNsYXNzPSJkIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxOTAuMDE1IC0xOS45MDkpIHJvdGF0ZSg5MCkiPjxwYXRoIGNsYXNzPSJlIiBkPSJNNjcuNDU0LDBsNjcuNDU0LDExN0gwWiIvPjxwYXRoIGNsYXNzPSJnIiBkPSJNIDY3LjQ1NDA4NjMwMzcxMDk0IDM0LjAzNjI2MjUxMjIwNzAzIEwgMjkuNDIzOTU3ODI0NzA3MDMgMTAwIEwgMTA1LjQ4NDIxNDc4MjcxNDggMTAwIEwgNjcuNDU0MDg2MzAzNzEwOTQgMzQuMDM2MjYyNTEyMjA3MDMgTSA2Ny40NTQwODYzMDM3MTA5NCAwIEwgMTM0LjkwODE4Nzg2NjIxMDkgMTE3IEwgLTEuNTI1ODc4OTA2MjVlLTA1IDExNyBMIDY3LjQ1NDA4NjMwMzcxMDk0IDAgWiIvPjwvZz48L2c+PC9zdmc+"},82182:e=>{e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iODgiIGhlaWdodD0iODgiIHZpZXdCb3g9IjAgMCA4OCA4OCI+PGRlZnM+PHN0eWxlPi5he2ZpbGw6dXJsKCNhKTt9LmJ7b3BhY2l0eTowLjMyO2NsaXAtcGF0aDp1cmwoI2IpO30uYywuZCwuZSwuZ3tmaWxsOm5vbmU7fS5jLC5ke3N0cm9rZTojZmZmO30uY3tzdHJva2Utd2lkdGg6MTdweDt9LmMsLmQsLmV7b3BhY2l0eTowLjA4O30uZHtzdHJva2Utd2lkdGg6MjJweDt9LmYsLmh7c3Ryb2tlOm5vbmU7fS5oe2ZpbGw6I2ZmZjt9PC9zdHlsZT48cmFkaWFsR3JhZGllbnQgaWQ9ImEiIGN4PSIwIiBjeT0iMS4wNDEiIHI9IjEuNDkyIiBncmFkaWVudFRyYW5zZm9ybT0idHJhbnNsYXRlKC0wLjY1NCAwLjQxMykgcm90YXRlKC00OS4zNikiIGdyYWRpZW50VW5pdHM9Im9iamVjdEJvdW5kaW5nQm94Ij48c3RvcCBvZmZzZXQ9IjAiIHN0b3AtY29sb3I9IiMwOWYiLz48c3RvcCBvZmZzZXQ9IjAuNTg0IiBzdG9wLWNvbG9yPSIjYTAzM2ZmIi8+PHN0b3Agb2Zmc2V0PSIwLjg5NCIgc3RvcC1jb2xvcj0iI2ZmNTI4MCIvPjxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iI2ZmNzA2MSIvPjwvcmFkaWFsR3JhZGllbnQ+PGNsaXBQYXRoIGlkPSJiIj48cmVjdCBjbGFzcz0iYSIgd2lkdGg9Ijg4IiBoZWlnaHQ9Ijg4IiByeD0iOCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMC4wMTUpIi8+PC9jbGlwUGF0aD48L2RlZnM+PGcgY2xhc3M9ImIiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0wLjAxNSkiPjxnIGNsYXNzPSJjIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg0LjAxNSA0KSI+PHJlY3QgY2xhc3M9ImYiIHdpZHRoPSI4MSIgaGVpZ2h0PSI4MCIvPjxyZWN0IGNsYXNzPSJnIiB4PSI4LjUiIHk9IjguNSIgd2lkdGg9IjY0IiBoZWlnaHQ9IjYzIi8+PC9nPjxnIGNsYXNzPSJkIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg1NC4wMTUgLTE3KSI+PGVsbGlwc2UgY2xhc3M9ImYiIGN4PSI2MCIgY3k9IjYxLjUiIHJ4PSI2MCIgcnk9IjYxLjUiLz48ZWxsaXBzZSBjbGFzcz0iZyIgY3g9IjYwIiBjeT0iNjEuNSIgcng9IjQ5IiByeT0iNTAuNSIvPjwvZz48ZyBjbGFzcz0iZSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMzMuOTIzIDExLjM2MSkgcm90YXRlKDkwKSI+PHBhdGggY2xhc3M9ImYiIGQ9Ik0xMi4xMzgsMCwyNC4yNzcsMjAuODE1SDBaIi8+PHBhdGggY2xhc3M9ImgiIGQ9Ik0gMTIuMTM4NDIwMTA0OTgwNDcgLTMuODE0Njk3MjY1NjI1ZS0wNiBMIDI0LjI3Njg0MDIwOTk2MDk0IDIwLjgxNTMxNTI0NjU4MjAzIEwgMCAyMC44MTUzMTUyNDY1ODIwMyBMIDEyLjEzODQyMDEwNDk4MDQ3IC0zLjgxNDY5NzI2NTYyNWUtMDYgWiIvPjwvZz48L2c+PC9zdmc+"},87572:e=>{e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iODgiIGhlaWdodD0iODgiIHZpZXdCb3g9IjAgMCA4OCA4OCI+PGRlZnM+PHN0eWxlPi5he2ZpbGw6dXJsKCNhKTt9LmJ7b3BhY2l0eTowLjMyO2NsaXAtcGF0aDp1cmwoI2IpO30uYywuZCwuZntmaWxsOm5vbmU7fS5je3N0cm9rZTojZmZmO3N0cm9rZS13aWR0aDoxN3B4O30uYywuZHtvcGFjaXR5OjAuMDg7fS5lLC5ne3N0cm9rZTpub25lO30uZ3tmaWxsOiNmZmY7fTwvc3R5bGU+PHJhZGlhbEdyYWRpZW50IGlkPSJhIiBjeD0iMCIgY3k9IjEuMDQxIiByPSIxLjQ5MiIgZ3JhZGllbnRUcmFuc2Zvcm09InRyYW5zbGF0ZSgtMC42NTQgMC40MTMpIHJvdGF0ZSgtNDkuMzYpIiBncmFkaWVudFVuaXRzPSJvYmplY3RCb3VuZGluZ0JveCI+PHN0b3Agb2Zmc2V0PSIwIiBzdG9wLWNvbG9yPSIjMDlmIi8+PHN0b3Agb2Zmc2V0PSIwLjU4NCIgc3RvcC1jb2xvcj0iI2EwMzNmZiIvPjxzdG9wIG9mZnNldD0iMC44OTQiIHN0b3AtY29sb3I9IiNmZjUyODAiLz48c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNmZjcwNjEiLz48L3JhZGlhbEdyYWRpZW50PjxjbGlwUGF0aCBpZD0iYiI+PHJlY3QgY2xhc3M9ImEiIHdpZHRoPSI4OCIgaGVpZ2h0PSI4OCIgcng9IjgiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAuMDE1KSIvPjwvY2xpcFBhdGg+PC9kZWZzPjxnIGNsYXNzPSJiIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMC4wMTUpIj48ZyBjbGFzcz0iYyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjYuMDE1IDIzKSI+PHJlY3QgY2xhc3M9ImUiIHdpZHRoPSI4MSIgaGVpZ2h0PSI4MCIvPjxyZWN0IGNsYXNzPSJmIiB4PSI4LjUiIHk9IjguNSIgd2lkdGg9IjY0IiBoZWlnaHQ9IjYzIi8+PC9nPjxnIGNsYXNzPSJjIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNTQuOTg1IC0zMykiPjxlbGxpcHNlIGNsYXNzPSJlIiBjeD0iNDEiIGN5PSI0MS41IiByeD0iNDEiIHJ5PSI0MS41Ii8+PGVsbGlwc2UgY2xhc3M9ImYiIGN4PSI0MSIgY3k9IjQxLjUiIHJ4PSIzMi41IiByeT0iMzMiLz48L2c+PGcgY2xhc3M9ImQiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDg4LjAxNSA4LjM2MSkgcm90YXRlKDkwKSI+PHBhdGggY2xhc3M9ImUiIGQ9Ik0zNS42MzgsMCw3MS4yNzcsNjEuODE1SDBaIi8+PHBhdGggY2xhc3M9ImciIGQ9Ik0gMzUuNjM4NDIwMTA0OTgwNDcgMzQuMDM2MjY2MzI2OTA0MyBMIDI5LjQyMzk2OTI2ODc5ODgzIDQ0LjgxNTMxNTI0NjU4MjAzIEwgNDEuODUyODc0NzU1ODU5MzggNDQuODE1MzE1MjQ2NTgyMDMgTCAzNS42Mzg0MjAxMDQ5ODA0NyAzNC4wMzYyNjYzMjY5MDQzIE0gMzUuNjM4NDIwMTA0OTgwNDcgMCBMIDcxLjI3Njg0MDIwOTk2MDk0IDYxLjgxNTMxNTI0NjU4MjAzIEwgMCA2MS44MTUzMTUyNDY1ODIwMyBMIDM1LjYzODQyMDEwNDk4MDQ3IDAgWiIvPjwvZz48L2c+PC9zdmc+"},24582:e=>{e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iODgiIGhlaWdodD0iODgiIHZpZXdCb3g9IjAgMCA4OCA4OCI+PGRlZnM+PHN0eWxlPi5he2ZpbGw6dXJsKCNhKTt9LmJ7b3BhY2l0eTowLjMyO2NsaXAtcGF0aDp1cmwoI2IpO30uYywuZCwuZntmaWxsOm5vbmU7fS5je3N0cm9rZTojZmZmO3N0cm9rZS13aWR0aDoxN3B4O30uYywuZHtvcGFjaXR5OjAuMDg7fS5lLC5ne3N0cm9rZTpub25lO30uZ3tmaWxsOiNmZmY7fTwvc3R5bGU+PHJhZGlhbEdyYWRpZW50IGlkPSJhIiBjeD0iMCIgY3k9IjEuMDQxIiByPSIxLjQ5MiIgZ3JhZGllbnRUcmFuc2Zvcm09InRyYW5zbGF0ZSgtMC42NTQgMC40MTMpIHJvdGF0ZSgtNDkuMzYpIiBncmFkaWVudFVuaXRzPSJvYmplY3RCb3VuZGluZ0JveCI+PHN0b3Agb2Zmc2V0PSIwIiBzdG9wLWNvbG9yPSIjMDlmIi8+PHN0b3Agb2Zmc2V0PSIwLjU4NCIgc3RvcC1jb2xvcj0iI2EwMzNmZiIvPjxzdG9wIG9mZnNldD0iMC44OTQiIHN0b3AtY29sb3I9IiNmZjUyODAiLz48c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNmZjcwNjEiLz48L3JhZGlhbEdyYWRpZW50PjxjbGlwUGF0aCBpZD0iYiI+PHJlY3QgY2xhc3M9ImEiIHdpZHRoPSI4OCIgaGVpZ2h0PSI4OCIgcng9IjgiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAuMDE1KSIvPjwvY2xpcFBhdGg+PC9kZWZzPjxnIGNsYXNzPSJiIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMC4wMTUpIj48ZyBjbGFzcz0iYyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNTYuMDE1IDMpIj48cmVjdCBjbGFzcz0iZSIgd2lkdGg9IjgxIiBoZWlnaHQ9IjgwIi8+PHJlY3QgY2xhc3M9ImYiIHg9IjguNSIgeT0iOC41IiB3aWR0aD0iNjQiIGhlaWdodD0iNjMiLz48L2c+PGcgY2xhc3M9ImMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC01My45ODUgMykiPjxlbGxpcHNlIGNsYXNzPSJlIiBjeD0iNDEiIGN5PSI0MS41IiByeD0iNDEiIHJ5PSI0MS41Ii8+PGVsbGlwc2UgY2xhc3M9ImYiIGN4PSI0MSIgY3k9IjQxLjUiIHJ4PSIzMi41IiByeT0iMzMiLz48L2c+PGcgY2xhc3M9ImQiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDM2LjAxNSA4LjM2MSkgcm90YXRlKDkwKSI+PHBhdGggY2xhc3M9ImUiIGQ9Ik0zNS42MzgsMCw3MS4yNzcsNjEuODE1SDBaIi8+PHBhdGggY2xhc3M9ImciIGQ9Ik0gMzUuNjM4NDIwMTA0OTgwNDcgMzQuMDM2MjY2MzI2OTA0MyBMIDI5LjQyMzk2OTI2ODc5ODgzIDQ0LjgxNTMxNTI0NjU4MjAzIEwgNDEuODUyODc0NzU1ODU5MzggNDQuODE1MzE1MjQ2NTgyMDMgTCAzNS42Mzg0MjAxMDQ5ODA0NyAzNC4wMzYyNjYzMjY5MDQzIE0gMzUuNjM4NDIwMTA0OTgwNDcgMCBMIDcxLjI3Njg0MDIwOTk2MDk0IDYxLjgxNTMxNTI0NjU4MjAzIEwgMCA2MS44MTUzMTUyNDY1ODIwMyBMIDM1LjYzODQyMDEwNDk4MDQ3IDAgWiIvPjwvZz48L2c+PC9zdmc+"},8744:e=>{e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iODgiIGhlaWdodD0iODgiIHZpZXdCb3g9IjAgMCA4OCA4OCI+PGRlZnM+PHN0eWxlPi5he2ZpbGw6dXJsKCNhKTt9LmJ7b3BhY2l0eTowLjMyO2NsaXAtcGF0aDp1cmwoI2IpO30uYywuZCwuZntmaWxsOm5vbmU7fS5je3N0cm9rZTojZmZmO3N0cm9rZS13aWR0aDoxN3B4O30uYywuZHtvcGFjaXR5OjAuMDg7fS5lLC5ne3N0cm9rZTpub25lO30uZ3tmaWxsOiNmZmY7fTwvc3R5bGU+PHJhZGlhbEdyYWRpZW50IGlkPSJhIiBjeD0iMCIgY3k9IjEuMDQxIiByPSIxLjQ5MiIgZ3JhZGllbnRUcmFuc2Zvcm09InRyYW5zbGF0ZSgtMC42NTQgMC40MTMpIHJvdGF0ZSgtNDkuMzYpIiBncmFkaWVudFVuaXRzPSJvYmplY3RCb3VuZGluZ0JveCI+PHN0b3Agb2Zmc2V0PSIwIiBzdG9wLWNvbG9yPSIjMDlmIi8+PHN0b3Agb2Zmc2V0PSIwLjU4NCIgc3RvcC1jb2xvcj0iI2EwMzNmZiIvPjxzdG9wIG9mZnNldD0iMC44OTQiIHN0b3AtY29sb3I9IiNmZjUyODAiLz48c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNmZjcwNjEiLz48L3JhZGlhbEdyYWRpZW50PjxjbGlwUGF0aCBpZD0iYiI+PHJlY3QgY2xhc3M9ImEiIHdpZHRoPSI4OCIgaGVpZ2h0PSI4OCIgcng9IjgiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAuMDE1KSIvPjwvY2xpcFBhdGg+PC9kZWZzPjxnIGNsYXNzPSJiIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMC4wMTUpIj48ZyBjbGFzcz0iYyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTMuMDE1IDMpIj48cmVjdCBjbGFzcz0iZSIgd2lkdGg9IjgxIiBoZWlnaHQ9IjgwIi8+PHJlY3QgY2xhc3M9ImYiIHg9IjguNSIgeT0iOC41IiB3aWR0aD0iNjQiIGhlaWdodD0iNjMiLz48L2c+PGcgY2xhc3M9ImMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDU4LjAxNSA1KSI+PGVsbGlwc2UgY2xhc3M9ImUiIGN4PSI0MSIgY3k9IjQxLjUiIHJ4PSI0MSIgcnk9IjQxLjUiLz48ZWxsaXBzZSBjbGFzcz0iZiIgY3g9IjQxIiBjeT0iNDEuNSIgcng9IjMyLjUiIHJ5PSIzMyIvPjwvZz48ZyBjbGFzcz0iZCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTI5LjkyMyAxMC44NjEpIHJvdGF0ZSg5MCkiPjxwYXRoIGNsYXNzPSJlIiBkPSJNMzUuNjM4LDAsNzEuMjc3LDYxLjgxNUgwWiIvPjxwYXRoIGNsYXNzPSJnIiBkPSJNIDM1LjYzODQyMDEwNDk4MDQ3IDM0LjAzNjI2NjMyNjkwNDMgTCAyOS40MjM5NjkyNjg3OTg4MyA0NC44MTUzMTUyNDY1ODIwMyBMIDQxLjg1Mjg3NDc1NTg1OTM4IDQ0LjgxNTMxNTI0NjU4MjAzIEwgMzUuNjM4NDIwMTA0OTgwNDcgMzQuMDM2MjY2MzI2OTA0MyBNIDM1LjYzODQyMDEwNDk4MDQ3IDAgTCA3MS4yNzY4NDAyMDk5NjA5NCA2MS44MTUzMTUyNDY1ODIwMyBMIDAgNjEuODE1MzE1MjQ2NTgyMDMgTCAzNS42Mzg0MjAxMDQ5ODA0NyAwIFoiLz48L2c+PC9nPjwvc3ZnPg=="},83054:e=>{e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iODgiIGhlaWdodD0iODgiIHZpZXdCb3g9IjAgMCA4OCA4OCI+PGRlZnM+PHN0eWxlPi5he2ZpbGw6dXJsKCNhKTt9LmJ7b3BhY2l0eTowLjMyO2NsaXAtcGF0aDp1cmwoI2IpO30uYywuZCwuZSwuZ3tmaWxsOm5vbmU7fS5jLC5ke3N0cm9rZTojZmZmO30uY3tzdHJva2Utd2lkdGg6MTdweDt9LmMsLmQsLmV7b3BhY2l0eTowLjA4O30uZHtzdHJva2Utd2lkdGg6MjNweDt9LmYsLmh7c3Ryb2tlOm5vbmU7fS5oe2ZpbGw6I2ZmZjt9PC9zdHlsZT48cmFkaWFsR3JhZGllbnQgaWQ9ImEiIGN4PSIwIiBjeT0iMS4wNDEiIHI9IjEuNDkyIiBncmFkaWVudFRyYW5zZm9ybT0idHJhbnNsYXRlKC0wLjY1NCAwLjQxMykgcm90YXRlKC00OS4zNikiIGdyYWRpZW50VW5pdHM9Im9iamVjdEJvdW5kaW5nQm94Ij48c3RvcCBvZmZzZXQ9IjAiIHN0b3AtY29sb3I9IiMwOWYiLz48c3RvcCBvZmZzZXQ9IjAuNTg0IiBzdG9wLWNvbG9yPSIjYTAzM2ZmIi8+PHN0b3Agb2Zmc2V0PSIwLjg5NCIgc3RvcC1jb2xvcj0iI2ZmNTI4MCIvPjxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iI2ZmNzA2MSIvPjwvcmFkaWFsR3JhZGllbnQ+PGNsaXBQYXRoIGlkPSJiIj48cmVjdCBjbGFzcz0iYSIgd2lkdGg9Ijg4IiBoZWlnaHQ9Ijg4IiByeD0iOCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMC4wMTUpIi8+PC9jbGlwUGF0aD48L2RlZnM+PGcgY2xhc3M9ImIiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0wLjAxNSkiPjxnIGNsYXNzPSJjIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg0LjAxNSA0KSI+PHJlY3QgY2xhc3M9ImYiIHdpZHRoPSI4MSIgaGVpZ2h0PSI4MCIvPjxyZWN0IGNsYXNzPSJnIiB4PSI4LjUiIHk9IjguNSIgd2lkdGg9IjY0IiBoZWlnaHQ9IjYzIi8+PC9nPjxnIGNsYXNzPSJkIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTA1Ljk4NSAtMjEpIj48ZWxsaXBzZSBjbGFzcz0iZiIgY3g9IjYzLjUiIGN5PSI2NC41IiByeD0iNjMuNSIgcnk9IjY0LjUiLz48ZWxsaXBzZSBjbGFzcz0iZyIgY3g9IjYzLjUiIGN5PSI2NC41IiByeD0iNTIiIHJ5PSI1MyIvPjwvZz48ZyBjbGFzcz0iZSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTM4LjkyMyA4LjM2MSkgcm90YXRlKDkwKSI+PHBhdGggY2xhc3M9ImYiIGQ9Ik0zNS42MzgsMCw3MS4yNzcsNjEuODE1SDBaIi8+PHBhdGggY2xhc3M9ImgiIGQ9Ik0gMzUuNjM4NDIwMTA0OTgwNDcgMzQuMDM2MjY2MzI2OTA0MyBMIDI5LjQyMzk2OTI2ODc5ODgzIDQ0LjgxNTMxNTI0NjU4MjAzIEwgNDEuODUyODc0NzU1ODU5MzggNDQuODE1MzE1MjQ2NTgyMDMgTCAzNS42Mzg0MjAxMDQ5ODA0NyAzNC4wMzYyNjYzMjY5MDQzIE0gMzUuNjM4NDIwMTA0OTgwNDcgMCBMIDcxLjI3Njg0MDIwOTk2MDk0IDYxLjgxNTMxNTI0NjU4MjAzIEwgMCA2MS44MTUzMTUyNDY1ODIwMyBMIDM1LjYzODQyMDEwNDk4MDQ3IDAgWiIvPjwvZz48L2c+PC9zdmc+"},56066:e=>{e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iODgiIGhlaWdodD0iODgiIHZpZXdCb3g9IjAgMCA4OCA4OCI+PGRlZnM+PHN0eWxlPi5he2ZpbGw6dXJsKCNhKTt9LmJ7b3BhY2l0eTowLjMyO2NsaXAtcGF0aDp1cmwoI2IpO30uYywuZCwuZSwuZ3tmaWxsOm5vbmU7fS5jLC5ke3N0cm9rZTojZmZmO30uY3tzdHJva2Utd2lkdGg6MzBweDt9LmMsLmQsLmV7b3BhY2l0eTowLjA4O30uZHtzdHJva2Utd2lkdGg6N3B4O30uZiwuaHtzdHJva2U6bm9uZTt9Lmh7ZmlsbDojZmZmO308L3N0eWxlPjxyYWRpYWxHcmFkaWVudCBpZD0iYSIgY3g9IjAiIGN5PSIxLjA0MSIgcj0iMS40OTIiIGdyYWRpZW50VHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTAuNjU0IDAuNDEzKSByb3RhdGUoLTQ5LjM2KSIgZ3JhZGllbnRVbml0cz0ib2JqZWN0Qm91bmRpbmdCb3giPjxzdG9wIG9mZnNldD0iMCIgc3RvcC1jb2xvcj0iIzA5ZiIvPjxzdG9wIG9mZnNldD0iMC41ODQiIHN0b3AtY29sb3I9IiNhMDMzZmYiLz48c3RvcCBvZmZzZXQ9IjAuODk0IiBzdG9wLWNvbG9yPSIjZmY1MjgwIi8+PHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjZmY3MDYxIi8+PC9yYWRpYWxHcmFkaWVudD48Y2xpcFBhdGggaWQ9ImIiPjxyZWN0IGNsYXNzPSJhIiB3aWR0aD0iODgiIGhlaWdodD0iODgiIHJ4PSI4IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLjAxNSkiLz48L2NsaXBQYXRoPjwvZGVmcz48ZyBjbGFzcz0iYiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTAuMDE1KSI+PGcgY2xhc3M9ImMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDMwLjAxNSAtMzgpIj48cmVjdCBjbGFzcz0iZiIgd2lkdGg9IjE4MiIgaGVpZ2h0PSIxODAiLz48cmVjdCBjbGFzcz0iZyIgeD0iMTUiIHk9IjE1IiB3aWR0aD0iMTUyIiBoZWlnaHQ9IjE1MCIvPjwvZz48ZyBjbGFzcz0iZCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMzAuMDE1IDI5KSI+PGVsbGlwc2UgY2xhc3M9ImYiIGN4PSIxNC41IiBjeT0iMTUiIHJ4PSIxNC41IiByeT0iMTUiLz48ZWxsaXBzZSBjbGFzcz0iZyIgY3g9IjE0LjUiIGN5PSIxNSIgcng9IjExIiByeT0iMTEuNSIvPjwvZz48ZyBjbGFzcz0iZSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNzUuMDE1IDYyLjk1OCkgcm90YXRlKDkwKSI+PHBhdGggY2xhc3M9ImYiIGQ9Ik0yOS4yNywwLDU4LjU0LDUwLjc3SDBaIi8+PHBhdGggY2xhc3M9ImgiIGQ9Ik0gMjkuMjcwMTcwMjExNzkxOTkgMjIuMDIzNDY0MjAyODgwODYgTCAxOS4wMzkwMzk2MTE4MTY0MSAzOS43Njk0OTY5MTc3MjQ2MSBMIDM5LjUwMTMwMDgxMTc2NzU4IDM5Ljc2OTQ5NjkxNzcyNDYxIEwgMjkuMjcwMTcwMjExNzkxOTkgMjIuMDIzNDY0MjAyODgwODYgTSAyOS4yNzAxNzAyMTE3OTE5OSAzLjgxNDY5NzI2NTYyNWUtMDYgTCA1OC41NDAzMzI3OTQxODk0NSA1MC43Njk0OTY5MTc3MjQ2MSBMIDcuNjI5Mzk0NTMxMjVlLTA2IDUwLjc2OTQ5NjkxNzcyNDYxIEwgMjkuMjcwMTcwMjExNzkxOTkgMy44MTQ2OTcyNjU2MjVlLTA2IFoiLz48L2c+PGcgY2xhc3M9ImUiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDc1LjAxNSAtMzUuMDQyKSByb3RhdGUoOTApIj48cGF0aCBjbGFzcz0iZiIgZD0iTTI5LjI3LDAsNTguNTQsNTAuNzdIMFoiLz48cGF0aCBjbGFzcz0iaCIgZD0iTSAyOS4yNzAxNzAyMTE3OTE5OSAyMi4wMjM0NjQyMDI4ODA4NiBMIDE5LjAzOTAzOTYxMTgxNjQxIDM5Ljc2OTQ5NjkxNzcyNDYxIEwgMzkuNTAxMzAwODExNzY3NTggMzkuNzY5NDk2OTE3NzI0NjEgTCAyOS4yNzAxNzAyMTE3OTE5OSAyMi4wMjM0NjQyMDI4ODA4NiBNIDI5LjI3MDE3MDIxMTc5MTk5IDMuODE0Njk3MjY1NjI1ZS0wNiBMIDU4LjU0MDMzMjc5NDE4OTQ1IDUwLjc2OTQ5NjkxNzcyNDYxIEwgNy42MjkzOTQ1MzEyNWUtMDYgNTAuNzY5NDk2OTE3NzI0NjEgTCAyOS4yNzAxNzAyMTE3OTE5OSAzLjgxNDY5NzI2NTYyNWUtMDYgWiIvPjwvZz48L2c+PC9zdmc+"},55990:e=>{e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iODgiIGhlaWdodD0iODgiIHZpZXdCb3g9IjAgMCA4OCA4OCI+PGRlZnM+PHN0eWxlPi5he2ZpbGw6dXJsKCNhKTt9LmJ7b3BhY2l0eTowLjMyO2NsaXAtcGF0aDp1cmwoI2IpO30uYywuZCwuZntmaWxsOm5vbmU7fS5je3N0cm9rZTojZmZmO3N0cm9rZS13aWR0aDoxN3B4O30uYywuZHtvcGFjaXR5OjAuMDg7fS5lLC5ne3N0cm9rZTpub25lO30uZ3tmaWxsOiNmZmY7fTwvc3R5bGU+PHJhZGlhbEdyYWRpZW50IGlkPSJhIiBjeD0iMCIgY3k9IjEuMDQxIiByPSIxLjQ5MiIgZ3JhZGllbnRUcmFuc2Zvcm09InRyYW5zbGF0ZSgtMC42NTQgMC40MTMpIHJvdGF0ZSgtNDkuMzYpIiBncmFkaWVudFVuaXRzPSJvYmplY3RCb3VuZGluZ0JveCI+PHN0b3Agb2Zmc2V0PSIwIiBzdG9wLWNvbG9yPSIjMDlmIi8+PHN0b3Agb2Zmc2V0PSIwLjU4NCIgc3RvcC1jb2xvcj0iI2EwMzNmZiIvPjxzdG9wIG9mZnNldD0iMC44OTQiIHN0b3AtY29sb3I9IiNmZjUyODAiLz48c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNmZjcwNjEiLz48L3JhZGlhbEdyYWRpZW50PjxjbGlwUGF0aCBpZD0iYiI+PHJlY3QgY2xhc3M9ImEiIHdpZHRoPSI4OCIgaGVpZ2h0PSI4OCIgcng9IjgiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAuMDE1KSIvPjwvY2xpcFBhdGg+PC9kZWZzPjxnIGNsYXNzPSJiIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMC4wMTUpIj48ZyBjbGFzcz0iYyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMC4wMTUgMykiPjxyZWN0IGNsYXNzPSJlIiB3aWR0aD0iODEiIGhlaWdodD0iODAiLz48cmVjdCBjbGFzcz0iZiIgeD0iOC41IiB5PSI4LjUiIHdpZHRoPSI2NCIgaGVpZ2h0PSI2MyIvPjwvZz48ZyBjbGFzcz0iYyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTcuOTg1IC0zNSkiPjxlbGxpcHNlIGNsYXNzPSJlIiBjeD0iNDEiIGN5PSI0MS41IiByeD0iNDEiIHJ5PSI0MS41Ii8+PGVsbGlwc2UgY2xhc3M9ImYiIGN4PSI0MSIgY3k9IjQxLjUiIHJ4PSIzMi41IiByeT0iMzMiLz48L2c+PGcgY2xhc3M9ImQiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDExOC45MjMgNjEuMzYxKSByb3RhdGUoOTApIj48cGF0aCBjbGFzcz0iZSIgZD0iTTM1LjYzOCwwLDcxLjI3Nyw2MS44MTVIMFoiLz48cGF0aCBjbGFzcz0iZyIgZD0iTSAzNS42Mzg0MjAxMDQ5ODA0NyAzNC4wMzYyNjYzMjY5MDQzIEwgMjkuNDIzOTY5MjY4Nzk4ODMgNDQuODE1MzE1MjQ2NTgyMDMgTCA0MS44NTI4NzQ3NTU4NTkzOCA0NC44MTUzMTUyNDY1ODIwMyBMIDM1LjYzODQyMDEwNDk4MDQ3IDM0LjAzNjI2NjMyNjkwNDMgTSAzNS42Mzg0MjAxMDQ5ODA0NyAwIEwgNzEuMjc2ODQwMjA5OTYwOTQgNjEuODE1MzE1MjQ2NTgyMDMgTCAwIDYxLjgxNTMxNTI0NjU4MjAzIEwgMzUuNjM4NDIwMTA0OTgwNDcgMCBaIi8+PC9nPjwvZz48L3N2Zz4="},87405:e=>{e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iODgiIGhlaWdodD0iODgiIHZpZXdCb3g9IjAgMCA4OCA4OCI+PGRlZnM+PHN0eWxlPi5he2ZpbGw6IzIyYWMxNDt9LmJ7b3BhY2l0eTowLjMyO2NsaXAtcGF0aDp1cmwoI2EpO30uYywuZCwuZSwuZ3tmaWxsOm5vbmU7fS5jLC5ke3N0cm9rZTojZmZmO30uY3tzdHJva2Utd2lkdGg6MTdweDt9LmMsLmQsLmV7b3BhY2l0eTowLjA4O30uZHtzdHJva2Utd2lkdGg6MjFweDt9LmYsLmh7c3Ryb2tlOm5vbmU7fS5oe2ZpbGw6I2ZmZjt9PC9zdHlsZT48Y2xpcFBhdGggaWQ9ImEiPjxyZWN0IGNsYXNzPSJhIiB3aWR0aD0iODgiIGhlaWdodD0iODgiIHJ4PSI4IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLjAxNSkiLz48L2NsaXBQYXRoPjwvZGVmcz48ZyBjbGFzcz0iYiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTAuMDE1KSI+PGcgY2xhc3M9ImMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0zLjk4NSAtNDQpIj48cmVjdCBjbGFzcz0iZiIgd2lkdGg9IjgxIiBoZWlnaHQ9IjgwIi8+PHJlY3QgY2xhc3M9ImciIHg9IjguNSIgeT0iOC41IiB3aWR0aD0iNjQiIGhlaWdodD0iNjMiLz48L2c+PGcgY2xhc3M9ImQiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDUzLjAxNSAtMjIpIj48ZWxsaXBzZSBjbGFzcz0iZiIgY3g9IjY1LjUiIGN5PSI2Ni41IiByeD0iNjUuNSIgcnk9IjY2LjUiLz48ZWxsaXBzZSBjbGFzcz0iZyIgY3g9IjY1LjUiIGN5PSI2Ni41IiByeD0iNTUiIHJ5PSI1NiIvPjwvZz48ZyBjbGFzcz0iZSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNDAuMDE1IDUyLjM2MSkgcm90YXRlKDkwKSI+PHBhdGggY2xhc3M9ImYiIGQ9Ik0xMS44MTksMCwyMy42MzgsMjAuNUgwWiIvPjxwYXRoIGNsYXNzPSJoIiBkPSJNIDExLjgxODg3ODE3MzgyODEzIDAgTCAyMy42Mzc3NTgyNTUwMDQ4OCAyMC41IEwgLTEuOTA3MzQ4NjMyODEyNWUtMDYgMjAuNSBMIDExLjgxODg3ODE3MzgyODEzIDAgWiIvPjwvZz48L2c+PC9zdmc+"},68211:()=>{}}]);